ARM GAS  /tmp/ccoG2CDz.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"esc_coe.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.init_coesdo,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	init_coesdo:
  26              	.LVL0:
  27              	.LFB9:
  28              		.file 1 "Lib/soes/src/esc_coe.c"
   1:Lib/soes/src/esc_coe.c **** /*
   2:Lib/soes/src/esc_coe.c ****  * Licensed under the GNU General Public License version 2 with exceptions. See
   3:Lib/soes/src/esc_coe.c ****  * LICENSE file in the project root for full license information
   4:Lib/soes/src/esc_coe.c ****  */
   5:Lib/soes/src/esc_coe.c **** 
   6:Lib/soes/src/esc_coe.c ****  /** \file
   7:Lib/soes/src/esc_coe.c ****  * \brief
   8:Lib/soes/src/esc_coe.c ****  * CAN over EtherCAT (CoE) module.
   9:Lib/soes/src/esc_coe.c ****  *
  10:Lib/soes/src/esc_coe.c ****  * SDO read / write and SDO service functions
  11:Lib/soes/src/esc_coe.c ****  */
  12:Lib/soes/src/esc_coe.c **** 
  13:Lib/soes/src/esc_coe.c **** #include <stdlib.h>
  14:Lib/soes/src/esc_coe.c **** #include <stddef.h>
  15:Lib/soes/src/esc_coe.c **** #include <stdbool.h>
  16:Lib/soes/src/esc_coe.c **** #include <string.h>
  17:Lib/soes/src/esc_coe.c **** #include <cc.h>
  18:Lib/soes/src/esc_coe.c **** #include "esc.h"
  19:Lib/soes/src/esc_coe.c **** #include "esc_coe.h"
  20:Lib/soes/src/esc_coe.c **** 
  21:Lib/soes/src/esc_coe.c **** #define BITS2BYTES(b) ((b + 7U) >> 3)
  22:Lib/soes/src/esc_coe.c **** #define BITSPOS2BYTESOFFSET(b) (b >> 3)
  23:Lib/soes/src/esc_coe.c **** 
  24:Lib/soes/src/esc_coe.c **** /* Fetch value from object dictionary */
  25:Lib/soes/src/esc_coe.c **** #define OBJ_VALUE_FETCH(v, o) \
  26:Lib/soes/src/esc_coe.c ****    ((o).data ? *(__typeof__ (v) *)(o).data : (__typeof__ (v))(o).value)
  27:Lib/soes/src/esc_coe.c **** 
  28:Lib/soes/src/esc_coe.c **** #define SDO_COMMAND(byte)         \
  29:Lib/soes/src/esc_coe.c ****    (byte & 0xe0)
  30:Lib/soes/src/esc_coe.c **** #define SDO_COMPLETE_ACCESS(byte) \
ARM GAS  /tmp/ccoG2CDz.s 			page 2


  31:Lib/soes/src/esc_coe.c ****    ((byte & COE_COMPLETEACCESS) == COE_COMPLETEACCESS)
  32:Lib/soes/src/esc_coe.c **** 
  33:Lib/soes/src/esc_coe.c **** #define READ_ACCESS(access, state) \
  34:Lib/soes/src/esc_coe.c ****       (((access & ATYPE_Rpre) && (state == ESCpreop))   || \
  35:Lib/soes/src/esc_coe.c ****        ((access & ATYPE_Rsafe) && (state == ESCsafeop)) || \
  36:Lib/soes/src/esc_coe.c ****        ((access & ATYPE_Rop) && (state == ESCop)))
  37:Lib/soes/src/esc_coe.c **** 
  38:Lib/soes/src/esc_coe.c **** #define WRITE_ACCESS(access, state) \
  39:Lib/soes/src/esc_coe.c ****       (((access & ATYPE_Wpre) && (state == ESCpreop))   || \
  40:Lib/soes/src/esc_coe.c ****        ((access & ATYPE_Wsafe) && (state == ESCsafeop)) || \
  41:Lib/soes/src/esc_coe.c ****        ((access & ATYPE_Wop) && (state == ESCop)))
  42:Lib/soes/src/esc_coe.c **** 
  43:Lib/soes/src/esc_coe.c **** typedef enum { UPLOAD, DOWNLOAD } load_t;
  44:Lib/soes/src/esc_coe.c **** 
  45:Lib/soes/src/esc_coe.c **** /** Search for an object sub-index.
  46:Lib/soes/src/esc_coe.c ****  *
  47:Lib/soes/src/esc_coe.c ****  * @param[in] nidx   = local array index of object we want to find sub-index to
  48:Lib/soes/src/esc_coe.c ****  * @param[in] subindex   = value on sub-index of object we want to locate
  49:Lib/soes/src/esc_coe.c ****  * @return local array index if we succeed, -1 if we didn't find the index.
  50:Lib/soes/src/esc_coe.c ****  */
  51:Lib/soes/src/esc_coe.c **** int16_t SDO_findsubindex (int32_t nidx, uint8_t subindex)
  52:Lib/soes/src/esc_coe.c **** {
  53:Lib/soes/src/esc_coe.c ****    const _objd *objd;
  54:Lib/soes/src/esc_coe.c ****    int16_t n = 0;
  55:Lib/soes/src/esc_coe.c ****    uint8_t maxsub;
  56:Lib/soes/src/esc_coe.c ****    objd = SDOobjects[nidx].objdesc;
  57:Lib/soes/src/esc_coe.c ****    maxsub = SDOobjects[nidx].maxsub;
  58:Lib/soes/src/esc_coe.c **** 
  59:Lib/soes/src/esc_coe.c ****    /* Since most objects contain all subindexes (i.e. are not sparse),
  60:Lib/soes/src/esc_coe.c ****     * check the most likely scenario first
  61:Lib/soes/src/esc_coe.c ****     */
  62:Lib/soes/src/esc_coe.c ****    if ((subindex <= maxsub) && ((objd + subindex)->subindex == subindex))
  63:Lib/soes/src/esc_coe.c ****    {
  64:Lib/soes/src/esc_coe.c ****       return subindex;
  65:Lib/soes/src/esc_coe.c ****    }
  66:Lib/soes/src/esc_coe.c **** 
  67:Lib/soes/src/esc_coe.c ****    while (((objd + n)->subindex < subindex) && (n < maxsub))
  68:Lib/soes/src/esc_coe.c ****    {
  69:Lib/soes/src/esc_coe.c ****       n++;
  70:Lib/soes/src/esc_coe.c ****    }
  71:Lib/soes/src/esc_coe.c ****    if ((objd + n)->subindex != subindex)
  72:Lib/soes/src/esc_coe.c ****    {
  73:Lib/soes/src/esc_coe.c ****       return -1;
  74:Lib/soes/src/esc_coe.c ****    }
  75:Lib/soes/src/esc_coe.c ****    return n;
  76:Lib/soes/src/esc_coe.c **** }
  77:Lib/soes/src/esc_coe.c **** 
  78:Lib/soes/src/esc_coe.c **** /** Search for an object index matching the wanted value in the Object List.
  79:Lib/soes/src/esc_coe.c ****  *
  80:Lib/soes/src/esc_coe.c ****  * @param[in] index   = value on index of object we want to locate
  81:Lib/soes/src/esc_coe.c ****  * @return local array index if we succeed, -1 if we didn't find the index.
  82:Lib/soes/src/esc_coe.c ****  */
  83:Lib/soes/src/esc_coe.c **** int32_t SDO_findobject (uint16_t index)
  84:Lib/soes/src/esc_coe.c **** {
  85:Lib/soes/src/esc_coe.c ****    int32_t n = 0;
  86:Lib/soes/src/esc_coe.c ****    while (SDOobjects[n].index < index)
  87:Lib/soes/src/esc_coe.c ****    {
ARM GAS  /tmp/ccoG2CDz.s 			page 3


  88:Lib/soes/src/esc_coe.c ****       n++;
  89:Lib/soes/src/esc_coe.c ****    }
  90:Lib/soes/src/esc_coe.c ****    if (SDOobjects[n].index != index)
  91:Lib/soes/src/esc_coe.c ****    {
  92:Lib/soes/src/esc_coe.c ****       return -1;
  93:Lib/soes/src/esc_coe.c ****    }
  94:Lib/soes/src/esc_coe.c ****    return n;
  95:Lib/soes/src/esc_coe.c **** }
  96:Lib/soes/src/esc_coe.c **** 
  97:Lib/soes/src/esc_coe.c **** /**
  98:Lib/soes/src/esc_coe.c ****  * Calculate the size in Bytes of RxPDO or TxPDOs by adding the
  99:Lib/soes/src/esc_coe.c ****  * objects in SyncManager SDO 1C1x.
 100:Lib/soes/src/esc_coe.c ****  *
 101:Lib/soes/src/esc_coe.c ****  * A list of mapped objects is created for fast lookup of
 102:Lib/soes/src/esc_coe.c ****  * dynamically mapped process data. The max size of the list (@a
 103:Lib/soes/src/esc_coe.c ****  * max_mappings) can be set to 0 if dynamic processdata is not
 104:Lib/soes/src/esc_coe.c ****  * supported.
 105:Lib/soes/src/esc_coe.c ****  *
 106:Lib/soes/src/esc_coe.c ****  * The output variable @a nmappings is set to 0 if dynamic processdata
 107:Lib/soes/src/esc_coe.c ****  * is not supported. It is set to the number of mapped objects if
 108:Lib/soes/src/esc_coe.c ****  * dynamic processdata is supported, or -1 if the mapping was
 109:Lib/soes/src/esc_coe.c ****  * incorrect.
 110:Lib/soes/src/esc_coe.c **** 
 111:Lib/soes/src/esc_coe.c ****  * @param[in] index = SM index
 112:Lib/soes/src/esc_coe.c ****  * @param[out] nmappings = number of mapped objects in SM, or -1 if
 113:Lib/soes/src/esc_coe.c ****  *   mapping is invalid
 114:Lib/soes/src/esc_coe.c ****  * @param[out] mappings = list of mapped objects in SM
 115:Lib/soes/src/esc_coe.c ****  * @param[out] max_mappings = max number of mapped objects in SM
 116:Lib/soes/src/esc_coe.c ****  * @return size of RxPDO or TxPDOs in Bytes.
 117:Lib/soes/src/esc_coe.c ****  */
 118:Lib/soes/src/esc_coe.c **** uint16_t sizeOfPDO (uint16_t index, int * nmappings, _SMmap * mappings,
 119:Lib/soes/src/esc_coe.c ****                     int max_mappings)
 120:Lib/soes/src/esc_coe.c **** {
 121:Lib/soes/src/esc_coe.c ****    uint32_t offset = 0;
 122:Lib/soes/src/esc_coe.c ****    uint16_t hobj;
 123:Lib/soes/src/esc_coe.c ****    uint8_t si, sic, c;
 124:Lib/soes/src/esc_coe.c ****    int32_t nidx;
 125:Lib/soes/src/esc_coe.c ****    const _objd *objd;
 126:Lib/soes/src/esc_coe.c ****    const _objd *objd1c1x;
 127:Lib/soes/src/esc_coe.c ****    int mapIx = 0;
 128:Lib/soes/src/esc_coe.c **** 
 129:Lib/soes/src/esc_coe.c ****    if ((index != RX_PDO_OBJIDX) && (index != TX_PDO_OBJIDX))
 130:Lib/soes/src/esc_coe.c ****    {
 131:Lib/soes/src/esc_coe.c ****       return 0;
 132:Lib/soes/src/esc_coe.c ****    }
 133:Lib/soes/src/esc_coe.c **** 
 134:Lib/soes/src/esc_coe.c ****    nidx = SDO_findobject (index);
 135:Lib/soes/src/esc_coe.c ****    if(nidx < 0)
 136:Lib/soes/src/esc_coe.c ****    {
 137:Lib/soes/src/esc_coe.c ****       return 0;
 138:Lib/soes/src/esc_coe.c ****    }
 139:Lib/soes/src/esc_coe.c **** 
 140:Lib/soes/src/esc_coe.c ****    objd1c1x = SDOobjects[nidx].objdesc;
 141:Lib/soes/src/esc_coe.c **** 
 142:Lib/soes/src/esc_coe.c ****    si = OBJ_VALUE_FETCH (si, objd1c1x[0]);
 143:Lib/soes/src/esc_coe.c ****    if (si)
 144:Lib/soes/src/esc_coe.c ****    {
ARM GAS  /tmp/ccoG2CDz.s 			page 4


 145:Lib/soes/src/esc_coe.c ****       for (sic = 1; sic <= si; sic++)
 146:Lib/soes/src/esc_coe.c ****       {
 147:Lib/soes/src/esc_coe.c ****          hobj = OBJ_VALUE_FETCH (hobj, objd1c1x[sic]);
 148:Lib/soes/src/esc_coe.c ****          nidx = SDO_findobject (hobj);
 149:Lib/soes/src/esc_coe.c ****          if (nidx >= 0)
 150:Lib/soes/src/esc_coe.c ****          {
 151:Lib/soes/src/esc_coe.c ****             uint8_t maxsub;
 152:Lib/soes/src/esc_coe.c **** 
 153:Lib/soes/src/esc_coe.c ****             objd = SDOobjects[nidx].objdesc;
 154:Lib/soes/src/esc_coe.c ****             maxsub = OBJ_VALUE_FETCH (maxsub, objd[0]);
 155:Lib/soes/src/esc_coe.c **** 
 156:Lib/soes/src/esc_coe.c ****             for (c = 1; c <= maxsub; c++)
 157:Lib/soes/src/esc_coe.c ****             {
 158:Lib/soes/src/esc_coe.c ****                uint32_t value = OBJ_VALUE_FETCH (value, objd[c]);
 159:Lib/soes/src/esc_coe.c ****                uint8_t bitlength = value & 0xFF;
 160:Lib/soes/src/esc_coe.c **** 
 161:Lib/soes/src/esc_coe.c ****                if (max_mappings > 0)
 162:Lib/soes/src/esc_coe.c ****                {
 163:Lib/soes/src/esc_coe.c ****                   uint16_t index = (uint16_t)(value >> 16);
 164:Lib/soes/src/esc_coe.c ****                   uint8_t subindex = (value >> 8) & 0xFF;
 165:Lib/soes/src/esc_coe.c ****                   const _objd * mapping;
 166:Lib/soes/src/esc_coe.c **** 
 167:Lib/soes/src/esc_coe.c ****                   if (mapIx == max_mappings)
 168:Lib/soes/src/esc_coe.c ****                   {
 169:Lib/soes/src/esc_coe.c ****                      /* Too many mapped objects */
 170:Lib/soes/src/esc_coe.c ****                      *nmappings = -1;
 171:Lib/soes/src/esc_coe.c ****                      return 0;
 172:Lib/soes/src/esc_coe.c ****                   }
 173:Lib/soes/src/esc_coe.c **** 
 174:Lib/soes/src/esc_coe.c ****                   DPRINT ("%04"PRIx32":%02"PRIx32" @ %"PRIu32"\n",
 175:Lib/soes/src/esc_coe.c ****                         index,
 176:Lib/soes/src/esc_coe.c ****                         subindex,
 177:Lib/soes/src/esc_coe.c ****                         offset);
 178:Lib/soes/src/esc_coe.c **** 
 179:Lib/soes/src/esc_coe.c ****                   if (index == 0 && subindex == 0)
 180:Lib/soes/src/esc_coe.c ****                   {
 181:Lib/soes/src/esc_coe.c ****                      /* Padding element */
 182:Lib/soes/src/esc_coe.c ****                      mapping = NULL;
 183:Lib/soes/src/esc_coe.c ****                   }
 184:Lib/soes/src/esc_coe.c ****                   else
 185:Lib/soes/src/esc_coe.c ****                   {
 186:Lib/soes/src/esc_coe.c ****                      nidx = SDO_findobject (index);
 187:Lib/soes/src/esc_coe.c ****                      if (nidx >= 0)
 188:Lib/soes/src/esc_coe.c ****                      {
 189:Lib/soes/src/esc_coe.c ****                         int16_t nsub;
 190:Lib/soes/src/esc_coe.c **** 
 191:Lib/soes/src/esc_coe.c ****                         nsub = SDO_findsubindex (nidx, subindex);
 192:Lib/soes/src/esc_coe.c ****                         if (nsub < 0)
 193:Lib/soes/src/esc_coe.c ****                         {
 194:Lib/soes/src/esc_coe.c ****                            /* Mapped subindex does not exist */
 195:Lib/soes/src/esc_coe.c ****                            *nmappings = -1;
 196:Lib/soes/src/esc_coe.c ****                            return 0;
 197:Lib/soes/src/esc_coe.c ****                         }
 198:Lib/soes/src/esc_coe.c **** 
 199:Lib/soes/src/esc_coe.c ****                         mapping = &SDOobjects[nidx].objdesc[nsub];
 200:Lib/soes/src/esc_coe.c ****                      }
 201:Lib/soes/src/esc_coe.c ****                      else
ARM GAS  /tmp/ccoG2CDz.s 			page 5


 202:Lib/soes/src/esc_coe.c ****                      {
 203:Lib/soes/src/esc_coe.c ****                         /* Mapped index does not exist */
 204:Lib/soes/src/esc_coe.c ****                         *nmappings = -1;
 205:Lib/soes/src/esc_coe.c ****                         return 0;
 206:Lib/soes/src/esc_coe.c ****                      }
 207:Lib/soes/src/esc_coe.c ****                   }
 208:Lib/soes/src/esc_coe.c **** 
 209:Lib/soes/src/esc_coe.c ****                   mappings[mapIx].obj = mapping;
 210:Lib/soes/src/esc_coe.c ****                   /* Save object list reference */
 211:Lib/soes/src/esc_coe.c ****                   if(mapping != NULL)
 212:Lib/soes/src/esc_coe.c ****                   {
 213:Lib/soes/src/esc_coe.c ****                      mappings[mapIx].objectlistitem = &SDOobjects[nidx];
 214:Lib/soes/src/esc_coe.c ****                   }
 215:Lib/soes/src/esc_coe.c ****                   else
 216:Lib/soes/src/esc_coe.c ****                   {
 217:Lib/soes/src/esc_coe.c ****                      mappings[mapIx].objectlistitem = NULL;
 218:Lib/soes/src/esc_coe.c ****                   }
 219:Lib/soes/src/esc_coe.c ****                   mappings[mapIx++].offset = offset;
 220:Lib/soes/src/esc_coe.c ****                }
 221:Lib/soes/src/esc_coe.c **** 
 222:Lib/soes/src/esc_coe.c ****                offset += bitlength;
 223:Lib/soes/src/esc_coe.c ****             }
 224:Lib/soes/src/esc_coe.c ****          }
 225:Lib/soes/src/esc_coe.c ****       }
 226:Lib/soes/src/esc_coe.c ****    }
 227:Lib/soes/src/esc_coe.c **** 
 228:Lib/soes/src/esc_coe.c ****    if (max_mappings > 0)
 229:Lib/soes/src/esc_coe.c ****    {
 230:Lib/soes/src/esc_coe.c ****       *nmappings = mapIx;
 231:Lib/soes/src/esc_coe.c ****    }
 232:Lib/soes/src/esc_coe.c ****    else
 233:Lib/soes/src/esc_coe.c ****    {
 234:Lib/soes/src/esc_coe.c ****       *nmappings = 0;
 235:Lib/soes/src/esc_coe.c ****    }
 236:Lib/soes/src/esc_coe.c **** 
 237:Lib/soes/src/esc_coe.c ****    return BITS2BYTES (offset) & 0xFFFF;
 238:Lib/soes/src/esc_coe.c **** }
 239:Lib/soes/src/esc_coe.c **** 
 240:Lib/soes/src/esc_coe.c **** /** Copy to mailbox.
 241:Lib/soes/src/esc_coe.c ****  *
 242:Lib/soes/src/esc_coe.c ****  * @param[in] source = pointer to source
 243:Lib/soes/src/esc_coe.c ****  * @param[in] dest   = pointer to destination
 244:Lib/soes/src/esc_coe.c ****  * @param[in] size   = Size to copy
 245:Lib/soes/src/esc_coe.c ****  */
 246:Lib/soes/src/esc_coe.c **** static void copy2mbx (void *source, void *dest, size_t size)
 247:Lib/soes/src/esc_coe.c **** {
 248:Lib/soes/src/esc_coe.c ****    memcpy (dest, source, size);
 249:Lib/soes/src/esc_coe.c **** }
 250:Lib/soes/src/esc_coe.c **** 
 251:Lib/soes/src/esc_coe.c **** /** Function for sending an SDO Abort reply.
 252:Lib/soes/src/esc_coe.c ****  *
 253:Lib/soes/src/esc_coe.c ****  * @param[in] reusembx   = mailbox buffer to use (if 0 then claim a new buffer)
 254:Lib/soes/src/esc_coe.c ****  * @param[in] index      = index of object causing abort reply
 255:Lib/soes/src/esc_coe.c ****  * @param[in] sub-index  = sub-index of object causing abort reply
 256:Lib/soes/src/esc_coe.c ****  * @param[in] abortcode  = abort code to send in reply
 257:Lib/soes/src/esc_coe.c ****  */
 258:Lib/soes/src/esc_coe.c **** static void SDO_abort (uint8_t reusembx, uint16_t index, uint8_t subindex, uint32_t abortcode)
ARM GAS  /tmp/ccoG2CDz.s 			page 6


 259:Lib/soes/src/esc_coe.c **** {
 260:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
 261:Lib/soes/src/esc_coe.c ****    _COEsdo *coeres;
 262:Lib/soes/src/esc_coe.c ****    if (reusembx)
 263:Lib/soes/src/esc_coe.c ****       MBXout = reusembx;
 264:Lib/soes/src/esc_coe.c ****    else
 265:Lib/soes/src/esc_coe.c ****       MBXout = ESC_claimbuffer ();
 266:Lib/soes/src/esc_coe.c ****    if (MBXout)
 267:Lib/soes/src/esc_coe.c ****    {
 268:Lib/soes/src/esc_coe.c ****       coeres = (_COEsdo *) &MBX[MBXout * ESC_MBXSIZE];
 269:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 270:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.mbxtype = MBXCOE;
 271:Lib/soes/src/esc_coe.c ****       coeres->coeheader.numberservice =
 272:Lib/soes/src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOREQUEST << 12));
 273:Lib/soes/src/esc_coe.c ****       coeres->index = htoes (index);
 274:Lib/soes/src/esc_coe.c ****       coeres->subindex = subindex;
 275:Lib/soes/src/esc_coe.c ****       coeres->command = COE_COMMAND_SDOABORT;
 276:Lib/soes/src/esc_coe.c ****       coeres->size = htoel (abortcode);
 277:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 278:Lib/soes/src/esc_coe.c ****    }
 279:Lib/soes/src/esc_coe.c **** }
 280:Lib/soes/src/esc_coe.c **** 
 281:Lib/soes/src/esc_coe.c **** static void set_state_idle (uint8_t reusembx,
 282:Lib/soes/src/esc_coe.c ****                            uint16_t index,
 283:Lib/soes/src/esc_coe.c ****                            uint8_t subindex,
 284:Lib/soes/src/esc_coe.c ****                            uint32_t abortcode)
 285:Lib/soes/src/esc_coe.c **** {
 286:Lib/soes/src/esc_coe.c ****    if (abortcode != 0)
 287:Lib/soes/src/esc_coe.c ****    {
 288:Lib/soes/src/esc_coe.c ****       SDO_abort (reusembx, index, subindex, abortcode);
 289:Lib/soes/src/esc_coe.c ****    }
 290:Lib/soes/src/esc_coe.c **** 
 291:Lib/soes/src/esc_coe.c ****    MBXcontrol[0].state = MBXstate_idle;
 292:Lib/soes/src/esc_coe.c ****    ESCvar.xoe = 0;
 293:Lib/soes/src/esc_coe.c **** }
 294:Lib/soes/src/esc_coe.c **** 
 295:Lib/soes/src/esc_coe.c **** /** Function for responding on requested SDO Upload, sending the content
 296:Lib/soes/src/esc_coe.c ****  *  requested in a free Mailbox buffer. Depending of size of data expedited,
 297:Lib/soes/src/esc_coe.c ****  *  normal or segmented transfer is used. On error an SDO Abort will be sent.
 298:Lib/soes/src/esc_coe.c ****  */
 299:Lib/soes/src/esc_coe.c **** static void SDO_upload (void)
 300:Lib/soes/src/esc_coe.c **** {
 301:Lib/soes/src/esc_coe.c ****    _COEsdo *coesdo, *coeres;
 302:Lib/soes/src/esc_coe.c ****    uint16_t index;
 303:Lib/soes/src/esc_coe.c ****    uint8_t subindex;
 304:Lib/soes/src/esc_coe.c ****    int32_t nidx;
 305:Lib/soes/src/esc_coe.c ****    int16_t nsub;
 306:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
 307:Lib/soes/src/esc_coe.c ****    uint32_t size;
 308:Lib/soes/src/esc_coe.c ****    uint8_t dss;
 309:Lib/soes/src/esc_coe.c ****    uint32_t abort = 1;
 310:Lib/soes/src/esc_coe.c ****    const _objd *objd;
 311:Lib/soes/src/esc_coe.c ****    coesdo = (_COEsdo *) &MBX[0];
 312:Lib/soes/src/esc_coe.c ****    index = etohs (coesdo->index);
 313:Lib/soes/src/esc_coe.c ****    subindex = coesdo->subindex;
 314:Lib/soes/src/esc_coe.c ****    nidx = SDO_findobject (index);
 315:Lib/soes/src/esc_coe.c ****    if (nidx >= 0)
ARM GAS  /tmp/ccoG2CDz.s 			page 7


 316:Lib/soes/src/esc_coe.c ****    {
 317:Lib/soes/src/esc_coe.c ****       nsub = SDO_findsubindex (nidx, subindex);
 318:Lib/soes/src/esc_coe.c ****       if (nsub >= 0)
 319:Lib/soes/src/esc_coe.c ****       {
 320:Lib/soes/src/esc_coe.c ****          objd = SDOobjects[nidx].objdesc;
 321:Lib/soes/src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 322:Lib/soes/src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 323:Lib/soes/src/esc_coe.c ****          if (!READ_ACCESS(access, state))
 324:Lib/soes/src/esc_coe.c ****          {
 325:Lib/soes/src/esc_coe.c ****             set_state_idle (0, index, subindex, ABORT_WRITEONLY);
 326:Lib/soes/src/esc_coe.c ****             return;
 327:Lib/soes/src/esc_coe.c ****          }
 328:Lib/soes/src/esc_coe.c ****          MBXout = ESC_claimbuffer ();
 329:Lib/soes/src/esc_coe.c ****          if (MBXout)
 330:Lib/soes/src/esc_coe.c ****          {
 331:Lib/soes/src/esc_coe.c ****             coeres = (_COEsdo *) &MBX[MBXout * ESC_MBXSIZE];
 332:Lib/soes/src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 333:Lib/soes/src/esc_coe.c ****             coeres->mbxheader.mbxtype = MBXCOE;
 334:Lib/soes/src/esc_coe.c ****             coeres->coeheader.numberservice =
 335:Lib/soes/src/esc_coe.c ****                htoes ((0 & 0x01f) | (COE_SDORESPONSE << 12));
 336:Lib/soes/src/esc_coe.c ****             size = (objd + nsub)->bitlength;
 337:Lib/soes/src/esc_coe.c ****             /* expedited bits used calculation */
 338:Lib/soes/src/esc_coe.c ****             dss = 0x0c;
 339:Lib/soes/src/esc_coe.c ****             if (size > 8)
 340:Lib/soes/src/esc_coe.c ****             {
 341:Lib/soes/src/esc_coe.c ****                dss = 0x08;
 342:Lib/soes/src/esc_coe.c ****             }
 343:Lib/soes/src/esc_coe.c ****             if (size > 16)
 344:Lib/soes/src/esc_coe.c ****             {
 345:Lib/soes/src/esc_coe.c ****                dss = 0x04;
 346:Lib/soes/src/esc_coe.c ****             }
 347:Lib/soes/src/esc_coe.c ****             if (size > 24)
 348:Lib/soes/src/esc_coe.c ****             {
 349:Lib/soes/src/esc_coe.c ****                dss = 0x00;
 350:Lib/soes/src/esc_coe.c ****             }
 351:Lib/soes/src/esc_coe.c ****             coeres->index = htoes (index);
 352:Lib/soes/src/esc_coe.c ****             coeres->subindex = subindex;
 353:Lib/soes/src/esc_coe.c ****             coeres->command = COE_COMMAND_UPLOADRESPONSE |
 354:Lib/soes/src/esc_coe.c ****                COE_SIZE_INDICATOR;
 355:Lib/soes/src/esc_coe.c ****             /* convert bits to bytes */
 356:Lib/soes/src/esc_coe.c ****             size = BITS2BYTES(size);
 357:Lib/soes/src/esc_coe.c ****             if (size <= 4)
 358:Lib/soes/src/esc_coe.c ****             {
 359:Lib/soes/src/esc_coe.c ****                /* expedited response i.e. length<=4 bytes */
 360:Lib/soes/src/esc_coe.c ****                coeres->command |= (COE_EXPEDITED_INDICATOR | dss);
 361:Lib/soes/src/esc_coe.c ****                void *dataptr = ((objd + nsub)->data) ?
 362:Lib/soes/src/esc_coe.c ****                      (objd + nsub)->data : (void *)&((objd + nsub)->value);
 363:Lib/soes/src/esc_coe.c ****                abort = ESC_upload_pre_objecthandler (index, subindex,
 364:Lib/soes/src/esc_coe.c ****                      dataptr, (size_t *)&size, (objd + nsub)->flags);
 365:Lib/soes/src/esc_coe.c ****                if (abort == 0)
 366:Lib/soes/src/esc_coe.c ****                {
 367:Lib/soes/src/esc_coe.c ****                   if ((objd + nsub)->data == NULL)
 368:Lib/soes/src/esc_coe.c ****                   {
 369:Lib/soes/src/esc_coe.c ****                      /* use constant value */
 370:Lib/soes/src/esc_coe.c ****                      coeres->size = htoel ((objd + nsub)->value);
 371:Lib/soes/src/esc_coe.c ****                   }
 372:Lib/soes/src/esc_coe.c ****                   else
ARM GAS  /tmp/ccoG2CDz.s 			page 8


 373:Lib/soes/src/esc_coe.c ****                   {
 374:Lib/soes/src/esc_coe.c ****                      /* use dynamic data */
 375:Lib/soes/src/esc_coe.c ****                      copy2mbx ((objd + nsub)->data, &(coeres->size), size);
 376:Lib/soes/src/esc_coe.c ****                   }
 377:Lib/soes/src/esc_coe.c ****                }
 378:Lib/soes/src/esc_coe.c ****                else
 379:Lib/soes/src/esc_coe.c ****                {
 380:Lib/soes/src/esc_coe.c ****                   set_state_idle (MBXout, index, subindex, abort);
 381:Lib/soes/src/esc_coe.c ****                   return;
 382:Lib/soes/src/esc_coe.c ****                }
 383:Lib/soes/src/esc_coe.c ****             }
 384:Lib/soes/src/esc_coe.c ****             else
 385:Lib/soes/src/esc_coe.c ****             {
 386:Lib/soes/src/esc_coe.c ****                /* normal response i.e. length>4 bytes */
 387:Lib/soes/src/esc_coe.c ****                abort = ESC_upload_pre_objecthandler (index, subindex,
 388:Lib/soes/src/esc_coe.c ****                      (objd + nsub)->data, (size_t *)&size, (objd + nsub)->flags);
 389:Lib/soes/src/esc_coe.c ****                if (abort == 0)
 390:Lib/soes/src/esc_coe.c ****                {
 391:Lib/soes/src/esc_coe.c ****                   /* set total size in bytes */
 392:Lib/soes/src/esc_coe.c ****                   ESCvar.frags = size;
 393:Lib/soes/src/esc_coe.c ****                   coeres->size = htoel (size);
 394:Lib/soes/src/esc_coe.c ****                   if ((size + COE_HEADERSIZE) > ESC_MBXDSIZE)
 395:Lib/soes/src/esc_coe.c ****                   {
 396:Lib/soes/src/esc_coe.c ****                      /* segmented transfer needed */
 397:Lib/soes/src/esc_coe.c ****                      /* limit to mailbox size */
 398:Lib/soes/src/esc_coe.c ****                      size = ESC_MBXDSIZE - COE_HEADERSIZE;
 399:Lib/soes/src/esc_coe.c ****                      /* number of bytes done */
 400:Lib/soes/src/esc_coe.c ****                      ESCvar.fragsleft = size;
 401:Lib/soes/src/esc_coe.c ****                      /* signal segmented transfer */
 402:Lib/soes/src/esc_coe.c ****                      ESCvar.segmented = MBXSEU;
 403:Lib/soes/src/esc_coe.c ****                      ESCvar.data = (objd + nsub)->data;
 404:Lib/soes/src/esc_coe.c ****                      ESCvar.flags = (objd + nsub)->flags;
 405:Lib/soes/src/esc_coe.c ****                   }
 406:Lib/soes/src/esc_coe.c ****                   else
 407:Lib/soes/src/esc_coe.c ****                   {
 408:Lib/soes/src/esc_coe.c ****                      ESCvar.segmented = 0;
 409:Lib/soes/src/esc_coe.c ****                   }
 410:Lib/soes/src/esc_coe.c ****                   coeres->mbxheader.length = htoes (COE_HEADERSIZE + size);
 411:Lib/soes/src/esc_coe.c **** 
 412:Lib/soes/src/esc_coe.c ****                   /* use dynamic data */
 413:Lib/soes/src/esc_coe.c ****                   copy2mbx ((objd + nsub)->data, (&(coeres->size)) + 1, size);
 414:Lib/soes/src/esc_coe.c ****                }
 415:Lib/soes/src/esc_coe.c ****                else
 416:Lib/soes/src/esc_coe.c ****                {
 417:Lib/soes/src/esc_coe.c ****                   set_state_idle (MBXout, index, subindex, abort);
 418:Lib/soes/src/esc_coe.c ****                   return;
 419:Lib/soes/src/esc_coe.c ****                }
 420:Lib/soes/src/esc_coe.c ****             }
 421:Lib/soes/src/esc_coe.c ****             if ((abort == 0) && (ESCvar.segmented == 0))
 422:Lib/soes/src/esc_coe.c ****             {
 423:Lib/soes/src/esc_coe.c ****                abort = ESC_upload_post_objecthandler (index, subindex,
 424:Lib/soes/src/esc_coe.c ****                                                       (objd + nsub)->flags);
 425:Lib/soes/src/esc_coe.c ****                if (abort != 0)
 426:Lib/soes/src/esc_coe.c ****                {
 427:Lib/soes/src/esc_coe.c ****                   set_state_idle (MBXout, index, subindex, abort);
 428:Lib/soes/src/esc_coe.c ****                   return;
 429:Lib/soes/src/esc_coe.c ****                }
ARM GAS  /tmp/ccoG2CDz.s 			page 9


 430:Lib/soes/src/esc_coe.c ****             }
 431:Lib/soes/src/esc_coe.c ****             MBXcontrol[MBXout].state = MBXstate_outreq;
 432:Lib/soes/src/esc_coe.c ****          }
 433:Lib/soes/src/esc_coe.c ****       }
 434:Lib/soes/src/esc_coe.c ****       else
 435:Lib/soes/src/esc_coe.c ****       {
 436:Lib/soes/src/esc_coe.c ****          SDO_abort (0, index, subindex, ABORT_NOSUBINDEX);
 437:Lib/soes/src/esc_coe.c ****       }
 438:Lib/soes/src/esc_coe.c ****    }
 439:Lib/soes/src/esc_coe.c ****    else
 440:Lib/soes/src/esc_coe.c ****    {
 441:Lib/soes/src/esc_coe.c ****       SDO_abort (0, index, subindex, ABORT_NOOBJECT);
 442:Lib/soes/src/esc_coe.c ****    }
 443:Lib/soes/src/esc_coe.c ****    MBXcontrol[0].state = MBXstate_idle;
 444:Lib/soes/src/esc_coe.c ****    ESCvar.xoe = 0;
 445:Lib/soes/src/esc_coe.c **** }
 446:Lib/soes/src/esc_coe.c **** 
 447:Lib/soes/src/esc_coe.c **** static uint32_t complete_access_get_variables(_COEsdo *coesdo, uint16_t *index,
 448:Lib/soes/src/esc_coe.c ****                                               uint8_t *subindex, int32_t *nidx,
 449:Lib/soes/src/esc_coe.c ****                                               int16_t *nsub)
 450:Lib/soes/src/esc_coe.c **** {
 451:Lib/soes/src/esc_coe.c ****    *index = etohs (coesdo->index);
 452:Lib/soes/src/esc_coe.c ****    *subindex = coesdo->subindex;
 453:Lib/soes/src/esc_coe.c **** 
 454:Lib/soes/src/esc_coe.c ****    /* A Complete Access must start with Subindex 0 or Subindex 1 */
 455:Lib/soes/src/esc_coe.c ****    if (*subindex > 1)
 456:Lib/soes/src/esc_coe.c ****    {
 457:Lib/soes/src/esc_coe.c ****       return ABORT_UNSUPPORTED;
 458:Lib/soes/src/esc_coe.c ****    }
 459:Lib/soes/src/esc_coe.c **** 
 460:Lib/soes/src/esc_coe.c ****    *nidx = SDO_findobject (*index);
 461:Lib/soes/src/esc_coe.c ****    if (*nidx < 0)
 462:Lib/soes/src/esc_coe.c ****    {
 463:Lib/soes/src/esc_coe.c ****       return ABORT_NOOBJECT;
 464:Lib/soes/src/esc_coe.c ****    }
 465:Lib/soes/src/esc_coe.c **** 
 466:Lib/soes/src/esc_coe.c ****    *nsub = SDO_findsubindex (*nidx, *subindex);
 467:Lib/soes/src/esc_coe.c ****    if (*nsub < 0)
 468:Lib/soes/src/esc_coe.c ****    {
 469:Lib/soes/src/esc_coe.c ****       return ABORT_NOSUBINDEX;
 470:Lib/soes/src/esc_coe.c ****    }
 471:Lib/soes/src/esc_coe.c **** 
 472:Lib/soes/src/esc_coe.c ****    return 0;
 473:Lib/soes/src/esc_coe.c **** }
 474:Lib/soes/src/esc_coe.c **** 
 475:Lib/soes/src/esc_coe.c **** static uint32_t complete_access_subindex_loop(const _objd *objd,
 476:Lib/soes/src/esc_coe.c ****                                               int32_t nidx,
 477:Lib/soes/src/esc_coe.c ****                                               int16_t nsub,
 478:Lib/soes/src/esc_coe.c ****                                               uint8_t *mbxdata,
 479:Lib/soes/src/esc_coe.c ****                                               load_t load_type,
 480:Lib/soes/src/esc_coe.c ****                                               uint32_t max_bytes)
 481:Lib/soes/src/esc_coe.c **** {
 482:Lib/soes/src/esc_coe.c ****    /* Objects with dynamic entries cannot be accessed with Complete Access */
 483:Lib/soes/src/esc_coe.c ****    if ((objd->datatype == DTYPE_VISIBLE_STRING) ||
 484:Lib/soes/src/esc_coe.c ****        (objd->datatype == DTYPE_OCTET_STRING)   ||
 485:Lib/soes/src/esc_coe.c ****        (objd->datatype == DTYPE_UNICODE_STRING))
 486:Lib/soes/src/esc_coe.c ****    {
ARM GAS  /tmp/ccoG2CDz.s 			page 10


 487:Lib/soes/src/esc_coe.c ****       return ABORT_CA_NOT_SUPPORTED;
 488:Lib/soes/src/esc_coe.c ****    }
 489:Lib/soes/src/esc_coe.c **** 
 490:Lib/soes/src/esc_coe.c ****    uint32_t size = 0;
 491:Lib/soes/src/esc_coe.c **** 
 492:Lib/soes/src/esc_coe.c ****    /* Clear padded mbxdata byte [1] on upload */
 493:Lib/soes/src/esc_coe.c ****    if ((load_type == UPLOAD) && (mbxdata != NULL))
 494:Lib/soes/src/esc_coe.c ****    {
 495:Lib/soes/src/esc_coe.c ****       mbxdata[1] = 0;
 496:Lib/soes/src/esc_coe.c ****    }
 497:Lib/soes/src/esc_coe.c **** 
 498:Lib/soes/src/esc_coe.c ****    while (nsub <= SDOobjects[nidx].maxsub)
 499:Lib/soes/src/esc_coe.c ****    {
 500:Lib/soes/src/esc_coe.c ****       uint16_t bitlen = (objd + nsub)->bitlength;
 501:Lib/soes/src/esc_coe.c ****       void *ul_source = ((objd + nsub)->data != NULL) ?
 502:Lib/soes/src/esc_coe.c ****             (objd + nsub)->data : (void *)&((objd + nsub)->value);
 503:Lib/soes/src/esc_coe.c ****       uint8_t bitoffset = size % 8;
 504:Lib/soes/src/esc_coe.c ****       uint8_t access = (objd + nsub)->flags & 0x3f;
 505:Lib/soes/src/esc_coe.c ****       uint8_t state = ESCvar.ALstatus & 0x0f;
 506:Lib/soes/src/esc_coe.c **** 
 507:Lib/soes/src/esc_coe.c ****       if ((bitlen % 8) == 0)
 508:Lib/soes/src/esc_coe.c ****       {
 509:Lib/soes/src/esc_coe.c ****          if (bitoffset != 0)
 510:Lib/soes/src/esc_coe.c ****          {
 511:Lib/soes/src/esc_coe.c ****             /* move on to next byte boundary */
 512:Lib/soes/src/esc_coe.c ****             size += (8U - bitoffset);
 513:Lib/soes/src/esc_coe.c ****          }
 514:Lib/soes/src/esc_coe.c ****          if (mbxdata != NULL)
 515:Lib/soes/src/esc_coe.c ****          {
 516:Lib/soes/src/esc_coe.c ****             /* copy a non-bit data type to a byte boundary */
 517:Lib/soes/src/esc_coe.c ****             if (load_type == UPLOAD)
 518:Lib/soes/src/esc_coe.c ****             {
 519:Lib/soes/src/esc_coe.c ****                if (READ_ACCESS(access, state))
 520:Lib/soes/src/esc_coe.c ****                {
 521:Lib/soes/src/esc_coe.c ****                   memcpy(&mbxdata[BITS2BYTES(size)], ul_source,
 522:Lib/soes/src/esc_coe.c ****                         BITS2BYTES(bitlen));
 523:Lib/soes/src/esc_coe.c ****                }
 524:Lib/soes/src/esc_coe.c ****                else
 525:Lib/soes/src/esc_coe.c ****                {
 526:Lib/soes/src/esc_coe.c ****                   /* return zeroes for upload of WO objects */
 527:Lib/soes/src/esc_coe.c ****                   memset(&mbxdata[BITS2BYTES(size)], 0, BITS2BYTES(bitlen));
 528:Lib/soes/src/esc_coe.c ****                }
 529:Lib/soes/src/esc_coe.c ****             }
 530:Lib/soes/src/esc_coe.c ****             /* download of RO objects shall be ignored */
 531:Lib/soes/src/esc_coe.c ****             else if (WRITE_ACCESS(access, state))
 532:Lib/soes/src/esc_coe.c ****             {
 533:Lib/soes/src/esc_coe.c ****                memcpy((objd + nsub)->data, &mbxdata[BITS2BYTES(size)],
 534:Lib/soes/src/esc_coe.c ****                      BITS2BYTES(bitlen));
 535:Lib/soes/src/esc_coe.c ****             }
 536:Lib/soes/src/esc_coe.c ****          }
 537:Lib/soes/src/esc_coe.c ****       }
 538:Lib/soes/src/esc_coe.c ****       else if ((load_type == UPLOAD) && (mbxdata != NULL))
 539:Lib/soes/src/esc_coe.c ****       {
 540:Lib/soes/src/esc_coe.c ****          /* copy a bit data type into correct position */
 541:Lib/soes/src/esc_coe.c ****          uint32_t bitmask = (1U << bitlen) - 1U;
 542:Lib/soes/src/esc_coe.c ****          uint32_t tempmask;
 543:Lib/soes/src/esc_coe.c ****          if (READ_ACCESS(access, state))
ARM GAS  /tmp/ccoG2CDz.s 			page 11


 544:Lib/soes/src/esc_coe.c ****          {
 545:Lib/soes/src/esc_coe.c ****             if (bitoffset == 0)
 546:Lib/soes/src/esc_coe.c ****             {
 547:Lib/soes/src/esc_coe.c ****                mbxdata[BITSPOS2BYTESOFFSET(size)] = 0;
 548:Lib/soes/src/esc_coe.c ****             }
 549:Lib/soes/src/esc_coe.c ****             tempmask = (*(uint8_t *)ul_source & bitmask) << bitoffset;
 550:Lib/soes/src/esc_coe.c ****             mbxdata[BITSPOS2BYTESOFFSET(size)] |= (uint8_t)tempmask;
 551:Lib/soes/src/esc_coe.c ****          }
 552:Lib/soes/src/esc_coe.c ****          else
 553:Lib/soes/src/esc_coe.c ****          {
 554:Lib/soes/src/esc_coe.c ****             tempmask = ~(bitmask << bitoffset);
 555:Lib/soes/src/esc_coe.c ****             mbxdata[BITSPOS2BYTESOFFSET(size)] &= (uint8_t)tempmask;
 556:Lib/soes/src/esc_coe.c ****          }
 557:Lib/soes/src/esc_coe.c ****       }
 558:Lib/soes/src/esc_coe.c **** 
 559:Lib/soes/src/esc_coe.c ****       /* Subindex 0 is padded to 16 bit */
 560:Lib/soes/src/esc_coe.c ****       size += (nsub == 0) ? 16 : bitlen;
 561:Lib/soes/src/esc_coe.c ****       nsub++;
 562:Lib/soes/src/esc_coe.c **** 
 563:Lib/soes/src/esc_coe.c ****       if ((max_bytes > 0) && (BITS2BYTES(size) >= max_bytes))
 564:Lib/soes/src/esc_coe.c ****       {
 565:Lib/soes/src/esc_coe.c ****          break;
 566:Lib/soes/src/esc_coe.c ****       }
 567:Lib/soes/src/esc_coe.c ****    }
 568:Lib/soes/src/esc_coe.c **** 
 569:Lib/soes/src/esc_coe.c ****    return size;
 570:Lib/soes/src/esc_coe.c **** }
 571:Lib/soes/src/esc_coe.c **** 
 572:Lib/soes/src/esc_coe.c **** static void init_coesdo(_COEsdo *coesdo,
 573:Lib/soes/src/esc_coe.c ****                         uint8_t sdoservice,
 574:Lib/soes/src/esc_coe.c ****                         uint8_t command,
 575:Lib/soes/src/esc_coe.c ****                         uint16_t index,
 576:Lib/soes/src/esc_coe.c ****                         uint8_t subindex)
 577:Lib/soes/src/esc_coe.c **** {
  29              		.loc 1 577 1 view -0
  30              		.cfi_startproc
  31              		@ args = 4, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 577 1 is_stmt 0 view .LVU1
  34 0000 00B5     		push	{lr}
  35              		.cfi_def_cfa_offset 4
  36              		.cfi_offset 14, -4
 578:Lib/soes/src/esc_coe.c ****    coesdo->mbxheader.length = htoes(COE_DEFAULTLENGTH);
  37              		.loc 1 578 4 is_stmt 1 view .LVU2
  38              		.loc 1 578 29 is_stmt 0 view .LVU3
  39 0002 4FF00A0C 		mov	ip, #10
  40 0006 A0F800C0 		strh	ip, [r0]	@ movhi
 579:Lib/soes/src/esc_coe.c ****    coesdo->mbxheader.mbxtype = MBXCOE;
  41              		.loc 1 579 4 is_stmt 1 view .LVU4
  42              		.loc 1 579 30 is_stmt 0 view .LVU5
  43 000a 90F805C0 		ldrb	ip, [r0, #5]	@ zero_extendqisi2
  44 000e 4FF0030E 		mov	lr, #3
  45 0012 6EF3030C 		bfi	ip, lr, #0, #4
  46 0016 80F805C0 		strb	ip, [r0, #5]
  47              	.LVL1:
 580:Lib/soes/src/esc_coe.c ****    coesdo->coeheader.numberservice = htoes(sdoservice << 12);
  48              		.loc 1 580 4 is_stmt 1 view .LVU6
ARM GAS  /tmp/ccoG2CDz.s 			page 12


  49              		.loc 1 580 38 is_stmt 0 view .LVU7
  50 001a 0903     		lsls	r1, r1, #12
  51              	.LVL2:
  52              		.loc 1 580 36 view .LVU8
  53 001c C180     		strh	r1, [r0, #6]	@ movhi
 581:Lib/soes/src/esc_coe.c ****    coesdo->command = command;
  54              		.loc 1 581 4 is_stmt 1 view .LVU9
  55              		.loc 1 581 20 is_stmt 0 view .LVU10
  56 001e 0272     		strb	r2, [r0, #8]
 582:Lib/soes/src/esc_coe.c ****    coesdo->index = htoes(index);
  57              		.loc 1 582 4 is_stmt 1 view .LVU11
  58              		.loc 1 582 18 is_stmt 0 view .LVU12
  59 0020 A0F80930 		strh	r3, [r0, #9]	@ unaligned
 583:Lib/soes/src/esc_coe.c ****    coesdo->subindex = subindex;
  60              		.loc 1 583 4 is_stmt 1 view .LVU13
  61              		.loc 1 583 21 is_stmt 0 view .LVU14
  62 0024 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
  63              	.LVL3:
  64              		.loc 1 583 21 view .LVU15
  65 0028 C372     		strb	r3, [r0, #11]
 584:Lib/soes/src/esc_coe.c **** }
  66              		.loc 1 584 1 view .LVU16
  67 002a 5DF804FB 		ldr	pc, [sp], #4
  68              		.cfi_endproc
  69              	.LFE9:
  71              		.section	.text.COE_bitsliceGet,"ax",%progbits
  72              		.align	1
  73              		.syntax unified
  74              		.thumb
  75              		.thumb_func
  76              		.fpu fpv4-sp-d16
  78              	COE_bitsliceGet:
  79              	.LVL4:
  80              	.LFB21:
 585:Lib/soes/src/esc_coe.c **** 
 586:Lib/soes/src/esc_coe.c **** /** Function for responding on requested SDO Upload with Complete Access,
 587:Lib/soes/src/esc_coe.c ****  *  sending the content requested in a free Mailbox buffer. Depending of
 588:Lib/soes/src/esc_coe.c ****  *  size of data expedited, normal or segmented transfer is used.
 589:Lib/soes/src/esc_coe.c ****  *  On error an SDO Abort will be sent.
 590:Lib/soes/src/esc_coe.c ****  */
 591:Lib/soes/src/esc_coe.c **** static void SDO_upload_complete_access (void)
 592:Lib/soes/src/esc_coe.c **** {
 593:Lib/soes/src/esc_coe.c ****    _COEsdo *coesdo = (_COEsdo *) &MBX[0];
 594:Lib/soes/src/esc_coe.c ****    uint16_t index;
 595:Lib/soes/src/esc_coe.c ****    uint8_t subindex;
 596:Lib/soes/src/esc_coe.c ****    int32_t nidx;
 597:Lib/soes/src/esc_coe.c ****    int16_t nsub;
 598:Lib/soes/src/esc_coe.c ****    uint32_t abortcode = complete_access_get_variables
 599:Lib/soes/src/esc_coe.c ****                            (coesdo, &index, &subindex, &nidx, &nsub);
 600:Lib/soes/src/esc_coe.c ****    if (abortcode != 0)
 601:Lib/soes/src/esc_coe.c ****    {
 602:Lib/soes/src/esc_coe.c ****       set_state_idle (0, index, subindex, abortcode);
 603:Lib/soes/src/esc_coe.c ****       return;
 604:Lib/soes/src/esc_coe.c ****    }
 605:Lib/soes/src/esc_coe.c **** 
 606:Lib/soes/src/esc_coe.c ****    uint8_t MBXout = ESC_claimbuffer ();
 607:Lib/soes/src/esc_coe.c ****    if (MBXout == 0)
ARM GAS  /tmp/ccoG2CDz.s 			page 13


 608:Lib/soes/src/esc_coe.c ****    {
 609:Lib/soes/src/esc_coe.c ****       /* It is a bad idea to call SDO_abort when ESC_claimbuffer fails,
 610:Lib/soes/src/esc_coe.c ****        * because SDO_abort will also call ESC_claimbuffer ...
 611:Lib/soes/src/esc_coe.c ****        */
 612:Lib/soes/src/esc_coe.c ****       set_state_idle (0, index, subindex, 0);
 613:Lib/soes/src/esc_coe.c ****       return;
 614:Lib/soes/src/esc_coe.c ****    }
 615:Lib/soes/src/esc_coe.c **** 
 616:Lib/soes/src/esc_coe.c ****    const _objd *objd = SDOobjects[nidx].objdesc;
 617:Lib/soes/src/esc_coe.c **** 
 618:Lib/soes/src/esc_coe.c ****    /* loop through the subindexes to get the total size */
 619:Lib/soes/src/esc_coe.c ****    uint32_t size = complete_access_subindex_loop(objd, nidx, nsub, NULL, UPLOAD, 0);
 620:Lib/soes/src/esc_coe.c **** 
 621:Lib/soes/src/esc_coe.c ****    /* expedited bits used calculation */
 622:Lib/soes/src/esc_coe.c ****    uint8_t dss = (size > 24) ? 0 : (uint8_t)(4U * (3U - ((size - 1U) >> 3)));
 623:Lib/soes/src/esc_coe.c **** 
 624:Lib/soes/src/esc_coe.c ****    /* convert bits to bytes */
 625:Lib/soes/src/esc_coe.c ****    size = BITS2BYTES(size);
 626:Lib/soes/src/esc_coe.c **** 
 627:Lib/soes/src/esc_coe.c ****    if (size > 0xffff)
 628:Lib/soes/src/esc_coe.c ****    {
 629:Lib/soes/src/esc_coe.c ****       /* 'size' is in this case actually an abort code */
 630:Lib/soes/src/esc_coe.c ****       set_state_idle (MBXout, index, subindex, size);
 631:Lib/soes/src/esc_coe.c ****       return;
 632:Lib/soes/src/esc_coe.c ****    }
 633:Lib/soes/src/esc_coe.c **** 
 634:Lib/soes/src/esc_coe.c ****    /* check that upload data fits in the preallocated buffer */
 635:Lib/soes/src/esc_coe.c ****    if ((size + PREALLOC_FACTOR * COE_HEADERSIZE) > PREALLOC_BUFFER_SIZE)
 636:Lib/soes/src/esc_coe.c ****    {
 637:Lib/soes/src/esc_coe.c ****       set_state_idle (MBXout, index, subindex, ABORT_CA_NOT_SUPPORTED);
 638:Lib/soes/src/esc_coe.c ****       return;
 639:Lib/soes/src/esc_coe.c ****    }
 640:Lib/soes/src/esc_coe.c ****    abortcode = ESC_upload_pre_objecthandler(index, subindex,
 641:Lib/soes/src/esc_coe.c ****          objd->data, (size_t *)&size, objd->flags | COMPLETE_ACCESS_FLAG);
 642:Lib/soes/src/esc_coe.c ****    if (abortcode != 0)
 643:Lib/soes/src/esc_coe.c ****    {
 644:Lib/soes/src/esc_coe.c ****       set_state_idle (MBXout, index, subindex, abortcode);
 645:Lib/soes/src/esc_coe.c ****       return;
 646:Lib/soes/src/esc_coe.c ****    }
 647:Lib/soes/src/esc_coe.c **** 
 648:Lib/soes/src/esc_coe.c ****    /* copy subindex data into the preallocated buffer */
 649:Lib/soes/src/esc_coe.c ****    complete_access_subindex_loop(objd, nidx, nsub, ESCvar.mbxdata, UPLOAD, 0);
 650:Lib/soes/src/esc_coe.c **** 
 651:Lib/soes/src/esc_coe.c ****    _COEsdo *coeres = (_COEsdo *) &MBX[MBXout * ESC_MBXSIZE];
 652:Lib/soes/src/esc_coe.c ****    init_coesdo(coeres, COE_SDORESPONSE,
 653:Lib/soes/src/esc_coe.c ****          COE_COMMAND_UPLOADRESPONSE | COE_COMPLETEACCESS | COE_SIZE_INDICATOR,
 654:Lib/soes/src/esc_coe.c ****          index, subindex);
 655:Lib/soes/src/esc_coe.c **** 
 656:Lib/soes/src/esc_coe.c ****    ESCvar.segmented = 0;
 657:Lib/soes/src/esc_coe.c **** 
 658:Lib/soes/src/esc_coe.c ****    if (size <= 4)
 659:Lib/soes/src/esc_coe.c ****    {
 660:Lib/soes/src/esc_coe.c ****       /* expedited response, i.e. length <= 4 bytes */
 661:Lib/soes/src/esc_coe.c ****       coeres->command |= (COE_EXPEDITED_INDICATOR | dss);
 662:Lib/soes/src/esc_coe.c ****       memcpy(&(coeres->size), ESCvar.mbxdata, size);
 663:Lib/soes/src/esc_coe.c ****    }
 664:Lib/soes/src/esc_coe.c ****    else
ARM GAS  /tmp/ccoG2CDz.s 			page 14


 665:Lib/soes/src/esc_coe.c ****    {
 666:Lib/soes/src/esc_coe.c ****       /* normal response, i.e. length > 4 bytes */
 667:Lib/soes/src/esc_coe.c ****       coeres->size = htoel (size);
 668:Lib/soes/src/esc_coe.c **** 
 669:Lib/soes/src/esc_coe.c ****       if ((size + COE_HEADERSIZE) > ESC_MBXDSIZE)
 670:Lib/soes/src/esc_coe.c ****       {
 671:Lib/soes/src/esc_coe.c ****          /* segmented transfer needed */
 672:Lib/soes/src/esc_coe.c ****          /* set total size in bytes */
 673:Lib/soes/src/esc_coe.c ****          ESCvar.frags = size;
 674:Lib/soes/src/esc_coe.c ****          /* limit to mailbox size */
 675:Lib/soes/src/esc_coe.c ****          size = ESC_MBXDSIZE - COE_HEADERSIZE;
 676:Lib/soes/src/esc_coe.c ****          /* number of bytes done */
 677:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft = size;
 678:Lib/soes/src/esc_coe.c ****          /* signal segmented transfer */
 679:Lib/soes/src/esc_coe.c ****          ESCvar.segmented = MBXSEU;
 680:Lib/soes/src/esc_coe.c ****          ESCvar.data = ESCvar.mbxdata;
 681:Lib/soes/src/esc_coe.c ****          ESCvar.flags = COMPLETE_ACCESS_FLAG;
 682:Lib/soes/src/esc_coe.c ****       }
 683:Lib/soes/src/esc_coe.c **** 
 684:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_HEADERSIZE + size);
 685:Lib/soes/src/esc_coe.c ****       memcpy((&(coeres->size)) + 1, ESCvar.mbxdata, size);
 686:Lib/soes/src/esc_coe.c ****    }
 687:Lib/soes/src/esc_coe.c **** 
 688:Lib/soes/src/esc_coe.c ****    if (ESCvar.segmented == 0)
 689:Lib/soes/src/esc_coe.c ****    {
 690:Lib/soes/src/esc_coe.c ****       abortcode = ESC_upload_post_objecthandler (index, subindex,
 691:Lib/soes/src/esc_coe.c ****             objd->flags | COMPLETE_ACCESS_FLAG);
 692:Lib/soes/src/esc_coe.c **** 
 693:Lib/soes/src/esc_coe.c ****       if (abortcode != 0)
 694:Lib/soes/src/esc_coe.c ****       {
 695:Lib/soes/src/esc_coe.c ****          set_state_idle (MBXout, index, subindex, abortcode);
 696:Lib/soes/src/esc_coe.c ****          return;
 697:Lib/soes/src/esc_coe.c ****       }
 698:Lib/soes/src/esc_coe.c ****    }
 699:Lib/soes/src/esc_coe.c **** 
 700:Lib/soes/src/esc_coe.c ****    MBXcontrol[MBXout].state = MBXstate_outreq;
 701:Lib/soes/src/esc_coe.c **** 
 702:Lib/soes/src/esc_coe.c ****    set_state_idle (MBXout, index, subindex, 0);
 703:Lib/soes/src/esc_coe.c **** }
 704:Lib/soes/src/esc_coe.c **** 
 705:Lib/soes/src/esc_coe.c **** /** Function for handling the following SDO Upload if previous SDOUpload
 706:Lib/soes/src/esc_coe.c ****  * response was flagged it needed to be segmented.
 707:Lib/soes/src/esc_coe.c ****  */
 708:Lib/soes/src/esc_coe.c **** static void SDO_uploadsegment (void)
 709:Lib/soes/src/esc_coe.c **** {
 710:Lib/soes/src/esc_coe.c ****    _COEsdo *coesdo, *coeres;
 711:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
 712:Lib/soes/src/esc_coe.c ****    uint32_t size, offset, abort;
 713:Lib/soes/src/esc_coe.c ****    coesdo = (_COEsdo *) &MBX[0];
 714:Lib/soes/src/esc_coe.c ****    MBXout = ESC_claimbuffer ();
 715:Lib/soes/src/esc_coe.c ****    if (MBXout)
 716:Lib/soes/src/esc_coe.c ****    {
 717:Lib/soes/src/esc_coe.c ****       coeres = (_COEsdo *) &MBX[MBXout * ESC_MBXSIZE];
 718:Lib/soes/src/esc_coe.c ****       offset = ESCvar.fragsleft;
 719:Lib/soes/src/esc_coe.c ****       size = ESCvar.frags - ESCvar.fragsleft;
 720:Lib/soes/src/esc_coe.c ****       uint8_t command = COE_COMMAND_UPLOADSEGMENT |
 721:Lib/soes/src/esc_coe.c ****             (coesdo->command & COE_TOGGLEBIT);  /* copy toggle bit */
ARM GAS  /tmp/ccoG2CDz.s 			page 15


 722:Lib/soes/src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE, command,
 723:Lib/soes/src/esc_coe.c ****             coesdo->index, coesdo->subindex);
 724:Lib/soes/src/esc_coe.c ****       if ((size + COE_SEGMENTHEADERSIZE) > ESC_MBXDSIZE)
 725:Lib/soes/src/esc_coe.c ****       {
 726:Lib/soes/src/esc_coe.c ****          /* more segmented transfer needed */
 727:Lib/soes/src/esc_coe.c ****          /* limit to mailbox size */
 728:Lib/soes/src/esc_coe.c ****          size = ESC_MBXDSIZE - COE_SEGMENTHEADERSIZE;
 729:Lib/soes/src/esc_coe.c ****          /* number of bytes done */
 730:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft += size;
 731:Lib/soes/src/esc_coe.c ****          coeres->mbxheader.length = htoes (COE_SEGMENTHEADERSIZE + size);
 732:Lib/soes/src/esc_coe.c ****       }
 733:Lib/soes/src/esc_coe.c ****       else
 734:Lib/soes/src/esc_coe.c ****       {
 735:Lib/soes/src/esc_coe.c ****          /* last segment */
 736:Lib/soes/src/esc_coe.c ****          ESCvar.segmented = 0;
 737:Lib/soes/src/esc_coe.c ****          ESCvar.frags = 0;
 738:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft = 0;
 739:Lib/soes/src/esc_coe.c ****          coeres->command |= COE_COMMAND_LASTSEGMENTBIT;
 740:Lib/soes/src/esc_coe.c ****          if (size >= 7)
 741:Lib/soes/src/esc_coe.c ****          {
 742:Lib/soes/src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_SEGMENTHEADERSIZE + size);
 743:Lib/soes/src/esc_coe.c ****          }
 744:Lib/soes/src/esc_coe.c ****          else
 745:Lib/soes/src/esc_coe.c ****          {
 746:Lib/soes/src/esc_coe.c ****             coeres->command |= (uint8_t)((7U - size) << 1);
 747:Lib/soes/src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 748:Lib/soes/src/esc_coe.c ****          }
 749:Lib/soes/src/esc_coe.c ****       }
 750:Lib/soes/src/esc_coe.c ****       copy2mbx ((uint8_t *) ESCvar.data + offset, (&(coeres->command)) + 1,
 751:Lib/soes/src/esc_coe.c ****             size);        /* copy to mailbox */
 752:Lib/soes/src/esc_coe.c **** 
 753:Lib/soes/src/esc_coe.c ****       if (ESCvar.segmented == 0)
 754:Lib/soes/src/esc_coe.c ****       {
 755:Lib/soes/src/esc_coe.c ****          abort = ESC_upload_post_objecthandler (etohs (coesdo->index),
 756:Lib/soes/src/esc_coe.c ****                coesdo->subindex, ESCvar.flags);
 757:Lib/soes/src/esc_coe.c ****          if (abort != 0)
 758:Lib/soes/src/esc_coe.c ****          {
 759:Lib/soes/src/esc_coe.c ****             set_state_idle (MBXout, etohs (coesdo->index), coesdo->subindex, abort);
 760:Lib/soes/src/esc_coe.c ****             return;
 761:Lib/soes/src/esc_coe.c ****          }
 762:Lib/soes/src/esc_coe.c ****       }
 763:Lib/soes/src/esc_coe.c **** 
 764:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 765:Lib/soes/src/esc_coe.c ****    }
 766:Lib/soes/src/esc_coe.c ****    MBXcontrol[0].state = MBXstate_idle;
 767:Lib/soes/src/esc_coe.c ****    ESCvar.xoe = 0;
 768:Lib/soes/src/esc_coe.c **** }
 769:Lib/soes/src/esc_coe.c **** 
 770:Lib/soes/src/esc_coe.c **** 
 771:Lib/soes/src/esc_coe.c **** /** Function for handling incoming requested SDO Download, validating the
 772:Lib/soes/src/esc_coe.c ****  * request and sending an response. On error an SDO Abort will be sent.
 773:Lib/soes/src/esc_coe.c ****  */
 774:Lib/soes/src/esc_coe.c **** static void SDO_download (void)
 775:Lib/soes/src/esc_coe.c **** {
 776:Lib/soes/src/esc_coe.c ****    _COEsdo *coesdo, *coeres;
 777:Lib/soes/src/esc_coe.c ****    uint16_t index;
 778:Lib/soes/src/esc_coe.c ****    uint8_t subindex;
ARM GAS  /tmp/ccoG2CDz.s 			page 16


 779:Lib/soes/src/esc_coe.c ****    int32_t nidx;
 780:Lib/soes/src/esc_coe.c ****    int16_t nsub;
 781:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
 782:Lib/soes/src/esc_coe.c ****    uint32_t size, actsize;
 783:Lib/soes/src/esc_coe.c ****    const _objd *objd;
 784:Lib/soes/src/esc_coe.c ****    uint32_t *mbxdata;
 785:Lib/soes/src/esc_coe.c ****    uint32_t abort;
 786:Lib/soes/src/esc_coe.c **** 
 787:Lib/soes/src/esc_coe.c ****    coesdo = (_COEsdo *) &MBX[0];
 788:Lib/soes/src/esc_coe.c ****    index = etohs (coesdo->index);
 789:Lib/soes/src/esc_coe.c ****    subindex = coesdo->subindex;
 790:Lib/soes/src/esc_coe.c ****    nidx = SDO_findobject (index);
 791:Lib/soes/src/esc_coe.c ****    if (nidx >= 0)
 792:Lib/soes/src/esc_coe.c ****    {
 793:Lib/soes/src/esc_coe.c ****       nsub = SDO_findsubindex (nidx, subindex);
 794:Lib/soes/src/esc_coe.c ****       if (nsub >= 0)
 795:Lib/soes/src/esc_coe.c ****       {
 796:Lib/soes/src/esc_coe.c ****          objd = SDOobjects[nidx].objdesc;
 797:Lib/soes/src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 798:Lib/soes/src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 799:Lib/soes/src/esc_coe.c ****          if (WRITE_ACCESS(access, state))
 800:Lib/soes/src/esc_coe.c ****          {
 801:Lib/soes/src/esc_coe.c ****             /* expedited? */
 802:Lib/soes/src/esc_coe.c ****             if (coesdo->command & COE_EXPEDITED_INDICATOR)
 803:Lib/soes/src/esc_coe.c ****             {
 804:Lib/soes/src/esc_coe.c ****                size = 4U - ((coesdo->command & 0x0CU) >> 2);
 805:Lib/soes/src/esc_coe.c ****                mbxdata = &(coesdo->size);
 806:Lib/soes/src/esc_coe.c ****             }
 807:Lib/soes/src/esc_coe.c ****             else
 808:Lib/soes/src/esc_coe.c ****             {
 809:Lib/soes/src/esc_coe.c ****                /* normal download */
 810:Lib/soes/src/esc_coe.c ****                size = (etohl (coesdo->size) & 0xffff);
 811:Lib/soes/src/esc_coe.c ****                mbxdata = (&(coesdo->size)) + 1;
 812:Lib/soes/src/esc_coe.c ****             }
 813:Lib/soes/src/esc_coe.c ****             actsize = BITS2BYTES((objd + nsub)->bitlength);
 814:Lib/soes/src/esc_coe.c ****             if (actsize != size)
 815:Lib/soes/src/esc_coe.c ****             {
 816:Lib/soes/src/esc_coe.c ****                /* entries with data types VISIBLE_STRING, OCTET_STRING,
 817:Lib/soes/src/esc_coe.c ****                 * UNICODE_STRING, ARRAY_OF_INT, ARRAY_OF_SINT,
 818:Lib/soes/src/esc_coe.c ****                 * ARRAY_OF_DINT, and ARRAY_OF_UDINT may have flexible length
 819:Lib/soes/src/esc_coe.c ****                 */
 820:Lib/soes/src/esc_coe.c ****                uint16_t type = (objd + nsub)->datatype;
 821:Lib/soes/src/esc_coe.c ****                if (type == DTYPE_VISIBLE_STRING)
 822:Lib/soes/src/esc_coe.c ****                {
 823:Lib/soes/src/esc_coe.c ****                   /* pad with zeroes up to the maximum size of the entry */
 824:Lib/soes/src/esc_coe.c ****                   memset((objd + nsub)->data + size, 0, actsize - size);
 825:Lib/soes/src/esc_coe.c ****                }
 826:Lib/soes/src/esc_coe.c ****                else if ((type != DTYPE_OCTET_STRING) &&
 827:Lib/soes/src/esc_coe.c ****                         (type != DTYPE_UNICODE_STRING) &&
 828:Lib/soes/src/esc_coe.c ****                         (type != DTYPE_ARRAY_OF_INT) &&
 829:Lib/soes/src/esc_coe.c ****                         (type != DTYPE_ARRAY_OF_SINT) &&
 830:Lib/soes/src/esc_coe.c ****                         (type != DTYPE_ARRAY_OF_DINT) &&
 831:Lib/soes/src/esc_coe.c ****                         (type != DTYPE_ARRAY_OF_UDINT))
 832:Lib/soes/src/esc_coe.c ****                {
 833:Lib/soes/src/esc_coe.c ****                   set_state_idle (0, index, subindex, ABORT_TYPEMISMATCH);
 834:Lib/soes/src/esc_coe.c ****                   return;
 835:Lib/soes/src/esc_coe.c ****                }
ARM GAS  /tmp/ccoG2CDz.s 			page 17


 836:Lib/soes/src/esc_coe.c ****             }
 837:Lib/soes/src/esc_coe.c ****             abort = ESC_download_pre_objecthandler (
 838:Lib/soes/src/esc_coe.c ****                   index,
 839:Lib/soes/src/esc_coe.c ****                   subindex,
 840:Lib/soes/src/esc_coe.c ****                   mbxdata,
 841:Lib/soes/src/esc_coe.c ****                   size,
 842:Lib/soes/src/esc_coe.c ****                   (objd + nsub)->flags
 843:Lib/soes/src/esc_coe.c ****             );
 844:Lib/soes/src/esc_coe.c ****             if (abort == 0)
 845:Lib/soes/src/esc_coe.c ****             {
 846:Lib/soes/src/esc_coe.c ****                if ((size > 4) &&
 847:Lib/soes/src/esc_coe.c ****                      (size > (coesdo->mbxheader.length - COE_HEADERSIZE)))
 848:Lib/soes/src/esc_coe.c ****                {
 849:Lib/soes/src/esc_coe.c ****                   size = coesdo->mbxheader.length - COE_HEADERSIZE;
 850:Lib/soes/src/esc_coe.c ****                   /* signal segmented transfer */
 851:Lib/soes/src/esc_coe.c ****                   ESCvar.segmented = MBXSED;
 852:Lib/soes/src/esc_coe.c ****                   ESCvar.data = (objd + nsub)->data + size;
 853:Lib/soes/src/esc_coe.c ****                   ESCvar.index = index;
 854:Lib/soes/src/esc_coe.c ****                   ESCvar.subindex = subindex;
 855:Lib/soes/src/esc_coe.c ****                   ESCvar.flags = (objd + nsub)->flags;
 856:Lib/soes/src/esc_coe.c ****                }
 857:Lib/soes/src/esc_coe.c ****                else
 858:Lib/soes/src/esc_coe.c ****                {
 859:Lib/soes/src/esc_coe.c ****                   ESCvar.segmented = 0;
 860:Lib/soes/src/esc_coe.c ****                }
 861:Lib/soes/src/esc_coe.c ****                copy2mbx (mbxdata, (objd + nsub)->data, size);
 862:Lib/soes/src/esc_coe.c ****                MBXout = ESC_claimbuffer ();
 863:Lib/soes/src/esc_coe.c ****                if (MBXout)
 864:Lib/soes/src/esc_coe.c ****                {
 865:Lib/soes/src/esc_coe.c ****                   coeres = (_COEsdo *) &MBX[MBXout * ESC_MBXSIZE];
 866:Lib/soes/src/esc_coe.c ****                   coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 867:Lib/soes/src/esc_coe.c ****                   coeres->mbxheader.mbxtype = MBXCOE;
 868:Lib/soes/src/esc_coe.c ****                   coeres->coeheader.numberservice =
 869:Lib/soes/src/esc_coe.c ****                         htoes ((0 & 0x01f) | (COE_SDORESPONSE << 12));
 870:Lib/soes/src/esc_coe.c ****                   coeres->index = htoes (index);
 871:Lib/soes/src/esc_coe.c ****                   coeres->subindex = subindex;
 872:Lib/soes/src/esc_coe.c ****                   coeres->command = COE_COMMAND_DOWNLOADRESPONSE;
 873:Lib/soes/src/esc_coe.c ****                   coeres->size = htoel (0);
 874:Lib/soes/src/esc_coe.c ****                   MBXcontrol[MBXout].state = MBXstate_outreq;
 875:Lib/soes/src/esc_coe.c ****                }
 876:Lib/soes/src/esc_coe.c ****                if (ESCvar.segmented == 0)
 877:Lib/soes/src/esc_coe.c ****                {
 878:Lib/soes/src/esc_coe.c ****                   /* external object write handler */
 879:Lib/soes/src/esc_coe.c ****                   abort = ESC_download_post_objecthandler (index, subindex, (objd + nsub)->flags);
 880:Lib/soes/src/esc_coe.c ****                   if (abort != 0)
 881:Lib/soes/src/esc_coe.c ****                   {
 882:Lib/soes/src/esc_coe.c ****                      SDO_abort (MBXout, index, subindex, abort);
 883:Lib/soes/src/esc_coe.c ****                   }
 884:Lib/soes/src/esc_coe.c ****                }
 885:Lib/soes/src/esc_coe.c ****             }
 886:Lib/soes/src/esc_coe.c ****             else
 887:Lib/soes/src/esc_coe.c ****             {
 888:Lib/soes/src/esc_coe.c ****                SDO_abort (0, index, subindex, abort);
 889:Lib/soes/src/esc_coe.c ****             }
 890:Lib/soes/src/esc_coe.c ****          }
 891:Lib/soes/src/esc_coe.c ****          else
 892:Lib/soes/src/esc_coe.c ****          {
ARM GAS  /tmp/ccoG2CDz.s 			page 18


 893:Lib/soes/src/esc_coe.c ****             if (access == ATYPE_RO)
 894:Lib/soes/src/esc_coe.c ****             {
 895:Lib/soes/src/esc_coe.c ****                SDO_abort (0, index, subindex, ABORT_READONLY);
 896:Lib/soes/src/esc_coe.c **** 
 897:Lib/soes/src/esc_coe.c ****             }
 898:Lib/soes/src/esc_coe.c ****             else
 899:Lib/soes/src/esc_coe.c ****             {
 900:Lib/soes/src/esc_coe.c ****                SDO_abort (0, index, subindex, ABORT_NOTINTHISSTATE);
 901:Lib/soes/src/esc_coe.c ****             }
 902:Lib/soes/src/esc_coe.c ****          }
 903:Lib/soes/src/esc_coe.c ****       }
 904:Lib/soes/src/esc_coe.c ****       else
 905:Lib/soes/src/esc_coe.c ****       {
 906:Lib/soes/src/esc_coe.c ****          SDO_abort (0, index, subindex, ABORT_NOSUBINDEX);
 907:Lib/soes/src/esc_coe.c ****       }
 908:Lib/soes/src/esc_coe.c ****    }
 909:Lib/soes/src/esc_coe.c ****    else
 910:Lib/soes/src/esc_coe.c ****    {
 911:Lib/soes/src/esc_coe.c ****       SDO_abort (0, index, subindex, ABORT_NOOBJECT);
 912:Lib/soes/src/esc_coe.c ****    }
 913:Lib/soes/src/esc_coe.c ****    MBXcontrol[0].state = MBXstate_idle;
 914:Lib/soes/src/esc_coe.c ****    ESCvar.xoe = 0;
 915:Lib/soes/src/esc_coe.c **** }
 916:Lib/soes/src/esc_coe.c **** 
 917:Lib/soes/src/esc_coe.c **** /** Function for handling incoming requested SDO Download with Complete Access,
 918:Lib/soes/src/esc_coe.c ****  *  validating the request and sending a response. On error an SDO Abort will
 919:Lib/soes/src/esc_coe.c ****  *  be sent.
 920:Lib/soes/src/esc_coe.c ****  */
 921:Lib/soes/src/esc_coe.c **** static void SDO_download_complete_access (void)
 922:Lib/soes/src/esc_coe.c **** {
 923:Lib/soes/src/esc_coe.c ****    _COEsdo *coesdo = (_COEsdo *) &MBX[0];
 924:Lib/soes/src/esc_coe.c ****    uint16_t index;
 925:Lib/soes/src/esc_coe.c ****    uint8_t subindex;
 926:Lib/soes/src/esc_coe.c ****    int32_t nidx;
 927:Lib/soes/src/esc_coe.c ****    int16_t nsub;
 928:Lib/soes/src/esc_coe.c ****    uint32_t abortcode = complete_access_get_variables
 929:Lib/soes/src/esc_coe.c ****                            (coesdo, &index, &subindex, &nidx, &nsub);
 930:Lib/soes/src/esc_coe.c ****    if (abortcode != 0)
 931:Lib/soes/src/esc_coe.c ****    {
 932:Lib/soes/src/esc_coe.c ****       set_state_idle (0, index, subindex, abortcode);
 933:Lib/soes/src/esc_coe.c ****       return;
 934:Lib/soes/src/esc_coe.c ****    }
 935:Lib/soes/src/esc_coe.c **** 
 936:Lib/soes/src/esc_coe.c ****    uint32_t bytes;
 937:Lib/soes/src/esc_coe.c ****    uint32_t *mbxdata = &(coesdo->size);
 938:Lib/soes/src/esc_coe.c **** 
 939:Lib/soes/src/esc_coe.c ****    if (coesdo->command & COE_EXPEDITED_INDICATOR)
 940:Lib/soes/src/esc_coe.c ****    {
 941:Lib/soes/src/esc_coe.c ****       /* expedited download */
 942:Lib/soes/src/esc_coe.c ****       bytes = 4U - ((coesdo->command & 0x0CU) >> 2);
 943:Lib/soes/src/esc_coe.c ****    }
 944:Lib/soes/src/esc_coe.c ****    else
 945:Lib/soes/src/esc_coe.c ****    {
 946:Lib/soes/src/esc_coe.c ****       /* normal download */
 947:Lib/soes/src/esc_coe.c ****       bytes = (etohl (coesdo->size) & 0xffff);
 948:Lib/soes/src/esc_coe.c ****       mbxdata++;
 949:Lib/soes/src/esc_coe.c ****    }
ARM GAS  /tmp/ccoG2CDz.s 			page 19


 950:Lib/soes/src/esc_coe.c **** 
 951:Lib/soes/src/esc_coe.c ****    const _objd *objd = SDOobjects[nidx].objdesc;
 952:Lib/soes/src/esc_coe.c **** 
 953:Lib/soes/src/esc_coe.c ****    /* loop through the subindexes to get the total size */
 954:Lib/soes/src/esc_coe.c ****    uint32_t size = complete_access_subindex_loop(objd, nidx, nsub, NULL, DOWNLOAD, 0);
 955:Lib/soes/src/esc_coe.c ****    size = BITS2BYTES(size);
 956:Lib/soes/src/esc_coe.c ****    if (size > 0xffff)
 957:Lib/soes/src/esc_coe.c ****    {
 958:Lib/soes/src/esc_coe.c ****       /* 'size' is in this case actually an abort code */
 959:Lib/soes/src/esc_coe.c ****       set_state_idle (0, index, subindex, size);
 960:Lib/soes/src/esc_coe.c ****       return;
 961:Lib/soes/src/esc_coe.c ****    }
 962:Lib/soes/src/esc_coe.c ****    /* The document ETG.1020 S (R) V1.3.0, chapter 12.2, states that
 963:Lib/soes/src/esc_coe.c ****     * "The SDO Download Complete Access data length shall always match
 964:Lib/soes/src/esc_coe.c ****     * the full current object size (defined by SubIndex0)".
 965:Lib/soes/src/esc_coe.c ****     * But EtherCAT Conformance Test Tool doesn't follow this rule for some test
 966:Lib/soes/src/esc_coe.c ****     * cases, which is the reason to here only check for 'less than or equal'.
 967:Lib/soes/src/esc_coe.c ****     */
 968:Lib/soes/src/esc_coe.c ****    else if (bytes <= size)
 969:Lib/soes/src/esc_coe.c ****    {
 970:Lib/soes/src/esc_coe.c ****       abortcode = ESC_download_pre_objecthandler(index, subindex, mbxdata,
 971:Lib/soes/src/esc_coe.c ****             size, objd->flags | COMPLETE_ACCESS_FLAG);
 972:Lib/soes/src/esc_coe.c ****       if (abortcode != 0)
 973:Lib/soes/src/esc_coe.c ****       {
 974:Lib/soes/src/esc_coe.c ****          set_state_idle (0, index, subindex, abortcode);
 975:Lib/soes/src/esc_coe.c ****          return;
 976:Lib/soes/src/esc_coe.c ****       }
 977:Lib/soes/src/esc_coe.c **** 
 978:Lib/soes/src/esc_coe.c ****       if ((bytes + COE_HEADERSIZE) > ESC_MBXDSIZE)
 979:Lib/soes/src/esc_coe.c ****       {
 980:Lib/soes/src/esc_coe.c ****          /* check that download data fits in the preallocated buffer */
 981:Lib/soes/src/esc_coe.c ****          if ((bytes + PREALLOC_FACTOR * COE_HEADERSIZE) > PREALLOC_BUFFER_SIZE)
 982:Lib/soes/src/esc_coe.c ****          {
 983:Lib/soes/src/esc_coe.c ****              set_state_idle(0, index, subindex, ABORT_CA_NOT_SUPPORTED);
 984:Lib/soes/src/esc_coe.c ****              return;
 985:Lib/soes/src/esc_coe.c ****          }
 986:Lib/soes/src/esc_coe.c ****          /* set total size in bytes */
 987:Lib/soes/src/esc_coe.c ****          ESCvar.frags = bytes;
 988:Lib/soes/src/esc_coe.c ****          /* limit to mailbox size */
 989:Lib/soes/src/esc_coe.c ****          size = ESC_MBXDSIZE - COE_HEADERSIZE;
 990:Lib/soes/src/esc_coe.c ****          /* number of bytes done */
 991:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft = size;
 992:Lib/soes/src/esc_coe.c ****          ESCvar.segmented = MBXSED;
 993:Lib/soes/src/esc_coe.c ****          ESCvar.data = ESCvar.mbxdata + size;
 994:Lib/soes/src/esc_coe.c ****          ESCvar.index = index;
 995:Lib/soes/src/esc_coe.c ****          ESCvar.subindex = subindex;
 996:Lib/soes/src/esc_coe.c ****          ESCvar.flags = COMPLETE_ACCESS_FLAG;
 997:Lib/soes/src/esc_coe.c ****          /* Store the data */
 998:Lib/soes/src/esc_coe.c ****          copy2mbx (mbxdata, ESCvar.mbxdata, size);
 999:Lib/soes/src/esc_coe.c ****       }
1000:Lib/soes/src/esc_coe.c ****       else
1001:Lib/soes/src/esc_coe.c ****       {
1002:Lib/soes/src/esc_coe.c ****          ESCvar.segmented = 0;
1003:Lib/soes/src/esc_coe.c ****          /* copy download data to subindexes */
1004:Lib/soes/src/esc_coe.c ****          complete_access_subindex_loop(objd, nidx, nsub, (uint8_t *)mbxdata, DOWNLOAD, bytes);
1005:Lib/soes/src/esc_coe.c **** 
1006:Lib/soes/src/esc_coe.c ****          abortcode = ESC_download_post_objecthandler(index, subindex,
ARM GAS  /tmp/ccoG2CDz.s 			page 20


1007:Lib/soes/src/esc_coe.c ****                objd->flags | COMPLETE_ACCESS_FLAG);
1008:Lib/soes/src/esc_coe.c ****          if (abortcode != 0)
1009:Lib/soes/src/esc_coe.c ****          {
1010:Lib/soes/src/esc_coe.c ****             set_state_idle (0, index, subindex, abortcode);
1011:Lib/soes/src/esc_coe.c ****             return;
1012:Lib/soes/src/esc_coe.c ****          }
1013:Lib/soes/src/esc_coe.c ****       }
1014:Lib/soes/src/esc_coe.c ****    }
1015:Lib/soes/src/esc_coe.c ****    else
1016:Lib/soes/src/esc_coe.c ****    {
1017:Lib/soes/src/esc_coe.c ****       set_state_idle (0, index, subindex, ABORT_TYPEMISMATCH);
1018:Lib/soes/src/esc_coe.c ****       return;
1019:Lib/soes/src/esc_coe.c ****    }
1020:Lib/soes/src/esc_coe.c **** 
1021:Lib/soes/src/esc_coe.c ****    uint8_t MBXout = ESC_claimbuffer ();
1022:Lib/soes/src/esc_coe.c ****    if (MBXout > 0)
1023:Lib/soes/src/esc_coe.c ****    {
1024:Lib/soes/src/esc_coe.c ****       _COEsdo *coeres = (_COEsdo *) &MBX[MBXout * ESC_MBXSIZE];
1025:Lib/soes/src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE,
1026:Lib/soes/src/esc_coe.c ****                   COE_COMMAND_DOWNLOADRESPONSE | COE_COMPLETEACCESS,
1027:Lib/soes/src/esc_coe.c ****                   index, subindex);
1028:Lib/soes/src/esc_coe.c **** 
1029:Lib/soes/src/esc_coe.c ****       coeres->size = 0;
1030:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
1031:Lib/soes/src/esc_coe.c ****    }
1032:Lib/soes/src/esc_coe.c **** 
1033:Lib/soes/src/esc_coe.c ****    set_state_idle (MBXout, index, subindex, 0);
1034:Lib/soes/src/esc_coe.c **** }
1035:Lib/soes/src/esc_coe.c **** 
1036:Lib/soes/src/esc_coe.c **** static void SDO_downloadsegment (void)
1037:Lib/soes/src/esc_coe.c **** {
1038:Lib/soes/src/esc_coe.c ****    _COEsdo *coesdo = (_COEsdo *) &MBX[0];
1039:Lib/soes/src/esc_coe.c ****    uint8_t MBXout = ESC_claimbuffer ();
1040:Lib/soes/src/esc_coe.c ****    if (MBXout)
1041:Lib/soes/src/esc_coe.c ****    {
1042:Lib/soes/src/esc_coe.c ****       _COEsdo *coeres = (_COEsdo *) &MBX[MBXout * ESC_MBXSIZE];
1043:Lib/soes/src/esc_coe.c ****       uint32_t size = coesdo->mbxheader.length - 3U;
1044:Lib/soes/src/esc_coe.c ****       if (size == 7)
1045:Lib/soes/src/esc_coe.c ****       {
1046:Lib/soes/src/esc_coe.c ****          size = 7 - ((coesdo->command >> 1) & 7);
1047:Lib/soes/src/esc_coe.c ****       }
1048:Lib/soes/src/esc_coe.c ****       uint8_t command = COE_COMMAND_DOWNLOADSEGRESP;
1049:Lib/soes/src/esc_coe.c ****       uint8_t command2 = (coesdo->command & COE_TOGGLEBIT);  /* copy toggle bit */
1050:Lib/soes/src/esc_coe.c ****       command |= command2;
1051:Lib/soes/src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE, command, 0, 0);
1052:Lib/soes/src/esc_coe.c **** 
1053:Lib/soes/src/esc_coe.c ****       void *mbxdata = &(coesdo->index);  /* data pointer */
1054:Lib/soes/src/esc_coe.c ****       copy2mbx (mbxdata, ESCvar.data, size);
1055:Lib/soes/src/esc_coe.c **** 
1056:Lib/soes/src/esc_coe.c ****       if (coesdo->command & COE_COMMAND_LASTSEGMENTBIT)
1057:Lib/soes/src/esc_coe.c ****       {
1058:Lib/soes/src/esc_coe.c ****          if(ESCvar.flags == COMPLETE_ACCESS_FLAG)
1059:Lib/soes/src/esc_coe.c ****          {
1060:Lib/soes/src/esc_coe.c ****             int32_t nidx;
1061:Lib/soes/src/esc_coe.c ****             int16_t nsub;
1062:Lib/soes/src/esc_coe.c **** 
1063:Lib/soes/src/esc_coe.c ****             if(ESCvar.frags > ESCvar.fragsleft + size)
ARM GAS  /tmp/ccoG2CDz.s 			page 21


1064:Lib/soes/src/esc_coe.c ****             {
1065:Lib/soes/src/esc_coe.c ****                set_state_idle (0, ESCvar.index, ESCvar.subindex, ABORT_TYPEMISMATCH);
1066:Lib/soes/src/esc_coe.c ****                return;
1067:Lib/soes/src/esc_coe.c ****             }
1068:Lib/soes/src/esc_coe.c **** 
1069:Lib/soes/src/esc_coe.c ****             nidx = SDO_findobject(ESCvar.index);
1070:Lib/soes/src/esc_coe.c ****             nsub = SDO_findsubindex (nidx, ESCvar.subindex);
1071:Lib/soes/src/esc_coe.c **** 
1072:Lib/soes/src/esc_coe.c ****             if ((nidx < 0) || (nsub < 0))
1073:Lib/soes/src/esc_coe.c ****             {
1074:Lib/soes/src/esc_coe.c ****                set_state_idle (0, ESCvar.index, ESCvar.subindex, ABORT_NOOBJECT);
1075:Lib/soes/src/esc_coe.c ****                return;
1076:Lib/soes/src/esc_coe.c ****             }
1077:Lib/soes/src/esc_coe.c **** 
1078:Lib/soes/src/esc_coe.c ****             /* copy download data to subindexes */
1079:Lib/soes/src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
1080:Lib/soes/src/esc_coe.c ****             complete_access_subindex_loop(objd,
1081:Lib/soes/src/esc_coe.c ****                   nidx,
1082:Lib/soes/src/esc_coe.c ****                   nsub,
1083:Lib/soes/src/esc_coe.c ****                   (uint8_t *)ESCvar.mbxdata,
1084:Lib/soes/src/esc_coe.c ****                   DOWNLOAD,
1085:Lib/soes/src/esc_coe.c ****                   ESCvar.frags);
1086:Lib/soes/src/esc_coe.c **** 
1087:Lib/soes/src/esc_coe.c ****          }
1088:Lib/soes/src/esc_coe.c ****          /* last segment */
1089:Lib/soes/src/esc_coe.c ****          ESCvar.segmented = 0;
1090:Lib/soes/src/esc_coe.c ****          ESCvar.frags = 0;
1091:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft = 0;
1092:Lib/soes/src/esc_coe.c ****          /* external object write handler */
1093:Lib/soes/src/esc_coe.c ****          uint32_t abort = ESC_download_post_objecthandler
1094:Lib/soes/src/esc_coe.c ****                (ESCvar.index, ESCvar.subindex, ESCvar.flags);
1095:Lib/soes/src/esc_coe.c ****          if (abort != 0)
1096:Lib/soes/src/esc_coe.c ****          {
1097:Lib/soes/src/esc_coe.c ****             set_state_idle (MBXout, ESCvar.index, ESCvar.subindex, abort);
1098:Lib/soes/src/esc_coe.c ****             return;
1099:Lib/soes/src/esc_coe.c ****          }
1100:Lib/soes/src/esc_coe.c ****       }
1101:Lib/soes/src/esc_coe.c ****       else
1102:Lib/soes/src/esc_coe.c ****       {
1103:Lib/soes/src/esc_coe.c ****          /* more segmented transfer needed: increase offset */
1104:Lib/soes/src/esc_coe.c ****          ESCvar.data += size;
1105:Lib/soes/src/esc_coe.c ****          /* number of bytes done */
1106:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft += size;
1107:Lib/soes/src/esc_coe.c ****       }
1108:Lib/soes/src/esc_coe.c **** 
1109:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
1110:Lib/soes/src/esc_coe.c ****    }
1111:Lib/soes/src/esc_coe.c **** 
1112:Lib/soes/src/esc_coe.c ****    set_state_idle (0, 0, 0, 0);
1113:Lib/soes/src/esc_coe.c **** }
1114:Lib/soes/src/esc_coe.c **** 
1115:Lib/soes/src/esc_coe.c **** /** Function for sending an SDO Info Error reply.
1116:Lib/soes/src/esc_coe.c ****  *
1117:Lib/soes/src/esc_coe.c ****  * @param[in] abortcode  = = abort code to send in reply
1118:Lib/soes/src/esc_coe.c ****  */
1119:Lib/soes/src/esc_coe.c **** static void SDO_infoerror (uint32_t abortcode)
1120:Lib/soes/src/esc_coe.c **** {
ARM GAS  /tmp/ccoG2CDz.s 			page 22


1121:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
1122:Lib/soes/src/esc_coe.c ****    _COEobjdesc *coeres;
1123:Lib/soes/src/esc_coe.c ****    MBXout = ESC_claimbuffer ();
1124:Lib/soes/src/esc_coe.c ****    if (MBXout)
1125:Lib/soes/src/esc_coe.c ****    {
1126:Lib/soes/src/esc_coe.c ****       coeres = (_COEobjdesc *) &MBX[MBXout * ESC_MBXSIZE];
1127:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_HEADERSIZE);
1128:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.mbxtype = MBXCOE;
1129:Lib/soes/src/esc_coe.c ****       coeres->coeheader.numberservice =
1130:Lib/soes/src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
1131:Lib/soes/src/esc_coe.c ****       /* SDO info error request */
1132:Lib/soes/src/esc_coe.c ****       coeres->infoheader.opcode = COE_INFOERROR;
1133:Lib/soes/src/esc_coe.c ****       coeres->infoheader.incomplete = 0;
1134:Lib/soes/src/esc_coe.c ****       coeres->infoheader.reserved = 0x00;
1135:Lib/soes/src/esc_coe.c ****       coeres->infoheader.fragmentsleft = 0;
1136:Lib/soes/src/esc_coe.c ****       coeres->index = (uint16_t)htoel (abortcode);
1137:Lib/soes/src/esc_coe.c ****       coeres->datatype = (uint16_t)(htoel (abortcode) >> 16);
1138:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
1139:Lib/soes/src/esc_coe.c ****       MBXcontrol[0].state = MBXstate_idle;
1140:Lib/soes/src/esc_coe.c ****       ESCvar.xoe = 0;
1141:Lib/soes/src/esc_coe.c ****    }
1142:Lib/soes/src/esc_coe.c **** }
1143:Lib/soes/src/esc_coe.c **** 
1144:Lib/soes/src/esc_coe.c **** #define ODLISTSIZE  ((uint32_t)(ESC_MBX1_sml - ESC_MBXHSIZE - sizeof(_COEh) - sizeof(_INFOh) - 2U) 
1145:Lib/soes/src/esc_coe.c **** 
1146:Lib/soes/src/esc_coe.c **** /** Function for handling incoming requested SDO Get OD List, validating the
1147:Lib/soes/src/esc_coe.c ****  * request and sending an response. On error an SDO Info Error will be sent.
1148:Lib/soes/src/esc_coe.c ****  */
1149:Lib/soes/src/esc_coe.c **** static void SDO_getodlist (void)
1150:Lib/soes/src/esc_coe.c **** {
1151:Lib/soes/src/esc_coe.c ****    uint32_t frags;
1152:Lib/soes/src/esc_coe.c ****    uint8_t MBXout = 0;
1153:Lib/soes/src/esc_coe.c ****    uint16_t entries = 0;
1154:Lib/soes/src/esc_coe.c ****    uint16_t i, n;
1155:Lib/soes/src/esc_coe.c ****    uint16_t *p;
1156:Lib/soes/src/esc_coe.c ****    _COEobjdesc *coel, *coer;
1157:Lib/soes/src/esc_coe.c **** 
1158:Lib/soes/src/esc_coe.c ****    while (SDOobjects[entries].index != 0xffff)
1159:Lib/soes/src/esc_coe.c ****    {
1160:Lib/soes/src/esc_coe.c ****       entries++;
1161:Lib/soes/src/esc_coe.c ****    }
1162:Lib/soes/src/esc_coe.c ****    ESCvar.entries = entries;
1163:Lib/soes/src/esc_coe.c ****    frags = ((uint32_t)(entries << 1) + ODLISTSIZE - 1U);
1164:Lib/soes/src/esc_coe.c ****    frags /= ODLISTSIZE;
1165:Lib/soes/src/esc_coe.c ****    coer = (_COEobjdesc *) &MBX[0];
1166:Lib/soes/src/esc_coe.c ****    /* check for unsupported opcodes */
1167:Lib/soes/src/esc_coe.c ****    if (etohs (coer->index) > 0x01)
1168:Lib/soes/src/esc_coe.c ****    {
1169:Lib/soes/src/esc_coe.c ****       SDO_infoerror (ABORT_UNSUPPORTED);
1170:Lib/soes/src/esc_coe.c ****    }
1171:Lib/soes/src/esc_coe.c ****    else
1172:Lib/soes/src/esc_coe.c ****    {
1173:Lib/soes/src/esc_coe.c ****       MBXout = ESC_claimbuffer ();
1174:Lib/soes/src/esc_coe.c ****    }
1175:Lib/soes/src/esc_coe.c ****    if (MBXout)
1176:Lib/soes/src/esc_coe.c ****    {
1177:Lib/soes/src/esc_coe.c ****       coel = (_COEobjdesc *) &MBX[MBXout * ESC_MBXSIZE];
ARM GAS  /tmp/ccoG2CDz.s 			page 23


1178:Lib/soes/src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
1179:Lib/soes/src/esc_coe.c ****       coel->coeheader.numberservice =
1180:Lib/soes/src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
1181:Lib/soes/src/esc_coe.c ****       coel->infoheader.opcode = COE_GETODLISTRESPONSE;
1182:Lib/soes/src/esc_coe.c ****       /* number of objects request */
1183:Lib/soes/src/esc_coe.c ****       if (etohs (coer->index) == 0x00)
1184:Lib/soes/src/esc_coe.c ****       {
1185:Lib/soes/src/esc_coe.c ****          coel->index = htoes (0x00);
1186:Lib/soes/src/esc_coe.c ****          coel->infoheader.incomplete = 0;
1187:Lib/soes/src/esc_coe.c ****          coel->infoheader.reserved = 0x00;
1188:Lib/soes/src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (0);
1189:Lib/soes/src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
1190:Lib/soes/src/esc_coe.c ****          ESCvar.xoe = 0;
1191:Lib/soes/src/esc_coe.c ****          ESCvar.frags = frags;
1192:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft = frags - 1;
1193:Lib/soes/src/esc_coe.c ****          p = &(coel->datatype);
1194:Lib/soes/src/esc_coe.c ****          *p = htoes (entries);
1195:Lib/soes/src/esc_coe.c ****          p++;
1196:Lib/soes/src/esc_coe.c ****          *p = 0;
1197:Lib/soes/src/esc_coe.c ****          p++;
1198:Lib/soes/src/esc_coe.c ****          *p = 0;
1199:Lib/soes/src/esc_coe.c ****          p++;
1200:Lib/soes/src/esc_coe.c ****          *p = 0;
1201:Lib/soes/src/esc_coe.c ****          p++;
1202:Lib/soes/src/esc_coe.c ****          *p = 0;
1203:Lib/soes/src/esc_coe.c ****          coel->mbxheader.length = htoes (0x08 + (5 << 1));
1204:Lib/soes/src/esc_coe.c ****       }
1205:Lib/soes/src/esc_coe.c ****       /* only return all objects */
1206:Lib/soes/src/esc_coe.c ****       if (etohs (coer->index) == 0x01)
1207:Lib/soes/src/esc_coe.c ****       {
1208:Lib/soes/src/esc_coe.c ****          if (frags > 1)
1209:Lib/soes/src/esc_coe.c ****          {
1210:Lib/soes/src/esc_coe.c ****             coel->infoheader.incomplete = 1;
1211:Lib/soes/src/esc_coe.c ****             ESCvar.xoe = MBXCOE + MBXODL;
1212:Lib/soes/src/esc_coe.c ****             n = ODLISTSIZE >> 1;
1213:Lib/soes/src/esc_coe.c ****          }
1214:Lib/soes/src/esc_coe.c ****          else
1215:Lib/soes/src/esc_coe.c ****          {
1216:Lib/soes/src/esc_coe.c ****             coel->infoheader.incomplete = 0;
1217:Lib/soes/src/esc_coe.c ****             MBXcontrol[0].state = MBXstate_idle;
1218:Lib/soes/src/esc_coe.c ****             ESCvar.xoe = 0;
1219:Lib/soes/src/esc_coe.c ****             n = entries;
1220:Lib/soes/src/esc_coe.c ****          }
1221:Lib/soes/src/esc_coe.c ****          coel->infoheader.reserved = 0x00;
1222:Lib/soes/src/esc_coe.c ****          ESCvar.frags = frags;
1223:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft = frags - 1;
1224:Lib/soes/src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (ESCvar.fragsleft);
1225:Lib/soes/src/esc_coe.c ****          coel->index = htoes (0x01);
1226:Lib/soes/src/esc_coe.c **** 
1227:Lib/soes/src/esc_coe.c ****          p = &(coel->datatype);
1228:Lib/soes/src/esc_coe.c ****          for (i = 0; i < n; i++)
1229:Lib/soes/src/esc_coe.c ****          {
1230:Lib/soes/src/esc_coe.c ****             *p = htoes (SDOobjects[i].index);
1231:Lib/soes/src/esc_coe.c ****             p++;
1232:Lib/soes/src/esc_coe.c ****          }
1233:Lib/soes/src/esc_coe.c **** 
1234:Lib/soes/src/esc_coe.c ****          coel->mbxheader.length = htoes (0x08 + (n << 1));
ARM GAS  /tmp/ccoG2CDz.s 			page 24


1235:Lib/soes/src/esc_coe.c ****       }
1236:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
1237:Lib/soes/src/esc_coe.c ****    }
1238:Lib/soes/src/esc_coe.c **** }
1239:Lib/soes/src/esc_coe.c **** /** Function for continuing sending left overs from previous requested
1240:Lib/soes/src/esc_coe.c ****  * SDO Get OD List, validating the request and sending an response.
1241:Lib/soes/src/esc_coe.c ****  */
1242:Lib/soes/src/esc_coe.c **** static void SDO_getodlistcont (void)
1243:Lib/soes/src/esc_coe.c **** {
1244:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
1245:Lib/soes/src/esc_coe.c ****    uint16_t i, n, s;
1246:Lib/soes/src/esc_coe.c ****    uint16_t *p;
1247:Lib/soes/src/esc_coe.c ****    _COEobjdesc *coel;
1248:Lib/soes/src/esc_coe.c **** 
1249:Lib/soes/src/esc_coe.c ****    MBXout = ESC_claimbuffer ();
1250:Lib/soes/src/esc_coe.c ****    if (MBXout)
1251:Lib/soes/src/esc_coe.c ****    {
1252:Lib/soes/src/esc_coe.c ****       coel = (_COEobjdesc *) &MBX[MBXout * ESC_MBXSIZE];
1253:Lib/soes/src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
1254:Lib/soes/src/esc_coe.c ****       coel->coeheader.numberservice =
1255:Lib/soes/src/esc_coe.c ****          htoes (COE_SDOINFORMATION << 12);
1256:Lib/soes/src/esc_coe.c ****       coel->infoheader.opcode = COE_GETODLISTRESPONSE;
1257:Lib/soes/src/esc_coe.c ****       s = (uint16_t)((ESCvar.frags - ESCvar.fragsleft) * (ODLISTSIZE >> 1));
1258:Lib/soes/src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
1259:Lib/soes/src/esc_coe.c ****       {
1260:Lib/soes/src/esc_coe.c ****          coel->infoheader.incomplete = 1;
1261:Lib/soes/src/esc_coe.c ****          n = (uint16_t)(s + (ODLISTSIZE >> 1));
1262:Lib/soes/src/esc_coe.c ****       }
1263:Lib/soes/src/esc_coe.c ****       else
1264:Lib/soes/src/esc_coe.c ****       {
1265:Lib/soes/src/esc_coe.c ****          coel->infoheader.incomplete = 0;
1266:Lib/soes/src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
1267:Lib/soes/src/esc_coe.c ****          ESCvar.xoe = 0;
1268:Lib/soes/src/esc_coe.c ****          n = ESCvar.entries;
1269:Lib/soes/src/esc_coe.c ****       }
1270:Lib/soes/src/esc_coe.c ****       coel->infoheader.reserved = 0x00;
1271:Lib/soes/src/esc_coe.c ****       ESCvar.fragsleft--;
1272:Lib/soes/src/esc_coe.c ****       coel->infoheader.fragmentsleft = htoes ((uint16_t)ESCvar.fragsleft);
1273:Lib/soes/src/esc_coe.c ****       /* pointer 2 bytes back to exclude index */
1274:Lib/soes/src/esc_coe.c ****       p = &(coel->index);
1275:Lib/soes/src/esc_coe.c ****       for (i = s; i < n; i++)
1276:Lib/soes/src/esc_coe.c ****       {
1277:Lib/soes/src/esc_coe.c ****          *p = htoes (SDOobjects[i].index);
1278:Lib/soes/src/esc_coe.c ****          p++;
1279:Lib/soes/src/esc_coe.c ****       }
1280:Lib/soes/src/esc_coe.c ****       coel->mbxheader.length = htoes (0x06 + ((n - s) << 1));
1281:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
1282:Lib/soes/src/esc_coe.c ****    }
1283:Lib/soes/src/esc_coe.c **** }
1284:Lib/soes/src/esc_coe.c **** 
1285:Lib/soes/src/esc_coe.c **** /** Function for handling incoming requested SDO Get Object Description,
1286:Lib/soes/src/esc_coe.c ****  * validating the request and sending an response. On error an
1287:Lib/soes/src/esc_coe.c ****  * SDO Info Error will be sent.
1288:Lib/soes/src/esc_coe.c ****  */
1289:Lib/soes/src/esc_coe.c **** static void SDO_getod (void)
1290:Lib/soes/src/esc_coe.c **** {
1291:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
ARM GAS  /tmp/ccoG2CDz.s 			page 25


1292:Lib/soes/src/esc_coe.c ****    uint16_t index;
1293:Lib/soes/src/esc_coe.c ****    int32_t nidx;
1294:Lib/soes/src/esc_coe.c ****    uint8_t *d;
1295:Lib/soes/src/esc_coe.c ****    const uint8_t *s;
1296:Lib/soes/src/esc_coe.c ****    uint8_t n = 0;
1297:Lib/soes/src/esc_coe.c ****    _COEobjdesc *coer, *coel;
1298:Lib/soes/src/esc_coe.c ****    coer = (_COEobjdesc *) &MBX[0];
1299:Lib/soes/src/esc_coe.c ****    index = etohs (coer->index);
1300:Lib/soes/src/esc_coe.c ****    nidx = SDO_findobject (index);
1301:Lib/soes/src/esc_coe.c ****    if (nidx >= 0)
1302:Lib/soes/src/esc_coe.c ****    {
1303:Lib/soes/src/esc_coe.c ****       MBXout = ESC_claimbuffer ();
1304:Lib/soes/src/esc_coe.c ****       if (MBXout)
1305:Lib/soes/src/esc_coe.c ****       {
1306:Lib/soes/src/esc_coe.c ****          coel = (_COEobjdesc *) &MBX[MBXout * ESC_MBXSIZE];
1307:Lib/soes/src/esc_coe.c ****          coel->mbxheader.mbxtype = MBXCOE;
1308:Lib/soes/src/esc_coe.c ****          coel->coeheader.numberservice =
1309:Lib/soes/src/esc_coe.c ****             htoes (COE_SDOINFORMATION << 12);
1310:Lib/soes/src/esc_coe.c ****          coel->infoheader.opcode = COE_GETODRESPONSE;
1311:Lib/soes/src/esc_coe.c ****          coel->infoheader.incomplete = 0;
1312:Lib/soes/src/esc_coe.c ****          coel->infoheader.reserved = 0x00;
1313:Lib/soes/src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (0);
1314:Lib/soes/src/esc_coe.c ****          coel->index = htoes (index);
1315:Lib/soes/src/esc_coe.c ****          if (SDOobjects[nidx].objtype == OTYPE_VAR)
1316:Lib/soes/src/esc_coe.c ****          {
1317:Lib/soes/src/esc_coe.c ****             int32_t nsub = SDO_findsubindex (nidx, 0);
1318:Lib/soes/src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
1319:Lib/soes/src/esc_coe.c ****             coel->datatype = htoes ((objd + nsub)->datatype);
1320:Lib/soes/src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].maxsub;
1321:Lib/soes/src/esc_coe.c ****          }
1322:Lib/soes/src/esc_coe.c ****          else if (SDOobjects[nidx].objtype == OTYPE_ARRAY)
1323:Lib/soes/src/esc_coe.c ****          {
1324:Lib/soes/src/esc_coe.c ****             int32_t nsub = SDO_findsubindex (nidx, 0);
1325:Lib/soes/src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
1326:Lib/soes/src/esc_coe.c ****             coel->datatype = htoes ((objd + nsub)->datatype);
1327:Lib/soes/src/esc_coe.c ****             coel->maxsub = (uint8_t)SDOobjects[nidx].objdesc->value;
1328:Lib/soes/src/esc_coe.c ****          }
1329:Lib/soes/src/esc_coe.c ****          else
1330:Lib/soes/src/esc_coe.c ****          {
1331:Lib/soes/src/esc_coe.c ****             coel->datatype = htoes (0);
1332:Lib/soes/src/esc_coe.c ****             coel->maxsub = (uint8_t)SDOobjects[nidx].objdesc->value;
1333:Lib/soes/src/esc_coe.c ****          }
1334:Lib/soes/src/esc_coe.c ****          coel->objectcode = (uint8_t)SDOobjects[nidx].objtype;
1335:Lib/soes/src/esc_coe.c ****          s = (uint8_t *) SDOobjects[nidx].name;
1336:Lib/soes/src/esc_coe.c ****          d = (uint8_t *) &(coel->name);
1337:Lib/soes/src/esc_coe.c ****          while (*s && (n < (ESC_MBXDSIZE - 0x0c)))
1338:Lib/soes/src/esc_coe.c ****          {
1339:Lib/soes/src/esc_coe.c ****             *d = *s;
1340:Lib/soes/src/esc_coe.c ****             n++;
1341:Lib/soes/src/esc_coe.c ****             s++;
1342:Lib/soes/src/esc_coe.c ****             d++;
1343:Lib/soes/src/esc_coe.c ****          }
1344:Lib/soes/src/esc_coe.c ****          *d = *s;
1345:Lib/soes/src/esc_coe.c ****          coel->mbxheader.length = htoes (0x0C + n);
1346:Lib/soes/src/esc_coe.c ****          MBXcontrol[MBXout].state = MBXstate_outreq;
1347:Lib/soes/src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
1348:Lib/soes/src/esc_coe.c ****          ESCvar.xoe = 0;
ARM GAS  /tmp/ccoG2CDz.s 			page 26


1349:Lib/soes/src/esc_coe.c ****       }
1350:Lib/soes/src/esc_coe.c ****    }
1351:Lib/soes/src/esc_coe.c ****    else
1352:Lib/soes/src/esc_coe.c ****    {
1353:Lib/soes/src/esc_coe.c ****       SDO_infoerror (ABORT_NOOBJECT);
1354:Lib/soes/src/esc_coe.c ****    }
1355:Lib/soes/src/esc_coe.c **** }
1356:Lib/soes/src/esc_coe.c **** 
1357:Lib/soes/src/esc_coe.c **** /** Function for handling incoming requested SDO Get Entry Description,
1358:Lib/soes/src/esc_coe.c ****  * validating the request and sending an response. On error an
1359:Lib/soes/src/esc_coe.c ****  * SDO Info Error will be sent.
1360:Lib/soes/src/esc_coe.c ****  */
1361:Lib/soes/src/esc_coe.c **** static void SDO_geted (void)
1362:Lib/soes/src/esc_coe.c **** {
1363:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
1364:Lib/soes/src/esc_coe.c ****    uint16_t index;
1365:Lib/soes/src/esc_coe.c ****    int32_t nidx;
1366:Lib/soes/src/esc_coe.c ****    int16_t nsub;
1367:Lib/soes/src/esc_coe.c ****    uint8_t subindex;
1368:Lib/soes/src/esc_coe.c ****    uint8_t *d;
1369:Lib/soes/src/esc_coe.c ****    const uint8_t *s;
1370:Lib/soes/src/esc_coe.c ****    const _objd *objd;
1371:Lib/soes/src/esc_coe.c ****    uint8_t n = 0;
1372:Lib/soes/src/esc_coe.c ****    _COEentdesc *coer, *coel;
1373:Lib/soes/src/esc_coe.c ****    coer = (_COEentdesc *) &MBX[0];
1374:Lib/soes/src/esc_coe.c ****    index = etohs (coer->index);
1375:Lib/soes/src/esc_coe.c ****    subindex = coer->subindex;
1376:Lib/soes/src/esc_coe.c ****    nidx = SDO_findobject (index);
1377:Lib/soes/src/esc_coe.c ****    if (nidx >= 0)
1378:Lib/soes/src/esc_coe.c ****    {
1379:Lib/soes/src/esc_coe.c ****       nsub = SDO_findsubindex (nidx, subindex);
1380:Lib/soes/src/esc_coe.c ****       if (nsub >= 0)
1381:Lib/soes/src/esc_coe.c ****       {
1382:Lib/soes/src/esc_coe.c ****          objd = SDOobjects[nidx].objdesc;
1383:Lib/soes/src/esc_coe.c ****          MBXout = ESC_claimbuffer ();
1384:Lib/soes/src/esc_coe.c ****          if (MBXout)
1385:Lib/soes/src/esc_coe.c ****          {
1386:Lib/soes/src/esc_coe.c ****             coel = (_COEentdesc *) &MBX[MBXout * ESC_MBXSIZE];
1387:Lib/soes/src/esc_coe.c ****             coel->mbxheader.mbxtype = MBXCOE;
1388:Lib/soes/src/esc_coe.c ****             coel->coeheader.numberservice =
1389:Lib/soes/src/esc_coe.c ****                htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
1390:Lib/soes/src/esc_coe.c ****             coel->infoheader.opcode = COE_ENTRYDESCRIPTIONRESPONSE;
1391:Lib/soes/src/esc_coe.c ****             coel->infoheader.incomplete = 0;
1392:Lib/soes/src/esc_coe.c ****             coel->infoheader.reserved = 0x00;
1393:Lib/soes/src/esc_coe.c ****             coel->infoheader.fragmentsleft = htoes (0);
1394:Lib/soes/src/esc_coe.c ****             coel->index = htoes (index);
1395:Lib/soes/src/esc_coe.c ****             coel->subindex = subindex;
1396:Lib/soes/src/esc_coe.c ****             coel->valueinfo = COE_VALUEINFO_ACCESS +
1397:Lib/soes/src/esc_coe.c ****                COE_VALUEINFO_OBJECT + COE_VALUEINFO_MAPPABLE;
1398:Lib/soes/src/esc_coe.c ****             coel->datatype = htoes ((objd + nsub)->datatype);
1399:Lib/soes/src/esc_coe.c ****             coel->bitlength = htoes ((objd + nsub)->bitlength);
1400:Lib/soes/src/esc_coe.c ****             coel->access = htoes ((objd + nsub)->flags);
1401:Lib/soes/src/esc_coe.c ****             s = (uint8_t *) (objd + nsub)->name;
1402:Lib/soes/src/esc_coe.c ****             d = (uint8_t *) &(coel->name);
1403:Lib/soes/src/esc_coe.c ****             while (*s && (n < (ESC_MBXDSIZE - 0x10)))
1404:Lib/soes/src/esc_coe.c ****             {
1405:Lib/soes/src/esc_coe.c ****                *d = *s;
ARM GAS  /tmp/ccoG2CDz.s 			page 27


1406:Lib/soes/src/esc_coe.c ****                n++;
1407:Lib/soes/src/esc_coe.c ****                s++;
1408:Lib/soes/src/esc_coe.c ****                d++;
1409:Lib/soes/src/esc_coe.c ****             }
1410:Lib/soes/src/esc_coe.c ****             *d = *s;
1411:Lib/soes/src/esc_coe.c ****             coel->mbxheader.length = htoes (0x10 + n);
1412:Lib/soes/src/esc_coe.c ****             MBXcontrol[MBXout].state = MBXstate_outreq;
1413:Lib/soes/src/esc_coe.c ****             MBXcontrol[0].state = MBXstate_idle;
1414:Lib/soes/src/esc_coe.c ****             ESCvar.xoe = 0;
1415:Lib/soes/src/esc_coe.c ****          }
1416:Lib/soes/src/esc_coe.c ****       }
1417:Lib/soes/src/esc_coe.c ****       else
1418:Lib/soes/src/esc_coe.c ****       {
1419:Lib/soes/src/esc_coe.c ****          SDO_infoerror (ABORT_NOSUBINDEX);
1420:Lib/soes/src/esc_coe.c ****       }
1421:Lib/soes/src/esc_coe.c ****    }
1422:Lib/soes/src/esc_coe.c ****    else
1423:Lib/soes/src/esc_coe.c ****    {
1424:Lib/soes/src/esc_coe.c ****       SDO_infoerror (ABORT_NOOBJECT);
1425:Lib/soes/src/esc_coe.c ****    }
1426:Lib/soes/src/esc_coe.c **** }
1427:Lib/soes/src/esc_coe.c **** 
1428:Lib/soes/src/esc_coe.c **** /** Main CoE function checking the status on current mailbox buffers carrying
1429:Lib/soes/src/esc_coe.c ****  * data, distributing the mailboxes to appropriate CoE functions.
1430:Lib/soes/src/esc_coe.c ****  * On Error an MBX_error or SDO Abort will be sent depending on error cause.
1431:Lib/soes/src/esc_coe.c ****  */
1432:Lib/soes/src/esc_coe.c **** void ESC_coeprocess (void)
1433:Lib/soes/src/esc_coe.c **** {
1434:Lib/soes/src/esc_coe.c ****    _MBXh *mbh;
1435:Lib/soes/src/esc_coe.c ****    _COEsdo *coesdo;
1436:Lib/soes/src/esc_coe.c ****    _COEobjdesc *coeobjdesc;
1437:Lib/soes/src/esc_coe.c ****    uint16_t service;
1438:Lib/soes/src/esc_coe.c ****    if (ESCvar.MBXrun == 0)
1439:Lib/soes/src/esc_coe.c ****    {
1440:Lib/soes/src/esc_coe.c ****       return;
1441:Lib/soes/src/esc_coe.c ****    }
1442:Lib/soes/src/esc_coe.c ****    if (!ESCvar.xoe && (MBXcontrol[0].state == MBXstate_inclaim))
1443:Lib/soes/src/esc_coe.c ****    {
1444:Lib/soes/src/esc_coe.c ****       mbh = (_MBXh *) &MBX[0];
1445:Lib/soes/src/esc_coe.c ****       if (mbh->mbxtype == MBXCOE)
1446:Lib/soes/src/esc_coe.c ****       {
1447:Lib/soes/src/esc_coe.c ****          if (etohs (mbh->length) < COE_MINIMUM_LENGTH)
1448:Lib/soes/src/esc_coe.c ****          {
1449:Lib/soes/src/esc_coe.c ****             MBX_error (MBXERR_INVALIDSIZE);
1450:Lib/soes/src/esc_coe.c ****          }
1451:Lib/soes/src/esc_coe.c ****          else
1452:Lib/soes/src/esc_coe.c ****          {
1453:Lib/soes/src/esc_coe.c ****             ESCvar.xoe = MBXCOE;
1454:Lib/soes/src/esc_coe.c ****          }
1455:Lib/soes/src/esc_coe.c ****       }
1456:Lib/soes/src/esc_coe.c ****    }
1457:Lib/soes/src/esc_coe.c ****    if ((ESCvar.xoe == (MBXCOE + MBXODL)) && (!ESCvar.mbxoutpost))
1458:Lib/soes/src/esc_coe.c ****    {
1459:Lib/soes/src/esc_coe.c ****       /* continue get OD list */
1460:Lib/soes/src/esc_coe.c ****       SDO_getodlistcont ();
1461:Lib/soes/src/esc_coe.c ****    }
1462:Lib/soes/src/esc_coe.c ****    if (ESCvar.xoe == MBXCOE)
ARM GAS  /tmp/ccoG2CDz.s 			page 28


1463:Lib/soes/src/esc_coe.c ****    {
1464:Lib/soes/src/esc_coe.c ****       coesdo = (_COEsdo *) &MBX[0];
1465:Lib/soes/src/esc_coe.c ****       coeobjdesc = (_COEobjdesc *) &MBX[0];
1466:Lib/soes/src/esc_coe.c ****       service = etohs (coesdo->coeheader.numberservice) >> 12;
1467:Lib/soes/src/esc_coe.c ****       if (service == COE_SDOREQUEST)
1468:Lib/soes/src/esc_coe.c ****       {
1469:Lib/soes/src/esc_coe.c ****          if ((SDO_COMMAND(coesdo->command) == COE_COMMAND_UPLOADREQUEST)
1470:Lib/soes/src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE))
1471:Lib/soes/src/esc_coe.c ****          {
1472:Lib/soes/src/esc_coe.c ****             /* initiate SDO upload request */
1473:Lib/soes/src/esc_coe.c ****             if (SDO_COMPLETE_ACCESS(coesdo->command))
1474:Lib/soes/src/esc_coe.c ****             {
1475:Lib/soes/src/esc_coe.c ****                SDO_upload_complete_access ();
1476:Lib/soes/src/esc_coe.c ****             }
1477:Lib/soes/src/esc_coe.c ****             else
1478:Lib/soes/src/esc_coe.c ****             {
1479:Lib/soes/src/esc_coe.c ****                SDO_upload ();
1480:Lib/soes/src/esc_coe.c ****             }
1481:Lib/soes/src/esc_coe.c ****          }
1482:Lib/soes/src/esc_coe.c ****          else if (((coesdo->command & 0xef) == COE_COMMAND_UPLOADSEGREQ)
1483:Lib/soes/src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE)
1484:Lib/soes/src/esc_coe.c ****                && (ESCvar.segmented == MBXSEU))
1485:Lib/soes/src/esc_coe.c ****          {
1486:Lib/soes/src/esc_coe.c ****             /* SDO upload segment request */
1487:Lib/soes/src/esc_coe.c ****             SDO_uploadsegment ();
1488:Lib/soes/src/esc_coe.c ****          }
1489:Lib/soes/src/esc_coe.c ****          else if (SDO_COMMAND(coesdo->command) == COE_COMMAND_DOWNLOADREQUEST)
1490:Lib/soes/src/esc_coe.c ****          {
1491:Lib/soes/src/esc_coe.c ****             /* initiate SDO download request */
1492:Lib/soes/src/esc_coe.c ****             if (SDO_COMPLETE_ACCESS(coesdo->command))
1493:Lib/soes/src/esc_coe.c ****             {
1494:Lib/soes/src/esc_coe.c ****                SDO_download_complete_access ();
1495:Lib/soes/src/esc_coe.c ****             }
1496:Lib/soes/src/esc_coe.c ****             else
1497:Lib/soes/src/esc_coe.c ****             {
1498:Lib/soes/src/esc_coe.c ****                SDO_download ();
1499:Lib/soes/src/esc_coe.c ****             }
1500:Lib/soes/src/esc_coe.c ****          }
1501:Lib/soes/src/esc_coe.c ****          else if (SDO_COMMAND(coesdo->command) == COE_COMMAND_DOWNLOADSEGREQ)
1502:Lib/soes/src/esc_coe.c ****          {
1503:Lib/soes/src/esc_coe.c ****             /* SDO download segment request */
1504:Lib/soes/src/esc_coe.c ****             SDO_downloadsegment ();
1505:Lib/soes/src/esc_coe.c ****          }
1506:Lib/soes/src/esc_coe.c ****       }
1507:Lib/soes/src/esc_coe.c ****       /* initiate SDO get OD list */
1508:Lib/soes/src/esc_coe.c ****       else
1509:Lib/soes/src/esc_coe.c ****       {
1510:Lib/soes/src/esc_coe.c ****          if ((service == COE_SDOINFORMATION)
1511:Lib/soes/src/esc_coe.c ****                && (coeobjdesc->infoheader.opcode == 0x01))
1512:Lib/soes/src/esc_coe.c ****          {
1513:Lib/soes/src/esc_coe.c ****             SDO_getodlist ();
1514:Lib/soes/src/esc_coe.c ****          }
1515:Lib/soes/src/esc_coe.c ****          /* initiate SDO get OD */
1516:Lib/soes/src/esc_coe.c ****          else
1517:Lib/soes/src/esc_coe.c ****          {
1518:Lib/soes/src/esc_coe.c ****             if ((service == COE_SDOINFORMATION)
1519:Lib/soes/src/esc_coe.c ****                   && (coeobjdesc->infoheader.opcode == 0x03))
ARM GAS  /tmp/ccoG2CDz.s 			page 29


1520:Lib/soes/src/esc_coe.c ****             {
1521:Lib/soes/src/esc_coe.c ****                SDO_getod ();
1522:Lib/soes/src/esc_coe.c ****             }
1523:Lib/soes/src/esc_coe.c ****             /* initiate SDO get ED */
1524:Lib/soes/src/esc_coe.c ****             else
1525:Lib/soes/src/esc_coe.c ****             {
1526:Lib/soes/src/esc_coe.c ****                if ((service == COE_SDOINFORMATION)
1527:Lib/soes/src/esc_coe.c ****                      && (coeobjdesc->infoheader.opcode == 0x05))
1528:Lib/soes/src/esc_coe.c ****                {
1529:Lib/soes/src/esc_coe.c ****                   SDO_geted ();
1530:Lib/soes/src/esc_coe.c ****                }
1531:Lib/soes/src/esc_coe.c ****                else
1532:Lib/soes/src/esc_coe.c ****                {
1533:Lib/soes/src/esc_coe.c ****                   /* COE not recognised above */
1534:Lib/soes/src/esc_coe.c ****                   if (ESCvar.xoe == MBXCOE)
1535:Lib/soes/src/esc_coe.c ****                   {
1536:Lib/soes/src/esc_coe.c ****                      if (service == 0)
1537:Lib/soes/src/esc_coe.c ****                      {
1538:Lib/soes/src/esc_coe.c ****                         MBX_error (MBXERR_INVALIDHEADER);
1539:Lib/soes/src/esc_coe.c ****                      }
1540:Lib/soes/src/esc_coe.c ****                      else
1541:Lib/soes/src/esc_coe.c ****                      {
1542:Lib/soes/src/esc_coe.c ****                         SDO_abort (0, etohs (coesdo->index), coesdo->subindex, ABORT_UNSUPPORTED);
1543:Lib/soes/src/esc_coe.c ****                      }
1544:Lib/soes/src/esc_coe.c ****                      MBXcontrol[0].state = MBXstate_idle;
1545:Lib/soes/src/esc_coe.c ****                      ESCvar.xoe = 0;
1546:Lib/soes/src/esc_coe.c ****                   }
1547:Lib/soes/src/esc_coe.c ****                }
1548:Lib/soes/src/esc_coe.c ****             }
1549:Lib/soes/src/esc_coe.c ****          }
1550:Lib/soes/src/esc_coe.c ****       }
1551:Lib/soes/src/esc_coe.c ****    }
1552:Lib/soes/src/esc_coe.c **** }
1553:Lib/soes/src/esc_coe.c **** 
1554:Lib/soes/src/esc_coe.c **** /**
1555:Lib/soes/src/esc_coe.c ****  * Get value from bitmap
1556:Lib/soes/src/esc_coe.c ****  *
1557:Lib/soes/src/esc_coe.c ****  * This function gets a value from a bitmap.
1558:Lib/soes/src/esc_coe.c ****  *
1559:Lib/soes/src/esc_coe.c ****  * @param[in] bitmap = bitmap containing value
1560:Lib/soes/src/esc_coe.c ****  * @param[in] offset = start offset
1561:Lib/soes/src/esc_coe.c ****  * @param[in] length = number of bits to get
1562:Lib/soes/src/esc_coe.c ****  * @return bitslice value
1563:Lib/soes/src/esc_coe.c ****  */
1564:Lib/soes/src/esc_coe.c **** static uint64_t COE_bitsliceGet (uint64_t * bitmap, unsigned int offset, unsigned int length)
1565:Lib/soes/src/esc_coe.c **** {
  81              		.loc 1 1565 1 is_stmt 1 view -0
  82              		.cfi_startproc
  83              		@ args = 0, pretend = 0, frame = 0
  84              		@ frame_needed = 0, uses_anonymous_args = 0
  85              		.loc 1 1565 1 is_stmt 0 view .LVU18
  86 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
  87              		.cfi_def_cfa_offset 24
  88              		.cfi_offset 4, -24
  89              		.cfi_offset 5, -20
  90              		.cfi_offset 6, -16
  91              		.cfi_offset 7, -12
ARM GAS  /tmp/ccoG2CDz.s 			page 30


  92              		.cfi_offset 8, -8
  93              		.cfi_offset 14, -4
1566:Lib/soes/src/esc_coe.c ****    const unsigned int word_offset = offset / 64;
  94              		.loc 1 1566 4 is_stmt 1 view .LVU19
  95              		.loc 1 1566 23 is_stmt 0 view .LVU20
  96 0004 8D09     		lsrs	r5, r1, #6
  97              	.LVL5:
1567:Lib/soes/src/esc_coe.c ****    const unsigned int bit_offset = offset % 64;
  98              		.loc 1 1567 4 is_stmt 1 view .LVU21
  99              		.loc 1 1567 23 is_stmt 0 view .LVU22
 100 0006 01F03F03 		and	r3, r1, #63
 101              	.LVL6:
1568:Lib/soes/src/esc_coe.c ****    const uint64_t mask = (length == 64) ? UINT64_MAX : (1ULL << length) - 1;
 102              		.loc 1 1568 4 is_stmt 1 view .LVU23
 103              		.loc 1 1568 54 is_stmt 0 view .LVU24
 104 000a 402A     		cmp	r2, #64
 105 000c 43D0     		beq	.L6
 106              		.loc 1 1568 62 discriminator 1 view .LVU25
 107 000e 4FF0010E 		mov	lr, #1
 108 0012 A2F12001 		sub	r1, r2, #32
 109              	.LVL7:
 110              		.loc 1 1568 62 discriminator 1 view .LVU26
 111 0016 C2F12004 		rsb	r4, r2, #32
 112 001a 0EFA01F1 		lsl	r1, lr, r1
 113 001e 2EFA04F4 		lsr	r4, lr, r4
 114 0022 2143     		orrs	r1, r1, r4
 115 0024 0EFA02FE 		lsl	lr, lr, r2
 116              		.loc 1 1568 54 discriminator 1 view .LVU27
 117 0028 1EF1FF3E 		adds	lr, lr, #-1
 118 002c 41F1FF38 		adc	r8, r1, #-1
 119              	.L4:
 120              	.LVL8:
1569:Lib/soes/src/esc_coe.c ****    uint64_t w0;
 121              		.loc 1 1569 4 is_stmt 1 discriminator 4 view .LVU28
1570:Lib/soes/src/esc_coe.c ****    uint64_t w1 = 0;
 122              		.loc 1 1570 4 discriminator 4 view .LVU29
1571:Lib/soes/src/esc_coe.c **** 
1572:Lib/soes/src/esc_coe.c ****    /* Get the least significant word */
1573:Lib/soes/src/esc_coe.c ****    w0 = bitmap[word_offset];
 123              		.loc 1 1573 4 discriminator 4 view .LVU30
 124              		.loc 1 1573 15 is_stmt 0 discriminator 4 view .LVU31
 125 0030 00EBC504 		add	r4, r0, r5, lsl #3
 126              		.loc 1 1573 7 discriminator 4 view .LVU32
 127 0034 6468     		ldr	r4, [r4, #4]
 128              	.LVL9:
1574:Lib/soes/src/esc_coe.c ****    w0 = w0 >> bit_offset;
 129              		.loc 1 1574 4 is_stmt 1 discriminator 4 view .LVU33
 130              		.loc 1 1574 7 is_stmt 0 discriminator 4 view .LVU34
 131 0036 C3F12007 		rsb	r7, r3, #32
 132 003a A3F12006 		sub	r6, r3, #32
 133 003e 50F83510 		ldr	r1, [r0, r5, lsl #3]
 134 0042 21FA03FC 		lsr	ip, r1, r3
 135 0046 04FA07F7 		lsl	r7, r4, r7
 136 004a 4CEA070C 		orr	ip, ip, r7
 137 004e 24FA06F6 		lsr	r6, r4, r6
 138 0052 4CEA060C 		orr	ip, ip, r6
 139 0056 DC40     		lsrs	r4, r4, r3
ARM GAS  /tmp/ccoG2CDz.s 			page 31


 140              	.LVL10:
1575:Lib/soes/src/esc_coe.c **** 
1576:Lib/soes/src/esc_coe.c ****    /* Get the most significant word, if required */
1577:Lib/soes/src/esc_coe.c ****    if (length + bit_offset > 64)
 141              		.loc 1 1577 4 is_stmt 1 discriminator 4 view .LVU35
 142              		.loc 1 1577 15 is_stmt 0 discriminator 4 view .LVU36
 143 0058 1A44     		add	r2, r2, r3
 144              	.LVL11:
 145              		.loc 1 1577 7 discriminator 4 view .LVU37
 146 005a 402A     		cmp	r2, #64
 147 005c 1FD9     		bls	.L7
1578:Lib/soes/src/esc_coe.c ****    {
1579:Lib/soes/src/esc_coe.c ****       w1 = bitmap[word_offset + 1];
 148              		.loc 1 1579 7 is_stmt 1 view .LVU38
 149              		.loc 1 1579 18 is_stmt 0 view .LVU39
 150 005e 0135     		adds	r5, r5, #1
 151              	.LVL12:
 152              		.loc 1 1579 18 view .LVU40
 153 0060 00EBC502 		add	r2, r0, r5, lsl #3
 154              		.loc 1 1579 10 view .LVU41
 155 0064 50F83500 		ldr	r0, [r0, r5, lsl #3]
 156              	.LVL13:
 157              		.loc 1 1579 10 view .LVU42
 158 0068 5268     		ldr	r2, [r2, #4]
 159              	.LVL14:
1580:Lib/soes/src/esc_coe.c ****       w1 = w1 << (64 - bit_offset);
 160              		.loc 1 1580 7 is_stmt 1 view .LVU43
 161              		.loc 1 1580 22 is_stmt 0 view .LVU44
 162 006a C3F14006 		rsb	r6, r3, #64
 163              		.loc 1 1580 10 view .LVU45
 164 006e C3F12005 		rsb	r5, r3, #32
 165              	.LVL15:
 166              		.loc 1 1580 10 view .LVU46
 167 0072 203B     		subs	r3, r3, #32
 168              	.LVL16:
 169              		.loc 1 1580 10 view .LVU47
 170 0074 B240     		lsls	r2, r2, r6
 171              	.LVL17:
 172              		.loc 1 1580 10 view .LVU48
 173 0076 00FA05F5 		lsl	r5, r0, r5
 174 007a 2A43     		orrs	r2, r2, r5
 175 007c 20FA03F3 		lsr	r3, r0, r3
 176              	.LVL18:
 177              		.loc 1 1580 10 view .LVU49
 178 0080 1A43     		orrs	r2, r2, r3
 179 0082 B040     		lsls	r0, r0, r6
 180              	.LVL19:
 181              	.L5:
1581:Lib/soes/src/esc_coe.c ****    }
1582:Lib/soes/src/esc_coe.c **** 
1583:Lib/soes/src/esc_coe.c ****    w0 = (w1 | w0);
 182              		.loc 1 1583 4 is_stmt 1 view .LVU50
 183              		.loc 1 1583 7 is_stmt 0 view .LVU51
 184 0084 40EA0C00 		orr	r0, r0, ip
 185              	.LVL20:
 186              		.loc 1 1583 7 view .LVU52
 187 0088 2243     		orrs	r2, r2, r4
ARM GAS  /tmp/ccoG2CDz.s 			page 32


 188              	.LVL21:
1584:Lib/soes/src/esc_coe.c ****    return (w0 & mask);
 189              		.loc 1 1584 4 is_stmt 1 view .LVU53
1585:Lib/soes/src/esc_coe.c **** }
 190              		.loc 1 1585 1 is_stmt 0 view .LVU54
 191 008a 0EEA0000 		and	r0, lr, r0
 192              	.LVL22:
 193              		.loc 1 1585 1 view .LVU55
 194 008e 08EA0201 		and	r1, r8, r2
 195 0092 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 196              	.LVL23:
 197              	.L6:
1568:Lib/soes/src/esc_coe.c ****    uint64_t w0;
 198              		.loc 1 1568 54 view .LVU56
 199 0096 4FF0FF3E 		mov	lr, #-1
 200 009a F046     		mov	r8, lr
 201 009c C8E7     		b	.L4
 202              	.LVL24:
 203              	.L7:
1570:Lib/soes/src/esc_coe.c **** 
 204              		.loc 1 1570 13 view .LVU57
 205 009e 0020     		movs	r0, #0
 206              	.LVL25:
1570:Lib/soes/src/esc_coe.c **** 
 207              		.loc 1 1570 13 view .LVU58
 208 00a0 0246     		mov	r2, r0
 209 00a2 EFE7     		b	.L5
 210              		.cfi_endproc
 211              	.LFE21:
 213              		.section	.text.COE_bitsliceSet,"ax",%progbits
 214              		.align	1
 215              		.syntax unified
 216              		.thumb
 217              		.thumb_func
 218              		.fpu fpv4-sp-d16
 220              	COE_bitsliceSet:
 221              	.LVL26:
 222              	.LFB22:
1586:Lib/soes/src/esc_coe.c **** 
1587:Lib/soes/src/esc_coe.c **** /**
1588:Lib/soes/src/esc_coe.c ****  * Set value in bitmap
1589:Lib/soes/src/esc_coe.c ****  *
1590:Lib/soes/src/esc_coe.c ****  * This function sets a value in a bitmap.
1591:Lib/soes/src/esc_coe.c ****  *
1592:Lib/soes/src/esc_coe.c ****  * @param[in] bitmap = bitmap to contain value
1593:Lib/soes/src/esc_coe.c ****  * @param[in] offset = start offset
1594:Lib/soes/src/esc_coe.c ****  * @param[in] length = number of bits to set
1595:Lib/soes/src/esc_coe.c ****  * @param[in] value  = value to set
1596:Lib/soes/src/esc_coe.c ****  */
1597:Lib/soes/src/esc_coe.c **** static void COE_bitsliceSet (uint64_t * bitmap, unsigned int offset, unsigned int length,
1598:Lib/soes/src/esc_coe.c ****                              uint64_t value)
1599:Lib/soes/src/esc_coe.c **** {
 223              		.loc 1 1599 1 is_stmt 1 view -0
 224              		.cfi_startproc
 225              		@ args = 8, pretend = 0, frame = 8
 226              		@ frame_needed = 0, uses_anonymous_args = 0
 227              		.loc 1 1599 1 is_stmt 0 view .LVU60
ARM GAS  /tmp/ccoG2CDz.s 			page 33


 228 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 229              		.cfi_def_cfa_offset 36
 230              		.cfi_offset 4, -36
 231              		.cfi_offset 5, -32
 232              		.cfi_offset 6, -28
 233              		.cfi_offset 7, -24
 234              		.cfi_offset 8, -20
 235              		.cfi_offset 9, -16
 236              		.cfi_offset 10, -12
 237              		.cfi_offset 11, -8
 238              		.cfi_offset 14, -4
 239 0004 83B0     		sub	sp, sp, #12
 240              		.cfi_def_cfa_offset 48
 241 0006 0C9C     		ldr	r4, [sp, #48]
 242 0008 0D9F     		ldr	r7, [sp, #52]
1600:Lib/soes/src/esc_coe.c ****    const unsigned int word_offset = offset / 64;
 243              		.loc 1 1600 4 is_stmt 1 view .LVU61
 244              		.loc 1 1600 23 is_stmt 0 view .LVU62
 245 000a 8E09     		lsrs	r6, r1, #6
 246              	.LVL27:
1601:Lib/soes/src/esc_coe.c ****    const unsigned int bit_offset = offset % 64;
 247              		.loc 1 1601 4 is_stmt 1 view .LVU63
 248              		.loc 1 1601 23 is_stmt 0 view .LVU64
 249 000c 01F03F01 		and	r1, r1, #63
 250              	.LVL28:
1602:Lib/soes/src/esc_coe.c ****    const uint64_t mask = (length == 64) ? UINT64_MAX : (1ULL << length) - 1;
 251              		.loc 1 1602 4 is_stmt 1 view .LVU65
 252              		.loc 1 1602 54 is_stmt 0 view .LVU66
 253 0010 402A     		cmp	r2, #64
 254 0012 7AD0     		beq	.L12
 255              		.loc 1 1602 62 discriminator 1 view .LVU67
 256 0014 0123     		movs	r3, #1
 257 0016 A2F1200E 		sub	lr, r2, #32
 258 001a C2F12005 		rsb	r5, r2, #32
 259 001e 03FA0EFE 		lsl	lr, r3, lr
 260 0022 23FA05F5 		lsr	r5, r3, r5
 261 0026 4EEA050E 		orr	lr, lr, r5
 262 002a 9340     		lsls	r3, r3, r2
 263              		.loc 1 1602 54 discriminator 1 view .LVU68
 264 002c 013B     		subs	r3, r3, #1
 265 002e 4EF1FF3E 		adc	lr, lr, #-1
 266              	.L10:
 267              	.LVL29:
1603:Lib/soes/src/esc_coe.c ****    const uint64_t mask0 = mask << bit_offset;
 268              		.loc 1 1603 4 is_stmt 1 discriminator 4 view .LVU69
 269              		.loc 1 1603 19 is_stmt 0 discriminator 4 view .LVU70
 270 0032 A1F1200C 		sub	ip, r1, #32
 271 0036 C1F12005 		rsb	r5, r1, #32
 272 003a 0EFA01F8 		lsl	r8, lr, r1
 273 003e 03FA0CFC 		lsl	ip, r3, ip
 274 0042 48EA0C08 		orr	r8, r8, ip
 275 0046 23FA05F5 		lsr	r5, r3, r5
 276 004a 48EA0508 		orr	r8, r8, r5
 277 004e 03FA01F5 		lsl	r5, r3, r1
 278 0052 0195     		str	r5, [sp, #4]
1604:Lib/soes/src/esc_coe.c ****    uint64_t v0 = value << bit_offset;
 279              		.loc 1 1604 4 is_stmt 1 discriminator 4 view .LVU71
ARM GAS  /tmp/ccoG2CDz.s 			page 34


 280              		.loc 1 1604 13 is_stmt 0 discriminator 4 view .LVU72
 281 0054 A1F1200A 		sub	r10, r1, #32
 282 0058 C1F12009 		rsb	r9, r1, #32
 283 005c 07FA01FC 		lsl	ip, r7, r1
 284 0060 04FA0AFA 		lsl	r10, r4, r10
 285 0064 4CEA0A0C 		orr	ip, ip, r10
 286 0068 24FA09F9 		lsr	r9, r4, r9
 287 006c 4CEA090C 		orr	ip, ip, r9
 288 0070 04FA01F9 		lsl	r9, r4, r1
1605:Lib/soes/src/esc_coe.c ****    uint64_t w0 = bitmap[word_offset];
 289              		.loc 1 1605 4 is_stmt 1 discriminator 4 view .LVU73
 290              		.loc 1 1605 24 is_stmt 0 discriminator 4 view .LVU74
 291 0074 00EBC60A 		add	r10, r0, r6, lsl #3
 292              		.loc 1 1605 13 discriminator 4 view .LVU75
 293 0078 50F836B0 		ldr	fp, [r0, r6, lsl #3]
 294              	.LVL30:
1606:Lib/soes/src/esc_coe.c **** 
1607:Lib/soes/src/esc_coe.c ****    /* Set the least significant word */
1608:Lib/soes/src/esc_coe.c ****    w0 = (w0 & ~mask0) | (v0 & mask0);
 295              		.loc 1 1608 4 is_stmt 1 discriminator 4 view .LVU76
 296 007c 89EA0B09 		eor	r9, r9, fp
 297 0080 DAF80450 		ldr	r5, [r10, #4]
 298 0084 8CEA050C 		eor	ip, ip, r5
 299 0088 019D     		ldr	r5, [sp, #4]
 300 008a 09EA0509 		and	r9, r9, r5
 301 008e 0CEA080C 		and	ip, ip, r8
 302              		.loc 1 1608 7 is_stmt 0 discriminator 4 view .LVU77
 303 0092 89EA0B09 		eor	r9, r9, fp
 304 0096 DAF80450 		ldr	r5, [r10, #4]
 305 009a 8CEA0505 		eor	r5, ip, r5
 306              	.LVL31:
1609:Lib/soes/src/esc_coe.c ****    bitmap[word_offset] = w0;
 307              		.loc 1 1609 4 is_stmt 1 discriminator 4 view .LVU78
 308              		.loc 1 1609 24 is_stmt 0 discriminator 4 view .LVU79
 309 009e 40F83690 		str	r9, [r0, r6, lsl #3]
 310 00a2 CAF80450 		str	r5, [r10, #4]
1610:Lib/soes/src/esc_coe.c **** 
1611:Lib/soes/src/esc_coe.c ****    /* Set the most significant word, if required */
1612:Lib/soes/src/esc_coe.c ****    if (length + bit_offset > 64)
 311              		.loc 1 1612 4 is_stmt 1 discriminator 4 view .LVU80
 312              		.loc 1 1612 15 is_stmt 0 discriminator 4 view .LVU81
 313 00a6 0A44     		add	r2, r2, r1
 314              	.LVL32:
 315              		.loc 1 1612 7 discriminator 4 view .LVU82
 316 00a8 402A     		cmp	r2, #64
 317 00aa 2BD9     		bls	.L9
 318              	.LBB2:
1613:Lib/soes/src/esc_coe.c ****    {
1614:Lib/soes/src/esc_coe.c ****       const uint64_t mask1 = mask >> (64 - bit_offset);
 319              		.loc 1 1614 7 is_stmt 1 view .LVU83
 320              		.loc 1 1614 42 is_stmt 0 view .LVU84
 321 00ac C1F14002 		rsb	r2, r1, #64
 322              		.loc 1 1614 22 view .LVU85
 323 00b0 A1F12005 		sub	r5, r1, #32
 324              	.LVL33:
 325              		.loc 1 1614 22 view .LVU86
 326 00b4 C1F12001 		rsb	r1, r1, #32
ARM GAS  /tmp/ccoG2CDz.s 			page 35


 327              	.LVL34:
 328              		.loc 1 1614 22 view .LVU87
 329 00b8 D340     		lsrs	r3, r3, r2
 330              	.LVL35:
 331              		.loc 1 1614 22 view .LVU88
 332 00ba 0EFA05F5 		lsl	r5, lr, r5
 333              	.LVL36:
 334              		.loc 1 1614 22 view .LVU89
 335 00be 2B43     		orrs	r3, r3, r5
 336 00c0 2EFA01F1 		lsr	r1, lr, r1
 337 00c4 0B43     		orrs	r3, r3, r1
 338 00c6 2EFA02FE 		lsr	lr, lr, r2
 339              	.LVL37:
1615:Lib/soes/src/esc_coe.c ****       uint64_t v1 = value >> (64 - bit_offset);
 340              		.loc 1 1615 7 is_stmt 1 view .LVU90
 341              		.loc 1 1615 16 is_stmt 0 view .LVU91
 342 00ca C2F12005 		rsb	r5, r2, #32
 343 00ce A2F12001 		sub	r1, r2, #32
 344 00d2 D440     		lsrs	r4, r4, r2
 345 00d4 07FA05F5 		lsl	r5, r7, r5
 346 00d8 2C43     		orrs	r4, r4, r5
 347 00da 27FA01F1 		lsr	r1, r7, r1
 348 00de 0C43     		orrs	r4, r4, r1
 349 00e0 D740     		lsrs	r7, r7, r2
 350              	.LVL38:
1616:Lib/soes/src/esc_coe.c ****       uint64_t w1 = bitmap[word_offset + 1];
 351              		.loc 1 1616 7 is_stmt 1 view .LVU92
 352              		.loc 1 1616 27 is_stmt 0 view .LVU93
 353 00e2 0136     		adds	r6, r6, #1
 354              	.LVL39:
 355              		.loc 1 1616 27 view .LVU94
 356 00e4 00EBC605 		add	r5, r0, r6, lsl #3
 357              		.loc 1 1616 16 view .LVU95
 358 00e8 50F83610 		ldr	r1, [r0, r6, lsl #3]
 359 00ec 6A68     		ldr	r2, [r5, #4]
 360              	.LVL40:
1617:Lib/soes/src/esc_coe.c **** 
1618:Lib/soes/src/esc_coe.c ****       w1 = (w1 & ~mask1) | (v1 & mask1);
 361              		.loc 1 1618 7 is_stmt 1 view .LVU96
 362 00ee 4C40     		eors	r4, r4, r1
 363              	.LVL41:
 364              		.loc 1 1618 7 is_stmt 0 view .LVU97
 365 00f0 5740     		eors	r7, r7, r2
 366              	.LVL42:
 367              		.loc 1 1618 7 view .LVU98
 368 00f2 1C40     		ands	r4, r4, r3
 369 00f4 07EA0E0E 		and	lr, r7, lr
 370              	.LVL43:
 371              		.loc 1 1618 10 view .LVU99
 372 00f8 4C40     		eors	r4, r4, r1
 373 00fa 82EA0E02 		eor	r2, r2, lr
 374              	.LVL44:
1619:Lib/soes/src/esc_coe.c ****       bitmap[word_offset + 1] = w1;
 375              		.loc 1 1619 7 is_stmt 1 view .LVU100
 376              		.loc 1 1619 31 is_stmt 0 view .LVU101
 377 00fe 40F83640 		str	r4, [r0, r6, lsl #3]
 378              	.LVL45:
ARM GAS  /tmp/ccoG2CDz.s 			page 36


 379              		.loc 1 1619 31 view .LVU102
 380 0102 6A60     		str	r2, [r5, #4]
 381              	.LVL46:
 382              	.L9:
 383              		.loc 1 1619 31 view .LVU103
 384              	.LBE2:
1620:Lib/soes/src/esc_coe.c ****    }
1621:Lib/soes/src/esc_coe.c **** }
 385              		.loc 1 1621 1 view .LVU104
 386 0104 03B0     		add	sp, sp, #12
 387              		.cfi_remember_state
 388              		.cfi_def_cfa_offset 36
 389              		@ sp needed
 390 0106 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 391              	.LVL47:
 392              	.L12:
 393              		.cfi_restore_state
1602:Lib/soes/src/esc_coe.c ****    const uint64_t mask0 = mask << bit_offset;
 394              		.loc 1 1602 54 view .LVU105
 395 010a 4FF0FF33 		mov	r3, #-1
 396 010e 9E46     		mov	lr, r3
 397 0110 8FE7     		b	.L10
 398              		.cfi_endproc
 399              	.LFE22:
 401              		.section	.text.COE_setValue,"ax",%progbits
 402              		.align	1
 403              		.syntax unified
 404              		.thumb
 405              		.thumb_func
 406              		.fpu fpv4-sp-d16
 408              	COE_setValue:
 409              	.LVL48:
 410              	.LFB24:
1622:Lib/soes/src/esc_coe.c **** 
1623:Lib/soes/src/esc_coe.c **** /**
1624:Lib/soes/src/esc_coe.c ****  * Get object value
1625:Lib/soes/src/esc_coe.c ****  *
1626:Lib/soes/src/esc_coe.c ****  * This function atomically gets an object value.
1627:Lib/soes/src/esc_coe.c ****  *
1628:Lib/soes/src/esc_coe.c ****  * @param[in] obj   = object description
1629:Lib/soes/src/esc_coe.c ****  * @return object value
1630:Lib/soes/src/esc_coe.c ****  */
1631:Lib/soes/src/esc_coe.c **** static uint64_t COE_getValue (const _objd * obj)
1632:Lib/soes/src/esc_coe.c **** {
1633:Lib/soes/src/esc_coe.c ****    uint64_t value = 0;
1634:Lib/soes/src/esc_coe.c **** 
1635:Lib/soes/src/esc_coe.c ****    /* TODO: const data */
1636:Lib/soes/src/esc_coe.c **** 
1637:Lib/soes/src/esc_coe.c ****    switch(obj->datatype)
1638:Lib/soes/src/esc_coe.c ****    {
1639:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT1:
1640:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT2:
1641:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT3:
1642:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT4:
1643:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT5:
1644:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT6:
1645:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT7:
ARM GAS  /tmp/ccoG2CDz.s 			page 37


1646:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT8:
1647:Lib/soes/src/esc_coe.c ****    case DTYPE_BOOLEAN:
1648:Lib/soes/src/esc_coe.c ****    case DTYPE_UNSIGNED8:
1649:Lib/soes/src/esc_coe.c ****    case DTYPE_INTEGER8:
1650:Lib/soes/src/esc_coe.c ****    case DTYPE_BITARR8:
1651:Lib/soes/src/esc_coe.c ****       value = *(uint8_t *)obj->data;
1652:Lib/soes/src/esc_coe.c ****       break;
1653:Lib/soes/src/esc_coe.c **** 
1654:Lib/soes/src/esc_coe.c ****    case DTYPE_UNSIGNED16:
1655:Lib/soes/src/esc_coe.c ****    case DTYPE_INTEGER16:
1656:Lib/soes/src/esc_coe.c ****    case DTYPE_BITARR16:
1657:Lib/soes/src/esc_coe.c ****       value = *(uint16_t *)obj->data;
1658:Lib/soes/src/esc_coe.c ****       break;
1659:Lib/soes/src/esc_coe.c **** 
1660:Lib/soes/src/esc_coe.c ****    case DTYPE_REAL32:
1661:Lib/soes/src/esc_coe.c ****    case DTYPE_UNSIGNED32:
1662:Lib/soes/src/esc_coe.c ****    case DTYPE_INTEGER32:
1663:Lib/soes/src/esc_coe.c ****    case DTYPE_BITARR32:
1664:Lib/soes/src/esc_coe.c ****       value = *(uint32_t *)obj->data;
1665:Lib/soes/src/esc_coe.c ****       break;
1666:Lib/soes/src/esc_coe.c **** 
1667:Lib/soes/src/esc_coe.c ****    case DTYPE_REAL64:
1668:Lib/soes/src/esc_coe.c ****    case DTYPE_UNSIGNED64:
1669:Lib/soes/src/esc_coe.c ****    case DTYPE_INTEGER64:
1670:Lib/soes/src/esc_coe.c ****       /* FIXME: must be atomic */
1671:Lib/soes/src/esc_coe.c ****       value = *(uint64_t *)obj->data;
1672:Lib/soes/src/esc_coe.c ****       break;
1673:Lib/soes/src/esc_coe.c **** 
1674:Lib/soes/src/esc_coe.c ****    default:
1675:Lib/soes/src/esc_coe.c ****       CC_ASSERT (0);
1676:Lib/soes/src/esc_coe.c ****    }
1677:Lib/soes/src/esc_coe.c **** 
1678:Lib/soes/src/esc_coe.c ****    return value;
1679:Lib/soes/src/esc_coe.c **** }
1680:Lib/soes/src/esc_coe.c **** 
1681:Lib/soes/src/esc_coe.c **** /**
1682:Lib/soes/src/esc_coe.c ****  * Set object value
1683:Lib/soes/src/esc_coe.c ****  *
1684:Lib/soes/src/esc_coe.c ****  * This function atomically sets an object value.
1685:Lib/soes/src/esc_coe.c ****  *
1686:Lib/soes/src/esc_coe.c ****  * @param[in] obj   = object description
1687:Lib/soes/src/esc_coe.c ****  * @param[in] value = new value
1688:Lib/soes/src/esc_coe.c ****  */
1689:Lib/soes/src/esc_coe.c **** static void COE_setValue (const _objd * obj, uint64_t value)
1690:Lib/soes/src/esc_coe.c **** {
 411              		.loc 1 1690 1 is_stmt 1 view -0
 412              		.cfi_startproc
 413              		@ args = 0, pretend = 0, frame = 0
 414              		@ frame_needed = 0, uses_anonymous_args = 0
 415              		@ link register save eliminated.
1691:Lib/soes/src/esc_coe.c ****    switch(obj->datatype)
 416              		.loc 1 1691 4 view .LVU107
 417              		.loc 1 1691 14 is_stmt 0 view .LVU108
 418 0000 4188     		ldrh	r1, [r0, #2]
 419              		.loc 1 1691 4 view .LVU109
 420 0002 0139     		subs	r1, r1, #1
 421 0004 3629     		cmp	r1, #54
ARM GAS  /tmp/ccoG2CDz.s 			page 38


 422 0006 29D8     		bhi	.L14
 423 0008 DFE801F0 		tbb	[pc, r1]
 424              	.L17:
 425 000c 1C       		.byte	(.L16-.L17)/2
 426 000d 1C       		.byte	(.L16-.L17)/2
 427 000e 1F       		.byte	(.L19-.L17)/2
 428 000f 22       		.byte	(.L18-.L17)/2
 429 0010 1C       		.byte	(.L16-.L17)/2
 430 0011 1F       		.byte	(.L19-.L17)/2
 431 0012 22       		.byte	(.L18-.L17)/2
 432 0013 22       		.byte	(.L18-.L17)/2
 433 0014 28       		.byte	(.L14-.L17)/2
 434 0015 28       		.byte	(.L14-.L17)/2
 435 0016 28       		.byte	(.L14-.L17)/2
 436 0017 28       		.byte	(.L14-.L17)/2
 437 0018 28       		.byte	(.L14-.L17)/2
 438 0019 28       		.byte	(.L14-.L17)/2
 439 001a 28       		.byte	(.L14-.L17)/2
 440 001b 28       		.byte	(.L14-.L17)/2
 441 001c 25       		.byte	(.L20-.L17)/2
 442 001d 28       		.byte	(.L14-.L17)/2
 443 001e 28       		.byte	(.L14-.L17)/2
 444 001f 28       		.byte	(.L14-.L17)/2
 445 0020 25       		.byte	(.L20-.L17)/2
 446 0021 28       		.byte	(.L14-.L17)/2
 447 0022 28       		.byte	(.L14-.L17)/2
 448 0023 28       		.byte	(.L14-.L17)/2
 449 0024 28       		.byte	(.L14-.L17)/2
 450 0025 28       		.byte	(.L14-.L17)/2
 451 0026 25       		.byte	(.L20-.L17)/2
 452 0027 28       		.byte	(.L14-.L17)/2
 453 0028 28       		.byte	(.L14-.L17)/2
 454 0029 28       		.byte	(.L14-.L17)/2
 455 002a 28       		.byte	(.L14-.L17)/2
 456 002b 28       		.byte	(.L14-.L17)/2
 457 002c 28       		.byte	(.L14-.L17)/2
 458 002d 28       		.byte	(.L14-.L17)/2
 459 002e 28       		.byte	(.L14-.L17)/2
 460 002f 28       		.byte	(.L14-.L17)/2
 461 0030 28       		.byte	(.L14-.L17)/2
 462 0031 28       		.byte	(.L14-.L17)/2
 463 0032 28       		.byte	(.L14-.L17)/2
 464 0033 28       		.byte	(.L14-.L17)/2
 465 0034 28       		.byte	(.L14-.L17)/2
 466 0035 28       		.byte	(.L14-.L17)/2
 467 0036 28       		.byte	(.L14-.L17)/2
 468 0037 28       		.byte	(.L14-.L17)/2
 469 0038 1C       		.byte	(.L16-.L17)/2
 470 0039 1F       		.byte	(.L19-.L17)/2
 471 003a 22       		.byte	(.L18-.L17)/2
 472 003b 1C       		.byte	(.L16-.L17)/2
 473 003c 1C       		.byte	(.L16-.L17)/2
 474 003d 1C       		.byte	(.L16-.L17)/2
 475 003e 1C       		.byte	(.L16-.L17)/2
 476 003f 1C       		.byte	(.L16-.L17)/2
 477 0040 1C       		.byte	(.L16-.L17)/2
 478 0041 1C       		.byte	(.L16-.L17)/2
ARM GAS  /tmp/ccoG2CDz.s 			page 39


 479 0042 1C       		.byte	(.L16-.L17)/2
 480 0043 00       		.p2align 1
 481              	.L16:
1692:Lib/soes/src/esc_coe.c ****    {
1693:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT1:
1694:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT2:
1695:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT3:
1696:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT4:
1697:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT5:
1698:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT6:
1699:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT7:
1700:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT8:
1701:Lib/soes/src/esc_coe.c ****    case DTYPE_BOOLEAN:
1702:Lib/soes/src/esc_coe.c ****    case DTYPE_UNSIGNED8:
1703:Lib/soes/src/esc_coe.c ****    case DTYPE_INTEGER8:
1704:Lib/soes/src/esc_coe.c ****    case DTYPE_BITARR8:
1705:Lib/soes/src/esc_coe.c ****       *(uint8_t *)obj->data = value & UINT8_MAX;
 482              		.loc 1 1705 7 is_stmt 1 view .LVU110
 483              		.loc 1 1705 22 is_stmt 0 view .LVU111
 484 0044 0369     		ldr	r3, [r0, #16]
 485              		.loc 1 1705 29 view .LVU112
 486 0046 1A70     		strb	r2, [r3]
1706:Lib/soes/src/esc_coe.c ****       break;
 487              		.loc 1 1706 7 is_stmt 1 view .LVU113
 488 0048 7047     		bx	lr
 489              	.L19:
1707:Lib/soes/src/esc_coe.c **** 
1708:Lib/soes/src/esc_coe.c ****    case DTYPE_UNSIGNED16:
1709:Lib/soes/src/esc_coe.c ****    case DTYPE_INTEGER16:
1710:Lib/soes/src/esc_coe.c ****    case DTYPE_BITARR16:
1711:Lib/soes/src/esc_coe.c ****       *(uint16_t *)obj->data = value & UINT16_MAX;
 490              		.loc 1 1711 7 view .LVU114
 491              		.loc 1 1711 23 is_stmt 0 view .LVU115
 492 004a 0369     		ldr	r3, [r0, #16]
 493              		.loc 1 1711 30 view .LVU116
 494 004c 1A80     		strh	r2, [r3]	@ movhi
1712:Lib/soes/src/esc_coe.c ****       break;
 495              		.loc 1 1712 7 is_stmt 1 view .LVU117
 496 004e 7047     		bx	lr
 497              	.L18:
1713:Lib/soes/src/esc_coe.c **** 
1714:Lib/soes/src/esc_coe.c ****    case DTYPE_REAL32:
1715:Lib/soes/src/esc_coe.c ****    case DTYPE_UNSIGNED32:
1716:Lib/soes/src/esc_coe.c ****    case DTYPE_INTEGER32:
1717:Lib/soes/src/esc_coe.c ****    case DTYPE_BITARR32:
1718:Lib/soes/src/esc_coe.c ****       *(uint32_t *)obj->data = value & UINT32_MAX;
 498              		.loc 1 1718 7 view .LVU118
 499              		.loc 1 1718 23 is_stmt 0 view .LVU119
 500 0050 0369     		ldr	r3, [r0, #16]
 501              		.loc 1 1718 30 view .LVU120
 502 0052 1A60     		str	r2, [r3]
1719:Lib/soes/src/esc_coe.c ****       break;
 503              		.loc 1 1719 7 is_stmt 1 view .LVU121
 504 0054 7047     		bx	lr
 505              	.L20:
1720:Lib/soes/src/esc_coe.c **** 
1721:Lib/soes/src/esc_coe.c ****    case DTYPE_REAL64:
ARM GAS  /tmp/ccoG2CDz.s 			page 40


1722:Lib/soes/src/esc_coe.c ****    case DTYPE_UNSIGNED64:
1723:Lib/soes/src/esc_coe.c ****    case DTYPE_INTEGER64:
1724:Lib/soes/src/esc_coe.c ****       /* FIXME: must be atomic */
1725:Lib/soes/src/esc_coe.c ****       *(uint64_t *)obj->data = value;
 506              		.loc 1 1725 7 view .LVU122
 507              		.loc 1 1725 23 is_stmt 0 view .LVU123
 508 0056 0169     		ldr	r1, [r0, #16]
 509              		.loc 1 1725 30 view .LVU124
 510 0058 0A60     		str	r2, [r1]
 511 005a 4B60     		str	r3, [r1, #4]
1726:Lib/soes/src/esc_coe.c ****       break;
 512              		.loc 1 1726 7 is_stmt 1 view .LVU125
 513              	.L14:
1727:Lib/soes/src/esc_coe.c **** 
1728:Lib/soes/src/esc_coe.c ****    default:
1729:Lib/soes/src/esc_coe.c ****       DPRINT ("ignored\n");
1730:Lib/soes/src/esc_coe.c ****       break;
1731:Lib/soes/src/esc_coe.c ****    }
1732:Lib/soes/src/esc_coe.c **** }
 514              		.loc 1 1732 1 is_stmt 0 view .LVU126
 515 005c 7047     		bx	lr
 516              		.cfi_endproc
 517              	.LFE24:
 519              		.section	.text.SDO_getodlistcont,"ax",%progbits
 520              		.align	1
 521              		.syntax unified
 522              		.thumb
 523              		.thumb_func
 524              		.fpu fpv4-sp-d16
 526              	SDO_getodlistcont:
 527              	.LFB17:
1243:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
 528              		.loc 1 1243 1 is_stmt 1 view -0
 529              		.cfi_startproc
 530              		@ args = 0, pretend = 0, frame = 0
 531              		@ frame_needed = 0, uses_anonymous_args = 0
 532 0000 70B5     		push	{r4, r5, r6, lr}
 533              		.cfi_def_cfa_offset 16
 534              		.cfi_offset 4, -16
 535              		.cfi_offset 5, -12
 536              		.cfi_offset 6, -8
 537              		.cfi_offset 14, -4
1244:Lib/soes/src/esc_coe.c ****    uint16_t i, n, s;
 538              		.loc 1 1244 4 view .LVU128
1245:Lib/soes/src/esc_coe.c ****    uint16_t *p;
 539              		.loc 1 1245 4 view .LVU129
1246:Lib/soes/src/esc_coe.c ****    _COEobjdesc *coel;
 540              		.loc 1 1246 4 view .LVU130
1247:Lib/soes/src/esc_coe.c **** 
 541              		.loc 1 1247 4 view .LVU131
1249:Lib/soes/src/esc_coe.c ****    if (MBXout)
 542              		.loc 1 1249 4 view .LVU132
1249:Lib/soes/src/esc_coe.c ****    if (MBXout)
 543              		.loc 1 1249 13 is_stmt 0 view .LVU133
 544 0002 FFF7FEFF 		bl	ESC_claimbuffer
 545              	.LVL49:
1250:Lib/soes/src/esc_coe.c ****    {
ARM GAS  /tmp/ccoG2CDz.s 			page 41


 546              		.loc 1 1250 4 is_stmt 1 view .LVU134
1250:Lib/soes/src/esc_coe.c ****    {
 547              		.loc 1 1250 7 is_stmt 0 view .LVU135
 548 0006 0028     		cmp	r0, #0
 549 0008 59D0     		beq	.L21
 550 000a 8646     		mov	lr, r0
1252:Lib/soes/src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 551              		.loc 1 1252 7 is_stmt 1 view .LVU136
1252:Lib/soes/src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 552              		.loc 1 1252 44 is_stmt 0 view .LVU137
 553 000c 2C49     		ldr	r1, .L28
 554 000e CB6E     		ldr	r3, [r1, #108]
1252:Lib/soes/src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 555              		.loc 1 1252 42 view .LVU138
 556 0010 03FB00FC 		mul	ip, r3, r0
1252:Lib/soes/src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 557              		.loc 1 1252 12 view .LVU139
 558 0014 2B4C     		ldr	r4, .L28+4
 559 0016 0CEB0402 		add	r2, ip, r4
 560              	.LVL50:
1253:Lib/soes/src/esc_coe.c ****       coel->coeheader.numberservice =
 561              		.loc 1 1253 7 is_stmt 1 view .LVU140
1253:Lib/soes/src/esc_coe.c ****       coel->coeheader.numberservice =
 562              		.loc 1 1253 31 is_stmt 0 view .LVU141
 563 001a 5379     		ldrb	r3, [r2, #5]	@ zero_extendqisi2
 564 001c 0320     		movs	r0, #3
 565              	.LVL51:
1253:Lib/soes/src/esc_coe.c ****       coel->coeheader.numberservice =
 566              		.loc 1 1253 31 view .LVU142
 567 001e 60F30303 		bfi	r3, r0, #0, #4
 568 0022 5371     		strb	r3, [r2, #5]
1254:Lib/soes/src/esc_coe.c ****          htoes (COE_SDOINFORMATION << 12);
 569              		.loc 1 1254 7 is_stmt 1 view .LVU143
1254:Lib/soes/src/esc_coe.c ****          htoes (COE_SDOINFORMATION << 12);
 570              		.loc 1 1254 37 is_stmt 0 view .LVU144
 571 0024 4FF40043 		mov	r3, #32768
 572 0028 D380     		strh	r3, [r2, #6]	@ movhi
1256:Lib/soes/src/esc_coe.c ****       s = (uint16_t)((ESCvar.frags - ESCvar.fragsleft) * (ODLISTSIZE >> 1));
 573              		.loc 1 1256 7 is_stmt 1 view .LVU145
1256:Lib/soes/src/esc_coe.c ****       s = (uint16_t)((ESCvar.frags - ESCvar.fragsleft) * (ODLISTSIZE >> 1));
 574              		.loc 1 1256 31 is_stmt 0 view .LVU146
 575 002a 137A     		ldrb	r3, [r2, #8]	@ zero_extendqisi2
 576 002c 0220     		movs	r0, #2
 577 002e 60F30603 		bfi	r3, r0, #0, #7
 578 0032 1372     		strb	r3, [r2, #8]
1257:Lib/soes/src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
 579              		.loc 1 1257 7 is_stmt 1 view .LVU147
1257:Lib/soes/src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
 580              		.loc 1 1257 29 is_stmt 0 view .LVU148
 581 0034 D1F89C30 		ldr	r3, [r1, #156]
1257:Lib/soes/src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
 582              		.loc 1 1257 44 view .LVU149
 583 0038 D1F8A000 		ldr	r0, [r1, #160]
1257:Lib/soes/src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
 584              		.loc 1 1257 36 view .LVU150
 585 003c 1B1A     		subs	r3, r3, r0
1257:Lib/soes/src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
ARM GAS  /tmp/ccoG2CDz.s 			page 42


 586              		.loc 1 1257 11 view .LVU151
 587 003e 9BB2     		uxth	r3, r3
1257:Lib/soes/src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
 588              		.loc 1 1257 59 view .LVU152
 589 0040 496F     		ldr	r1, [r1, #116]
 590 0042 4E88     		ldrh	r6, [r1, #2]
 591 0044 0E3E     		subs	r6, r6, #14
1257:Lib/soes/src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
 592              		.loc 1 1257 11 view .LVU153
 593 0046 C6F34E06 		ubfx	r6, r6, #1, #15
1257:Lib/soes/src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
 594              		.loc 1 1257 9 view .LVU154
 595 004a 13FB06F3 		smulbb	r3, r3, r6
 596 004e 9EB2     		uxth	r6, r3
 597              	.LVL52:
1258:Lib/soes/src/esc_coe.c ****       {
 598              		.loc 1 1258 7 is_stmt 1 view .LVU155
1258:Lib/soes/src/esc_coe.c ****       {
 599              		.loc 1 1258 10 is_stmt 0 view .LVU156
 600 0050 0128     		cmp	r0, #1
 601 0052 13D9     		bls	.L23
1260:Lib/soes/src/esc_coe.c ****          n = (uint16_t)(s + (ODLISTSIZE >> 1));
 602              		.loc 1 1260 10 is_stmt 1 view .LVU157
1260:Lib/soes/src/esc_coe.c ****          n = (uint16_t)(s + (ODLISTSIZE >> 1));
 603              		.loc 1 1260 38 is_stmt 0 view .LVU158
 604 0054 137A     		ldrb	r3, [r2, #8]	@ zero_extendqisi2
 605 0056 43F08003 		orr	r3, r3, #128
 606 005a 1372     		strb	r3, [r2, #8]
1261:Lib/soes/src/esc_coe.c ****       }
 607              		.loc 1 1261 10 is_stmt 1 view .LVU159
1261:Lib/soes/src/esc_coe.c ****       }
 608              		.loc 1 1261 30 is_stmt 0 view .LVU160
 609 005c 4988     		ldrh	r1, [r1, #2]
 610 005e 0E39     		subs	r1, r1, #14
1261:Lib/soes/src/esc_coe.c ****       }
 611              		.loc 1 1261 14 view .LVU161
 612 0060 C1F34E01 		ubfx	r1, r1, #1, #15
1261:Lib/soes/src/esc_coe.c ****       }
 613              		.loc 1 1261 12 view .LVU162
 614 0064 3144     		add	r1, r1, r6
 615 0066 89B2     		uxth	r1, r1
 616              	.LVL53:
 617              	.L24:
1270:Lib/soes/src/esc_coe.c ****       ESCvar.fragsleft--;
 618              		.loc 1 1270 7 is_stmt 1 view .LVU163
1270:Lib/soes/src/esc_coe.c ****       ESCvar.fragsleft--;
 619              		.loc 1 1270 33 is_stmt 0 view .LVU164
 620 0068 0023     		movs	r3, #0
 621 006a 5372     		strb	r3, [r2, #9]
1271:Lib/soes/src/esc_coe.c ****       coel->infoheader.fragmentsleft = htoes ((uint16_t)ESCvar.fragsleft);
 622              		.loc 1 1271 7 is_stmt 1 view .LVU165
1271:Lib/soes/src/esc_coe.c ****       coel->infoheader.fragmentsleft = htoes ((uint16_t)ESCvar.fragsleft);
 623              		.loc 1 1271 23 is_stmt 0 view .LVU166
 624 006c 0138     		subs	r0, r0, #1
 625 006e 144B     		ldr	r3, .L28
 626 0070 C3F8A000 		str	r0, [r3, #160]
1272:Lib/soes/src/esc_coe.c ****       /* pointer 2 bytes back to exclude index */
ARM GAS  /tmp/ccoG2CDz.s 			page 43


 627              		.loc 1 1272 7 is_stmt 1 view .LVU167
1272:Lib/soes/src/esc_coe.c ****       /* pointer 2 bytes back to exclude index */
 628              		.loc 1 1272 38 is_stmt 0 view .LVU168
 629 0074 5081     		strh	r0, [r2, #10]	@ movhi
1274:Lib/soes/src/esc_coe.c ****       for (i = s; i < n; i++)
 630              		.loc 1 1274 7 is_stmt 1 view .LVU169
1274:Lib/soes/src/esc_coe.c ****       for (i = s; i < n; i++)
 631              		.loc 1 1274 9 is_stmt 0 view .LVU170
 632 0076 0C32     		adds	r2, r2, #12
 633              	.LVL54:
1275:Lib/soes/src/esc_coe.c ****       {
 634              		.loc 1 1275 7 is_stmt 1 view .LVU171
1275:Lib/soes/src/esc_coe.c ****       {
 635              		.loc 1 1275 14 is_stmt 0 view .LVU172
 636 0078 3346     		mov	r3, r6
1275:Lib/soes/src/esc_coe.c ****       {
 637              		.loc 1 1275 7 view .LVU173
 638 007a 13E0     		b	.L25
 639              	.LVL55:
 640              	.L23:
1265:Lib/soes/src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
 641              		.loc 1 1265 10 is_stmt 1 view .LVU174
1265:Lib/soes/src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
 642              		.loc 1 1265 38 is_stmt 0 view .LVU175
 643 007c 137A     		ldrb	r3, [r2, #8]	@ zero_extendqisi2
 644 007e 6FF3C713 		bfc	r3, #7, #1
 645 0082 1372     		strb	r3, [r2, #8]
1266:Lib/soes/src/esc_coe.c ****          ESCvar.xoe = 0;
 646              		.loc 1 1266 10 is_stmt 1 view .LVU176
1266:Lib/soes/src/esc_coe.c ****          ESCvar.xoe = 0;
 647              		.loc 1 1266 30 is_stmt 0 view .LVU177
 648 0084 0021     		movs	r1, #0
 649 0086 104B     		ldr	r3, .L28+8
 650 0088 1970     		strb	r1, [r3]
1267:Lib/soes/src/esc_coe.c ****          n = ESCvar.entries;
 651              		.loc 1 1267 10 is_stmt 1 view .LVU178
1267:Lib/soes/src/esc_coe.c ****          n = ESCvar.entries;
 652              		.loc 1 1267 21 is_stmt 0 view .LVU179
 653 008a 0D4B     		ldr	r3, .L28
 654 008c 83F88E10 		strb	r1, [r3, #142]
1268:Lib/soes/src/esc_coe.c ****       }
 655              		.loc 1 1268 10 is_stmt 1 view .LVU180
1268:Lib/soes/src/esc_coe.c ****       }
 656              		.loc 1 1268 12 is_stmt 0 view .LVU181
 657 0090 B3F89810 		ldrh	r1, [r3, #152]
 658              	.LVL56:
1268:Lib/soes/src/esc_coe.c ****       }
 659              		.loc 1 1268 12 view .LVU182
 660 0094 E8E7     		b	.L24
 661              	.LVL57:
 662              	.L26:
1277:Lib/soes/src/esc_coe.c ****          p++;
 663              		.loc 1 1277 10 is_stmt 1 discriminator 3 view .LVU183
1277:Lib/soes/src/esc_coe.c ****          p++;
 664              		.loc 1 1277 15 is_stmt 0 discriminator 3 view .LVU184
 665 0096 1801     		lsls	r0, r3, #4
 666 0098 0C4D     		ldr	r5, .L28+12
ARM GAS  /tmp/ccoG2CDz.s 			page 44


 667 009a 285A     		ldrh	r0, [r5, r0]
1277:Lib/soes/src/esc_coe.c ****          p++;
 668              		.loc 1 1277 13 discriminator 3 view .LVU185
 669 009c 22F8020B 		strh	r0, [r2], #2	@ movhi
 670              	.LVL58:
1278:Lib/soes/src/esc_coe.c ****       }
 671              		.loc 1 1278 10 is_stmt 1 discriminator 3 view .LVU186
1275:Lib/soes/src/esc_coe.c ****       {
 672              		.loc 1 1275 26 discriminator 3 view .LVU187
1275:Lib/soes/src/esc_coe.c ****       {
 673              		.loc 1 1275 27 is_stmt 0 discriminator 3 view .LVU188
 674 00a0 0133     		adds	r3, r3, #1
 675              	.LVL59:
1275:Lib/soes/src/esc_coe.c ****       {
 676              		.loc 1 1275 27 discriminator 3 view .LVU189
 677 00a2 9BB2     		uxth	r3, r3
 678              	.LVL60:
 679              	.L25:
1275:Lib/soes/src/esc_coe.c ****       {
 680              		.loc 1 1275 19 is_stmt 1 discriminator 1 view .LVU190
1275:Lib/soes/src/esc_coe.c ****       {
 681              		.loc 1 1275 7 is_stmt 0 discriminator 1 view .LVU191
 682 00a4 8B42     		cmp	r3, r1
 683 00a6 F6D3     		bcc	.L26
1280:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 684              		.loc 1 1280 7 is_stmt 1 view .LVU192
1280:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 685              		.loc 1 1280 32 is_stmt 0 view .LVU193
 686 00a8 8B1B     		subs	r3, r1, r6
 687              	.LVL61:
1280:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 688              		.loc 1 1280 32 view .LVU194
 689 00aa 9BB2     		uxth	r3, r3
 690 00ac 5B00     		lsls	r3, r3, #1
 691 00ae 9BB2     		uxth	r3, r3
 692 00b0 0633     		adds	r3, r3, #6
1280:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 693              		.loc 1 1280 30 view .LVU195
 694 00b2 24F80C30 		strh	r3, [r4, ip]	@ movhi
1281:Lib/soes/src/esc_coe.c ****    }
 695              		.loc 1 1281 7 is_stmt 1 view .LVU196
1281:Lib/soes/src/esc_coe.c ****    }
 696              		.loc 1 1281 32 is_stmt 0 view .LVU197
 697 00b6 044B     		ldr	r3, .L28+8
 698 00b8 0322     		movs	r2, #3
 699              	.LVL62:
1281:Lib/soes/src/esc_coe.c ****    }
 700              		.loc 1 1281 32 view .LVU198
 701 00ba 03F80E20 		strb	r2, [r3, lr]
 702              	.LVL63:
 703              	.L21:
1283:Lib/soes/src/esc_coe.c **** 
 704              		.loc 1 1283 1 view .LVU199
 705 00be 70BD     		pop	{r4, r5, r6, pc}
 706              	.L29:
 707              		.align	2
 708              	.L28:
ARM GAS  /tmp/ccoG2CDz.s 			page 45


 709 00c0 00000000 		.word	ESCvar
 710 00c4 00000000 		.word	MBX
 711 00c8 00000000 		.word	MBXcontrol
 712 00cc 00000000 		.word	SDOobjects
 713              		.cfi_endproc
 714              	.LFE17:
 716              		.section	.text.SDO_infoerror,"ax",%progbits
 717              		.align	1
 718              		.syntax unified
 719              		.thumb
 720              		.thumb_func
 721              		.fpu fpv4-sp-d16
 723              	SDO_infoerror:
 724              	.LVL64:
 725              	.LFB15:
1120:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
 726              		.loc 1 1120 1 is_stmt 1 view -0
 727              		.cfi_startproc
 728              		@ args = 0, pretend = 0, frame = 0
 729              		@ frame_needed = 0, uses_anonymous_args = 0
1120:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
 730              		.loc 1 1120 1 is_stmt 0 view .LVU201
 731 0000 38B5     		push	{r3, r4, r5, lr}
 732              		.cfi_def_cfa_offset 16
 733              		.cfi_offset 3, -16
 734              		.cfi_offset 4, -12
 735              		.cfi_offset 5, -8
 736              		.cfi_offset 14, -4
 737 0002 0446     		mov	r4, r0
1121:Lib/soes/src/esc_coe.c ****    _COEobjdesc *coeres;
 738              		.loc 1 1121 4 is_stmt 1 view .LVU202
1122:Lib/soes/src/esc_coe.c ****    MBXout = ESC_claimbuffer ();
 739              		.loc 1 1122 4 view .LVU203
1123:Lib/soes/src/esc_coe.c ****    if (MBXout)
 740              		.loc 1 1123 4 view .LVU204
1123:Lib/soes/src/esc_coe.c ****    if (MBXout)
 741              		.loc 1 1123 13 is_stmt 0 view .LVU205
 742 0004 FFF7FEFF 		bl	ESC_claimbuffer
 743              	.LVL65:
1124:Lib/soes/src/esc_coe.c ****    {
 744              		.loc 1 1124 4 is_stmt 1 view .LVU206
1124:Lib/soes/src/esc_coe.c ****    {
 745              		.loc 1 1124 7 is_stmt 0 view .LVU207
 746 0008 40B3     		cbz	r0, .L30
 747 000a 0146     		mov	r1, r0
1126:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_HEADERSIZE);
 748              		.loc 1 1126 7 is_stmt 1 view .LVU208
1126:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_HEADERSIZE);
 749              		.loc 1 1126 46 is_stmt 0 view .LVU209
 750 000c 1448     		ldr	r0, .L33
 751              	.LVL66:
1126:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_HEADERSIZE);
 752              		.loc 1 1126 46 view .LVU210
 753 000e C26E     		ldr	r2, [r0, #108]
1126:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_HEADERSIZE);
 754              		.loc 1 1126 44 view .LVU211
 755 0010 01FB02F2 		mul	r2, r1, r2
ARM GAS  /tmp/ccoG2CDz.s 			page 46


1126:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_HEADERSIZE);
 756              		.loc 1 1126 14 view .LVU212
 757 0014 134D     		ldr	r5, .L33+4
 758 0016 5319     		adds	r3, r2, r5
 759              	.LVL67:
1127:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.mbxtype = MBXCOE;
 760              		.loc 1 1127 7 is_stmt 1 view .LVU213
1127:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.mbxtype = MBXCOE;
 761              		.loc 1 1127 32 is_stmt 0 view .LVU214
 762 0018 4FF00A0C 		mov	ip, #10
 763 001c 22F805C0 		strh	ip, [r2, r5]	@ movhi
1128:Lib/soes/src/esc_coe.c ****       coeres->coeheader.numberservice =
 764              		.loc 1 1128 7 is_stmt 1 view .LVU215
1128:Lib/soes/src/esc_coe.c ****       coeres->coeheader.numberservice =
 765              		.loc 1 1128 33 is_stmt 0 view .LVU216
 766 0020 5A79     		ldrb	r2, [r3, #5]	@ zero_extendqisi2
 767 0022 4FF0030C 		mov	ip, #3
 768 0026 6CF30302 		bfi	r2, ip, #0, #4
 769 002a 5A71     		strb	r2, [r3, #5]
1129:Lib/soes/src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 770              		.loc 1 1129 7 is_stmt 1 view .LVU217
1129:Lib/soes/src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 771              		.loc 1 1129 39 is_stmt 0 view .LVU218
 772 002c 4FF40042 		mov	r2, #32768
 773 0030 DA80     		strh	r2, [r3, #6]	@ movhi
1132:Lib/soes/src/esc_coe.c ****       coeres->infoheader.incomplete = 0;
 774              		.loc 1 1132 7 is_stmt 1 view .LVU219
1132:Lib/soes/src/esc_coe.c ****       coeres->infoheader.incomplete = 0;
 775              		.loc 1 1132 33 is_stmt 0 view .LVU220
 776 0032 1A7A     		ldrb	r2, [r3, #8]	@ zero_extendqisi2
 777 0034 0725     		movs	r5, #7
 778 0036 65F30602 		bfi	r2, r5, #0, #7
 779 003a 1A72     		strb	r2, [r3, #8]
1133:Lib/soes/src/esc_coe.c ****       coeres->infoheader.reserved = 0x00;
 780              		.loc 1 1133 7 is_stmt 1 view .LVU221
1133:Lib/soes/src/esc_coe.c ****       coeres->infoheader.reserved = 0x00;
 781              		.loc 1 1133 37 is_stmt 0 view .LVU222
 782 003c D2B2     		uxtb	r2, r2
 783 003e 6FF3C712 		bfc	r2, #7, #1
 784 0042 1A72     		strb	r2, [r3, #8]
1134:Lib/soes/src/esc_coe.c ****       coeres->infoheader.fragmentsleft = 0;
 785              		.loc 1 1134 7 is_stmt 1 view .LVU223
1134:Lib/soes/src/esc_coe.c ****       coeres->infoheader.fragmentsleft = 0;
 786              		.loc 1 1134 35 is_stmt 0 view .LVU224
 787 0044 0022     		movs	r2, #0
 788 0046 5A72     		strb	r2, [r3, #9]
1135:Lib/soes/src/esc_coe.c ****       coeres->index = (uint16_t)htoel (abortcode);
 789              		.loc 1 1135 7 is_stmt 1 view .LVU225
1135:Lib/soes/src/esc_coe.c ****       coeres->index = (uint16_t)htoel (abortcode);
 790              		.loc 1 1135 40 is_stmt 0 view .LVU226
 791 0048 5A81     		strh	r2, [r3, #10]	@ movhi
1136:Lib/soes/src/esc_coe.c ****       coeres->datatype = (uint16_t)(htoel (abortcode) >> 16);
 792              		.loc 1 1136 7 is_stmt 1 view .LVU227
1136:Lib/soes/src/esc_coe.c ****       coeres->datatype = (uint16_t)(htoel (abortcode) >> 16);
 793              		.loc 1 1136 21 is_stmt 0 view .LVU228
 794 004a 9C81     		strh	r4, [r3, #12]	@ movhi
1137:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
ARM GAS  /tmp/ccoG2CDz.s 			page 47


 795              		.loc 1 1137 7 is_stmt 1 view .LVU229
1137:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 796              		.loc 1 1137 26 is_stmt 0 view .LVU230
 797 004c 240C     		lsrs	r4, r4, #16
 798              	.LVL68:
1137:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 799              		.loc 1 1137 24 view .LVU231
 800 004e DC81     		strh	r4, [r3, #14]	@ movhi
1138:Lib/soes/src/esc_coe.c ****       MBXcontrol[0].state = MBXstate_idle;
 801              		.loc 1 1138 7 is_stmt 1 view .LVU232
1138:Lib/soes/src/esc_coe.c ****       MBXcontrol[0].state = MBXstate_idle;
 802              		.loc 1 1138 32 is_stmt 0 view .LVU233
 803 0050 054B     		ldr	r3, .L33+8
 804              	.LVL69:
1138:Lib/soes/src/esc_coe.c ****       MBXcontrol[0].state = MBXstate_idle;
 805              		.loc 1 1138 32 view .LVU234
 806 0052 03F801C0 		strb	ip, [r3, r1]
1139:Lib/soes/src/esc_coe.c ****       ESCvar.xoe = 0;
 807              		.loc 1 1139 7 is_stmt 1 view .LVU235
1139:Lib/soes/src/esc_coe.c ****       ESCvar.xoe = 0;
 808              		.loc 1 1139 27 is_stmt 0 view .LVU236
 809 0056 1A70     		strb	r2, [r3]
1140:Lib/soes/src/esc_coe.c ****    }
 810              		.loc 1 1140 7 is_stmt 1 view .LVU237
1140:Lib/soes/src/esc_coe.c ****    }
 811              		.loc 1 1140 18 is_stmt 0 view .LVU238
 812 0058 80F88E20 		strb	r2, [r0, #142]
 813              	.LVL70:
 814              	.L30:
1142:Lib/soes/src/esc_coe.c **** 
 815              		.loc 1 1142 1 view .LVU239
 816 005c 38BD     		pop	{r3, r4, r5, pc}
 817              	.L34:
 818 005e 00BF     		.align	2
 819              	.L33:
 820 0060 00000000 		.word	ESCvar
 821 0064 00000000 		.word	MBX
 822 0068 00000000 		.word	MBXcontrol
 823              		.cfi_endproc
 824              	.LFE15:
 826              		.section	.text.SDO_getodlist,"ax",%progbits
 827              		.align	1
 828              		.syntax unified
 829              		.thumb
 830              		.thumb_func
 831              		.fpu fpv4-sp-d16
 833              	SDO_getodlist:
 834              	.LFB16:
1150:Lib/soes/src/esc_coe.c ****    uint32_t frags;
 835              		.loc 1 1150 1 is_stmt 1 view -0
 836              		.cfi_startproc
 837              		@ args = 0, pretend = 0, frame = 0
 838              		@ frame_needed = 0, uses_anonymous_args = 0
 839 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 840              		.cfi_def_cfa_offset 24
 841              		.cfi_offset 3, -24
 842              		.cfi_offset 4, -20
ARM GAS  /tmp/ccoG2CDz.s 			page 48


 843              		.cfi_offset 5, -16
 844              		.cfi_offset 6, -12
 845              		.cfi_offset 7, -8
 846              		.cfi_offset 14, -4
1151:Lib/soes/src/esc_coe.c ****    uint8_t MBXout = 0;
 847              		.loc 1 1151 4 view .LVU241
1152:Lib/soes/src/esc_coe.c ****    uint16_t entries = 0;
 848              		.loc 1 1152 4 view .LVU242
 849              	.LVL71:
1153:Lib/soes/src/esc_coe.c ****    uint16_t i, n;
 850              		.loc 1 1153 4 view .LVU243
1154:Lib/soes/src/esc_coe.c ****    uint16_t *p;
 851              		.loc 1 1154 4 view .LVU244
1155:Lib/soes/src/esc_coe.c ****    _COEobjdesc *coel, *coer;
 852              		.loc 1 1155 4 view .LVU245
1156:Lib/soes/src/esc_coe.c **** 
 853              		.loc 1 1156 4 view .LVU246
1158:Lib/soes/src/esc_coe.c ****    {
 854              		.loc 1 1158 4 view .LVU247
1153:Lib/soes/src/esc_coe.c ****    uint16_t i, n;
 855              		.loc 1 1153 13 is_stmt 0 view .LVU248
 856 0002 0024     		movs	r4, #0
1158:Lib/soes/src/esc_coe.c ****    {
 857              		.loc 1 1158 10 view .LVU249
 858 0004 01E0     		b	.L36
 859              	.LVL72:
 860              	.L37:
1160:Lib/soes/src/esc_coe.c ****    }
 861              		.loc 1 1160 7 is_stmt 1 view .LVU250
1160:Lib/soes/src/esc_coe.c ****    }
 862              		.loc 1 1160 14 is_stmt 0 view .LVU251
 863 0006 0134     		adds	r4, r4, #1
 864              	.LVL73:
1160:Lib/soes/src/esc_coe.c ****    }
 865              		.loc 1 1160 14 view .LVU252
 866 0008 A4B2     		uxth	r4, r4
 867              	.LVL74:
 868              	.L36:
1158:Lib/soes/src/esc_coe.c ****    {
 869              		.loc 1 1158 10 is_stmt 1 view .LVU253
1158:Lib/soes/src/esc_coe.c ****    {
 870              		.loc 1 1158 30 is_stmt 0 view .LVU254
 871 000a 2301     		lsls	r3, r4, #4
 872 000c 464A     		ldr	r2, .L48
 873 000e D25A     		ldrh	r2, [r2, r3]
1158:Lib/soes/src/esc_coe.c ****    {
 874              		.loc 1 1158 10 view .LVU255
 875 0010 4FF6FF73 		movw	r3, #65535
 876 0014 9A42     		cmp	r2, r3
 877 0016 F6D1     		bne	.L37
1162:Lib/soes/src/esc_coe.c ****    frags = ((uint32_t)(entries << 1) + ODLISTSIZE - 1U);
 878              		.loc 1 1162 4 is_stmt 1 view .LVU256
1162:Lib/soes/src/esc_coe.c ****    frags = ((uint32_t)(entries << 1) + ODLISTSIZE - 1U);
 879              		.loc 1 1162 19 is_stmt 0 view .LVU257
 880 0018 444B     		ldr	r3, .L48+4
 881 001a A3F89840 		strh	r4, [r3, #152]	@ movhi
1163:Lib/soes/src/esc_coe.c ****    frags /= ODLISTSIZE;
ARM GAS  /tmp/ccoG2CDz.s 			page 49


 882              		.loc 1 1163 4 is_stmt 1 view .LVU258
1163:Lib/soes/src/esc_coe.c ****    frags /= ODLISTSIZE;
 883              		.loc 1 1163 40 is_stmt 0 view .LVU259
 884 001e 5B6F     		ldr	r3, [r3, #116]
 885 0020 5D88     		ldrh	r5, [r3, #2]
 886 0022 0E3D     		subs	r5, r5, #14
 887 0024 25F00105 		bic	r5, r5, #1
 888 0028 2D04     		lsls	r5, r5, #16
 889 002a 2D0C     		lsrs	r5, r5, #16
1163:Lib/soes/src/esc_coe.c ****    frags /= ODLISTSIZE;
 890              		.loc 1 1163 38 view .LVU260
 891 002c 05EB4401 		add	r1, r5, r4, lsl #1
1163:Lib/soes/src/esc_coe.c ****    frags /= ODLISTSIZE;
 892              		.loc 1 1163 10 view .LVU261
 893 0030 0139     		subs	r1, r1, #1
 894              	.LVL75:
1164:Lib/soes/src/esc_coe.c ****    coer = (_COEobjdesc *) &MBX[0];
 895              		.loc 1 1164 4 is_stmt 1 view .LVU262
1164:Lib/soes/src/esc_coe.c ****    coer = (_COEobjdesc *) &MBX[0];
 896              		.loc 1 1164 10 is_stmt 0 view .LVU263
 897 0032 B1FBF5F5 		udiv	r5, r1, r5
 898              	.LVL76:
1165:Lib/soes/src/esc_coe.c ****    /* check for unsupported opcodes */
 899              		.loc 1 1165 4 is_stmt 1 view .LVU264
1167:Lib/soes/src/esc_coe.c ****    {
 900              		.loc 1 1167 4 view .LVU265
1167:Lib/soes/src/esc_coe.c ****    {
 901              		.loc 1 1167 8 is_stmt 0 view .LVU266
 902 0036 3E4B     		ldr	r3, .L48+8
 903 0038 9B89     		ldrh	r3, [r3, #12]	@ unaligned
1167:Lib/soes/src/esc_coe.c ****    {
 904              		.loc 1 1167 7 view .LVU267
 905 003a 012B     		cmp	r3, #1
 906 003c 03D9     		bls	.L38
1169:Lib/soes/src/esc_coe.c ****    }
 907              		.loc 1 1169 7 is_stmt 1 view .LVU268
 908 003e 3D48     		ldr	r0, .L48+12
 909 0040 FFF7FEFF 		bl	SDO_infoerror
 910              	.LVL77:
1175:Lib/soes/src/esc_coe.c ****    {
 911              		.loc 1 1175 4 view .LVU269
 912              	.L35:
1238:Lib/soes/src/esc_coe.c **** /** Function for continuing sending left overs from previous requested
 913              		.loc 1 1238 1 is_stmt 0 view .LVU270
 914 0044 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 915              	.LVL78:
 916              	.L38:
1173:Lib/soes/src/esc_coe.c ****    }
 917              		.loc 1 1173 7 is_stmt 1 view .LVU271
1173:Lib/soes/src/esc_coe.c ****    }
 918              		.loc 1 1173 16 is_stmt 0 view .LVU272
 919 0046 FFF7FEFF 		bl	ESC_claimbuffer
 920              	.LVL79:
1175:Lib/soes/src/esc_coe.c ****    {
 921              		.loc 1 1175 4 is_stmt 1 view .LVU273
1175:Lib/soes/src/esc_coe.c ****    {
 922              		.loc 1 1175 7 is_stmt 0 view .LVU274
ARM GAS  /tmp/ccoG2CDz.s 			page 50


 923 004a 8446     		mov	ip, r0
 924 004c 0028     		cmp	r0, #0
 925 004e F9D0     		beq	.L35
1177:Lib/soes/src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 926              		.loc 1 1177 7 is_stmt 1 view .LVU275
1177:Lib/soes/src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 927              		.loc 1 1177 44 is_stmt 0 view .LVU276
 928 0050 364B     		ldr	r3, .L48+4
 929 0052 D86E     		ldr	r0, [r3, #108]
 930              	.LVL80:
1177:Lib/soes/src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 931              		.loc 1 1177 42 view .LVU277
 932 0054 00FB0CF0 		mul	r0, r0, ip
1177:Lib/soes/src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 933              		.loc 1 1177 12 view .LVU278
 934 0058 354E     		ldr	r6, .L48+8
 935 005a 8319     		adds	r3, r0, r6
 936              	.LVL81:
1178:Lib/soes/src/esc_coe.c ****       coel->coeheader.numberservice =
 937              		.loc 1 1178 7 is_stmt 1 view .LVU279
1178:Lib/soes/src/esc_coe.c ****       coel->coeheader.numberservice =
 938              		.loc 1 1178 31 is_stmt 0 view .LVU280
 939 005c 5A79     		ldrb	r2, [r3, #5]	@ zero_extendqisi2
 940 005e 0321     		movs	r1, #3
 941 0060 61F30302 		bfi	r2, r1, #0, #4
 942 0064 5A71     		strb	r2, [r3, #5]
1179:Lib/soes/src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 943              		.loc 1 1179 7 is_stmt 1 view .LVU281
1179:Lib/soes/src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 944              		.loc 1 1179 37 is_stmt 0 view .LVU282
 945 0066 4FF40042 		mov	r2, #32768
 946 006a DA80     		strh	r2, [r3, #6]	@ movhi
1181:Lib/soes/src/esc_coe.c ****       /* number of objects request */
 947              		.loc 1 1181 7 is_stmt 1 view .LVU283
1181:Lib/soes/src/esc_coe.c ****       /* number of objects request */
 948              		.loc 1 1181 31 is_stmt 0 view .LVU284
 949 006c 1A7A     		ldrb	r2, [r3, #8]	@ zero_extendqisi2
 950 006e 0221     		movs	r1, #2
 951 0070 61F30602 		bfi	r2, r1, #0, #7
 952 0074 1A72     		strb	r2, [r3, #8]
1183:Lib/soes/src/esc_coe.c ****       {
 953              		.loc 1 1183 7 is_stmt 1 view .LVU285
1183:Lib/soes/src/esc_coe.c ****       {
 954              		.loc 1 1183 11 is_stmt 0 view .LVU286
 955 0076 B289     		ldrh	r2, [r6, #12]	@ unaligned
1183:Lib/soes/src/esc_coe.c ****       {
 956              		.loc 1 1183 10 view .LVU287
 957 0078 BAB9     		cbnz	r2, .L40
1185:Lib/soes/src/esc_coe.c ****          coel->infoheader.incomplete = 0;
 958              		.loc 1 1185 10 is_stmt 1 view .LVU288
1185:Lib/soes/src/esc_coe.c ****          coel->infoheader.incomplete = 0;
 959              		.loc 1 1185 22 is_stmt 0 view .LVU289
 960 007a 9A81     		strh	r2, [r3, #12]	@ movhi
1186:Lib/soes/src/esc_coe.c ****          coel->infoheader.reserved = 0x00;
 961              		.loc 1 1186 10 is_stmt 1 view .LVU290
1186:Lib/soes/src/esc_coe.c ****          coel->infoheader.reserved = 0x00;
 962              		.loc 1 1186 38 is_stmt 0 view .LVU291
ARM GAS  /tmp/ccoG2CDz.s 			page 51


 963 007c 197A     		ldrb	r1, [r3, #8]	@ zero_extendqisi2
 964 007e 62F3C711 		bfi	r1, r2, #7, #1
 965 0082 1972     		strb	r1, [r3, #8]
1187:Lib/soes/src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (0);
 966              		.loc 1 1187 10 is_stmt 1 view .LVU292
1187:Lib/soes/src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (0);
 967              		.loc 1 1187 36 is_stmt 0 view .LVU293
 968 0084 5A72     		strb	r2, [r3, #9]
1188:Lib/soes/src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
 969              		.loc 1 1188 10 is_stmt 1 view .LVU294
1188:Lib/soes/src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
 970              		.loc 1 1188 41 is_stmt 0 view .LVU295
 971 0086 5A81     		strh	r2, [r3, #10]	@ movhi
1189:Lib/soes/src/esc_coe.c ****          ESCvar.xoe = 0;
 972              		.loc 1 1189 10 is_stmt 1 view .LVU296
1189:Lib/soes/src/esc_coe.c ****          ESCvar.xoe = 0;
 973              		.loc 1 1189 30 is_stmt 0 view .LVU297
 974 0088 2B49     		ldr	r1, .L48+16
 975 008a 0A70     		strb	r2, [r1]
1190:Lib/soes/src/esc_coe.c ****          ESCvar.frags = frags;
 976              		.loc 1 1190 10 is_stmt 1 view .LVU298
1190:Lib/soes/src/esc_coe.c ****          ESCvar.frags = frags;
 977              		.loc 1 1190 21 is_stmt 0 view .LVU299
 978 008c 2749     		ldr	r1, .L48+4
 979 008e 81F88E20 		strb	r2, [r1, #142]
1191:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft = frags - 1;
 980              		.loc 1 1191 10 is_stmt 1 view .LVU300
1191:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft = frags - 1;
 981              		.loc 1 1191 23 is_stmt 0 view .LVU301
 982 0092 C1F89C50 		str	r5, [r1, #156]
1192:Lib/soes/src/esc_coe.c ****          p = &(coel->datatype);
 983              		.loc 1 1192 10 is_stmt 1 view .LVU302
1192:Lib/soes/src/esc_coe.c ****          p = &(coel->datatype);
 984              		.loc 1 1192 35 is_stmt 0 view .LVU303
 985 0096 6F1E     		subs	r7, r5, #1
1192:Lib/soes/src/esc_coe.c ****          p = &(coel->datatype);
 986              		.loc 1 1192 27 view .LVU304
 987 0098 C1F8A070 		str	r7, [r1, #160]
1193:Lib/soes/src/esc_coe.c ****          *p = htoes (entries);
 988              		.loc 1 1193 10 is_stmt 1 view .LVU305
 989              	.LVL82:
1194:Lib/soes/src/esc_coe.c ****          p++;
 990              		.loc 1 1194 10 view .LVU306
1194:Lib/soes/src/esc_coe.c ****          p++;
 991              		.loc 1 1194 13 is_stmt 0 view .LVU307
 992 009c DC81     		strh	r4, [r3, #14]	@ movhi
1195:Lib/soes/src/esc_coe.c ****          *p = 0;
 993              		.loc 1 1195 10 is_stmt 1 view .LVU308
 994              	.LVL83:
1196:Lib/soes/src/esc_coe.c ****          p++;
 995              		.loc 1 1196 10 view .LVU309
1196:Lib/soes/src/esc_coe.c ****          p++;
 996              		.loc 1 1196 13 is_stmt 0 view .LVU310
 997 009e 1A82     		strh	r2, [r3, #16]	@ movhi
1197:Lib/soes/src/esc_coe.c ****          *p = 0;
 998              		.loc 1 1197 10 is_stmt 1 view .LVU311
 999              	.LVL84:
ARM GAS  /tmp/ccoG2CDz.s 			page 52


1198:Lib/soes/src/esc_coe.c ****          p++;
 1000              		.loc 1 1198 10 view .LVU312
1198:Lib/soes/src/esc_coe.c ****          p++;
 1001              		.loc 1 1198 13 is_stmt 0 view .LVU313
 1002 00a0 5A82     		strh	r2, [r3, #18]	@ movhi
1199:Lib/soes/src/esc_coe.c ****          *p = 0;
 1003              		.loc 1 1199 10 is_stmt 1 view .LVU314
 1004              	.LVL85:
1200:Lib/soes/src/esc_coe.c ****          p++;
 1005              		.loc 1 1200 10 view .LVU315
1200:Lib/soes/src/esc_coe.c ****          p++;
 1006              		.loc 1 1200 13 is_stmt 0 view .LVU316
 1007 00a2 9A82     		strh	r2, [r3, #20]	@ movhi
1201:Lib/soes/src/esc_coe.c ****          *p = 0;
 1008              		.loc 1 1201 10 is_stmt 1 view .LVU317
 1009              	.LVL86:
1202:Lib/soes/src/esc_coe.c ****          coel->mbxheader.length = htoes (0x08 + (5 << 1));
 1010              		.loc 1 1202 10 view .LVU318
1202:Lib/soes/src/esc_coe.c ****          coel->mbxheader.length = htoes (0x08 + (5 << 1));
 1011              		.loc 1 1202 13 is_stmt 0 view .LVU319
 1012 00a4 DA82     		strh	r2, [r3, #22]	@ movhi
1203:Lib/soes/src/esc_coe.c ****       }
 1013              		.loc 1 1203 10 is_stmt 1 view .LVU320
1203:Lib/soes/src/esc_coe.c ****       }
 1014              		.loc 1 1203 33 is_stmt 0 view .LVU321
 1015 00a6 1222     		movs	r2, #18
 1016 00a8 8253     		strh	r2, [r0, r6]	@ movhi
 1017              	.LVL87:
 1018              	.L40:
1206:Lib/soes/src/esc_coe.c ****       {
 1019              		.loc 1 1206 7 is_stmt 1 view .LVU322
1206:Lib/soes/src/esc_coe.c ****       {
 1020              		.loc 1 1206 11 is_stmt 0 view .LVU323
 1021 00aa 214A     		ldr	r2, .L48+8
 1022 00ac 9289     		ldrh	r2, [r2, #12]	@ unaligned
1206:Lib/soes/src/esc_coe.c ****       {
 1023              		.loc 1 1206 10 view .LVU324
 1024 00ae 012A     		cmp	r2, #1
 1025 00b0 04D0     		beq	.L47
 1026              	.LVL88:
 1027              	.L41:
1236:Lib/soes/src/esc_coe.c ****    }
 1028              		.loc 1 1236 7 is_stmt 1 view .LVU325
1236:Lib/soes/src/esc_coe.c ****    }
 1029              		.loc 1 1236 32 is_stmt 0 view .LVU326
 1030 00b2 214B     		ldr	r3, .L48+16
 1031 00b4 0322     		movs	r2, #3
 1032 00b6 03F80C20 		strb	r2, [r3, ip]
1238:Lib/soes/src/esc_coe.c **** /** Function for continuing sending left overs from previous requested
 1033              		.loc 1 1238 1 view .LVU327
 1034 00ba C3E7     		b	.L35
 1035              	.LVL89:
 1036              	.L47:
1208:Lib/soes/src/esc_coe.c ****          {
 1037              		.loc 1 1208 10 is_stmt 1 view .LVU328
1208:Lib/soes/src/esc_coe.c ****          {
 1038              		.loc 1 1208 13 is_stmt 0 view .LVU329
ARM GAS  /tmp/ccoG2CDz.s 			page 53


 1039 00bc 012D     		cmp	r5, #1
 1040 00be 19D9     		bls	.L42
1210:Lib/soes/src/esc_coe.c ****             ESCvar.xoe = MBXCOE + MBXODL;
 1041              		.loc 1 1210 13 is_stmt 1 view .LVU330
1210:Lib/soes/src/esc_coe.c ****             ESCvar.xoe = MBXCOE + MBXODL;
 1042              		.loc 1 1210 41 is_stmt 0 view .LVU331
 1043 00c0 1A7A     		ldrb	r2, [r3, #8]	@ zero_extendqisi2
 1044 00c2 42F08002 		orr	r2, r2, #128
 1045 00c6 1A72     		strb	r2, [r3, #8]
1211:Lib/soes/src/esc_coe.c ****             n = ODLISTSIZE >> 1;
 1046              		.loc 1 1211 13 is_stmt 1 view .LVU332
1211:Lib/soes/src/esc_coe.c ****             n = ODLISTSIZE >> 1;
 1047              		.loc 1 1211 24 is_stmt 0 view .LVU333
 1048 00c8 184A     		ldr	r2, .L48+4
 1049 00ca 1321     		movs	r1, #19
 1050 00cc 82F88E10 		strb	r1, [r2, #142]
1212:Lib/soes/src/esc_coe.c ****          }
 1051              		.loc 1 1212 13 is_stmt 1 view .LVU334
1212:Lib/soes/src/esc_coe.c ****          }
 1052              		.loc 1 1212 17 is_stmt 0 view .LVU335
 1053 00d0 526F     		ldr	r2, [r2, #116]
 1054 00d2 5488     		ldrh	r4, [r2, #2]
 1055              	.LVL90:
1212:Lib/soes/src/esc_coe.c ****          }
 1056              		.loc 1 1212 17 view .LVU336
 1057 00d4 0E3C     		subs	r4, r4, #14
1212:Lib/soes/src/esc_coe.c ****          }
 1058              		.loc 1 1212 15 view .LVU337
 1059 00d6 C4F34E04 		ubfx	r4, r4, #1, #15
 1060              	.LVL91:
 1061              	.L43:
1221:Lib/soes/src/esc_coe.c ****          ESCvar.frags = frags;
 1062              		.loc 1 1221 10 is_stmt 1 view .LVU338
1221:Lib/soes/src/esc_coe.c ****          ESCvar.frags = frags;
 1063              		.loc 1 1221 36 is_stmt 0 view .LVU339
 1064 00da 0022     		movs	r2, #0
 1065 00dc 5A72     		strb	r2, [r3, #9]
1222:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft = frags - 1;
 1066              		.loc 1 1222 10 is_stmt 1 view .LVU340
1222:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft = frags - 1;
 1067              		.loc 1 1222 23 is_stmt 0 view .LVU341
 1068 00de 134F     		ldr	r7, .L48+4
 1069 00e0 C7F89C50 		str	r5, [r7, #156]
1223:Lib/soes/src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (ESCvar.fragsleft);
 1070              		.loc 1 1223 10 is_stmt 1 view .LVU342
1223:Lib/soes/src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (ESCvar.fragsleft);
 1071              		.loc 1 1223 35 is_stmt 0 view .LVU343
 1072 00e4 013D     		subs	r5, r5, #1
 1073              	.LVL92:
1223:Lib/soes/src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (ESCvar.fragsleft);
 1074              		.loc 1 1223 27 view .LVU344
 1075 00e6 C7F8A050 		str	r5, [r7, #160]
1224:Lib/soes/src/esc_coe.c ****          coel->index = htoes (0x01);
 1076              		.loc 1 1224 10 is_stmt 1 view .LVU345
1224:Lib/soes/src/esc_coe.c ****          coel->index = htoes (0x01);
 1077              		.loc 1 1224 41 is_stmt 0 view .LVU346
 1078 00ea 5D81     		strh	r5, [r3, #10]	@ movhi
ARM GAS  /tmp/ccoG2CDz.s 			page 54


1225:Lib/soes/src/esc_coe.c **** 
 1079              		.loc 1 1225 10 is_stmt 1 view .LVU347
1225:Lib/soes/src/esc_coe.c **** 
 1080              		.loc 1 1225 22 is_stmt 0 view .LVU348
 1081 00ec 0121     		movs	r1, #1
 1082 00ee 9981     		strh	r1, [r3, #12]	@ movhi
1227:Lib/soes/src/esc_coe.c ****          for (i = 0; i < n; i++)
 1083              		.loc 1 1227 10 is_stmt 1 view .LVU349
1227:Lib/soes/src/esc_coe.c ****          for (i = 0; i < n; i++)
 1084              		.loc 1 1227 12 is_stmt 0 view .LVU350
 1085 00f0 0E33     		adds	r3, r3, #14
 1086              	.LVL93:
1228:Lib/soes/src/esc_coe.c ****          {
 1087              		.loc 1 1228 10 is_stmt 1 view .LVU351
1228:Lib/soes/src/esc_coe.c ****          {
 1088              		.loc 1 1228 10 is_stmt 0 view .LVU352
 1089 00f2 11E0     		b	.L44
 1090              	.LVL94:
 1091              	.L42:
1216:Lib/soes/src/esc_coe.c ****             MBXcontrol[0].state = MBXstate_idle;
 1092              		.loc 1 1216 13 is_stmt 1 view .LVU353
1216:Lib/soes/src/esc_coe.c ****             MBXcontrol[0].state = MBXstate_idle;
 1093              		.loc 1 1216 41 is_stmt 0 view .LVU354
 1094 00f4 1A7A     		ldrb	r2, [r3, #8]	@ zero_extendqisi2
 1095 00f6 6FF3C712 		bfc	r2, #7, #1
 1096 00fa 1A72     		strb	r2, [r3, #8]
1217:Lib/soes/src/esc_coe.c ****             ESCvar.xoe = 0;
 1097              		.loc 1 1217 13 is_stmt 1 view .LVU355
1217:Lib/soes/src/esc_coe.c ****             ESCvar.xoe = 0;
 1098              		.loc 1 1217 33 is_stmt 0 view .LVU356
 1099 00fc 0022     		movs	r2, #0
 1100 00fe 0E49     		ldr	r1, .L48+16
 1101 0100 0A70     		strb	r2, [r1]
1218:Lib/soes/src/esc_coe.c ****             n = entries;
 1102              		.loc 1 1218 13 is_stmt 1 view .LVU357
1218:Lib/soes/src/esc_coe.c ****             n = entries;
 1103              		.loc 1 1218 24 is_stmt 0 view .LVU358
 1104 0102 0A49     		ldr	r1, .L48+4
 1105 0104 81F88E20 		strb	r2, [r1, #142]
1219:Lib/soes/src/esc_coe.c ****          }
 1106              		.loc 1 1219 13 is_stmt 1 view .LVU359
 1107              	.LVL95:
1219:Lib/soes/src/esc_coe.c ****          }
 1108              		.loc 1 1219 13 is_stmt 0 view .LVU360
 1109 0108 E7E7     		b	.L43
 1110              	.LVL96:
 1111              	.L45:
1230:Lib/soes/src/esc_coe.c ****             p++;
 1112              		.loc 1 1230 13 is_stmt 1 discriminator 3 view .LVU361
1230:Lib/soes/src/esc_coe.c ****             p++;
 1113              		.loc 1 1230 18 is_stmt 0 discriminator 3 view .LVU362
 1114 010a 1101     		lsls	r1, r2, #4
 1115 010c 064D     		ldr	r5, .L48
 1116 010e 695A     		ldrh	r1, [r5, r1]
1230:Lib/soes/src/esc_coe.c ****             p++;
 1117              		.loc 1 1230 16 discriminator 3 view .LVU363
 1118 0110 23F8021B 		strh	r1, [r3], #2	@ movhi
ARM GAS  /tmp/ccoG2CDz.s 			page 55


 1119              	.LVL97:
1231:Lib/soes/src/esc_coe.c ****          }
 1120              		.loc 1 1231 13 is_stmt 1 discriminator 3 view .LVU364
1228:Lib/soes/src/esc_coe.c ****          {
 1121              		.loc 1 1228 29 discriminator 3 view .LVU365
1228:Lib/soes/src/esc_coe.c ****          {
 1122              		.loc 1 1228 30 is_stmt 0 discriminator 3 view .LVU366
 1123 0114 0132     		adds	r2, r2, #1
 1124              	.LVL98:
1228:Lib/soes/src/esc_coe.c ****          {
 1125              		.loc 1 1228 30 discriminator 3 view .LVU367
 1126 0116 92B2     		uxth	r2, r2
 1127              	.LVL99:
 1128              	.L44:
1228:Lib/soes/src/esc_coe.c ****          {
 1129              		.loc 1 1228 22 is_stmt 1 discriminator 1 view .LVU368
1228:Lib/soes/src/esc_coe.c ****          {
 1130              		.loc 1 1228 10 is_stmt 0 discriminator 1 view .LVU369
 1131 0118 A242     		cmp	r2, r4
 1132 011a F6D3     		bcc	.L45
1234:Lib/soes/src/esc_coe.c ****       }
 1133              		.loc 1 1234 10 is_stmt 1 view .LVU370
1234:Lib/soes/src/esc_coe.c ****       }
 1134              		.loc 1 1234 35 is_stmt 0 view .LVU371
 1135 011c 6300     		lsls	r3, r4, #1
 1136              	.LVL100:
1234:Lib/soes/src/esc_coe.c ****       }
 1137              		.loc 1 1234 35 view .LVU372
 1138 011e 9BB2     		uxth	r3, r3
 1139 0120 0833     		adds	r3, r3, #8
1234:Lib/soes/src/esc_coe.c ****       }
 1140              		.loc 1 1234 33 view .LVU373
 1141 0122 3352     		strh	r3, [r6, r0]	@ movhi
 1142 0124 C5E7     		b	.L41
 1143              	.L49:
 1144 0126 00BF     		.align	2
 1145              	.L48:
 1146 0128 00000000 		.word	SDOobjects
 1147 012c 00000000 		.word	ESCvar
 1148 0130 00000000 		.word	MBX
 1149 0134 00000106 		.word	100728832
 1150 0138 00000000 		.word	MBXcontrol
 1151              		.cfi_endproc
 1152              	.LFE16:
 1154              		.section	.text.SDO_abort,"ax",%progbits
 1155              		.align	1
 1156              		.syntax unified
 1157              		.thumb
 1158              		.thumb_func
 1159              		.fpu fpv4-sp-d16
 1161              	SDO_abort:
 1162              	.LVL101:
 1163              	.LFB4:
 259:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
 1164              		.loc 1 259 1 is_stmt 1 view -0
 1165              		.cfi_startproc
 1166              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccoG2CDz.s 			page 56


 1167              		@ frame_needed = 0, uses_anonymous_args = 0
 259:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
 1168              		.loc 1 259 1 is_stmt 0 view .LVU375
 1169 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1170              		.cfi_def_cfa_offset 24
 1171              		.cfi_offset 3, -24
 1172              		.cfi_offset 4, -20
 1173              		.cfi_offset 5, -16
 1174              		.cfi_offset 6, -12
 1175              		.cfi_offset 7, -8
 1176              		.cfi_offset 14, -4
 1177 0002 0E46     		mov	r6, r1
 1178 0004 1546     		mov	r5, r2
 1179 0006 1F46     		mov	r7, r3
 260:Lib/soes/src/esc_coe.c ****    _COEsdo *coeres;
 1180              		.loc 1 260 4 is_stmt 1 view .LVU376
 261:Lib/soes/src/esc_coe.c ****    if (reusembx)
 1181              		.loc 1 261 4 view .LVU377
 262:Lib/soes/src/esc_coe.c ****       MBXout = reusembx;
 1182              		.loc 1 262 4 view .LVU378
 262:Lib/soes/src/esc_coe.c ****       MBXout = reusembx;
 1183              		.loc 1 262 7 is_stmt 0 view .LVU379
 1184 0008 0446     		mov	r4, r0
 1185 000a 00B3     		cbz	r0, .L54
 1186              	.LVL102:
 1187              	.L51:
 266:Lib/soes/src/esc_coe.c ****    {
 1188              		.loc 1 266 4 is_stmt 1 view .LVU380
 266:Lib/soes/src/esc_coe.c ****    {
 1189              		.loc 1 266 7 is_stmt 0 view .LVU381
 1190 000c F4B1     		cbz	r4, .L50
 268:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1191              		.loc 1 268 7 is_stmt 1 view .LVU382
 268:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1192              		.loc 1 268 42 is_stmt 0 view .LVU383
 1193 000e 124B     		ldr	r3, .L55
 1194 0010 D86E     		ldr	r0, [r3, #108]
 268:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1195              		.loc 1 268 40 view .LVU384
 1196 0012 04FB00F0 		mul	r0, r4, r0
 268:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1197              		.loc 1 268 14 view .LVU385
 1198 0016 114B     		ldr	r3, .L55+4
 1199 0018 00EB030C 		add	ip, r0, r3
 1200              	.LVL103:
 269:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.mbxtype = MBXCOE;
 1201              		.loc 1 269 7 is_stmt 1 view .LVU386
 269:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.mbxtype = MBXCOE;
 1202              		.loc 1 269 32 is_stmt 0 view .LVU387
 1203 001c 0A22     		movs	r2, #10
 1204 001e C252     		strh	r2, [r0, r3]	@ movhi
 270:Lib/soes/src/esc_coe.c ****       coeres->coeheader.numberservice =
 1205              		.loc 1 270 7 is_stmt 1 view .LVU388
 270:Lib/soes/src/esc_coe.c ****       coeres->coeheader.numberservice =
 1206              		.loc 1 270 33 is_stmt 0 view .LVU389
 1207 0020 9CF80520 		ldrb	r2, [ip, #5]	@ zero_extendqisi2
 1208 0024 0323     		movs	r3, #3
ARM GAS  /tmp/ccoG2CDz.s 			page 57


 1209 0026 63F30302 		bfi	r2, r3, #0, #4
 1210 002a 8CF80520 		strb	r2, [ip, #5]
 271:Lib/soes/src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOREQUEST << 12));
 1211              		.loc 1 271 7 is_stmt 1 view .LVU390
 271:Lib/soes/src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOREQUEST << 12));
 1212              		.loc 1 271 39 is_stmt 0 view .LVU391
 1213 002e 4FF40052 		mov	r2, #8192
 1214 0032 ACF80620 		strh	r2, [ip, #6]	@ movhi
 273:Lib/soes/src/esc_coe.c ****       coeres->subindex = subindex;
 1215              		.loc 1 273 7 is_stmt 1 view .LVU392
 273:Lib/soes/src/esc_coe.c ****       coeres->subindex = subindex;
 1216              		.loc 1 273 21 is_stmt 0 view .LVU393
 1217 0036 ACF80960 		strh	r6, [ip, #9]	@ unaligned
 274:Lib/soes/src/esc_coe.c ****       coeres->command = COE_COMMAND_SDOABORT;
 1218              		.loc 1 274 7 is_stmt 1 view .LVU394
 274:Lib/soes/src/esc_coe.c ****       coeres->command = COE_COMMAND_SDOABORT;
 1219              		.loc 1 274 24 is_stmt 0 view .LVU395
 1220 003a 8CF80B50 		strb	r5, [ip, #11]
 275:Lib/soes/src/esc_coe.c ****       coeres->size = htoel (abortcode);
 1221              		.loc 1 275 7 is_stmt 1 view .LVU396
 275:Lib/soes/src/esc_coe.c ****       coeres->size = htoel (abortcode);
 1222              		.loc 1 275 23 is_stmt 0 view .LVU397
 1223 003e 8022     		movs	r2, #128
 1224 0040 8CF80820 		strb	r2, [ip, #8]
 276:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 1225              		.loc 1 276 7 is_stmt 1 view .LVU398
 276:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 1226              		.loc 1 276 20 is_stmt 0 view .LVU399
 1227 0044 CCF80C70 		str	r7, [ip, #12]
 277:Lib/soes/src/esc_coe.c ****    }
 1228              		.loc 1 277 7 is_stmt 1 view .LVU400
 277:Lib/soes/src/esc_coe.c ****    }
 1229              		.loc 1 277 32 is_stmt 0 view .LVU401
 1230 0048 054A     		ldr	r2, .L55+8
 1231 004a 1355     		strb	r3, [r2, r4]
 1232              	.LVL104:
 1233              	.L50:
 279:Lib/soes/src/esc_coe.c **** 
 1234              		.loc 1 279 1 view .LVU402
 1235 004c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1236              	.LVL105:
 1237              	.L54:
 265:Lib/soes/src/esc_coe.c ****    if (MBXout)
 1238              		.loc 1 265 7 is_stmt 1 view .LVU403
 265:Lib/soes/src/esc_coe.c ****    if (MBXout)
 1239              		.loc 1 265 16 is_stmt 0 view .LVU404
 1240 004e FFF7FEFF 		bl	ESC_claimbuffer
 1241              	.LVL106:
 265:Lib/soes/src/esc_coe.c ****    if (MBXout)
 1242              		.loc 1 265 16 view .LVU405
 1243 0052 0446     		mov	r4, r0
 1244              	.LVL107:
 265:Lib/soes/src/esc_coe.c ****    if (MBXout)
 1245              		.loc 1 265 16 view .LVU406
 1246 0054 DAE7     		b	.L51
 1247              	.L56:
 1248 0056 00BF     		.align	2
ARM GAS  /tmp/ccoG2CDz.s 			page 58


 1249              	.L55:
 1250 0058 00000000 		.word	ESCvar
 1251 005c 00000000 		.word	MBX
 1252 0060 00000000 		.word	MBXcontrol
 1253              		.cfi_endproc
 1254              	.LFE4:
 1256              		.section	.text.set_state_idle,"ax",%progbits
 1257              		.align	1
 1258              		.syntax unified
 1259              		.thumb
 1260              		.thumb_func
 1261              		.fpu fpv4-sp-d16
 1263              	set_state_idle:
 1264              	.LVL108:
 1265              	.LFB5:
 285:Lib/soes/src/esc_coe.c ****    if (abortcode != 0)
 1266              		.loc 1 285 1 is_stmt 1 view -0
 1267              		.cfi_startproc
 1268              		@ args = 0, pretend = 0, frame = 0
 1269              		@ frame_needed = 0, uses_anonymous_args = 0
 285:Lib/soes/src/esc_coe.c ****    if (abortcode != 0)
 1270              		.loc 1 285 1 is_stmt 0 view .LVU408
 1271 0000 08B5     		push	{r3, lr}
 1272              		.cfi_def_cfa_offset 8
 1273              		.cfi_offset 3, -8
 1274              		.cfi_offset 14, -4
 286:Lib/soes/src/esc_coe.c ****    {
 1275              		.loc 1 286 4 is_stmt 1 view .LVU409
 286:Lib/soes/src/esc_coe.c ****    {
 1276              		.loc 1 286 7 is_stmt 0 view .LVU410
 1277 0002 33B9     		cbnz	r3, .L60
 1278              	.LVL109:
 1279              	.L58:
 291:Lib/soes/src/esc_coe.c ****    ESCvar.xoe = 0;
 1280              		.loc 1 291 4 is_stmt 1 view .LVU411
 291:Lib/soes/src/esc_coe.c ****    ESCvar.xoe = 0;
 1281              		.loc 1 291 24 is_stmt 0 view .LVU412
 1282 0004 0023     		movs	r3, #0
 1283 0006 044A     		ldr	r2, .L61
 1284 0008 1370     		strb	r3, [r2]
 292:Lib/soes/src/esc_coe.c **** }
 1285              		.loc 1 292 4 is_stmt 1 view .LVU413
 292:Lib/soes/src/esc_coe.c **** }
 1286              		.loc 1 292 15 is_stmt 0 view .LVU414
 1287 000a 044A     		ldr	r2, .L61+4
 1288 000c 82F88E30 		strb	r3, [r2, #142]
 293:Lib/soes/src/esc_coe.c **** 
 1289              		.loc 1 293 1 view .LVU415
 1290 0010 08BD     		pop	{r3, pc}
 1291              	.LVL110:
 1292              	.L60:
 288:Lib/soes/src/esc_coe.c ****    }
 1293              		.loc 1 288 7 is_stmt 1 view .LVU416
 1294 0012 FFF7FEFF 		bl	SDO_abort
 1295              	.LVL111:
 288:Lib/soes/src/esc_coe.c ****    }
 1296              		.loc 1 288 7 is_stmt 0 view .LVU417
ARM GAS  /tmp/ccoG2CDz.s 			page 59


 1297 0016 F5E7     		b	.L58
 1298              	.L62:
 1299              		.align	2
 1300              	.L61:
 1301 0018 00000000 		.word	MBXcontrol
 1302 001c 00000000 		.word	ESCvar
 1303              		.cfi_endproc
 1304              	.LFE5:
 1306              		.section	.text.copy2mbx,"ax",%progbits
 1307              		.align	1
 1308              		.syntax unified
 1309              		.thumb
 1310              		.thumb_func
 1311              		.fpu fpv4-sp-d16
 1313              	copy2mbx:
 1314              	.LVL112:
 1315              	.LFB3:
 247:Lib/soes/src/esc_coe.c ****    memcpy (dest, source, size);
 1316              		.loc 1 247 1 is_stmt 1 view -0
 1317              		.cfi_startproc
 1318              		@ args = 0, pretend = 0, frame = 0
 1319              		@ frame_needed = 0, uses_anonymous_args = 0
 247:Lib/soes/src/esc_coe.c ****    memcpy (dest, source, size);
 1320              		.loc 1 247 1 is_stmt 0 view .LVU419
 1321 0000 08B5     		push	{r3, lr}
 1322              		.cfi_def_cfa_offset 8
 1323              		.cfi_offset 3, -8
 1324              		.cfi_offset 14, -4
 1325 0002 0B46     		mov	r3, r1
 248:Lib/soes/src/esc_coe.c **** }
 1326              		.loc 1 248 4 is_stmt 1 view .LVU420
 1327 0004 0146     		mov	r1, r0
 1328              	.LVL113:
 248:Lib/soes/src/esc_coe.c **** }
 1329              		.loc 1 248 4 is_stmt 0 view .LVU421
 1330 0006 1846     		mov	r0, r3
 1331              	.LVL114:
 248:Lib/soes/src/esc_coe.c **** }
 1332              		.loc 1 248 4 view .LVU422
 1333 0008 FFF7FEFF 		bl	memcpy
 1334              	.LVL115:
 249:Lib/soes/src/esc_coe.c **** 
 1335              		.loc 1 249 1 view .LVU423
 1336 000c 08BD     		pop	{r3, pc}
 1337              		.cfi_endproc
 1338              	.LFE3:
 1340              		.section	.text.SDO_uploadsegment,"ax",%progbits
 1341              		.align	1
 1342              		.syntax unified
 1343              		.thumb
 1344              		.thumb_func
 1345              		.fpu fpv4-sp-d16
 1347              	SDO_uploadsegment:
 1348              	.LFB11:
 709:Lib/soes/src/esc_coe.c ****    _COEsdo *coesdo, *coeres;
 1349              		.loc 1 709 1 is_stmt 1 view -0
 1350              		.cfi_startproc
ARM GAS  /tmp/ccoG2CDz.s 			page 60


 1351              		@ args = 0, pretend = 0, frame = 0
 1352              		@ frame_needed = 0, uses_anonymous_args = 0
 1353 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 1354              		.cfi_def_cfa_offset 32
 1355              		.cfi_offset 4, -32
 1356              		.cfi_offset 5, -28
 1357              		.cfi_offset 6, -24
 1358              		.cfi_offset 7, -20
 1359              		.cfi_offset 8, -16
 1360              		.cfi_offset 9, -12
 1361              		.cfi_offset 10, -8
 1362              		.cfi_offset 14, -4
 1363 0004 82B0     		sub	sp, sp, #8
 1364              		.cfi_def_cfa_offset 40
 710:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
 1365              		.loc 1 710 4 view .LVU425
 711:Lib/soes/src/esc_coe.c ****    uint32_t size, offset, abort;
 1366              		.loc 1 711 4 view .LVU426
 712:Lib/soes/src/esc_coe.c ****    coesdo = (_COEsdo *) &MBX[0];
 1367              		.loc 1 712 4 view .LVU427
 713:Lib/soes/src/esc_coe.c ****    MBXout = ESC_claimbuffer ();
 1368              		.loc 1 713 4 view .LVU428
 1369              	.LVL116:
 714:Lib/soes/src/esc_coe.c ****    if (MBXout)
 1370              		.loc 1 714 4 view .LVU429
 714:Lib/soes/src/esc_coe.c ****    if (MBXout)
 1371              		.loc 1 714 13 is_stmt 0 view .LVU430
 1372 0006 FFF7FEFF 		bl	ESC_claimbuffer
 1373              	.LVL117:
 715:Lib/soes/src/esc_coe.c ****    {
 1374              		.loc 1 715 4 is_stmt 1 view .LVU431
 715:Lib/soes/src/esc_coe.c ****    {
 1375              		.loc 1 715 7 is_stmt 0 view .LVU432
 1376 000a 40B9     		cbnz	r0, .L73
 1377              	.LVL118:
 1378              	.L66:
 766:Lib/soes/src/esc_coe.c ****    ESCvar.xoe = 0;
 1379              		.loc 1 766 4 is_stmt 1 view .LVU433
 766:Lib/soes/src/esc_coe.c ****    ESCvar.xoe = 0;
 1380              		.loc 1 766 24 is_stmt 0 view .LVU434
 1381 000c 0023     		movs	r3, #0
 1382 000e 394A     		ldr	r2, .L75
 1383 0010 1370     		strb	r3, [r2]
 767:Lib/soes/src/esc_coe.c **** }
 1384              		.loc 1 767 4 is_stmt 1 view .LVU435
 767:Lib/soes/src/esc_coe.c **** }
 1385              		.loc 1 767 15 is_stmt 0 view .LVU436
 1386 0012 394A     		ldr	r2, .L75+4
 1387 0014 82F88E30 		strb	r3, [r2, #142]
 1388              	.L65:
 768:Lib/soes/src/esc_coe.c **** 
 1389              		.loc 1 768 1 view .LVU437
 1390 0018 02B0     		add	sp, sp, #8
 1391              		.cfi_remember_state
 1392              		.cfi_def_cfa_offset 32
 1393              		@ sp needed
 1394 001a BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
ARM GAS  /tmp/ccoG2CDz.s 			page 61


 1395              	.LVL119:
 1396              	.L73:
 1397              		.cfi_restore_state
 768:Lib/soes/src/esc_coe.c **** 
 1398              		.loc 1 768 1 view .LVU438
 1399 001e 0646     		mov	r6, r0
 1400              	.LBB3:
 717:Lib/soes/src/esc_coe.c ****       offset = ESCvar.fragsleft;
 1401              		.loc 1 717 7 is_stmt 1 view .LVU439
 717:Lib/soes/src/esc_coe.c ****       offset = ESCvar.fragsleft;
 1402              		.loc 1 717 42 is_stmt 0 view .LVU440
 1403 0020 354F     		ldr	r7, .L75+4
 1404 0022 FB6E     		ldr	r3, [r7, #108]
 717:Lib/soes/src/esc_coe.c ****       offset = ESCvar.fragsleft;
 1405              		.loc 1 717 40 view .LVU441
 1406 0024 03FB00F8 		mul	r8, r3, r0
 717:Lib/soes/src/esc_coe.c ****       offset = ESCvar.fragsleft;
 1407              		.loc 1 717 14 view .LVU442
 1408 0028 344D     		ldr	r5, .L75+8
 1409 002a 08EB0509 		add	r9, r8, r5
 1410              	.LVL120:
 718:Lib/soes/src/esc_coe.c ****       size = ESCvar.frags - ESCvar.fragsleft;
 1411              		.loc 1 718 7 is_stmt 1 view .LVU443
 718:Lib/soes/src/esc_coe.c ****       size = ESCvar.frags - ESCvar.fragsleft;
 1412              		.loc 1 718 14 is_stmt 0 view .LVU444
 1413 002e D7F8A0A0 		ldr	r10, [r7, #160]
 1414              	.LVL121:
 719:Lib/soes/src/esc_coe.c ****       uint8_t command = COE_COMMAND_UPLOADSEGMENT |
 1415              		.loc 1 719 7 is_stmt 1 view .LVU445
 719:Lib/soes/src/esc_coe.c ****       uint8_t command = COE_COMMAND_UPLOADSEGMENT |
 1416              		.loc 1 719 20 is_stmt 0 view .LVU446
 1417 0032 D7F89C40 		ldr	r4, [r7, #156]
 719:Lib/soes/src/esc_coe.c ****       uint8_t command = COE_COMMAND_UPLOADSEGMENT |
 1418              		.loc 1 719 12 view .LVU447
 1419 0036 A4EB0A04 		sub	r4, r4, r10
 1420              	.LVL122:
 720:Lib/soes/src/esc_coe.c ****             (coesdo->command & COE_TOGGLEBIT);  /* copy toggle bit */
 1421              		.loc 1 720 7 is_stmt 1 view .LVU448
 721:Lib/soes/src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE, command,
 1422              		.loc 1 721 20 is_stmt 0 view .LVU449
 1423 003a 2A7A     		ldrb	r2, [r5, #8]	@ zero_extendqisi2
 1424              	.LVL123:
 722:Lib/soes/src/esc_coe.c ****             coesdo->index, coesdo->subindex);
 1425              		.loc 1 722 7 is_stmt 1 view .LVU450
 1426 003c EB7A     		ldrb	r3, [r5, #11]	@ zero_extendqisi2
 1427 003e 0093     		str	r3, [sp]
 1428 0040 B5F80930 		ldrh	r3, [r5, #9]	@ unaligned
 1429 0044 02F01002 		and	r2, r2, #16
 1430              	.LVL124:
 722:Lib/soes/src/esc_coe.c ****             coesdo->index, coesdo->subindex);
 1431              		.loc 1 722 7 is_stmt 0 view .LVU451
 1432 0048 0321     		movs	r1, #3
 1433 004a 4846     		mov	r0, r9
 1434              	.LVL125:
 722:Lib/soes/src/esc_coe.c ****             coesdo->index, coesdo->subindex);
 1435              		.loc 1 722 7 view .LVU452
 1436 004c FFF7FEFF 		bl	init_coesdo
ARM GAS  /tmp/ccoG2CDz.s 			page 62


 1437              	.LVL126:
 724:Lib/soes/src/esc_coe.c ****       {
 1438              		.loc 1 724 7 is_stmt 1 view .LVU453
 724:Lib/soes/src/esc_coe.c ****       {
 1439              		.loc 1 724 17 is_stmt 0 view .LVU454
 1440 0050 E11C     		adds	r1, r4, #3
 724:Lib/soes/src/esc_coe.c ****       {
 1441              		.loc 1 724 44 view .LVU455
 1442 0052 FB6E     		ldr	r3, [r7, #108]
 1443 0054 9A1F     		subs	r2, r3, #6
 724:Lib/soes/src/esc_coe.c ****       {
 1444              		.loc 1 724 10 view .LVU456
 1445 0056 9142     		cmp	r1, r2
 1446 0058 19D9     		bls	.L67
 728:Lib/soes/src/esc_coe.c ****          /* number of bytes done */
 1447              		.loc 1 728 10 is_stmt 1 view .LVU457
 728:Lib/soes/src/esc_coe.c ****          /* number of bytes done */
 1448              		.loc 1 728 15 is_stmt 0 view .LVU458
 1449 005a A3F10904 		sub	r4, r3, #9
 1450              	.LVL127:
 730:Lib/soes/src/esc_coe.c ****          coeres->mbxheader.length = htoes (COE_SEGMENTHEADERSIZE + size);
 1451              		.loc 1 730 10 is_stmt 1 view .LVU459
 730:Lib/soes/src/esc_coe.c ****          coeres->mbxheader.length = htoes (COE_SEGMENTHEADERSIZE + size);
 1452              		.loc 1 730 27 is_stmt 0 view .LVU460
 1453 005e D7F8A030 		ldr	r3, [r7, #160]
 1454 0062 2344     		add	r3, r3, r4
 1455 0064 C7F8A030 		str	r3, [r7, #160]
 731:Lib/soes/src/esc_coe.c ****       }
 1456              		.loc 1 731 10 is_stmt 1 view .LVU461
 731:Lib/soes/src/esc_coe.c ****       }
 1457              		.loc 1 731 37 is_stmt 0 view .LVU462
 1458 0068 E31C     		adds	r3, r4, #3
 731:Lib/soes/src/esc_coe.c ****       }
 1459              		.loc 1 731 35 view .LVU463
 1460 006a 25F80830 		strh	r3, [r5, r8]	@ movhi
 1461              	.L68:
 750:Lib/soes/src/esc_coe.c ****             size);        /* copy to mailbox */
 1462              		.loc 1 750 7 is_stmt 1 view .LVU464
 750:Lib/soes/src/esc_coe.c ****             size);        /* copy to mailbox */
 1463              		.loc 1 750 35 is_stmt 0 view .LVU465
 1464 006e 224D     		ldr	r5, .L75+4
 1465 0070 D5F89400 		ldr	r0, [r5, #148]
 750:Lib/soes/src/esc_coe.c ****             size);        /* copy to mailbox */
 1466              		.loc 1 750 7 view .LVU466
 1467 0074 2246     		mov	r2, r4
 1468 0076 09F10901 		add	r1, r9, #9
 1469 007a 5044     		add	r0, r0, r10
 1470 007c FFF7FEFF 		bl	copy2mbx
 1471              	.LVL128:
 753:Lib/soes/src/esc_coe.c ****       {
 1472              		.loc 1 753 7 is_stmt 1 view .LVU467
 753:Lib/soes/src/esc_coe.c ****       {
 1473              		.loc 1 753 17 is_stmt 0 view .LVU468
 1474 0080 95F89130 		ldrb	r3, [r5, #145]	@ zero_extendqisi2
 753:Lib/soes/src/esc_coe.c ****       {
 1475              		.loc 1 753 10 view .LVU469
 1476 0084 1BB3     		cbz	r3, .L74
ARM GAS  /tmp/ccoG2CDz.s 			page 63


 1477              	.L70:
 764:Lib/soes/src/esc_coe.c ****    }
 1478              		.loc 1 764 7 is_stmt 1 view .LVU470
 764:Lib/soes/src/esc_coe.c ****    }
 1479              		.loc 1 764 32 is_stmt 0 view .LVU471
 1480 0086 1B4B     		ldr	r3, .L75
 1481 0088 0322     		movs	r2, #3
 1482 008a 9A55     		strb	r2, [r3, r6]
 1483 008c BEE7     		b	.L66
 1484              	.L67:
 736:Lib/soes/src/esc_coe.c ****          ESCvar.frags = 0;
 1485              		.loc 1 736 10 is_stmt 1 view .LVU472
 736:Lib/soes/src/esc_coe.c ****          ESCvar.frags = 0;
 1486              		.loc 1 736 27 is_stmt 0 view .LVU473
 1487 008e 1A4B     		ldr	r3, .L75+4
 1488 0090 0022     		movs	r2, #0
 1489 0092 83F89120 		strb	r2, [r3, #145]
 737:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft = 0;
 1490              		.loc 1 737 10 is_stmt 1 view .LVU474
 737:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft = 0;
 1491              		.loc 1 737 23 is_stmt 0 view .LVU475
 1492 0096 C3F89C20 		str	r2, [r3, #156]
 738:Lib/soes/src/esc_coe.c ****          coeres->command |= COE_COMMAND_LASTSEGMENTBIT;
 1493              		.loc 1 738 10 is_stmt 1 view .LVU476
 738:Lib/soes/src/esc_coe.c ****          coeres->command |= COE_COMMAND_LASTSEGMENTBIT;
 1494              		.loc 1 738 27 is_stmt 0 view .LVU477
 1495 009a C3F8A020 		str	r2, [r3, #160]
 739:Lib/soes/src/esc_coe.c ****          if (size >= 7)
 1496              		.loc 1 739 10 is_stmt 1 view .LVU478
 739:Lib/soes/src/esc_coe.c ****          if (size >= 7)
 1497              		.loc 1 739 26 is_stmt 0 view .LVU479
 1498 009e 99F80830 		ldrb	r3, [r9, #8]	@ zero_extendqisi2
 1499 00a2 43F00103 		orr	r3, r3, #1
 1500 00a6 89F80830 		strb	r3, [r9, #8]
 740:Lib/soes/src/esc_coe.c ****          {
 1501              		.loc 1 740 10 is_stmt 1 view .LVU480
 740:Lib/soes/src/esc_coe.c ****          {
 1502              		.loc 1 740 13 is_stmt 0 view .LVU481
 1503 00aa 062C     		cmp	r4, #6
 1504 00ac 03D9     		bls	.L69
 742:Lib/soes/src/esc_coe.c ****          }
 1505              		.loc 1 742 13 is_stmt 1 view .LVU482
 742:Lib/soes/src/esc_coe.c ****          }
 1506              		.loc 1 742 40 is_stmt 0 view .LVU483
 1507 00ae E31C     		adds	r3, r4, #3
 742:Lib/soes/src/esc_coe.c ****          }
 1508              		.loc 1 742 38 view .LVU484
 1509 00b0 25F80830 		strh	r3, [r5, r8]	@ movhi
 1510 00b4 DBE7     		b	.L68
 1511              	.L69:
 746:Lib/soes/src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1512              		.loc 1 746 13 is_stmt 1 view .LVU485
 746:Lib/soes/src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1513              		.loc 1 746 46 is_stmt 0 view .LVU486
 1514 00b6 C4F10702 		rsb	r2, r4, #7
 1515 00ba D2B2     		uxtb	r2, r2
 746:Lib/soes/src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
ARM GAS  /tmp/ccoG2CDz.s 			page 64


 1516              		.loc 1 746 32 view .LVU487
 1517 00bc 5200     		lsls	r2, r2, #1
 1518 00be D2B2     		uxtb	r2, r2
 746:Lib/soes/src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1519              		.loc 1 746 29 view .LVU488
 1520 00c0 1343     		orrs	r3, r3, r2
 1521 00c2 89F80830 		strb	r3, [r9, #8]
 747:Lib/soes/src/esc_coe.c ****          }
 1522              		.loc 1 747 13 is_stmt 1 view .LVU489
 747:Lib/soes/src/esc_coe.c ****          }
 1523              		.loc 1 747 38 is_stmt 0 view .LVU490
 1524 00c6 0A23     		movs	r3, #10
 1525 00c8 28F80530 		strh	r3, [r8, r5]	@ movhi
 1526 00cc CFE7     		b	.L68
 1527              	.L74:
 755:Lib/soes/src/esc_coe.c ****                coesdo->subindex, ESCvar.flags);
 1528              		.loc 1 755 10 is_stmt 1 view .LVU491
 755:Lib/soes/src/esc_coe.c ****                coesdo->subindex, ESCvar.flags);
 1529              		.loc 1 755 49 is_stmt 0 view .LVU492
 1530 00ce 0B4B     		ldr	r3, .L75+8
 755:Lib/soes/src/esc_coe.c ****                coesdo->subindex, ESCvar.flags);
 1531              		.loc 1 755 18 view .LVU493
 1532 00d0 B5F8A820 		ldrh	r2, [r5, #168]
 1533 00d4 D97A     		ldrb	r1, [r3, #11]	@ zero_extendqisi2
 1534 00d6 B3F80900 		ldrh	r0, [r3, #9]	@ unaligned
 1535 00da FFF7FEFF 		bl	ESC_upload_post_objecthandler
 1536              	.LVL129:
 757:Lib/soes/src/esc_coe.c ****          {
 1537              		.loc 1 757 10 is_stmt 1 view .LVU494
 757:Lib/soes/src/esc_coe.c ****          {
 1538              		.loc 1 757 13 is_stmt 0 view .LVU495
 1539 00de 0346     		mov	r3, r0
 1540 00e0 0028     		cmp	r0, #0
 1541 00e2 D0D0     		beq	.L70
 759:Lib/soes/src/esc_coe.c ****             return;
 1542              		.loc 1 759 13 is_stmt 1 view .LVU496
 759:Lib/soes/src/esc_coe.c ****             return;
 1543              		.loc 1 759 37 is_stmt 0 view .LVU497
 1544 00e4 0549     		ldr	r1, .L75+8
 759:Lib/soes/src/esc_coe.c ****             return;
 1545              		.loc 1 759 13 view .LVU498
 1546 00e6 CA7A     		ldrb	r2, [r1, #11]	@ zero_extendqisi2
 1547 00e8 B1F80910 		ldrh	r1, [r1, #9]	@ unaligned
 1548 00ec 3046     		mov	r0, r6
 1549              	.LVL130:
 759:Lib/soes/src/esc_coe.c ****             return;
 1550              		.loc 1 759 13 view .LVU499
 1551 00ee FFF7FEFF 		bl	set_state_idle
 1552              	.LVL131:
 760:Lib/soes/src/esc_coe.c ****          }
 1553              		.loc 1 760 13 is_stmt 1 view .LVU500
 1554 00f2 91E7     		b	.L65
 1555              	.L76:
 1556              		.align	2
 1557              	.L75:
 1558 00f4 00000000 		.word	MBXcontrol
 1559 00f8 00000000 		.word	ESCvar
ARM GAS  /tmp/ccoG2CDz.s 			page 65


 1560 00fc 00000000 		.word	MBX
 1561              	.LBE3:
 1562              		.cfi_endproc
 1563              	.LFE11:
 1565              		.section	.text.complete_access_subindex_loop,"ax",%progbits
 1566              		.align	1
 1567              		.syntax unified
 1568              		.thumb
 1569              		.thumb_func
 1570              		.fpu fpv4-sp-d16
 1572              	complete_access_subindex_loop:
 1573              	.LVL132:
 1574              	.LFB8:
 481:Lib/soes/src/esc_coe.c ****    /* Objects with dynamic entries cannot be accessed with Complete Access */
 1575              		.loc 1 481 1 view -0
 1576              		.cfi_startproc
 1577              		@ args = 8, pretend = 0, frame = 0
 1578              		@ frame_needed = 0, uses_anonymous_args = 0
 481:Lib/soes/src/esc_coe.c ****    /* Objects with dynamic entries cannot be accessed with Complete Access */
 1579              		.loc 1 481 1 is_stmt 0 view .LVU502
 1580 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1581              		.cfi_def_cfa_offset 40
 1582              		.cfi_offset 3, -40
 1583              		.cfi_offset 4, -36
 1584              		.cfi_offset 5, -32
 1585              		.cfi_offset 6, -28
 1586              		.cfi_offset 7, -24
 1587              		.cfi_offset 8, -20
 1588              		.cfi_offset 9, -16
 1589              		.cfi_offset 10, -12
 1590              		.cfi_offset 11, -8
 1591              		.cfi_offset 14, -4
 1592 0004 1F46     		mov	r7, r3
 1593 0006 9DF828B0 		ldrb	fp, [sp, #40]	@ zero_extendqisi2
 1594 000a DDF82C80 		ldr	r8, [sp, #44]
 483:Lib/soes/src/esc_coe.c ****        (objd->datatype == DTYPE_OCTET_STRING)   ||
 1595              		.loc 1 483 4 is_stmt 1 view .LVU503
 483:Lib/soes/src/esc_coe.c ****        (objd->datatype == DTYPE_OCTET_STRING)   ||
 1596              		.loc 1 483 13 is_stmt 0 view .LVU504
 1597 000e 4388     		ldrh	r3, [r0, #2]
 1598              	.LVL133:
 484:Lib/soes/src/esc_coe.c ****        (objd->datatype == DTYPE_UNICODE_STRING))
 1599              		.loc 1 484 49 view .LVU505
 1600 0010 093B     		subs	r3, r3, #9
 1601 0012 9BB2     		uxth	r3, r3
 483:Lib/soes/src/esc_coe.c ****        (objd->datatype == DTYPE_OCTET_STRING)   ||
 1602              		.loc 1 483 7 view .LVU506
 1603 0014 022B     		cmp	r3, #2
 1604 0016 40F2A080 		bls	.L100
 1605 001a 8146     		mov	r9, r0
 1606 001c 8A46     		mov	r10, r1
 1607 001e 1446     		mov	r4, r2
 490:Lib/soes/src/esc_coe.c **** 
 1608              		.loc 1 490 4 is_stmt 1 view .LVU507
 1609              	.LVL134:
 493:Lib/soes/src/esc_coe.c ****    {
 1610              		.loc 1 493 4 view .LVU508
ARM GAS  /tmp/ccoG2CDz.s 			page 66


 493:Lib/soes/src/esc_coe.c ****    {
 1611              		.loc 1 493 7 is_stmt 0 view .LVU509
 1612 0020 BBF1000F 		cmp	fp, #0
 1613 0024 02D1     		bne	.L79
 493:Lib/soes/src/esc_coe.c ****    {
 1614              		.loc 1 493 30 discriminator 1 view .LVU510
 1615 0026 0FB1     		cbz	r7, .L79
 495:Lib/soes/src/esc_coe.c ****    }
 1616              		.loc 1 495 7 is_stmt 1 view .LVU511
 495:Lib/soes/src/esc_coe.c ****    }
 1617              		.loc 1 495 18 is_stmt 0 view .LVU512
 1618 0028 0023     		movs	r3, #0
 1619 002a 7B70     		strb	r3, [r7, #1]
 1620              	.L79:
 1621              	.LBB4:
 560:Lib/soes/src/esc_coe.c ****       nsub++;
 1622              		.loc 1 560 32 view .LVU513
 1623 002c 0026     		movs	r6, #0
 1624 002e 49E0     		b	.L98
 1625              	.LVL135:
 1626              	.L104:
 502:Lib/soes/src/esc_coe.c ****       uint8_t bitoffset = size % 8;
 1627              		.loc 1 502 33 discriminator 2 view .LVU514
 1628 0030 03F10C01 		add	r1, r3, #12
 1629 0034 55E0     		b	.L80
 1630              	.LVL136:
 1631              	.L86:
 521:Lib/soes/src/esc_coe.c ****                         BITS2BYTES(bitlen));
 1632              		.loc 1 521 19 is_stmt 1 view .LVU515
 521:Lib/soes/src/esc_coe.c ****                         BITS2BYTES(bitlen));
 1633              		.loc 1 521 35 is_stmt 0 view .LVU516
 1634 0036 F01D     		adds	r0, r6, #7
 522:Lib/soes/src/esc_coe.c ****                }
 1635              		.loc 1 522 25 view .LVU517
 1636 0038 EA1D     		adds	r2, r5, #7
 1637              	.LVL137:
 521:Lib/soes/src/esc_coe.c ****                         BITS2BYTES(bitlen));
 1638              		.loc 1 521 19 view .LVU518
 1639 003a D208     		lsrs	r2, r2, #3
 1640 003c 07EBD000 		add	r0, r7, r0, lsr #3
 1641 0040 FFF7FEFF 		bl	memcpy
 1642              	.LVL138:
 521:Lib/soes/src/esc_coe.c ****                         BITS2BYTES(bitlen));
 1643              		.loc 1 521 19 view .LVU519
 1644 0044 32E0     		b	.L83
 1645              	.LVL139:
 1646              	.L84:
 531:Lib/soes/src/esc_coe.c ****             {
 1647              		.loc 1 531 18 is_stmt 1 view .LVU520
 531:Lib/soes/src/esc_coe.c ****             {
 1648              		.loc 1 531 21 is_stmt 0 view .LVU521
 1649 0046 1CF0080F 		tst	ip, #8
 1650 004a 01D0     		beq	.L89
 531:Lib/soes/src/esc_coe.c ****             {
 1651              		.loc 1 531 22 discriminator 1 view .LVU522
 1652 004c 022B     		cmp	r3, #2
 1653 004e 09D0     		beq	.L90
ARM GAS  /tmp/ccoG2CDz.s 			page 67


 1654              	.L89:
 531:Lib/soes/src/esc_coe.c ****             {
 1655              		.loc 1 531 22 discriminator 3 view .LVU523
 1656 0050 1CF0100F 		tst	ip, #16
 1657 0054 01D0     		beq	.L91
 531:Lib/soes/src/esc_coe.c ****             {
 1658              		.loc 1 531 22 discriminator 4 view .LVU524
 1659 0056 042B     		cmp	r3, #4
 1660 0058 04D0     		beq	.L90
 1661              	.L91:
 531:Lib/soes/src/esc_coe.c ****             {
 1662              		.loc 1 531 22 discriminator 6 view .LVU525
 1663 005a 1CF0200F 		tst	ip, #32
 1664 005e 25D0     		beq	.L83
 531:Lib/soes/src/esc_coe.c ****             {
 1665              		.loc 1 531 22 discriminator 7 view .LVU526
 1666 0060 082B     		cmp	r3, #8
 1667 0062 23D1     		bne	.L83
 1668              	.L90:
 533:Lib/soes/src/esc_coe.c ****                      BITS2BYTES(bitlen));
 1669              		.loc 1 533 16 is_stmt 1 view .LVU527
 533:Lib/soes/src/esc_coe.c ****                      BITS2BYTES(bitlen));
 1670              		.loc 1 533 53 is_stmt 0 view .LVU528
 1671 0064 F11D     		adds	r1, r6, #7
 1672              	.LVL140:
 534:Lib/soes/src/esc_coe.c ****             }
 1673              		.loc 1 534 22 view .LVU529
 1674 0066 EA1D     		adds	r2, r5, #7
 1675              	.LVL141:
 533:Lib/soes/src/esc_coe.c ****                      BITS2BYTES(bitlen));
 1676              		.loc 1 533 16 view .LVU530
 1677 0068 D208     		lsrs	r2, r2, #3
 1678 006a 07EBD101 		add	r1, r7, r1, lsr #3
 1679 006e FFF7FEFF 		bl	memcpy
 1680              	.LVL142:
 533:Lib/soes/src/esc_coe.c ****                      BITS2BYTES(bitlen));
 1681              		.loc 1 533 16 view .LVU531
 1682 0072 1BE0     		b	.L83
 1683              	.LVL143:
 1684              	.L81:
 538:Lib/soes/src/esc_coe.c ****       {
 1685              		.loc 1 538 12 is_stmt 1 view .LVU532
 538:Lib/soes/src/esc_coe.c ****       {
 1686              		.loc 1 538 15 is_stmt 0 view .LVU533
 1687 0074 BBF1000F 		cmp	fp, #0
 1688 0078 18D1     		bne	.L83
 538:Lib/soes/src/esc_coe.c ****       {
 1689              		.loc 1 538 38 discriminator 1 view .LVU534
 1690 007a BFB1     		cbz	r7, .L83
 1691              	.LBB5:
 541:Lib/soes/src/esc_coe.c ****          uint32_t tempmask;
 1692              		.loc 1 541 10 is_stmt 1 view .LVU535
 541:Lib/soes/src/esc_coe.c ****          uint32_t tempmask;
 1693              		.loc 1 541 33 is_stmt 0 view .LVU536
 1694 007c 0120     		movs	r0, #1
 1695 007e A840     		lsls	r0, r0, r5
 541:Lib/soes/src/esc_coe.c ****          uint32_t tempmask;
ARM GAS  /tmp/ccoG2CDz.s 			page 68


 1696              		.loc 1 541 19 view .LVU537
 1697 0080 0138     		subs	r0, r0, #1
 1698              	.LVL144:
 542:Lib/soes/src/esc_coe.c ****          if (READ_ACCESS(access, state))
 1699              		.loc 1 542 10 is_stmt 1 view .LVU538
 543:Lib/soes/src/esc_coe.c ****          {
 1700              		.loc 1 543 10 view .LVU539
 543:Lib/soes/src/esc_coe.c ****          {
 1701              		.loc 1 543 13 is_stmt 0 view .LVU540
 1702 0082 1CF0010F 		tst	ip, #1
 1703 0086 01D0     		beq	.L92
 543:Lib/soes/src/esc_coe.c ****          {
 1704              		.loc 1 543 14 discriminator 1 view .LVU541
 1705 0088 022B     		cmp	r3, #2
 1706 008a 56D0     		beq	.L93
 1707              	.L92:
 543:Lib/soes/src/esc_coe.c ****          {
 1708              		.loc 1 543 14 discriminator 3 view .LVU542
 1709 008c 1CF0020F 		tst	ip, #2
 1710 0090 01D0     		beq	.L94
 543:Lib/soes/src/esc_coe.c ****          {
 1711              		.loc 1 543 14 discriminator 4 view .LVU543
 1712 0092 042B     		cmp	r3, #4
 1713 0094 51D0     		beq	.L93
 1714              	.L94:
 543:Lib/soes/src/esc_coe.c ****          {
 1715              		.loc 1 543 14 discriminator 6 view .LVU544
 1716 0096 1CF0040F 		tst	ip, #4
 1717 009a 01D0     		beq	.L95
 543:Lib/soes/src/esc_coe.c ****          {
 1718              		.loc 1 543 14 discriminator 7 view .LVU545
 1719 009c 082B     		cmp	r3, #8
 1720 009e 4CD0     		beq	.L93
 1721              	.L95:
 554:Lib/soes/src/esc_coe.c ****             mbxdata[BITSPOS2BYTESOFFSET(size)] &= (uint8_t)tempmask;
 1722              		.loc 1 554 13 is_stmt 1 view .LVU546
 554:Lib/soes/src/esc_coe.c ****             mbxdata[BITSPOS2BYTESOFFSET(size)] &= (uint8_t)tempmask;
 1723              		.loc 1 554 34 is_stmt 0 view .LVU547
 1724 00a0 9040     		lsls	r0, r0, r2
 1725              	.LVL145:
 555:Lib/soes/src/esc_coe.c ****          }
 1726              		.loc 1 555 13 is_stmt 1 view .LVU548
 555:Lib/soes/src/esc_coe.c ****          }
 1727              		.loc 1 555 48 is_stmt 0 view .LVU549
 1728 00a2 F308     		lsrs	r3, r6, #3
 1729              	.LVL146:
 555:Lib/soes/src/esc_coe.c ****          }
 1730              		.loc 1 555 48 view .LVU550
 1731 00a4 FA5C     		ldrb	r2, [r7, r3]	@ zero_extendqisi2
 1732              	.LVL147:
 555:Lib/soes/src/esc_coe.c ****          }
 1733              		.loc 1 555 48 view .LVU551
 1734 00a6 22EA0000 		bic	r0, r2, r0
 1735              	.LVL148:
 555:Lib/soes/src/esc_coe.c ****          }
 1736              		.loc 1 555 48 view .LVU552
 1737 00aa F854     		strb	r0, [r7, r3]
ARM GAS  /tmp/ccoG2CDz.s 			page 69


 1738              	.LVL149:
 1739              	.L83:
 555:Lib/soes/src/esc_coe.c ****          }
 1740              		.loc 1 555 48 view .LVU553
 1741              	.LBE5:
 560:Lib/soes/src/esc_coe.c ****       nsub++;
 1742              		.loc 1 560 7 is_stmt 1 view .LVU554
 560:Lib/soes/src/esc_coe.c ****       nsub++;
 1743              		.loc 1 560 32 is_stmt 0 view .LVU555
 1744 00ac 04B9     		cbnz	r4, .L97
 560:Lib/soes/src/esc_coe.c ****       nsub++;
 1745              		.loc 1 560 32 view .LVU556
 1746 00ae 1025     		movs	r5, #16
 1747              	.LVL150:
 1748              	.L97:
 560:Lib/soes/src/esc_coe.c ****       nsub++;
 1749              		.loc 1 560 12 discriminator 4 view .LVU557
 1750 00b0 2E44     		add	r6, r6, r5
 1751              	.LVL151:
 561:Lib/soes/src/esc_coe.c **** 
 1752              		.loc 1 561 7 is_stmt 1 discriminator 4 view .LVU558
 561:Lib/soes/src/esc_coe.c **** 
 1753              		.loc 1 561 11 is_stmt 0 discriminator 4 view .LVU559
 1754 00b2 0134     		adds	r4, r4, #1
 1755              	.LVL152:
 561:Lib/soes/src/esc_coe.c **** 
 1756              		.loc 1 561 11 discriminator 4 view .LVU560
 1757 00b4 24B2     		sxth	r4, r4
 1758              	.LVL153:
 563:Lib/soes/src/esc_coe.c ****       {
 1759              		.loc 1 563 7 is_stmt 1 discriminator 4 view .LVU561
 563:Lib/soes/src/esc_coe.c ****       {
 1760              		.loc 1 563 10 is_stmt 0 discriminator 4 view .LVU562
 1761 00b6 B8F1000F 		cmp	r8, #0
 1762 00ba 03D0     		beq	.L98
 563:Lib/soes/src/esc_coe.c ****       {
 1763              		.loc 1 563 31 discriminator 1 view .LVU563
 1764 00bc F31D     		adds	r3, r6, #7
 563:Lib/soes/src/esc_coe.c ****       {
 1765              		.loc 1 563 27 discriminator 1 view .LVU564
 1766 00be B8EBD30F 		cmp	r8, r3, lsr #3
 1767 00c2 4BD9     		bls	.L77
 1768              	.LVL154:
 1769              	.L98:
 563:Lib/soes/src/esc_coe.c ****       {
 1770              		.loc 1 563 27 discriminator 1 view .LVU565
 1771              	.LBE4:
 498:Lib/soes/src/esc_coe.c ****    {
 1772              		.loc 1 498 10 is_stmt 1 view .LVU566
 498:Lib/soes/src/esc_coe.c ****    {
 1773              		.loc 1 498 35 is_stmt 0 view .LVU567
 1774 00c4 274B     		ldr	r3, .L105
 1775 00c6 03EB0A13 		add	r3, r3, r10, lsl #4
 1776 00ca 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 498:Lib/soes/src/esc_coe.c ****    {
 1777              		.loc 1 498 10 view .LVU568
 1778 00cc 9C42     		cmp	r4, r3
ARM GAS  /tmp/ccoG2CDz.s 			page 70


 1779 00ce 45DC     		bgt	.L77
 1780              	.LBB7:
 500:Lib/soes/src/esc_coe.c ****       void *ul_source = ((objd + nsub)->data != NULL) ?
 1781              		.loc 1 500 7 is_stmt 1 view .LVU569
 500:Lib/soes/src/esc_coe.c ****       void *ul_source = ((objd + nsub)->data != NULL) ?
 1782              		.loc 1 500 31 is_stmt 0 view .LVU570
 1783 00d0 04EB8403 		add	r3, r4, r4, lsl #2
 1784 00d4 09EB8303 		add	r3, r9, r3, lsl #2
 500:Lib/soes/src/esc_coe.c ****       void *ul_source = ((objd + nsub)->data != NULL) ?
 1785              		.loc 1 500 16 view .LVU571
 1786 00d8 9D88     		ldrh	r5, [r3, #4]
 1787              	.LVL155:
 501:Lib/soes/src/esc_coe.c ****             (objd + nsub)->data : (void *)&((objd + nsub)->value);
 1788              		.loc 1 501 7 is_stmt 1 view .LVU572
 501:Lib/soes/src/esc_coe.c ****             (objd + nsub)->data : (void *)&((objd + nsub)->value);
 1789              		.loc 1 501 39 is_stmt 0 view .LVU573
 1790 00da 1869     		ldr	r0, [r3, #16]
 502:Lib/soes/src/esc_coe.c ****       uint8_t bitoffset = size % 8;
 1791              		.loc 1 502 33 view .LVU574
 1792 00dc 0028     		cmp	r0, #0
 1793 00de A7D0     		beq	.L104
 1794 00e0 0146     		mov	r1, r0
 1795              	.L80:
 1796              	.LVL156:
 503:Lib/soes/src/esc_coe.c ****       uint8_t access = (objd + nsub)->flags & 0x3f;
 1797              		.loc 1 503 7 is_stmt 1 view .LVU575
 503:Lib/soes/src/esc_coe.c ****       uint8_t access = (objd + nsub)->flags & 0x3f;
 1798              		.loc 1 503 15 is_stmt 0 view .LVU576
 1799 00e2 06F00702 		and	r2, r6, #7
 1800              	.LVL157:
 504:Lib/soes/src/esc_coe.c ****       uint8_t state = ESCvar.ALstatus & 0x0f;
 1801              		.loc 1 504 7 is_stmt 1 view .LVU577
 504:Lib/soes/src/esc_coe.c ****       uint8_t state = ESCvar.ALstatus & 0x0f;
 1802              		.loc 1 504 45 is_stmt 0 view .LVU578
 1803 00e6 93F806C0 		ldrb	ip, [r3, #6]	@ zero_extendqisi2
 1804              	.LVL158:
 505:Lib/soes/src/esc_coe.c **** 
 1805              		.loc 1 505 7 is_stmt 1 view .LVU579
 505:Lib/soes/src/esc_coe.c **** 
 1806              		.loc 1 505 39 is_stmt 0 view .LVU580
 1807 00ea 1F4B     		ldr	r3, .L105+4
 1808 00ec 93F88030 		ldrb	r3, [r3, #128]	@ zero_extendqisi2
 505:Lib/soes/src/esc_coe.c **** 
 1809              		.loc 1 505 15 view .LVU581
 1810 00f0 03F00F03 		and	r3, r3, #15
 1811              	.LVL159:
 507:Lib/soes/src/esc_coe.c ****       {
 1812              		.loc 1 507 7 is_stmt 1 view .LVU582
 507:Lib/soes/src/esc_coe.c ****       {
 1813              		.loc 1 507 10 is_stmt 0 view .LVU583
 1814 00f4 15F0070F 		tst	r5, #7
 1815 00f8 BCD1     		bne	.L81
 509:Lib/soes/src/esc_coe.c ****          {
 1816              		.loc 1 509 10 is_stmt 1 view .LVU584
 509:Lib/soes/src/esc_coe.c ****          {
 1817              		.loc 1 509 13 is_stmt 0 view .LVU585
 1818 00fa 0AB1     		cbz	r2, .L82
ARM GAS  /tmp/ccoG2CDz.s 			page 71


 512:Lib/soes/src/esc_coe.c ****          }
 1819              		.loc 1 512 13 is_stmt 1 view .LVU586
 512:Lib/soes/src/esc_coe.c ****          }
 1820              		.loc 1 512 18 is_stmt 0 view .LVU587
 1821 00fc B61A     		subs	r6, r6, r2
 1822              	.LVL160:
 512:Lib/soes/src/esc_coe.c ****          }
 1823              		.loc 1 512 18 view .LVU588
 1824 00fe 0836     		adds	r6, r6, #8
 1825              	.LVL161:
 1826              	.L82:
 514:Lib/soes/src/esc_coe.c ****          {
 1827              		.loc 1 514 10 is_stmt 1 view .LVU589
 514:Lib/soes/src/esc_coe.c ****          {
 1828              		.loc 1 514 13 is_stmt 0 view .LVU590
 1829 0100 002F     		cmp	r7, #0
 1830 0102 D3D0     		beq	.L83
 517:Lib/soes/src/esc_coe.c ****             {
 1831              		.loc 1 517 13 is_stmt 1 view .LVU591
 517:Lib/soes/src/esc_coe.c ****             {
 1832              		.loc 1 517 16 is_stmt 0 view .LVU592
 1833 0104 BBF1000F 		cmp	fp, #0
 1834 0108 9DD1     		bne	.L84
 519:Lib/soes/src/esc_coe.c ****                {
 1835              		.loc 1 519 16 is_stmt 1 view .LVU593
 519:Lib/soes/src/esc_coe.c ****                {
 1836              		.loc 1 519 19 is_stmt 0 view .LVU594
 1837 010a 1CF0010F 		tst	ip, #1
 1838 010e 01D0     		beq	.L85
 519:Lib/soes/src/esc_coe.c ****                {
 1839              		.loc 1 519 20 discriminator 1 view .LVU595
 1840 0110 022B     		cmp	r3, #2
 1841 0112 90D0     		beq	.L86
 1842              	.L85:
 519:Lib/soes/src/esc_coe.c ****                {
 1843              		.loc 1 519 20 discriminator 3 view .LVU596
 1844 0114 1CF0020F 		tst	ip, #2
 1845 0118 01D0     		beq	.L87
 519:Lib/soes/src/esc_coe.c ****                {
 1846              		.loc 1 519 20 discriminator 4 view .LVU597
 1847 011a 042B     		cmp	r3, #4
 1848 011c 8BD0     		beq	.L86
 1849              	.L87:
 519:Lib/soes/src/esc_coe.c ****                {
 1850              		.loc 1 519 20 discriminator 6 view .LVU598
 1851 011e 1CF0040F 		tst	ip, #4
 1852 0122 01D0     		beq	.L88
 519:Lib/soes/src/esc_coe.c ****                {
 1853              		.loc 1 519 20 discriminator 7 view .LVU599
 1854 0124 082B     		cmp	r3, #8
 1855 0126 86D0     		beq	.L86
 1856              	.L88:
 527:Lib/soes/src/esc_coe.c ****                }
 1857              		.loc 1 527 19 is_stmt 1 view .LVU600
 527:Lib/soes/src/esc_coe.c ****                }
 1858              		.loc 1 527 35 is_stmt 0 view .LVU601
 1859 0128 F01D     		adds	r0, r6, #7
ARM GAS  /tmp/ccoG2CDz.s 			page 72


 527:Lib/soes/src/esc_coe.c ****                }
 1860              		.loc 1 527 57 view .LVU602
 1861 012a EA1D     		adds	r2, r5, #7
 1862              	.LVL162:
 527:Lib/soes/src/esc_coe.c ****                }
 1863              		.loc 1 527 19 view .LVU603
 1864 012c D208     		lsrs	r2, r2, #3
 1865 012e 0021     		movs	r1, #0
 1866              	.LVL163:
 527:Lib/soes/src/esc_coe.c ****                }
 1867              		.loc 1 527 19 view .LVU604
 1868 0130 07EBD000 		add	r0, r7, r0, lsr #3
 1869 0134 FFF7FEFF 		bl	memset
 1870              	.LVL164:
 527:Lib/soes/src/esc_coe.c ****                }
 1871              		.loc 1 527 19 view .LVU605
 1872 0138 B8E7     		b	.L83
 1873              	.LVL165:
 1874              	.L93:
 1875              	.LBB6:
 545:Lib/soes/src/esc_coe.c ****             {
 1876              		.loc 1 545 13 is_stmt 1 view .LVU606
 545:Lib/soes/src/esc_coe.c ****             {
 1877              		.loc 1 545 16 is_stmt 0 view .LVU607
 1878 013a 22B9     		cbnz	r2, .L96
 547:Lib/soes/src/esc_coe.c ****             }
 1879              		.loc 1 547 16 is_stmt 1 view .LVU608
 547:Lib/soes/src/esc_coe.c ****             }
 1880              		.loc 1 547 24 is_stmt 0 view .LVU609
 1881 013c F308     		lsrs	r3, r6, #3
 1882              	.LVL166:
 547:Lib/soes/src/esc_coe.c ****             }
 1883              		.loc 1 547 51 view .LVU610
 1884 013e 4FF0000C 		mov	ip, #0
 1885              	.LVL167:
 547:Lib/soes/src/esc_coe.c ****             }
 1886              		.loc 1 547 51 view .LVU611
 1887 0142 07F803C0 		strb	ip, [r7, r3]
 1888              	.LVL168:
 1889              	.L96:
 549:Lib/soes/src/esc_coe.c ****             mbxdata[BITSPOS2BYTESOFFSET(size)] |= (uint8_t)tempmask;
 1890              		.loc 1 549 13 is_stmt 1 view .LVU612
 549:Lib/soes/src/esc_coe.c ****             mbxdata[BITSPOS2BYTESOFFSET(size)] |= (uint8_t)tempmask;
 1891              		.loc 1 549 25 is_stmt 0 view .LVU613
 1892 0146 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 549:Lib/soes/src/esc_coe.c ****             mbxdata[BITSPOS2BYTESOFFSET(size)] |= (uint8_t)tempmask;
 1893              		.loc 1 549 47 view .LVU614
 1894 0148 0340     		ands	r3, r3, r0
 549:Lib/soes/src/esc_coe.c ****             mbxdata[BITSPOS2BYTESOFFSET(size)] |= (uint8_t)tempmask;
 1895              		.loc 1 549 22 view .LVU615
 1896 014a 03FA02F2 		lsl	r2, r3, r2
 1897              	.LVL169:
 550:Lib/soes/src/esc_coe.c ****          }
 1898              		.loc 1 550 13 is_stmt 1 view .LVU616
 550:Lib/soes/src/esc_coe.c ****          }
 1899              		.loc 1 550 48 is_stmt 0 view .LVU617
 1900 014e F308     		lsrs	r3, r6, #3
ARM GAS  /tmp/ccoG2CDz.s 			page 73


 550:Lib/soes/src/esc_coe.c ****          }
 1901              		.loc 1 550 51 view .LVU618
 1902 0150 D2B2     		uxtb	r2, r2
 1903              	.LVL170:
 550:Lib/soes/src/esc_coe.c ****          }
 1904              		.loc 1 550 48 view .LVU619
 1905 0152 F95C     		ldrb	r1, [r7, r3]	@ zero_extendqisi2
 1906              	.LVL171:
 550:Lib/soes/src/esc_coe.c ****          }
 1907              		.loc 1 550 48 view .LVU620
 1908 0154 0A43     		orrs	r2, r2, r1
 1909 0156 FA54     		strb	r2, [r7, r3]
 550:Lib/soes/src/esc_coe.c ****          }
 1910              		.loc 1 550 48 view .LVU621
 1911 0158 A8E7     		b	.L83
 1912              	.LVL172:
 1913              	.L100:
 550:Lib/soes/src/esc_coe.c ****          }
 1914              		.loc 1 550 48 view .LVU622
 1915              	.LBE6:
 1916              	.LBE7:
 487:Lib/soes/src/esc_coe.c ****    }
 1917              		.loc 1 487 14 view .LVU623
 1918 015a 044E     		ldr	r6, .L105+8
 1919              	.LVL173:
 1920              	.L77:
 570:Lib/soes/src/esc_coe.c **** 
 1921              		.loc 1 570 1 view .LVU624
 1922 015c 3046     		mov	r0, r6
 1923 015e BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1924              	.LVL174:
 1925              	.L106:
 570:Lib/soes/src/esc_coe.c **** 
 1926              		.loc 1 570 1 view .LVU625
 1927 0162 00BF     		.align	2
 1928              	.L105:
 1929 0164 00000000 		.word	SDOobjects
 1930 0168 00000000 		.word	ESCvar
 1931 016c 04000106 		.word	100728836
 1932              		.cfi_endproc
 1933              	.LFE8:
 1935              		.section	.rodata.COE_getValue.str1.4,"aMS",%progbits,1
 1936              		.align	2
 1937              	.LC0:
 1938 0000 3000     		.ascii	"0\000"
 1939 0002 0000     		.align	2
 1940              	.LC1:
 1941 0004 4C69622F 		.ascii	"Lib/soes/src/esc_coe.c\000"
 1941      736F6573 
 1941      2F737263 
 1941      2F657363 
 1941      5F636F65 
 1942              		.section	.text.COE_getValue,"ax",%progbits
 1943              		.align	1
 1944              		.syntax unified
 1945              		.thumb
 1946              		.thumb_func
ARM GAS  /tmp/ccoG2CDz.s 			page 74


 1947              		.fpu fpv4-sp-d16
 1949              	COE_getValue:
 1950              	.LVL175:
 1951              	.LFB23:
1632:Lib/soes/src/esc_coe.c ****    uint64_t value = 0;
 1952              		.loc 1 1632 1 is_stmt 1 view -0
 1953              		.cfi_startproc
 1954              		@ args = 0, pretend = 0, frame = 0
 1955              		@ frame_needed = 0, uses_anonymous_args = 0
1632:Lib/soes/src/esc_coe.c ****    uint64_t value = 0;
 1956              		.loc 1 1632 1 is_stmt 0 view .LVU627
 1957 0000 08B5     		push	{r3, lr}
 1958              		.cfi_def_cfa_offset 8
 1959              		.cfi_offset 3, -8
 1960              		.cfi_offset 14, -4
1633:Lib/soes/src/esc_coe.c **** 
 1961              		.loc 1 1633 4 is_stmt 1 view .LVU628
 1962              	.LVL176:
1637:Lib/soes/src/esc_coe.c ****    {
 1963              		.loc 1 1637 4 view .LVU629
1637:Lib/soes/src/esc_coe.c ****    {
 1964              		.loc 1 1637 14 is_stmt 0 view .LVU630
 1965 0002 4388     		ldrh	r3, [r0, #2]
1637:Lib/soes/src/esc_coe.c ****    {
 1966              		.loc 1 1637 4 view .LVU631
 1967 0004 013B     		subs	r3, r3, #1
 1968 0006 362B     		cmp	r3, #54
 1969 0008 2DD8     		bhi	.L108
 1970 000a DFE803F0 		tbb	[pc, r3]
 1971              	.L110:
 1972 000e 1C       		.byte	(.L109-.L110)/2
 1973 000f 1C       		.byte	(.L109-.L110)/2
 1974 0010 20       		.byte	(.L112-.L110)/2
 1975 0011 24       		.byte	(.L111-.L110)/2
 1976 0012 1C       		.byte	(.L109-.L110)/2
 1977 0013 20       		.byte	(.L112-.L110)/2
 1978 0014 24       		.byte	(.L111-.L110)/2
 1979 0015 24       		.byte	(.L111-.L110)/2
 1980 0016 2C       		.byte	(.L108-.L110)/2
 1981 0017 2C       		.byte	(.L108-.L110)/2
 1982 0018 2C       		.byte	(.L108-.L110)/2
 1983 0019 2C       		.byte	(.L108-.L110)/2
 1984 001a 2C       		.byte	(.L108-.L110)/2
 1985 001b 2C       		.byte	(.L108-.L110)/2
 1986 001c 2C       		.byte	(.L108-.L110)/2
 1987 001d 2C       		.byte	(.L108-.L110)/2
 1988 001e 28       		.byte	(.L113-.L110)/2
 1989 001f 2C       		.byte	(.L108-.L110)/2
 1990 0020 2C       		.byte	(.L108-.L110)/2
 1991 0021 2C       		.byte	(.L108-.L110)/2
 1992 0022 28       		.byte	(.L113-.L110)/2
 1993 0023 2C       		.byte	(.L108-.L110)/2
 1994 0024 2C       		.byte	(.L108-.L110)/2
 1995 0025 2C       		.byte	(.L108-.L110)/2
 1996 0026 2C       		.byte	(.L108-.L110)/2
 1997 0027 2C       		.byte	(.L108-.L110)/2
 1998 0028 28       		.byte	(.L113-.L110)/2
ARM GAS  /tmp/ccoG2CDz.s 			page 75


 1999 0029 2C       		.byte	(.L108-.L110)/2
 2000 002a 2C       		.byte	(.L108-.L110)/2
 2001 002b 2C       		.byte	(.L108-.L110)/2
 2002 002c 2C       		.byte	(.L108-.L110)/2
 2003 002d 2C       		.byte	(.L108-.L110)/2
 2004 002e 2C       		.byte	(.L108-.L110)/2
 2005 002f 2C       		.byte	(.L108-.L110)/2
 2006 0030 2C       		.byte	(.L108-.L110)/2
 2007 0031 2C       		.byte	(.L108-.L110)/2
 2008 0032 2C       		.byte	(.L108-.L110)/2
 2009 0033 2C       		.byte	(.L108-.L110)/2
 2010 0034 2C       		.byte	(.L108-.L110)/2
 2011 0035 2C       		.byte	(.L108-.L110)/2
 2012 0036 2C       		.byte	(.L108-.L110)/2
 2013 0037 2C       		.byte	(.L108-.L110)/2
 2014 0038 2C       		.byte	(.L108-.L110)/2
 2015 0039 2C       		.byte	(.L108-.L110)/2
 2016 003a 1C       		.byte	(.L109-.L110)/2
 2017 003b 20       		.byte	(.L112-.L110)/2
 2018 003c 24       		.byte	(.L111-.L110)/2
 2019 003d 1C       		.byte	(.L109-.L110)/2
 2020 003e 1C       		.byte	(.L109-.L110)/2
 2021 003f 1C       		.byte	(.L109-.L110)/2
 2022 0040 1C       		.byte	(.L109-.L110)/2
 2023 0041 1C       		.byte	(.L109-.L110)/2
 2024 0042 1C       		.byte	(.L109-.L110)/2
 2025 0043 1C       		.byte	(.L109-.L110)/2
 2026 0044 1C       		.byte	(.L109-.L110)/2
 2027 0045 00       		.p2align 1
 2028              	.L109:
1651:Lib/soes/src/esc_coe.c ****       break;
 2029              		.loc 1 1651 7 is_stmt 1 view .LVU632
1651:Lib/soes/src/esc_coe.c ****       break;
 2030              		.loc 1 1651 30 is_stmt 0 view .LVU633
 2031 0046 0369     		ldr	r3, [r0, #16]
1651:Lib/soes/src/esc_coe.c ****       break;
 2032              		.loc 1 1651 13 view .LVU634
 2033 0048 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 2034              	.LVL177:
1651:Lib/soes/src/esc_coe.c ****       break;
 2035              		.loc 1 1651 13 view .LVU635
 2036 004a 0021     		movs	r1, #0
 2037              	.LVL178:
1652:Lib/soes/src/esc_coe.c **** 
 2038              		.loc 1 1652 7 is_stmt 1 view .LVU636
 2039              	.L107:
1679:Lib/soes/src/esc_coe.c **** 
 2040              		.loc 1 1679 1 is_stmt 0 view .LVU637
 2041 004c 08BD     		pop	{r3, pc}
 2042              	.LVL179:
 2043              	.L112:
1657:Lib/soes/src/esc_coe.c ****       break;
 2044              		.loc 1 1657 7 is_stmt 1 view .LVU638
1657:Lib/soes/src/esc_coe.c ****       break;
 2045              		.loc 1 1657 31 is_stmt 0 view .LVU639
 2046 004e 0369     		ldr	r3, [r0, #16]
1657:Lib/soes/src/esc_coe.c ****       break;
ARM GAS  /tmp/ccoG2CDz.s 			page 76


 2047              		.loc 1 1657 13 view .LVU640
 2048 0050 1888     		ldrh	r0, [r3]
 2049              	.LVL180:
1657:Lib/soes/src/esc_coe.c ****       break;
 2050              		.loc 1 1657 13 view .LVU641
 2051 0052 0021     		movs	r1, #0
 2052              	.LVL181:
1658:Lib/soes/src/esc_coe.c **** 
 2053              		.loc 1 1658 7 is_stmt 1 view .LVU642
 2054 0054 FAE7     		b	.L107
 2055              	.LVL182:
 2056              	.L111:
1664:Lib/soes/src/esc_coe.c ****       break;
 2057              		.loc 1 1664 7 view .LVU643
1664:Lib/soes/src/esc_coe.c ****       break;
 2058              		.loc 1 1664 31 is_stmt 0 view .LVU644
 2059 0056 0369     		ldr	r3, [r0, #16]
1664:Lib/soes/src/esc_coe.c ****       break;
 2060              		.loc 1 1664 13 view .LVU645
 2061 0058 1868     		ldr	r0, [r3]
 2062              	.LVL183:
1664:Lib/soes/src/esc_coe.c ****       break;
 2063              		.loc 1 1664 13 view .LVU646
 2064 005a 0021     		movs	r1, #0
 2065              	.LVL184:
1665:Lib/soes/src/esc_coe.c **** 
 2066              		.loc 1 1665 7 is_stmt 1 view .LVU647
 2067 005c F6E7     		b	.L107
 2068              	.LVL185:
 2069              	.L113:
1671:Lib/soes/src/esc_coe.c ****       break;
 2070              		.loc 1 1671 7 view .LVU648
1671:Lib/soes/src/esc_coe.c ****       break;
 2071              		.loc 1 1671 31 is_stmt 0 view .LVU649
 2072 005e 0369     		ldr	r3, [r0, #16]
1671:Lib/soes/src/esc_coe.c ****       break;
 2073              		.loc 1 1671 13 view .LVU650
 2074 0060 1868     		ldr	r0, [r3]
 2075              	.LVL186:
1671:Lib/soes/src/esc_coe.c ****       break;
 2076              		.loc 1 1671 13 view .LVU651
 2077 0062 5968     		ldr	r1, [r3, #4]
 2078              	.LVL187:
1672:Lib/soes/src/esc_coe.c **** 
 2079              		.loc 1 1672 7 is_stmt 1 view .LVU652
 2080 0064 F2E7     		b	.L107
 2081              	.LVL188:
 2082              	.L108:
1675:Lib/soes/src/esc_coe.c ****    }
 2083              		.loc 1 1675 7 view .LVU653
 2084 0066 034B     		ldr	r3, .L116
 2085 0068 034A     		ldr	r2, .L116+4
 2086 006a 40F28B61 		movw	r1, #1675
 2087 006e 0348     		ldr	r0, .L116+8
 2088              	.LVL189:
1675:Lib/soes/src/esc_coe.c ****    }
 2089              		.loc 1 1675 7 is_stmt 0 view .LVU654
ARM GAS  /tmp/ccoG2CDz.s 			page 77


 2090 0070 FFF7FEFF 		bl	__assert_func
 2091              	.LVL190:
 2092              	.L117:
 2093              		.align	2
 2094              	.L116:
 2095 0074 00000000 		.word	.LC0
 2096 0078 00000000 		.word	.LANCHOR0
 2097 007c 04000000 		.word	.LC1
 2098              		.cfi_endproc
 2099              	.LFE23:
 2101              		.section	.text.SDO_findsubindex,"ax",%progbits
 2102              		.align	1
 2103              		.global	SDO_findsubindex
 2104              		.syntax unified
 2105              		.thumb
 2106              		.thumb_func
 2107              		.fpu fpv4-sp-d16
 2109              	SDO_findsubindex:
 2110              	.LVL191:
 2111              	.LFB0:
  52:Lib/soes/src/esc_coe.c ****    const _objd *objd;
 2112              		.loc 1 52 1 is_stmt 1 view -0
 2113              		.cfi_startproc
 2114              		@ args = 0, pretend = 0, frame = 0
 2115              		@ frame_needed = 0, uses_anonymous_args = 0
 2116              		@ link register save eliminated.
  52:Lib/soes/src/esc_coe.c ****    const _objd *objd;
 2117              		.loc 1 52 1 is_stmt 0 view .LVU656
 2118 0000 10B4     		push	{r4}
 2119              		.cfi_def_cfa_offset 4
 2120              		.cfi_offset 4, -4
  53:Lib/soes/src/esc_coe.c ****    int16_t n = 0;
 2121              		.loc 1 53 4 is_stmt 1 view .LVU657
  54:Lib/soes/src/esc_coe.c ****    uint8_t maxsub;
 2122              		.loc 1 54 4 view .LVU658
 2123              	.LVL192:
  55:Lib/soes/src/esc_coe.c ****    objd = SDOobjects[nidx].objdesc;
 2124              		.loc 1 55 4 view .LVU659
  56:Lib/soes/src/esc_coe.c ****    maxsub = SDOobjects[nidx].maxsub;
 2125              		.loc 1 56 4 view .LVU660
  56:Lib/soes/src/esc_coe.c ****    maxsub = SDOobjects[nidx].maxsub;
 2126              		.loc 1 56 9 is_stmt 0 view .LVU661
 2127 0002 144B     		ldr	r3, .L129
 2128 0004 03EB0010 		add	r0, r3, r0, lsl #4
 2129              	.LVL193:
  56:Lib/soes/src/esc_coe.c ****    maxsub = SDOobjects[nidx].maxsub;
 2130              		.loc 1 56 9 view .LVU662
 2131 0008 C468     		ldr	r4, [r0, #12]
 2132              	.LVL194:
  57:Lib/soes/src/esc_coe.c **** 
 2133              		.loc 1 57 4 is_stmt 1 view .LVU663
  57:Lib/soes/src/esc_coe.c **** 
 2134              		.loc 1 57 11 is_stmt 0 view .LVU664
 2135 000a 90F804C0 		ldrb	ip, [r0, #4]	@ zero_extendqisi2
 2136              	.LVL195:
  62:Lib/soes/src/esc_coe.c ****    {
 2137              		.loc 1 62 4 is_stmt 1 view .LVU665
ARM GAS  /tmp/ccoG2CDz.s 			page 78


  62:Lib/soes/src/esc_coe.c ****    {
 2138              		.loc 1 62 7 is_stmt 0 view .LVU666
 2139 000e 8C45     		cmp	ip, r1
 2140 0010 08D3     		bcc	.L125
  62:Lib/soes/src/esc_coe.c ****    {
 2141              		.loc 1 62 39 discriminator 1 view .LVU667
 2142 0012 01EB8103 		add	r3, r1, r1, lsl #2
  62:Lib/soes/src/esc_coe.c ****    {
 2143              		.loc 1 62 50 discriminator 1 view .LVU668
 2144 0016 34F82320 		ldrh	r2, [r4, r3, lsl #2]
  62:Lib/soes/src/esc_coe.c ****    {
 2145              		.loc 1 62 61 discriminator 1 view .LVU669
 2146 001a 8BB2     		uxth	r3, r1
  62:Lib/soes/src/esc_coe.c ****    {
 2147              		.loc 1 62 29 discriminator 1 view .LVU670
 2148 001c 9A42     		cmp	r2, r3
 2149 001e 0ED0     		beq	.L120
 2150 0020 0020     		movs	r0, #0
 2151 0022 00E0     		b	.L121
 2152              	.L125:
 2153 0024 0020     		movs	r0, #0
 2154              	.LVL196:
 2155              	.L121:
  67:Lib/soes/src/esc_coe.c ****    {
 2156              		.loc 1 67 10 is_stmt 1 view .LVU671
  67:Lib/soes/src/esc_coe.c ****    {
 2157              		.loc 1 67 18 is_stmt 0 view .LVU672
 2158 0026 00EB8003 		add	r3, r0, r0, lsl #2
  67:Lib/soes/src/esc_coe.c ****    {
 2159              		.loc 1 67 22 view .LVU673
 2160 002a 34F82320 		ldrh	r2, [r4, r3, lsl #2]
  67:Lib/soes/src/esc_coe.c ****    {
 2161              		.loc 1 67 33 view .LVU674
 2162 002e 8BB2     		uxth	r3, r1
  67:Lib/soes/src/esc_coe.c ****    {
 2163              		.loc 1 67 10 view .LVU675
 2164 0030 9A42     		cmp	r2, r3
 2165 0032 06D2     		bcs	.L123
  67:Lib/soes/src/esc_coe.c ****    {
 2166              		.loc 1 67 45 discriminator 1 view .LVU676
 2167 0034 6045     		cmp	r0, ip
 2168 0036 04DA     		bge	.L123
  69:Lib/soes/src/esc_coe.c ****    }
 2169              		.loc 1 69 7 is_stmt 1 view .LVU677
  69:Lib/soes/src/esc_coe.c ****    }
 2170              		.loc 1 69 8 is_stmt 0 view .LVU678
 2171 0038 0130     		adds	r0, r0, #1
 2172              	.LVL197:
  69:Lib/soes/src/esc_coe.c ****    }
 2173              		.loc 1 69 8 view .LVU679
 2174 003a 00B2     		sxth	r0, r0
 2175              	.LVL198:
  69:Lib/soes/src/esc_coe.c ****    }
 2176              		.loc 1 69 8 view .LVU680
 2177 003c F3E7     		b	.L121
 2178              	.LVL199:
 2179              	.L120:
ARM GAS  /tmp/ccoG2CDz.s 			page 79


  64:Lib/soes/src/esc_coe.c ****    }
 2180              		.loc 1 64 7 is_stmt 1 view .LVU681
  64:Lib/soes/src/esc_coe.c ****    }
 2181              		.loc 1 64 14 is_stmt 0 view .LVU682
 2182 003e 08B2     		sxth	r0, r1
 2183 0040 01E0     		b	.L122
 2184              	.LVL200:
 2185              	.L123:
  71:Lib/soes/src/esc_coe.c ****    {
 2186              		.loc 1 71 4 is_stmt 1 view .LVU683
  71:Lib/soes/src/esc_coe.c ****    {
 2187              		.loc 1 71 7 is_stmt 0 view .LVU684
 2188 0042 9A42     		cmp	r2, r3
 2189 0044 02D1     		bne	.L128
 2190              	.LVL201:
 2191              	.L122:
  76:Lib/soes/src/esc_coe.c **** 
 2192              		.loc 1 76 1 view .LVU685
 2193 0046 5DF8044B 		ldr	r4, [sp], #4
 2194              		.cfi_remember_state
 2195              		.cfi_restore 4
 2196              		.cfi_def_cfa_offset 0
 2197              	.LVL202:
  76:Lib/soes/src/esc_coe.c **** 
 2198              		.loc 1 76 1 view .LVU686
 2199 004a 7047     		bx	lr
 2200              	.LVL203:
 2201              	.L128:
 2202              		.cfi_restore_state
  73:Lib/soes/src/esc_coe.c ****    }
 2203              		.loc 1 73 14 view .LVU687
 2204 004c 4FF0FF30 		mov	r0, #-1
 2205              	.LVL204:
  73:Lib/soes/src/esc_coe.c ****    }
 2206              		.loc 1 73 14 view .LVU688
 2207 0050 F9E7     		b	.L122
 2208              	.L130:
 2209 0052 00BF     		.align	2
 2210              	.L129:
 2211 0054 00000000 		.word	SDOobjects
 2212              		.cfi_endproc
 2213              	.LFE0:
 2215              		.section	.text.SDO_findobject,"ax",%progbits
 2216              		.align	1
 2217              		.global	SDO_findobject
 2218              		.syntax unified
 2219              		.thumb
 2220              		.thumb_func
 2221              		.fpu fpv4-sp-d16
 2223              	SDO_findobject:
 2224              	.LVL205:
 2225              	.LFB1:
  84:Lib/soes/src/esc_coe.c ****    int32_t n = 0;
 2226              		.loc 1 84 1 is_stmt 1 view -0
 2227              		.cfi_startproc
 2228              		@ args = 0, pretend = 0, frame = 0
 2229              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccoG2CDz.s 			page 80


 2230              		@ link register save eliminated.
  84:Lib/soes/src/esc_coe.c ****    int32_t n = 0;
 2231              		.loc 1 84 1 is_stmt 0 view .LVU690
 2232 0000 0146     		mov	r1, r0
  85:Lib/soes/src/esc_coe.c ****    while (SDOobjects[n].index < index)
 2233              		.loc 1 85 4 is_stmt 1 view .LVU691
 2234              	.LVL206:
  86:Lib/soes/src/esc_coe.c ****    {
 2235              		.loc 1 86 4 view .LVU692
  85:Lib/soes/src/esc_coe.c ****    while (SDOobjects[n].index < index)
 2236              		.loc 1 85 12 is_stmt 0 view .LVU693
 2237 0002 0020     		movs	r0, #0
 2238              	.LVL207:
  86:Lib/soes/src/esc_coe.c ****    {
 2239              		.loc 1 86 10 view .LVU694
 2240 0004 00E0     		b	.L132
 2241              	.LVL208:
 2242              	.L133:
  88:Lib/soes/src/esc_coe.c ****    }
 2243              		.loc 1 88 7 is_stmt 1 view .LVU695
  88:Lib/soes/src/esc_coe.c ****    }
 2244              		.loc 1 88 8 is_stmt 0 view .LVU696
 2245 0006 0130     		adds	r0, r0, #1
 2246              	.LVL209:
 2247              	.L132:
  86:Lib/soes/src/esc_coe.c ****    {
 2248              		.loc 1 86 10 is_stmt 1 view .LVU697
  86:Lib/soes/src/esc_coe.c ****    {
 2249              		.loc 1 86 24 is_stmt 0 view .LVU698
 2250 0008 0301     		lsls	r3, r0, #4
 2251 000a 044A     		ldr	r2, .L137
 2252 000c D35A     		ldrh	r3, [r2, r3]
  86:Lib/soes/src/esc_coe.c ****    {
 2253              		.loc 1 86 10 view .LVU699
 2254 000e 8B42     		cmp	r3, r1
 2255 0010 F9D3     		bcc	.L133
  90:Lib/soes/src/esc_coe.c ****    {
 2256              		.loc 1 90 4 is_stmt 1 view .LVU700
  90:Lib/soes/src/esc_coe.c ****    {
 2257              		.loc 1 90 7 is_stmt 0 view .LVU701
 2258 0012 00D1     		bne	.L136
 2259              	.LVL210:
 2260              	.L131:
  95:Lib/soes/src/esc_coe.c **** 
 2261              		.loc 1 95 1 view .LVU702
 2262 0014 7047     		bx	lr
 2263              	.LVL211:
 2264              	.L136:
  92:Lib/soes/src/esc_coe.c ****    }
 2265              		.loc 1 92 14 view .LVU703
 2266 0016 4FF0FF30 		mov	r0, #-1
 2267              	.LVL212:
  92:Lib/soes/src/esc_coe.c ****    }
 2268              		.loc 1 92 14 view .LVU704
 2269 001a FBE7     		b	.L131
 2270              	.L138:
 2271              		.align	2
ARM GAS  /tmp/ccoG2CDz.s 			page 81


 2272              	.L137:
 2273 001c 00000000 		.word	SDOobjects
 2274              		.cfi_endproc
 2275              	.LFE1:
 2277              		.section	.text.complete_access_get_variables,"ax",%progbits
 2278              		.align	1
 2279              		.syntax unified
 2280              		.thumb
 2281              		.thumb_func
 2282              		.fpu fpv4-sp-d16
 2284              	complete_access_get_variables:
 2285              	.LVL213:
 2286              	.LFB7:
 450:Lib/soes/src/esc_coe.c ****    *index = etohs (coesdo->index);
 2287              		.loc 1 450 1 is_stmt 1 view -0
 2288              		.cfi_startproc
 2289              		@ args = 4, pretend = 0, frame = 0
 2290              		@ frame_needed = 0, uses_anonymous_args = 0
 450:Lib/soes/src/esc_coe.c ****    *index = etohs (coesdo->index);
 2291              		.loc 1 450 1 is_stmt 0 view .LVU706
 2292 0000 38B5     		push	{r3, r4, r5, lr}
 2293              		.cfi_def_cfa_offset 16
 2294              		.cfi_offset 3, -16
 2295              		.cfi_offset 4, -12
 2296              		.cfi_offset 5, -8
 2297              		.cfi_offset 14, -4
 2298 0002 1D46     		mov	r5, r3
 451:Lib/soes/src/esc_coe.c ****    *subindex = coesdo->subindex;
 2299              		.loc 1 451 4 is_stmt 1 view .LVU707
 451:Lib/soes/src/esc_coe.c ****    *subindex = coesdo->subindex;
 2300              		.loc 1 451 13 is_stmt 0 view .LVU708
 2301 0004 B0F80930 		ldrh	r3, [r0, #9]	@ unaligned
 2302              	.LVL214:
 451:Lib/soes/src/esc_coe.c ****    *subindex = coesdo->subindex;
 2303              		.loc 1 451 11 view .LVU709
 2304 0008 0B80     		strh	r3, [r1]	@ movhi
 452:Lib/soes/src/esc_coe.c **** 
 2305              		.loc 1 452 4 is_stmt 1 view .LVU710
 452:Lib/soes/src/esc_coe.c **** 
 2306              		.loc 1 452 22 is_stmt 0 view .LVU711
 2307 000a C37A     		ldrb	r3, [r0, #11]	@ zero_extendqisi2
 452:Lib/soes/src/esc_coe.c **** 
 2308              		.loc 1 452 14 view .LVU712
 2309 000c 1370     		strb	r3, [r2]
 455:Lib/soes/src/esc_coe.c ****    {
 2310              		.loc 1 455 4 is_stmt 1 view .LVU713
 455:Lib/soes/src/esc_coe.c ****    {
 2311              		.loc 1 455 7 is_stmt 0 view .LVU714
 2312 000e 012B     		cmp	r3, #1
 2313 0010 0FD8     		bhi	.L141
 2314 0012 1446     		mov	r4, r2
 460:Lib/soes/src/esc_coe.c ****    if (*nidx < 0)
 2315              		.loc 1 460 4 is_stmt 1 view .LVU715
 460:Lib/soes/src/esc_coe.c ****    if (*nidx < 0)
 2316              		.loc 1 460 12 is_stmt 0 view .LVU716
 2317 0014 0888     		ldrh	r0, [r1]
 2318              	.LVL215:
ARM GAS  /tmp/ccoG2CDz.s 			page 82


 460:Lib/soes/src/esc_coe.c ****    if (*nidx < 0)
 2319              		.loc 1 460 12 view .LVU717
 2320 0016 FFF7FEFF 		bl	SDO_findobject
 2321              	.LVL216:
 460:Lib/soes/src/esc_coe.c ****    if (*nidx < 0)
 2322              		.loc 1 460 10 view .LVU718
 2323 001a 2860     		str	r0, [r5]
 461:Lib/soes/src/esc_coe.c ****    {
 2324              		.loc 1 461 4 is_stmt 1 view .LVU719
 461:Lib/soes/src/esc_coe.c ****    {
 2325              		.loc 1 461 7 is_stmt 0 view .LVU720
 2326 001c 0028     		cmp	r0, #0
 2327 001e 0ADB     		blt	.L142
 466:Lib/soes/src/esc_coe.c ****    if (*nsub < 0)
 2328              		.loc 1 466 4 is_stmt 1 view .LVU721
 466:Lib/soes/src/esc_coe.c ****    if (*nsub < 0)
 2329              		.loc 1 466 12 is_stmt 0 view .LVU722
 2330 0020 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 2331 0022 FFF7FEFF 		bl	SDO_findsubindex
 2332              	.LVL217:
 466:Lib/soes/src/esc_coe.c ****    if (*nsub < 0)
 2333              		.loc 1 466 10 view .LVU723
 2334 0026 049B     		ldr	r3, [sp, #16]
 2335 0028 1880     		strh	r0, [r3]	@ movhi
 467:Lib/soes/src/esc_coe.c ****    {
 2336              		.loc 1 467 4 is_stmt 1 view .LVU724
 467:Lib/soes/src/esc_coe.c ****    {
 2337              		.loc 1 467 7 is_stmt 0 view .LVU725
 2338 002a 0028     		cmp	r0, #0
 2339 002c 05DB     		blt	.L143
 472:Lib/soes/src/esc_coe.c **** }
 2340              		.loc 1 472 11 view .LVU726
 2341 002e 0020     		movs	r0, #0
 2342              	.LVL218:
 2343              	.L139:
 473:Lib/soes/src/esc_coe.c **** 
 2344              		.loc 1 473 1 view .LVU727
 2345 0030 38BD     		pop	{r3, r4, r5, pc}
 2346              	.LVL219:
 2347              	.L141:
 457:Lib/soes/src/esc_coe.c ****    }
 2348              		.loc 1 457 14 view .LVU728
 2349 0032 0348     		ldr	r0, .L145
 2350              	.LVL220:
 457:Lib/soes/src/esc_coe.c ****    }
 2351              		.loc 1 457 14 view .LVU729
 2352 0034 FCE7     		b	.L139
 2353              	.LVL221:
 2354              	.L142:
 463:Lib/soes/src/esc_coe.c ****    }
 2355              		.loc 1 463 14 view .LVU730
 2356 0036 0348     		ldr	r0, .L145+4
 2357 0038 FAE7     		b	.L139
 2358              	.L143:
 469:Lib/soes/src/esc_coe.c ****    }
 2359              		.loc 1 469 14 view .LVU731
 2360 003a 0348     		ldr	r0, .L145+8
ARM GAS  /tmp/ccoG2CDz.s 			page 83


 2361 003c F8E7     		b	.L139
 2362              	.L146:
 2363 003e 00BF     		.align	2
 2364              	.L145:
 2365 0040 00000106 		.word	100728832
 2366 0044 00000206 		.word	100794368
 2367 0048 11000906 		.word	101253137
 2368              		.cfi_endproc
 2369              	.LFE7:
 2371              		.section	.text.SDO_upload_complete_access,"ax",%progbits
 2372              		.align	1
 2373              		.syntax unified
 2374              		.thumb
 2375              		.thumb_func
 2376              		.fpu fpv4-sp-d16
 2378              	SDO_upload_complete_access:
 2379              	.LFB10:
 592:Lib/soes/src/esc_coe.c ****    _COEsdo *coesdo = (_COEsdo *) &MBX[0];
 2380              		.loc 1 592 1 is_stmt 1 view -0
 2381              		.cfi_startproc
 2382              		@ args = 0, pretend = 0, frame = 16
 2383              		@ frame_needed = 0, uses_anonymous_args = 0
 2384 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2385              		.cfi_def_cfa_offset 36
 2386              		.cfi_offset 4, -36
 2387              		.cfi_offset 5, -32
 2388              		.cfi_offset 6, -28
 2389              		.cfi_offset 7, -24
 2390              		.cfi_offset 8, -20
 2391              		.cfi_offset 9, -16
 2392              		.cfi_offset 10, -12
 2393              		.cfi_offset 11, -8
 2394              		.cfi_offset 14, -4
 2395 0004 87B0     		sub	sp, sp, #28
 2396              		.cfi_def_cfa_offset 64
 593:Lib/soes/src/esc_coe.c ****    uint16_t index;
 2397              		.loc 1 593 4 view .LVU733
 2398              	.LVL222:
 594:Lib/soes/src/esc_coe.c ****    uint8_t subindex;
 2399              		.loc 1 594 4 view .LVU734
 595:Lib/soes/src/esc_coe.c ****    int32_t nidx;
 2400              		.loc 1 595 4 view .LVU735
 596:Lib/soes/src/esc_coe.c ****    int16_t nsub;
 2401              		.loc 1 596 4 view .LVU736
 597:Lib/soes/src/esc_coe.c ****    uint32_t abortcode = complete_access_get_variables
 2402              		.loc 1 597 4 view .LVU737
 598:Lib/soes/src/esc_coe.c ****                            (coesdo, &index, &subindex, &nidx, &nsub);
 2403              		.loc 1 598 4 view .LVU738
 598:Lib/soes/src/esc_coe.c ****                            (coesdo, &index, &subindex, &nidx, &nsub);
 2404              		.loc 1 598 25 is_stmt 0 view .LVU739
 2405 0006 0DF10E03 		add	r3, sp, #14
 2406 000a 0093     		str	r3, [sp]
 2407 000c 04AB     		add	r3, sp, #16
 2408 000e 0DF11502 		add	r2, sp, #21
 2409 0012 0DF11601 		add	r1, sp, #22
 2410 0016 7648     		ldr	r0, .L169
 2411 0018 FFF7FEFF 		bl	complete_access_get_variables
ARM GAS  /tmp/ccoG2CDz.s 			page 84


 2412              	.LVL223:
 600:Lib/soes/src/esc_coe.c ****    {
 2413              		.loc 1 600 4 is_stmt 1 view .LVU740
 600:Lib/soes/src/esc_coe.c ****    {
 2414              		.loc 1 600 7 is_stmt 0 view .LVU741
 2415 001c 0028     		cmp	r0, #0
 2416 001e 40F0A180 		bne	.L162
 606:Lib/soes/src/esc_coe.c ****    if (MBXout == 0)
 2417              		.loc 1 606 4 is_stmt 1 view .LVU742
 606:Lib/soes/src/esc_coe.c ****    if (MBXout == 0)
 2418              		.loc 1 606 21 is_stmt 0 view .LVU743
 2419 0022 FFF7FEFF 		bl	ESC_claimbuffer
 2420              	.LVL224:
 607:Lib/soes/src/esc_coe.c ****    {
 2421              		.loc 1 607 4 is_stmt 1 view .LVU744
 607:Lib/soes/src/esc_coe.c ****    {
 2422              		.loc 1 607 7 is_stmt 0 view .LVU745
 2423 0026 0646     		mov	r6, r0
 2424 0028 0028     		cmp	r0, #0
 2425 002a 00F0A680 		beq	.L163
 616:Lib/soes/src/esc_coe.c **** 
 2426              		.loc 1 616 4 is_stmt 1 view .LVU746
 616:Lib/soes/src/esc_coe.c **** 
 2427              		.loc 1 616 40 is_stmt 0 view .LVU747
 2428 002e 0499     		ldr	r1, [sp, #16]
 616:Lib/soes/src/esc_coe.c **** 
 2429              		.loc 1 616 17 view .LVU748
 2430 0030 704B     		ldr	r3, .L169+4
 2431 0032 03EB0113 		add	r3, r3, r1, lsl #4
 2432 0036 DD68     		ldr	r5, [r3, #12]
 2433              	.LVL225:
 619:Lib/soes/src/esc_coe.c **** 
 2434              		.loc 1 619 4 is_stmt 1 view .LVU749
 619:Lib/soes/src/esc_coe.c **** 
 2435              		.loc 1 619 20 is_stmt 0 view .LVU750
 2436 0038 0023     		movs	r3, #0
 2437 003a 0193     		str	r3, [sp, #4]
 2438 003c 0093     		str	r3, [sp]
 2439 003e BDF90E20 		ldrsh	r2, [sp, #14]
 2440 0042 2846     		mov	r0, r5
 2441              	.LVL226:
 619:Lib/soes/src/esc_coe.c **** 
 2442              		.loc 1 619 20 view .LVU751
 2443 0044 FFF7FEFF 		bl	complete_access_subindex_loop
 2444              	.LVL227:
 619:Lib/soes/src/esc_coe.c **** 
 2445              		.loc 1 619 13 view .LVU752
 2446 0048 0290     		str	r0, [sp, #8]
 622:Lib/soes/src/esc_coe.c **** 
 2447              		.loc 1 622 4 is_stmt 1 view .LVU753
 622:Lib/soes/src/esc_coe.c **** 
 2448              		.loc 1 622 12 is_stmt 0 view .LVU754
 2449 004a 1828     		cmp	r0, #24
 2450 004c 00F29E80 		bhi	.L160
 622:Lib/soes/src/esc_coe.c **** 
 2451              		.loc 1 622 64 discriminator 1 view .LVU755
 2452 0050 441E     		subs	r4, r0, #1
ARM GAS  /tmp/ccoG2CDz.s 			page 85


 622:Lib/soes/src/esc_coe.c **** 
 2453              		.loc 1 622 70 discriminator 1 view .LVU756
 2454 0052 E408     		lsrs	r4, r4, #3
 622:Lib/soes/src/esc_coe.c **** 
 2455              		.loc 1 622 55 discriminator 1 view .LVU757
 2456 0054 C4F10304 		rsb	r4, r4, #3
 622:Lib/soes/src/esc_coe.c **** 
 2457              		.loc 1 622 36 discriminator 1 view .LVU758
 2458 0058 E4B2     		uxtb	r4, r4
 622:Lib/soes/src/esc_coe.c **** 
 2459              		.loc 1 622 12 discriminator 1 view .LVU759
 2460 005a A400     		lsls	r4, r4, #2
 2461 005c E4B2     		uxtb	r4, r4
 2462              	.L151:
 2463              	.LVL228:
 625:Lib/soes/src/esc_coe.c **** 
 2464              		.loc 1 625 4 is_stmt 1 discriminator 4 view .LVU760
 625:Lib/soes/src/esc_coe.c **** 
 2465              		.loc 1 625 11 is_stmt 0 discriminator 4 view .LVU761
 2466 005e 0730     		adds	r0, r0, #7
 2467 0060 C308     		lsrs	r3, r0, #3
 625:Lib/soes/src/esc_coe.c **** 
 2468              		.loc 1 625 9 discriminator 4 view .LVU762
 2469 0062 0293     		str	r3, [sp, #8]
 627:Lib/soes/src/esc_coe.c ****    {
 2470              		.loc 1 627 4 is_stmt 1 discriminator 4 view .LVU763
 627:Lib/soes/src/esc_coe.c ****    {
 2471              		.loc 1 627 7 is_stmt 0 discriminator 4 view .LVU764
 2472 0064 B3F5803F 		cmp	r3, #65536
 2473 0068 80F09280 		bcs	.L164
 635:Lib/soes/src/esc_coe.c ****    {
 2474              		.loc 1 635 4 is_stmt 1 view .LVU765
 635:Lib/soes/src/esc_coe.c ****    {
 2475              		.loc 1 635 14 is_stmt 0 view .LVU766
 2476 006c 1E33     		adds	r3, r3, #30
 635:Lib/soes/src/esc_coe.c ****    {
 2477              		.loc 1 635 7 view .LVU767
 2478 006e B3F5C06F 		cmp	r3, #1536
 2479 0072 00F29580 		bhi	.L165
 640:Lib/soes/src/esc_coe.c ****          objd->data, (size_t *)&size, objd->flags | COMPLETE_ACCESS_FLAG);
 2480              		.loc 1 640 4 is_stmt 1 view .LVU768
 641:Lib/soes/src/esc_coe.c ****    if (abortcode != 0)
 2481              		.loc 1 641 43 is_stmt 0 view .LVU769
 2482 0076 EB88     		ldrh	r3, [r5, #6]
 640:Lib/soes/src/esc_coe.c ****          objd->data, (size_t *)&size, objd->flags | COMPLETE_ACCESS_FLAG);
 2483              		.loc 1 640 16 view .LVU770
 2484 0078 2A69     		ldr	r2, [r5, #16]
 2485 007a 43F40043 		orr	r3, r3, #32768
 2486 007e 0093     		str	r3, [sp]
 2487 0080 02AB     		add	r3, sp, #8
 2488 0082 9DF81510 		ldrb	r1, [sp, #21]	@ zero_extendqisi2
 2489 0086 BDF81600 		ldrh	r0, [sp, #22]
 2490 008a FFF7FEFF 		bl	ESC_upload_pre_objecthandler
 2491              	.LVL229:
 642:Lib/soes/src/esc_coe.c ****    {
 2492              		.loc 1 642 4 is_stmt 1 view .LVU771
 642:Lib/soes/src/esc_coe.c ****    {
ARM GAS  /tmp/ccoG2CDz.s 			page 86


 2493              		.loc 1 642 7 is_stmt 0 view .LVU772
 2494 008e 0346     		mov	r3, r0
 2495 0090 0028     		cmp	r0, #0
 2496 0092 40F08E80 		bne	.L166
 649:Lib/soes/src/esc_coe.c **** 
 2497              		.loc 1 649 4 is_stmt 1 view .LVU773
 2498 0096 584F     		ldr	r7, .L169+8
 2499 0098 4FF0000A 		mov	r10, #0
 2500 009c CDF804A0 		str	r10, [sp, #4]
 2501 00a0 CDF800A0 		str	r10, [sp]
 2502 00a4 3B46     		mov	r3, r7
 2503 00a6 BDF90E20 		ldrsh	r2, [sp, #14]
 2504 00aa 0499     		ldr	r1, [sp, #16]
 2505 00ac 2846     		mov	r0, r5
 2506              	.LVL230:
 649:Lib/soes/src/esc_coe.c **** 
 2507              		.loc 1 649 4 is_stmt 0 view .LVU774
 2508 00ae FFF7FEFF 		bl	complete_access_subindex_loop
 2509              	.LVL231:
 651:Lib/soes/src/esc_coe.c ****    init_coesdo(coeres, COE_SDORESPONSE,
 2510              		.loc 1 651 4 is_stmt 1 view .LVU775
 651:Lib/soes/src/esc_coe.c ****    init_coesdo(coeres, COE_SDORESPONSE,
 2511              		.loc 1 651 48 is_stmt 0 view .LVU776
 2512 00b2 57F87E3C 		ldr	r3, [r7, #-126]
 651:Lib/soes/src/esc_coe.c ****    init_coesdo(coeres, COE_SDORESPONSE,
 2513              		.loc 1 651 46 view .LVU777
 2514 00b6 03FB06F8 		mul	r8, r3, r6
 651:Lib/soes/src/esc_coe.c ****    init_coesdo(coeres, COE_SDORESPONSE,
 2515              		.loc 1 651 13 view .LVU778
 2516 00ba DFF834B1 		ldr	fp, .L169
 2517 00be 08EB0B09 		add	r9, r8, fp
 2518              	.LVL232:
 652:Lib/soes/src/esc_coe.c ****          COE_COMMAND_UPLOADRESPONSE | COE_COMPLETEACCESS | COE_SIZE_INDICATOR,
 2519              		.loc 1 652 4 is_stmt 1 view .LVU779
 2520 00c2 9DF81530 		ldrb	r3, [sp, #21]	@ zero_extendqisi2
 2521 00c6 0093     		str	r3, [sp]
 2522 00c8 BDF81630 		ldrh	r3, [sp, #22]
 2523 00cc 5122     		movs	r2, #81
 2524 00ce 0321     		movs	r1, #3
 2525 00d0 4846     		mov	r0, r9
 2526 00d2 FFF7FEFF 		bl	init_coesdo
 2527              	.LVL233:
 656:Lib/soes/src/esc_coe.c **** 
 2528              		.loc 1 656 4 view .LVU780
 656:Lib/soes/src/esc_coe.c **** 
 2529              		.loc 1 656 21 is_stmt 0 view .LVU781
 2530 00d6 07F859AC 		strb	r10, [r7, #-89]
 651:Lib/soes/src/esc_coe.c ****    init_coesdo(coeres, COE_SDORESPONSE,
 2531              		.loc 1 651 48 view .LVU782
 2532 00da EA3F     		subs	r7, r7, #234
 658:Lib/soes/src/esc_coe.c ****    {
 2533              		.loc 1 658 4 is_stmt 1 view .LVU783
 658:Lib/soes/src/esc_coe.c ****    {
 2534              		.loc 1 658 13 is_stmt 0 view .LVU784
 2535 00dc 029A     		ldr	r2, [sp, #8]
 658:Lib/soes/src/esc_coe.c ****    {
 2536              		.loc 1 658 7 view .LVU785
ARM GAS  /tmp/ccoG2CDz.s 			page 87


 2537 00de 042A     		cmp	r2, #4
 2538 00e0 6FD9     		bls	.L167
 667:Lib/soes/src/esc_coe.c **** 
 2539              		.loc 1 667 7 is_stmt 1 view .LVU786
 667:Lib/soes/src/esc_coe.c **** 
 2540              		.loc 1 667 20 is_stmt 0 view .LVU787
 2541 00e2 C9F80C20 		str	r2, [r9, #12]
 669:Lib/soes/src/esc_coe.c ****       {
 2542              		.loc 1 669 7 is_stmt 1 view .LVU788
 669:Lib/soes/src/esc_coe.c ****       {
 2543              		.loc 1 669 17 is_stmt 0 view .LVU789
 2544 00e6 02F10A03 		add	r3, r2, #10
 669:Lib/soes/src/esc_coe.c ****       {
 2545              		.loc 1 669 37 view .LVU790
 2546 00ea 4449     		ldr	r1, .L169+12
 2547 00ec C96E     		ldr	r1, [r1, #108]
 2548 00ee 881F     		subs	r0, r1, #6
 669:Lib/soes/src/esc_coe.c ****       {
 2549              		.loc 1 669 10 view .LVU791
 2550 00f0 8342     		cmp	r3, r0
 2551 00f2 11D9     		bls	.L157
 673:Lib/soes/src/esc_coe.c ****          /* limit to mailbox size */
 2552              		.loc 1 673 10 is_stmt 1 view .LVU792
 673:Lib/soes/src/esc_coe.c ****          /* limit to mailbox size */
 2553              		.loc 1 673 23 is_stmt 0 view .LVU793
 2554 00f4 414B     		ldr	r3, .L169+12
 2555 00f6 C3F89C20 		str	r2, [r3, #156]
 675:Lib/soes/src/esc_coe.c ****          /* number of bytes done */
 2556              		.loc 1 675 10 is_stmt 1 view .LVU794
 675:Lib/soes/src/esc_coe.c ****          /* number of bytes done */
 2557              		.loc 1 675 30 is_stmt 0 view .LVU795
 2558 00fa 1039     		subs	r1, r1, #16
 675:Lib/soes/src/esc_coe.c ****          /* number of bytes done */
 2559              		.loc 1 675 15 view .LVU796
 2560 00fc 0291     		str	r1, [sp, #8]
 677:Lib/soes/src/esc_coe.c ****          /* signal segmented transfer */
 2561              		.loc 1 677 10 is_stmt 1 view .LVU797
 677:Lib/soes/src/esc_coe.c ****          /* signal segmented transfer */
 2562              		.loc 1 677 27 is_stmt 0 view .LVU798
 2563 00fe C3F8A010 		str	r1, [r3, #160]
 679:Lib/soes/src/esc_coe.c ****          ESCvar.data = ESCvar.mbxdata;
 2564              		.loc 1 679 10 is_stmt 1 view .LVU799
 679:Lib/soes/src/esc_coe.c ****          ESCvar.data = ESCvar.mbxdata;
 2565              		.loc 1 679 27 is_stmt 0 view .LVU800
 2566 0102 4022     		movs	r2, #64
 2567 0104 83F89120 		strb	r2, [r3, #145]
 680:Lib/soes/src/esc_coe.c ****          ESCvar.flags = COMPLETE_ACCESS_FLAG;
 2568              		.loc 1 680 10 is_stmt 1 view .LVU801
 680:Lib/soes/src/esc_coe.c ****          ESCvar.flags = COMPLETE_ACCESS_FLAG;
 2569              		.loc 1 680 22 is_stmt 0 view .LVU802
 2570 0108 03F1EA02 		add	r2, r3, #234
 2571 010c C3F89420 		str	r2, [r3, #148]
 681:Lib/soes/src/esc_coe.c ****       }
 2572              		.loc 1 681 10 is_stmt 1 view .LVU803
 681:Lib/soes/src/esc_coe.c ****       }
 2573              		.loc 1 681 23 is_stmt 0 view .LVU804
 2574 0110 4FF40042 		mov	r2, #32768
ARM GAS  /tmp/ccoG2CDz.s 			page 88


 2575 0114 A3F8A820 		strh	r2, [r3, #168]	@ movhi
 2576              	.L157:
 684:Lib/soes/src/esc_coe.c ****       memcpy((&(coeres->size)) + 1, ESCvar.mbxdata, size);
 2577              		.loc 1 684 7 is_stmt 1 view .LVU805
 684:Lib/soes/src/esc_coe.c ****       memcpy((&(coeres->size)) + 1, ESCvar.mbxdata, size);
 2578              		.loc 1 684 34 is_stmt 0 view .LVU806
 2579 0118 029A     		ldr	r2, [sp, #8]
 2580 011a 02F10A03 		add	r3, r2, #10
 684:Lib/soes/src/esc_coe.c ****       memcpy((&(coeres->size)) + 1, ESCvar.mbxdata, size);
 2581              		.loc 1 684 32 view .LVU807
 2582 011e 2BF80830 		strh	r3, [fp, r8]	@ movhi
 685:Lib/soes/src/esc_coe.c ****    }
 2583              		.loc 1 685 7 is_stmt 1 view .LVU808
 2584 0122 3549     		ldr	r1, .L169+8
 2585 0124 09F11000 		add	r0, r9, #16
 2586 0128 FFF7FEFF 		bl	memcpy
 2587              	.LVL234:
 2588              	.L156:
 688:Lib/soes/src/esc_coe.c ****    {
 2589              		.loc 1 688 4 view .LVU809
 688:Lib/soes/src/esc_coe.c ****    {
 2590              		.loc 1 688 14 is_stmt 0 view .LVU810
 2591 012c 334B     		ldr	r3, .L169+12
 2592 012e 93F89130 		ldrb	r3, [r3, #145]	@ zero_extendqisi2
 688:Lib/soes/src/esc_coe.c ****    {
 2593              		.loc 1 688 7 view .LVU811
 2594 0132 5BB9     		cbnz	r3, .L158
 690:Lib/soes/src/esc_coe.c ****             objd->flags | COMPLETE_ACCESS_FLAG);
 2595              		.loc 1 690 7 is_stmt 1 view .LVU812
 691:Lib/soes/src/esc_coe.c **** 
 2596              		.loc 1 691 17 is_stmt 0 view .LVU813
 2597 0134 EA88     		ldrh	r2, [r5, #6]
 690:Lib/soes/src/esc_coe.c ****             objd->flags | COMPLETE_ACCESS_FLAG);
 2598              		.loc 1 690 19 view .LVU814
 2599 0136 42F40042 		orr	r2, r2, #32768
 2600 013a 9DF81510 		ldrb	r1, [sp, #21]	@ zero_extendqisi2
 2601 013e BDF81600 		ldrh	r0, [sp, #22]
 2602 0142 FFF7FEFF 		bl	ESC_upload_post_objecthandler
 2603              	.LVL235:
 693:Lib/soes/src/esc_coe.c ****       {
 2604              		.loc 1 693 7 is_stmt 1 view .LVU815
 693:Lib/soes/src/esc_coe.c ****       {
 2605              		.loc 1 693 10 is_stmt 0 view .LVU816
 2606 0146 0346     		mov	r3, r0
 2607 0148 0028     		cmp	r0, #0
 2608 014a 48D1     		bne	.L168
 2609              	.LVL236:
 2610              	.L158:
 700:Lib/soes/src/esc_coe.c **** 
 2611              		.loc 1 700 4 is_stmt 1 view .LVU817
 700:Lib/soes/src/esc_coe.c **** 
 2612              		.loc 1 700 29 is_stmt 0 view .LVU818
 2613 014c 2C4B     		ldr	r3, .L169+16
 2614 014e 0322     		movs	r2, #3
 2615 0150 9A55     		strb	r2, [r3, r6]
 702:Lib/soes/src/esc_coe.c **** }
 2616              		.loc 1 702 4 is_stmt 1 view .LVU819
ARM GAS  /tmp/ccoG2CDz.s 			page 89


 2617 0152 0023     		movs	r3, #0
 2618 0154 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2619 0158 BDF81610 		ldrh	r1, [sp, #22]
 2620 015c 3046     		mov	r0, r6
 2621 015e FFF7FEFF 		bl	set_state_idle
 2622              	.LVL237:
 2623 0162 07E0     		b	.L147
 2624              	.LVL238:
 2625              	.L162:
 702:Lib/soes/src/esc_coe.c **** }
 2626              		.loc 1 702 4 is_stmt 0 view .LVU820
 2627 0164 0346     		mov	r3, r0
 602:Lib/soes/src/esc_coe.c ****       return;
 2628              		.loc 1 602 7 is_stmt 1 view .LVU821
 2629 0166 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2630 016a BDF81610 		ldrh	r1, [sp, #22]
 2631 016e 0020     		movs	r0, #0
 2632              	.LVL239:
 602:Lib/soes/src/esc_coe.c ****       return;
 2633              		.loc 1 602 7 is_stmt 0 view .LVU822
 2634 0170 FFF7FEFF 		bl	set_state_idle
 2635              	.LVL240:
 603:Lib/soes/src/esc_coe.c ****    }
 2636              		.loc 1 603 7 is_stmt 1 view .LVU823
 2637              	.L147:
 703:Lib/soes/src/esc_coe.c **** 
 2638              		.loc 1 703 1 is_stmt 0 view .LVU824
 2639 0174 07B0     		add	sp, sp, #28
 2640              		.cfi_remember_state
 2641              		.cfi_def_cfa_offset 36
 2642              		@ sp needed
 2643 0176 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2644              	.LVL241:
 2645              	.L163:
 2646              		.cfi_restore_state
 612:Lib/soes/src/esc_coe.c ****       return;
 2647              		.loc 1 612 7 is_stmt 1 view .LVU825
 2648 017a 0023     		movs	r3, #0
 2649 017c 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2650 0180 BDF81610 		ldrh	r1, [sp, #22]
 2651 0184 1846     		mov	r0, r3
 2652              	.LVL242:
 612:Lib/soes/src/esc_coe.c ****       return;
 2653              		.loc 1 612 7 is_stmt 0 view .LVU826
 2654 0186 FFF7FEFF 		bl	set_state_idle
 2655              	.LVL243:
 613:Lib/soes/src/esc_coe.c ****    }
 2656              		.loc 1 613 7 is_stmt 1 view .LVU827
 2657 018a F3E7     		b	.L147
 2658              	.LVL244:
 2659              	.L160:
 622:Lib/soes/src/esc_coe.c **** 
 2660              		.loc 1 622 12 is_stmt 0 view .LVU828
 2661 018c 0024     		movs	r4, #0
 2662 018e 66E7     		b	.L151
 2663              	.LVL245:
 2664              	.L164:
ARM GAS  /tmp/ccoG2CDz.s 			page 90


 630:Lib/soes/src/esc_coe.c ****       return;
 2665              		.loc 1 630 7 is_stmt 1 view .LVU829
 2666 0190 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2667 0194 BDF81610 		ldrh	r1, [sp, #22]
 2668 0198 3046     		mov	r0, r6
 2669 019a FFF7FEFF 		bl	set_state_idle
 2670              	.LVL246:
 631:Lib/soes/src/esc_coe.c ****    }
 2671              		.loc 1 631 7 view .LVU830
 2672 019e E9E7     		b	.L147
 2673              	.L165:
 637:Lib/soes/src/esc_coe.c ****       return;
 2674              		.loc 1 637 7 view .LVU831
 2675 01a0 184B     		ldr	r3, .L169+20
 2676 01a2 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2677 01a6 BDF81610 		ldrh	r1, [sp, #22]
 2678 01aa 3046     		mov	r0, r6
 2679 01ac FFF7FEFF 		bl	set_state_idle
 2680              	.LVL247:
 638:Lib/soes/src/esc_coe.c ****    }
 2681              		.loc 1 638 7 view .LVU832
 2682 01b0 E0E7     		b	.L147
 2683              	.LVL248:
 2684              	.L166:
 644:Lib/soes/src/esc_coe.c ****       return;
 2685              		.loc 1 644 7 view .LVU833
 2686 01b2 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2687 01b6 BDF81610 		ldrh	r1, [sp, #22]
 2688 01ba 3046     		mov	r0, r6
 2689              	.LVL249:
 644:Lib/soes/src/esc_coe.c ****       return;
 2690              		.loc 1 644 7 is_stmt 0 view .LVU834
 2691 01bc FFF7FEFF 		bl	set_state_idle
 2692              	.LVL250:
 645:Lib/soes/src/esc_coe.c ****    }
 2693              		.loc 1 645 7 is_stmt 1 view .LVU835
 2694 01c0 D8E7     		b	.L147
 2695              	.LVL251:
 2696              	.L167:
 661:Lib/soes/src/esc_coe.c ****       memcpy(&(coeres->size), ESCvar.mbxdata, size);
 2697              		.loc 1 661 7 view .LVU836
 661:Lib/soes/src/esc_coe.c ****       memcpy(&(coeres->size), ESCvar.mbxdata, size);
 2698              		.loc 1 661 23 is_stmt 0 view .LVU837
 2699 01c2 99F80830 		ldrb	r3, [r9, #8]	@ zero_extendqisi2
 2700 01c6 1C43     		orrs	r4, r4, r3
 2701              	.LVL252:
 661:Lib/soes/src/esc_coe.c ****       memcpy(&(coeres->size), ESCvar.mbxdata, size);
 2702              		.loc 1 661 23 view .LVU838
 2703 01c8 44F00204 		orr	r4, r4, #2
 2704 01cc 89F80840 		strb	r4, [r9, #8]
 662:Lib/soes/src/esc_coe.c ****    }
 2705              		.loc 1 662 7 is_stmt 1 view .LVU839
 2706 01d0 07F1EA01 		add	r1, r7, #234
 2707 01d4 09F10C00 		add	r0, r9, #12
 2708 01d8 FFF7FEFF 		bl	memcpy
 2709              	.LVL253:
 2710 01dc A6E7     		b	.L156
ARM GAS  /tmp/ccoG2CDz.s 			page 91


 2711              	.LVL254:
 2712              	.L168:
 695:Lib/soes/src/esc_coe.c ****          return;
 2713              		.loc 1 695 10 view .LVU840
 2714 01de 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2715 01e2 BDF81610 		ldrh	r1, [sp, #22]
 2716 01e6 3046     		mov	r0, r6
 2717              	.LVL255:
 695:Lib/soes/src/esc_coe.c ****          return;
 2718              		.loc 1 695 10 is_stmt 0 view .LVU841
 2719 01e8 FFF7FEFF 		bl	set_state_idle
 2720              	.LVL256:
 696:Lib/soes/src/esc_coe.c ****       }
 2721              		.loc 1 696 10 is_stmt 1 view .LVU842
 2722 01ec C2E7     		b	.L147
 2723              	.L170:
 2724 01ee 00BF     		.align	2
 2725              	.L169:
 2726 01f0 00000000 		.word	MBX
 2727 01f4 00000000 		.word	SDOobjects
 2728 01f8 EA000000 		.word	ESCvar+234
 2729 01fc 00000000 		.word	ESCvar
 2730 0200 00000000 		.word	MBXcontrol
 2731 0204 04000106 		.word	100728836
 2732              		.cfi_endproc
 2733              	.LFE10:
 2735              		.section	.text.SDO_download_complete_access,"ax",%progbits
 2736              		.align	1
 2737              		.syntax unified
 2738              		.thumb
 2739              		.thumb_func
 2740              		.fpu fpv4-sp-d16
 2742              	SDO_download_complete_access:
 2743              	.LFB13:
 922:Lib/soes/src/esc_coe.c ****    _COEsdo *coesdo = (_COEsdo *) &MBX[0];
 2744              		.loc 1 922 1 view -0
 2745              		.cfi_startproc
 2746              		@ args = 0, pretend = 0, frame = 16
 2747              		@ frame_needed = 0, uses_anonymous_args = 0
 2748 0000 70B5     		push	{r4, r5, r6, lr}
 2749              		.cfi_def_cfa_offset 16
 2750              		.cfi_offset 4, -16
 2751              		.cfi_offset 5, -12
 2752              		.cfi_offset 6, -8
 2753              		.cfi_offset 14, -4
 2754 0002 86B0     		sub	sp, sp, #24
 2755              		.cfi_def_cfa_offset 40
 923:Lib/soes/src/esc_coe.c ****    uint16_t index;
 2756              		.loc 1 923 4 view .LVU844
 2757              	.LVL257:
 924:Lib/soes/src/esc_coe.c ****    uint8_t subindex;
 2758              		.loc 1 924 4 view .LVU845
 925:Lib/soes/src/esc_coe.c ****    int32_t nidx;
 2759              		.loc 1 925 4 view .LVU846
 926:Lib/soes/src/esc_coe.c ****    int16_t nsub;
 2760              		.loc 1 926 4 view .LVU847
 927:Lib/soes/src/esc_coe.c ****    uint32_t abortcode = complete_access_get_variables
ARM GAS  /tmp/ccoG2CDz.s 			page 92


 2761              		.loc 1 927 4 view .LVU848
 928:Lib/soes/src/esc_coe.c ****                            (coesdo, &index, &subindex, &nidx, &nsub);
 2762              		.loc 1 928 4 view .LVU849
 928:Lib/soes/src/esc_coe.c ****                            (coesdo, &index, &subindex, &nidx, &nsub);
 2763              		.loc 1 928 25 is_stmt 0 view .LVU850
 2764 0004 0DF10E03 		add	r3, sp, #14
 2765 0008 0093     		str	r3, [sp]
 2766 000a 04AB     		add	r3, sp, #16
 2767 000c 0DF11502 		add	r2, sp, #21
 2768 0010 0DF11601 		add	r1, sp, #22
 2769 0014 6948     		ldr	r0, .L190
 2770 0016 FFF7FEFF 		bl	complete_access_get_variables
 2771              	.LVL258:
 930:Lib/soes/src/esc_coe.c ****    {
 2772              		.loc 1 930 4 is_stmt 1 view .LVU851
 930:Lib/soes/src/esc_coe.c ****    {
 2773              		.loc 1 930 7 is_stmt 0 view .LVU852
 2774 001a 0028     		cmp	r0, #0
 2775 001c 66D1     		bne	.L185
 936:Lib/soes/src/esc_coe.c ****    uint32_t *mbxdata = &(coesdo->size);
 2776              		.loc 1 936 4 is_stmt 1 view .LVU853
 937:Lib/soes/src/esc_coe.c **** 
 2777              		.loc 1 937 4 view .LVU854
 2778              	.LVL259:
 939:Lib/soes/src/esc_coe.c ****    {
 2779              		.loc 1 939 4 view .LVU855
 939:Lib/soes/src/esc_coe.c ****    {
 2780              		.loc 1 939 14 is_stmt 0 view .LVU856
 2781 001e 674B     		ldr	r3, .L190
 2782 0020 1C7A     		ldrb	r4, [r3, #8]	@ zero_extendqisi2
 939:Lib/soes/src/esc_coe.c ****    {
 2783              		.loc 1 939 7 view .LVU857
 2784 0022 14F0020F 		tst	r4, #2
 2785 0026 6AD0     		beq	.L174
 942:Lib/soes/src/esc_coe.c ****    }
 2786              		.loc 1 942 7 is_stmt 1 view .LVU858
 942:Lib/soes/src/esc_coe.c ****    }
 2787              		.loc 1 942 47 is_stmt 0 view .LVU859
 2788 0028 C4F38104 		ubfx	r4, r4, #2, #2
 942:Lib/soes/src/esc_coe.c ****    }
 2789              		.loc 1 942 13 view .LVU860
 2790 002c C4F10404 		rsb	r4, r4, #4
 2791              	.LVL260:
 937:Lib/soes/src/esc_coe.c **** 
 2792              		.loc 1 937 14 view .LVU861
 2793 0030 03F10C05 		add	r5, r3, #12
 2794              	.LVL261:
 2795              	.L175:
 951:Lib/soes/src/esc_coe.c **** 
 2796              		.loc 1 951 4 is_stmt 1 view .LVU862
 951:Lib/soes/src/esc_coe.c **** 
 2797              		.loc 1 951 40 is_stmt 0 view .LVU863
 2798 0034 0499     		ldr	r1, [sp, #16]
 951:Lib/soes/src/esc_coe.c **** 
 2799              		.loc 1 951 17 view .LVU864
 2800 0036 624B     		ldr	r3, .L190+4
 2801 0038 03EB0113 		add	r3, r3, r1, lsl #4
ARM GAS  /tmp/ccoG2CDz.s 			page 93


 2802 003c DE68     		ldr	r6, [r3, #12]
 2803              	.LVL262:
 954:Lib/soes/src/esc_coe.c ****    size = BITS2BYTES(size);
 2804              		.loc 1 954 4 is_stmt 1 view .LVU865
 954:Lib/soes/src/esc_coe.c ****    size = BITS2BYTES(size);
 2805              		.loc 1 954 20 is_stmt 0 view .LVU866
 2806 003e 0023     		movs	r3, #0
 2807 0040 0193     		str	r3, [sp, #4]
 2808 0042 0122     		movs	r2, #1
 2809 0044 0092     		str	r2, [sp]
 2810 0046 BDF90E20 		ldrsh	r2, [sp, #14]
 2811 004a 3046     		mov	r0, r6
 2812              	.LVL263:
 954:Lib/soes/src/esc_coe.c ****    size = BITS2BYTES(size);
 2813              		.loc 1 954 20 view .LVU867
 2814 004c FFF7FEFF 		bl	complete_access_subindex_loop
 2815              	.LVL264:
 955:Lib/soes/src/esc_coe.c ****    if (size > 0xffff)
 2816              		.loc 1 955 4 is_stmt 1 view .LVU868
 955:Lib/soes/src/esc_coe.c ****    if (size > 0xffff)
 2817              		.loc 1 955 11 is_stmt 0 view .LVU869
 2818 0050 0730     		adds	r0, r0, #7
 2819              	.LVL265:
 955:Lib/soes/src/esc_coe.c ****    if (size > 0xffff)
 2820              		.loc 1 955 9 view .LVU870
 2821 0052 C308     		lsrs	r3, r0, #3
 2822              	.LVL266:
 956:Lib/soes/src/esc_coe.c ****    {
 2823              		.loc 1 956 4 is_stmt 1 view .LVU871
 956:Lib/soes/src/esc_coe.c ****    {
 2824              		.loc 1 956 7 is_stmt 0 view .LVU872
 2825 0054 B0F5002F 		cmp	r0, #524288
 2826 0058 56D2     		bcs	.L186
 968:Lib/soes/src/esc_coe.c ****    {
 2827              		.loc 1 968 9 is_stmt 1 view .LVU873
 968:Lib/soes/src/esc_coe.c ****    {
 2828              		.loc 1 968 12 is_stmt 0 view .LVU874
 2829 005a 9C42     		cmp	r4, r3
 2830 005c 00F28F80 		bhi	.L177
 970:Lib/soes/src/esc_coe.c ****             size, objd->flags | COMPLETE_ACCESS_FLAG);
 2831              		.loc 1 970 7 is_stmt 1 view .LVU875
 971:Lib/soes/src/esc_coe.c ****       if (abortcode != 0)
 2832              		.loc 1 971 23 is_stmt 0 view .LVU876
 2833 0060 F288     		ldrh	r2, [r6, #6]
 970:Lib/soes/src/esc_coe.c ****             size, objd->flags | COMPLETE_ACCESS_FLAG);
 2834              		.loc 1 970 19 view .LVU877
 2835 0062 42F40042 		orr	r2, r2, #32768
 2836 0066 0092     		str	r2, [sp]
 2837 0068 2A46     		mov	r2, r5
 2838 006a 9DF81510 		ldrb	r1, [sp, #21]	@ zero_extendqisi2
 2839 006e BDF81600 		ldrh	r0, [sp, #22]
 2840 0072 FFF7FEFF 		bl	ESC_download_pre_objecthandler
 2841              	.LVL267:
 972:Lib/soes/src/esc_coe.c ****       {
 2842              		.loc 1 972 7 is_stmt 1 view .LVU878
 972:Lib/soes/src/esc_coe.c ****       {
 2843              		.loc 1 972 10 is_stmt 0 view .LVU879
ARM GAS  /tmp/ccoG2CDz.s 			page 94


 2844 0076 0346     		mov	r3, r0
 2845 0078 0028     		cmp	r0, #0
 2846 007a 4DD1     		bne	.L187
 978:Lib/soes/src/esc_coe.c ****       {
 2847              		.loc 1 978 7 is_stmt 1 view .LVU880
 978:Lib/soes/src/esc_coe.c ****       {
 2848              		.loc 1 978 18 is_stmt 0 view .LVU881
 2849 007c 04F10A03 		add	r3, r4, #10
 978:Lib/soes/src/esc_coe.c ****       {
 2850              		.loc 1 978 38 view .LVU882
 2851 0080 504A     		ldr	r2, .L190+8
 2852 0082 D26E     		ldr	r2, [r2, #108]
 2853 0084 911F     		subs	r1, r2, #6
 978:Lib/soes/src/esc_coe.c ****       {
 2854              		.loc 1 978 10 view .LVU883
 2855 0086 8B42     		cmp	r3, r1
 2856 0088 57D9     		bls	.L179
 981:Lib/soes/src/esc_coe.c ****          {
 2857              		.loc 1 981 10 is_stmt 1 view .LVU884
 981:Lib/soes/src/esc_coe.c ****          {
 2858              		.loc 1 981 21 is_stmt 0 view .LVU885
 2859 008a 04F11E03 		add	r3, r4, #30
 981:Lib/soes/src/esc_coe.c ****          {
 2860              		.loc 1 981 13 view .LVU886
 2861 008e B3F5C06F 		cmp	r3, #1536
 2862 0092 49D8     		bhi	.L188
 987:Lib/soes/src/esc_coe.c ****          /* limit to mailbox size */
 2863              		.loc 1 987 10 is_stmt 1 view .LVU887
 987:Lib/soes/src/esc_coe.c ****          /* limit to mailbox size */
 2864              		.loc 1 987 23 is_stmt 0 view .LVU888
 2865 0094 4B4B     		ldr	r3, .L190+8
 2866 0096 C3F89C40 		str	r4, [r3, #156]
 989:Lib/soes/src/esc_coe.c ****          /* number of bytes done */
 2867              		.loc 1 989 10 is_stmt 1 view .LVU889
 989:Lib/soes/src/esc_coe.c ****          /* number of bytes done */
 2868              		.loc 1 989 15 is_stmt 0 view .LVU890
 2869 009a 103A     		subs	r2, r2, #16
 2870              	.LVL268:
 991:Lib/soes/src/esc_coe.c ****          ESCvar.segmented = MBXSED;
 2871              		.loc 1 991 10 is_stmt 1 view .LVU891
 991:Lib/soes/src/esc_coe.c ****          ESCvar.segmented = MBXSED;
 2872              		.loc 1 991 27 is_stmt 0 view .LVU892
 2873 009c C3F8A020 		str	r2, [r3, #160]
 992:Lib/soes/src/esc_coe.c ****          ESCvar.data = ESCvar.mbxdata + size;
 2874              		.loc 1 992 10 is_stmt 1 view .LVU893
 992:Lib/soes/src/esc_coe.c ****          ESCvar.data = ESCvar.mbxdata + size;
 2875              		.loc 1 992 27 is_stmt 0 view .LVU894
 2876 00a0 5021     		movs	r1, #80
 2877 00a2 83F89110 		strb	r1, [r3, #145]
 993:Lib/soes/src/esc_coe.c ****          ESCvar.index = index;
 2878              		.loc 1 993 10 is_stmt 1 view .LVU895
 993:Lib/soes/src/esc_coe.c ****          ESCvar.index = index;
 2879              		.loc 1 993 39 is_stmt 0 view .LVU896
 2880 00a6 03F1EA01 		add	r1, r3, #234
 2881 00aa 5018     		adds	r0, r2, r1
 2882              	.LVL269:
 993:Lib/soes/src/esc_coe.c ****          ESCvar.index = index;
ARM GAS  /tmp/ccoG2CDz.s 			page 95


 2883              		.loc 1 993 22 view .LVU897
 2884 00ac C3F89400 		str	r0, [r3, #148]
 994:Lib/soes/src/esc_coe.c ****          ESCvar.subindex = subindex;
 2885              		.loc 1 994 10 is_stmt 1 view .LVU898
 994:Lib/soes/src/esc_coe.c ****          ESCvar.subindex = subindex;
 2886              		.loc 1 994 23 is_stmt 0 view .LVU899
 2887 00b0 BDF81600 		ldrh	r0, [sp, #22]
 2888 00b4 A3F8A400 		strh	r0, [r3, #164]	@ movhi
 995:Lib/soes/src/esc_coe.c ****          ESCvar.flags = COMPLETE_ACCESS_FLAG;
 2889              		.loc 1 995 10 is_stmt 1 view .LVU900
 995:Lib/soes/src/esc_coe.c ****          ESCvar.flags = COMPLETE_ACCESS_FLAG;
 2890              		.loc 1 995 26 is_stmt 0 view .LVU901
 2891 00b8 9DF81500 		ldrb	r0, [sp, #21]	@ zero_extendqisi2
 2892 00bc 83F8A600 		strb	r0, [r3, #166]
 996:Lib/soes/src/esc_coe.c ****          /* Store the data */
 2893              		.loc 1 996 10 is_stmt 1 view .LVU902
 996:Lib/soes/src/esc_coe.c ****          /* Store the data */
 2894              		.loc 1 996 23 is_stmt 0 view .LVU903
 2895 00c0 4FF40040 		mov	r0, #32768
 2896 00c4 A3F8A800 		strh	r0, [r3, #168]	@ movhi
 998:Lib/soes/src/esc_coe.c ****       }
 2897              		.loc 1 998 10 is_stmt 1 view .LVU904
 2898 00c8 2846     		mov	r0, r5
 2899 00ca FFF7FEFF 		bl	copy2mbx
 2900              	.LVL270:
 2901              	.L181:
1021:Lib/soes/src/esc_coe.c ****    if (MBXout > 0)
 2902              		.loc 1 1021 4 view .LVU905
1021:Lib/soes/src/esc_coe.c ****    if (MBXout > 0)
 2903              		.loc 1 1021 21 is_stmt 0 view .LVU906
 2904 00ce FFF7FEFF 		bl	ESC_claimbuffer
 2905              	.LVL271:
1022:Lib/soes/src/esc_coe.c ****    {
 2906              		.loc 1 1022 4 is_stmt 1 view .LVU907
1022:Lib/soes/src/esc_coe.c ****    {
 2907              		.loc 1 1022 7 is_stmt 0 view .LVU908
 2908 00d2 0446     		mov	r4, r0
 2909              	.LVL272:
1022:Lib/soes/src/esc_coe.c ****    {
 2910              		.loc 1 1022 7 view .LVU909
 2911 00d4 0028     		cmp	r0, #0
 2912 00d6 5BD1     		bne	.L189
 2913              	.LVL273:
 2914              	.L182:
1033:Lib/soes/src/esc_coe.c **** }
 2915              		.loc 1 1033 4 is_stmt 1 view .LVU910
 2916 00d8 0023     		movs	r3, #0
 2917 00da 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2918 00de BDF81610 		ldrh	r1, [sp, #22]
 2919 00e2 2046     		mov	r0, r4
 2920 00e4 FFF7FEFF 		bl	set_state_idle
 2921              	.LVL274:
 2922              	.L171:
1034:Lib/soes/src/esc_coe.c **** 
 2923              		.loc 1 1034 1 is_stmt 0 view .LVU911
 2924 00e8 06B0     		add	sp, sp, #24
 2925              		.cfi_remember_state
ARM GAS  /tmp/ccoG2CDz.s 			page 96


 2926              		.cfi_def_cfa_offset 16
 2927              		@ sp needed
 2928 00ea 70BD     		pop	{r4, r5, r6, pc}
 2929              	.LVL275:
 2930              	.L185:
 2931              		.cfi_restore_state
1034:Lib/soes/src/esc_coe.c **** 
 2932              		.loc 1 1034 1 view .LVU912
 2933 00ec 0346     		mov	r3, r0
 932:Lib/soes/src/esc_coe.c ****       return;
 2934              		.loc 1 932 7 is_stmt 1 view .LVU913
 2935 00ee 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2936 00f2 BDF81610 		ldrh	r1, [sp, #22]
 2937 00f6 0020     		movs	r0, #0
 2938              	.LVL276:
 932:Lib/soes/src/esc_coe.c ****       return;
 2939              		.loc 1 932 7 is_stmt 0 view .LVU914
 2940 00f8 FFF7FEFF 		bl	set_state_idle
 2941              	.LVL277:
 933:Lib/soes/src/esc_coe.c ****    }
 2942              		.loc 1 933 7 is_stmt 1 view .LVU915
 2943 00fc F4E7     		b	.L171
 2944              	.LVL278:
 2945              	.L174:
 947:Lib/soes/src/esc_coe.c ****       mbxdata++;
 2946              		.loc 1 947 7 view .LVU916
 947:Lib/soes/src/esc_coe.c ****       mbxdata++;
 2947              		.loc 1 947 16 is_stmt 0 view .LVU917
 2948 00fe 2F4D     		ldr	r5, .L190
 2949 0100 EC68     		ldr	r4, [r5, #12]	@ unaligned
 947:Lib/soes/src/esc_coe.c ****       mbxdata++;
 2950              		.loc 1 947 13 view .LVU918
 2951 0102 A4B2     		uxth	r4, r4
 2952              	.LVL279:
 948:Lib/soes/src/esc_coe.c ****    }
 2953              		.loc 1 948 7 is_stmt 1 view .LVU919
 948:Lib/soes/src/esc_coe.c ****    }
 2954              		.loc 1 948 14 is_stmt 0 view .LVU920
 2955 0104 1035     		adds	r5, r5, #16
 2956 0106 95E7     		b	.L175
 2957              	.LVL280:
 2958              	.L186:
 959:Lib/soes/src/esc_coe.c ****       return;
 2959              		.loc 1 959 7 is_stmt 1 view .LVU921
 2960 0108 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2961 010c BDF81610 		ldrh	r1, [sp, #22]
 2962 0110 0020     		movs	r0, #0
 2963 0112 FFF7FEFF 		bl	set_state_idle
 2964              	.LVL281:
 960:Lib/soes/src/esc_coe.c ****    }
 2965              		.loc 1 960 7 view .LVU922
 2966 0116 E7E7     		b	.L171
 2967              	.LVL282:
 2968              	.L187:
 974:Lib/soes/src/esc_coe.c ****          return;
 2969              		.loc 1 974 10 view .LVU923
 2970 0118 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
ARM GAS  /tmp/ccoG2CDz.s 			page 97


 2971 011c BDF81610 		ldrh	r1, [sp, #22]
 2972 0120 0020     		movs	r0, #0
 2973              	.LVL283:
 974:Lib/soes/src/esc_coe.c ****          return;
 2974              		.loc 1 974 10 is_stmt 0 view .LVU924
 2975 0122 FFF7FEFF 		bl	set_state_idle
 2976              	.LVL284:
 975:Lib/soes/src/esc_coe.c ****       }
 2977              		.loc 1 975 10 is_stmt 1 view .LVU925
 2978 0126 DFE7     		b	.L171
 2979              	.LVL285:
 2980              	.L188:
 983:Lib/soes/src/esc_coe.c ****              return;
 2981              		.loc 1 983 14 view .LVU926
 2982 0128 274B     		ldr	r3, .L190+12
 2983 012a 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2984 012e BDF81610 		ldrh	r1, [sp, #22]
 2985 0132 0020     		movs	r0, #0
 2986              	.LVL286:
 983:Lib/soes/src/esc_coe.c ****              return;
 2987              		.loc 1 983 14 is_stmt 0 view .LVU927
 2988 0134 FFF7FEFF 		bl	set_state_idle
 2989              	.LVL287:
 984:Lib/soes/src/esc_coe.c ****          }
 2990              		.loc 1 984 14 is_stmt 1 view .LVU928
 2991 0138 D6E7     		b	.L171
 2992              	.LVL288:
 2993              	.L179:
1002:Lib/soes/src/esc_coe.c ****          /* copy download data to subindexes */
 2994              		.loc 1 1002 10 view .LVU929
1002:Lib/soes/src/esc_coe.c ****          /* copy download data to subindexes */
 2995              		.loc 1 1002 27 is_stmt 0 view .LVU930
 2996 013a 224B     		ldr	r3, .L190+8
 2997 013c 0022     		movs	r2, #0
 2998 013e 83F89120 		strb	r2, [r3, #145]
1004:Lib/soes/src/esc_coe.c **** 
 2999              		.loc 1 1004 10 is_stmt 1 view .LVU931
 3000 0142 0194     		str	r4, [sp, #4]
 3001 0144 0123     		movs	r3, #1
 3002 0146 0093     		str	r3, [sp]
 3003 0148 2B46     		mov	r3, r5
 3004 014a BDF90E20 		ldrsh	r2, [sp, #14]
 3005 014e 0499     		ldr	r1, [sp, #16]
 3006 0150 3046     		mov	r0, r6
 3007              	.LVL289:
1004:Lib/soes/src/esc_coe.c **** 
 3008              		.loc 1 1004 10 is_stmt 0 view .LVU932
 3009 0152 FFF7FEFF 		bl	complete_access_subindex_loop
 3010              	.LVL290:
1006:Lib/soes/src/esc_coe.c ****                objd->flags | COMPLETE_ACCESS_FLAG);
 3011              		.loc 1 1006 10 is_stmt 1 view .LVU933
1007:Lib/soes/src/esc_coe.c ****          if (abortcode != 0)
 3012              		.loc 1 1007 20 is_stmt 0 view .LVU934
 3013 0156 F288     		ldrh	r2, [r6, #6]
1006:Lib/soes/src/esc_coe.c ****                objd->flags | COMPLETE_ACCESS_FLAG);
 3014              		.loc 1 1006 22 view .LVU935
 3015 0158 42F40042 		orr	r2, r2, #32768
ARM GAS  /tmp/ccoG2CDz.s 			page 98


 3016 015c 9DF81510 		ldrb	r1, [sp, #21]	@ zero_extendqisi2
 3017 0160 BDF81600 		ldrh	r0, [sp, #22]
 3018 0164 FFF7FEFF 		bl	ESC_download_post_objecthandler
 3019              	.LVL291:
1008:Lib/soes/src/esc_coe.c ****          {
 3020              		.loc 1 1008 10 is_stmt 1 view .LVU936
1008:Lib/soes/src/esc_coe.c ****          {
 3021              		.loc 1 1008 13 is_stmt 0 view .LVU937
 3022 0168 0346     		mov	r3, r0
 3023 016a 0028     		cmp	r0, #0
 3024 016c AFD0     		beq	.L181
1010:Lib/soes/src/esc_coe.c ****             return;
 3025              		.loc 1 1010 13 is_stmt 1 view .LVU938
 3026 016e 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 3027 0172 BDF81610 		ldrh	r1, [sp, #22]
 3028 0176 0020     		movs	r0, #0
 3029              	.LVL292:
1010:Lib/soes/src/esc_coe.c ****             return;
 3030              		.loc 1 1010 13 is_stmt 0 view .LVU939
 3031 0178 FFF7FEFF 		bl	set_state_idle
 3032              	.LVL293:
1011:Lib/soes/src/esc_coe.c ****          }
 3033              		.loc 1 1011 13 is_stmt 1 view .LVU940
 3034 017c B4E7     		b	.L171
 3035              	.LVL294:
 3036              	.L177:
1017:Lib/soes/src/esc_coe.c ****       return;
 3037              		.loc 1 1017 7 view .LVU941
 3038 017e 134B     		ldr	r3, .L190+16
 3039              	.LVL295:
1017:Lib/soes/src/esc_coe.c ****       return;
 3040              		.loc 1 1017 7 is_stmt 0 view .LVU942
 3041 0180 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 3042 0184 BDF81610 		ldrh	r1, [sp, #22]
 3043 0188 0020     		movs	r0, #0
 3044              	.LVL296:
1017:Lib/soes/src/esc_coe.c ****       return;
 3045              		.loc 1 1017 7 view .LVU943
 3046 018a FFF7FEFF 		bl	set_state_idle
 3047              	.LVL297:
1018:Lib/soes/src/esc_coe.c ****    }
 3048              		.loc 1 1018 7 is_stmt 1 view .LVU944
 3049 018e ABE7     		b	.L171
 3050              	.LVL298:
 3051              	.L189:
 3052              	.LBB8:
1024:Lib/soes/src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE,
 3053              		.loc 1 1024 7 view .LVU945
1024:Lib/soes/src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE,
 3054              		.loc 1 1024 51 is_stmt 0 view .LVU946
 3055 0190 0C4B     		ldr	r3, .L190+8
 3056 0192 DB6E     		ldr	r3, [r3, #108]
1024:Lib/soes/src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE,
 3057              		.loc 1 1024 16 view .LVU947
 3058 0194 094D     		ldr	r5, .L190
 3059              	.LVL299:
1024:Lib/soes/src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE,
ARM GAS  /tmp/ccoG2CDz.s 			page 99


 3060              		.loc 1 1024 16 view .LVU948
 3061 0196 03FB0055 		mla	r5, r3, r0, r5
 3062              	.LVL300:
1025:Lib/soes/src/esc_coe.c ****                   COE_COMMAND_DOWNLOADRESPONSE | COE_COMPLETEACCESS,
 3063              		.loc 1 1025 7 is_stmt 1 view .LVU949
 3064 019a 9DF81530 		ldrb	r3, [sp, #21]	@ zero_extendqisi2
 3065 019e 0093     		str	r3, [sp]
 3066 01a0 BDF81630 		ldrh	r3, [sp, #22]
 3067 01a4 7022     		movs	r2, #112
 3068 01a6 0321     		movs	r1, #3
 3069 01a8 2846     		mov	r0, r5
 3070              	.LVL301:
1025:Lib/soes/src/esc_coe.c ****                   COE_COMMAND_DOWNLOADRESPONSE | COE_COMPLETEACCESS,
 3071              		.loc 1 1025 7 is_stmt 0 view .LVU950
 3072 01aa FFF7FEFF 		bl	init_coesdo
 3073              	.LVL302:
1029:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 3074              		.loc 1 1029 7 is_stmt 1 view .LVU951
1029:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 3075              		.loc 1 1029 20 is_stmt 0 view .LVU952
 3076 01ae 0023     		movs	r3, #0
 3077 01b0 EB60     		str	r3, [r5, #12]
1030:Lib/soes/src/esc_coe.c ****    }
 3078              		.loc 1 1030 7 is_stmt 1 view .LVU953
1030:Lib/soes/src/esc_coe.c ****    }
 3079              		.loc 1 1030 32 is_stmt 0 view .LVU954
 3080 01b2 074B     		ldr	r3, .L190+20
 3081 01b4 0322     		movs	r2, #3
 3082 01b6 1A55     		strb	r2, [r3, r4]
 3083 01b8 8EE7     		b	.L182
 3084              	.L191:
 3085 01ba 00BF     		.align	2
 3086              	.L190:
 3087 01bc 00000000 		.word	MBX
 3088 01c0 00000000 		.word	SDOobjects
 3089 01c4 00000000 		.word	ESCvar
 3090 01c8 04000106 		.word	100728836
 3091 01cc 10000706 		.word	101122064
 3092 01d0 00000000 		.word	MBXcontrol
 3093              	.LBE8:
 3094              		.cfi_endproc
 3095              	.LFE13:
 3097              		.section	.text.SDO_upload,"ax",%progbits
 3098              		.align	1
 3099              		.syntax unified
 3100              		.thumb
 3101              		.thumb_func
 3102              		.fpu fpv4-sp-d16
 3104              	SDO_upload:
 3105              	.LFB6:
 300:Lib/soes/src/esc_coe.c ****    _COEsdo *coesdo, *coeres;
 3106              		.loc 1 300 1 is_stmt 1 view -0
 3107              		.cfi_startproc
 3108              		@ args = 0, pretend = 0, frame = 8
 3109              		@ frame_needed = 0, uses_anonymous_args = 0
 3110 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 3111              		.cfi_def_cfa_offset 36
ARM GAS  /tmp/ccoG2CDz.s 			page 100


 3112              		.cfi_offset 4, -36
 3113              		.cfi_offset 5, -32
 3114              		.cfi_offset 6, -28
 3115              		.cfi_offset 7, -24
 3116              		.cfi_offset 8, -20
 3117              		.cfi_offset 9, -16
 3118              		.cfi_offset 10, -12
 3119              		.cfi_offset 11, -8
 3120              		.cfi_offset 14, -4
 3121 0004 85B0     		sub	sp, sp, #20
 3122              		.cfi_def_cfa_offset 56
 301:Lib/soes/src/esc_coe.c ****    uint16_t index;
 3123              		.loc 1 301 4 view .LVU956
 302:Lib/soes/src/esc_coe.c ****    uint8_t subindex;
 3124              		.loc 1 302 4 view .LVU957
 303:Lib/soes/src/esc_coe.c ****    int32_t nidx;
 3125              		.loc 1 303 4 view .LVU958
 304:Lib/soes/src/esc_coe.c ****    int16_t nsub;
 3126              		.loc 1 304 4 view .LVU959
 305:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
 3127              		.loc 1 305 4 view .LVU960
 306:Lib/soes/src/esc_coe.c ****    uint32_t size;
 3128              		.loc 1 306 4 view .LVU961
 307:Lib/soes/src/esc_coe.c ****    uint8_t dss;
 3129              		.loc 1 307 4 view .LVU962
 308:Lib/soes/src/esc_coe.c ****    uint32_t abort = 1;
 3130              		.loc 1 308 4 view .LVU963
 309:Lib/soes/src/esc_coe.c ****    const _objd *objd;
 3131              		.loc 1 309 4 view .LVU964
 3132              	.LVL303:
 310:Lib/soes/src/esc_coe.c ****    coesdo = (_COEsdo *) &MBX[0];
 3133              		.loc 1 310 4 view .LVU965
 311:Lib/soes/src/esc_coe.c ****    index = etohs (coesdo->index);
 3134              		.loc 1 311 4 view .LVU966
 312:Lib/soes/src/esc_coe.c ****    subindex = coesdo->subindex;
 3135              		.loc 1 312 4 view .LVU967
 312:Lib/soes/src/esc_coe.c ****    subindex = coesdo->subindex;
 3136              		.loc 1 312 10 is_stmt 0 view .LVU968
 3137 0006 7C4B     		ldr	r3, .L221
 3138 0008 B3F80960 		ldrh	r6, [r3, #9]	@ unaligned
 3139 000c B5B2     		uxth	r5, r6
 3140              	.LVL304:
 313:Lib/soes/src/esc_coe.c ****    nidx = SDO_findobject (index);
 3141              		.loc 1 313 4 is_stmt 1 view .LVU969
 313:Lib/soes/src/esc_coe.c ****    nidx = SDO_findobject (index);
 3142              		.loc 1 313 13 is_stmt 0 view .LVU970
 3143 000e DF7A     		ldrb	r7, [r3, #11]	@ zero_extendqisi2
 3144              	.LVL305:
 314:Lib/soes/src/esc_coe.c ****    if (nidx >= 0)
 3145              		.loc 1 314 4 is_stmt 1 view .LVU971
 314:Lib/soes/src/esc_coe.c ****    if (nidx >= 0)
 3146              		.loc 1 314 11 is_stmt 0 view .LVU972
 3147 0010 2846     		mov	r0, r5
 3148 0012 FFF7FEFF 		bl	SDO_findobject
 3149              	.LVL306:
 315:Lib/soes/src/esc_coe.c ****    {
 3150              		.loc 1 315 4 is_stmt 1 view .LVU973
ARM GAS  /tmp/ccoG2CDz.s 			page 101


 315:Lib/soes/src/esc_coe.c ****    {
 3151              		.loc 1 315 7 is_stmt 0 view .LVU974
 3152 0016 041E     		subs	r4, r0, #0
 3153 0018 C0F2DE80 		blt	.L193
 317:Lib/soes/src/esc_coe.c ****       if (nsub >= 0)
 3154              		.loc 1 317 7 is_stmt 1 view .LVU975
 317:Lib/soes/src/esc_coe.c ****       if (nsub >= 0)
 3155              		.loc 1 317 14 is_stmt 0 view .LVU976
 3156 001c 3946     		mov	r1, r7
 3157 001e 2046     		mov	r0, r4
 317:Lib/soes/src/esc_coe.c ****       if (nsub >= 0)
 3158              		.loc 1 317 14 view .LVU977
 3159 0020 FFF7FEFF 		bl	SDO_findsubindex
 3160              	.LVL307:
 318:Lib/soes/src/esc_coe.c ****       {
 3161              		.loc 1 318 7 is_stmt 1 view .LVU978
 318:Lib/soes/src/esc_coe.c ****       {
 3162              		.loc 1 318 10 is_stmt 0 view .LVU979
 3163 0024 0028     		cmp	r0, #0
 3164              	.LVL308:
 318:Lib/soes/src/esc_coe.c ****       {
 3165              		.loc 1 318 10 view .LVU980
 3166 0026 C0F2D080 		blt	.L194
 3167              	.LBB9:
 320:Lib/soes/src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 3168              		.loc 1 320 10 is_stmt 1 view .LVU981
 320:Lib/soes/src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 3169              		.loc 1 320 15 is_stmt 0 view .LVU982
 3170 002a 744B     		ldr	r3, .L221+4
 3171 002c 03EB0414 		add	r4, r3, r4, lsl #4
 3172              	.LVL309:
 320:Lib/soes/src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 3173              		.loc 1 320 15 view .LVU983
 3174 0030 E468     		ldr	r4, [r4, #12]
 3175              	.LVL310:
 321:Lib/soes/src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3176              		.loc 1 321 10 is_stmt 1 view .LVU984
 321:Lib/soes/src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3177              		.loc 1 321 33 is_stmt 0 view .LVU985
 3178 0032 00EB8000 		add	r0, r0, r0, lsl #2
 3179 0036 04EB8004 		add	r4, r4, r0, lsl #2
 3180              	.LVL311:
 321:Lib/soes/src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3181              		.loc 1 321 48 view .LVU986
 3182 003a A279     		ldrb	r2, [r4, #6]	@ zero_extendqisi2
 3183              	.LVL312:
 322:Lib/soes/src/esc_coe.c ****          if (!READ_ACCESS(access, state))
 3184              		.loc 1 322 10 is_stmt 1 view .LVU987
 322:Lib/soes/src/esc_coe.c ****          if (!READ_ACCESS(access, state))
 3185              		.loc 1 322 42 is_stmt 0 view .LVU988
 3186 003c 704B     		ldr	r3, .L221+8
 3187 003e 93F88030 		ldrb	r3, [r3, #128]	@ zero_extendqisi2
 322:Lib/soes/src/esc_coe.c ****          if (!READ_ACCESS(access, state))
 3188              		.loc 1 322 18 view .LVU989
 3189 0042 03F00F03 		and	r3, r3, #15
 3190              	.LVL313:
 323:Lib/soes/src/esc_coe.c ****          {
ARM GAS  /tmp/ccoG2CDz.s 			page 102


 3191              		.loc 1 323 10 is_stmt 1 view .LVU990
 323:Lib/soes/src/esc_coe.c ****          {
 3192              		.loc 1 323 13 is_stmt 0 view .LVU991
 3193 0046 12F0010F 		tst	r2, #1
 3194 004a 01D0     		beq	.L195
 323:Lib/soes/src/esc_coe.c ****          {
 3195              		.loc 1 323 15 discriminator 2 view .LVU992
 3196 004c 022B     		cmp	r3, #2
 3197 004e 10D0     		beq	.L196
 3198              	.L195:
 323:Lib/soes/src/esc_coe.c ****          {
 3199              		.loc 1 323 15 discriminator 3 view .LVU993
 3200 0050 12F0020F 		tst	r2, #2
 3201 0054 01D0     		beq	.L197
 323:Lib/soes/src/esc_coe.c ****          {
 3202              		.loc 1 323 15 discriminator 5 view .LVU994
 3203 0056 042B     		cmp	r3, #4
 3204 0058 0BD0     		beq	.L196
 3205              	.L197:
 323:Lib/soes/src/esc_coe.c ****          {
 3206              		.loc 1 323 14 discriminator 6 view .LVU995
 3207 005a 12F0040F 		tst	r2, #4
 3208 005e 01D0     		beq	.L198
 323:Lib/soes/src/esc_coe.c ****          {
 3209              		.loc 1 323 15 discriminator 7 view .LVU996
 3210 0060 082B     		cmp	r3, #8
 3211 0062 06D0     		beq	.L196
 3212              	.L198:
 325:Lib/soes/src/esc_coe.c ****             return;
 3213              		.loc 1 325 13 is_stmt 1 view .LVU997
 3214 0064 674B     		ldr	r3, .L221+12
 3215              	.LVL314:
 325:Lib/soes/src/esc_coe.c ****             return;
 3216              		.loc 1 325 13 is_stmt 0 view .LVU998
 3217 0066 3A46     		mov	r2, r7
 3218              	.LVL315:
 325:Lib/soes/src/esc_coe.c ****             return;
 3219              		.loc 1 325 13 view .LVU999
 3220 0068 2946     		mov	r1, r5
 3221 006a 0020     		movs	r0, #0
 3222 006c FFF7FEFF 		bl	set_state_idle
 3223              	.LVL316:
 326:Lib/soes/src/esc_coe.c ****          }
 3224              		.loc 1 326 13 is_stmt 1 view .LVU1000
 3225 0070 BEE0     		b	.L192
 3226              	.LVL317:
 3227              	.L196:
 328:Lib/soes/src/esc_coe.c ****          if (MBXout)
 3228              		.loc 1 328 10 view .LVU1001
 328:Lib/soes/src/esc_coe.c ****          if (MBXout)
 3229              		.loc 1 328 19 is_stmt 0 view .LVU1002
 3230 0072 FFF7FEFF 		bl	ESC_claimbuffer
 3231              	.LVL318:
 329:Lib/soes/src/esc_coe.c ****          {
 3232              		.loc 1 329 10 is_stmt 1 view .LVU1003
 329:Lib/soes/src/esc_coe.c ****          {
 3233              		.loc 1 329 13 is_stmt 0 view .LVU1004
ARM GAS  /tmp/ccoG2CDz.s 			page 103


 3234 0076 8246     		mov	r10, r0
 3235 0078 0028     		cmp	r0, #0
 3236 007a 00F0B380 		beq	.L200
 331:Lib/soes/src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 3237              		.loc 1 331 13 is_stmt 1 view .LVU1005
 331:Lib/soes/src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 3238              		.loc 1 331 48 is_stmt 0 view .LVU1006
 3239 007e 604B     		ldr	r3, .L221+8
 3240 0080 DB6E     		ldr	r3, [r3, #108]
 331:Lib/soes/src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 3241              		.loc 1 331 46 view .LVU1007
 3242 0082 03FB00F9 		mul	r9, r3, r0
 331:Lib/soes/src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 3243              		.loc 1 331 20 view .LVU1008
 3244 0086 DFF870B1 		ldr	fp, .L221
 3245 008a 09EB0B08 		add	r8, r9, fp
 3246              	.LVL319:
 332:Lib/soes/src/esc_coe.c ****             coeres->mbxheader.mbxtype = MBXCOE;
 3247              		.loc 1 332 13 is_stmt 1 view .LVU1009
 332:Lib/soes/src/esc_coe.c ****             coeres->mbxheader.mbxtype = MBXCOE;
 3248              		.loc 1 332 38 is_stmt 0 view .LVU1010
 3249 008e 0A23     		movs	r3, #10
 3250 0090 29F80B30 		strh	r3, [r9, fp]	@ movhi
 333:Lib/soes/src/esc_coe.c ****             coeres->coeheader.numberservice =
 3251              		.loc 1 333 13 is_stmt 1 view .LVU1011
 333:Lib/soes/src/esc_coe.c ****             coeres->coeheader.numberservice =
 3252              		.loc 1 333 39 is_stmt 0 view .LVU1012
 3253 0094 98F80530 		ldrb	r3, [r8, #5]	@ zero_extendqisi2
 3254 0098 0322     		movs	r2, #3
 3255 009a 62F30303 		bfi	r3, r2, #0, #4
 3256 009e 88F80530 		strb	r3, [r8, #5]
 334:Lib/soes/src/esc_coe.c ****                htoes ((0 & 0x01f) | (COE_SDORESPONSE << 12));
 3257              		.loc 1 334 13 is_stmt 1 view .LVU1013
 334:Lib/soes/src/esc_coe.c ****                htoes ((0 & 0x01f) | (COE_SDORESPONSE << 12));
 3258              		.loc 1 334 45 is_stmt 0 view .LVU1014
 3259 00a2 4FF44053 		mov	r3, #12288
 3260 00a6 A8F80630 		strh	r3, [r8, #6]	@ movhi
 336:Lib/soes/src/esc_coe.c ****             /* expedited bits used calculation */
 3261              		.loc 1 336 13 is_stmt 1 view .LVU1015
 336:Lib/soes/src/esc_coe.c ****             /* expedited bits used calculation */
 3262              		.loc 1 336 33 is_stmt 0 view .LVU1016
 3263 00aa A388     		ldrh	r3, [r4, #4]
 336:Lib/soes/src/esc_coe.c ****             /* expedited bits used calculation */
 3264              		.loc 1 336 18 view .LVU1017
 3265 00ac 0393     		str	r3, [sp, #12]
 338:Lib/soes/src/esc_coe.c ****             if (size > 8)
 3266              		.loc 1 338 13 is_stmt 1 view .LVU1018
 3267              	.LVL320:
 339:Lib/soes/src/esc_coe.c ****             {
 3268              		.loc 1 339 13 view .LVU1019
 339:Lib/soes/src/esc_coe.c ****             {
 3269              		.loc 1 339 16 is_stmt 0 view .LVU1020
 3270 00ae 082B     		cmp	r3, #8
 3271 00b0 33D8     		bhi	.L214
 338:Lib/soes/src/esc_coe.c ****             if (size > 8)
 3272              		.loc 1 338 17 view .LVU1021
 3273 00b2 0C22     		movs	r2, #12
ARM GAS  /tmp/ccoG2CDz.s 			page 104


 3274              	.L201:
 3275              	.LVL321:
 343:Lib/soes/src/esc_coe.c ****             {
 3276              		.loc 1 343 13 is_stmt 1 view .LVU1022
 343:Lib/soes/src/esc_coe.c ****             {
 3277              		.loc 1 343 16 is_stmt 0 view .LVU1023
 3278 00b4 102B     		cmp	r3, #16
 3279 00b6 00D9     		bls	.L202
 345:Lib/soes/src/esc_coe.c ****             }
 3280              		.loc 1 345 20 view .LVU1024
 3281 00b8 0422     		movs	r2, #4
 3282              	.LVL322:
 3283              	.L202:
 347:Lib/soes/src/esc_coe.c ****             {
 3284              		.loc 1 347 13 is_stmt 1 view .LVU1025
 347:Lib/soes/src/esc_coe.c ****             {
 3285              		.loc 1 347 16 is_stmt 0 view .LVU1026
 3286 00ba 182B     		cmp	r3, #24
 3287 00bc 00D9     		bls	.L203
 349:Lib/soes/src/esc_coe.c ****             }
 3288              		.loc 1 349 20 view .LVU1027
 3289 00be 0022     		movs	r2, #0
 3290              	.LVL323:
 3291              	.L203:
 351:Lib/soes/src/esc_coe.c ****             coeres->subindex = subindex;
 3292              		.loc 1 351 13 is_stmt 1 view .LVU1028
 351:Lib/soes/src/esc_coe.c ****             coeres->subindex = subindex;
 3293              		.loc 1 351 27 is_stmt 0 view .LVU1029
 3294 00c0 A8F80960 		strh	r6, [r8, #9]	@ unaligned
 352:Lib/soes/src/esc_coe.c ****             coeres->command = COE_COMMAND_UPLOADRESPONSE |
 3295              		.loc 1 352 13 is_stmt 1 view .LVU1030
 352:Lib/soes/src/esc_coe.c ****             coeres->command = COE_COMMAND_UPLOADRESPONSE |
 3296              		.loc 1 352 30 is_stmt 0 view .LVU1031
 3297 00c4 88F80B70 		strb	r7, [r8, #11]
 353:Lib/soes/src/esc_coe.c ****                COE_SIZE_INDICATOR;
 3298              		.loc 1 353 13 is_stmt 1 view .LVU1032
 353:Lib/soes/src/esc_coe.c ****                COE_SIZE_INDICATOR;
 3299              		.loc 1 353 29 is_stmt 0 view .LVU1033
 3300 00c8 4121     		movs	r1, #65
 3301 00ca 88F80810 		strb	r1, [r8, #8]
 356:Lib/soes/src/esc_coe.c ****             if (size <= 4)
 3302              		.loc 1 356 13 is_stmt 1 view .LVU1034
 356:Lib/soes/src/esc_coe.c ****             if (size <= 4)
 3303              		.loc 1 356 20 is_stmt 0 view .LVU1035
 3304 00ce 0733     		adds	r3, r3, #7
 3305 00d0 DB08     		lsrs	r3, r3, #3
 356:Lib/soes/src/esc_coe.c ****             if (size <= 4)
 3306              		.loc 1 356 18 view .LVU1036
 3307 00d2 0393     		str	r3, [sp, #12]
 357:Lib/soes/src/esc_coe.c ****             {
 3308              		.loc 1 357 13 is_stmt 1 view .LVU1037
 357:Lib/soes/src/esc_coe.c ****             {
 3309              		.loc 1 357 16 is_stmt 0 view .LVU1038
 3310 00d4 042B     		cmp	r3, #4
 3311 00d6 30D8     		bhi	.L204
 3312              	.LBB10:
 360:Lib/soes/src/esc_coe.c ****                void *dataptr = ((objd + nsub)->data) ?
ARM GAS  /tmp/ccoG2CDz.s 			page 105


 3313              		.loc 1 360 16 is_stmt 1 view .LVU1039
 360:Lib/soes/src/esc_coe.c ****                void *dataptr = ((objd + nsub)->data) ?
 3314              		.loc 1 360 32 is_stmt 0 view .LVU1040
 3315 00d8 42F04302 		orr	r2, r2, #67
 3316              	.LVL324:
 360:Lib/soes/src/esc_coe.c ****                void *dataptr = ((objd + nsub)->data) ?
 3317              		.loc 1 360 32 view .LVU1041
 3318 00dc 88F80820 		strb	r2, [r8, #8]
 361:Lib/soes/src/esc_coe.c ****                      (objd + nsub)->data : (void *)&((objd + nsub)->value);
 3319              		.loc 1 361 16 is_stmt 1 view .LVU1042
 361:Lib/soes/src/esc_coe.c ****                      (objd + nsub)->data : (void *)&((objd + nsub)->value);
 3320              		.loc 1 361 46 is_stmt 0 view .LVU1043
 3321 00e0 2269     		ldr	r2, [r4, #16]
 362:Lib/soes/src/esc_coe.c ****                abort = ESC_upload_pre_objecthandler (index, subindex,
 3322              		.loc 1 362 42 view .LVU1044
 3323 00e2 E2B1     		cbz	r2, .L218
 3324              	.L205:
 3325              	.LVL325:
 363:Lib/soes/src/esc_coe.c ****                      dataptr, (size_t *)&size, (objd + nsub)->flags);
 3326              		.loc 1 363 16 is_stmt 1 view .LVU1045
 363:Lib/soes/src/esc_coe.c ****                      dataptr, (size_t *)&size, (objd + nsub)->flags);
 3327              		.loc 1 363 24 is_stmt 0 view .LVU1046
 3328 00e4 E388     		ldrh	r3, [r4, #6]
 3329 00e6 0093     		str	r3, [sp]
 3330 00e8 03AB     		add	r3, sp, #12
 3331 00ea 3946     		mov	r1, r7
 3332 00ec 2846     		mov	r0, r5
 3333              	.LVL326:
 363:Lib/soes/src/esc_coe.c ****                      dataptr, (size_t *)&size, (objd + nsub)->flags);
 3334              		.loc 1 363 24 view .LVU1047
 3335 00ee FFF7FEFF 		bl	ESC_upload_pre_objecthandler
 3336              	.LVL327:
 365:Lib/soes/src/esc_coe.c ****                {
 3337              		.loc 1 365 16 is_stmt 1 view .LVU1048
 365:Lib/soes/src/esc_coe.c ****                {
 3338              		.loc 1 365 19 is_stmt 0 view .LVU1049
 3339 00f2 0646     		mov	r6, r0
 3340              	.LVL328:
 365:Lib/soes/src/esc_coe.c ****                {
 3341              		.loc 1 365 19 view .LVU1050
 3342 00f4 D0B9     		cbnz	r0, .L206
 367:Lib/soes/src/esc_coe.c ****                   {
 3343              		.loc 1 367 19 is_stmt 1 view .LVU1051
 367:Lib/soes/src/esc_coe.c ****                   {
 3344              		.loc 1 367 36 is_stmt 0 view .LVU1052
 3345 00f6 2069     		ldr	r0, [r4, #16]
 3346              	.LVL329:
 367:Lib/soes/src/esc_coe.c ****                   {
 3347              		.loc 1 367 22 view .LVU1053
 3348 00f8 A0B1     		cbz	r0, .L219
 375:Lib/soes/src/esc_coe.c ****                   }
 3349              		.loc 1 375 22 is_stmt 1 view .LVU1054
 3350 00fa 039A     		ldr	r2, [sp, #12]
 3351 00fc 08F10C01 		add	r1, r8, #12
 3352 0100 FFF7FEFF 		bl	copy2mbx
 3353              	.LVL330:
 3354              	.L208:
ARM GAS  /tmp/ccoG2CDz.s 			page 106


 375:Lib/soes/src/esc_coe.c ****                   }
 3355              		.loc 1 375 22 is_stmt 0 view .LVU1055
 3356              	.LBE10:
 421:Lib/soes/src/esc_coe.c ****             {
 3357              		.loc 1 421 13 is_stmt 1 view .LVU1056
 421:Lib/soes/src/esc_coe.c ****             {
 3358              		.loc 1 421 16 is_stmt 0 view .LVU1057
 3359 0104 26B9     		cbnz	r6, .L212
 421:Lib/soes/src/esc_coe.c ****             {
 3360              		.loc 1 421 40 discriminator 1 view .LVU1058
 3361 0106 3E4B     		ldr	r3, .L221+8
 3362 0108 93F89130 		ldrb	r3, [r3, #145]	@ zero_extendqisi2
 421:Lib/soes/src/esc_coe.c ****             {
 3363              		.loc 1 421 30 discriminator 1 view .LVU1059
 3364 010c 002B     		cmp	r3, #0
 3365 010e 4ED0     		beq	.L220
 3366              	.LVL331:
 3367              	.L212:
 431:Lib/soes/src/esc_coe.c ****          }
 3368              		.loc 1 431 13 is_stmt 1 view .LVU1060
 431:Lib/soes/src/esc_coe.c ****          }
 3369              		.loc 1 431 38 is_stmt 0 view .LVU1061
 3370 0110 3D4B     		ldr	r3, .L221+16
 3371 0112 0322     		movs	r2, #3
 3372 0114 03F80A20 		strb	r2, [r3, r10]
 3373 0118 64E0     		b	.L200
 3374              	.LVL332:
 3375              	.L214:
 341:Lib/soes/src/esc_coe.c ****             }
 3376              		.loc 1 341 20 view .LVU1062
 3377 011a 0822     		movs	r2, #8
 3378 011c CAE7     		b	.L201
 3379              	.LVL333:
 3380              	.L218:
 3381              	.LBB11:
 362:Lib/soes/src/esc_coe.c ****                abort = ESC_upload_pre_objecthandler (index, subindex,
 3382              		.loc 1 362 42 discriminator 2 view .LVU1063
 3383 011e 04F10C02 		add	r2, r4, #12
 3384 0122 DFE7     		b	.L205
 3385              	.LVL334:
 3386              	.L219:
 370:Lib/soes/src/esc_coe.c ****                   }
 3387              		.loc 1 370 22 is_stmt 1 view .LVU1064
 370:Lib/soes/src/esc_coe.c ****                   }
 3388              		.loc 1 370 37 is_stmt 0 view .LVU1065
 3389 0124 E368     		ldr	r3, [r4, #12]
 370:Lib/soes/src/esc_coe.c ****                   }
 3390              		.loc 1 370 35 view .LVU1066
 3391 0126 C8F80C30 		str	r3, [r8, #12]
 3392 012a EBE7     		b	.L208
 3393              	.LVL335:
 3394              	.L206:
 380:Lib/soes/src/esc_coe.c ****                   return;
 3395              		.loc 1 380 19 is_stmt 1 view .LVU1067
 3396 012c 0346     		mov	r3, r0
 3397 012e 3A46     		mov	r2, r7
 3398 0130 2946     		mov	r1, r5
ARM GAS  /tmp/ccoG2CDz.s 			page 107


 3399 0132 5046     		mov	r0, r10
 3400              	.LVL336:
 380:Lib/soes/src/esc_coe.c ****                   return;
 3401              		.loc 1 380 19 is_stmt 0 view .LVU1068
 3402 0134 FFF7FEFF 		bl	set_state_idle
 3403              	.LVL337:
 381:Lib/soes/src/esc_coe.c ****                }
 3404              		.loc 1 381 19 is_stmt 1 view .LVU1069
 3405 0138 5AE0     		b	.L192
 3406              	.LVL338:
 3407              	.L204:
 381:Lib/soes/src/esc_coe.c ****                }
 3408              		.loc 1 381 19 is_stmt 0 view .LVU1070
 3409              	.LBE11:
 387:Lib/soes/src/esc_coe.c ****                      (objd + nsub)->data, (size_t *)&size, (objd + nsub)->flags);
 3410              		.loc 1 387 16 is_stmt 1 view .LVU1071
 387:Lib/soes/src/esc_coe.c ****                      (objd + nsub)->data, (size_t *)&size, (objd + nsub)->flags);
 3411              		.loc 1 387 24 is_stmt 0 view .LVU1072
 3412 013a 2269     		ldr	r2, [r4, #16]
 3413              	.LVL339:
 387:Lib/soes/src/esc_coe.c ****                      (objd + nsub)->data, (size_t *)&size, (objd + nsub)->flags);
 3414              		.loc 1 387 24 view .LVU1073
 3415 013c E388     		ldrh	r3, [r4, #6]
 3416 013e 0093     		str	r3, [sp]
 3417 0140 03AB     		add	r3, sp, #12
 3418 0142 3946     		mov	r1, r7
 3419 0144 2846     		mov	r0, r5
 3420              	.LVL340:
 387:Lib/soes/src/esc_coe.c ****                      (objd + nsub)->data, (size_t *)&size, (objd + nsub)->flags);
 3421              		.loc 1 387 24 view .LVU1074
 3422 0146 FFF7FEFF 		bl	ESC_upload_pre_objecthandler
 3423              	.LVL341:
 389:Lib/soes/src/esc_coe.c ****                {
 3424              		.loc 1 389 16 is_stmt 1 view .LVU1075
 389:Lib/soes/src/esc_coe.c ****                {
 3425              		.loc 1 389 19 is_stmt 0 view .LVU1076
 3426 014a 0646     		mov	r6, r0
 3427              	.LVL342:
 389:Lib/soes/src/esc_coe.c ****                {
 3428              		.loc 1 389 19 view .LVU1077
 3429 014c 40BB     		cbnz	r0, .L209
 392:Lib/soes/src/esc_coe.c ****                   coeres->size = htoel (size);
 3430              		.loc 1 392 19 is_stmt 1 view .LVU1078
 392:Lib/soes/src/esc_coe.c ****                   coeres->size = htoel (size);
 3431              		.loc 1 392 32 is_stmt 0 view .LVU1079
 3432 014e 039B     		ldr	r3, [sp, #12]
 3433 0150 2B4A     		ldr	r2, .L221+8
 3434 0152 C2F89C30 		str	r3, [r2, #156]
 393:Lib/soes/src/esc_coe.c ****                   if ((size + COE_HEADERSIZE) > ESC_MBXDSIZE)
 3435              		.loc 1 393 19 is_stmt 1 view .LVU1080
 393:Lib/soes/src/esc_coe.c ****                   if ((size + COE_HEADERSIZE) > ESC_MBXDSIZE)
 3436              		.loc 1 393 32 is_stmt 0 view .LVU1081
 3437 0156 C8F80C30 		str	r3, [r8, #12]
 394:Lib/soes/src/esc_coe.c ****                   {
 3438              		.loc 1 394 19 is_stmt 1 view .LVU1082
 394:Lib/soes/src/esc_coe.c ****                   {
 3439              		.loc 1 394 29 is_stmt 0 view .LVU1083
ARM GAS  /tmp/ccoG2CDz.s 			page 108


 3440 015a 0A33     		adds	r3, r3, #10
 394:Lib/soes/src/esc_coe.c ****                   {
 3441              		.loc 1 394 49 view .LVU1084
 3442 015c D26E     		ldr	r2, [r2, #108]
 3443 015e 911F     		subs	r1, r2, #6
 394:Lib/soes/src/esc_coe.c ****                   {
 3444              		.loc 1 394 22 view .LVU1085
 3445 0160 8B42     		cmp	r3, r1
 3446 0162 18D9     		bls	.L210
 398:Lib/soes/src/esc_coe.c ****                      /* number of bytes done */
 3447              		.loc 1 398 22 is_stmt 1 view .LVU1086
 398:Lib/soes/src/esc_coe.c ****                      /* number of bytes done */
 3448              		.loc 1 398 42 is_stmt 0 view .LVU1087
 3449 0164 103A     		subs	r2, r2, #16
 398:Lib/soes/src/esc_coe.c ****                      /* number of bytes done */
 3450              		.loc 1 398 27 view .LVU1088
 3451 0166 0392     		str	r2, [sp, #12]
 400:Lib/soes/src/esc_coe.c ****                      /* signal segmented transfer */
 3452              		.loc 1 400 22 is_stmt 1 view .LVU1089
 400:Lib/soes/src/esc_coe.c ****                      /* signal segmented transfer */
 3453              		.loc 1 400 39 is_stmt 0 view .LVU1090
 3454 0168 254B     		ldr	r3, .L221+8
 3455 016a C3F8A020 		str	r2, [r3, #160]
 402:Lib/soes/src/esc_coe.c ****                      ESCvar.data = (objd + nsub)->data;
 3456              		.loc 1 402 22 is_stmt 1 view .LVU1091
 402:Lib/soes/src/esc_coe.c ****                      ESCvar.data = (objd + nsub)->data;
 3457              		.loc 1 402 39 is_stmt 0 view .LVU1092
 3458 016e 4022     		movs	r2, #64
 3459 0170 83F89120 		strb	r2, [r3, #145]
 403:Lib/soes/src/esc_coe.c ****                      ESCvar.flags = (objd + nsub)->flags;
 3460              		.loc 1 403 22 is_stmt 1 view .LVU1093
 403:Lib/soes/src/esc_coe.c ****                      ESCvar.flags = (objd + nsub)->flags;
 3461              		.loc 1 403 49 is_stmt 0 view .LVU1094
 3462 0174 2269     		ldr	r2, [r4, #16]
 403:Lib/soes/src/esc_coe.c ****                      ESCvar.flags = (objd + nsub)->flags;
 3463              		.loc 1 403 34 view .LVU1095
 3464 0176 C3F89420 		str	r2, [r3, #148]
 404:Lib/soes/src/esc_coe.c ****                   }
 3465              		.loc 1 404 22 is_stmt 1 view .LVU1096
 404:Lib/soes/src/esc_coe.c ****                   }
 3466              		.loc 1 404 50 is_stmt 0 view .LVU1097
 3467 017a E288     		ldrh	r2, [r4, #6]
 404:Lib/soes/src/esc_coe.c ****                   }
 3468              		.loc 1 404 35 view .LVU1098
 3469 017c A3F8A820 		strh	r2, [r3, #168]	@ movhi
 3470              	.L211:
 410:Lib/soes/src/esc_coe.c **** 
 3471              		.loc 1 410 19 is_stmt 1 view .LVU1099
 410:Lib/soes/src/esc_coe.c **** 
 3472              		.loc 1 410 46 is_stmt 0 view .LVU1100
 3473 0180 039A     		ldr	r2, [sp, #12]
 3474 0182 02F10A03 		add	r3, r2, #10
 410:Lib/soes/src/esc_coe.c **** 
 3475              		.loc 1 410 44 view .LVU1101
 3476 0186 2BF80930 		strh	r3, [fp, r9]	@ movhi
 413:Lib/soes/src/esc_coe.c ****                }
 3477              		.loc 1 413 19 is_stmt 1 view .LVU1102
ARM GAS  /tmp/ccoG2CDz.s 			page 109


 3478 018a 08F11001 		add	r1, r8, #16
 3479 018e 2069     		ldr	r0, [r4, #16]
 3480              	.LVL343:
 413:Lib/soes/src/esc_coe.c ****                }
 3481              		.loc 1 413 19 is_stmt 0 view .LVU1103
 3482 0190 FFF7FEFF 		bl	copy2mbx
 3483              	.LVL344:
 3484 0194 B6E7     		b	.L208
 3485              	.LVL345:
 3486              	.L210:
 408:Lib/soes/src/esc_coe.c ****                   }
 3487              		.loc 1 408 22 is_stmt 1 view .LVU1104
 408:Lib/soes/src/esc_coe.c ****                   }
 3488              		.loc 1 408 39 is_stmt 0 view .LVU1105
 3489 0196 1A4B     		ldr	r3, .L221+8
 3490 0198 0022     		movs	r2, #0
 3491 019a 83F89120 		strb	r2, [r3, #145]
 3492 019e EFE7     		b	.L211
 3493              	.L209:
 417:Lib/soes/src/esc_coe.c ****                   return;
 3494              		.loc 1 417 19 is_stmt 1 view .LVU1106
 3495 01a0 0346     		mov	r3, r0
 3496 01a2 3A46     		mov	r2, r7
 3497 01a4 2946     		mov	r1, r5
 3498 01a6 5046     		mov	r0, r10
 3499              	.LVL346:
 417:Lib/soes/src/esc_coe.c ****                   return;
 3500              		.loc 1 417 19 is_stmt 0 view .LVU1107
 3501 01a8 FFF7FEFF 		bl	set_state_idle
 3502              	.LVL347:
 418:Lib/soes/src/esc_coe.c ****                }
 3503              		.loc 1 418 19 is_stmt 1 view .LVU1108
 3504 01ac 20E0     		b	.L192
 3505              	.L220:
 423:Lib/soes/src/esc_coe.c ****                                                       (objd + nsub)->flags);
 3506              		.loc 1 423 16 view .LVU1109
 423:Lib/soes/src/esc_coe.c ****                                                       (objd + nsub)->flags);
 3507              		.loc 1 423 24 is_stmt 0 view .LVU1110
 3508 01ae E288     		ldrh	r2, [r4, #6]
 3509 01b0 3946     		mov	r1, r7
 3510 01b2 2846     		mov	r0, r5
 3511 01b4 FFF7FEFF 		bl	ESC_upload_post_objecthandler
 3512              	.LVL348:
 425:Lib/soes/src/esc_coe.c ****                {
 3513              		.loc 1 425 16 is_stmt 1 view .LVU1111
 425:Lib/soes/src/esc_coe.c ****                {
 3514              		.loc 1 425 19 is_stmt 0 view .LVU1112
 3515 01b8 0346     		mov	r3, r0
 3516 01ba 0028     		cmp	r0, #0
 3517 01bc A8D0     		beq	.L212
 427:Lib/soes/src/esc_coe.c ****                   return;
 3518              		.loc 1 427 19 is_stmt 1 view .LVU1113
 3519 01be 3A46     		mov	r2, r7
 3520 01c0 2946     		mov	r1, r5
 3521 01c2 5046     		mov	r0, r10
 3522              	.LVL349:
 427:Lib/soes/src/esc_coe.c ****                   return;
ARM GAS  /tmp/ccoG2CDz.s 			page 110


 3523              		.loc 1 427 19 is_stmt 0 view .LVU1114
 3524 01c4 FFF7FEFF 		bl	set_state_idle
 3525              	.LVL350:
 428:Lib/soes/src/esc_coe.c ****                }
 3526              		.loc 1 428 19 is_stmt 1 view .LVU1115
 3527 01c8 12E0     		b	.L192
 3528              	.LVL351:
 3529              	.L194:
 428:Lib/soes/src/esc_coe.c ****                }
 3530              		.loc 1 428 19 is_stmt 0 view .LVU1116
 3531              	.LBE9:
 436:Lib/soes/src/esc_coe.c ****       }
 3532              		.loc 1 436 10 is_stmt 1 view .LVU1117
 3533 01ca 104B     		ldr	r3, .L221+20
 3534 01cc 3A46     		mov	r2, r7
 3535 01ce 2946     		mov	r1, r5
 3536 01d0 0020     		movs	r0, #0
 3537 01d2 FFF7FEFF 		bl	SDO_abort
 3538              	.LVL352:
 3539 01d6 05E0     		b	.L200
 3540              	.LVL353:
 3541              	.L193:
 441:Lib/soes/src/esc_coe.c ****    }
 3542              		.loc 1 441 7 view .LVU1118
 3543 01d8 0D4B     		ldr	r3, .L221+24
 3544 01da 3A46     		mov	r2, r7
 3545 01dc 2946     		mov	r1, r5
 3546 01de 0020     		movs	r0, #0
 3547              	.LVL354:
 441:Lib/soes/src/esc_coe.c ****    }
 3548              		.loc 1 441 7 is_stmt 0 view .LVU1119
 3549 01e0 FFF7FEFF 		bl	SDO_abort
 3550              	.LVL355:
 3551              	.L200:
 443:Lib/soes/src/esc_coe.c ****    ESCvar.xoe = 0;
 3552              		.loc 1 443 4 is_stmt 1 discriminator 3 view .LVU1120
 443:Lib/soes/src/esc_coe.c ****    ESCvar.xoe = 0;
 3553              		.loc 1 443 24 is_stmt 0 discriminator 3 view .LVU1121
 3554 01e4 0023     		movs	r3, #0
 3555 01e6 084A     		ldr	r2, .L221+16
 3556 01e8 1370     		strb	r3, [r2]
 444:Lib/soes/src/esc_coe.c **** }
 3557              		.loc 1 444 4 is_stmt 1 discriminator 3 view .LVU1122
 444:Lib/soes/src/esc_coe.c **** }
 3558              		.loc 1 444 15 is_stmt 0 discriminator 3 view .LVU1123
 3559 01ea 054A     		ldr	r2, .L221+8
 3560 01ec 82F88E30 		strb	r3, [r2, #142]
 3561              	.L192:
 445:Lib/soes/src/esc_coe.c **** 
 3562              		.loc 1 445 1 view .LVU1124
 3563 01f0 05B0     		add	sp, sp, #20
 3564              		.cfi_def_cfa_offset 36
 3565              		@ sp needed
 3566 01f2 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 3567              	.LVL356:
 3568              	.L222:
 445:Lib/soes/src/esc_coe.c **** 
ARM GAS  /tmp/ccoG2CDz.s 			page 111


 3569              		.loc 1 445 1 view .LVU1125
 3570 01f6 00BF     		.align	2
 3571              	.L221:
 3572 01f8 00000000 		.word	MBX
 3573 01fc 00000000 		.word	SDOobjects
 3574 0200 00000000 		.word	ESCvar
 3575 0204 01000106 		.word	100728833
 3576 0208 00000000 		.word	MBXcontrol
 3577 020c 11000906 		.word	101253137
 3578 0210 00000206 		.word	100794368
 3579              		.cfi_endproc
 3580              	.LFE6:
 3582              		.section	.text.SDO_download,"ax",%progbits
 3583              		.align	1
 3584              		.syntax unified
 3585              		.thumb
 3586              		.thumb_func
 3587              		.fpu fpv4-sp-d16
 3589              	SDO_download:
 3590              	.LFB12:
 775:Lib/soes/src/esc_coe.c ****    _COEsdo *coesdo, *coeres;
 3591              		.loc 1 775 1 is_stmt 1 view -0
 3592              		.cfi_startproc
 3593              		@ args = 0, pretend = 0, frame = 0
 3594              		@ frame_needed = 0, uses_anonymous_args = 0
 3595 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 3596              		.cfi_def_cfa_offset 28
 3597              		.cfi_offset 4, -28
 3598              		.cfi_offset 5, -24
 3599              		.cfi_offset 6, -20
 3600              		.cfi_offset 7, -16
 3601              		.cfi_offset 8, -12
 3602              		.cfi_offset 9, -8
 3603              		.cfi_offset 14, -4
 3604 0004 83B0     		sub	sp, sp, #12
 3605              		.cfi_def_cfa_offset 40
 776:Lib/soes/src/esc_coe.c ****    uint16_t index;
 3606              		.loc 1 776 4 view .LVU1127
 777:Lib/soes/src/esc_coe.c ****    uint8_t subindex;
 3607              		.loc 1 777 4 view .LVU1128
 778:Lib/soes/src/esc_coe.c ****    int32_t nidx;
 3608              		.loc 1 778 4 view .LVU1129
 779:Lib/soes/src/esc_coe.c ****    int16_t nsub;
 3609              		.loc 1 779 4 view .LVU1130
 780:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
 3610              		.loc 1 780 4 view .LVU1131
 781:Lib/soes/src/esc_coe.c ****    uint32_t size, actsize;
 3611              		.loc 1 781 4 view .LVU1132
 782:Lib/soes/src/esc_coe.c ****    const _objd *objd;
 3612              		.loc 1 782 4 view .LVU1133
 783:Lib/soes/src/esc_coe.c ****    uint32_t *mbxdata;
 3613              		.loc 1 783 4 view .LVU1134
 784:Lib/soes/src/esc_coe.c ****    uint32_t abort;
 3614              		.loc 1 784 4 view .LVU1135
 785:Lib/soes/src/esc_coe.c **** 
 3615              		.loc 1 785 4 view .LVU1136
 787:Lib/soes/src/esc_coe.c ****    index = etohs (coesdo->index);
ARM GAS  /tmp/ccoG2CDz.s 			page 112


 3616              		.loc 1 787 4 view .LVU1137
 3617              	.LVL357:
 788:Lib/soes/src/esc_coe.c ****    subindex = coesdo->subindex;
 3618              		.loc 1 788 4 view .LVU1138
 788:Lib/soes/src/esc_coe.c ****    subindex = coesdo->subindex;
 3619              		.loc 1 788 10 is_stmt 0 view .LVU1139
 3620 0006 7C4B     		ldr	r3, .L244
 3621 0008 B3F80970 		ldrh	r7, [r3, #9]	@ unaligned
 3622 000c BDB2     		uxth	r5, r7
 3623              	.LVL358:
 789:Lib/soes/src/esc_coe.c ****    nidx = SDO_findobject (index);
 3624              		.loc 1 789 4 is_stmt 1 view .LVU1140
 789:Lib/soes/src/esc_coe.c ****    nidx = SDO_findobject (index);
 3625              		.loc 1 789 13 is_stmt 0 view .LVU1141
 3626 000e DE7A     		ldrb	r6, [r3, #11]	@ zero_extendqisi2
 3627              	.LVL359:
 790:Lib/soes/src/esc_coe.c ****    if (nidx >= 0)
 3628              		.loc 1 790 4 is_stmt 1 view .LVU1142
 790:Lib/soes/src/esc_coe.c ****    if (nidx >= 0)
 3629              		.loc 1 790 11 is_stmt 0 view .LVU1143
 3630 0010 2846     		mov	r0, r5
 3631 0012 FFF7FEFF 		bl	SDO_findobject
 3632              	.LVL360:
 791:Lib/soes/src/esc_coe.c ****    {
 3633              		.loc 1 791 4 is_stmt 1 view .LVU1144
 791:Lib/soes/src/esc_coe.c ****    {
 3634              		.loc 1 791 7 is_stmt 0 view .LVU1145
 3635 0016 041E     		subs	r4, r0, #0
 3636 0018 C0F2DF80 		blt	.L224
 793:Lib/soes/src/esc_coe.c ****       if (nsub >= 0)
 3637              		.loc 1 793 7 is_stmt 1 view .LVU1146
 793:Lib/soes/src/esc_coe.c ****       if (nsub >= 0)
 3638              		.loc 1 793 14 is_stmt 0 view .LVU1147
 3639 001c 3146     		mov	r1, r6
 3640 001e 2046     		mov	r0, r4
 793:Lib/soes/src/esc_coe.c ****       if (nsub >= 0)
 3641              		.loc 1 793 14 view .LVU1148
 3642 0020 FFF7FEFF 		bl	SDO_findsubindex
 3643              	.LVL361:
 794:Lib/soes/src/esc_coe.c ****       {
 3644              		.loc 1 794 7 is_stmt 1 view .LVU1149
 794:Lib/soes/src/esc_coe.c ****       {
 3645              		.loc 1 794 10 is_stmt 0 view .LVU1150
 3646 0024 0028     		cmp	r0, #0
 3647              	.LVL362:
 794:Lib/soes/src/esc_coe.c ****       {
 3648              		.loc 1 794 10 view .LVU1151
 3649 0026 C0F2D180 		blt	.L225
 3650              	.LBB12:
 796:Lib/soes/src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 3651              		.loc 1 796 10 is_stmt 1 view .LVU1152
 796:Lib/soes/src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 3652              		.loc 1 796 15 is_stmt 0 view .LVU1153
 3653 002a 744B     		ldr	r3, .L244+4
 3654 002c 03EB0414 		add	r4, r3, r4, lsl #4
 3655              	.LVL363:
 796:Lib/soes/src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
ARM GAS  /tmp/ccoG2CDz.s 			page 113


 3656              		.loc 1 796 15 view .LVU1154
 3657 0030 E468     		ldr	r4, [r4, #12]
 3658              	.LVL364:
 797:Lib/soes/src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3659              		.loc 1 797 10 is_stmt 1 view .LVU1155
 797:Lib/soes/src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3660              		.loc 1 797 33 is_stmt 0 view .LVU1156
 3661 0032 00EB8000 		add	r0, r0, r0, lsl #2
 3662 0036 04EB8004 		add	r4, r4, r0, lsl #2
 3663              	.LVL365:
 797:Lib/soes/src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3664              		.loc 1 797 48 view .LVU1157
 3665 003a A379     		ldrb	r3, [r4, #6]	@ zero_extendqisi2
 797:Lib/soes/src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3666              		.loc 1 797 18 view .LVU1158
 3667 003c 03F03F01 		and	r1, r3, #63
 3668              	.LVL366:
 798:Lib/soes/src/esc_coe.c ****          if (WRITE_ACCESS(access, state))
 3669              		.loc 1 798 10 is_stmt 1 view .LVU1159
 798:Lib/soes/src/esc_coe.c ****          if (WRITE_ACCESS(access, state))
 3670              		.loc 1 798 42 is_stmt 0 view .LVU1160
 3671 0040 6F4A     		ldr	r2, .L244+8
 3672 0042 92F88020 		ldrb	r2, [r2, #128]	@ zero_extendqisi2
 798:Lib/soes/src/esc_coe.c ****          if (WRITE_ACCESS(access, state))
 3673              		.loc 1 798 18 view .LVU1161
 3674 0046 02F00F02 		and	r2, r2, #15
 3675              	.LVL367:
 799:Lib/soes/src/esc_coe.c ****          {
 3676              		.loc 1 799 10 is_stmt 1 view .LVU1162
 799:Lib/soes/src/esc_coe.c ****          {
 3677              		.loc 1 799 13 is_stmt 0 view .LVU1163
 3678 004a 13F0080F 		tst	r3, #8
 3679 004e 01D0     		beq	.L226
 799:Lib/soes/src/esc_coe.c ****          {
 3680              		.loc 1 799 14 discriminator 1 view .LVU1164
 3681 0050 022A     		cmp	r2, #2
 3682 0052 13D0     		beq	.L227
 3683              	.L226:
 799:Lib/soes/src/esc_coe.c ****          {
 3684              		.loc 1 799 14 discriminator 3 view .LVU1165
 3685 0054 13F0100F 		tst	r3, #16
 3686 0058 01D0     		beq	.L228
 799:Lib/soes/src/esc_coe.c ****          {
 3687              		.loc 1 799 14 discriminator 4 view .LVU1166
 3688 005a 042A     		cmp	r2, #4
 3689 005c 0ED0     		beq	.L227
 3690              	.L228:
 799:Lib/soes/src/esc_coe.c ****          {
 3691              		.loc 1 799 14 discriminator 6 view .LVU1167
 3692 005e 13F0200F 		tst	r3, #32
 3693 0062 01D0     		beq	.L229
 799:Lib/soes/src/esc_coe.c ****          {
 3694              		.loc 1 799 14 discriminator 7 view .LVU1168
 3695 0064 082A     		cmp	r2, #8
 3696 0066 09D0     		beq	.L227
 3697              	.L229:
 893:Lib/soes/src/esc_coe.c ****             {
ARM GAS  /tmp/ccoG2CDz.s 			page 114


 3698              		.loc 1 893 13 is_stmt 1 view .LVU1169
 893:Lib/soes/src/esc_coe.c ****             {
 3699              		.loc 1 893 16 is_stmt 0 view .LVU1170
 3700 0068 0729     		cmp	r1, #7
 3701 006a 00F0A880 		beq	.L242
 900:Lib/soes/src/esc_coe.c ****             }
 3702              		.loc 1 900 16 is_stmt 1 view .LVU1171
 3703 006e 654B     		ldr	r3, .L244+12
 3704 0070 3246     		mov	r2, r6
 3705              	.LVL368:
 900:Lib/soes/src/esc_coe.c ****             }
 3706              		.loc 1 900 16 is_stmt 0 view .LVU1172
 3707 0072 2946     		mov	r1, r5
 3708              	.LVL369:
 900:Lib/soes/src/esc_coe.c ****             }
 3709              		.loc 1 900 16 view .LVU1173
 3710 0074 0020     		movs	r0, #0
 3711 0076 FFF7FEFF 		bl	SDO_abort
 3712              	.LVL370:
 900:Lib/soes/src/esc_coe.c ****             }
 3713              		.loc 1 900 16 view .LVU1174
 3714 007a B4E0     		b	.L239
 3715              	.LVL371:
 3716              	.L227:
 802:Lib/soes/src/esc_coe.c ****             {
 3717              		.loc 1 802 13 is_stmt 1 view .LVU1175
 802:Lib/soes/src/esc_coe.c ****             {
 3718              		.loc 1 802 23 is_stmt 0 view .LVU1176
 3719 007c 5E4B     		ldr	r3, .L244
 3720 007e 93F80880 		ldrb	r8, [r3, #8]	@ zero_extendqisi2
 802:Lib/soes/src/esc_coe.c ****             {
 3721              		.loc 1 802 16 view .LVU1177
 3722 0082 18F0020F 		tst	r8, #2
 3723 0086 29D0     		beq	.L230
 804:Lib/soes/src/esc_coe.c ****                mbxdata = &(coesdo->size);
 3724              		.loc 1 804 16 is_stmt 1 view .LVU1178
 804:Lib/soes/src/esc_coe.c ****                mbxdata = &(coesdo->size);
 3725              		.loc 1 804 55 is_stmt 0 view .LVU1179
 3726 0088 C8F38108 		ubfx	r8, r8, #2, #2
 804:Lib/soes/src/esc_coe.c ****                mbxdata = &(coesdo->size);
 3727              		.loc 1 804 21 view .LVU1180
 3728 008c C8F10408 		rsb	r8, r8, #4
 3729              	.LVL372:
 805:Lib/soes/src/esc_coe.c ****             }
 3730              		.loc 1 805 16 is_stmt 1 view .LVU1181
 805:Lib/soes/src/esc_coe.c ****             }
 3731              		.loc 1 805 24 is_stmt 0 view .LVU1182
 3732 0090 03F10C09 		add	r9, r3, #12
 3733              	.LVL373:
 3734              	.L231:
 813:Lib/soes/src/esc_coe.c ****             if (actsize != size)
 3735              		.loc 1 813 13 is_stmt 1 view .LVU1183
 813:Lib/soes/src/esc_coe.c ****             if (actsize != size)
 3736              		.loc 1 813 23 is_stmt 0 view .LVU1184
 3737 0094 A388     		ldrh	r3, [r4, #4]
 3738 0096 0733     		adds	r3, r3, #7
 813:Lib/soes/src/esc_coe.c ****             if (actsize != size)
ARM GAS  /tmp/ccoG2CDz.s 			page 115


 3739              		.loc 1 813 21 view .LVU1185
 3740 0098 DA08     		lsrs	r2, r3, #3
 3741              	.LVL374:
 814:Lib/soes/src/esc_coe.c ****             {
 3742              		.loc 1 814 13 is_stmt 1 view .LVU1186
 814:Lib/soes/src/esc_coe.c ****             {
 3743              		.loc 1 814 16 is_stmt 0 view .LVU1187
 3744 009a B8EBD30F 		cmp	r8, r3, lsr #3
 3745 009e 2CD0     		beq	.L232
 3746              	.LBB13:
 820:Lib/soes/src/esc_coe.c ****                if (type == DTYPE_VISIBLE_STRING)
 3747              		.loc 1 820 16 is_stmt 1 view .LVU1188
 820:Lib/soes/src/esc_coe.c ****                if (type == DTYPE_VISIBLE_STRING)
 3748              		.loc 1 820 25 is_stmt 0 view .LVU1189
 3749 00a0 6388     		ldrh	r3, [r4, #2]
 3750              	.LVL375:
 821:Lib/soes/src/esc_coe.c ****                {
 3751              		.loc 1 821 16 is_stmt 1 view .LVU1190
 821:Lib/soes/src/esc_coe.c ****                {
 3752              		.loc 1 821 19 is_stmt 0 view .LVU1191
 3753 00a2 092B     		cmp	r3, #9
 3754 00a4 22D0     		beq	.L243
 826:Lib/soes/src/esc_coe.c ****                         (type != DTYPE_UNICODE_STRING) &&
 3755              		.loc 1 826 21 is_stmt 1 view .LVU1192
 826:Lib/soes/src/esc_coe.c ****                         (type != DTYPE_UNICODE_STRING) &&
 3756              		.loc 1 826 54 is_stmt 0 view .LVU1193
 3757 00a6 A3F10A02 		sub	r2, r3, #10
 3758              	.LVL376:
 826:Lib/soes/src/esc_coe.c ****                         (type != DTYPE_UNICODE_STRING) &&
 3759              		.loc 1 826 54 view .LVU1194
 3760 00aa 92B2     		uxth	r2, r2
 826:Lib/soes/src/esc_coe.c ****                         (type != DTYPE_UNICODE_STRING) &&
 3761              		.loc 1 826 24 view .LVU1195
 3762 00ac 012A     		cmp	r2, #1
 3763 00ae 24D9     		bls	.L232
 827:Lib/soes/src/esc_coe.c ****                         (type != DTYPE_ARRAY_OF_INT) &&
 3764              		.loc 1 827 56 view .LVU1196
 3765 00b0 B3F5187F 		cmp	r3, #608
 3766 00b4 21D0     		beq	.L232
 828:Lib/soes/src/esc_coe.c ****                         (type != DTYPE_ARRAY_OF_SINT) &&
 3767              		.loc 1 828 54 view .LVU1197
 3768 00b6 40F26122 		movw	r2, #609
 3769 00ba 9342     		cmp	r3, r2
 3770 00bc 1DD0     		beq	.L232
 829:Lib/soes/src/esc_coe.c ****                         (type != DTYPE_ARRAY_OF_DINT) &&
 3771              		.loc 1 829 55 view .LVU1198
 3772 00be 40F26222 		movw	r2, #610
 3773 00c2 9342     		cmp	r3, r2
 3774 00c4 19D0     		beq	.L232
 830:Lib/soes/src/esc_coe.c ****                         (type != DTYPE_ARRAY_OF_UDINT))
 3775              		.loc 1 830 55 view .LVU1199
 3776 00c6 40F26322 		movw	r2, #611
 3777 00ca 9342     		cmp	r3, r2
 3778 00cc 15D0     		beq	.L232
 833:Lib/soes/src/esc_coe.c ****                   return;
 3779              		.loc 1 833 19 is_stmt 1 view .LVU1200
 3780 00ce 4E4B     		ldr	r3, .L244+16
ARM GAS  /tmp/ccoG2CDz.s 			page 116


 3781              	.LVL377:
 833:Lib/soes/src/esc_coe.c ****                   return;
 3782              		.loc 1 833 19 is_stmt 0 view .LVU1201
 3783 00d0 3246     		mov	r2, r6
 3784 00d2 2946     		mov	r1, r5
 3785              	.LVL378:
 833:Lib/soes/src/esc_coe.c ****                   return;
 3786              		.loc 1 833 19 view .LVU1202
 3787 00d4 0020     		movs	r0, #0
 3788 00d6 FFF7FEFF 		bl	set_state_idle
 3789              	.LVL379:
 834:Lib/soes/src/esc_coe.c ****                }
 3790              		.loc 1 834 19 is_stmt 1 view .LVU1203
 3791 00da 8AE0     		b	.L223
 3792              	.LVL380:
 3793              	.L230:
 834:Lib/soes/src/esc_coe.c ****                }
 3794              		.loc 1 834 19 is_stmt 0 view .LVU1204
 3795              	.LBE13:
 810:Lib/soes/src/esc_coe.c ****                mbxdata = (&(coesdo->size)) + 1;
 3796              		.loc 1 810 16 is_stmt 1 view .LVU1205
 810:Lib/soes/src/esc_coe.c ****                mbxdata = (&(coesdo->size)) + 1;
 3797              		.loc 1 810 24 is_stmt 0 view .LVU1206
 3798 00dc 464B     		ldr	r3, .L244
 3799 00de D3F80C80 		ldr	r8, [r3, #12]	@ unaligned
 810:Lib/soes/src/esc_coe.c ****                mbxdata = (&(coesdo->size)) + 1;
 3800              		.loc 1 810 21 view .LVU1207
 3801 00e2 1FFA88F8 		uxth	r8, r8
 3802              	.LVL381:
 811:Lib/soes/src/esc_coe.c ****             }
 3803              		.loc 1 811 16 is_stmt 1 view .LVU1208
 811:Lib/soes/src/esc_coe.c ****             }
 3804              		.loc 1 811 24 is_stmt 0 view .LVU1209
 3805 00e6 03F11009 		add	r9, r3, #16
 3806 00ea D3E7     		b	.L231
 3807              	.LVL382:
 3808              	.L243:
 3809              	.LBB14:
 824:Lib/soes/src/esc_coe.c ****                }
 3810              		.loc 1 824 19 is_stmt 1 view .LVU1210
 824:Lib/soes/src/esc_coe.c ****                }
 3811              		.loc 1 824 39 is_stmt 0 view .LVU1211
 3812 00ec 2069     		ldr	r0, [r4, #16]
 824:Lib/soes/src/esc_coe.c ****                }
 3813              		.loc 1 824 19 view .LVU1212
 3814 00ee A2EB0802 		sub	r2, r2, r8
 3815              	.LVL383:
 824:Lib/soes/src/esc_coe.c ****                }
 3816              		.loc 1 824 19 view .LVU1213
 3817 00f2 0021     		movs	r1, #0
 3818              	.LVL384:
 824:Lib/soes/src/esc_coe.c ****                }
 3819              		.loc 1 824 19 view .LVU1214
 3820 00f4 4044     		add	r0, r0, r8
 3821 00f6 FFF7FEFF 		bl	memset
 3822              	.LVL385:
 3823              	.L232:
ARM GAS  /tmp/ccoG2CDz.s 			page 117


 824:Lib/soes/src/esc_coe.c ****                }
 3824              		.loc 1 824 19 view .LVU1215
 3825              	.LBE14:
 837:Lib/soes/src/esc_coe.c ****                   index,
 3826              		.loc 1 837 13 is_stmt 1 view .LVU1216
 837:Lib/soes/src/esc_coe.c ****                   index,
 3827              		.loc 1 837 21 is_stmt 0 view .LVU1217
 3828 00fa E388     		ldrh	r3, [r4, #6]
 3829 00fc 0093     		str	r3, [sp]
 3830 00fe 4346     		mov	r3, r8
 3831 0100 4A46     		mov	r2, r9
 3832 0102 3146     		mov	r1, r6
 3833 0104 2846     		mov	r0, r5
 3834 0106 FFF7FEFF 		bl	ESC_download_pre_objecthandler
 3835              	.LVL386:
 844:Lib/soes/src/esc_coe.c ****             {
 3836              		.loc 1 844 13 is_stmt 1 view .LVU1218
 844:Lib/soes/src/esc_coe.c ****             {
 3837              		.loc 1 844 16 is_stmt 0 view .LVU1219
 3838 010a 0346     		mov	r3, r0
 3839 010c 0028     		cmp	r0, #0
 3840 010e 50D1     		bne	.L235
 846:Lib/soes/src/esc_coe.c ****                      (size > (coesdo->mbxheader.length - COE_HEADERSIZE)))
 3841              		.loc 1 846 16 is_stmt 1 view .LVU1220
 846:Lib/soes/src/esc_coe.c ****                      (size > (coesdo->mbxheader.length - COE_HEADERSIZE)))
 3842              		.loc 1 846 19 is_stmt 0 view .LVU1221
 3843 0110 B8F1040F 		cmp	r8, #4
 3844 0114 15D9     		bls	.L236
 847:Lib/soes/src/esc_coe.c ****                {
 3845              		.loc 1 847 48 discriminator 1 view .LVU1222
 3846 0116 384B     		ldr	r3, .L244
 3847 0118 1B88     		ldrh	r3, [r3]	@ unaligned
 847:Lib/soes/src/esc_coe.c ****                {
 3848              		.loc 1 847 56 discriminator 1 view .LVU1223
 3849 011a 0A3B     		subs	r3, r3, #10
 846:Lib/soes/src/esc_coe.c ****                      (size > (coesdo->mbxheader.length - COE_HEADERSIZE)))
 3850              		.loc 1 846 31 discriminator 1 view .LVU1224
 3851 011c 4345     		cmp	r3, r8
 3852 011e 10D2     		bcs	.L236
 849:Lib/soes/src/esc_coe.c ****                   /* signal segmented transfer */
 3853              		.loc 1 849 19 is_stmt 1 view .LVU1225
 3854              	.LVL387:
 851:Lib/soes/src/esc_coe.c ****                   ESCvar.data = (objd + nsub)->data + size;
 3855              		.loc 1 851 19 view .LVU1226
 851:Lib/soes/src/esc_coe.c ****                   ESCvar.data = (objd + nsub)->data + size;
 3856              		.loc 1 851 36 is_stmt 0 view .LVU1227
 3857 0120 374A     		ldr	r2, .L244+8
 3858 0122 5021     		movs	r1, #80
 3859 0124 82F89110 		strb	r1, [r2, #145]
 852:Lib/soes/src/esc_coe.c ****                   ESCvar.index = index;
 3860              		.loc 1 852 19 is_stmt 1 view .LVU1228
 852:Lib/soes/src/esc_coe.c ****                   ESCvar.index = index;
 3861              		.loc 1 852 46 is_stmt 0 view .LVU1229
 3862 0128 2169     		ldr	r1, [r4, #16]
 852:Lib/soes/src/esc_coe.c ****                   ESCvar.index = index;
 3863              		.loc 1 852 53 view .LVU1230
 3864 012a 1944     		add	r1, r1, r3
ARM GAS  /tmp/ccoG2CDz.s 			page 118


 852:Lib/soes/src/esc_coe.c ****                   ESCvar.index = index;
 3865              		.loc 1 852 31 view .LVU1231
 3866 012c C2F89410 		str	r1, [r2, #148]
 853:Lib/soes/src/esc_coe.c ****                   ESCvar.subindex = subindex;
 3867              		.loc 1 853 19 is_stmt 1 view .LVU1232
 853:Lib/soes/src/esc_coe.c ****                   ESCvar.subindex = subindex;
 3868              		.loc 1 853 32 is_stmt 0 view .LVU1233
 3869 0130 A2F8A470 		strh	r7, [r2, #164]	@ movhi
 854:Lib/soes/src/esc_coe.c ****                   ESCvar.flags = (objd + nsub)->flags;
 3870              		.loc 1 854 19 is_stmt 1 view .LVU1234
 854:Lib/soes/src/esc_coe.c ****                   ESCvar.flags = (objd + nsub)->flags;
 3871              		.loc 1 854 35 is_stmt 0 view .LVU1235
 3872 0134 82F8A660 		strb	r6, [r2, #166]
 855:Lib/soes/src/esc_coe.c ****                }
 3873              		.loc 1 855 19 is_stmt 1 view .LVU1236
 855:Lib/soes/src/esc_coe.c ****                }
 3874              		.loc 1 855 47 is_stmt 0 view .LVU1237
 3875 0138 E188     		ldrh	r1, [r4, #6]
 855:Lib/soes/src/esc_coe.c ****                }
 3876              		.loc 1 855 32 view .LVU1238
 3877 013a A2F8A810 		strh	r1, [r2, #168]	@ movhi
 849:Lib/soes/src/esc_coe.c ****                   /* signal segmented transfer */
 3878              		.loc 1 849 24 view .LVU1239
 3879 013e 9846     		mov	r8, r3
 855:Lib/soes/src/esc_coe.c ****                }
 3880              		.loc 1 855 32 view .LVU1240
 3881 0140 03E0     		b	.L237
 3882              	.LVL388:
 3883              	.L236:
 859:Lib/soes/src/esc_coe.c ****                }
 3884              		.loc 1 859 19 is_stmt 1 view .LVU1241
 859:Lib/soes/src/esc_coe.c ****                }
 3885              		.loc 1 859 36 is_stmt 0 view .LVU1242
 3886 0142 2F4B     		ldr	r3, .L244+8
 3887 0144 0022     		movs	r2, #0
 3888 0146 83F89120 		strb	r2, [r3, #145]
 3889              	.L237:
 861:Lib/soes/src/esc_coe.c ****                MBXout = ESC_claimbuffer ();
 3890              		.loc 1 861 16 is_stmt 1 view .LVU1243
 3891 014a 4246     		mov	r2, r8
 3892 014c 2169     		ldr	r1, [r4, #16]
 3893 014e 4846     		mov	r0, r9
 3894              	.LVL389:
 861:Lib/soes/src/esc_coe.c ****                MBXout = ESC_claimbuffer ();
 3895              		.loc 1 861 16 is_stmt 0 view .LVU1244
 3896 0150 FFF7FEFF 		bl	copy2mbx
 3897              	.LVL390:
 862:Lib/soes/src/esc_coe.c ****                if (MBXout)
 3898              		.loc 1 862 16 is_stmt 1 view .LVU1245
 862:Lib/soes/src/esc_coe.c ****                if (MBXout)
 3899              		.loc 1 862 25 is_stmt 0 view .LVU1246
 3900 0154 FFF7FEFF 		bl	ESC_claimbuffer
 3901              	.LVL391:
 863:Lib/soes/src/esc_coe.c ****                {
 3902              		.loc 1 863 16 is_stmt 1 view .LVU1247
 863:Lib/soes/src/esc_coe.c ****                {
 3903              		.loc 1 863 19 is_stmt 0 view .LVU1248
ARM GAS  /tmp/ccoG2CDz.s 			page 119


 3904 0158 8046     		mov	r8, r0
 3905              	.LVL392:
 863:Lib/soes/src/esc_coe.c ****                {
 3906              		.loc 1 863 19 view .LVU1249
 3907 015a C8B1     		cbz	r0, .L238
 865:Lib/soes/src/esc_coe.c ****                   coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 3908              		.loc 1 865 19 is_stmt 1 view .LVU1250
 865:Lib/soes/src/esc_coe.c ****                   coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 3909              		.loc 1 865 54 is_stmt 0 view .LVU1251
 3910 015c 284B     		ldr	r3, .L244+8
 3911 015e DA6E     		ldr	r2, [r3, #108]
 865:Lib/soes/src/esc_coe.c ****                   coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 3912              		.loc 1 865 52 view .LVU1252
 3913 0160 02FB00F2 		mul	r2, r2, r0
 865:Lib/soes/src/esc_coe.c ****                   coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 3914              		.loc 1 865 26 view .LVU1253
 3915 0164 2449     		ldr	r1, .L244
 3916 0166 5318     		adds	r3, r2, r1
 3917              	.LVL393:
 866:Lib/soes/src/esc_coe.c ****                   coeres->mbxheader.mbxtype = MBXCOE;
 3918              		.loc 1 866 19 is_stmt 1 view .LVU1254
 866:Lib/soes/src/esc_coe.c ****                   coeres->mbxheader.mbxtype = MBXCOE;
 3919              		.loc 1 866 44 is_stmt 0 view .LVU1255
 3920 0168 0A20     		movs	r0, #10
 3921              	.LVL394:
 866:Lib/soes/src/esc_coe.c ****                   coeres->mbxheader.mbxtype = MBXCOE;
 3922              		.loc 1 866 44 view .LVU1256
 3923 016a 5052     		strh	r0, [r2, r1]	@ movhi
 867:Lib/soes/src/esc_coe.c ****                   coeres->coeheader.numberservice =
 3924              		.loc 1 867 19 is_stmt 1 view .LVU1257
 867:Lib/soes/src/esc_coe.c ****                   coeres->coeheader.numberservice =
 3925              		.loc 1 867 45 is_stmt 0 view .LVU1258
 3926 016c 5979     		ldrb	r1, [r3, #5]	@ zero_extendqisi2
 3927 016e 0322     		movs	r2, #3
 3928 0170 62F30301 		bfi	r1, r2, #0, #4
 3929 0174 5971     		strb	r1, [r3, #5]
 868:Lib/soes/src/esc_coe.c ****                         htoes ((0 & 0x01f) | (COE_SDORESPONSE << 12));
 3930              		.loc 1 868 19 is_stmt 1 view .LVU1259
 868:Lib/soes/src/esc_coe.c ****                         htoes ((0 & 0x01f) | (COE_SDORESPONSE << 12));
 3931              		.loc 1 868 51 is_stmt 0 view .LVU1260
 3932 0176 4FF44051 		mov	r1, #12288
 3933 017a D980     		strh	r1, [r3, #6]	@ movhi
 870:Lib/soes/src/esc_coe.c ****                   coeres->subindex = subindex;
 3934              		.loc 1 870 19 is_stmt 1 view .LVU1261
 870:Lib/soes/src/esc_coe.c ****                   coeres->subindex = subindex;
 3935              		.loc 1 870 33 is_stmt 0 view .LVU1262
 3936 017c A3F80970 		strh	r7, [r3, #9]	@ unaligned
 871:Lib/soes/src/esc_coe.c ****                   coeres->command = COE_COMMAND_DOWNLOADRESPONSE;
 3937              		.loc 1 871 19 is_stmt 1 view .LVU1263
 871:Lib/soes/src/esc_coe.c ****                   coeres->command = COE_COMMAND_DOWNLOADRESPONSE;
 3938              		.loc 1 871 36 is_stmt 0 view .LVU1264
 3939 0180 DE72     		strb	r6, [r3, #11]
 872:Lib/soes/src/esc_coe.c ****                   coeres->size = htoel (0);
 3940              		.loc 1 872 19 is_stmt 1 view .LVU1265
 872:Lib/soes/src/esc_coe.c ****                   coeres->size = htoel (0);
 3941              		.loc 1 872 35 is_stmt 0 view .LVU1266
 3942 0182 6021     		movs	r1, #96
ARM GAS  /tmp/ccoG2CDz.s 			page 120


 3943 0184 1972     		strb	r1, [r3, #8]
 873:Lib/soes/src/esc_coe.c ****                   MBXcontrol[MBXout].state = MBXstate_outreq;
 3944              		.loc 1 873 19 is_stmt 1 view .LVU1267
 873:Lib/soes/src/esc_coe.c ****                   MBXcontrol[MBXout].state = MBXstate_outreq;
 3945              		.loc 1 873 32 is_stmt 0 view .LVU1268
 3946 0186 0021     		movs	r1, #0
 3947 0188 D960     		str	r1, [r3, #12]
 874:Lib/soes/src/esc_coe.c ****                }
 3948              		.loc 1 874 19 is_stmt 1 view .LVU1269
 874:Lib/soes/src/esc_coe.c ****                }
 3949              		.loc 1 874 44 is_stmt 0 view .LVU1270
 3950 018a 204B     		ldr	r3, .L244+20
 3951              	.LVL395:
 874:Lib/soes/src/esc_coe.c ****                }
 3952              		.loc 1 874 44 view .LVU1271
 3953 018c 03F80820 		strb	r2, [r3, r8]
 3954              	.LVL396:
 3955              	.L238:
 876:Lib/soes/src/esc_coe.c ****                {
 3956              		.loc 1 876 16 is_stmt 1 view .LVU1272
 876:Lib/soes/src/esc_coe.c ****                {
 3957              		.loc 1 876 26 is_stmt 0 view .LVU1273
 3958 0190 1B4B     		ldr	r3, .L244+8
 3959 0192 93F89130 		ldrb	r3, [r3, #145]	@ zero_extendqisi2
 876:Lib/soes/src/esc_coe.c ****                {
 3960              		.loc 1 876 19 view .LVU1274
 3961 0196 33BB     		cbnz	r3, .L239
 879:Lib/soes/src/esc_coe.c ****                   if (abort != 0)
 3962              		.loc 1 879 19 is_stmt 1 view .LVU1275
 879:Lib/soes/src/esc_coe.c ****                   if (abort != 0)
 3963              		.loc 1 879 27 is_stmt 0 view .LVU1276
 3964 0198 E288     		ldrh	r2, [r4, #6]
 3965 019a 3146     		mov	r1, r6
 3966 019c 2846     		mov	r0, r5
 3967 019e FFF7FEFF 		bl	ESC_download_post_objecthandler
 3968              	.LVL397:
 880:Lib/soes/src/esc_coe.c ****                   {
 3969              		.loc 1 880 19 is_stmt 1 view .LVU1277
 880:Lib/soes/src/esc_coe.c ****                   {
 3970              		.loc 1 880 22 is_stmt 0 view .LVU1278
 3971 01a2 0346     		mov	r3, r0
 3972 01a4 F8B1     		cbz	r0, .L239
 882:Lib/soes/src/esc_coe.c ****                   }
 3973              		.loc 1 882 22 is_stmt 1 view .LVU1279
 3974 01a6 3246     		mov	r2, r6
 3975 01a8 2946     		mov	r1, r5
 3976 01aa 4046     		mov	r0, r8
 3977              	.LVL398:
 882:Lib/soes/src/esc_coe.c ****                   }
 3978              		.loc 1 882 22 is_stmt 0 view .LVU1280
 3979 01ac FFF7FEFF 		bl	SDO_abort
 3980              	.LVL399:
 882:Lib/soes/src/esc_coe.c ****                   }
 3981              		.loc 1 882 22 view .LVU1281
 3982 01b0 19E0     		b	.L239
 3983              	.LVL400:
 3984              	.L235:
ARM GAS  /tmp/ccoG2CDz.s 			page 121


 888:Lib/soes/src/esc_coe.c ****             }
 3985              		.loc 1 888 16 is_stmt 1 view .LVU1282
 3986 01b2 3246     		mov	r2, r6
 3987 01b4 2946     		mov	r1, r5
 3988 01b6 0020     		movs	r0, #0
 3989              	.LVL401:
 888:Lib/soes/src/esc_coe.c ****             }
 3990              		.loc 1 888 16 is_stmt 0 view .LVU1283
 3991 01b8 FFF7FEFF 		bl	SDO_abort
 3992              	.LVL402:
 888:Lib/soes/src/esc_coe.c ****             }
 3993              		.loc 1 888 16 view .LVU1284
 3994 01bc 13E0     		b	.L239
 3995              	.LVL403:
 3996              	.L242:
 895:Lib/soes/src/esc_coe.c **** 
 3997              		.loc 1 895 16 is_stmt 1 view .LVU1285
 3998 01be 144B     		ldr	r3, .L244+24
 3999 01c0 3246     		mov	r2, r6
 4000              	.LVL404:
 895:Lib/soes/src/esc_coe.c **** 
 4001              		.loc 1 895 16 is_stmt 0 view .LVU1286
 4002 01c2 2946     		mov	r1, r5
 4003              	.LVL405:
 895:Lib/soes/src/esc_coe.c **** 
 4004              		.loc 1 895 16 view .LVU1287
 4005 01c4 0020     		movs	r0, #0
 4006 01c6 FFF7FEFF 		bl	SDO_abort
 4007              	.LVL406:
 895:Lib/soes/src/esc_coe.c **** 
 4008              		.loc 1 895 16 view .LVU1288
 4009 01ca 0CE0     		b	.L239
 4010              	.LVL407:
 4011              	.L225:
 895:Lib/soes/src/esc_coe.c **** 
 4012              		.loc 1 895 16 view .LVU1289
 4013              	.LBE12:
 906:Lib/soes/src/esc_coe.c ****       }
 4014              		.loc 1 906 10 is_stmt 1 view .LVU1290
 4015 01cc 114B     		ldr	r3, .L244+28
 4016 01ce 3246     		mov	r2, r6
 4017 01d0 2946     		mov	r1, r5
 4018 01d2 0020     		movs	r0, #0
 4019 01d4 FFF7FEFF 		bl	SDO_abort
 4020              	.LVL408:
 4021 01d8 05E0     		b	.L239
 4022              	.LVL409:
 4023              	.L224:
 911:Lib/soes/src/esc_coe.c ****    }
 4024              		.loc 1 911 7 view .LVU1291
 4025 01da 0F4B     		ldr	r3, .L244+32
 4026 01dc 3246     		mov	r2, r6
 4027 01de 2946     		mov	r1, r5
 4028 01e0 0020     		movs	r0, #0
 4029              	.LVL410:
 911:Lib/soes/src/esc_coe.c ****    }
 4030              		.loc 1 911 7 is_stmt 0 view .LVU1292
ARM GAS  /tmp/ccoG2CDz.s 			page 122


 4031 01e2 FFF7FEFF 		bl	SDO_abort
 4032              	.LVL411:
 4033              	.L239:
 913:Lib/soes/src/esc_coe.c ****    ESCvar.xoe = 0;
 4034              		.loc 1 913 4 is_stmt 1 view .LVU1293
 913:Lib/soes/src/esc_coe.c ****    ESCvar.xoe = 0;
 4035              		.loc 1 913 24 is_stmt 0 view .LVU1294
 4036 01e6 0023     		movs	r3, #0
 4037 01e8 084A     		ldr	r2, .L244+20
 4038 01ea 1370     		strb	r3, [r2]
 914:Lib/soes/src/esc_coe.c **** }
 4039              		.loc 1 914 4 is_stmt 1 view .LVU1295
 914:Lib/soes/src/esc_coe.c **** }
 4040              		.loc 1 914 15 is_stmt 0 view .LVU1296
 4041 01ec 044A     		ldr	r2, .L244+8
 4042 01ee 82F88E30 		strb	r3, [r2, #142]
 4043              	.L223:
 915:Lib/soes/src/esc_coe.c **** 
 4044              		.loc 1 915 1 view .LVU1297
 4045 01f2 03B0     		add	sp, sp, #12
 4046              		.cfi_def_cfa_offset 28
 4047              		@ sp needed
 4048 01f4 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 4049              	.LVL412:
 4050              	.L245:
 915:Lib/soes/src/esc_coe.c **** 
 4051              		.loc 1 915 1 view .LVU1298
 4052              		.align	2
 4053              	.L244:
 4054 01f8 00000000 		.word	MBX
 4055 01fc 00000000 		.word	SDOobjects
 4056 0200 00000000 		.word	ESCvar
 4057 0204 22000008 		.word	134217762
 4058 0208 10000706 		.word	101122064
 4059 020c 00000000 		.word	MBXcontrol
 4060 0210 02000106 		.word	100728834
 4061 0214 11000906 		.word	101253137
 4062 0218 00000206 		.word	100794368
 4063              		.cfi_endproc
 4064              	.LFE12:
 4066              		.section	.text.SDO_downloadsegment,"ax",%progbits
 4067              		.align	1
 4068              		.syntax unified
 4069              		.thumb
 4070              		.thumb_func
 4071              		.fpu fpv4-sp-d16
 4073              	SDO_downloadsegment:
 4074              	.LFB14:
1037:Lib/soes/src/esc_coe.c ****    _COEsdo *coesdo = (_COEsdo *) &MBX[0];
 4075              		.loc 1 1037 1 is_stmt 1 view -0
 4076              		.cfi_startproc
 4077              		@ args = 0, pretend = 0, frame = 0
 4078              		@ frame_needed = 0, uses_anonymous_args = 0
 4079 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 4080              		.cfi_def_cfa_offset 24
 4081              		.cfi_offset 4, -24
 4082              		.cfi_offset 5, -20
ARM GAS  /tmp/ccoG2CDz.s 			page 123


 4083              		.cfi_offset 6, -16
 4084              		.cfi_offset 7, -12
 4085              		.cfi_offset 8, -8
 4086              		.cfi_offset 14, -4
 4087 0004 82B0     		sub	sp, sp, #8
 4088              		.cfi_def_cfa_offset 32
1038:Lib/soes/src/esc_coe.c ****    uint8_t MBXout = ESC_claimbuffer ();
 4089              		.loc 1 1038 4 view .LVU1300
 4090              	.LVL413:
1039:Lib/soes/src/esc_coe.c ****    if (MBXout)
 4091              		.loc 1 1039 4 view .LVU1301
1039:Lib/soes/src/esc_coe.c ****    if (MBXout)
 4092              		.loc 1 1039 21 is_stmt 0 view .LVU1302
 4093 0006 FFF7FEFF 		bl	ESC_claimbuffer
 4094              	.LVL414:
1040:Lib/soes/src/esc_coe.c ****    {
 4095              		.loc 1 1040 4 is_stmt 1 view .LVU1303
1040:Lib/soes/src/esc_coe.c ****    {
 4096              		.loc 1 1040 7 is_stmt 0 view .LVU1304
 4097 000a 0028     		cmp	r0, #0
 4098 000c 00F08C80 		beq	.L247
 4099 0010 0646     		mov	r6, r0
 4100              	.LBB15:
1042:Lib/soes/src/esc_coe.c ****       uint32_t size = coesdo->mbxheader.length - 3U;
 4101              		.loc 1 1042 7 is_stmt 1 view .LVU1305
1042:Lib/soes/src/esc_coe.c ****       uint32_t size = coesdo->mbxheader.length - 3U;
 4102              		.loc 1 1042 51 is_stmt 0 view .LVU1306
 4103 0012 4A4B     		ldr	r3, .L259
 4104 0014 D86E     		ldr	r0, [r3, #108]
 4105              	.LVL415:
1042:Lib/soes/src/esc_coe.c ****       uint32_t size = coesdo->mbxheader.length - 3U;
 4106              		.loc 1 1042 16 view .LVU1307
 4107 0016 4A4B     		ldr	r3, .L259+4
 4108 0018 00FB0630 		mla	r0, r0, r6, r3
 4109              	.LVL416:
1043:Lib/soes/src/esc_coe.c ****       if (size == 7)
 4110              		.loc 1 1043 7 is_stmt 1 view .LVU1308
1043:Lib/soes/src/esc_coe.c ****       if (size == 7)
 4111              		.loc 1 1043 40 is_stmt 0 view .LVU1309
 4112 001c 1B88     		ldrh	r3, [r3]	@ unaligned
1043:Lib/soes/src/esc_coe.c ****       if (size == 7)
 4113              		.loc 1 1043 16 view .LVU1310
 4114 001e DC1E     		subs	r4, r3, #3
 4115              	.LVL417:
1044:Lib/soes/src/esc_coe.c ****       {
 4116              		.loc 1 1044 7 is_stmt 1 view .LVU1311
1044:Lib/soes/src/esc_coe.c ****       {
 4117              		.loc 1 1044 10 is_stmt 0 view .LVU1312
 4118 0020 0A2B     		cmp	r3, #10
 4119 0022 5BD0     		beq	.L257
 4120              	.L248:
1048:Lib/soes/src/esc_coe.c ****       uint8_t command2 = (coesdo->command & COE_TOGGLEBIT);  /* copy toggle bit */
 4121              		.loc 1 1048 7 is_stmt 1 view .LVU1313
 4122              	.LVL418:
1049:Lib/soes/src/esc_coe.c ****       command |= command2;
 4123              		.loc 1 1049 7 view .LVU1314
1049:Lib/soes/src/esc_coe.c ****       command |= command2;
ARM GAS  /tmp/ccoG2CDz.s 			page 124


 4124              		.loc 1 1049 33 is_stmt 0 view .LVU1315
 4125 0024 464D     		ldr	r5, .L259+4
 4126 0026 2A7A     		ldrb	r2, [r5, #8]	@ zero_extendqisi2
1049:Lib/soes/src/esc_coe.c ****       command |= command2;
 4127              		.loc 1 1049 15 view .LVU1316
 4128 0028 02F01002 		and	r2, r2, #16
 4129              	.LVL419:
1050:Lib/soes/src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE, command, 0, 0);
 4130              		.loc 1 1050 7 is_stmt 1 view .LVU1317
1051:Lib/soes/src/esc_coe.c **** 
 4131              		.loc 1 1051 7 view .LVU1318
 4132 002c 0023     		movs	r3, #0
 4133 002e 0093     		str	r3, [sp]
 4134 0030 42F02002 		orr	r2, r2, #32
 4135              	.LVL420:
1051:Lib/soes/src/esc_coe.c **** 
 4136              		.loc 1 1051 7 is_stmt 0 view .LVU1319
 4137 0034 0321     		movs	r1, #3
 4138 0036 FFF7FEFF 		bl	init_coesdo
 4139              	.LVL421:
1053:Lib/soes/src/esc_coe.c ****       copy2mbx (mbxdata, ESCvar.data, size);
 4140              		.loc 1 1053 7 is_stmt 1 view .LVU1320
1054:Lib/soes/src/esc_coe.c **** 
 4141              		.loc 1 1054 7 view .LVU1321
 4142 003a 2246     		mov	r2, r4
 4143 003c 3F4B     		ldr	r3, .L259
 4144 003e D3F89410 		ldr	r1, [r3, #148]
 4145 0042 05F10900 		add	r0, r5, #9
 4146 0046 FFF7FEFF 		bl	copy2mbx
 4147              	.LVL422:
1056:Lib/soes/src/esc_coe.c ****       {
 4148              		.loc 1 1056 7 view .LVU1322
1056:Lib/soes/src/esc_coe.c ****       {
 4149              		.loc 1 1056 17 is_stmt 0 view .LVU1323
 4150 004a 2B7A     		ldrb	r3, [r5, #8]	@ zero_extendqisi2
1056:Lib/soes/src/esc_coe.c ****       {
 4151              		.loc 1 1056 10 view .LVU1324
 4152 004c 13F0010F 		tst	r3, #1
 4153 0050 5CD0     		beq	.L249
 4154              	.LBB16:
1058:Lib/soes/src/esc_coe.c ****          {
 4155              		.loc 1 1058 10 is_stmt 1 view .LVU1325
1058:Lib/soes/src/esc_coe.c ****          {
 4156              		.loc 1 1058 19 is_stmt 0 view .LVU1326
 4157 0052 3A4B     		ldr	r3, .L259
 4158 0054 B3F8A830 		ldrh	r3, [r3, #168]
1058:Lib/soes/src/esc_coe.c ****          {
 4159              		.loc 1 1058 12 view .LVU1327
 4160 0058 B3F5004F 		cmp	r3, #32768
 4161 005c 23D1     		bne	.L250
 4162              	.LBB17:
1060:Lib/soes/src/esc_coe.c ****             int16_t nsub;
 4163              		.loc 1 1060 13 is_stmt 1 view .LVU1328
1061:Lib/soes/src/esc_coe.c **** 
 4164              		.loc 1 1061 13 view .LVU1329
1063:Lib/soes/src/esc_coe.c ****             {
 4165              		.loc 1 1063 13 view .LVU1330
ARM GAS  /tmp/ccoG2CDz.s 			page 125


1063:Lib/soes/src/esc_coe.c ****             {
 4166              		.loc 1 1063 22 is_stmt 0 view .LVU1331
 4167 005e 374B     		ldr	r3, .L259
 4168 0060 D3F89C50 		ldr	r5, [r3, #156]
1063:Lib/soes/src/esc_coe.c ****             {
 4169              		.loc 1 1063 37 view .LVU1332
 4170 0064 D3F8A030 		ldr	r3, [r3, #160]
1063:Lib/soes/src/esc_coe.c ****             {
 4171              		.loc 1 1063 48 view .LVU1333
 4172 0068 1C44     		add	r4, r4, r3
 4173              	.LVL423:
1063:Lib/soes/src/esc_coe.c ****             {
 4174              		.loc 1 1063 15 view .LVU1334
 4175 006a A542     		cmp	r5, r4
 4176 006c 3DD8     		bhi	.L258
1069:Lib/soes/src/esc_coe.c ****             nsub = SDO_findsubindex (nidx, ESCvar.subindex);
 4177              		.loc 1 1069 13 is_stmt 1 view .LVU1335
1069:Lib/soes/src/esc_coe.c ****             nsub = SDO_findsubindex (nidx, ESCvar.subindex);
 4178              		.loc 1 1069 20 is_stmt 0 view .LVU1336
 4179 006e 334F     		ldr	r7, .L259
 4180 0070 B7F8A480 		ldrh	r8, [r7, #164]
 4181 0074 4046     		mov	r0, r8
 4182 0076 FFF7FEFF 		bl	SDO_findobject
 4183              	.LVL424:
 4184 007a 0446     		mov	r4, r0
 4185              	.LVL425:
1070:Lib/soes/src/esc_coe.c **** 
 4186              		.loc 1 1070 13 is_stmt 1 view .LVU1337
1070:Lib/soes/src/esc_coe.c **** 
 4187              		.loc 1 1070 20 is_stmt 0 view .LVU1338
 4188 007c 97F8A670 		ldrb	r7, [r7, #166]	@ zero_extendqisi2
 4189 0080 3946     		mov	r1, r7
 4190 0082 FFF7FEFF 		bl	SDO_findsubindex
 4191              	.LVL426:
1070:Lib/soes/src/esc_coe.c **** 
 4192              		.loc 1 1070 20 view .LVU1339
 4193 0086 0246     		mov	r2, r0
 4194              	.LVL427:
1072:Lib/soes/src/esc_coe.c ****             {
 4195              		.loc 1 1072 13 is_stmt 1 view .LVU1340
1072:Lib/soes/src/esc_coe.c ****             {
 4196              		.loc 1 1072 16 is_stmt 0 view .LVU1341
 4197 0088 002C     		cmp	r4, #0
 4198 008a 38DB     		blt	.L253
1072:Lib/soes/src/esc_coe.c ****             {
 4199              		.loc 1 1072 28 discriminator 1 view .LVU1342
 4200 008c 0028     		cmp	r0, #0
 4201 008e 36DB     		blt	.L253
1079:Lib/soes/src/esc_coe.c ****             complete_access_subindex_loop(objd,
 4202              		.loc 1 1079 13 is_stmt 1 view .LVU1343
1079:Lib/soes/src/esc_coe.c ****             complete_access_subindex_loop(objd,
 4203              		.loc 1 1079 26 is_stmt 0 view .LVU1344
 4204 0090 2C48     		ldr	r0, .L259+8
 4205              	.LVL428:
1079:Lib/soes/src/esc_coe.c ****             complete_access_subindex_loop(objd,
 4206              		.loc 1 1079 26 view .LVU1345
 4207 0092 00EB0410 		add	r0, r0, r4, lsl #4
ARM GAS  /tmp/ccoG2CDz.s 			page 126


 4208              	.LVL429:
1080:Lib/soes/src/esc_coe.c ****                   nidx,
 4209              		.loc 1 1080 13 is_stmt 1 view .LVU1346
 4210 0096 0195     		str	r5, [sp, #4]
 4211 0098 0123     		movs	r3, #1
 4212 009a 0093     		str	r3, [sp]
 4213 009c 2A4B     		ldr	r3, .L259+12
 4214 009e 2146     		mov	r1, r4
 4215 00a0 C068     		ldr	r0, [r0, #12]
 4216              	.LVL430:
1080:Lib/soes/src/esc_coe.c ****                   nidx,
 4217              		.loc 1 1080 13 is_stmt 0 view .LVU1347
 4218 00a2 FFF7FEFF 		bl	complete_access_subindex_loop
 4219              	.LVL431:
 4220              	.L250:
1080:Lib/soes/src/esc_coe.c ****                   nidx,
 4221              		.loc 1 1080 13 view .LVU1348
 4222              	.LBE17:
1089:Lib/soes/src/esc_coe.c ****          ESCvar.frags = 0;
 4223              		.loc 1 1089 10 is_stmt 1 view .LVU1349
1089:Lib/soes/src/esc_coe.c ****          ESCvar.frags = 0;
 4224              		.loc 1 1089 27 is_stmt 0 view .LVU1350
 4225 00a6 254B     		ldr	r3, .L259
 4226 00a8 0022     		movs	r2, #0
 4227 00aa 83F89120 		strb	r2, [r3, #145]
1090:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft = 0;
 4228              		.loc 1 1090 10 is_stmt 1 view .LVU1351
1090:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft = 0;
 4229              		.loc 1 1090 23 is_stmt 0 view .LVU1352
 4230 00ae C3F89C20 		str	r2, [r3, #156]
1091:Lib/soes/src/esc_coe.c ****          /* external object write handler */
 4231              		.loc 1 1091 10 is_stmt 1 view .LVU1353
1091:Lib/soes/src/esc_coe.c ****          /* external object write handler */
 4232              		.loc 1 1091 27 is_stmt 0 view .LVU1354
 4233 00b2 C3F8A020 		str	r2, [r3, #160]
1093:Lib/soes/src/esc_coe.c ****                (ESCvar.index, ESCvar.subindex, ESCvar.flags);
 4234              		.loc 1 1093 10 is_stmt 1 view .LVU1355
1093:Lib/soes/src/esc_coe.c ****                (ESCvar.index, ESCvar.subindex, ESCvar.flags);
 4235              		.loc 1 1093 27 is_stmt 0 view .LVU1356
 4236 00b6 B3F8A820 		ldrh	r2, [r3, #168]
 4237 00ba 93F8A610 		ldrb	r1, [r3, #166]	@ zero_extendqisi2
 4238 00be B3F8A400 		ldrh	r0, [r3, #164]
 4239 00c2 FFF7FEFF 		bl	ESC_download_post_objecthandler
 4240              	.LVL432:
1095:Lib/soes/src/esc_coe.c ****          {
 4241              		.loc 1 1095 10 is_stmt 1 view .LVU1357
1095:Lib/soes/src/esc_coe.c ****          {
 4242              		.loc 1 1095 13 is_stmt 0 view .LVU1358
 4243 00c6 0346     		mov	r3, r0
 4244 00c8 58B3     		cbz	r0, .L255
1097:Lib/soes/src/esc_coe.c ****             return;
 4245              		.loc 1 1097 13 is_stmt 1 view .LVU1359
 4246 00ca 1C49     		ldr	r1, .L259
 4247 00cc 91F8A620 		ldrb	r2, [r1, #166]	@ zero_extendqisi2
 4248 00d0 B1F8A410 		ldrh	r1, [r1, #164]
 4249 00d4 3046     		mov	r0, r6
 4250              	.LVL433:
ARM GAS  /tmp/ccoG2CDz.s 			page 127


1097:Lib/soes/src/esc_coe.c ****             return;
 4251              		.loc 1 1097 13 is_stmt 0 view .LVU1360
 4252 00d6 FFF7FEFF 		bl	set_state_idle
 4253              	.LVL434:
1098:Lib/soes/src/esc_coe.c ****          }
 4254              		.loc 1 1098 13 is_stmt 1 view .LVU1361
 4255 00da 2BE0     		b	.L246
 4256              	.LVL435:
 4257              	.L257:
1098:Lib/soes/src/esc_coe.c ****          }
 4258              		.loc 1 1098 13 is_stmt 0 view .LVU1362
 4259              	.LBE16:
1046:Lib/soes/src/esc_coe.c ****       }
 4260              		.loc 1 1046 10 is_stmt 1 view .LVU1363
1046:Lib/soes/src/esc_coe.c ****       }
 4261              		.loc 1 1046 29 is_stmt 0 view .LVU1364
 4262 00dc 184B     		ldr	r3, .L259+4
 4263 00de 1C7A     		ldrb	r4, [r3, #8]	@ zero_extendqisi2
 4264              	.LVL436:
1046:Lib/soes/src/esc_coe.c ****       }
 4265              		.loc 1 1046 19 view .LVU1365
 4266 00e0 6FEA5404 		mvn	r4, r4, lsr #1
1046:Lib/soes/src/esc_coe.c ****       }
 4267              		.loc 1 1046 15 view .LVU1366
 4268 00e4 04F00704 		and	r4, r4, #7
 4269              	.LVL437:
1046:Lib/soes/src/esc_coe.c ****       }
 4270              		.loc 1 1046 15 view .LVU1367
 4271 00e8 9CE7     		b	.L248
 4272              	.LVL438:
 4273              	.L258:
 4274              	.LBB19:
 4275              	.LBB18:
1065:Lib/soes/src/esc_coe.c ****                return;
 4276              		.loc 1 1065 16 is_stmt 1 view .LVU1368
 4277 00ea 1449     		ldr	r1, .L259
 4278 00ec 174B     		ldr	r3, .L259+16
 4279 00ee 91F8A620 		ldrb	r2, [r1, #166]	@ zero_extendqisi2
 4280 00f2 B1F8A410 		ldrh	r1, [r1, #164]
 4281 00f6 0020     		movs	r0, #0
 4282 00f8 FFF7FEFF 		bl	set_state_idle
 4283              	.LVL439:
1066:Lib/soes/src/esc_coe.c ****             }
 4284              		.loc 1 1066 16 view .LVU1369
 4285 00fc 1AE0     		b	.L246
 4286              	.LVL440:
 4287              	.L253:
1074:Lib/soes/src/esc_coe.c ****                return;
 4288              		.loc 1 1074 16 view .LVU1370
 4289 00fe 144B     		ldr	r3, .L259+20
 4290 0100 3A46     		mov	r2, r7
 4291 0102 4146     		mov	r1, r8
 4292 0104 0020     		movs	r0, #0
 4293              	.LVL441:
1074:Lib/soes/src/esc_coe.c ****                return;
 4294              		.loc 1 1074 16 is_stmt 0 view .LVU1371
 4295 0106 FFF7FEFF 		bl	set_state_idle
ARM GAS  /tmp/ccoG2CDz.s 			page 128


 4296              	.LVL442:
1075:Lib/soes/src/esc_coe.c ****             }
 4297              		.loc 1 1075 16 is_stmt 1 view .LVU1372
 4298 010a 13E0     		b	.L246
 4299              	.LVL443:
 4300              	.L249:
1075:Lib/soes/src/esc_coe.c ****             }
 4301              		.loc 1 1075 16 is_stmt 0 view .LVU1373
 4302              	.LBE18:
 4303              	.LBE19:
1104:Lib/soes/src/esc_coe.c ****          /* number of bytes done */
 4304              		.loc 1 1104 10 is_stmt 1 view .LVU1374
1104:Lib/soes/src/esc_coe.c ****          /* number of bytes done */
 4305              		.loc 1 1104 22 is_stmt 0 view .LVU1375
 4306 010c 0B4B     		ldr	r3, .L259
 4307 010e D3F89420 		ldr	r2, [r3, #148]
 4308 0112 2244     		add	r2, r2, r4
 4309 0114 C3F89420 		str	r2, [r3, #148]
1106:Lib/soes/src/esc_coe.c ****       }
 4310              		.loc 1 1106 10 is_stmt 1 view .LVU1376
1106:Lib/soes/src/esc_coe.c ****       }
 4311              		.loc 1 1106 27 is_stmt 0 view .LVU1377
 4312 0118 D3F8A020 		ldr	r2, [r3, #160]
 4313 011c 2244     		add	r2, r2, r4
 4314 011e C3F8A020 		str	r2, [r3, #160]
 4315              	.LVL444:
 4316              	.L255:
1109:Lib/soes/src/esc_coe.c ****    }
 4317              		.loc 1 1109 7 is_stmt 1 view .LVU1378
1109:Lib/soes/src/esc_coe.c ****    }
 4318              		.loc 1 1109 32 is_stmt 0 view .LVU1379
 4319 0122 0C4B     		ldr	r3, .L259+24
 4320 0124 0322     		movs	r2, #3
 4321 0126 9A55     		strb	r2, [r3, r6]
 4322              	.LVL445:
 4323              	.L247:
1109:Lib/soes/src/esc_coe.c ****    }
 4324              		.loc 1 1109 32 view .LVU1380
 4325              	.LBE15:
1112:Lib/soes/src/esc_coe.c **** }
 4326              		.loc 1 1112 4 is_stmt 1 view .LVU1381
 4327 0128 0023     		movs	r3, #0
 4328 012a 1A46     		mov	r2, r3
 4329 012c 1946     		mov	r1, r3
 4330 012e 1846     		mov	r0, r3
 4331 0130 FFF7FEFF 		bl	set_state_idle
 4332              	.LVL446:
 4333              	.L246:
1113:Lib/soes/src/esc_coe.c **** 
 4334              		.loc 1 1113 1 is_stmt 0 view .LVU1382
 4335 0134 02B0     		add	sp, sp, #8
 4336              		.cfi_def_cfa_offset 24
 4337              		@ sp needed
 4338 0136 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 4339              	.L260:
 4340 013a 00BF     		.align	2
 4341              	.L259:
ARM GAS  /tmp/ccoG2CDz.s 			page 129


 4342 013c 00000000 		.word	ESCvar
 4343 0140 00000000 		.word	MBX
 4344 0144 00000000 		.word	SDOobjects
 4345 0148 EA000000 		.word	ESCvar+234
 4346 014c 10000706 		.word	101122064
 4347 0150 00000206 		.word	100794368
 4348 0154 00000000 		.word	MBXcontrol
 4349              		.cfi_endproc
 4350              	.LFE14:
 4352              		.section	.text.SDO_getod,"ax",%progbits
 4353              		.align	1
 4354              		.syntax unified
 4355              		.thumb
 4356              		.thumb_func
 4357              		.fpu fpv4-sp-d16
 4359              	SDO_getod:
 4360              	.LFB18:
1290:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
 4361              		.loc 1 1290 1 is_stmt 1 view -0
 4362              		.cfi_startproc
 4363              		@ args = 0, pretend = 0, frame = 0
 4364              		@ frame_needed = 0, uses_anonymous_args = 0
 4365 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 4366              		.cfi_def_cfa_offset 32
 4367              		.cfi_offset 3, -32
 4368              		.cfi_offset 4, -28
 4369              		.cfi_offset 5, -24
 4370              		.cfi_offset 6, -20
 4371              		.cfi_offset 7, -16
 4372              		.cfi_offset 8, -12
 4373              		.cfi_offset 9, -8
 4374              		.cfi_offset 14, -4
1291:Lib/soes/src/esc_coe.c ****    uint16_t index;
 4375              		.loc 1 1291 4 view .LVU1384
1292:Lib/soes/src/esc_coe.c ****    int32_t nidx;
 4376              		.loc 1 1292 4 view .LVU1385
1293:Lib/soes/src/esc_coe.c ****    uint8_t *d;
 4377              		.loc 1 1293 4 view .LVU1386
1294:Lib/soes/src/esc_coe.c ****    const uint8_t *s;
 4378              		.loc 1 1294 4 view .LVU1387
1295:Lib/soes/src/esc_coe.c ****    uint8_t n = 0;
 4379              		.loc 1 1295 4 view .LVU1388
1296:Lib/soes/src/esc_coe.c ****    _COEobjdesc *coer, *coel;
 4380              		.loc 1 1296 4 view .LVU1389
 4381              	.LVL447:
1297:Lib/soes/src/esc_coe.c ****    coer = (_COEobjdesc *) &MBX[0];
 4382              		.loc 1 1297 4 view .LVU1390
1298:Lib/soes/src/esc_coe.c ****    index = etohs (coer->index);
 4383              		.loc 1 1298 4 view .LVU1391
1299:Lib/soes/src/esc_coe.c ****    nidx = SDO_findobject (index);
 4384              		.loc 1 1299 4 view .LVU1392
1299:Lib/soes/src/esc_coe.c ****    nidx = SDO_findobject (index);
 4385              		.loc 1 1299 10 is_stmt 0 view .LVU1393
 4386 0004 444B     		ldr	r3, .L273
 4387 0006 B3F80C90 		ldrh	r9, [r3, #12]	@ unaligned
 4388              	.LVL448:
1300:Lib/soes/src/esc_coe.c ****    if (nidx >= 0)
ARM GAS  /tmp/ccoG2CDz.s 			page 130


 4389              		.loc 1 1300 4 is_stmt 1 view .LVU1394
1300:Lib/soes/src/esc_coe.c ****    if (nidx >= 0)
 4390              		.loc 1 1300 11 is_stmt 0 view .LVU1395
 4391 000a 1FFA89F0 		uxth	r0, r9
 4392 000e FFF7FEFF 		bl	SDO_findobject
 4393              	.LVL449:
1301:Lib/soes/src/esc_coe.c ****    {
 4394              		.loc 1 1301 4 is_stmt 1 view .LVU1396
1301:Lib/soes/src/esc_coe.c ****    {
 4395              		.loc 1 1301 7 is_stmt 0 view .LVU1397
 4396 0012 B0F10008 		subs	r8, r0, #0
 4397 0016 7ADB     		blt	.L262
1303:Lib/soes/src/esc_coe.c ****       if (MBXout)
 4398              		.loc 1 1303 7 is_stmt 1 view .LVU1398
1303:Lib/soes/src/esc_coe.c ****       if (MBXout)
 4399              		.loc 1 1303 16 is_stmt 0 view .LVU1399
 4400 0018 FFF7FEFF 		bl	ESC_claimbuffer
 4401              	.LVL450:
1304:Lib/soes/src/esc_coe.c ****       {
 4402              		.loc 1 1304 7 is_stmt 1 view .LVU1400
1304:Lib/soes/src/esc_coe.c ****       {
 4403              		.loc 1 1304 10 is_stmt 0 view .LVU1401
 4404 001c 0546     		mov	r5, r0
 4405 001e 0028     		cmp	r0, #0
 4406 0020 78D0     		beq	.L261
1306:Lib/soes/src/esc_coe.c ****          coel->mbxheader.mbxtype = MBXCOE;
 4407              		.loc 1 1306 10 is_stmt 1 view .LVU1402
1306:Lib/soes/src/esc_coe.c ****          coel->mbxheader.mbxtype = MBXCOE;
 4408              		.loc 1 1306 47 is_stmt 0 view .LVU1403
 4409 0022 3E4B     		ldr	r3, .L273+4
 4410 0024 DC6E     		ldr	r4, [r3, #108]
1306:Lib/soes/src/esc_coe.c ****          coel->mbxheader.mbxtype = MBXCOE;
 4411              		.loc 1 1306 45 view .LVU1404
 4412 0026 00FB04F4 		mul	r4, r0, r4
1306:Lib/soes/src/esc_coe.c ****          coel->mbxheader.mbxtype = MBXCOE;
 4413              		.loc 1 1306 15 view .LVU1405
 4414 002a 3B4E     		ldr	r6, .L273
 4415 002c A719     		adds	r7, r4, r6
 4416              	.LVL451:
1307:Lib/soes/src/esc_coe.c ****          coel->coeheader.numberservice =
 4417              		.loc 1 1307 10 is_stmt 1 view .LVU1406
1307:Lib/soes/src/esc_coe.c ****          coel->coeheader.numberservice =
 4418              		.loc 1 1307 34 is_stmt 0 view .LVU1407
 4419 002e 7B79     		ldrb	r3, [r7, #5]	@ zero_extendqisi2
 4420 0030 0322     		movs	r2, #3
 4421 0032 62F30303 		bfi	r3, r2, #0, #4
 4422 0036 7B71     		strb	r3, [r7, #5]
1308:Lib/soes/src/esc_coe.c ****             htoes (COE_SDOINFORMATION << 12);
 4423              		.loc 1 1308 10 is_stmt 1 view .LVU1408
1308:Lib/soes/src/esc_coe.c ****             htoes (COE_SDOINFORMATION << 12);
 4424              		.loc 1 1308 40 is_stmt 0 view .LVU1409
 4425 0038 4FF40043 		mov	r3, #32768
 4426 003c FB80     		strh	r3, [r7, #6]	@ movhi
1310:Lib/soes/src/esc_coe.c ****          coel->infoheader.incomplete = 0;
 4427              		.loc 1 1310 10 is_stmt 1 view .LVU1410
1310:Lib/soes/src/esc_coe.c ****          coel->infoheader.incomplete = 0;
 4428              		.loc 1 1310 34 is_stmt 0 view .LVU1411
ARM GAS  /tmp/ccoG2CDz.s 			page 131


 4429 003e 3B7A     		ldrb	r3, [r7, #8]	@ zero_extendqisi2
 4430 0040 0422     		movs	r2, #4
 4431 0042 62F30603 		bfi	r3, r2, #0, #7
 4432 0046 3B72     		strb	r3, [r7, #8]
1311:Lib/soes/src/esc_coe.c ****          coel->infoheader.reserved = 0x00;
 4433              		.loc 1 1311 10 is_stmt 1 view .LVU1412
1311:Lib/soes/src/esc_coe.c ****          coel->infoheader.reserved = 0x00;
 4434              		.loc 1 1311 38 is_stmt 0 view .LVU1413
 4435 0048 DBB2     		uxtb	r3, r3
 4436 004a 6FF3C713 		bfc	r3, #7, #1
 4437 004e 3B72     		strb	r3, [r7, #8]
1312:Lib/soes/src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (0);
 4438              		.loc 1 1312 10 is_stmt 1 view .LVU1414
1312:Lib/soes/src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (0);
 4439              		.loc 1 1312 36 is_stmt 0 view .LVU1415
 4440 0050 0023     		movs	r3, #0
 4441 0052 7B72     		strb	r3, [r7, #9]
1313:Lib/soes/src/esc_coe.c ****          coel->index = htoes (index);
 4442              		.loc 1 1313 10 is_stmt 1 view .LVU1416
1313:Lib/soes/src/esc_coe.c ****          coel->index = htoes (index);
 4443              		.loc 1 1313 41 is_stmt 0 view .LVU1417
 4444 0054 7B81     		strh	r3, [r7, #10]	@ movhi
1314:Lib/soes/src/esc_coe.c ****          if (SDOobjects[nidx].objtype == OTYPE_VAR)
 4445              		.loc 1 1314 10 is_stmt 1 view .LVU1418
1314:Lib/soes/src/esc_coe.c ****          if (SDOobjects[nidx].objtype == OTYPE_VAR)
 4446              		.loc 1 1314 22 is_stmt 0 view .LVU1419
 4447 0056 A7F80C90 		strh	r9, [r7, #12]	@ movhi
1315:Lib/soes/src/esc_coe.c ****          {
 4448              		.loc 1 1315 10 is_stmt 1 view .LVU1420
1315:Lib/soes/src/esc_coe.c ****          {
 4449              		.loc 1 1315 30 is_stmt 0 view .LVU1421
 4450 005a 314B     		ldr	r3, .L273+8
 4451 005c 03EB0813 		add	r3, r3, r8, lsl #4
 4452 0060 B3F80290 		ldrh	r9, [r3, #2]
 4453              	.LVL452:
1315:Lib/soes/src/esc_coe.c ****          {
 4454              		.loc 1 1315 13 view .LVU1422
 4455 0064 B9F1070F 		cmp	r9, #7
 4456 0068 15D0     		beq	.L271
1322:Lib/soes/src/esc_coe.c ****          {
 4457              		.loc 1 1322 15 is_stmt 1 view .LVU1423
1322:Lib/soes/src/esc_coe.c ****          {
 4458              		.loc 1 1322 18 is_stmt 0 view .LVU1424
 4459 006a B9F1080F 		cmp	r9, #8
 4460 006e 23D0     		beq	.L272
1331:Lib/soes/src/esc_coe.c ****             coel->maxsub = (uint8_t)SDOobjects[nidx].objdesc->value;
 4461              		.loc 1 1331 13 is_stmt 1 view .LVU1425
1331:Lib/soes/src/esc_coe.c ****             coel->maxsub = (uint8_t)SDOobjects[nidx].objdesc->value;
 4462              		.loc 1 1331 28 is_stmt 0 view .LVU1426
 4463 0070 0023     		movs	r3, #0
 4464 0072 FB81     		strh	r3, [r7, #14]	@ movhi
1332:Lib/soes/src/esc_coe.c ****          }
 4465              		.loc 1 1332 13 is_stmt 1 view .LVU1427
1332:Lib/soes/src/esc_coe.c ****          }
 4466              		.loc 1 1332 53 is_stmt 0 view .LVU1428
 4467 0074 2A4B     		ldr	r3, .L273+8
 4468 0076 03EB0813 		add	r3, r3, r8, lsl #4
ARM GAS  /tmp/ccoG2CDz.s 			page 132


 4469 007a DB68     		ldr	r3, [r3, #12]
1332:Lib/soes/src/esc_coe.c ****          }
 4470              		.loc 1 1332 28 view .LVU1429
 4471 007c 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
1332:Lib/soes/src/esc_coe.c ****          }
 4472              		.loc 1 1332 26 view .LVU1430
 4473 007e 3B74     		strb	r3, [r7, #16]
 4474              	.LVL453:
 4475              	.L265:
1334:Lib/soes/src/esc_coe.c ****          s = (uint8_t *) SDOobjects[nidx].name;
 4476              		.loc 1 1334 10 is_stmt 1 view .LVU1431
1334:Lib/soes/src/esc_coe.c ****          s = (uint8_t *) SDOobjects[nidx].name;
 4477              		.loc 1 1334 27 is_stmt 0 view .LVU1432
 4478 0080 87F81190 		strb	r9, [r7, #17]
1335:Lib/soes/src/esc_coe.c ****          d = (uint8_t *) &(coel->name);
 4479              		.loc 1 1335 10 is_stmt 1 view .LVU1433
1335:Lib/soes/src/esc_coe.c ****          d = (uint8_t *) &(coel->name);
 4480              		.loc 1 1335 12 is_stmt 0 view .LVU1434
 4481 0084 2648     		ldr	r0, .L273+8
 4482 0086 00EB0810 		add	r0, r0, r8, lsl #4
 4483 008a D0F808C0 		ldr	ip, [r0, #8]
 4484              	.LVL454:
1336:Lib/soes/src/esc_coe.c ****          while (*s && (n < (ESC_MBXDSIZE - 0x0c)))
 4485              		.loc 1 1336 10 is_stmt 1 view .LVU1435
1336:Lib/soes/src/esc_coe.c ****          while (*s && (n < (ESC_MBXDSIZE - 0x0c)))
 4486              		.loc 1 1336 12 is_stmt 0 view .LVU1436
 4487 008e 07F11201 		add	r1, r7, #18
 4488              	.LVL455:
1337:Lib/soes/src/esc_coe.c ****          {
 4489              		.loc 1 1337 10 is_stmt 1 view .LVU1437
1296:Lib/soes/src/esc_coe.c ****    _COEobjdesc *coer, *coel;
 4490              		.loc 1 1296 12 is_stmt 0 view .LVU1438
 4491 0092 0023     		movs	r3, #0
1337:Lib/soes/src/esc_coe.c ****          {
 4492              		.loc 1 1337 16 view .LVU1439
 4493 0094 27E0     		b	.L267
 4494              	.LVL456:
 4495              	.L271:
 4496              	.LBB20:
1317:Lib/soes/src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
 4497              		.loc 1 1317 13 is_stmt 1 view .LVU1440
1317:Lib/soes/src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
 4498              		.loc 1 1317 28 is_stmt 0 view .LVU1441
 4499 0096 0021     		movs	r1, #0
 4500 0098 4046     		mov	r0, r8
 4501              	.LVL457:
1317:Lib/soes/src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
 4502              		.loc 1 1317 28 view .LVU1442
 4503 009a FFF7FEFF 		bl	SDO_findsubindex
 4504              	.LVL458:
1318:Lib/soes/src/esc_coe.c ****             coel->datatype = htoes ((objd + nsub)->datatype);
 4505              		.loc 1 1318 13 is_stmt 1 view .LVU1443
1318:Lib/soes/src/esc_coe.c ****             coel->datatype = htoes ((objd + nsub)->datatype);
 4506              		.loc 1 1318 26 is_stmt 0 view .LVU1444
 4507 009e 204B     		ldr	r3, .L273+8
 4508 00a0 03EB0813 		add	r3, r3, r8, lsl #4
 4509 00a4 DA68     		ldr	r2, [r3, #12]
ARM GAS  /tmp/ccoG2CDz.s 			page 133


 4510              	.LVL459:
1319:Lib/soes/src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].maxsub;
 4511              		.loc 1 1319 13 is_stmt 1 view .LVU1445
1319:Lib/soes/src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].maxsub;
 4512              		.loc 1 1319 30 is_stmt 0 view .LVU1446
 4513 00a6 00EB8000 		add	r0, r0, r0, lsl #2
 4514              	.LVL460:
1319:Lib/soes/src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].maxsub;
 4515              		.loc 1 1319 30 view .LVU1447
 4516 00aa 02EB8000 		add	r0, r2, r0, lsl #2
 4517 00ae 4288     		ldrh	r2, [r0, #2]
 4518              	.LVL461:
1319:Lib/soes/src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].maxsub;
 4519              		.loc 1 1319 28 view .LVU1448
 4520 00b0 FA81     		strh	r2, [r7, #14]	@ movhi
1320:Lib/soes/src/esc_coe.c ****          }
 4521              		.loc 1 1320 13 is_stmt 1 view .LVU1449
1320:Lib/soes/src/esc_coe.c ****          }
 4522              		.loc 1 1320 44 is_stmt 0 view .LVU1450
 4523 00b2 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 4524              	.LVL462:
1320:Lib/soes/src/esc_coe.c ****          }
 4525              		.loc 1 1320 26 view .LVU1451
 4526 00b4 3B74     		strb	r3, [r7, #16]
 4527              	.LBE20:
 4528 00b6 E3E7     		b	.L265
 4529              	.LVL463:
 4530              	.L272:
 4531              	.LBB21:
1324:Lib/soes/src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
 4532              		.loc 1 1324 13 is_stmt 1 view .LVU1452
1324:Lib/soes/src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
 4533              		.loc 1 1324 28 is_stmt 0 view .LVU1453
 4534 00b8 0021     		movs	r1, #0
 4535 00ba 4046     		mov	r0, r8
 4536              	.LVL464:
1324:Lib/soes/src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
 4537              		.loc 1 1324 28 view .LVU1454
 4538 00bc FFF7FEFF 		bl	SDO_findsubindex
 4539              	.LVL465:
1325:Lib/soes/src/esc_coe.c ****             coel->datatype = htoes ((objd + nsub)->datatype);
 4540              		.loc 1 1325 13 is_stmt 1 view .LVU1455
1325:Lib/soes/src/esc_coe.c ****             coel->datatype = htoes ((objd + nsub)->datatype);
 4541              		.loc 1 1325 26 is_stmt 0 view .LVU1456
 4542 00c0 174B     		ldr	r3, .L273+8
 4543 00c2 03EB0813 		add	r3, r3, r8, lsl #4
 4544 00c6 DB68     		ldr	r3, [r3, #12]
 4545              	.LVL466:
1326:Lib/soes/src/esc_coe.c ****             coel->maxsub = (uint8_t)SDOobjects[nidx].objdesc->value;
 4546              		.loc 1 1326 13 is_stmt 1 view .LVU1457
1326:Lib/soes/src/esc_coe.c ****             coel->maxsub = (uint8_t)SDOobjects[nidx].objdesc->value;
 4547              		.loc 1 1326 30 is_stmt 0 view .LVU1458
 4548 00c8 00EB8000 		add	r0, r0, r0, lsl #2
 4549              	.LVL467:
1326:Lib/soes/src/esc_coe.c ****             coel->maxsub = (uint8_t)SDOobjects[nidx].objdesc->value;
 4550              		.loc 1 1326 30 view .LVU1459
 4551 00cc 03EB8000 		add	r0, r3, r0, lsl #2
ARM GAS  /tmp/ccoG2CDz.s 			page 134


 4552 00d0 4288     		ldrh	r2, [r0, #2]
1326:Lib/soes/src/esc_coe.c ****             coel->maxsub = (uint8_t)SDOobjects[nidx].objdesc->value;
 4553              		.loc 1 1326 28 view .LVU1460
 4554 00d2 FA81     		strh	r2, [r7, #14]	@ movhi
1327:Lib/soes/src/esc_coe.c ****          }
 4555              		.loc 1 1327 13 is_stmt 1 view .LVU1461
1327:Lib/soes/src/esc_coe.c ****          }
 4556              		.loc 1 1327 28 is_stmt 0 view .LVU1462
 4557 00d4 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 4558              	.LVL468:
1327:Lib/soes/src/esc_coe.c ****          }
 4559              		.loc 1 1327 26 view .LVU1463
 4560 00d6 3B74     		strb	r3, [r7, #16]
 4561              	.LBE21:
 4562 00d8 D2E7     		b	.L265
 4563              	.LVL469:
 4564              	.L269:
1339:Lib/soes/src/esc_coe.c ****             n++;
 4565              		.loc 1 1339 13 is_stmt 1 view .LVU1464
1339:Lib/soes/src/esc_coe.c ****             n++;
 4566              		.loc 1 1339 16 is_stmt 0 view .LVU1465
 4567 00da 01F8010B 		strb	r0, [r1], #1
 4568              	.LVL470:
1340:Lib/soes/src/esc_coe.c ****             s++;
 4569              		.loc 1 1340 13 is_stmt 1 view .LVU1466
1340:Lib/soes/src/esc_coe.c ****             s++;
 4570              		.loc 1 1340 14 is_stmt 0 view .LVU1467
 4571 00de 0133     		adds	r3, r3, #1
 4572              	.LVL471:
1340:Lib/soes/src/esc_coe.c ****             s++;
 4573              		.loc 1 1340 14 view .LVU1468
 4574 00e0 DBB2     		uxtb	r3, r3
 4575              	.LVL472:
1341:Lib/soes/src/esc_coe.c ****             d++;
 4576              		.loc 1 1341 13 is_stmt 1 view .LVU1469
1341:Lib/soes/src/esc_coe.c ****             d++;
 4577              		.loc 1 1341 14 is_stmt 0 view .LVU1470
 4578 00e2 0CF1010C 		add	ip, ip, #1
 4579              	.LVL473:
1342:Lib/soes/src/esc_coe.c ****          }
 4580              		.loc 1 1342 13 is_stmt 1 view .LVU1471
 4581              	.L267:
1337:Lib/soes/src/esc_coe.c ****          {
 4582              		.loc 1 1337 16 view .LVU1472
1337:Lib/soes/src/esc_coe.c ****          {
 4583              		.loc 1 1337 17 is_stmt 0 view .LVU1473
 4584 00e6 9CF80000 		ldrb	r0, [ip]	@ zero_extendqisi2
1337:Lib/soes/src/esc_coe.c ****          {
 4585              		.loc 1 1337 16 view .LVU1474
 4586 00ea 20B1     		cbz	r0, .L268
1337:Lib/soes/src/esc_coe.c ****          {
 4587              		.loc 1 1337 29 discriminator 1 view .LVU1475
 4588 00ec 0B4A     		ldr	r2, .L273+4
 4589 00ee D26E     		ldr	r2, [r2, #108]
1337:Lib/soes/src/esc_coe.c ****          {
 4590              		.loc 1 1337 42 discriminator 1 view .LVU1476
 4591 00f0 123A     		subs	r2, r2, #18
ARM GAS  /tmp/ccoG2CDz.s 			page 135


1337:Lib/soes/src/esc_coe.c ****          {
 4592              		.loc 1 1337 20 discriminator 1 view .LVU1477
 4593 00f2 9342     		cmp	r3, r2
 4594 00f4 F1D3     		bcc	.L269
 4595              	.L268:
1344:Lib/soes/src/esc_coe.c ****          coel->mbxheader.length = htoes (0x0C + n);
 4596              		.loc 1 1344 10 is_stmt 1 view .LVU1478
1344:Lib/soes/src/esc_coe.c ****          coel->mbxheader.length = htoes (0x0C + n);
 4597              		.loc 1 1344 13 is_stmt 0 view .LVU1479
 4598 00f6 0870     		strb	r0, [r1]
1345:Lib/soes/src/esc_coe.c ****          MBXcontrol[MBXout].state = MBXstate_outreq;
 4599              		.loc 1 1345 10 is_stmt 1 view .LVU1480
1345:Lib/soes/src/esc_coe.c ****          MBXcontrol[MBXout].state = MBXstate_outreq;
 4600              		.loc 1 1345 35 is_stmt 0 view .LVU1481
 4601 00f8 0C33     		adds	r3, r3, #12
 4602              	.LVL474:
1345:Lib/soes/src/esc_coe.c ****          MBXcontrol[MBXout].state = MBXstate_outreq;
 4603              		.loc 1 1345 33 view .LVU1482
 4604 00fa A353     		strh	r3, [r4, r6]	@ movhi
1346:Lib/soes/src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
 4605              		.loc 1 1346 10 is_stmt 1 view .LVU1483
1346:Lib/soes/src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
 4606              		.loc 1 1346 35 is_stmt 0 view .LVU1484
 4607 00fc 094A     		ldr	r2, .L273+12
 4608 00fe 0323     		movs	r3, #3
 4609 0100 5355     		strb	r3, [r2, r5]
1347:Lib/soes/src/esc_coe.c ****          ESCvar.xoe = 0;
 4610              		.loc 1 1347 10 is_stmt 1 view .LVU1485
1347:Lib/soes/src/esc_coe.c ****          ESCvar.xoe = 0;
 4611              		.loc 1 1347 30 is_stmt 0 view .LVU1486
 4612 0102 0023     		movs	r3, #0
 4613 0104 1370     		strb	r3, [r2]
1348:Lib/soes/src/esc_coe.c ****       }
 4614              		.loc 1 1348 10 is_stmt 1 view .LVU1487
1348:Lib/soes/src/esc_coe.c ****       }
 4615              		.loc 1 1348 21 is_stmt 0 view .LVU1488
 4616 0106 054A     		ldr	r2, .L273+4
 4617 0108 82F88E30 		strb	r3, [r2, #142]
 4618 010c 02E0     		b	.L261
 4619              	.LVL475:
 4620              	.L262:
1353:Lib/soes/src/esc_coe.c ****    }
 4621              		.loc 1 1353 7 is_stmt 1 view .LVU1489
 4622 010e 0648     		ldr	r0, .L273+16
 4623              	.LVL476:
1353:Lib/soes/src/esc_coe.c ****    }
 4624              		.loc 1 1353 7 is_stmt 0 view .LVU1490
 4625 0110 FFF7FEFF 		bl	SDO_infoerror
 4626              	.LVL477:
 4627              	.L261:
1355:Lib/soes/src/esc_coe.c **** 
 4628              		.loc 1 1355 1 view .LVU1491
 4629 0114 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 4630              	.LVL478:
 4631              	.L274:
1355:Lib/soes/src/esc_coe.c **** 
 4632              		.loc 1 1355 1 view .LVU1492
ARM GAS  /tmp/ccoG2CDz.s 			page 136


 4633              		.align	2
 4634              	.L273:
 4635 0118 00000000 		.word	MBX
 4636 011c 00000000 		.word	ESCvar
 4637 0120 00000000 		.word	SDOobjects
 4638 0124 00000000 		.word	MBXcontrol
 4639 0128 00000206 		.word	100794368
 4640              		.cfi_endproc
 4641              	.LFE18:
 4643              		.section	.text.SDO_geted,"ax",%progbits
 4644              		.align	1
 4645              		.syntax unified
 4646              		.thumb
 4647              		.thumb_func
 4648              		.fpu fpv4-sp-d16
 4650              	SDO_geted:
 4651              	.LFB19:
1362:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
 4652              		.loc 1 1362 1 is_stmt 1 view -0
 4653              		.cfi_startproc
 4654              		@ args = 0, pretend = 0, frame = 0
 4655              		@ frame_needed = 0, uses_anonymous_args = 0
 4656 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 4657              		.cfi_def_cfa_offset 24
 4658              		.cfi_offset 4, -24
 4659              		.cfi_offset 5, -20
 4660              		.cfi_offset 6, -16
 4661              		.cfi_offset 7, -12
 4662              		.cfi_offset 8, -8
 4663              		.cfi_offset 14, -4
1363:Lib/soes/src/esc_coe.c ****    uint16_t index;
 4664              		.loc 1 1363 4 view .LVU1494
1364:Lib/soes/src/esc_coe.c ****    int32_t nidx;
 4665              		.loc 1 1364 4 view .LVU1495
1365:Lib/soes/src/esc_coe.c ****    int16_t nsub;
 4666              		.loc 1 1365 4 view .LVU1496
1366:Lib/soes/src/esc_coe.c ****    uint8_t subindex;
 4667              		.loc 1 1366 4 view .LVU1497
1367:Lib/soes/src/esc_coe.c ****    uint8_t *d;
 4668              		.loc 1 1367 4 view .LVU1498
1368:Lib/soes/src/esc_coe.c ****    const uint8_t *s;
 4669              		.loc 1 1368 4 view .LVU1499
1369:Lib/soes/src/esc_coe.c ****    const _objd *objd;
 4670              		.loc 1 1369 4 view .LVU1500
1370:Lib/soes/src/esc_coe.c ****    uint8_t n = 0;
 4671              		.loc 1 1370 4 view .LVU1501
1371:Lib/soes/src/esc_coe.c ****    _COEentdesc *coer, *coel;
 4672              		.loc 1 1371 4 view .LVU1502
 4673              	.LVL479:
1372:Lib/soes/src/esc_coe.c ****    coer = (_COEentdesc *) &MBX[0];
 4674              		.loc 1 1372 4 view .LVU1503
1373:Lib/soes/src/esc_coe.c ****    index = etohs (coer->index);
 4675              		.loc 1 1373 4 view .LVU1504
1374:Lib/soes/src/esc_coe.c ****    subindex = coer->subindex;
 4676              		.loc 1 1374 4 view .LVU1505
1374:Lib/soes/src/esc_coe.c ****    subindex = coer->subindex;
 4677              		.loc 1 1374 10 is_stmt 0 view .LVU1506
ARM GAS  /tmp/ccoG2CDz.s 			page 137


 4678 0004 344B     		ldr	r3, .L283
 4679 0006 9D89     		ldrh	r5, [r3, #12]	@ unaligned
 4680              	.LVL480:
1375:Lib/soes/src/esc_coe.c ****    nidx = SDO_findobject (index);
 4681              		.loc 1 1375 4 is_stmt 1 view .LVU1507
1375:Lib/soes/src/esc_coe.c ****    nidx = SDO_findobject (index);
 4682              		.loc 1 1375 13 is_stmt 0 view .LVU1508
 4683 0008 9E7B     		ldrb	r6, [r3, #14]	@ zero_extendqisi2
 4684              	.LVL481:
1376:Lib/soes/src/esc_coe.c ****    if (nidx >= 0)
 4685              		.loc 1 1376 4 is_stmt 1 view .LVU1509
1376:Lib/soes/src/esc_coe.c ****    if (nidx >= 0)
 4686              		.loc 1 1376 11 is_stmt 0 view .LVU1510
 4687 000a A8B2     		uxth	r0, r5
 4688 000c FFF7FEFF 		bl	SDO_findobject
 4689              	.LVL482:
1377:Lib/soes/src/esc_coe.c ****    {
 4690              		.loc 1 1377 4 is_stmt 1 view .LVU1511
1377:Lib/soes/src/esc_coe.c ****    {
 4691              		.loc 1 1377 7 is_stmt 0 view .LVU1512
 4692 0010 071E     		subs	r7, r0, #0
 4693 0012 5CDB     		blt	.L276
1379:Lib/soes/src/esc_coe.c ****       if (nsub >= 0)
 4694              		.loc 1 1379 7 is_stmt 1 view .LVU1513
1379:Lib/soes/src/esc_coe.c ****       if (nsub >= 0)
 4695              		.loc 1 1379 14 is_stmt 0 view .LVU1514
 4696 0014 3146     		mov	r1, r6
 4697 0016 3846     		mov	r0, r7
1379:Lib/soes/src/esc_coe.c ****       if (nsub >= 0)
 4698              		.loc 1 1379 14 view .LVU1515
 4699 0018 FFF7FEFF 		bl	SDO_findsubindex
 4700              	.LVL483:
1380:Lib/soes/src/esc_coe.c ****       {
 4701              		.loc 1 1380 7 is_stmt 1 view .LVU1516
1380:Lib/soes/src/esc_coe.c ****       {
 4702              		.loc 1 1380 10 is_stmt 0 view .LVU1517
 4703 001c 041E     		subs	r4, r0, #0
 4704 001e 51DB     		blt	.L277
1382:Lib/soes/src/esc_coe.c ****          MBXout = ESC_claimbuffer ();
 4705              		.loc 1 1382 10 is_stmt 1 view .LVU1518
1382:Lib/soes/src/esc_coe.c ****          MBXout = ESC_claimbuffer ();
 4706              		.loc 1 1382 15 is_stmt 0 view .LVU1519
 4707 0020 2E48     		ldr	r0, .L283+4
 4708              	.LVL484:
1382:Lib/soes/src/esc_coe.c ****          MBXout = ESC_claimbuffer ();
 4709              		.loc 1 1382 15 view .LVU1520
 4710 0022 00EB0710 		add	r0, r0, r7, lsl #4
 4711 0026 C768     		ldr	r7, [r0, #12]
 4712              	.LVL485:
1383:Lib/soes/src/esc_coe.c ****          if (MBXout)
 4713              		.loc 1 1383 10 is_stmt 1 view .LVU1521
1383:Lib/soes/src/esc_coe.c ****          if (MBXout)
 4714              		.loc 1 1383 19 is_stmt 0 view .LVU1522
 4715 0028 FFF7FEFF 		bl	ESC_claimbuffer
 4716              	.LVL486:
1384:Lib/soes/src/esc_coe.c ****          {
 4717              		.loc 1 1384 10 is_stmt 1 view .LVU1523
ARM GAS  /tmp/ccoG2CDz.s 			page 138


1384:Lib/soes/src/esc_coe.c ****          {
 4718              		.loc 1 1384 13 is_stmt 0 view .LVU1524
 4719 002c 8646     		mov	lr, r0
 4720 002e 0028     		cmp	r0, #0
 4721 0030 4BD0     		beq	.L275
1386:Lib/soes/src/esc_coe.c ****             coel->mbxheader.mbxtype = MBXCOE;
 4722              		.loc 1 1386 13 is_stmt 1 view .LVU1525
1386:Lib/soes/src/esc_coe.c ****             coel->mbxheader.mbxtype = MBXCOE;
 4723              		.loc 1 1386 50 is_stmt 0 view .LVU1526
 4724 0032 2B4B     		ldr	r3, .L283+8
 4725 0034 DB6E     		ldr	r3, [r3, #108]
1386:Lib/soes/src/esc_coe.c ****             coel->mbxheader.mbxtype = MBXCOE;
 4726              		.loc 1 1386 48 view .LVU1527
 4727 0036 03FB00FC 		mul	ip, r3, r0
1386:Lib/soes/src/esc_coe.c ****             coel->mbxheader.mbxtype = MBXCOE;
 4728              		.loc 1 1386 18 view .LVU1528
 4729 003a 2748     		ldr	r0, .L283
 4730              	.LVL487:
1386:Lib/soes/src/esc_coe.c ****             coel->mbxheader.mbxtype = MBXCOE;
 4731              		.loc 1 1386 18 view .LVU1529
 4732 003c 0CEB0002 		add	r2, ip, r0
 4733              	.LVL488:
1387:Lib/soes/src/esc_coe.c ****             coel->coeheader.numberservice =
 4734              		.loc 1 1387 13 is_stmt 1 view .LVU1530
1387:Lib/soes/src/esc_coe.c ****             coel->coeheader.numberservice =
 4735              		.loc 1 1387 37 is_stmt 0 view .LVU1531
 4736 0040 5379     		ldrb	r3, [r2, #5]	@ zero_extendqisi2
 4737 0042 0321     		movs	r1, #3
 4738 0044 61F30303 		bfi	r3, r1, #0, #4
 4739 0048 5371     		strb	r3, [r2, #5]
1388:Lib/soes/src/esc_coe.c ****                htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 4740              		.loc 1 1388 13 is_stmt 1 view .LVU1532
1388:Lib/soes/src/esc_coe.c ****                htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 4741              		.loc 1 1388 43 is_stmt 0 view .LVU1533
 4742 004a 0023     		movs	r3, #0
 4743 004c 9371     		strb	r3, [r2, #6]
 4744 004e 6FF07F01 		mvn	r1, #127
 4745 0052 D171     		strb	r1, [r2, #7]
1390:Lib/soes/src/esc_coe.c ****             coel->infoheader.incomplete = 0;
 4746              		.loc 1 1390 13 is_stmt 1 view .LVU1534
1390:Lib/soes/src/esc_coe.c ****             coel->infoheader.incomplete = 0;
 4747              		.loc 1 1390 37 is_stmt 0 view .LVU1535
 4748 0054 117A     		ldrb	r1, [r2, #8]	@ zero_extendqisi2
 4749 0056 4FF00608 		mov	r8, #6
 4750 005a 68F30601 		bfi	r1, r8, #0, #7
 4751 005e 1172     		strb	r1, [r2, #8]
1391:Lib/soes/src/esc_coe.c ****             coel->infoheader.reserved = 0x00;
 4752              		.loc 1 1391 13 is_stmt 1 view .LVU1536
1391:Lib/soes/src/esc_coe.c ****             coel->infoheader.reserved = 0x00;
 4753              		.loc 1 1391 41 is_stmt 0 view .LVU1537
 4754 0060 C9B2     		uxtb	r1, r1
 4755 0062 63F3C711 		bfi	r1, r3, #7, #1
 4756 0066 1172     		strb	r1, [r2, #8]
1392:Lib/soes/src/esc_coe.c ****             coel->infoheader.fragmentsleft = htoes (0);
 4757              		.loc 1 1392 13 is_stmt 1 view .LVU1538
1392:Lib/soes/src/esc_coe.c ****             coel->infoheader.fragmentsleft = htoes (0);
 4758              		.loc 1 1392 39 is_stmt 0 view .LVU1539
ARM GAS  /tmp/ccoG2CDz.s 			page 139


 4759 0068 5372     		strb	r3, [r2, #9]
1393:Lib/soes/src/esc_coe.c ****             coel->index = htoes (index);
 4760              		.loc 1 1393 13 is_stmt 1 view .LVU1540
1393:Lib/soes/src/esc_coe.c ****             coel->index = htoes (index);
 4761              		.loc 1 1393 44 is_stmt 0 view .LVU1541
 4762 006a 9372     		strb	r3, [r2, #10]
 4763 006c D372     		strb	r3, [r2, #11]
1394:Lib/soes/src/esc_coe.c ****             coel->subindex = subindex;
 4764              		.loc 1 1394 13 is_stmt 1 view .LVU1542
1394:Lib/soes/src/esc_coe.c ****             coel->subindex = subindex;
 4765              		.loc 1 1394 25 is_stmt 0 view .LVU1543
 4766 006e 9581     		strh	r5, [r2, #12]	@ unaligned
1395:Lib/soes/src/esc_coe.c ****             coel->valueinfo = COE_VALUEINFO_ACCESS +
 4767              		.loc 1 1395 13 is_stmt 1 view .LVU1544
1395:Lib/soes/src/esc_coe.c ****             coel->valueinfo = COE_VALUEINFO_ACCESS +
 4768              		.loc 1 1395 28 is_stmt 0 view .LVU1545
 4769 0070 9673     		strb	r6, [r2, #14]
1396:Lib/soes/src/esc_coe.c ****                COE_VALUEINFO_OBJECT + COE_VALUEINFO_MAPPABLE;
 4770              		.loc 1 1396 13 is_stmt 1 view .LVU1546
1396:Lib/soes/src/esc_coe.c ****                COE_VALUEINFO_OBJECT + COE_VALUEINFO_MAPPABLE;
 4771              		.loc 1 1396 29 is_stmt 0 view .LVU1547
 4772 0072 0721     		movs	r1, #7
 4773 0074 D173     		strb	r1, [r2, #15]
1398:Lib/soes/src/esc_coe.c ****             coel->bitlength = htoes ((objd + nsub)->bitlength);
 4774              		.loc 1 1398 13 is_stmt 1 view .LVU1548
1398:Lib/soes/src/esc_coe.c ****             coel->bitlength = htoes ((objd + nsub)->bitlength);
 4775              		.loc 1 1398 30 is_stmt 0 view .LVU1549
 4776 0076 04EB8404 		add	r4, r4, r4, lsl #2
 4777 007a 07EB8407 		add	r7, r7, r4, lsl #2
 4778              	.LVL489:
1398:Lib/soes/src/esc_coe.c ****             coel->bitlength = htoes ((objd + nsub)->bitlength);
 4779              		.loc 1 1398 30 view .LVU1550
 4780 007e 7988     		ldrh	r1, [r7, #2]
1398:Lib/soes/src/esc_coe.c ****             coel->bitlength = htoes ((objd + nsub)->bitlength);
 4781              		.loc 1 1398 28 view .LVU1551
 4782 0080 1182     		strh	r1, [r2, #16]	@ unaligned
1399:Lib/soes/src/esc_coe.c ****             coel->access = htoes ((objd + nsub)->flags);
 4783              		.loc 1 1399 13 is_stmt 1 view .LVU1552
1399:Lib/soes/src/esc_coe.c ****             coel->access = htoes ((objd + nsub)->flags);
 4784              		.loc 1 1399 31 is_stmt 0 view .LVU1553
 4785 0082 B988     		ldrh	r1, [r7, #4]
1399:Lib/soes/src/esc_coe.c ****             coel->access = htoes ((objd + nsub)->flags);
 4786              		.loc 1 1399 29 view .LVU1554
 4787 0084 5182     		strh	r1, [r2, #18]	@ unaligned
1400:Lib/soes/src/esc_coe.c ****             s = (uint8_t *) (objd + nsub)->name;
 4788              		.loc 1 1400 13 is_stmt 1 view .LVU1555
1400:Lib/soes/src/esc_coe.c ****             s = (uint8_t *) (objd + nsub)->name;
 4789              		.loc 1 1400 28 is_stmt 0 view .LVU1556
 4790 0086 F988     		ldrh	r1, [r7, #6]
1400:Lib/soes/src/esc_coe.c ****             s = (uint8_t *) (objd + nsub)->name;
 4791              		.loc 1 1400 26 view .LVU1557
 4792 0088 9182     		strh	r1, [r2, #20]	@ unaligned
1401:Lib/soes/src/esc_coe.c ****             d = (uint8_t *) &(coel->name);
 4793              		.loc 1 1401 13 is_stmt 1 view .LVU1558
1401:Lib/soes/src/esc_coe.c ****             d = (uint8_t *) &(coel->name);
 4794              		.loc 1 1401 15 is_stmt 0 view .LVU1559
 4795 008a BD68     		ldr	r5, [r7, #8]
ARM GAS  /tmp/ccoG2CDz.s 			page 140


 4796              	.LVL490:
1402:Lib/soes/src/esc_coe.c ****             while (*s && (n < (ESC_MBXDSIZE - 0x10)))
 4797              		.loc 1 1402 13 is_stmt 1 view .LVU1560
1402:Lib/soes/src/esc_coe.c ****             while (*s && (n < (ESC_MBXDSIZE - 0x10)))
 4798              		.loc 1 1402 15 is_stmt 0 view .LVU1561
 4799 008c 1632     		adds	r2, r2, #22
 4800              	.LVL491:
1403:Lib/soes/src/esc_coe.c ****             {
 4801              		.loc 1 1403 13 is_stmt 1 view .LVU1562
 4802              	.L279:
1403:Lib/soes/src/esc_coe.c ****             {
 4803              		.loc 1 1403 19 view .LVU1563
1403:Lib/soes/src/esc_coe.c ****             {
 4804              		.loc 1 1403 20 is_stmt 0 view .LVU1564
 4805 008e 2C78     		ldrb	r4, [r5]	@ zero_extendqisi2
1403:Lib/soes/src/esc_coe.c ****             {
 4806              		.loc 1 1403 19 view .LVU1565
 4807 0090 54B1     		cbz	r4, .L280
1403:Lib/soes/src/esc_coe.c ****             {
 4808              		.loc 1 1403 32 discriminator 1 view .LVU1566
 4809 0092 1349     		ldr	r1, .L283+8
 4810 0094 C96E     		ldr	r1, [r1, #108]
1403:Lib/soes/src/esc_coe.c ****             {
 4811              		.loc 1 1403 45 discriminator 1 view .LVU1567
 4812 0096 1639     		subs	r1, r1, #22
1403:Lib/soes/src/esc_coe.c ****             {
 4813              		.loc 1 1403 23 discriminator 1 view .LVU1568
 4814 0098 8B42     		cmp	r3, r1
 4815 009a 05D2     		bcs	.L280
1405:Lib/soes/src/esc_coe.c ****                n++;
 4816              		.loc 1 1405 16 is_stmt 1 view .LVU1569
1405:Lib/soes/src/esc_coe.c ****                n++;
 4817              		.loc 1 1405 19 is_stmt 0 view .LVU1570
 4818 009c 02F8014B 		strb	r4, [r2], #1
 4819              	.LVL492:
1406:Lib/soes/src/esc_coe.c ****                s++;
 4820              		.loc 1 1406 16 is_stmt 1 view .LVU1571
1406:Lib/soes/src/esc_coe.c ****                s++;
 4821              		.loc 1 1406 17 is_stmt 0 view .LVU1572
 4822 00a0 0133     		adds	r3, r3, #1
 4823              	.LVL493:
1406:Lib/soes/src/esc_coe.c ****                s++;
 4824              		.loc 1 1406 17 view .LVU1573
 4825 00a2 DBB2     		uxtb	r3, r3
 4826              	.LVL494:
1407:Lib/soes/src/esc_coe.c ****                d++;
 4827              		.loc 1 1407 16 is_stmt 1 view .LVU1574
1407:Lib/soes/src/esc_coe.c ****                d++;
 4828              		.loc 1 1407 17 is_stmt 0 view .LVU1575
 4829 00a4 0135     		adds	r5, r5, #1
 4830              	.LVL495:
1408:Lib/soes/src/esc_coe.c ****             }
 4831              		.loc 1 1408 16 is_stmt 1 view .LVU1576
1408:Lib/soes/src/esc_coe.c ****             }
 4832              		.loc 1 1408 16 is_stmt 0 view .LVU1577
 4833 00a6 F2E7     		b	.L279
 4834              	.L280:
ARM GAS  /tmp/ccoG2CDz.s 			page 141


1410:Lib/soes/src/esc_coe.c ****             coel->mbxheader.length = htoes (0x10 + n);
 4835              		.loc 1 1410 13 is_stmt 1 view .LVU1578
1410:Lib/soes/src/esc_coe.c ****             coel->mbxheader.length = htoes (0x10 + n);
 4836              		.loc 1 1410 16 is_stmt 0 view .LVU1579
 4837 00a8 1470     		strb	r4, [r2]
1411:Lib/soes/src/esc_coe.c ****             MBXcontrol[MBXout].state = MBXstate_outreq;
 4838              		.loc 1 1411 13 is_stmt 1 view .LVU1580
1411:Lib/soes/src/esc_coe.c ****             MBXcontrol[MBXout].state = MBXstate_outreq;
 4839              		.loc 1 1411 38 is_stmt 0 view .LVU1581
 4840 00aa 1033     		adds	r3, r3, #16
 4841              	.LVL496:
1411:Lib/soes/src/esc_coe.c ****             MBXcontrol[MBXout].state = MBXstate_outreq;
 4842              		.loc 1 1411 36 view .LVU1582
 4843 00ac 2CF80030 		strh	r3, [ip, r0]	@ unaligned
1412:Lib/soes/src/esc_coe.c ****             MBXcontrol[0].state = MBXstate_idle;
 4844              		.loc 1 1412 13 is_stmt 1 view .LVU1583
1412:Lib/soes/src/esc_coe.c ****             MBXcontrol[0].state = MBXstate_idle;
 4845              		.loc 1 1412 38 is_stmt 0 view .LVU1584
 4846 00b0 0C4A     		ldr	r2, .L283+12
 4847              	.LVL497:
1412:Lib/soes/src/esc_coe.c ****             MBXcontrol[0].state = MBXstate_idle;
 4848              		.loc 1 1412 38 view .LVU1585
 4849 00b2 0323     		movs	r3, #3
 4850 00b4 02F80E30 		strb	r3, [r2, lr]
1413:Lib/soes/src/esc_coe.c ****             ESCvar.xoe = 0;
 4851              		.loc 1 1413 13 is_stmt 1 view .LVU1586
1413:Lib/soes/src/esc_coe.c ****             ESCvar.xoe = 0;
 4852              		.loc 1 1413 33 is_stmt 0 view .LVU1587
 4853 00b8 0023     		movs	r3, #0
 4854 00ba 1370     		strb	r3, [r2]
1414:Lib/soes/src/esc_coe.c ****          }
 4855              		.loc 1 1414 13 is_stmt 1 view .LVU1588
1414:Lib/soes/src/esc_coe.c ****          }
 4856              		.loc 1 1414 24 is_stmt 0 view .LVU1589
 4857 00bc 084A     		ldr	r2, .L283+8
 4858 00be 82F88E30 		strb	r3, [r2, #142]
 4859 00c2 02E0     		b	.L275
 4860              	.LVL498:
 4861              	.L277:
1419:Lib/soes/src/esc_coe.c ****       }
 4862              		.loc 1 1419 10 is_stmt 1 view .LVU1590
 4863 00c4 0848     		ldr	r0, .L283+16
 4864              	.LVL499:
1419:Lib/soes/src/esc_coe.c ****       }
 4865              		.loc 1 1419 10 is_stmt 0 view .LVU1591
 4866 00c6 FFF7FEFF 		bl	SDO_infoerror
 4867              	.LVL500:
 4868              	.L275:
1426:Lib/soes/src/esc_coe.c **** 
 4869              		.loc 1 1426 1 view .LVU1592
 4870 00ca BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 4871              	.LVL501:
 4872              	.L276:
1424:Lib/soes/src/esc_coe.c ****    }
 4873              		.loc 1 1424 7 is_stmt 1 view .LVU1593
 4874 00ce 0748     		ldr	r0, .L283+20
 4875              	.LVL502:
ARM GAS  /tmp/ccoG2CDz.s 			page 142


1424:Lib/soes/src/esc_coe.c ****    }
 4876              		.loc 1 1424 7 is_stmt 0 view .LVU1594
 4877 00d0 FFF7FEFF 		bl	SDO_infoerror
 4878              	.LVL503:
1426:Lib/soes/src/esc_coe.c **** 
 4879              		.loc 1 1426 1 view .LVU1595
 4880 00d4 F9E7     		b	.L275
 4881              	.L284:
 4882 00d6 00BF     		.align	2
 4883              	.L283:
 4884 00d8 00000000 		.word	MBX
 4885 00dc 00000000 		.word	SDOobjects
 4886 00e0 00000000 		.word	ESCvar
 4887 00e4 00000000 		.word	MBXcontrol
 4888 00e8 11000906 		.word	101253137
 4889 00ec 00000206 		.word	100794368
 4890              		.cfi_endproc
 4891              	.LFE19:
 4893              		.section	.text.sizeOfPDO,"ax",%progbits
 4894              		.align	1
 4895              		.global	sizeOfPDO
 4896              		.syntax unified
 4897              		.thumb
 4898              		.thumb_func
 4899              		.fpu fpv4-sp-d16
 4901              	sizeOfPDO:
 4902              	.LVL504:
 4903              	.LFB2:
 120:Lib/soes/src/esc_coe.c ****    uint32_t offset = 0;
 4904              		.loc 1 120 1 is_stmt 1 view -0
 4905              		.cfi_startproc
 4906              		@ args = 0, pretend = 0, frame = 24
 4907              		@ frame_needed = 0, uses_anonymous_args = 0
 120:Lib/soes/src/esc_coe.c ****    uint32_t offset = 0;
 4908              		.loc 1 120 1 is_stmt 0 view .LVU1597
 4909 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 4910              		.cfi_def_cfa_offset 36
 4911              		.cfi_offset 4, -36
 4912              		.cfi_offset 5, -32
 4913              		.cfi_offset 6, -28
 4914              		.cfi_offset 7, -24
 4915              		.cfi_offset 8, -20
 4916              		.cfi_offset 9, -16
 4917              		.cfi_offset 10, -12
 4918              		.cfi_offset 11, -8
 4919              		.cfi_offset 14, -4
 4920 0004 87B0     		sub	sp, sp, #28
 4921              		.cfi_def_cfa_offset 64
 4922 0006 0591     		str	r1, [sp, #20]
 4923 0008 0192     		str	r2, [sp, #4]
 4924 000a 9B46     		mov	fp, r3
 121:Lib/soes/src/esc_coe.c ****    uint16_t hobj;
 4925              		.loc 1 121 4 is_stmt 1 view .LVU1598
 4926              	.LVL505:
 122:Lib/soes/src/esc_coe.c ****    uint8_t si, sic, c;
 4927              		.loc 1 122 4 view .LVU1599
 123:Lib/soes/src/esc_coe.c ****    int32_t nidx;
ARM GAS  /tmp/ccoG2CDz.s 			page 143


 4928              		.loc 1 123 4 view .LVU1600
 124:Lib/soes/src/esc_coe.c ****    const _objd *objd;
 4929              		.loc 1 124 4 view .LVU1601
 125:Lib/soes/src/esc_coe.c ****    const _objd *objd1c1x;
 4930              		.loc 1 125 4 view .LVU1602
 126:Lib/soes/src/esc_coe.c ****    int mapIx = 0;
 4931              		.loc 1 126 4 view .LVU1603
 127:Lib/soes/src/esc_coe.c **** 
 4932              		.loc 1 127 4 view .LVU1604
 129:Lib/soes/src/esc_coe.c ****    {
 4933              		.loc 1 129 4 view .LVU1605
 129:Lib/soes/src/esc_coe.c ****    {
 4934              		.loc 1 129 33 is_stmt 0 view .LVU1606
 4935 000c A0F5E053 		sub	r3, r0, #7168
 4936              	.LVL506:
 129:Lib/soes/src/esc_coe.c ****    {
 4937              		.loc 1 129 33 view .LVU1607
 4938 0010 123B     		subs	r3, r3, #18
 4939 0012 9BB2     		uxth	r3, r3
 129:Lib/soes/src/esc_coe.c ****    {
 4940              		.loc 1 129 7 view .LVU1608
 4941 0014 012B     		cmp	r3, #1
 4942 0016 00F2AE80 		bhi	.L311
 134:Lib/soes/src/esc_coe.c ****    if(nidx < 0)
 4943              		.loc 1 134 4 is_stmt 1 view .LVU1609
 134:Lib/soes/src/esc_coe.c ****    if(nidx < 0)
 4944              		.loc 1 134 11 is_stmt 0 view .LVU1610
 4945 001a FFF7FEFF 		bl	SDO_findobject
 4946              	.LVL507:
 135:Lib/soes/src/esc_coe.c ****    {
 4947              		.loc 1 135 4 is_stmt 1 view .LVU1611
 135:Lib/soes/src/esc_coe.c ****    {
 4948              		.loc 1 135 6 is_stmt 0 view .LVU1612
 4949 001e 0028     		cmp	r0, #0
 135:Lib/soes/src/esc_coe.c ****    {
 4950              		.loc 1 135 6 view .LVU1613
 4951 0020 C0F2AD80 		blt	.L312
 140:Lib/soes/src/esc_coe.c **** 
 4952              		.loc 1 140 4 is_stmt 1 view .LVU1614
 140:Lib/soes/src/esc_coe.c **** 
 4953              		.loc 1 140 13 is_stmt 0 view .LVU1615
 4954 0024 574B     		ldr	r3, .L318
 4955 0026 03EB0010 		add	r0, r3, r0, lsl #4
 4956              	.LVL508:
 140:Lib/soes/src/esc_coe.c **** 
 4957              		.loc 1 140 13 view .LVU1616
 4958 002a C368     		ldr	r3, [r0, #12]
 4959 002c 0493     		str	r3, [sp, #16]
 4960              	.LVL509:
 142:Lib/soes/src/esc_coe.c ****    if (si)
 4961              		.loc 1 142 4 is_stmt 1 view .LVU1617
 142:Lib/soes/src/esc_coe.c ****    if (si)
 4962              		.loc 1 142 9 is_stmt 0 view .LVU1618
 4963 002e 1B69     		ldr	r3, [r3, #16]
 4964              	.LVL510:
 142:Lib/soes/src/esc_coe.c ****    if (si)
 4965              		.loc 1 142 7 view .LVU1619
ARM GAS  /tmp/ccoG2CDz.s 			page 144


 4966 0030 9BB1     		cbz	r3, .L287
 142:Lib/soes/src/esc_coe.c ****    if (si)
 4967              		.loc 1 142 7 discriminator 1 view .LVU1620
 4968 0032 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4969 0034 0393     		str	r3, [sp, #12]
 4970              	.L288:
 4971              	.LVL511:
 143:Lib/soes/src/esc_coe.c ****    {
 4972              		.loc 1 143 4 is_stmt 1 discriminator 4 view .LVU1621
 143:Lib/soes/src/esc_coe.c ****    {
 4973              		.loc 1 143 7 is_stmt 0 discriminator 4 view .LVU1622
 4974 0036 039B     		ldr	r3, [sp, #12]
 4975 0038 002B     		cmp	r3, #0
 4976 003a 40F09280 		bne	.L313
 127:Lib/soes/src/esc_coe.c **** 
 4977              		.loc 1 127 8 view .LVU1623
 4978 003e 4FF00008 		mov	r8, #0
 121:Lib/soes/src/esc_coe.c ****    uint16_t hobj;
 4979              		.loc 1 121 13 view .LVU1624
 4980 0042 4746     		mov	r7, r8
 4981              	.LVL512:
 4982              	.L290:
 228:Lib/soes/src/esc_coe.c ****    {
 4983              		.loc 1 228 4 is_stmt 1 view .LVU1625
 228:Lib/soes/src/esc_coe.c ****    {
 4984              		.loc 1 228 7 is_stmt 0 view .LVU1626
 4985 0044 BBF1000F 		cmp	fp, #0
 4986 0048 40F39180 		ble	.L309
 230:Lib/soes/src/esc_coe.c ****    }
 4987              		.loc 1 230 7 is_stmt 1 view .LVU1627
 230:Lib/soes/src/esc_coe.c ****    }
 4988              		.loc 1 230 18 is_stmt 0 view .LVU1628
 4989 004c 059B     		ldr	r3, [sp, #20]
 4990 004e C3F80080 		str	r8, [r3]
 4991              	.L310:
 237:Lib/soes/src/esc_coe.c **** }
 4992              		.loc 1 237 4 is_stmt 1 view .LVU1629
 237:Lib/soes/src/esc_coe.c **** }
 4993              		.loc 1 237 11 is_stmt 0 view .LVU1630
 4994 0052 F81D     		adds	r0, r7, #7
 237:Lib/soes/src/esc_coe.c **** }
 4995              		.loc 1 237 31 view .LVU1631
 4996 0054 C0F3CF00 		ubfx	r0, r0, #3, #16
 4997 0058 8EE0     		b	.L286
 4998              	.LVL513:
 4999              	.L287:
 142:Lib/soes/src/esc_coe.c ****    if (si)
 5000              		.loc 1 142 7 discriminator 2 view .LVU1632
 5001 005a 049B     		ldr	r3, [sp, #16]
 5002 005c 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 5003 005e 0393     		str	r3, [sp, #12]
 5004 0060 E9E7     		b	.L288
 5005              	.LVL514:
 5006              	.L291:
 147:Lib/soes/src/esc_coe.c ****          nidx = SDO_findobject (hobj);
 5007              		.loc 1 147 15 discriminator 2 view .LVU1633
 5008 0062 9889     		ldrh	r0, [r3, #12]
ARM GAS  /tmp/ccoG2CDz.s 			page 145


 5009 0064 6CE0     		b	.L292
 5010              	.LVL515:
 5011              	.L294:
 5012              	.LBB22:
 154:Lib/soes/src/esc_coe.c **** 
 5013              		.loc 1 154 20 discriminator 2 view .LVU1634
 5014 0066 9AF80C30 		ldrb	r3, [r10, #12]	@ zero_extendqisi2
 5015 006a 0093     		str	r3, [sp]
 5016 006c 77E0     		b	.L295
 5017              	.LVL516:
 5018              	.L297:
 5019              	.LBB23:
 158:Lib/soes/src/esc_coe.c ****                uint8_t bitlength = value & 0xFF;
 5020              		.loc 1 158 33 discriminator 2 view .LVU1635
 5021 006e DE68     		ldr	r6, [r3, #12]
 5022 0070 36E0     		b	.L298
 5023              	.LVL517:
 5024              	.L317:
 5025              	.LBB24:
 170:Lib/soes/src/esc_coe.c ****                      return 0;
 5026              		.loc 1 170 22 is_stmt 1 view .LVU1636
 170:Lib/soes/src/esc_coe.c ****                      return 0;
 5027              		.loc 1 170 33 is_stmt 0 view .LVU1637
 5028 0072 4FF0FF33 		mov	r3, #-1
 5029 0076 059A     		ldr	r2, [sp, #20]
 5030 0078 1360     		str	r3, [r2]
 171:Lib/soes/src/esc_coe.c ****                   }
 5031              		.loc 1 171 22 is_stmt 1 view .LVU1638
 171:Lib/soes/src/esc_coe.c ****                   }
 5032              		.loc 1 171 29 is_stmt 0 view .LVU1639
 5033 007a 0020     		movs	r0, #0
 5034              	.LVL518:
 171:Lib/soes/src/esc_coe.c ****                   }
 5035              		.loc 1 171 29 view .LVU1640
 5036 007c 7CE0     		b	.L286
 5037              	.LVL519:
 5038              	.L301:
 186:Lib/soes/src/esc_coe.c ****                      if (nidx >= 0)
 5039              		.loc 1 186 22 is_stmt 1 view .LVU1641
 186:Lib/soes/src/esc_coe.c ****                      if (nidx >= 0)
 5040              		.loc 1 186 29 is_stmt 0 view .LVU1642
 5041 007e FFF7FEFF 		bl	SDO_findobject
 5042              	.LVL520:
 187:Lib/soes/src/esc_coe.c ****                      {
 5043              		.loc 1 187 22 is_stmt 1 view .LVU1643
 187:Lib/soes/src/esc_coe.c ****                      {
 5044              		.loc 1 187 25 is_stmt 0 view .LVU1644
 5045 0082 051E     		subs	r5, r0, #0
 5046 0084 41DB     		blt	.L303
 5047              	.LBB25:
 189:Lib/soes/src/esc_coe.c **** 
 5048              		.loc 1 189 25 is_stmt 1 view .LVU1645
 191:Lib/soes/src/esc_coe.c ****                         if (nsub < 0)
 5049              		.loc 1 191 25 view .LVU1646
 191:Lib/soes/src/esc_coe.c ****                         if (nsub < 0)
 5050              		.loc 1 191 32 is_stmt 0 view .LVU1647
 5051 0086 4946     		mov	r1, r9
ARM GAS  /tmp/ccoG2CDz.s 			page 146


 5052 0088 2846     		mov	r0, r5
 191:Lib/soes/src/esc_coe.c ****                         if (nsub < 0)
 5053              		.loc 1 191 32 view .LVU1648
 5054 008a FFF7FEFF 		bl	SDO_findsubindex
 5055              	.LVL521:
 192:Lib/soes/src/esc_coe.c ****                         {
 5056              		.loc 1 192 25 is_stmt 1 view .LVU1649
 192:Lib/soes/src/esc_coe.c ****                         {
 5057              		.loc 1 192 28 is_stmt 0 view .LVU1650
 5058 008e 0028     		cmp	r0, #0
 5059              	.LVL522:
 192:Lib/soes/src/esc_coe.c ****                         {
 5060              		.loc 1 192 28 view .LVU1651
 5061 0090 35DB     		blt	.L316
 199:Lib/soes/src/esc_coe.c ****                      }
 5062              		.loc 1 199 25 is_stmt 1 view .LVU1652
 199:Lib/soes/src/esc_coe.c ****                      }
 5063              		.loc 1 199 52 is_stmt 0 view .LVU1653
 5064 0092 3C4B     		ldr	r3, .L318
 5065 0094 03EB0513 		add	r3, r3, r5, lsl #4
 5066 0098 DB68     		ldr	r3, [r3, #12]
 199:Lib/soes/src/esc_coe.c ****                      }
 5067              		.loc 1 199 60 view .LVU1654
 5068 009a 00EB8000 		add	r0, r0, r0, lsl #2
 199:Lib/soes/src/esc_coe.c ****                      }
 5069              		.loc 1 199 33 view .LVU1655
 5070 009e 03EB8000 		add	r0, r3, r0, lsl #2
 5071              	.LVL523:
 5072              	.L302:
 199:Lib/soes/src/esc_coe.c ****                      }
 5073              		.loc 1 199 33 view .LVU1656
 5074              	.LBE25:
 209:Lib/soes/src/esc_coe.c ****                   /* Save object list reference */
 5075              		.loc 1 209 19 is_stmt 1 view .LVU1657
 209:Lib/soes/src/esc_coe.c ****                   /* Save object list reference */
 5076              		.loc 1 209 27 is_stmt 0 view .LVU1658
 5077 00a2 08EB4803 		add	r3, r8, r8, lsl #1
 5078 00a6 0199     		ldr	r1, [sp, #4]
 5079 00a8 01EB8302 		add	r2, r1, r3, lsl #2
 209:Lib/soes/src/esc_coe.c ****                   /* Save object list reference */
 5080              		.loc 1 209 39 view .LVU1659
 5081 00ac 41F82300 		str	r0, [r1, r3, lsl #2]
 211:Lib/soes/src/esc_coe.c ****                   {
 5082              		.loc 1 211 19 is_stmt 1 view .LVU1660
 211:Lib/soes/src/esc_coe.c ****                   {
 5083              		.loc 1 211 21 is_stmt 0 view .LVU1661
 5084 00b0 0028     		cmp	r0, #0
 5085 00b2 30D0     		beq	.L305
 213:Lib/soes/src/esc_coe.c ****                   }
 5086              		.loc 1 213 22 is_stmt 1 view .LVU1662
 213:Lib/soes/src/esc_coe.c ****                   }
 5087              		.loc 1 213 55 is_stmt 0 view .LVU1663
 5088 00b4 334B     		ldr	r3, .L318
 5089 00b6 03EB0513 		add	r3, r3, r5, lsl #4
 213:Lib/soes/src/esc_coe.c ****                   }
 5090              		.loc 1 213 53 view .LVU1664
 5091 00ba 5360     		str	r3, [r2, #4]
ARM GAS  /tmp/ccoG2CDz.s 			page 147


 5092              	.L306:
 219:Lib/soes/src/esc_coe.c ****                }
 5093              		.loc 1 219 19 is_stmt 1 view .LVU1665
 219:Lib/soes/src/esc_coe.c ****                }
 5094              		.loc 1 219 33 is_stmt 0 view .LVU1666
 5095 00bc 08F10108 		add	r8, r8, #1
 5096              	.LVL524:
 219:Lib/soes/src/esc_coe.c ****                }
 5097              		.loc 1 219 44 view .LVU1667
 5098 00c0 9760     		str	r7, [r2, #8]
 5099              	.LVL525:
 5100              	.L299:
 219:Lib/soes/src/esc_coe.c ****                }
 5101              		.loc 1 219 44 view .LVU1668
 5102              	.LBE24:
 222:Lib/soes/src/esc_coe.c ****             }
 5103              		.loc 1 222 16 is_stmt 1 discriminator 2 view .LVU1669
 222:Lib/soes/src/esc_coe.c ****             }
 5104              		.loc 1 222 23 is_stmt 0 discriminator 2 view .LVU1670
 5105 00c2 57FA86F7 		uxtab	r7, r7, r6
 5106              	.LVL526:
 222:Lib/soes/src/esc_coe.c ****             }
 5107              		.loc 1 222 23 discriminator 2 view .LVU1671
 5108              	.LBE23:
 156:Lib/soes/src/esc_coe.c ****             {
 5109              		.loc 1 156 38 is_stmt 1 discriminator 2 view .LVU1672
 156:Lib/soes/src/esc_coe.c ****             {
 5110              		.loc 1 156 39 is_stmt 0 discriminator 2 view .LVU1673
 5111 00c6 0134     		adds	r4, r4, #1
 5112              	.LVL527:
 156:Lib/soes/src/esc_coe.c ****             {
 5113              		.loc 1 156 39 discriminator 2 view .LVU1674
 5114 00c8 E4B2     		uxtb	r4, r4
 5115              	.LVL528:
 5116              	.L296:
 156:Lib/soes/src/esc_coe.c ****             {
 5117              		.loc 1 156 25 is_stmt 1 discriminator 1 view .LVU1675
 156:Lib/soes/src/esc_coe.c ****             {
 5118              		.loc 1 156 13 is_stmt 0 discriminator 1 view .LVU1676
 5119 00ca 009B     		ldr	r3, [sp]
 5120 00cc 9C42     		cmp	r4, r3
 5121 00ce 25D8     		bhi	.L293
 5122              	.LBB28:
 158:Lib/soes/src/esc_coe.c ****                uint8_t bitlength = value & 0xFF;
 5123              		.loc 1 158 16 is_stmt 1 view .LVU1677
 158:Lib/soes/src/esc_coe.c ****                uint8_t bitlength = value & 0xFF;
 5124              		.loc 1 158 33 is_stmt 0 view .LVU1678
 5125 00d0 04EB8403 		add	r3, r4, r4, lsl #2
 5126 00d4 0AEB8303 		add	r3, r10, r3, lsl #2
 5127 00d8 1A69     		ldr	r2, [r3, #16]
 5128 00da 002A     		cmp	r2, #0
 5129 00dc C7D0     		beq	.L297
 158:Lib/soes/src/esc_coe.c ****                uint8_t bitlength = value & 0xFF;
 5130              		.loc 1 158 33 discriminator 1 view .LVU1679
 5131 00de 1668     		ldr	r6, [r2]
 5132              	.L298:
 5133              	.LVL529:
ARM GAS  /tmp/ccoG2CDz.s 			page 148


 159:Lib/soes/src/esc_coe.c **** 
 5134              		.loc 1 159 16 is_stmt 1 discriminator 4 view .LVU1680
 161:Lib/soes/src/esc_coe.c ****                {
 5135              		.loc 1 161 16 discriminator 4 view .LVU1681
 161:Lib/soes/src/esc_coe.c ****                {
 5136              		.loc 1 161 19 is_stmt 0 discriminator 4 view .LVU1682
 5137 00e0 BBF1000F 		cmp	fp, #0
 5138 00e4 EDDD     		ble	.L299
 5139              	.LBB27:
 163:Lib/soes/src/esc_coe.c ****                   uint8_t subindex = (value >> 8) & 0xFF;
 5140              		.loc 1 163 19 is_stmt 1 view .LVU1683
 163:Lib/soes/src/esc_coe.c ****                   uint8_t subindex = (value >> 8) & 0xFF;
 5141              		.loc 1 163 28 is_stmt 0 view .LVU1684
 5142 00e6 300C     		lsrs	r0, r6, #16
 5143              	.LVL530:
 164:Lib/soes/src/esc_coe.c ****                   const _objd * mapping;
 5144              		.loc 1 164 19 is_stmt 1 view .LVU1685
 164:Lib/soes/src/esc_coe.c ****                   const _objd * mapping;
 5145              		.loc 1 164 27 is_stmt 0 view .LVU1686
 5146 00e8 C6F30729 		ubfx	r9, r6, #8, #8
 5147              	.LVL531:
 165:Lib/soes/src/esc_coe.c **** 
 5148              		.loc 1 165 19 is_stmt 1 view .LVU1687
 167:Lib/soes/src/esc_coe.c ****                   {
 5149              		.loc 1 167 19 view .LVU1688
 167:Lib/soes/src/esc_coe.c ****                   {
 5150              		.loc 1 167 22 is_stmt 0 view .LVU1689
 5151 00ec D845     		cmp	r8, fp
 5152 00ee C0D0     		beq	.L317
 177:Lib/soes/src/esc_coe.c **** 
 5153              		.loc 1 177 32 is_stmt 1 view .LVU1690
 179:Lib/soes/src/esc_coe.c ****                   {
 5154              		.loc 1 179 19 view .LVU1691
 179:Lib/soes/src/esc_coe.c ****                   {
 5155              		.loc 1 179 22 is_stmt 0 view .LVU1692
 5156 00f0 0028     		cmp	r0, #0
 5157 00f2 C4D1     		bne	.L301
 179:Lib/soes/src/esc_coe.c ****                   {
 5158              		.loc 1 179 34 discriminator 1 view .LVU1693
 5159 00f4 B9F1000F 		cmp	r9, #0
 5160 00f8 C1D1     		bne	.L301
 182:Lib/soes/src/esc_coe.c ****                   }
 5161              		.loc 1 182 30 view .LVU1694
 5162 00fa 0020     		movs	r0, #0
 5163              	.LVL532:
 182:Lib/soes/src/esc_coe.c ****                   }
 5164              		.loc 1 182 30 view .LVU1695
 5165 00fc D1E7     		b	.L302
 5166              	.L316:
 5167              	.LBB26:
 195:Lib/soes/src/esc_coe.c ****                            return 0;
 5168              		.loc 1 195 28 is_stmt 1 view .LVU1696
 195:Lib/soes/src/esc_coe.c ****                            return 0;
 5169              		.loc 1 195 39 is_stmt 0 view .LVU1697
 5170 00fe 4FF0FF33 		mov	r3, #-1
 5171 0102 059A     		ldr	r2, [sp, #20]
 5172 0104 1360     		str	r3, [r2]
ARM GAS  /tmp/ccoG2CDz.s 			page 149


 196:Lib/soes/src/esc_coe.c ****                         }
 5173              		.loc 1 196 28 is_stmt 1 view .LVU1698
 196:Lib/soes/src/esc_coe.c ****                         }
 5174              		.loc 1 196 35 is_stmt 0 view .LVU1699
 5175 0106 0020     		movs	r0, #0
 5176 0108 36E0     		b	.L286
 5177              	.LVL533:
 5178              	.L303:
 196:Lib/soes/src/esc_coe.c ****                         }
 5179              		.loc 1 196 35 view .LVU1700
 5180              	.LBE26:
 204:Lib/soes/src/esc_coe.c ****                         return 0;
 5181              		.loc 1 204 25 is_stmt 1 view .LVU1701
 204:Lib/soes/src/esc_coe.c ****                         return 0;
 5182              		.loc 1 204 36 is_stmt 0 view .LVU1702
 5183 010a 4FF0FF33 		mov	r3, #-1
 5184 010e 059A     		ldr	r2, [sp, #20]
 5185 0110 1360     		str	r3, [r2]
 205:Lib/soes/src/esc_coe.c ****                      }
 5186              		.loc 1 205 25 is_stmt 1 view .LVU1703
 205:Lib/soes/src/esc_coe.c ****                      }
 5187              		.loc 1 205 32 is_stmt 0 view .LVU1704
 5188 0112 0020     		movs	r0, #0
 5189              	.LVL534:
 205:Lib/soes/src/esc_coe.c ****                      }
 5190              		.loc 1 205 32 view .LVU1705
 5191 0114 30E0     		b	.L286
 5192              	.LVL535:
 5193              	.L305:
 217:Lib/soes/src/esc_coe.c ****                   }
 5194              		.loc 1 217 22 is_stmt 1 view .LVU1706
 217:Lib/soes/src/esc_coe.c ****                   }
 5195              		.loc 1 217 53 is_stmt 0 view .LVU1707
 5196 0116 0023     		movs	r3, #0
 5197 0118 5360     		str	r3, [r2, #4]
 5198 011a CFE7     		b	.L306
 5199              	.LVL536:
 5200              	.L293:
 217:Lib/soes/src/esc_coe.c ****                   }
 5201              		.loc 1 217 53 view .LVU1708
 5202              	.LBE27:
 5203              	.LBE28:
 5204              	.LBE22:
 145:Lib/soes/src/esc_coe.c ****       {
 5205              		.loc 1 145 32 is_stmt 1 discriminator 2 view .LVU1709
 145:Lib/soes/src/esc_coe.c ****       {
 5206              		.loc 1 145 35 is_stmt 0 discriminator 2 view .LVU1710
 5207 011c 029B     		ldr	r3, [sp, #8]
 5208 011e 0133     		adds	r3, r3, #1
 5209 0120 DBB2     		uxtb	r3, r3
 5210 0122 0293     		str	r3, [sp, #8]
 5211              	.LVL537:
 5212              	.L289:
 145:Lib/soes/src/esc_coe.c ****       {
 5213              		.loc 1 145 21 is_stmt 1 discriminator 1 view .LVU1711
 145:Lib/soes/src/esc_coe.c ****       {
 5214              		.loc 1 145 7 is_stmt 0 discriminator 1 view .LVU1712
ARM GAS  /tmp/ccoG2CDz.s 			page 150


 5215 0124 029B     		ldr	r3, [sp, #8]
 5216 0126 039A     		ldr	r2, [sp, #12]
 5217 0128 9342     		cmp	r3, r2
 5218 012a 8BD8     		bhi	.L290
 147:Lib/soes/src/esc_coe.c ****          nidx = SDO_findobject (hobj);
 5219              		.loc 1 147 10 is_stmt 1 view .LVU1713
 147:Lib/soes/src/esc_coe.c ****          nidx = SDO_findobject (hobj);
 5220              		.loc 1 147 17 is_stmt 0 view .LVU1714
 5221 012c 029B     		ldr	r3, [sp, #8]
 5222 012e 03EB8303 		add	r3, r3, r3, lsl #2
 5223 0132 049A     		ldr	r2, [sp, #16]
 5224 0134 02EB8303 		add	r3, r2, r3, lsl #2
 5225 0138 1A69     		ldr	r2, [r3, #16]
 147:Lib/soes/src/esc_coe.c ****          nidx = SDO_findobject (hobj);
 5226              		.loc 1 147 15 view .LVU1715
 5227 013a 002A     		cmp	r2, #0
 5228 013c 91D0     		beq	.L291
 147:Lib/soes/src/esc_coe.c ****          nidx = SDO_findobject (hobj);
 5229              		.loc 1 147 15 discriminator 1 view .LVU1716
 5230 013e 1088     		ldrh	r0, [r2]
 5231              	.L292:
 5232              	.LVL538:
 148:Lib/soes/src/esc_coe.c ****          if (nidx >= 0)
 5233              		.loc 1 148 10 is_stmt 1 discriminator 4 view .LVU1717
 148:Lib/soes/src/esc_coe.c ****          if (nidx >= 0)
 5234              		.loc 1 148 17 is_stmt 0 discriminator 4 view .LVU1718
 5235 0140 FFF7FEFF 		bl	SDO_findobject
 5236              	.LVL539:
 149:Lib/soes/src/esc_coe.c ****          {
 5237              		.loc 1 149 10 is_stmt 1 discriminator 4 view .LVU1719
 149:Lib/soes/src/esc_coe.c ****          {
 5238              		.loc 1 149 13 is_stmt 0 discriminator 4 view .LVU1720
 5239 0144 051E     		subs	r5, r0, #0
 5240 0146 E9DB     		blt	.L293
 5241              	.LBB29:
 151:Lib/soes/src/esc_coe.c **** 
 5242              		.loc 1 151 13 is_stmt 1 view .LVU1721
 153:Lib/soes/src/esc_coe.c ****             maxsub = OBJ_VALUE_FETCH (maxsub, objd[0]);
 5243              		.loc 1 153 13 view .LVU1722
 153:Lib/soes/src/esc_coe.c ****             maxsub = OBJ_VALUE_FETCH (maxsub, objd[0]);
 5244              		.loc 1 153 18 is_stmt 0 view .LVU1723
 5245 0148 0E4B     		ldr	r3, .L318
 5246 014a 03EB0513 		add	r3, r3, r5, lsl #4
 5247 014e D3F80CA0 		ldr	r10, [r3, #12]
 5248              	.LVL540:
 154:Lib/soes/src/esc_coe.c **** 
 5249              		.loc 1 154 13 is_stmt 1 view .LVU1724
 154:Lib/soes/src/esc_coe.c **** 
 5250              		.loc 1 154 22 is_stmt 0 view .LVU1725
 5251 0152 DAF81030 		ldr	r3, [r10, #16]
 154:Lib/soes/src/esc_coe.c **** 
 5252              		.loc 1 154 20 view .LVU1726
 5253 0156 002B     		cmp	r3, #0
 5254 0158 85D0     		beq	.L294
 154:Lib/soes/src/esc_coe.c **** 
 5255              		.loc 1 154 20 discriminator 1 view .LVU1727
 5256 015a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  /tmp/ccoG2CDz.s 			page 151


 5257 015c 0093     		str	r3, [sp]
 5258              	.L295:
 5259              	.LVL541:
 156:Lib/soes/src/esc_coe.c ****             {
 5260              		.loc 1 156 13 is_stmt 1 discriminator 4 view .LVU1728
 156:Lib/soes/src/esc_coe.c ****             {
 5261              		.loc 1 156 20 is_stmt 0 discriminator 4 view .LVU1729
 5262 015e 0124     		movs	r4, #1
 156:Lib/soes/src/esc_coe.c ****             {
 5263              		.loc 1 156 13 discriminator 4 view .LVU1730
 5264 0160 B3E7     		b	.L296
 5265              	.LVL542:
 5266              	.L313:
 156:Lib/soes/src/esc_coe.c ****             {
 5267              		.loc 1 156 13 discriminator 4 view .LVU1731
 5268              	.LBE29:
 127:Lib/soes/src/esc_coe.c **** 
 5269              		.loc 1 127 8 view .LVU1732
 5270 0162 4FF00008 		mov	r8, #0
 145:Lib/soes/src/esc_coe.c ****       {
 5271              		.loc 1 145 16 view .LVU1733
 5272 0166 0123     		movs	r3, #1
 5273 0168 0293     		str	r3, [sp, #8]
 121:Lib/soes/src/esc_coe.c ****    uint16_t hobj;
 5274              		.loc 1 121 13 view .LVU1734
 5275 016a 4746     		mov	r7, r8
 5276 016c DAE7     		b	.L289
 5277              	.LVL543:
 5278              	.L309:
 234:Lib/soes/src/esc_coe.c ****    }
 5279              		.loc 1 234 7 is_stmt 1 view .LVU1735
 234:Lib/soes/src/esc_coe.c ****    }
 5280              		.loc 1 234 18 is_stmt 0 view .LVU1736
 5281 016e 0023     		movs	r3, #0
 5282 0170 059A     		ldr	r2, [sp, #20]
 5283 0172 1360     		str	r3, [r2]
 5284 0174 6DE7     		b	.L310
 5285              	.LVL544:
 5286              	.L311:
 131:Lib/soes/src/esc_coe.c ****    }
 5287              		.loc 1 131 14 view .LVU1737
 5288 0176 0020     		movs	r0, #0
 5289              	.LVL545:
 5290              	.L286:
 238:Lib/soes/src/esc_coe.c **** 
 5291              		.loc 1 238 1 view .LVU1738
 5292 0178 07B0     		add	sp, sp, #28
 5293              		.cfi_remember_state
 5294              		.cfi_def_cfa_offset 36
 5295              		@ sp needed
 5296 017a BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 5297              	.LVL546:
 5298              	.L312:
 5299              		.cfi_restore_state
 137:Lib/soes/src/esc_coe.c ****    }
 5300              		.loc 1 137 14 view .LVU1739
 5301 017e 0020     		movs	r0, #0
ARM GAS  /tmp/ccoG2CDz.s 			page 152


 5302              	.LVL547:
 137:Lib/soes/src/esc_coe.c ****    }
 5303              		.loc 1 137 14 view .LVU1740
 5304 0180 FAE7     		b	.L286
 5305              	.L319:
 5306 0182 00BF     		.align	2
 5307              	.L318:
 5308 0184 00000000 		.word	SDOobjects
 5309              		.cfi_endproc
 5310              	.LFE2:
 5312              		.section	.text.ESC_coeprocess,"ax",%progbits
 5313              		.align	1
 5314              		.global	ESC_coeprocess
 5315              		.syntax unified
 5316              		.thumb
 5317              		.thumb_func
 5318              		.fpu fpv4-sp-d16
 5320              	ESC_coeprocess:
 5321              	.LFB20:
1433:Lib/soes/src/esc_coe.c ****    _MBXh *mbh;
 5322              		.loc 1 1433 1 is_stmt 1 view -0
 5323              		.cfi_startproc
 5324              		@ args = 0, pretend = 0, frame = 0
 5325              		@ frame_needed = 0, uses_anonymous_args = 0
 5326 0000 08B5     		push	{r3, lr}
 5327              		.cfi_def_cfa_offset 8
 5328              		.cfi_offset 3, -8
 5329              		.cfi_offset 14, -4
1434:Lib/soes/src/esc_coe.c ****    _COEsdo *coesdo;
 5330              		.loc 1 1434 4 view .LVU1742
1435:Lib/soes/src/esc_coe.c ****    _COEobjdesc *coeobjdesc;
 5331              		.loc 1 1435 4 view .LVU1743
1436:Lib/soes/src/esc_coe.c ****    uint16_t service;
 5332              		.loc 1 1436 4 view .LVU1744
1437:Lib/soes/src/esc_coe.c ****    if (ESCvar.MBXrun == 0)
 5333              		.loc 1 1437 4 view .LVU1745
1438:Lib/soes/src/esc_coe.c ****    {
 5334              		.loc 1 1438 4 view .LVU1746
1438:Lib/soes/src/esc_coe.c ****    {
 5335              		.loc 1 1438 14 is_stmt 0 view .LVU1747
 5336 0002 4F4B     		ldr	r3, .L348
 5337 0004 93F86830 		ldrb	r3, [r3, #104]	@ zero_extendqisi2
1438:Lib/soes/src/esc_coe.c ****    {
 5338              		.loc 1 1438 7 view .LVU1748
 5339 0008 A3B1     		cbz	r3, .L320
1442:Lib/soes/src/esc_coe.c ****    {
 5340              		.loc 1 1442 4 is_stmt 1 view .LVU1749
1442:Lib/soes/src/esc_coe.c ****    {
 5341              		.loc 1 1442 15 is_stmt 0 view .LVU1750
 5342 000a 4D4B     		ldr	r3, .L348
 5343 000c 93F88E30 		ldrb	r3, [r3, #142]	@ zero_extendqisi2
1442:Lib/soes/src/esc_coe.c ****    {
 5344              		.loc 1 1442 7 view .LVU1751
 5345 0010 1BB9     		cbnz	r3, .L322
1442:Lib/soes/src/esc_coe.c ****    {
 5346              		.loc 1 1442 37 discriminator 1 view .LVU1752
 5347 0012 4C4B     		ldr	r3, .L348+4
ARM GAS  /tmp/ccoG2CDz.s 			page 153


 5348 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1442:Lib/soes/src/esc_coe.c ****    {
 5349              		.loc 1 1442 20 discriminator 1 view .LVU1753
 5350 0016 012B     		cmp	r3, #1
 5351 0018 0DD0     		beq	.L337
 5352              	.L322:
1457:Lib/soes/src/esc_coe.c ****    {
 5353              		.loc 1 1457 4 is_stmt 1 view .LVU1754
1457:Lib/soes/src/esc_coe.c ****    {
 5354              		.loc 1 1457 42 is_stmt 0 view .LVU1755
 5355 001a 494B     		ldr	r3, .L348
 5356 001c D3F88C30 		ldr	r3, [r3, #140]
 5357 0020 03F0FF13 		and	r3, r3, #16711935
1457:Lib/soes/src/esc_coe.c ****    {
 5358              		.loc 1 1457 7 view .LVU1756
 5359 0024 B3F5981F 		cmp	r3, #1245184
 5360 0028 18D0     		beq	.L338
 5361              	.L324:
1462:Lib/soes/src/esc_coe.c ****    {
 5362              		.loc 1 1462 4 is_stmt 1 view .LVU1757
1462:Lib/soes/src/esc_coe.c ****    {
 5363              		.loc 1 1462 14 is_stmt 0 view .LVU1758
 5364 002a 454B     		ldr	r3, .L348
 5365 002c 93F88E30 		ldrb	r3, [r3, #142]	@ zero_extendqisi2
1462:Lib/soes/src/esc_coe.c ****    {
 5366              		.loc 1 1462 7 view .LVU1759
 5367 0030 032B     		cmp	r3, #3
 5368 0032 16D0     		beq	.L339
 5369              	.L320:
1552:Lib/soes/src/esc_coe.c **** 
 5370              		.loc 1 1552 1 view .LVU1760
 5371 0034 08BD     		pop	{r3, pc}
 5372              	.L337:
1444:Lib/soes/src/esc_coe.c ****       if (mbh->mbxtype == MBXCOE)
 5373              		.loc 1 1444 7 is_stmt 1 view .LVU1761
 5374              	.LVL548:
1445:Lib/soes/src/esc_coe.c ****       {
 5375              		.loc 1 1445 7 view .LVU1762
1445:Lib/soes/src/esc_coe.c ****       {
 5376              		.loc 1 1445 24 is_stmt 0 view .LVU1763
 5377 0036 444B     		ldr	r3, .L348+8
 5378 0038 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 5379 003a 03F00F03 		and	r3, r3, #15
1445:Lib/soes/src/esc_coe.c ****       {
 5380              		.loc 1 1445 10 view .LVU1764
 5381 003e 032B     		cmp	r3, #3
 5382 0040 EBD1     		bne	.L322
1447:Lib/soes/src/esc_coe.c ****          {
 5383              		.loc 1 1447 10 is_stmt 1 view .LVU1765
1447:Lib/soes/src/esc_coe.c ****          {
 5384              		.loc 1 1447 14 is_stmt 0 view .LVU1766
 5385 0042 414B     		ldr	r3, .L348+8
 5386 0044 1B88     		ldrh	r3, [r3]	@ unaligned
1447:Lib/soes/src/esc_coe.c ****          {
 5387              		.loc 1 1447 13 view .LVU1767
 5388 0046 072B     		cmp	r3, #7
 5389 0048 04D9     		bls	.L340
ARM GAS  /tmp/ccoG2CDz.s 			page 154


1453:Lib/soes/src/esc_coe.c ****          }
 5390              		.loc 1 1453 13 is_stmt 1 view .LVU1768
1453:Lib/soes/src/esc_coe.c ****          }
 5391              		.loc 1 1453 24 is_stmt 0 view .LVU1769
 5392 004a 3D4B     		ldr	r3, .L348
 5393 004c 0322     		movs	r2, #3
 5394 004e 83F88E20 		strb	r2, [r3, #142]
 5395 0052 E2E7     		b	.L322
 5396              	.L340:
1449:Lib/soes/src/esc_coe.c ****          }
 5397              		.loc 1 1449 13 is_stmt 1 view .LVU1770
 5398 0054 0820     		movs	r0, #8
 5399 0056 FFF7FEFF 		bl	MBX_error
 5400              	.LVL549:
 5401 005a DEE7     		b	.L322
 5402              	.LVL550:
 5403              	.L338:
1460:Lib/soes/src/esc_coe.c ****    }
 5404              		.loc 1 1460 7 view .LVU1771
 5405 005c FFF7FEFF 		bl	SDO_getodlistcont
 5406              	.LVL551:
 5407 0060 E3E7     		b	.L324
 5408              	.L339:
1464:Lib/soes/src/esc_coe.c ****       coeobjdesc = (_COEobjdesc *) &MBX[0];
 5409              		.loc 1 1464 7 view .LVU1772
 5410              	.LVL552:
1465:Lib/soes/src/esc_coe.c ****       service = etohs (coesdo->coeheader.numberservice) >> 12;
 5411              		.loc 1 1465 7 view .LVU1773
1466:Lib/soes/src/esc_coe.c ****       if (service == COE_SDOREQUEST)
 5412              		.loc 1 1466 7 view .LVU1774
1466:Lib/soes/src/esc_coe.c ****       if (service == COE_SDOREQUEST)
 5413              		.loc 1 1466 17 is_stmt 0 view .LVU1775
 5414 0062 394B     		ldr	r3, .L348+8
 5415 0064 DB88     		ldrh	r3, [r3, #6]	@ unaligned
1466:Lib/soes/src/esc_coe.c ****       if (service == COE_SDOREQUEST)
 5416              		.loc 1 1466 15 view .LVU1776
 5417 0066 1B0B     		lsrs	r3, r3, #12
 5418              	.LVL553:
1467:Lib/soes/src/esc_coe.c ****       {
 5419              		.loc 1 1467 7 is_stmt 1 view .LVU1777
1467:Lib/soes/src/esc_coe.c ****       {
 5420              		.loc 1 1467 10 is_stmt 0 view .LVU1778
 5421 0068 022B     		cmp	r3, #2
 5422 006a 11D0     		beq	.L341
1510:Lib/soes/src/esc_coe.c ****                && (coeobjdesc->infoheader.opcode == 0x01))
 5423              		.loc 1 1510 10 is_stmt 1 view .LVU1779
1510:Lib/soes/src/esc_coe.c ****                && (coeobjdesc->infoheader.opcode == 0x01))
 5424              		.loc 1 1510 13 is_stmt 0 view .LVU1780
 5425 006c 082B     		cmp	r3, #8
 5426 006e 42D0     		beq	.L342
 5427              	.L331:
1518:Lib/soes/src/esc_coe.c ****                   && (coeobjdesc->infoheader.opcode == 0x03))
 5428              		.loc 1 1518 13 is_stmt 1 view .LVU1781
1518:Lib/soes/src/esc_coe.c ****                   && (coeobjdesc->infoheader.opcode == 0x03))
 5429              		.loc 1 1518 16 is_stmt 0 view .LVU1782
 5430 0070 082B     		cmp	r3, #8
 5431 0072 49D0     		beq	.L343
ARM GAS  /tmp/ccoG2CDz.s 			page 155


 5432              	.L332:
1526:Lib/soes/src/esc_coe.c ****                      && (coeobjdesc->infoheader.opcode == 0x05))
 5433              		.loc 1 1526 16 is_stmt 1 view .LVU1783
1526:Lib/soes/src/esc_coe.c ****                      && (coeobjdesc->infoheader.opcode == 0x05))
 5434              		.loc 1 1526 19 is_stmt 0 view .LVU1784
 5435 0074 082B     		cmp	r3, #8
 5436 0076 50D0     		beq	.L344
 5437              	.L333:
1534:Lib/soes/src/esc_coe.c ****                   {
 5438              		.loc 1 1534 19 is_stmt 1 view .LVU1785
1536:Lib/soes/src/esc_coe.c ****                      {
 5439              		.loc 1 1536 22 view .LVU1786
1536:Lib/soes/src/esc_coe.c ****                      {
 5440              		.loc 1 1536 25 is_stmt 0 view .LVU1787
 5441 0078 002B     		cmp	r3, #0
 5442 007a 57D1     		bne	.L334
1538:Lib/soes/src/esc_coe.c ****                      }
 5443              		.loc 1 1538 25 is_stmt 1 view .LVU1788
 5444 007c 0520     		movs	r0, #5
 5445 007e FFF7FEFF 		bl	MBX_error
 5446              	.LVL554:
 5447              	.L335:
1544:Lib/soes/src/esc_coe.c ****                      ESCvar.xoe = 0;
 5448              		.loc 1 1544 22 view .LVU1789
1544:Lib/soes/src/esc_coe.c ****                      ESCvar.xoe = 0;
 5449              		.loc 1 1544 42 is_stmt 0 view .LVU1790
 5450 0082 0023     		movs	r3, #0
 5451 0084 2F4A     		ldr	r2, .L348+4
 5452 0086 1370     		strb	r3, [r2]
1545:Lib/soes/src/esc_coe.c ****                   }
 5453              		.loc 1 1545 22 is_stmt 1 view .LVU1791
1545:Lib/soes/src/esc_coe.c ****                   }
 5454              		.loc 1 1545 33 is_stmt 0 view .LVU1792
 5455 0088 2D4A     		ldr	r2, .L348
 5456 008a 82F88E30 		strb	r3, [r2, #142]
 5457 008e D1E7     		b	.L320
 5458              	.LVL555:
 5459              	.L341:
1469:Lib/soes/src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE))
 5460              		.loc 1 1469 10 is_stmt 1 view .LVU1793
1469:Lib/soes/src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE))
 5461              		.loc 1 1469 15 is_stmt 0 view .LVU1794
 5462 0090 2D4B     		ldr	r3, .L348+8
 5463              	.LVL556:
1469:Lib/soes/src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE))
 5464              		.loc 1 1469 15 view .LVU1795
 5465 0092 1A7A     		ldrb	r2, [r3, #8]	@ zero_extendqisi2
 5466 0094 02F0E003 		and	r3, r2, #224
 5467              	.LVL557:
1469:Lib/soes/src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE))
 5468              		.loc 1 1469 13 view .LVU1796
 5469 0098 402B     		cmp	r3, #64
 5470 009a 0AD0     		beq	.L345
 5471              	.L326:
1482:Lib/soes/src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE)
 5472              		.loc 1 1482 15 is_stmt 1 view .LVU1797
1482:Lib/soes/src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE)
ARM GAS  /tmp/ccoG2CDz.s 			page 156


 5473              		.loc 1 1482 18 is_stmt 0 view .LVU1798
 5474 009c 02F0EF01 		and	r1, r2, #239
 5475 00a0 6029     		cmp	r1, #96
 5476 00a2 13D0     		beq	.L346
 5477              	.L328:
1489:Lib/soes/src/esc_coe.c ****          {
 5478              		.loc 1 1489 15 is_stmt 1 view .LVU1799
1489:Lib/soes/src/esc_coe.c ****          {
 5479              		.loc 1 1489 18 is_stmt 0 view .LVU1800
 5480 00a4 202B     		cmp	r3, #32
 5481 00a6 1DD0     		beq	.L347
1501:Lib/soes/src/esc_coe.c ****          {
 5482              		.loc 1 1501 15 is_stmt 1 view .LVU1801
1501:Lib/soes/src/esc_coe.c ****          {
 5483              		.loc 1 1501 18 is_stmt 0 view .LVU1802
 5484 00a8 002B     		cmp	r3, #0
 5485 00aa C3D1     		bne	.L320
1504:Lib/soes/src/esc_coe.c ****          }
 5486              		.loc 1 1504 13 is_stmt 1 view .LVU1803
 5487 00ac FFF7FEFF 		bl	SDO_downloadsegment
 5488              	.LVL558:
1504:Lib/soes/src/esc_coe.c ****          }
 5489              		.loc 1 1504 13 is_stmt 0 view .LVU1804
 5490 00b0 C0E7     		b	.L320
 5491              	.LVL559:
 5492              	.L345:
1470:Lib/soes/src/esc_coe.c ****          {
 5493              		.loc 1 1470 20 view .LVU1805
 5494 00b2 2549     		ldr	r1, .L348+8
 5495              	.LVL560:
1470:Lib/soes/src/esc_coe.c ****          {
 5496              		.loc 1 1470 20 view .LVU1806
 5497 00b4 0988     		ldrh	r1, [r1]	@ unaligned
 5498              	.LVL561:
1470:Lib/soes/src/esc_coe.c ****          {
 5499              		.loc 1 1470 16 view .LVU1807
 5500 00b6 0A29     		cmp	r1, #10
 5501 00b8 F0D1     		bne	.L326
1473:Lib/soes/src/esc_coe.c ****             {
 5502              		.loc 1 1473 13 is_stmt 1 view .LVU1808
1473:Lib/soes/src/esc_coe.c ****             {
 5503              		.loc 1 1473 16 is_stmt 0 view .LVU1809
 5504 00ba 12F0100F 		tst	r2, #16
 5505 00be 02D0     		beq	.L327
1475:Lib/soes/src/esc_coe.c ****             }
 5506              		.loc 1 1475 16 is_stmt 1 view .LVU1810
 5507 00c0 FFF7FEFF 		bl	SDO_upload_complete_access
 5508              	.LVL562:
1475:Lib/soes/src/esc_coe.c ****             }
 5509              		.loc 1 1475 16 is_stmt 0 view .LVU1811
 5510 00c4 B6E7     		b	.L320
 5511              	.LVL563:
 5512              	.L327:
1479:Lib/soes/src/esc_coe.c ****             }
 5513              		.loc 1 1479 16 is_stmt 1 view .LVU1812
 5514 00c6 FFF7FEFF 		bl	SDO_upload
 5515              	.LVL564:
ARM GAS  /tmp/ccoG2CDz.s 			page 157


1479:Lib/soes/src/esc_coe.c ****             }
 5516              		.loc 1 1479 16 is_stmt 0 view .LVU1813
 5517 00ca B3E7     		b	.L320
 5518              	.LVL565:
 5519              	.L346:
1483:Lib/soes/src/esc_coe.c ****                && (ESCvar.segmented == MBXSEU))
 5520              		.loc 1 1483 20 view .LVU1814
 5521 00cc 1E49     		ldr	r1, .L348+8
 5522              	.LVL566:
1483:Lib/soes/src/esc_coe.c ****                && (ESCvar.segmented == MBXSEU))
 5523              		.loc 1 1483 20 view .LVU1815
 5524 00ce 0988     		ldrh	r1, [r1]	@ unaligned
 5525              	.LVL567:
1483:Lib/soes/src/esc_coe.c ****                && (ESCvar.segmented == MBXSEU))
 5526              		.loc 1 1483 16 view .LVU1816
 5527 00d0 0A29     		cmp	r1, #10
 5528 00d2 E7D1     		bne	.L328
1484:Lib/soes/src/esc_coe.c ****          {
 5529              		.loc 1 1484 26 view .LVU1817
 5530 00d4 1A49     		ldr	r1, .L348
 5531 00d6 91F89110 		ldrb	r1, [r1, #145]	@ zero_extendqisi2
1484:Lib/soes/src/esc_coe.c ****          {
 5532              		.loc 1 1484 16 view .LVU1818
 5533 00da 4029     		cmp	r1, #64
 5534 00dc E2D1     		bne	.L328
1487:Lib/soes/src/esc_coe.c ****          }
 5535              		.loc 1 1487 13 is_stmt 1 view .LVU1819
 5536 00de FFF7FEFF 		bl	SDO_uploadsegment
 5537              	.LVL568:
1487:Lib/soes/src/esc_coe.c ****          }
 5538              		.loc 1 1487 13 is_stmt 0 view .LVU1820
 5539 00e2 A7E7     		b	.L320
 5540              	.LVL569:
 5541              	.L347:
1492:Lib/soes/src/esc_coe.c ****             {
 5542              		.loc 1 1492 13 is_stmt 1 view .LVU1821
1492:Lib/soes/src/esc_coe.c ****             {
 5543              		.loc 1 1492 16 is_stmt 0 view .LVU1822
 5544 00e4 12F0100F 		tst	r2, #16
 5545 00e8 02D0     		beq	.L330
1494:Lib/soes/src/esc_coe.c ****             }
 5546              		.loc 1 1494 16 is_stmt 1 view .LVU1823
 5547 00ea FFF7FEFF 		bl	SDO_download_complete_access
 5548              	.LVL570:
1494:Lib/soes/src/esc_coe.c ****             }
 5549              		.loc 1 1494 16 is_stmt 0 view .LVU1824
 5550 00ee A1E7     		b	.L320
 5551              	.LVL571:
 5552              	.L330:
1498:Lib/soes/src/esc_coe.c ****             }
 5553              		.loc 1 1498 16 is_stmt 1 view .LVU1825
 5554 00f0 FFF7FEFF 		bl	SDO_download
 5555              	.LVL572:
1498:Lib/soes/src/esc_coe.c ****             }
 5556              		.loc 1 1498 16 is_stmt 0 view .LVU1826
 5557 00f4 9EE7     		b	.L320
 5558              	.LVL573:
ARM GAS  /tmp/ccoG2CDz.s 			page 158


 5559              	.L342:
1511:Lib/soes/src/esc_coe.c ****          {
 5560              		.loc 1 1511 50 view .LVU1827
 5561 00f6 144A     		ldr	r2, .L348+8
 5562 00f8 127A     		ldrb	r2, [r2, #8]	@ zero_extendqisi2
 5563 00fa 02F07F02 		and	r2, r2, #127
1511:Lib/soes/src/esc_coe.c ****          {
 5564              		.loc 1 1511 16 view .LVU1828
 5565 00fe 012A     		cmp	r2, #1
 5566 0100 B6D1     		bne	.L331
1513:Lib/soes/src/esc_coe.c ****          }
 5567              		.loc 1 1513 13 is_stmt 1 view .LVU1829
 5568 0102 FFF7FEFF 		bl	SDO_getodlist
 5569              	.LVL574:
1513:Lib/soes/src/esc_coe.c ****          }
 5570              		.loc 1 1513 13 is_stmt 0 view .LVU1830
 5571 0106 95E7     		b	.L320
 5572              	.LVL575:
 5573              	.L343:
1519:Lib/soes/src/esc_coe.c ****             {
 5574              		.loc 1 1519 53 view .LVU1831
 5575 0108 0F4A     		ldr	r2, .L348+8
 5576 010a 127A     		ldrb	r2, [r2, #8]	@ zero_extendqisi2
 5577 010c 02F07F02 		and	r2, r2, #127
1519:Lib/soes/src/esc_coe.c ****             {
 5578              		.loc 1 1519 19 view .LVU1832
 5579 0110 032A     		cmp	r2, #3
 5580 0112 AFD1     		bne	.L332
1521:Lib/soes/src/esc_coe.c ****             }
 5581              		.loc 1 1521 16 is_stmt 1 view .LVU1833
 5582 0114 FFF7FEFF 		bl	SDO_getod
 5583              	.LVL576:
1521:Lib/soes/src/esc_coe.c ****             }
 5584              		.loc 1 1521 16 is_stmt 0 view .LVU1834
 5585 0118 8CE7     		b	.L320
 5586              	.LVL577:
 5587              	.L344:
1527:Lib/soes/src/esc_coe.c ****                {
 5588              		.loc 1 1527 56 view .LVU1835
 5589 011a 0B4A     		ldr	r2, .L348+8
 5590 011c 127A     		ldrb	r2, [r2, #8]	@ zero_extendqisi2
 5591 011e 02F07F02 		and	r2, r2, #127
1527:Lib/soes/src/esc_coe.c ****                {
 5592              		.loc 1 1527 22 view .LVU1836
 5593 0122 052A     		cmp	r2, #5
 5594 0124 A8D1     		bne	.L333
1529:Lib/soes/src/esc_coe.c ****                }
 5595              		.loc 1 1529 19 is_stmt 1 view .LVU1837
 5596 0126 FFF7FEFF 		bl	SDO_geted
 5597              	.LVL578:
1529:Lib/soes/src/esc_coe.c ****                }
 5598              		.loc 1 1529 19 is_stmt 0 view .LVU1838
 5599 012a 83E7     		b	.L320
 5600              	.LVL579:
 5601              	.L334:
1542:Lib/soes/src/esc_coe.c ****                      }
 5602              		.loc 1 1542 25 is_stmt 1 view .LVU1839
ARM GAS  /tmp/ccoG2CDz.s 			page 159


1542:Lib/soes/src/esc_coe.c ****                      }
 5603              		.loc 1 1542 39 is_stmt 0 view .LVU1840
 5604 012c 0649     		ldr	r1, .L348+8
1542:Lib/soes/src/esc_coe.c ****                      }
 5605              		.loc 1 1542 25 view .LVU1841
 5606 012e 074B     		ldr	r3, .L348+12
 5607              	.LVL580:
1542:Lib/soes/src/esc_coe.c ****                      }
 5608              		.loc 1 1542 25 view .LVU1842
 5609 0130 CA7A     		ldrb	r2, [r1, #11]	@ zero_extendqisi2
 5610 0132 B1F80910 		ldrh	r1, [r1, #9]	@ unaligned
 5611              	.LVL581:
1542:Lib/soes/src/esc_coe.c ****                      }
 5612              		.loc 1 1542 25 view .LVU1843
 5613 0136 0020     		movs	r0, #0
 5614 0138 FFF7FEFF 		bl	SDO_abort
 5615              	.LVL582:
1542:Lib/soes/src/esc_coe.c ****                      }
 5616              		.loc 1 1542 25 view .LVU1844
 5617 013c A1E7     		b	.L335
 5618              	.L349:
 5619 013e 00BF     		.align	2
 5620              	.L348:
 5621 0140 00000000 		.word	ESCvar
 5622 0144 00000000 		.word	MBXcontrol
 5623 0148 00000000 		.word	MBX
 5624 014c 00000106 		.word	100728832
 5625              		.cfi_endproc
 5626              	.LFE20:
 5628              		.section	.text.COE_initDefaultValues,"ax",%progbits
 5629              		.align	1
 5630              		.global	COE_initDefaultValues
 5631              		.syntax unified
 5632              		.thumb
 5633              		.thumb_func
 5634              		.fpu fpv4-sp-d16
 5636              	COE_initDefaultValues:
 5637              	.LFB25:
1733:Lib/soes/src/esc_coe.c **** 
1734:Lib/soes/src/esc_coe.c **** /**
1735:Lib/soes/src/esc_coe.c ****  * Init default values for SDO objects
1736:Lib/soes/src/esc_coe.c ****  */
1737:Lib/soes/src/esc_coe.c **** void COE_initDefaultValues (void)
1738:Lib/soes/src/esc_coe.c **** {
 5638              		.loc 1 1738 1 is_stmt 1 view -0
 5639              		.cfi_startproc
 5640              		@ args = 0, pretend = 0, frame = 0
 5641              		@ frame_needed = 0, uses_anonymous_args = 0
1739:Lib/soes/src/esc_coe.c ****    int i;
 5642              		.loc 1 1739 4 view .LVU1846
1740:Lib/soes/src/esc_coe.c ****    const _objd *objd;
 5643              		.loc 1 1740 4 view .LVU1847
1741:Lib/soes/src/esc_coe.c ****    int n;
 5644              		.loc 1 1741 4 view .LVU1848
1742:Lib/soes/src/esc_coe.c ****    uint8_t maxsub;
 5645              		.loc 1 1742 4 view .LVU1849
1743:Lib/soes/src/esc_coe.c **** 
ARM GAS  /tmp/ccoG2CDz.s 			page 160


1744:Lib/soes/src/esc_coe.c ****    /* Let application decide if initialization will be skipped */
1745:Lib/soes/src/esc_coe.c ****    if (ESCvar.skip_default_initialization)
 5646              		.loc 1 1745 4 view .LVU1850
 5647              		.loc 1 1745 14 is_stmt 0 view .LVU1851
 5648 0000 184B     		ldr	r3, .L363
 5649 0002 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
 5650              		.loc 1 1745 7 view .LVU1852
 5651 0006 63BB     		cbnz	r3, .L357
1738:Lib/soes/src/esc_coe.c ****    int i;
 5652              		.loc 1 1738 1 view .LVU1853
 5653 0008 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 5654              		.cfi_def_cfa_offset 24
 5655              		.cfi_offset 4, -24
 5656              		.cfi_offset 5, -20
 5657              		.cfi_offset 6, -16
 5658              		.cfi_offset 7, -12
 5659              		.cfi_offset 8, -8
 5660              		.cfi_offset 14, -4
1746:Lib/soes/src/esc_coe.c ****    {
1747:Lib/soes/src/esc_coe.c ****       return;
1748:Lib/soes/src/esc_coe.c ****    }
1749:Lib/soes/src/esc_coe.c **** 
1750:Lib/soes/src/esc_coe.c ****    /* Set default values from object descriptor */
1751:Lib/soes/src/esc_coe.c ****    for (n = 0; SDOobjects[n].index != 0xffff; n++)
 5661              		.loc 1 1751 11 view .LVU1854
 5662 000c 4FF00008 		mov	r8, #0
 5663 0010 12E0     		b	.L352
 5664              	.LVL583:
 5665              	.L361:
1752:Lib/soes/src/esc_coe.c ****    {
1753:Lib/soes/src/esc_coe.c ****       objd = SDOobjects[n].objdesc;
1754:Lib/soes/src/esc_coe.c ****       maxsub = SDOobjects[n].maxsub;
1755:Lib/soes/src/esc_coe.c **** 
1756:Lib/soes/src/esc_coe.c ****       i = 0;
1757:Lib/soes/src/esc_coe.c ****       do
1758:Lib/soes/src/esc_coe.c ****       {
1759:Lib/soes/src/esc_coe.c ****          if (objd[i].data != NULL)
1760:Lib/soes/src/esc_coe.c ****          {
1761:Lib/soes/src/esc_coe.c ****             COE_setValue (&objd[i], objd[i].value);
 5666              		.loc 1 1761 13 is_stmt 1 view .LVU1855
 5667 0012 C268     		ldr	r2, [r0, #12]
 5668 0014 0023     		movs	r3, #0
 5669 0016 FFF7FEFF 		bl	COE_setValue
 5670              	.LVL584:
 5671              	.L353:
1762:Lib/soes/src/esc_coe.c ****             DPRINT ("%04"PRIx32":%02"PRIx32" = %"PRIx32"\n",
1763:Lib/soes/src/esc_coe.c ****                   SDOobjects[n].index,
1764:Lib/soes/src/esc_coe.c ****                   objd[i].subindex,
1765:Lib/soes/src/esc_coe.c ****                   objd[i].value);
 5672              		.loc 1 1765 33 view .LVU1856
1766:Lib/soes/src/esc_coe.c ****          }
1767:Lib/soes/src/esc_coe.c ****       } while (objd[i++].subindex < maxsub);
 5673              		.loc 1 1767 15 view .LVU1857
 5674              		.loc 1 1767 22 is_stmt 0 view .LVU1858
 5675 001a 0134     		adds	r4, r4, #1
 5676              	.LVL585:
 5677              		.loc 1 1767 25 view .LVU1859
ARM GAS  /tmp/ccoG2CDz.s 			page 161


 5678 001c 725B     		ldrh	r2, [r6, r5]
 5679              		.loc 1 1767 35 view .LVU1860
 5680 001e BBB2     		uxth	r3, r7
 5681              		.loc 1 1767 7 view .LVU1861
 5682 0020 9A42     		cmp	r2, r3
 5683 0022 07D2     		bcs	.L360
 5684              	.LVL586:
 5685              	.L354:
1757:Lib/soes/src/esc_coe.c ****       {
 5686              		.loc 1 1757 7 is_stmt 1 view .LVU1862
1759:Lib/soes/src/esc_coe.c ****          {
 5687              		.loc 1 1759 10 view .LVU1863
1759:Lib/soes/src/esc_coe.c ****          {
 5688              		.loc 1 1759 18 is_stmt 0 view .LVU1864
 5689 0024 04EB8403 		add	r3, r4, r4, lsl #2
 5690 0028 9D00     		lsls	r5, r3, #2
 5691 002a 7019     		adds	r0, r6, r5
1759:Lib/soes/src/esc_coe.c ****          {
 5692              		.loc 1 1759 21 view .LVU1865
 5693 002c 0369     		ldr	r3, [r0, #16]
1759:Lib/soes/src/esc_coe.c ****          {
 5694              		.loc 1 1759 13 view .LVU1866
 5695 002e 002B     		cmp	r3, #0
 5696 0030 EFD1     		bne	.L361
1759:Lib/soes/src/esc_coe.c ****          {
 5697              		.loc 1 1759 13 view .LVU1867
 5698 0032 F2E7     		b	.L353
 5699              	.L360:
1751:Lib/soes/src/esc_coe.c ****    {
 5700              		.loc 1 1751 47 is_stmt 1 discriminator 2 view .LVU1868
1751:Lib/soes/src/esc_coe.c ****    {
 5701              		.loc 1 1751 48 is_stmt 0 discriminator 2 view .LVU1869
 5702 0034 08F10108 		add	r8, r8, #1
 5703              	.LVL587:
 5704              	.L352:
1751:Lib/soes/src/esc_coe.c ****    {
 5705              		.loc 1 1751 16 is_stmt 1 discriminator 1 view .LVU1870
1751:Lib/soes/src/esc_coe.c ****    {
 5706              		.loc 1 1751 29 is_stmt 0 discriminator 1 view .LVU1871
 5707 0038 4FEA0813 		lsl	r3, r8, #4
 5708 003c 0A4A     		ldr	r2, .L363+4
 5709 003e D25A     		ldrh	r2, [r2, r3]
1751:Lib/soes/src/esc_coe.c ****    {
 5710              		.loc 1 1751 4 discriminator 1 view .LVU1872
 5711 0040 4FF6FF73 		movw	r3, #65535
 5712 0044 9A42     		cmp	r2, r3
 5713 0046 06D0     		beq	.L362
1753:Lib/soes/src/esc_coe.c ****       maxsub = SDOobjects[n].maxsub;
 5714              		.loc 1 1753 7 is_stmt 1 view .LVU1873
1753:Lib/soes/src/esc_coe.c ****       maxsub = SDOobjects[n].maxsub;
 5715              		.loc 1 1753 12 is_stmt 0 view .LVU1874
 5716 0048 074B     		ldr	r3, .L363+4
 5717 004a 03EB0813 		add	r3, r3, r8, lsl #4
 5718 004e DE68     		ldr	r6, [r3, #12]
 5719              	.LVL588:
1754:Lib/soes/src/esc_coe.c **** 
 5720              		.loc 1 1754 7 is_stmt 1 view .LVU1875
ARM GAS  /tmp/ccoG2CDz.s 			page 162


1754:Lib/soes/src/esc_coe.c **** 
 5721              		.loc 1 1754 14 is_stmt 0 view .LVU1876
 5722 0050 1F79     		ldrb	r7, [r3, #4]	@ zero_extendqisi2
 5723              	.LVL589:
1756:Lib/soes/src/esc_coe.c ****       do
 5724              		.loc 1 1756 7 is_stmt 1 view .LVU1877
1756:Lib/soes/src/esc_coe.c ****       do
 5725              		.loc 1 1756 9 is_stmt 0 view .LVU1878
 5726 0052 0024     		movs	r4, #0
 5727 0054 E6E7     		b	.L354
 5728              	.LVL590:
 5729              	.L362:
1768:Lib/soes/src/esc_coe.c ****    }
1769:Lib/soes/src/esc_coe.c **** 
1770:Lib/soes/src/esc_coe.c ****    /* Let application override default values */
1771:Lib/soes/src/esc_coe.c ****    if (ESCvar.set_defaults_hook != NULL)
 5730              		.loc 1 1771 4 is_stmt 1 view .LVU1879
 5731              		.loc 1 1771 14 is_stmt 0 view .LVU1880
 5732 0056 034B     		ldr	r3, .L363
 5733 0058 9B6A     		ldr	r3, [r3, #40]
 5734              		.loc 1 1771 7 view .LVU1881
 5735 005a 03B1     		cbz	r3, .L350
1772:Lib/soes/src/esc_coe.c ****    {
1773:Lib/soes/src/esc_coe.c ****       ESCvar.set_defaults_hook();
 5736              		.loc 1 1773 7 is_stmt 1 view .LVU1882
 5737 005c 9847     		blx	r3
 5738              	.LVL591:
 5739              	.L350:
1774:Lib/soes/src/esc_coe.c ****    }
1775:Lib/soes/src/esc_coe.c **** }
 5740              		.loc 1 1775 1 is_stmt 0 view .LVU1883
 5741 005e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 5742              	.LVL592:
 5743              	.L357:
 5744              		.cfi_def_cfa_offset 0
 5745              		.cfi_restore 4
 5746              		.cfi_restore 5
 5747              		.cfi_restore 6
 5748              		.cfi_restore 7
 5749              		.cfi_restore 8
 5750              		.cfi_restore 14
 5751              		.loc 1 1775 1 view .LVU1884
 5752 0062 7047     		bx	lr
 5753              	.L364:
 5754              		.align	2
 5755              	.L363:
 5756 0064 00000000 		.word	ESCvar
 5757 0068 00000000 		.word	SDOobjects
 5758              		.cfi_endproc
 5759              	.LFE25:
 5761              		.section	.rodata.COE_pdoPack.str1.4,"aMS",%progbits,1
 5762              		.align	2
 5763              	.LC2:
 5764 0000 28287569 		.ascii	"((uintptr_t)buffer & 0x07) == 0\000"
 5764      6E747074 
 5764      725F7429 
 5764      62756666 
ARM GAS  /tmp/ccoG2CDz.s 			page 163


 5764      65722026 
 5765              		.section	.text.COE_pdoPack,"ax",%progbits
 5766              		.align	1
 5767              		.global	COE_pdoPack
 5768              		.syntax unified
 5769              		.thumb
 5770              		.thumb_func
 5771              		.fpu fpv4-sp-d16
 5773              	COE_pdoPack:
 5774              	.LVL593:
 5775              	.LFB26:
1776:Lib/soes/src/esc_coe.c **** 
1777:Lib/soes/src/esc_coe.c **** /**
1778:Lib/soes/src/esc_coe.c ****  * Pack process data
1779:Lib/soes/src/esc_coe.c ****  *
1780:Lib/soes/src/esc_coe.c ****  * This function reads mapped objects and constructs the process data
1781:Lib/soes/src/esc_coe.c ****  * inputs (TXPDO).
1782:Lib/soes/src/esc_coe.c ****  *
1783:Lib/soes/src/esc_coe.c ****  * @param[in] buffer     = input process data
1784:Lib/soes/src/esc_coe.c ****  * @param[in] nmappings  = number of mappings in sync manager
1785:Lib/soes/src/esc_coe.c ****  * @param[in] mappings   = list of mapped objects in sync manager
1786:Lib/soes/src/esc_coe.c ****  */
1787:Lib/soes/src/esc_coe.c **** void COE_pdoPack (uint8_t * buffer, int nmappings, _SMmap * mappings)
1788:Lib/soes/src/esc_coe.c **** {
 5776              		.loc 1 1788 1 is_stmt 1 view -0
 5777              		.cfi_startproc
 5778              		@ args = 0, pretend = 0, frame = 0
 5779              		@ frame_needed = 0, uses_anonymous_args = 0
 5780              		.loc 1 1788 1 is_stmt 0 view .LVU1886
 5781 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 5782              		.cfi_def_cfa_offset 28
 5783              		.cfi_offset 4, -28
 5784              		.cfi_offset 5, -24
 5785              		.cfi_offset 6, -20
 5786              		.cfi_offset 7, -16
 5787              		.cfi_offset 8, -12
 5788              		.cfi_offset 9, -8
 5789              		.cfi_offset 14, -4
 5790 0004 83B0     		sub	sp, sp, #12
 5791              		.cfi_def_cfa_offset 40
1789:Lib/soes/src/esc_coe.c ****    int ix;
 5792              		.loc 1 1789 4 is_stmt 1 view .LVU1887
1790:Lib/soes/src/esc_coe.c **** 
1791:Lib/soes/src/esc_coe.c ****    /* Check that buffer is aligned on 64-bit boundary */
1792:Lib/soes/src/esc_coe.c ****    CC_ASSERT (((uintptr_t)buffer & 0x07) == 0);
 5793              		.loc 1 1792 4 view .LVU1888
 5794 0006 10F0070F 		tst	r0, #7
 5795 000a 04D1     		bne	.L372
 5796 000c 8046     		mov	r8, r0
 5797 000e 0F46     		mov	r7, r1
 5798 0010 1646     		mov	r6, r2
1793:Lib/soes/src/esc_coe.c **** 
1794:Lib/soes/src/esc_coe.c ****    for (ix = 0; ix < nmappings; ix++)
 5799              		.loc 1 1794 12 is_stmt 0 view .LVU1889
 5800 0012 0024     		movs	r4, #0
 5801 0014 10E0     		b	.L366
 5802              	.L372:
ARM GAS  /tmp/ccoG2CDz.s 			page 164


1792:Lib/soes/src/esc_coe.c **** 
 5803              		.loc 1 1792 4 discriminator 1 view .LVU1890
 5804 0016 154B     		ldr	r3, .L374
 5805 0018 154A     		ldr	r2, .L374+4
 5806              	.LVL594:
1792:Lib/soes/src/esc_coe.c **** 
 5807              		.loc 1 1792 4 discriminator 1 view .LVU1891
 5808 001a 4FF4E061 		mov	r1, #1792
 5809              	.LVL595:
1792:Lib/soes/src/esc_coe.c **** 
 5810              		.loc 1 1792 4 discriminator 1 view .LVU1892
 5811 001e 1548     		ldr	r0, .L374+8
 5812              	.LVL596:
1792:Lib/soes/src/esc_coe.c **** 
 5813              		.loc 1 1792 4 discriminator 1 view .LVU1893
 5814 0020 FFF7FEFF 		bl	__assert_func
 5815              	.LVL597:
 5816              	.L368:
 5817              	.LBB30:
 5818              	.LBB31:
1795:Lib/soes/src/esc_coe.c ****    {
1796:Lib/soes/src/esc_coe.c ****       const _objd * obj = mappings[ix].obj;
1797:Lib/soes/src/esc_coe.c ****       uint32_t offset = mappings[ix].offset;
1798:Lib/soes/src/esc_coe.c **** 
1799:Lib/soes/src/esc_coe.c ****       if (obj != NULL)
1800:Lib/soes/src/esc_coe.c ****       {
1801:Lib/soes/src/esc_coe.c ****          if (obj->bitlength > 64)
1802:Lib/soes/src/esc_coe.c ****          {
1803:Lib/soes/src/esc_coe.c ****             memcpy (
1804:Lib/soes/src/esc_coe.c ****                &buffer[BITSPOS2BYTESOFFSET (offset)],
1805:Lib/soes/src/esc_coe.c ****                obj->data,
1806:Lib/soes/src/esc_coe.c ****                BITS2BYTES (obj->bitlength)
1807:Lib/soes/src/esc_coe.c ****             );
1808:Lib/soes/src/esc_coe.c ****          }
1809:Lib/soes/src/esc_coe.c ****          else
1810:Lib/soes/src/esc_coe.c ****          {
1811:Lib/soes/src/esc_coe.c ****             /* Atomically get object value */
1812:Lib/soes/src/esc_coe.c ****             uint64_t value = COE_getValue (obj);
 5819              		.loc 1 1812 13 is_stmt 1 view .LVU1894
 5820              		.loc 1 1812 30 is_stmt 0 view .LVU1895
 5821 0024 FFF7FEFF 		bl	COE_getValue
 5822              	.LVL598:
1813:Lib/soes/src/esc_coe.c ****             COE_bitsliceSet (
 5823              		.loc 1 1813 13 is_stmt 1 view .LVU1896
 5824 0028 CDE90001 		strd	r0, [sp]
 5825 002c 2A46     		mov	r2, r5
 5826 002e 4946     		mov	r1, r9
 5827 0030 4046     		mov	r0, r8
 5828              	.LVL599:
 5829              		.loc 1 1813 13 is_stmt 0 view .LVU1897
 5830 0032 FFF7FEFF 		bl	COE_bitsliceSet
 5831              	.LVL600:
 5832              	.L367:
 5833              		.loc 1 1813 13 view .LVU1898
 5834              	.LBE31:
 5835              	.LBE30:
1794:Lib/soes/src/esc_coe.c ****    {
ARM GAS  /tmp/ccoG2CDz.s 			page 165


 5836              		.loc 1 1794 33 is_stmt 1 discriminator 2 view .LVU1899
1794:Lib/soes/src/esc_coe.c ****    {
 5837              		.loc 1 1794 35 is_stmt 0 discriminator 2 view .LVU1900
 5838 0036 0134     		adds	r4, r4, #1
 5839              	.LVL601:
 5840              	.L366:
1794:Lib/soes/src/esc_coe.c ****    {
 5841              		.loc 1 1794 17 is_stmt 1 discriminator 1 view .LVU1901
1794:Lib/soes/src/esc_coe.c ****    {
 5842              		.loc 1 1794 4 is_stmt 0 discriminator 1 view .LVU1902
 5843 0038 BC42     		cmp	r4, r7
 5844 003a 14DA     		bge	.L373
 5845              	.LBB32:
1796:Lib/soes/src/esc_coe.c ****       uint32_t offset = mappings[ix].offset;
 5846              		.loc 1 1796 7 is_stmt 1 view .LVU1903
1796:Lib/soes/src/esc_coe.c ****       uint32_t offset = mappings[ix].offset;
 5847              		.loc 1 1796 35 is_stmt 0 view .LVU1904
 5848 003c 04EB4403 		add	r3, r4, r4, lsl #1
 5849 0040 06EB8302 		add	r2, r6, r3, lsl #2
1796:Lib/soes/src/esc_coe.c ****       uint32_t offset = mappings[ix].offset;
 5850              		.loc 1 1796 21 view .LVU1905
 5851 0044 56F82300 		ldr	r0, [r6, r3, lsl #2]
 5852              	.LVL602:
1797:Lib/soes/src/esc_coe.c **** 
 5853              		.loc 1 1797 7 is_stmt 1 view .LVU1906
1797:Lib/soes/src/esc_coe.c **** 
 5854              		.loc 1 1797 16 is_stmt 0 view .LVU1907
 5855 0048 D2F80890 		ldr	r9, [r2, #8]
 5856              	.LVL603:
1799:Lib/soes/src/esc_coe.c ****       {
 5857              		.loc 1 1799 7 is_stmt 1 view .LVU1908
1799:Lib/soes/src/esc_coe.c ****       {
 5858              		.loc 1 1799 10 is_stmt 0 view .LVU1909
 5859 004c 0028     		cmp	r0, #0
 5860 004e F2D0     		beq	.L367
1801:Lib/soes/src/esc_coe.c ****          {
 5861              		.loc 1 1801 10 is_stmt 1 view .LVU1910
1801:Lib/soes/src/esc_coe.c ****          {
 5862              		.loc 1 1801 17 is_stmt 0 view .LVU1911
 5863 0050 8588     		ldrh	r5, [r0, #4]
1801:Lib/soes/src/esc_coe.c ****          {
 5864              		.loc 1 1801 13 view .LVU1912
 5865 0052 402D     		cmp	r5, #64
 5866 0054 E6D9     		bls	.L368
1803:Lib/soes/src/esc_coe.c ****                &buffer[BITSPOS2BYTESOFFSET (offset)],
 5867              		.loc 1 1803 13 is_stmt 1 view .LVU1913
1806:Lib/soes/src/esc_coe.c ****             );
 5868              		.loc 1 1806 16 is_stmt 0 view .LVU1914
 5869 0056 EA1D     		adds	r2, r5, #7
1803:Lib/soes/src/esc_coe.c ****                &buffer[BITSPOS2BYTESOFFSET (offset)],
 5870              		.loc 1 1803 13 view .LVU1915
 5871 0058 D208     		lsrs	r2, r2, #3
 5872 005a 0169     		ldr	r1, [r0, #16]
 5873 005c 08EBD900 		add	r0, r8, r9, lsr #3
 5874              	.LVL604:
1803:Lib/soes/src/esc_coe.c ****                &buffer[BITSPOS2BYTESOFFSET (offset)],
 5875              		.loc 1 1803 13 view .LVU1916
ARM GAS  /tmp/ccoG2CDz.s 			page 166


 5876 0060 FFF7FEFF 		bl	memcpy
 5877              	.LVL605:
1803:Lib/soes/src/esc_coe.c ****                &buffer[BITSPOS2BYTESOFFSET (offset)],
 5878              		.loc 1 1803 13 view .LVU1917
 5879 0064 E7E7     		b	.L367
 5880              	.LVL606:
 5881              	.L373:
1803:Lib/soes/src/esc_coe.c ****                &buffer[BITSPOS2BYTESOFFSET (offset)],
 5882              		.loc 1 1803 13 view .LVU1918
 5883              	.LBE32:
1814:Lib/soes/src/esc_coe.c ****                (uint64_t *)buffer,
1815:Lib/soes/src/esc_coe.c ****                offset,
1816:Lib/soes/src/esc_coe.c ****                obj->bitlength,
1817:Lib/soes/src/esc_coe.c ****                value
1818:Lib/soes/src/esc_coe.c ****             );
1819:Lib/soes/src/esc_coe.c ****          }
1820:Lib/soes/src/esc_coe.c ****       }
1821:Lib/soes/src/esc_coe.c ****    }
1822:Lib/soes/src/esc_coe.c **** }
 5884              		.loc 1 1822 1 view .LVU1919
 5885 0066 03B0     		add	sp, sp, #12
 5886              		.cfi_def_cfa_offset 28
 5887              		@ sp needed
 5888 0068 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 5889              	.LVL607:
 5890              	.L375:
 5891              		.loc 1 1822 1 view .LVU1920
 5892              		.align	2
 5893              	.L374:
 5894 006c 00000000 		.word	.LC2
 5895 0070 00000000 		.word	.LANCHOR1
 5896 0074 04000000 		.word	.LC1
 5897              		.cfi_endproc
 5898              	.LFE26:
 5900              		.section	.text.COE_pdoUnpack,"ax",%progbits
 5901              		.align	1
 5902              		.global	COE_pdoUnpack
 5903              		.syntax unified
 5904              		.thumb
 5905              		.thumb_func
 5906              		.fpu fpv4-sp-d16
 5908              	COE_pdoUnpack:
 5909              	.LVL608:
 5910              	.LFB27:
1823:Lib/soes/src/esc_coe.c **** 
1824:Lib/soes/src/esc_coe.c **** /**
1825:Lib/soes/src/esc_coe.c ****  * Unpack process data
1826:Lib/soes/src/esc_coe.c ****  *
1827:Lib/soes/src/esc_coe.c ****  * This function unpacks process data output (RXPDO) and writes to the
1828:Lib/soes/src/esc_coe.c ****  * mapped objects.
1829:Lib/soes/src/esc_coe.c ****  *
1830:Lib/soes/src/esc_coe.c ****  * @param[in] buffer    = output process data
1831:Lib/soes/src/esc_coe.c ****  * @param[in] nmappings = number of mappings in sync manager
1832:Lib/soes/src/esc_coe.c ****  * @param[in] mappings  = list of mapped objects in sync manager
1833:Lib/soes/src/esc_coe.c ****  */
1834:Lib/soes/src/esc_coe.c **** void COE_pdoUnpack (uint8_t * buffer, int nmappings, _SMmap * mappings)
1835:Lib/soes/src/esc_coe.c **** {
ARM GAS  /tmp/ccoG2CDz.s 			page 167


 5911              		.loc 1 1835 1 is_stmt 1 view -0
 5912              		.cfi_startproc
 5913              		@ args = 0, pretend = 0, frame = 0
 5914              		@ frame_needed = 0, uses_anonymous_args = 0
 5915              		.loc 1 1835 1 is_stmt 0 view .LVU1922
 5916 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 5917              		.cfi_def_cfa_offset 24
 5918              		.cfi_offset 4, -24
 5919              		.cfi_offset 5, -20
 5920              		.cfi_offset 6, -16
 5921              		.cfi_offset 7, -12
 5922              		.cfi_offset 8, -8
 5923              		.cfi_offset 14, -4
1836:Lib/soes/src/esc_coe.c ****    int ix;
 5924              		.loc 1 1836 4 is_stmt 1 view .LVU1923
1837:Lib/soes/src/esc_coe.c **** 
1838:Lib/soes/src/esc_coe.c ****    /* Check that buffer is aligned on 64-bit boundary */
1839:Lib/soes/src/esc_coe.c ****    CC_ASSERT (((uintptr_t)buffer & 0x07) == 0);
 5925              		.loc 1 1839 4 view .LVU1924
 5926 0004 10F0070F 		tst	r0, #7
 5927 0008 04D1     		bne	.L383
 5928 000a 8046     		mov	r8, r0
 5929 000c 0F46     		mov	r7, r1
 5930 000e 1646     		mov	r6, r2
1840:Lib/soes/src/esc_coe.c **** 
1841:Lib/soes/src/esc_coe.c ****    for (ix = 0; ix < nmappings; ix++)
 5931              		.loc 1 1841 12 is_stmt 0 view .LVU1925
 5932 0010 0024     		movs	r4, #0
 5933 0012 0FE0     		b	.L377
 5934              	.L383:
1839:Lib/soes/src/esc_coe.c **** 
 5935              		.loc 1 1839 4 discriminator 1 view .LVU1926
 5936 0014 134B     		ldr	r3, .L385
 5937 0016 144A     		ldr	r2, .L385+4
 5938              	.LVL609:
1839:Lib/soes/src/esc_coe.c **** 
 5939              		.loc 1 1839 4 discriminator 1 view .LVU1927
 5940 0018 40F22F71 		movw	r1, #1839
 5941              	.LVL610:
1839:Lib/soes/src/esc_coe.c **** 
 5942              		.loc 1 1839 4 discriminator 1 view .LVU1928
 5943 001c 1348     		ldr	r0, .L385+8
 5944              	.LVL611:
1839:Lib/soes/src/esc_coe.c **** 
 5945              		.loc 1 1839 4 discriminator 1 view .LVU1929
 5946 001e FFF7FEFF 		bl	__assert_func
 5947              	.LVL612:
 5948              	.L379:
 5949              	.LBB33:
 5950              	.LBB34:
1842:Lib/soes/src/esc_coe.c ****    {
1843:Lib/soes/src/esc_coe.c ****       const _objd * obj = mappings[ix].obj;
1844:Lib/soes/src/esc_coe.c ****       uint32_t offset = mappings[ix].offset;
1845:Lib/soes/src/esc_coe.c **** 
1846:Lib/soes/src/esc_coe.c ****       if (obj != NULL)
1847:Lib/soes/src/esc_coe.c ****       {
1848:Lib/soes/src/esc_coe.c ****          if (obj->bitlength > 64)
ARM GAS  /tmp/ccoG2CDz.s 			page 168


1849:Lib/soes/src/esc_coe.c ****          {
1850:Lib/soes/src/esc_coe.c ****             memcpy (
1851:Lib/soes/src/esc_coe.c ****                obj->data,
1852:Lib/soes/src/esc_coe.c ****                &buffer[BITSPOS2BYTESOFFSET (offset)],
1853:Lib/soes/src/esc_coe.c ****                BITS2BYTES (obj->bitlength)
1854:Lib/soes/src/esc_coe.c ****             );
1855:Lib/soes/src/esc_coe.c ****          }
1856:Lib/soes/src/esc_coe.c ****          else
1857:Lib/soes/src/esc_coe.c ****          {
1858:Lib/soes/src/esc_coe.c ****             /* Atomically set object value */
1859:Lib/soes/src/esc_coe.c ****             uint64_t value = COE_bitsliceGet (
 5951              		.loc 1 1859 13 is_stmt 1 view .LVU1930
 5952              		.loc 1 1859 30 is_stmt 0 view .LVU1931
 5953 0022 4046     		mov	r0, r8
 5954 0024 FFF7FEFF 		bl	COE_bitsliceGet
 5955              	.LVL613:
 5956              		.loc 1 1859 30 view .LVU1932
 5957 0028 0246     		mov	r2, r0
 5958 002a 0B46     		mov	r3, r1
 5959              	.LVL614:
1860:Lib/soes/src/esc_coe.c ****                (uint64_t *)buffer,
1861:Lib/soes/src/esc_coe.c ****                offset,
1862:Lib/soes/src/esc_coe.c ****                obj->bitlength
1863:Lib/soes/src/esc_coe.c ****             );
1864:Lib/soes/src/esc_coe.c ****             COE_setValue (obj, value);
 5960              		.loc 1 1864 13 is_stmt 1 view .LVU1933
 5961 002c 2846     		mov	r0, r5
 5962 002e FFF7FEFF 		bl	COE_setValue
 5963              	.LVL615:
 5964              	.L378:
 5965              		.loc 1 1864 13 is_stmt 0 view .LVU1934
 5966              	.LBE34:
 5967              	.LBE33:
1841:Lib/soes/src/esc_coe.c ****    {
 5968              		.loc 1 1841 33 is_stmt 1 discriminator 2 view .LVU1935
1841:Lib/soes/src/esc_coe.c ****    {
 5969              		.loc 1 1841 35 is_stmt 0 discriminator 2 view .LVU1936
 5970 0032 0134     		adds	r4, r4, #1
 5971              	.LVL616:
 5972              	.L377:
1841:Lib/soes/src/esc_coe.c ****    {
 5973              		.loc 1 1841 17 is_stmt 1 discriminator 1 view .LVU1937
1841:Lib/soes/src/esc_coe.c ****    {
 5974              		.loc 1 1841 4 is_stmt 0 discriminator 1 view .LVU1938
 5975 0034 BC42     		cmp	r4, r7
 5976 0036 13DA     		bge	.L384
 5977              	.LBB35:
1843:Lib/soes/src/esc_coe.c ****       uint32_t offset = mappings[ix].offset;
 5978              		.loc 1 1843 7 is_stmt 1 view .LVU1939
1843:Lib/soes/src/esc_coe.c ****       uint32_t offset = mappings[ix].offset;
 5979              		.loc 1 1843 35 is_stmt 0 view .LVU1940
 5980 0038 04EB4403 		add	r3, r4, r4, lsl #1
 5981 003c 06EB8302 		add	r2, r6, r3, lsl #2
1843:Lib/soes/src/esc_coe.c ****       uint32_t offset = mappings[ix].offset;
 5982              		.loc 1 1843 21 view .LVU1941
 5983 0040 56F82350 		ldr	r5, [r6, r3, lsl #2]
 5984              	.LVL617:
ARM GAS  /tmp/ccoG2CDz.s 			page 169


1844:Lib/soes/src/esc_coe.c **** 
 5985              		.loc 1 1844 7 is_stmt 1 view .LVU1942
1844:Lib/soes/src/esc_coe.c **** 
 5986              		.loc 1 1844 16 is_stmt 0 view .LVU1943
 5987 0044 9168     		ldr	r1, [r2, #8]
 5988              	.LVL618:
1846:Lib/soes/src/esc_coe.c ****       {
 5989              		.loc 1 1846 7 is_stmt 1 view .LVU1944
1846:Lib/soes/src/esc_coe.c ****       {
 5990              		.loc 1 1846 10 is_stmt 0 view .LVU1945
 5991 0046 002D     		cmp	r5, #0
 5992 0048 F3D0     		beq	.L378
1848:Lib/soes/src/esc_coe.c ****          {
 5993              		.loc 1 1848 10 is_stmt 1 view .LVU1946
1848:Lib/soes/src/esc_coe.c ****          {
 5994              		.loc 1 1848 17 is_stmt 0 view .LVU1947
 5995 004a AA88     		ldrh	r2, [r5, #4]
1848:Lib/soes/src/esc_coe.c ****          {
 5996              		.loc 1 1848 13 view .LVU1948
 5997 004c 402A     		cmp	r2, #64
 5998 004e E8D9     		bls	.L379
1850:Lib/soes/src/esc_coe.c ****                obj->data,
 5999              		.loc 1 1850 13 is_stmt 1 view .LVU1949
1853:Lib/soes/src/esc_coe.c ****             );
 6000              		.loc 1 1853 16 is_stmt 0 view .LVU1950
 6001 0050 0732     		adds	r2, r2, #7
1850:Lib/soes/src/esc_coe.c ****                obj->data,
 6002              		.loc 1 1850 13 view .LVU1951
 6003 0052 D208     		lsrs	r2, r2, #3
 6004 0054 08EBD101 		add	r1, r8, r1, lsr #3
 6005              	.LVL619:
1850:Lib/soes/src/esc_coe.c ****                obj->data,
 6006              		.loc 1 1850 13 view .LVU1952
 6007 0058 2869     		ldr	r0, [r5, #16]
 6008 005a FFF7FEFF 		bl	memcpy
 6009              	.LVL620:
1850:Lib/soes/src/esc_coe.c ****                obj->data,
 6010              		.loc 1 1850 13 view .LVU1953
 6011 005e E8E7     		b	.L378
 6012              	.LVL621:
 6013              	.L384:
1850:Lib/soes/src/esc_coe.c ****                obj->data,
 6014              		.loc 1 1850 13 view .LVU1954
 6015              	.LBE35:
1865:Lib/soes/src/esc_coe.c ****          }
1866:Lib/soes/src/esc_coe.c ****       }
1867:Lib/soes/src/esc_coe.c ****    }
1868:Lib/soes/src/esc_coe.c **** }
 6016              		.loc 1 1868 1 view .LVU1955
 6017 0060 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 6018              	.LVL622:
 6019              	.L386:
 6020              		.loc 1 1868 1 view .LVU1956
 6021              		.align	2
 6022              	.L385:
 6023 0064 00000000 		.word	.LC2
 6024 0068 00000000 		.word	.LANCHOR2
ARM GAS  /tmp/ccoG2CDz.s 			page 170


 6025 006c 04000000 		.word	.LC1
 6026              		.cfi_endproc
 6027              	.LFE27:
 6029              		.section	.text.COE_maxSub,"ax",%progbits
 6030              		.align	1
 6031              		.global	COE_maxSub
 6032              		.syntax unified
 6033              		.thumb
 6034              		.thumb_func
 6035              		.fpu fpv4-sp-d16
 6037              	COE_maxSub:
 6038              	.LVL623:
 6039              	.LFB28:
1869:Lib/soes/src/esc_coe.c **** 
1870:Lib/soes/src/esc_coe.c **** /**
1871:Lib/soes/src/esc_coe.c ****  * Fetch max subindex
1872:Lib/soes/src/esc_coe.c ****  *
1873:Lib/soes/src/esc_coe.c ****  * This function fetches the value of subindex 0 (max subindex).
1874:Lib/soes/src/esc_coe.c ****  *
1875:Lib/soes/src/esc_coe.c ****  * @param[in] index = object index
1876:Lib/soes/src/esc_coe.c ****  */
1877:Lib/soes/src/esc_coe.c **** uint8_t COE_maxSub (uint16_t index)
1878:Lib/soes/src/esc_coe.c **** {
 6040              		.loc 1 1878 1 is_stmt 1 view -0
 6041              		.cfi_startproc
 6042              		@ args = 0, pretend = 0, frame = 0
 6043              		@ frame_needed = 0, uses_anonymous_args = 0
 6044              		.loc 1 1878 1 is_stmt 0 view .LVU1958
 6045 0000 08B5     		push	{r3, lr}
 6046              		.cfi_def_cfa_offset 8
 6047              		.cfi_offset 3, -8
 6048              		.cfi_offset 14, -4
1879:Lib/soes/src/esc_coe.c ****    int32_t nidx;
 6049              		.loc 1 1879 4 is_stmt 1 view .LVU1959
1880:Lib/soes/src/esc_coe.c ****    uint8_t maxsub;
 6050              		.loc 1 1880 4 view .LVU1960
1881:Lib/soes/src/esc_coe.c **** 
1882:Lib/soes/src/esc_coe.c ****    nidx = SDO_findobject (index);
 6051              		.loc 1 1882 4 view .LVU1961
 6052              		.loc 1 1882 11 is_stmt 0 view .LVU1962
 6053 0002 FFF7FEFF 		bl	SDO_findobject
 6054              	.LVL624:
1883:Lib/soes/src/esc_coe.c ****    if (nidx == -1)
 6055              		.loc 1 1883 4 is_stmt 1 view .LVU1963
 6056              		.loc 1 1883 7 is_stmt 0 view .LVU1964
 6057 0006 B0F1FF3F 		cmp	r0, #-1
 6058 000a 09D0     		beq	.L390
1884:Lib/soes/src/esc_coe.c ****       return 0;
1885:Lib/soes/src/esc_coe.c **** 
1886:Lib/soes/src/esc_coe.c ****    maxsub = OBJ_VALUE_FETCH (maxsub, SDOobjects[nidx].objdesc[0]);
 6059              		.loc 1 1886 4 is_stmt 1 view .LVU1965
 6060              		.loc 1 1886 13 is_stmt 0 view .LVU1966
 6061 000c 054B     		ldr	r3, .L392
 6062 000e 03EB0010 		add	r0, r3, r0, lsl #4
 6063              	.LVL625:
 6064              		.loc 1 1886 13 view .LVU1967
 6065 0012 C268     		ldr	r2, [r0, #12]
ARM GAS  /tmp/ccoG2CDz.s 			page 171


 6066 0014 1369     		ldr	r3, [r2, #16]
 6067              		.loc 1 1886 11 view .LVU1968
 6068 0016 0BB1     		cbz	r3, .L389
 6069              		.loc 1 1886 11 discriminator 1 view .LVU1969
 6070 0018 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 6071              	.L388:
1887:Lib/soes/src/esc_coe.c ****    return maxsub;
1888:Lib/soes/src/esc_coe.c **** }
 6072              		.loc 1 1888 1 view .LVU1970
 6073 001a 08BD     		pop	{r3, pc}
 6074              	.L389:
1886:Lib/soes/src/esc_coe.c ****    return maxsub;
 6075              		.loc 1 1886 11 discriminator 2 view .LVU1971
 6076 001c 107B     		ldrb	r0, [r2, #12]	@ zero_extendqisi2
 6077 001e FCE7     		b	.L388
 6078              	.LVL626:
 6079              	.L390:
1884:Lib/soes/src/esc_coe.c ****       return 0;
 6080              		.loc 1 1884 14 view .LVU1972
 6081 0020 0020     		movs	r0, #0
 6082              	.LVL627:
1884:Lib/soes/src/esc_coe.c ****       return 0;
 6083              		.loc 1 1884 14 view .LVU1973
 6084 0022 FAE7     		b	.L388
 6085              	.L393:
 6086              		.align	2
 6087              	.L392:
 6088 0024 00000000 		.word	SDOobjects
 6089              		.cfi_endproc
 6090              	.LFE28:
 6092              		.section	.rodata.__func__.0,"a"
 6093              		.align	2
 6094              		.set	.LANCHOR2,. + 0
 6097              	__func__.0:
 6098 0000 434F455F 		.ascii	"COE_pdoUnpack\000"
 6098      70646F55 
 6098      6E706163 
 6098      6B00
 6099              		.section	.rodata.__func__.1,"a"
 6100              		.align	2
 6101              		.set	.LANCHOR0,. + 0
 6104              	__func__.1:
 6105 0000 434F455F 		.ascii	"COE_getValue\000"
 6105      67657456 
 6105      616C7565 
 6105      00
 6106              		.section	.rodata.__func__.2,"a"
 6107              		.align	2
 6108              		.set	.LANCHOR1,. + 0
 6111              	__func__.2:
 6112 0000 434F455F 		.ascii	"COE_pdoPack\000"
 6112      70646F50 
 6112      61636B00 
 6113              		.text
 6114              	.Letext0:
 6115              		.file 2 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stddef.h"
 6116              		.file 3 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stdint.h"
ARM GAS  /tmp/ccoG2CDz.s 			page 172


 6117              		.file 4 "Lib/soes/inc/esc_coe.h"
 6118              		.file 5 "Lib/soes/inc/esc.h"
 6119              		.file 6 "/usr/include/newlib/assert.h"
 6120              		.file 7 "<built-in>"
ARM GAS  /tmp/ccoG2CDz.s 			page 173


DEFINED SYMBOLS
                            *ABS*:0000000000000000 esc_coe.c
     /tmp/ccoG2CDz.s:18     .text.init_coesdo:0000000000000000 $t
     /tmp/ccoG2CDz.s:25     .text.init_coesdo:0000000000000000 init_coesdo
     /tmp/ccoG2CDz.s:72     .text.COE_bitsliceGet:0000000000000000 $t
     /tmp/ccoG2CDz.s:78     .text.COE_bitsliceGet:0000000000000000 COE_bitsliceGet
     /tmp/ccoG2CDz.s:214    .text.COE_bitsliceSet:0000000000000000 $t
     /tmp/ccoG2CDz.s:220    .text.COE_bitsliceSet:0000000000000000 COE_bitsliceSet
     /tmp/ccoG2CDz.s:402    .text.COE_setValue:0000000000000000 $t
     /tmp/ccoG2CDz.s:408    .text.COE_setValue:0000000000000000 COE_setValue
     /tmp/ccoG2CDz.s:425    .text.COE_setValue:000000000000000c $d
     /tmp/ccoG2CDz.s:520    .text.SDO_getodlistcont:0000000000000000 $t
     /tmp/ccoG2CDz.s:526    .text.SDO_getodlistcont:0000000000000000 SDO_getodlistcont
     /tmp/ccoG2CDz.s:709    .text.SDO_getodlistcont:00000000000000c0 $d
     /tmp/ccoG2CDz.s:717    .text.SDO_infoerror:0000000000000000 $t
     /tmp/ccoG2CDz.s:723    .text.SDO_infoerror:0000000000000000 SDO_infoerror
     /tmp/ccoG2CDz.s:820    .text.SDO_infoerror:0000000000000060 $d
     /tmp/ccoG2CDz.s:827    .text.SDO_getodlist:0000000000000000 $t
     /tmp/ccoG2CDz.s:833    .text.SDO_getodlist:0000000000000000 SDO_getodlist
     /tmp/ccoG2CDz.s:1146   .text.SDO_getodlist:0000000000000128 $d
     /tmp/ccoG2CDz.s:1155   .text.SDO_abort:0000000000000000 $t
     /tmp/ccoG2CDz.s:1161   .text.SDO_abort:0000000000000000 SDO_abort
     /tmp/ccoG2CDz.s:1250   .text.SDO_abort:0000000000000058 $d
     /tmp/ccoG2CDz.s:1257   .text.set_state_idle:0000000000000000 $t
     /tmp/ccoG2CDz.s:1263   .text.set_state_idle:0000000000000000 set_state_idle
     /tmp/ccoG2CDz.s:1301   .text.set_state_idle:0000000000000018 $d
     /tmp/ccoG2CDz.s:1307   .text.copy2mbx:0000000000000000 $t
     /tmp/ccoG2CDz.s:1313   .text.copy2mbx:0000000000000000 copy2mbx
     /tmp/ccoG2CDz.s:1341   .text.SDO_uploadsegment:0000000000000000 $t
     /tmp/ccoG2CDz.s:1347   .text.SDO_uploadsegment:0000000000000000 SDO_uploadsegment
     /tmp/ccoG2CDz.s:1558   .text.SDO_uploadsegment:00000000000000f4 $d
     /tmp/ccoG2CDz.s:1566   .text.complete_access_subindex_loop:0000000000000000 $t
     /tmp/ccoG2CDz.s:1572   .text.complete_access_subindex_loop:0000000000000000 complete_access_subindex_loop
     /tmp/ccoG2CDz.s:1929   .text.complete_access_subindex_loop:0000000000000164 $d
     /tmp/ccoG2CDz.s:1936   .rodata.COE_getValue.str1.4:0000000000000000 $d
     /tmp/ccoG2CDz.s:1943   .text.COE_getValue:0000000000000000 $t
     /tmp/ccoG2CDz.s:1949   .text.COE_getValue:0000000000000000 COE_getValue
     /tmp/ccoG2CDz.s:1972   .text.COE_getValue:000000000000000e $d
     /tmp/ccoG2CDz.s:2095   .text.COE_getValue:0000000000000074 $d
     /tmp/ccoG2CDz.s:2102   .text.SDO_findsubindex:0000000000000000 $t
     /tmp/ccoG2CDz.s:2109   .text.SDO_findsubindex:0000000000000000 SDO_findsubindex
     /tmp/ccoG2CDz.s:2211   .text.SDO_findsubindex:0000000000000054 $d
     /tmp/ccoG2CDz.s:2216   .text.SDO_findobject:0000000000000000 $t
     /tmp/ccoG2CDz.s:2223   .text.SDO_findobject:0000000000000000 SDO_findobject
     /tmp/ccoG2CDz.s:2273   .text.SDO_findobject:000000000000001c $d
     /tmp/ccoG2CDz.s:2278   .text.complete_access_get_variables:0000000000000000 $t
     /tmp/ccoG2CDz.s:2284   .text.complete_access_get_variables:0000000000000000 complete_access_get_variables
     /tmp/ccoG2CDz.s:2365   .text.complete_access_get_variables:0000000000000040 $d
     /tmp/ccoG2CDz.s:2372   .text.SDO_upload_complete_access:0000000000000000 $t
     /tmp/ccoG2CDz.s:2378   .text.SDO_upload_complete_access:0000000000000000 SDO_upload_complete_access
     /tmp/ccoG2CDz.s:2726   .text.SDO_upload_complete_access:00000000000001f0 $d
     /tmp/ccoG2CDz.s:2736   .text.SDO_download_complete_access:0000000000000000 $t
     /tmp/ccoG2CDz.s:2742   .text.SDO_download_complete_access:0000000000000000 SDO_download_complete_access
     /tmp/ccoG2CDz.s:3087   .text.SDO_download_complete_access:00000000000001bc $d
     /tmp/ccoG2CDz.s:3098   .text.SDO_upload:0000000000000000 $t
     /tmp/ccoG2CDz.s:3104   .text.SDO_upload:0000000000000000 SDO_upload
     /tmp/ccoG2CDz.s:3572   .text.SDO_upload:00000000000001f8 $d
ARM GAS  /tmp/ccoG2CDz.s 			page 174


     /tmp/ccoG2CDz.s:3583   .text.SDO_download:0000000000000000 $t
     /tmp/ccoG2CDz.s:3589   .text.SDO_download:0000000000000000 SDO_download
     /tmp/ccoG2CDz.s:4054   .text.SDO_download:00000000000001f8 $d
     /tmp/ccoG2CDz.s:4067   .text.SDO_downloadsegment:0000000000000000 $t
     /tmp/ccoG2CDz.s:4073   .text.SDO_downloadsegment:0000000000000000 SDO_downloadsegment
     /tmp/ccoG2CDz.s:4342   .text.SDO_downloadsegment:000000000000013c $d
     /tmp/ccoG2CDz.s:4353   .text.SDO_getod:0000000000000000 $t
     /tmp/ccoG2CDz.s:4359   .text.SDO_getod:0000000000000000 SDO_getod
     /tmp/ccoG2CDz.s:4635   .text.SDO_getod:0000000000000118 $d
     /tmp/ccoG2CDz.s:4644   .text.SDO_geted:0000000000000000 $t
     /tmp/ccoG2CDz.s:4650   .text.SDO_geted:0000000000000000 SDO_geted
     /tmp/ccoG2CDz.s:4884   .text.SDO_geted:00000000000000d8 $d
     /tmp/ccoG2CDz.s:4894   .text.sizeOfPDO:0000000000000000 $t
     /tmp/ccoG2CDz.s:4901   .text.sizeOfPDO:0000000000000000 sizeOfPDO
     /tmp/ccoG2CDz.s:5308   .text.sizeOfPDO:0000000000000184 $d
     /tmp/ccoG2CDz.s:5313   .text.ESC_coeprocess:0000000000000000 $t
     /tmp/ccoG2CDz.s:5320   .text.ESC_coeprocess:0000000000000000 ESC_coeprocess
     /tmp/ccoG2CDz.s:5621   .text.ESC_coeprocess:0000000000000140 $d
     /tmp/ccoG2CDz.s:5629   .text.COE_initDefaultValues:0000000000000000 $t
     /tmp/ccoG2CDz.s:5636   .text.COE_initDefaultValues:0000000000000000 COE_initDefaultValues
     /tmp/ccoG2CDz.s:5756   .text.COE_initDefaultValues:0000000000000064 $d
     /tmp/ccoG2CDz.s:5762   .rodata.COE_pdoPack.str1.4:0000000000000000 $d
     /tmp/ccoG2CDz.s:5766   .text.COE_pdoPack:0000000000000000 $t
     /tmp/ccoG2CDz.s:5773   .text.COE_pdoPack:0000000000000000 COE_pdoPack
     /tmp/ccoG2CDz.s:5894   .text.COE_pdoPack:000000000000006c $d
     /tmp/ccoG2CDz.s:5901   .text.COE_pdoUnpack:0000000000000000 $t
     /tmp/ccoG2CDz.s:5908   .text.COE_pdoUnpack:0000000000000000 COE_pdoUnpack
     /tmp/ccoG2CDz.s:6023   .text.COE_pdoUnpack:0000000000000064 $d
     /tmp/ccoG2CDz.s:6030   .text.COE_maxSub:0000000000000000 $t
     /tmp/ccoG2CDz.s:6037   .text.COE_maxSub:0000000000000000 COE_maxSub
     /tmp/ccoG2CDz.s:6088   .text.COE_maxSub:0000000000000024 $d
     /tmp/ccoG2CDz.s:6093   .rodata.__func__.0:0000000000000000 $d
     /tmp/ccoG2CDz.s:6097   .rodata.__func__.0:0000000000000000 __func__.0
     /tmp/ccoG2CDz.s:6100   .rodata.__func__.1:0000000000000000 $d
     /tmp/ccoG2CDz.s:6104   .rodata.__func__.1:0000000000000000 __func__.1
     /tmp/ccoG2CDz.s:6107   .rodata.__func__.2:0000000000000000 $d
     /tmp/ccoG2CDz.s:6111   .rodata.__func__.2:0000000000000000 __func__.2
     /tmp/ccoG2CDz.s:480    .text.COE_setValue:0000000000000043 $d
     /tmp/ccoG2CDz.s:480    .text.COE_setValue:0000000000000044 $t
     /tmp/ccoG2CDz.s:2027   .text.COE_getValue:0000000000000045 $d
     /tmp/ccoG2CDz.s:2027   .text.COE_getValue:0000000000000046 $t

UNDEFINED SYMBOLS
ESC_claimbuffer
ESCvar
MBX
MBXcontrol
SDOobjects
memcpy
ESC_upload_post_objecthandler
memset
__assert_func
ESC_upload_pre_objecthandler
ESC_download_pre_objecthandler
ESC_download_post_objecthandler
MBX_error
