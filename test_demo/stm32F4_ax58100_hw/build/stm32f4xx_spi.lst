ARM GAS  /tmp/cc0MhkbI.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"stm32f4xx_spi.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.SPI_I2S_DeInit,"ax",%progbits
  18              		.align	1
  19              		.global	SPI_I2S_DeInit
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	SPI_I2S_DeInit:
  27              	.LVL0:
  28              	.LFB123:
  29              		.file 1 "Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c"
   1:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
   2:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   ******************************************************************************
   3:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @file    stm32f4xx_spi.c
   4:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @author  MCD Application Team
   5:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @version V1.6.1
   6:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @date    21-October-2015
   7:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief   This file provides firmware functions to manage the following 
   8:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          functionalities of the Serial peripheral interface (SPI):
   9:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *           + Initialization and Configuration
  10:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *           + Data transfers functions
  11:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *           + Hardware CRC Calculation
  12:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *           + DMA transfers management
  13:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *           + Interrupts and flags management 
  14:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *           
  15:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @verbatim
  16:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
  17:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===================================================================
  18:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   ##### How to use this driver #####
  19:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===================================================================
  20:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..]
  21:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) Enable peripheral clock using the following functions 
  22:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        RCC_APB2PeriphClockCmd(RCC_APB2Periph_SPI1, ENABLE) for SPI1
  23:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        RCC_APB1PeriphClockCmd(RCC_APB1Periph_SPI2, ENABLE) for SPI2
  24:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI3, ENABLE) for SPI3
  25:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI3, ENABLE) for SPI4
  26:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI3, ENABLE) for SPI5
  27:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI3, ENABLE) for SPI6.
  28:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
  29:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) Enable SCK, MOSI, MISO and NSS GPIO clocks using RCC_AHB1PeriphClockCmd()
ARM GAS  /tmp/cc0MhkbI.s 			page 2


  30:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        function. In I2S mode, if an external clock source is used then the I2S 
  31:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        CKIN pin GPIO clock should also be enabled.
  32:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
  33:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) Peripherals alternate function: 
  34:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (++) Connect the pin to the desired peripherals' Alternate Function (AF) 
  35:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             using GPIO_PinAFConfig() function
  36:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (++) Configure the desired pin in alternate function by: 
  37:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             GPIO_InitStruct->GPIO_Mode = GPIO_Mode_AF
  38:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (++) Select the type, pull-up/pull-down and output speed via GPIO_PuPd, 
  39:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             GPIO_OType and GPIO_Speed members
  40:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (++) Call GPIO_Init() function In I2S mode, if an external clock source is 
  41:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             used then the I2S CKIN pin should be also configured in Alternate 
  42:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             function Push-pull pull-up mode. 
  43:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****           
  44:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) Program the Polarity, Phase, First Data, Baud Rate Prescaler, Slave 
  45:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        Management, Peripheral Mode and CRC Polynomial values using the SPI_Init()
  46:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        function.
  47:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        In I2S mode, program the Mode, Standard, Data Format, MCLK Output, Audio 
  48:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        frequency and Polarity using I2S_Init() function. For I2S mode, make sure 
  49:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        that either:
  50:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (++) I2S PLL is configured using the functions 
  51:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             RCC_I2SCLKConfig(RCC_I2S2CLKSource_PLLI2S), RCC_PLLI2SCmd(ENABLE) and 
  52:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             RCC_GetFlagStatus(RCC_FLAG_PLLI2SRDY); or 
  53:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (++) External clock source is configured using the function 
  54:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             RCC_I2SCLKConfig(RCC_I2S2CLKSource_Ext) and after setting correctly 
  55:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             the define constant I2S_EXTERNAL_CLOCK_VAL in the stm32f4xx_conf.h file. 
  56:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
  57:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) Enable the NVIC and the corresponding interrupt using the function 
  58:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        SPI_ITConfig() if you need to use interrupt mode. 
  59:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
  60:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) When using the DMA mode 
  61:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (++) Configure the DMA using DMA_Init() function
  62:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (++) Active the needed channel Request using SPI_I2S_DMACmd() function
  63:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    
  64:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) Enable the SPI using the SPI_Cmd() function or enable the I2S using
  65:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        I2S_Cmd().
  66:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    
  67:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) Enable the DMA using the DMA_Cmd() function when using DMA mode. 
  68:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
  69:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) Optionally, you can enable/configure the following parameters without
  70:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        re-initialization (i.e there is no need to call again SPI_Init() function):
  71:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (++) When bidirectional mode (SPI_Direction_1Line_Rx or SPI_Direction_1Line_Tx)
  72:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             is programmed as Data direction parameter using the SPI_Init() function
  73:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             it can be possible to switch between SPI_Direction_Tx or SPI_Direction_Rx
  74:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             using the SPI_BiDirectionalLineConfig() function.
  75:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (++) When SPI_NSS_Soft is selected as Slave Select Management parameter 
  76:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             using the SPI_Init() function it can be possible to manage the 
  77:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             NSS internal signal using the SPI_NSSInternalSoftwareConfig() function.
  78:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (++) Reconfigure the data size using the SPI_DataSizeConfig() function  
  79:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (++) Enable or disable the SS output using the SPI_SSOutputCmd() function  
  80:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             
  81:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     (#) To use the CRC Hardware calculation feature refer to the Peripheral 
  82:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****         CRC hardware Calculation subsection.
  83:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      
  84:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
  85:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..] It is possible to use SPI in I2S full duplex mode, in this case, each SPI 
  86:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       peripheral is able to manage sending and receiving data simultaneously
ARM GAS  /tmp/cc0MhkbI.s 			page 3


  87:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       using two data lines. Each SPI peripheral has an extended block called I2Sxext
  88:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       (ie. I2S2ext for SPI2 and I2S3ext for SPI3).
  89:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       The extension block is not a full SPI IP, it is used only as I2S slave to
  90:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       implement full duplex mode. The extension block uses the same clock sources
  91:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       as its master.          
  92:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       To configure I2S full duplex you have to:
  93:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****               
  94:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       (#) Configure SPIx in I2S mode (I2S_Init() function) as described above. 
  95:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****              
  96:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       (#) Call the I2S_FullDuplexConfig() function using the same structure passed to  
  97:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****           I2S_Init() function.
  98:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****               
  99:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       (#) Call I2S_Cmd() for SPIx then for its extended block.
 100:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             
 101:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       (#) To configure interrupts or DMA requests and to get/clear flag status, 
 102:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****           use I2Sxext instance for the extension block.
 103:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                
 104:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..] Functions that can be called with I2Sxext instances are: I2S_Cmd(), 
 105:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       I2S_FullDuplexConfig(), SPI_I2S_ReceiveData(), SPI_I2S_SendData(), 
 106:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       SPI_I2S_DMACmd(), SPI_I2S_ITConfig(), SPI_I2S_GetFlagStatus(), 
 107:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       SPI_I2S_ClearFlag(), SPI_I2S_GetITStatus() and SPI_I2S_ClearITPendingBit().
 108:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                    
 109:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       Example: To use SPI3 in Full duplex mode (SPI3 is Master Tx, I2S3ext is Slave Rx):
 110:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****               
 111:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       RCC_APB1PeriphClockCmd(RCC_APB1Periph_SPI3, ENABLE);   
 112:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       I2S_StructInit(&I2SInitStruct);
 113:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       I2SInitStruct.Mode = I2S_Mode_MasterTx;     
 114:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       I2S_Init(SPI3, &I2SInitStruct);
 115:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       I2S_FullDuplexConfig(SPI3ext, &I2SInitStruct)
 116:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       I2S_Cmd(SPI3, ENABLE);
 117:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       I2S_Cmd(SPI3ext, ENABLE);
 118:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       ...
 119:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       while (SPI_I2S_GetFlagStatus(SPI2, SPI_FLAG_TXE) == RESET)
 120:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       {}
 121:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       SPI_I2S_SendData(SPI3, txdata[i]);
 122:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       ...  
 123:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       while (SPI_I2S_GetFlagStatus(I2S3ext, SPI_FLAG_RXNE) == RESET)
 124:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       {}
 125:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       rxdata[i] = SPI_I2S_ReceiveData(I2S3ext);
 126:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       ...          
 127:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                 
 128:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..]       
 129:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (@) In I2S mode: if an external clock is used as source clock for the I2S,  
 130:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        then the define I2S_EXTERNAL_CLOCK_VAL in file stm32f4xx_conf.h should 
 131:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        be enabled and set to the value of the source clock frequency (in Hz).
 132:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    
 133:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (@) In SPI mode: To use the SPI TI mode, call the function SPI_TIModeCmd() 
 134:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        just after calling the function SPI_Init().
 135:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 136:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @endverbatim  
 137:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *                                  
 138:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   ******************************************************************************
 139:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @attention
 140:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *
 141:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * <h2><center>&copy; COPYRIGHT 2015 STMicroelectronics</center></h2>
 142:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *
 143:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * Licensed under MCD-ST Liberty SW License Agreement V2, (the "License");
ARM GAS  /tmp/cc0MhkbI.s 			page 4


 144:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * You may not use this file except in compliance with the License.
 145:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * You may obtain a copy of the License at:
 146:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *
 147:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *        http://www.st.com/software_license_agreement_liberty_v2
 148:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *
 149:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * Unless required by applicable law or agreed to in writing, software 
 150:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * distributed under the License is distributed on an "AS IS" BASIS, 
 151:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 152:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * See the License for the specific language governing permissions and
 153:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * limitations under the License.
 154:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *
 155:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   ******************************************************************************  
 156:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */ 
 157:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 158:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /* Includes ------------------------------------------------------------------*/
 159:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #include "stm32f4xx_spi.h"
 160:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #include "stm32f4xx_rcc.h"
 161:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 162:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /** @addtogroup STM32F4xx_StdPeriph_Driver
 163:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @{
 164:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 165:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 166:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /** @defgroup SPI 
 167:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief SPI driver modules
 168:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @{
 169:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */ 
 170:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 171:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /* Private typedef -----------------------------------------------------------*/
 172:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /* Private define ------------------------------------------------------------*/
 173:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 174:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /* SPI registers Masks */
 175:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #define CR1_CLEAR_MASK            ((uint16_t)0x3040)
 176:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #define I2SCFGR_CLEAR_MASK        ((uint16_t)0xF040)
 177:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 178:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /* RCC PLLs masks */
 179:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #define PLLCFGR_PPLR_MASK         ((uint32_t)0x70000000)
 180:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #define PLLCFGR_PPLN_MASK         ((uint32_t)0x00007FC0)
 181:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 182:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #define SPI_CR2_FRF               ((uint16_t)0x0010)
 183:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #define SPI_SR_TIFRFE             ((uint16_t)0x0100)
 184:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 185:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /* Private macro -------------------------------------------------------------*/
 186:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /* Private variables ---------------------------------------------------------*/
 187:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /* Private function prototypes -----------------------------------------------*/
 188:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /* Private functions ---------------------------------------------------------*/
 189:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 190:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /** @defgroup SPI_Private_Functions
 191:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @{
 192:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 193:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 194:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /** @defgroup SPI_Group1 Initialization and Configuration functions
 195:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *  @brief   Initialization and Configuration functions 
 196:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *
 197:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @verbatim   
 198:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================
 199:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****              ##### Initialization and Configuration functions ##### 
 200:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================  
ARM GAS  /tmp/cc0MhkbI.s 			page 5


 201:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..] This section provides a set of functions allowing to initialize the SPI 
 202:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       Direction, SPI Mode, SPI Data Size, SPI Polarity, SPI Phase, SPI NSS 
 203:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       Management, SPI Baud Rate Prescaler, SPI First Bit and SPI CRC Polynomial.
 204:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 205:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..] The SPI_Init() function follows the SPI configuration procedures for Master 
 206:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       mode and Slave mode (details for these procedures are available in reference 
 207:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       manual (RM0090)).
 208:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 209:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @endverbatim
 210:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @{
 211:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 212:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 213:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 214:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  De-initialize the SPIx peripheral registers to their default reset values.
 215:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: To select the SPIx/I2Sx peripheral, where x can be: 1, 2, 3, 4, 5 or 6 
 216:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         in SPI mode or 2 or 3 in I2S mode.   
 217:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         
 218:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   The extended I2S blocks (ie. I2S2ext and I2S3ext blocks) are de-initialized
 219:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         when the relative I2S peripheral is de-initialized (the extended block's clock
 220:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         is managed by the I2S peripheral clock).
 221:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *             
 222:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 223:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 224:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_I2S_DeInit(SPI_TypeDef* SPIx)
 225:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
  30              		.loc 1 225 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 225 1 is_stmt 0 view .LVU1
  35 0000 08B5     		push	{r3, lr}
  36              		.cfi_def_cfa_offset 8
  37              		.cfi_offset 3, -8
  38              		.cfi_offset 14, -4
 226:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 227:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
  39              		.loc 1 227 3 is_stmt 1 view .LVU2
 228:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 229:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (SPIx == SPI1)
  40              		.loc 1 229 3 view .LVU3
  41              		.loc 1 229 6 is_stmt 0 view .LVU4
  42 0002 2A4B     		ldr	r3, .L15
  43 0004 9842     		cmp	r0, r3
  44 0006 0FD0     		beq	.L9
 230:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 231:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable SPI1 reset state */
 232:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     RCC_APB2PeriphResetCmd(RCC_APB2Periph_SPI1, ENABLE);
 233:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI1 from reset state */
 234:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     RCC_APB2PeriphResetCmd(RCC_APB2Periph_SPI1, DISABLE);
 235:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 236:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else if (SPIx == SPI2)
  45              		.loc 1 236 8 is_stmt 1 view .LVU5
  46              		.loc 1 236 11 is_stmt 0 view .LVU6
  47 0008 294B     		ldr	r3, .L15+4
  48 000a 9842     		cmp	r0, r3
  49 000c 17D0     		beq	.L10
 237:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
ARM GAS  /tmp/cc0MhkbI.s 			page 6


 238:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable SPI2 reset state */
 239:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI2, ENABLE);
 240:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI2 from reset state */
 241:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI2, DISABLE);
 242:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 243:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else if (SPIx == SPI3)
  50              		.loc 1 243 8 is_stmt 1 view .LVU7
  51              		.loc 1 243 11 is_stmt 0 view .LVU8
  52 000e 294B     		ldr	r3, .L15+8
  53 0010 9842     		cmp	r0, r3
  54 0012 1FD0     		beq	.L11
 244:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 245:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable SPI3 reset state */
 246:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI3, ENABLE);
 247:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI3 from reset state */
 248:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI3, DISABLE);
 249:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 250:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else if (SPIx == SPI4)
  55              		.loc 1 250 8 is_stmt 1 view .LVU9
  56              		.loc 1 250 11 is_stmt 0 view .LVU10
  57 0014 284B     		ldr	r3, .L15+12
  58 0016 9842     		cmp	r0, r3
  59 0018 27D0     		beq	.L12
 251:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 252:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable SPI4 reset state */
 253:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     RCC_APB2PeriphResetCmd(RCC_APB2Periph_SPI4, ENABLE);
 254:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI4 from reset state */
 255:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     RCC_APB2PeriphResetCmd(RCC_APB2Periph_SPI4, DISABLE);
 256:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 257:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else if (SPIx == SPI5)
  60              		.loc 1 257 8 is_stmt 1 view .LVU11
  61              		.loc 1 257 11 is_stmt 0 view .LVU12
  62 001a 284B     		ldr	r3, .L15+16
  63 001c 9842     		cmp	r0, r3
  64 001e 2FD0     		beq	.L13
 258:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 259:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable SPI5 reset state */
 260:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     RCC_APB2PeriphResetCmd(RCC_APB2Periph_SPI5, ENABLE);
 261:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI5 from reset state */
 262:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     RCC_APB2PeriphResetCmd(RCC_APB2Periph_SPI5, DISABLE);
 263:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 264:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else 
 265:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 266:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     if (SPIx == SPI6)
  65              		.loc 1 266 5 is_stmt 1 view .LVU13
  66              		.loc 1 266 8 is_stmt 0 view .LVU14
  67 0020 274B     		ldr	r3, .L15+20
  68 0022 9842     		cmp	r0, r3
  69 0024 37D0     		beq	.L14
  70              	.LVL1:
  71              	.L1:
 267:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     {
 268:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       /* Enable SPI6 reset state */
 269:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       RCC_APB2PeriphResetCmd(RCC_APB2Periph_SPI6, ENABLE);
 270:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       /* Release SPI6 from reset state */
 271:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       RCC_APB2PeriphResetCmd(RCC_APB2Periph_SPI6, DISABLE);
 272:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
ARM GAS  /tmp/cc0MhkbI.s 			page 7


 273:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 274:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
  72              		.loc 1 274 1 view .LVU15
  73 0026 08BD     		pop	{r3, pc}
  74              	.LVL2:
  75              	.L9:
 232:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI1 from reset state */
  76              		.loc 1 232 5 is_stmt 1 view .LVU16
  77 0028 0121     		movs	r1, #1
  78 002a 4FF48050 		mov	r0, #4096
  79              	.LVL3:
 232:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI1 from reset state */
  80              		.loc 1 232 5 is_stmt 0 view .LVU17
  81 002e FFF7FEFF 		bl	RCC_APB2PeriphResetCmd
  82              	.LVL4:
 234:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
  83              		.loc 1 234 5 is_stmt 1 view .LVU18
  84 0032 0021     		movs	r1, #0
  85 0034 4FF48050 		mov	r0, #4096
  86 0038 FFF7FEFF 		bl	RCC_APB2PeriphResetCmd
  87              	.LVL5:
  88 003c F3E7     		b	.L1
  89              	.LVL6:
  90              	.L10:
 239:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI2 from reset state */
  91              		.loc 1 239 5 view .LVU19
  92 003e 0121     		movs	r1, #1
  93 0040 4FF48040 		mov	r0, #16384
  94              	.LVL7:
 239:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI2 from reset state */
  95              		.loc 1 239 5 is_stmt 0 view .LVU20
  96 0044 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  97              	.LVL8:
 241:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
  98              		.loc 1 241 5 is_stmt 1 view .LVU21
  99 0048 0021     		movs	r1, #0
 100 004a 4FF48040 		mov	r0, #16384
 101 004e FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
 102              	.LVL9:
 103 0052 E8E7     		b	.L1
 104              	.LVL10:
 105              	.L11:
 246:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI3 from reset state */
 106              		.loc 1 246 5 view .LVU22
 107 0054 0121     		movs	r1, #1
 108 0056 4FF40040 		mov	r0, #32768
 109              	.LVL11:
 246:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI3 from reset state */
 110              		.loc 1 246 5 is_stmt 0 view .LVU23
 111 005a FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
 112              	.LVL12:
 248:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 113              		.loc 1 248 5 is_stmt 1 view .LVU24
 114 005e 0021     		movs	r1, #0
 115 0060 4FF40040 		mov	r0, #32768
 116 0064 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
 117              	.LVL13:
ARM GAS  /tmp/cc0MhkbI.s 			page 8


 118 0068 DDE7     		b	.L1
 119              	.LVL14:
 120              	.L12:
 253:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI4 from reset state */
 121              		.loc 1 253 5 view .LVU25
 122 006a 0121     		movs	r1, #1
 123 006c 4FF40050 		mov	r0, #8192
 124              	.LVL15:
 253:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI4 from reset state */
 125              		.loc 1 253 5 is_stmt 0 view .LVU26
 126 0070 FFF7FEFF 		bl	RCC_APB2PeriphResetCmd
 127              	.LVL16:
 255:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 128              		.loc 1 255 5 is_stmt 1 view .LVU27
 129 0074 0021     		movs	r1, #0
 130 0076 4FF40050 		mov	r0, #8192
 131 007a FFF7FEFF 		bl	RCC_APB2PeriphResetCmd
 132              	.LVL17:
 133 007e D2E7     		b	.L1
 134              	.LVL18:
 135              	.L13:
 260:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI5 from reset state */
 136              		.loc 1 260 5 view .LVU28
 137 0080 0121     		movs	r1, #1
 138 0082 4FF48010 		mov	r0, #1048576
 139              	.LVL19:
 260:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI5 from reset state */
 140              		.loc 1 260 5 is_stmt 0 view .LVU29
 141 0086 FFF7FEFF 		bl	RCC_APB2PeriphResetCmd
 142              	.LVL20:
 262:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 143              		.loc 1 262 5 is_stmt 1 view .LVU30
 144 008a 0021     		movs	r1, #0
 145 008c 4FF48010 		mov	r0, #1048576
 146 0090 FFF7FEFF 		bl	RCC_APB2PeriphResetCmd
 147              	.LVL21:
 148 0094 C7E7     		b	.L1
 149              	.LVL22:
 150              	.L14:
 269:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       /* Release SPI6 from reset state */
 151              		.loc 1 269 7 view .LVU31
 152 0096 0121     		movs	r1, #1
 153 0098 4FF40010 		mov	r0, #2097152
 154              	.LVL23:
 269:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       /* Release SPI6 from reset state */
 155              		.loc 1 269 7 is_stmt 0 view .LVU32
 156 009c FFF7FEFF 		bl	RCC_APB2PeriphResetCmd
 157              	.LVL24:
 271:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 158              		.loc 1 271 7 is_stmt 1 view .LVU33
 159 00a0 0021     		movs	r1, #0
 160 00a2 4FF40010 		mov	r0, #2097152
 161 00a6 FFF7FEFF 		bl	RCC_APB2PeriphResetCmd
 162              	.LVL25:
 163              		.loc 1 274 1 is_stmt 0 view .LVU34
 164 00aa BCE7     		b	.L1
 165              	.L16:
ARM GAS  /tmp/cc0MhkbI.s 			page 9


 166              		.align	2
 167              	.L15:
 168 00ac 00300140 		.word	1073819648
 169 00b0 00380040 		.word	1073756160
 170 00b4 003C0040 		.word	1073757184
 171 00b8 00340140 		.word	1073820672
 172 00bc 00500140 		.word	1073827840
 173 00c0 00540140 		.word	1073828864
 174              		.cfi_endproc
 175              	.LFE123:
 177              		.section	.text.SPI_Init,"ax",%progbits
 178              		.align	1
 179              		.global	SPI_Init
 180              		.syntax unified
 181              		.thumb
 182              		.thumb_func
 183              		.fpu fpv4-sp-d16
 185              	SPI_Init:
 186              	.LVL26:
 187              	.LFB124:
 275:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 276:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 277:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Initializes the SPIx peripheral according to the specified 
 278:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         parameters in the SPI_InitStruct.
 279:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2, 3, 4, 5 or 6 to select the SPI peripheral.
 280:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_InitStruct: pointer to a SPI_InitTypeDef structure that
 281:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         contains the configuration information for the specified SPI peripheral.
 282:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 283:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 284:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_Init(SPI_TypeDef* SPIx, SPI_InitTypeDef* SPI_InitStruct)
 285:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 188              		.loc 1 285 1 is_stmt 1 view -0
 189              		.cfi_startproc
 190              		@ args = 0, pretend = 0, frame = 0
 191              		@ frame_needed = 0, uses_anonymous_args = 0
 192              		.loc 1 285 1 is_stmt 0 view .LVU36
 193 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 194              		.cfi_def_cfa_offset 24
 195              		.cfi_offset 4, -24
 196              		.cfi_offset 5, -20
 197              		.cfi_offset 6, -16
 198              		.cfi_offset 7, -12
 199              		.cfi_offset 8, -8
 200              		.cfi_offset 14, -4
 286:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   uint16_t tmpreg = 0;
 201              		.loc 1 286 3 is_stmt 1 view .LVU37
 202              	.LVL27:
 287:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 288:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* check the parameters */
 289:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 203              		.loc 1 289 3 view .LVU38
 290:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 291:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the SPI parameters */
 292:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_DIRECTION_MODE(SPI_InitStruct->SPI_Direction));
 204              		.loc 1 292 3 view .LVU39
 293:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_MODE(SPI_InitStruct->SPI_Mode));
 205              		.loc 1 293 3 view .LVU40
ARM GAS  /tmp/cc0MhkbI.s 			page 10


 294:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_DATASIZE(SPI_InitStruct->SPI_DataSize));
 206              		.loc 1 294 3 view .LVU41
 295:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_CPOL(SPI_InitStruct->SPI_CPOL));
 207              		.loc 1 295 3 view .LVU42
 296:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_CPHA(SPI_InitStruct->SPI_CPHA));
 208              		.loc 1 296 3 view .LVU43
 297:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_NSS(SPI_InitStruct->SPI_NSS));
 209              		.loc 1 297 3 view .LVU44
 298:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_BAUDRATE_PRESCALER(SPI_InitStruct->SPI_BaudRatePrescaler));
 210              		.loc 1 298 3 view .LVU45
 299:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_FIRST_BIT(SPI_InitStruct->SPI_FirstBit));
 211              		.loc 1 299 3 view .LVU46
 300:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_CRC_POLYNOMIAL(SPI_InitStruct->SPI_CRCPolynomial));
 212              		.loc 1 300 3 view .LVU47
 301:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 302:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /*---------------------------- SPIx CR1 Configuration ------------------------*/
 303:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Get the SPIx CR1 value */
 304:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   tmpreg = SPIx->CR1;
 213              		.loc 1 304 3 view .LVU48
 214              		.loc 1 304 10 is_stmt 0 view .LVU49
 215 0004 0388     		ldrh	r3, [r0]
 216              	.LVL28:
 305:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Clear BIDIMode, BIDIOE, RxONLY, SSM, SSI, LSBFirst, BR, MSTR, CPOL and CPHA bits */
 306:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   tmpreg &= CR1_CLEAR_MASK;
 217              		.loc 1 306 3 is_stmt 1 view .LVU50
 218              		.loc 1 306 10 is_stmt 0 view .LVU51
 219 0006 03F44152 		and	r2, r3, #12352
 220              	.LVL29:
 307:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Configure SPIx: direction, NSS management, first transmitted bit, BaudRate prescaler
 308:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      master/salve mode, CPOL and CPHA */
 309:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Set BIDImode, BIDIOE and RxONLY bits according to SPI_Direction value */
 310:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Set SSM, SSI and MSTR bits according to SPI_Mode and SPI_NSS values */
 311:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Set LSBFirst bit according to SPI_FirstBit value */
 312:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Set BR bits according to SPI_BaudRatePrescaler value */
 313:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Set CPOL bit according to SPI_CPOL value */
 314:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Set CPHA bit according to SPI_CPHA value */
 315:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   tmpreg |= (uint16_t)((uint32_t)SPI_InitStruct->SPI_Direction | SPI_InitStruct->SPI_Mode |
 221              		.loc 1 315 3 is_stmt 1 view .LVU52
 222              		.loc 1 315 48 is_stmt 0 view .LVU53
 223 000a 0F88     		ldrh	r7, [r1]
 224              		.loc 1 315 80 view .LVU54
 225 000c B1F80280 		ldrh	r8, [r1, #2]
 316:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   SPI_InitStruct->SPI_DataSize | SPI_InitStruct->SPI_CPOL |  
 226              		.loc 1 316 33 view .LVU55
 227 0010 8E88     		ldrh	r6, [r1, #4]
 228              		.loc 1 316 64 view .LVU56
 229 0012 CD88     		ldrh	r5, [r1, #6]
 317:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   SPI_InitStruct->SPI_CPHA | SPI_InitStruct->SPI_NSS |  
 230              		.loc 1 317 33 view .LVU57
 231 0014 0C89     		ldrh	r4, [r1, #8]
 232              		.loc 1 317 60 view .LVU58
 233 0016 B1F80AE0 		ldrh	lr, [r1, #10]
 318:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   SPI_InitStruct->SPI_BaudRatePrescaler | SPI_InitStruct->SPI_FirstBit);
 234              		.loc 1 318 33 view .LVU59
 235 001a B1F80CC0 		ldrh	ip, [r1, #12]
 236              		.loc 1 318 73 view .LVU60
 237 001e CB89     		ldrh	r3, [r1, #14]
ARM GAS  /tmp/cc0MhkbI.s 			page 11


 315:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   SPI_InitStruct->SPI_DataSize | SPI_InitStruct->SPI_CPOL |  
 238              		.loc 1 315 13 view .LVU61
 239 0020 47EA0807 		orr	r7, r7, r8
 240 0024 3E43     		orrs	r6, r6, r7
 241 0026 3543     		orrs	r5, r5, r6
 242 0028 2C43     		orrs	r4, r4, r5
 243 002a 4EEA040E 		orr	lr, lr, r4
 244 002e 4CEA0E0C 		orr	ip, ip, lr
 245 0032 43EA0C03 		orr	r3, r3, ip
 315:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   SPI_InitStruct->SPI_DataSize | SPI_InitStruct->SPI_CPOL |  
 246              		.loc 1 315 10 view .LVU62
 247 0036 1343     		orrs	r3, r3, r2
 248              	.LVL30:
 319:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Write to SPIx CR1 */
 320:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->CR1 = tmpreg;
 249              		.loc 1 320 3 is_stmt 1 view .LVU63
 250              		.loc 1 320 13 is_stmt 0 view .LVU64
 251 0038 0380     		strh	r3, [r0]	@ movhi
 321:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 322:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Activate the SPI mode (Reset I2SMOD bit in I2SCFGR register) */
 323:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->I2SCFGR &= (uint16_t)~((uint16_t)SPI_I2SCFGR_I2SMOD);
 252              		.loc 1 323 3 is_stmt 1 view .LVU65
 253              		.loc 1 323 17 is_stmt 0 view .LVU66
 254 003a 838B     		ldrh	r3, [r0, #28]
 255              	.LVL31:
 256              		.loc 1 323 17 view .LVU67
 257 003c 9BB2     		uxth	r3, r3
 258 003e 23F40063 		bic	r3, r3, #2048
 259 0042 9BB2     		uxth	r3, r3
 260 0044 8383     		strh	r3, [r0, #28]	@ movhi
 261              	.LVL32:
 324:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /*---------------------------- SPIx CRCPOLY Configuration --------------------*/
 325:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Write to SPIx CRCPOLY */
 326:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->CRCPR = SPI_InitStruct->SPI_CRCPolynomial;
 262              		.loc 1 326 3 is_stmt 1 view .LVU68
 263              		.loc 1 326 31 is_stmt 0 view .LVU69
 264 0046 0B8A     		ldrh	r3, [r1, #16]
 265              		.loc 1 326 15 view .LVU70
 266 0048 0382     		strh	r3, [r0, #16]	@ movhi
 327:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 267              		.loc 1 327 1 view .LVU71
 268 004a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 269              		.cfi_endproc
 270              	.LFE124:
 272              		.section	.text.I2S_Init,"ax",%progbits
 273              		.align	1
 274              		.global	I2S_Init
 275              		.syntax unified
 276              		.thumb
 277              		.thumb_func
 278              		.fpu fpv4-sp-d16
 280              	I2S_Init:
 281              	.LVL33:
 282              	.LFB125:
 328:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 329:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 330:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Initializes the SPIx peripheral according to the specified 
ARM GAS  /tmp/cc0MhkbI.s 			page 12


 331:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         parameters in the I2S_InitStruct.
 332:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be  2 or 3 to select the SPI peripheral (configured in I2S mode).
 333:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  I2S_InitStruct: pointer to an I2S_InitTypeDef structure that
 334:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         contains the configuration information for the specified SPI peripheral
 335:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         configured in I2S mode.
 336:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *           
 337:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   The function calculates the optimal prescaler needed to obtain the most 
 338:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         accurate audio frequency (depending on the I2S clock source, the PLL values 
 339:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         and the product configuration). But in case the prescaler value is greater 
 340:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         than 511, the default value (0x02) will be configured instead.    
 341:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * 
 342:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   if an external clock is used as source clock for the I2S, then the define
 343:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         I2S_EXTERNAL_CLOCK_VAL in file stm32f4xx_conf.h should be enabled and set
 344:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         to the value of the source clock frequency (in Hz).
 345:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *  
 346:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 347:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 348:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void I2S_Init(SPI_TypeDef* SPIx, I2S_InitTypeDef* I2S_InitStruct)
 349:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 283              		.loc 1 349 1 is_stmt 1 view -0
 284              		.cfi_startproc
 285              		@ args = 0, pretend = 0, frame = 0
 286              		@ frame_needed = 0, uses_anonymous_args = 0
 287              		.loc 1 349 1 is_stmt 0 view .LVU73
 288 0000 70B5     		push	{r4, r5, r6, lr}
 289              		.cfi_def_cfa_offset 16
 290              		.cfi_offset 4, -16
 291              		.cfi_offset 5, -12
 292              		.cfi_offset 6, -8
 293              		.cfi_offset 14, -4
 350:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   uint16_t tmpreg = 0, i2sdiv = 2, i2sodd = 0, packetlength = 1;
 294              		.loc 1 350 3 is_stmt 1 view .LVU74
 295              	.LVL34:
 351:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   uint32_t tmp = 0, i2sclk = 0;
 296              		.loc 1 351 3 view .LVU75
 352:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #ifndef I2S_EXTERNAL_CLOCK_VAL
 353:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   uint32_t pllm = 0, plln = 0, pllr = 0;
 297              		.loc 1 353 3 view .LVU76
 354:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #endif /* I2S_EXTERNAL_CLOCK_VAL */
 355:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 356:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the I2S parameters */
 357:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_23_PERIPH(SPIx));
 298              		.loc 1 357 3 view .LVU77
 358:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_MODE(I2S_InitStruct->I2S_Mode));
 299              		.loc 1 358 3 view .LVU78
 359:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_STANDARD(I2S_InitStruct->I2S_Standard));
 300              		.loc 1 359 3 view .LVU79
 360:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_DATA_FORMAT(I2S_InitStruct->I2S_DataFormat));
 301              		.loc 1 360 3 view .LVU80
 361:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_MCLK_OUTPUT(I2S_InitStruct->I2S_MCLKOutput));
 302              		.loc 1 361 3 view .LVU81
 362:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_AUDIO_FREQ(I2S_InitStruct->I2S_AudioFreq));
 303              		.loc 1 362 3 view .LVU82
 363:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_CPOL(I2S_InitStruct->I2S_CPOL));  
 304              		.loc 1 363 3 view .LVU83
 364:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 365:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /*----------------------- SPIx I2SCFGR & I2SPR Configuration -----------------*/
ARM GAS  /tmp/cc0MhkbI.s 			page 13


 366:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Clear I2SMOD, I2SE, I2SCFG, PCMSYNC, I2SSTD, CKPOL, DATLEN and CHLEN bits */
 367:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->I2SCFGR &= I2SCFGR_CLEAR_MASK; 
 305              		.loc 1 367 3 view .LVU84
 306              		.loc 1 367 17 is_stmt 0 view .LVU85
 307 0002 838B     		ldrh	r3, [r0, #28]
 308 0004 9BB2     		uxth	r3, r3
 309 0006 23F47B63 		bic	r3, r3, #4016
 310 000a 23F00F03 		bic	r3, r3, #15
 311 000e 9BB2     		uxth	r3, r3
 312 0010 8383     		strh	r3, [r0, #28]	@ movhi
 368:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->I2SPR = 0x0002;
 313              		.loc 1 368 3 is_stmt 1 view .LVU86
 314              		.loc 1 368 15 is_stmt 0 view .LVU87
 315 0012 0223     		movs	r3, #2
 316 0014 0384     		strh	r3, [r0, #32]	@ movhi
 369:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 370:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Get the I2SCFGR register value */
 371:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   tmpreg = SPIx->I2SCFGR;
 317              		.loc 1 371 3 is_stmt 1 view .LVU88
 318              		.loc 1 371 10 is_stmt 0 view .LVU89
 319 0016 828B     		ldrh	r2, [r0, #28]
 320 0018 92B2     		uxth	r2, r2
 321              	.LVL35:
 372:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 373:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* If the default value has to be written, reinitialize i2sdiv and i2sodd*/
 374:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if(I2S_InitStruct->I2S_AudioFreq == I2S_AudioFreq_Default)
 322              		.loc 1 374 3 is_stmt 1 view .LVU90
 323              		.loc 1 374 20 is_stmt 0 view .LVU91
 324 001a 8B68     		ldr	r3, [r1, #8]
 325              		.loc 1 374 5 view .LVU92
 326 001c 022B     		cmp	r3, #2
 327 001e 73D0     		beq	.L28
 375:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 376:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     i2sodd = (uint16_t)0;
 377:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     i2sdiv = (uint16_t)2;   
 378:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 379:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* If the requested audio frequency is not the default, compute the prescaler */
 380:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 381:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 382:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Check the frame length (For the Prescaler computing) *******************/
 383:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     if(I2S_InitStruct->I2S_DataFormat == I2S_DataFormat_16b)
 328              		.loc 1 383 5 is_stmt 1 view .LVU93
 329              		.loc 1 383 22 is_stmt 0 view .LVU94
 330 0020 8B88     		ldrh	r3, [r1, #4]
 331              		.loc 1 383 7 view .LVU95
 332 0022 002B     		cmp	r3, #0
 333 0024 5CD1     		bne	.L29
 384:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     {
 385:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       /* Packet length is 16 bits */
 386:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       packetlength = 1;
 334              		.loc 1 386 20 view .LVU96
 335 0026 0126     		movs	r6, #1
 336              	.L21:
 337              	.LVL36:
 387:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 388:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     else
 389:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     {
ARM GAS  /tmp/cc0MhkbI.s 			page 14


 390:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       /* Packet length is 32 bits */
 391:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       packetlength = 2;
 392:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 393:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 394:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Get I2S source Clock frequency  ****************************************/
 395:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       
 396:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* If an external I2S clock has to be used, this define should be set  
 397:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        in the project configuration or in the stm32f4xx_conf.h file */
 398:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   #ifdef I2S_EXTERNAL_CLOCK_VAL     
 399:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Set external clock as I2S clock source */
 400:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     if ((RCC->CFGR & RCC_CFGR_I2SSRC) == 0)
 401:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     {
 402:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       RCC->CFGR |= (uint32_t)RCC_CFGR_I2SSRC;
 403:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 404:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     
 405:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Set the I2S clock to the external clock  value */
 406:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     i2sclk = I2S_EXTERNAL_CLOCK_VAL;
 407:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 408:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   #else /* There is no define for External I2S clock source */
 409:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Set PLLI2S as I2S clock source */
 410:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     if ((RCC->CFGR & RCC_CFGR_I2SSRC) != 0)
 338              		.loc 1 410 5 is_stmt 1 view .LVU97
 339              		.loc 1 410 13 is_stmt 0 view .LVU98
 340 0028 394B     		ldr	r3, .L33
 341 002a 9B68     		ldr	r3, [r3, #8]
 342              		.loc 1 410 8 view .LVU99
 343 002c 13F4000F 		tst	r3, #8388608
 344 0030 04D0     		beq	.L22
 411:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     {
 412:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       RCC->CFGR &= ~(uint32_t)RCC_CFGR_I2SSRC;
 345              		.loc 1 412 7 is_stmt 1 view .LVU100
 346              		.loc 1 412 17 is_stmt 0 view .LVU101
 347 0032 374C     		ldr	r4, .L33
 348 0034 A368     		ldr	r3, [r4, #8]
 349 0036 23F40003 		bic	r3, r3, #8388608
 350 003a A360     		str	r3, [r4, #8]
 351              	.L22:
 413:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }    
 414:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     
 415:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Get the PLLI2SN value */
 416:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     plln = (uint32_t)(((RCC->PLLI2SCFGR & RCC_PLLI2SCFGR_PLLI2SN) >> 6) & \
 352              		.loc 1 416 5 is_stmt 1 view .LVU102
 353              		.loc 1 416 28 is_stmt 0 view .LVU103
 354 003c 344C     		ldr	r4, .L33
 355 003e D4F88430 		ldr	r3, [r4, #132]
 356              		.loc 1 416 10 view .LVU104
 357 0042 C3F3881C 		ubfx	ip, r3, #6, #9
 358              	.LVL37:
 417:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                       (RCC_PLLI2SCFGR_PLLI2SN >> 6));
 418:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     
 419:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Get the PLLI2SR value */
 420:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     pllr = (uint32_t)(((RCC->PLLI2SCFGR & RCC_PLLI2SCFGR_PLLI2SR) >> 28) & \
 359              		.loc 1 420 5 is_stmt 1 view .LVU105
 360              		.loc 1 420 28 is_stmt 0 view .LVU106
 361 0046 D4F88430 		ldr	r3, [r4, #132]
 362              		.loc 1 420 10 view .LVU107
 363 004a C3F30273 		ubfx	r3, r3, #28, #3
ARM GAS  /tmp/cc0MhkbI.s 			page 15


 364              	.LVL38:
 421:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                       (RCC_PLLI2SCFGR_PLLI2SR >> 28));
 422:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     
 423:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Get the PLLM value */
 424:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     pllm = (uint32_t)(RCC->PLLCFGR & RCC_PLLCFGR_PLLM);
 365              		.loc 1 424 5 is_stmt 1 view .LVU108
 366              		.loc 1 424 26 is_stmt 0 view .LVU109
 367 004e 6568     		ldr	r5, [r4, #4]
 368              		.loc 1 424 10 view .LVU110
 369 0050 05F03F0E 		and	lr, r5, #63
 370              	.LVL39:
 425:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 426:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     if((RCC->PLLCFGR & RCC_PLLCFGR_PLLSRC) == RCC_PLLCFGR_PLLSRC_HSE)
 371              		.loc 1 426 5 is_stmt 1 view .LVU111
 372              		.loc 1 426 12 is_stmt 0 view .LVU112
 373 0054 6468     		ldr	r4, [r4, #4]
 374              		.loc 1 426 7 view .LVU113
 375 0056 14F4800F 		tst	r4, #4194304
 376 005a 43D0     		beq	.L23
 427:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     {
 428:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       /* Get the I2S source clock value */
 429:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       i2sclk = (uint32_t)(((HSE_VALUE / pllm) * plln) / pllr);
 377              		.loc 1 429 7 is_stmt 1 view .LVU114
 378              		.loc 1 429 39 is_stmt 0 view .LVU115
 379 005c 2D4C     		ldr	r4, .L33+4
 380 005e B4FBFEFE 		udiv	lr, r4, lr
 381              	.LVL40:
 382              		.loc 1 429 47 view .LVU116
 383 0062 0CFB0EFC 		mul	ip, ip, lr
 384              	.LVL41:
 385              		.loc 1 429 14 view .LVU117
 386 0066 BCFBF3F3 		udiv	r3, ip, r3
 387              	.LVL42:
 388              	.L24:
 430:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 431:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     else
 432:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     { /* Get the I2S source clock value */
 433:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       i2sclk = (uint32_t)(((HSI_VALUE / pllm) * plln) / pllr);
 434:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 435:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   #endif /* I2S_EXTERNAL_CLOCK_VAL */
 436:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     
 437:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Compute the Real divider depending on the MCLK output state, with a floating point */
 438:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     if(I2S_InitStruct->I2S_MCLKOutput == I2S_MCLKOutput_Enable)
 389              		.loc 1 438 5 is_stmt 1 view .LVU118
 390              		.loc 1 438 22 is_stmt 0 view .LVU119
 391 006a CC88     		ldrh	r4, [r1, #6]
 392              		.loc 1 438 7 view .LVU120
 393 006c B4F5007F 		cmp	r4, #512
 394 0070 40D0     		beq	.L32
 439:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     {
 440:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       /* MCLK output is enabled */
 441:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       tmp = (uint16_t)(((((i2sclk / 256) * 10) / I2S_InitStruct->I2S_AudioFreq)) + 5);
 442:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 443:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     else
 444:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     {
 445:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       /* MCLK output is disabled */
 446:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       tmp = (uint16_t)(((((i2sclk / (32 * packetlength)) *10 ) / I2S_InitStruct->I2S_AudioFreq)) + 
ARM GAS  /tmp/cc0MhkbI.s 			page 16


 395              		.loc 1 446 7 is_stmt 1 view .LVU121
 396              		.loc 1 446 41 is_stmt 0 view .LVU122
 397 0072 7601     		lsls	r6, r6, #5
 398              	.LVL43:
 399              		.loc 1 446 35 view .LVU123
 400 0074 B3FBF6F3 		udiv	r3, r3, r6
 401              	.LVL44:
 402              		.loc 1 446 58 view .LVU124
 403 0078 03EB8303 		add	r3, r3, r3, lsl #2
 404 007c 5B00     		lsls	r3, r3, #1
 405              		.loc 1 446 80 view .LVU125
 406 007e 8C68     		ldr	r4, [r1, #8]
 407              		.loc 1 446 64 view .LVU126
 408 0080 B3FBF4F3 		udiv	r3, r3, r4
 409              		.loc 1 446 13 view .LVU127
 410 0084 0533     		adds	r3, r3, #5
 411 0086 9BB2     		uxth	r3, r3
 412              	.LVL45:
 413              	.L26:
 447:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 448:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     
 449:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Remove the flatting point */
 450:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     tmp = tmp / 10;  
 414              		.loc 1 450 5 is_stmt 1 view .LVU128
 415              		.loc 1 450 9 is_stmt 0 view .LVU129
 416 0088 234C     		ldr	r4, .L33+8
 417 008a A4FB0343 		umull	r4, r3, r4, r3
 418              	.LVL46:
 451:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       
 452:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Check the parity of the divider */
 453:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     i2sodd = (uint16_t)(tmp & (uint16_t)0x0001);
 419              		.loc 1 453 5 is_stmt 1 view .LVU130
 420              		.loc 1 453 12 is_stmt 0 view .LVU131
 421 008e C3F3C00C 		ubfx	ip, r3, #3, #1
 422              	.LVL47:
 454:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    
 455:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Compute the i2sdiv prescaler */
 456:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     i2sdiv = (uint16_t)((tmp - i2sodd) / 2);
 423              		.loc 1 456 5 is_stmt 1 view .LVU132
 424              		.loc 1 456 30 is_stmt 0 view .LVU133
 425 0092 CCEBD303 		rsb	r3, ip, r3, lsr #3
 426              	.LVL48:
 427              		.loc 1 456 12 view .LVU134
 428 0096 C3F34F03 		ubfx	r3, r3, #1, #16
 429              	.LVL49:
 457:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    
 458:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Get the Mask for the Odd bit (SPI_I2SPR[8]) register */
 459:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     i2sodd = (uint16_t) (i2sodd << 8);
 430              		.loc 1 459 5 is_stmt 1 view .LVU135
 431              		.loc 1 459 12 is_stmt 0 view .LVU136
 432 009a 4FEA0C2E 		lsl	lr, ip, #8
 433              	.LVL50:
 434              	.L20:
 460:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 461:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 462:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Test if the divider is 1 or 0 or greater than 0xFF */
 463:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if ((i2sdiv < 2) || (i2sdiv > 0xFF))
ARM GAS  /tmp/cc0MhkbI.s 			page 17


 435              		.loc 1 463 3 is_stmt 1 view .LVU137
 436              		.loc 1 463 20 is_stmt 0 view .LVU138
 437 009e A3F1020C 		sub	ip, r3, #2
 438 00a2 1FFA8CFC 		uxth	ip, ip
 439              		.loc 1 463 6 view .LVU139
 440 00a6 BCF1FD0F 		cmp	ip, #253
 441 00aa 02D9     		bls	.L27
 464:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 465:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Set the default values */
 466:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     i2sdiv = 2;
 467:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     i2sodd = 0;
 442              		.loc 1 467 12 view .LVU140
 443 00ac 4FF0000E 		mov	lr, #0
 444              	.LVL51:
 466:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     i2sodd = 0;
 445              		.loc 1 466 12 view .LVU141
 446 00b0 0223     		movs	r3, #2
 447              	.LVL52:
 448              	.L27:
 468:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 469:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 470:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Write to SPIx I2SPR register the computed value */
 471:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->I2SPR = (uint16_t)((uint16_t)i2sdiv | (uint16_t)(i2sodd | (uint16_t)I2S_InitStruct->I2S_MCL
 449              		.loc 1 471 3 is_stmt 1 view .LVU142
 450              		.loc 1 471 91 is_stmt 0 view .LVU143
 451 00b2 B1F806C0 		ldrh	ip, [r1, #6]
 452              		.loc 1 471 47 view .LVU144
 453 00b6 4CEA0E0C 		orr	ip, ip, lr
 454              		.loc 1 471 17 view .LVU145
 455 00ba 4CEA0303 		orr	r3, ip, r3
 456              	.LVL53:
 457              		.loc 1 471 15 view .LVU146
 458 00be 0384     		strh	r3, [r0, #32]	@ movhi
 472:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  
 473:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Configure the I2S with the SPI_InitStruct values */
 474:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   tmpreg |= (uint16_t)((uint16_t)SPI_I2SCFGR_I2SMOD | (uint16_t)(I2S_InitStruct->I2S_Mode | \
 459              		.loc 1 474 3 is_stmt 1 view .LVU147
 460              		.loc 1 474 80 is_stmt 0 view .LVU148
 461 00c0 0B88     		ldrh	r3, [r1]
 475:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 462              		.loc 1 475 44 view .LVU149
 463 00c2 B1F802C0 		ldrh	ip, [r1, #2]
 464              		.loc 1 475 86 view .LVU150
 465 00c6 B1F804E0 		ldrh	lr, [r1, #4]
 466              	.LVL54:
 476:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)I2S_InitStruct->I2S_CPOL))));
 467              		.loc 1 476 43 view .LVU151
 468 00ca 8989     		ldrh	r1, [r1, #12]
 469              	.LVL55:
 475:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 470              		.loc 1 475 61 view .LVU152
 471 00cc 4EEA0101 		orr	r1, lr, r1
 475:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 472              		.loc 1 475 19 view .LVU153
 473 00d0 4CEA0101 		orr	r1, ip, r1
 474:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 474              		.loc 1 474 55 view .LVU154
ARM GAS  /tmp/cc0MhkbI.s 			page 18


 475 00d4 0B43     		orrs	r3, r3, r1
 474:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 476              		.loc 1 474 10 view .LVU155
 477 00d6 1A43     		orrs	r2, r2, r3
 478              	.LVL56:
 474:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 479              		.loc 1 474 10 view .LVU156
 480 00d8 42F40062 		orr	r2, r2, #2048
 481              	.LVL57:
 477:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  
 478:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Write to SPIx I2SCFGR */  
 479:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->I2SCFGR = tmpreg;
 482              		.loc 1 479 3 is_stmt 1 view .LVU157
 483              		.loc 1 479 17 is_stmt 0 view .LVU158
 484 00dc 8283     		strh	r2, [r0, #28]	@ movhi
 480:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 485              		.loc 1 480 1 view .LVU159
 486 00de 70BD     		pop	{r4, r5, r6, pc}
 487              	.LVL58:
 488              	.L29:
 391:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 489              		.loc 1 391 20 view .LVU160
 490 00e0 0226     		movs	r6, #2
 491 00e2 A1E7     		b	.L21
 492              	.LVL59:
 493              	.L23:
 433:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 494              		.loc 1 433 7 is_stmt 1 view .LVU161
 433:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 495              		.loc 1 433 39 is_stmt 0 view .LVU162
 496 00e4 0D4C     		ldr	r4, .L33+12
 497 00e6 B4FBFEFE 		udiv	lr, r4, lr
 498              	.LVL60:
 433:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 499              		.loc 1 433 47 view .LVU163
 500 00ea 0CFB0EFC 		mul	ip, ip, lr
 501              	.LVL61:
 433:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 502              		.loc 1 433 14 view .LVU164
 503 00ee BCFBF3F3 		udiv	r3, ip, r3
 504              	.LVL62:
 433:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 505              		.loc 1 433 14 view .LVU165
 506 00f2 BAE7     		b	.L24
 507              	.L32:
 441:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 508              		.loc 1 441 7 is_stmt 1 view .LVU166
 441:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 509              		.loc 1 441 35 is_stmt 0 view .LVU167
 510 00f4 1B0A     		lsrs	r3, r3, #8
 511              	.LVL63:
 441:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 512              		.loc 1 441 42 view .LVU168
 513 00f6 03EB8303 		add	r3, r3, r3, lsl #2
 514 00fa 5B00     		lsls	r3, r3, #1
 441:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 515              		.loc 1 441 64 view .LVU169
ARM GAS  /tmp/cc0MhkbI.s 			page 19


 516 00fc 8C68     		ldr	r4, [r1, #8]
 441:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 517              		.loc 1 441 48 view .LVU170
 518 00fe B3FBF4F3 		udiv	r3, r3, r4
 441:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 519              		.loc 1 441 13 view .LVU171
 520 0102 0533     		adds	r3, r3, #5
 521 0104 9BB2     		uxth	r3, r3
 522              	.LVL64:
 441:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 523              		.loc 1 441 13 view .LVU172
 524 0106 BFE7     		b	.L26
 525              	.LVL65:
 526              	.L28:
 376:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     i2sdiv = (uint16_t)2;   
 527              		.loc 1 376 12 view .LVU173
 528 0108 4FF0000E 		mov	lr, #0
 377:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 529              		.loc 1 377 12 view .LVU174
 530 010c 0223     		movs	r3, #2
 531 010e C6E7     		b	.L20
 532              	.L34:
 533              		.align	2
 534              	.L33:
 535 0110 00380240 		.word	1073887232
 536 0114 00127A00 		.word	8000000
 537 0118 CDCCCCCC 		.word	-858993459
 538 011c 0024F400 		.word	16000000
 539              		.cfi_endproc
 540              	.LFE125:
 542              		.section	.text.SPI_StructInit,"ax",%progbits
 543              		.align	1
 544              		.global	SPI_StructInit
 545              		.syntax unified
 546              		.thumb
 547              		.thumb_func
 548              		.fpu fpv4-sp-d16
 550              	SPI_StructInit:
 551              	.LVL66:
 552              	.LFB126:
 481:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 482:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 483:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Fills each SPI_InitStruct member with its default value.
 484:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_InitStruct: pointer to a SPI_InitTypeDef structure which will be initialized.
 485:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 486:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 487:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_StructInit(SPI_InitTypeDef* SPI_InitStruct)
 488:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 553              		.loc 1 488 1 is_stmt 1 view -0
 554              		.cfi_startproc
 555              		@ args = 0, pretend = 0, frame = 0
 556              		@ frame_needed = 0, uses_anonymous_args = 0
 557              		@ link register save eliminated.
 489:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /*--------------- Reset SPI init structure parameters values -----------------*/
 490:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the SPI_Direction member */
 491:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPI_InitStruct->SPI_Direction = SPI_Direction_2Lines_FullDuplex;
 558              		.loc 1 491 3 view .LVU176
ARM GAS  /tmp/cc0MhkbI.s 			page 20


 559              		.loc 1 491 33 is_stmt 0 view .LVU177
 560 0000 0023     		movs	r3, #0
 561 0002 0380     		strh	r3, [r0]	@ movhi
 492:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* initialize the SPI_Mode member */
 493:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPI_InitStruct->SPI_Mode = SPI_Mode_Slave;
 562              		.loc 1 493 3 is_stmt 1 view .LVU178
 563              		.loc 1 493 28 is_stmt 0 view .LVU179
 564 0004 4380     		strh	r3, [r0, #2]	@ movhi
 494:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* initialize the SPI_DataSize member */
 495:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPI_InitStruct->SPI_DataSize = SPI_DataSize_8b;
 565              		.loc 1 495 3 is_stmt 1 view .LVU180
 566              		.loc 1 495 32 is_stmt 0 view .LVU181
 567 0006 8380     		strh	r3, [r0, #4]	@ movhi
 496:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the SPI_CPOL member */
 497:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPI_InitStruct->SPI_CPOL = SPI_CPOL_Low;
 568              		.loc 1 497 3 is_stmt 1 view .LVU182
 569              		.loc 1 497 28 is_stmt 0 view .LVU183
 570 0008 C380     		strh	r3, [r0, #6]	@ movhi
 498:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the SPI_CPHA member */
 499:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPI_InitStruct->SPI_CPHA = SPI_CPHA_1Edge;
 571              		.loc 1 499 3 is_stmt 1 view .LVU184
 572              		.loc 1 499 28 is_stmt 0 view .LVU185
 573 000a 0381     		strh	r3, [r0, #8]	@ movhi
 500:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the SPI_NSS member */
 501:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPI_InitStruct->SPI_NSS = SPI_NSS_Hard;
 574              		.loc 1 501 3 is_stmt 1 view .LVU186
 575              		.loc 1 501 27 is_stmt 0 view .LVU187
 576 000c 4381     		strh	r3, [r0, #10]	@ movhi
 502:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the SPI_BaudRatePrescaler member */
 503:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPI_InitStruct->SPI_BaudRatePrescaler = SPI_BaudRatePrescaler_2;
 577              		.loc 1 503 3 is_stmt 1 view .LVU188
 578              		.loc 1 503 41 is_stmt 0 view .LVU189
 579 000e 8381     		strh	r3, [r0, #12]	@ movhi
 504:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the SPI_FirstBit member */
 505:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPI_InitStruct->SPI_FirstBit = SPI_FirstBit_MSB;
 580              		.loc 1 505 3 is_stmt 1 view .LVU190
 581              		.loc 1 505 32 is_stmt 0 view .LVU191
 582 0010 C381     		strh	r3, [r0, #14]	@ movhi
 506:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the SPI_CRCPolynomial member */
 507:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPI_InitStruct->SPI_CRCPolynomial = 7;
 583              		.loc 1 507 3 is_stmt 1 view .LVU192
 584              		.loc 1 507 37 is_stmt 0 view .LVU193
 585 0012 0723     		movs	r3, #7
 586 0014 0382     		strh	r3, [r0, #16]	@ movhi
 508:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 587              		.loc 1 508 1 view .LVU194
 588 0016 7047     		bx	lr
 589              		.cfi_endproc
 590              	.LFE126:
 592              		.section	.text.I2S_StructInit,"ax",%progbits
 593              		.align	1
 594              		.global	I2S_StructInit
 595              		.syntax unified
 596              		.thumb
 597              		.thumb_func
 598              		.fpu fpv4-sp-d16
 600              	I2S_StructInit:
ARM GAS  /tmp/cc0MhkbI.s 			page 21


 601              	.LVL67:
 602              	.LFB127:
 509:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 510:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 511:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Fills each I2S_InitStruct member with its default value.
 512:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  I2S_InitStruct: pointer to a I2S_InitTypeDef structure which will be initialized.
 513:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 514:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 515:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void I2S_StructInit(I2S_InitTypeDef* I2S_InitStruct)
 516:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 603              		.loc 1 516 1 is_stmt 1 view -0
 604              		.cfi_startproc
 605              		@ args = 0, pretend = 0, frame = 0
 606              		@ frame_needed = 0, uses_anonymous_args = 0
 607              		@ link register save eliminated.
 517:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /*--------------- Reset I2S init structure parameters values -----------------*/
 518:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the I2S_Mode member */
 519:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   I2S_InitStruct->I2S_Mode = I2S_Mode_SlaveTx;
 608              		.loc 1 519 3 view .LVU196
 609              		.loc 1 519 28 is_stmt 0 view .LVU197
 610 0000 0023     		movs	r3, #0
 611 0002 0380     		strh	r3, [r0]	@ movhi
 520:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 521:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the I2S_Standard member */
 522:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   I2S_InitStruct->I2S_Standard = I2S_Standard_Phillips;
 612              		.loc 1 522 3 is_stmt 1 view .LVU198
 613              		.loc 1 522 32 is_stmt 0 view .LVU199
 614 0004 4380     		strh	r3, [r0, #2]	@ movhi
 523:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 524:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the I2S_DataFormat member */
 525:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   I2S_InitStruct->I2S_DataFormat = I2S_DataFormat_16b;
 615              		.loc 1 525 3 is_stmt 1 view .LVU200
 616              		.loc 1 525 34 is_stmt 0 view .LVU201
 617 0006 8380     		strh	r3, [r0, #4]	@ movhi
 526:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 527:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the I2S_MCLKOutput member */
 528:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   I2S_InitStruct->I2S_MCLKOutput = I2S_MCLKOutput_Disable;
 618              		.loc 1 528 3 is_stmt 1 view .LVU202
 619              		.loc 1 528 34 is_stmt 0 view .LVU203
 620 0008 C380     		strh	r3, [r0, #6]	@ movhi
 529:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 530:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the I2S_AudioFreq member */
 531:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   I2S_InitStruct->I2S_AudioFreq = I2S_AudioFreq_Default;
 621              		.loc 1 531 3 is_stmt 1 view .LVU204
 622              		.loc 1 531 33 is_stmt 0 view .LVU205
 623 000a 0222     		movs	r2, #2
 624 000c 8260     		str	r2, [r0, #8]
 532:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 533:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the I2S_CPOL member */
 534:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   I2S_InitStruct->I2S_CPOL = I2S_CPOL_Low;
 625              		.loc 1 534 3 is_stmt 1 view .LVU206
 626              		.loc 1 534 28 is_stmt 0 view .LVU207
 627 000e 8381     		strh	r3, [r0, #12]	@ movhi
 535:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 628              		.loc 1 535 1 view .LVU208
 629 0010 7047     		bx	lr
 630              		.cfi_endproc
ARM GAS  /tmp/cc0MhkbI.s 			page 22


 631              	.LFE127:
 633              		.section	.text.SPI_Cmd,"ax",%progbits
 634              		.align	1
 635              		.global	SPI_Cmd
 636              		.syntax unified
 637              		.thumb
 638              		.thumb_func
 639              		.fpu fpv4-sp-d16
 641              	SPI_Cmd:
 642              	.LVL68:
 643              	.LFB128:
 536:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 537:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 538:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Enables or disables the specified SPI peripheral.
 539:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2, 3, 4, 5 or 6 to select the SPI peripheral.
 540:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  NewState: new state of the SPIx peripheral. 
 541:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be: ENABLE or DISABLE.
 542:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 543:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 544:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_Cmd(SPI_TypeDef* SPIx, FunctionalState NewState)
 545:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 644              		.loc 1 545 1 is_stmt 1 view -0
 645              		.cfi_startproc
 646              		@ args = 0, pretend = 0, frame = 0
 647              		@ frame_needed = 0, uses_anonymous_args = 0
 648              		@ link register save eliminated.
 546:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 547:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 649              		.loc 1 547 3 view .LVU210
 548:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 650              		.loc 1 548 3 view .LVU211
 549:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (NewState != DISABLE)
 651              		.loc 1 549 3 view .LVU212
 652              		.loc 1 549 6 is_stmt 0 view .LVU213
 653 0000 29B1     		cbz	r1, .L38
 550:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 551:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable the selected SPI peripheral */
 552:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR1 |= SPI_CR1_SPE;
 654              		.loc 1 552 5 is_stmt 1 view .LVU214
 655              		.loc 1 552 15 is_stmt 0 view .LVU215
 656 0002 0388     		ldrh	r3, [r0]
 657 0004 9BB2     		uxth	r3, r3
 658 0006 43F04003 		orr	r3, r3, #64
 659 000a 0380     		strh	r3, [r0]	@ movhi
 660 000c 7047     		bx	lr
 661              	.L38:
 553:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 554:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 555:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 556:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Disable the selected SPI peripheral */
 557:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR1 &= (uint16_t)~((uint16_t)SPI_CR1_SPE);
 662              		.loc 1 557 5 is_stmt 1 view .LVU216
 663              		.loc 1 557 15 is_stmt 0 view .LVU217
 664 000e 0388     		ldrh	r3, [r0]
 665 0010 9BB2     		uxth	r3, r3
 666 0012 23F04003 		bic	r3, r3, #64
 667 0016 9BB2     		uxth	r3, r3
ARM GAS  /tmp/cc0MhkbI.s 			page 23


 668 0018 0380     		strh	r3, [r0]	@ movhi
 558:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 559:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 669              		.loc 1 559 1 view .LVU218
 670 001a 7047     		bx	lr
 671              		.cfi_endproc
 672              	.LFE128:
 674              		.section	.text.I2S_Cmd,"ax",%progbits
 675              		.align	1
 676              		.global	I2S_Cmd
 677              		.syntax unified
 678              		.thumb
 679              		.thumb_func
 680              		.fpu fpv4-sp-d16
 682              	I2S_Cmd:
 683              	.LVL69:
 684              	.LFB129:
 560:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 561:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 562:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Enables or disables the specified SPI peripheral (in I2S mode).
 563:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 2 or 3 to select the SPI peripheral (or I2Sxext 
 564:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         for full duplex mode).
 565:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  NewState: new state of the SPIx peripheral. 
 566:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         This parameter can be: ENABLE or DISABLE.
 567:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 568:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 569:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void I2S_Cmd(SPI_TypeDef* SPIx, FunctionalState NewState)
 570:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 685              		.loc 1 570 1 is_stmt 1 view -0
 686              		.cfi_startproc
 687              		@ args = 0, pretend = 0, frame = 0
 688              		@ frame_needed = 0, uses_anonymous_args = 0
 689              		@ link register save eliminated.
 571:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 572:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_23_PERIPH_EXT(SPIx));
 690              		.loc 1 572 3 view .LVU220
 573:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 691              		.loc 1 573 3 view .LVU221
 574:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 575:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (NewState != DISABLE)
 692              		.loc 1 575 3 view .LVU222
 693              		.loc 1 575 6 is_stmt 0 view .LVU223
 694 0000 29B1     		cbz	r1, .L41
 576:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 577:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable the selected SPI peripheral (in I2S mode) */
 578:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->I2SCFGR |= SPI_I2SCFGR_I2SE;
 695              		.loc 1 578 5 is_stmt 1 view .LVU224
 696              		.loc 1 578 19 is_stmt 0 view .LVU225
 697 0002 838B     		ldrh	r3, [r0, #28]
 698 0004 9BB2     		uxth	r3, r3
 699 0006 43F48063 		orr	r3, r3, #1024
 700 000a 8383     		strh	r3, [r0, #28]	@ movhi
 701 000c 7047     		bx	lr
 702              	.L41:
 579:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 580:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 581:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
ARM GAS  /tmp/cc0MhkbI.s 			page 24


 582:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Disable the selected SPI peripheral in I2S mode */
 583:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->I2SCFGR &= (uint16_t)~((uint16_t)SPI_I2SCFGR_I2SE);
 703              		.loc 1 583 5 is_stmt 1 view .LVU226
 704              		.loc 1 583 19 is_stmt 0 view .LVU227
 705 000e 838B     		ldrh	r3, [r0, #28]
 706 0010 9BB2     		uxth	r3, r3
 707 0012 23F48063 		bic	r3, r3, #1024
 708 0016 9BB2     		uxth	r3, r3
 709 0018 8383     		strh	r3, [r0, #28]	@ movhi
 584:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 585:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 710              		.loc 1 585 1 view .LVU228
 711 001a 7047     		bx	lr
 712              		.cfi_endproc
 713              	.LFE129:
 715              		.section	.text.SPI_DataSizeConfig,"ax",%progbits
 716              		.align	1
 717              		.global	SPI_DataSizeConfig
 718              		.syntax unified
 719              		.thumb
 720              		.thumb_func
 721              		.fpu fpv4-sp-d16
 723              	SPI_DataSizeConfig:
 724              	.LVL70:
 725              	.LFB130:
 586:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 587:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 588:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Configures the data size for the selected SPI.
 589:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2, 3, 4, 5 or 6 to select the SPI peripheral.
 590:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_DataSize: specifies the SPI data size.
 591:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be one of the following values:
 592:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_DataSize_16b: Set data frame format to 16bit
 593:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_DataSize_8b: Set data frame format to 8bit
 594:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 595:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 596:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_DataSizeConfig(SPI_TypeDef* SPIx, uint16_t SPI_DataSize)
 597:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 726              		.loc 1 597 1 is_stmt 1 view -0
 727              		.cfi_startproc
 728              		@ args = 0, pretend = 0, frame = 0
 729              		@ frame_needed = 0, uses_anonymous_args = 0
 730              		@ link register save eliminated.
 598:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 599:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 731              		.loc 1 599 3 view .LVU230
 600:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_DATASIZE(SPI_DataSize));
 732              		.loc 1 600 3 view .LVU231
 601:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Clear DFF bit */
 602:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->CR1 &= (uint16_t)~SPI_DataSize_16b;
 733              		.loc 1 602 3 view .LVU232
 734              		.loc 1 602 13 is_stmt 0 view .LVU233
 735 0000 0388     		ldrh	r3, [r0]
 736 0002 9BB2     		uxth	r3, r3
 737 0004 23F40063 		bic	r3, r3, #2048
 738 0008 9BB2     		uxth	r3, r3
 739 000a 0380     		strh	r3, [r0]	@ movhi
 603:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Set new DFF bit value */
ARM GAS  /tmp/cc0MhkbI.s 			page 25


 604:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->CR1 |= SPI_DataSize;
 740              		.loc 1 604 3 is_stmt 1 view .LVU234
 741              		.loc 1 604 13 is_stmt 0 view .LVU235
 742 000c 0388     		ldrh	r3, [r0]
 743 000e 9BB2     		uxth	r3, r3
 744 0010 0B43     		orrs	r3, r3, r1
 745 0012 0380     		strh	r3, [r0]	@ movhi
 605:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 746              		.loc 1 605 1 view .LVU236
 747 0014 7047     		bx	lr
 748              		.cfi_endproc
 749              	.LFE130:
 751              		.section	.text.SPI_BiDirectionalLineConfig,"ax",%progbits
 752              		.align	1
 753              		.global	SPI_BiDirectionalLineConfig
 754              		.syntax unified
 755              		.thumb
 756              		.thumb_func
 757              		.fpu fpv4-sp-d16
 759              	SPI_BiDirectionalLineConfig:
 760              	.LVL71:
 761              	.LFB131:
 606:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 607:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 608:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Selects the data transfer direction in bidirectional mode for the specified SPI.
 609:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2, 3, 4, 5 or 6 to select the SPI peripheral.
 610:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_Direction: specifies the data transfer direction in bidirectional mode. 
 611:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be one of the following values:
 612:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_Direction_Tx: Selects Tx transmission direction
 613:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_Direction_Rx: Selects Rx receive direction
 614:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 615:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 616:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_BiDirectionalLineConfig(SPI_TypeDef* SPIx, uint16_t SPI_Direction)
 617:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 762              		.loc 1 617 1 is_stmt 1 view -0
 763              		.cfi_startproc
 764              		@ args = 0, pretend = 0, frame = 0
 765              		@ frame_needed = 0, uses_anonymous_args = 0
 766              		@ link register save eliminated.
 618:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 619:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 767              		.loc 1 619 3 view .LVU238
 620:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_DIRECTION(SPI_Direction));
 768              		.loc 1 620 3 view .LVU239
 621:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (SPI_Direction == SPI_Direction_Tx)
 769              		.loc 1 621 3 view .LVU240
 770              		.loc 1 621 6 is_stmt 0 view .LVU241
 771 0000 B1F5804F 		cmp	r1, #16384
 772 0004 06D0     		beq	.L47
 622:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 623:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Set the Tx only mode */
 624:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR1 |= SPI_Direction_Tx;
 625:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 626:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 627:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 628:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Set the Rx only mode */
 629:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR1 &= SPI_Direction_Rx;
ARM GAS  /tmp/cc0MhkbI.s 			page 26


 773              		.loc 1 629 5 is_stmt 1 view .LVU242
 774              		.loc 1 629 15 is_stmt 0 view .LVU243
 775 0006 0388     		ldrh	r3, [r0]
 776 0008 9BB2     		uxth	r3, r3
 777 000a 23F48043 		bic	r3, r3, #16384
 778 000e 9BB2     		uxth	r3, r3
 779 0010 0380     		strh	r3, [r0]	@ movhi
 630:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 631:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 780              		.loc 1 631 1 view .LVU244
 781 0012 7047     		bx	lr
 782              	.L47:
 624:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 783              		.loc 1 624 5 is_stmt 1 view .LVU245
 624:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 784              		.loc 1 624 15 is_stmt 0 view .LVU246
 785 0014 0388     		ldrh	r3, [r0]
 786 0016 9BB2     		uxth	r3, r3
 787 0018 43F48043 		orr	r3, r3, #16384
 788 001c 0380     		strh	r3, [r0]	@ movhi
 789 001e 7047     		bx	lr
 790              		.cfi_endproc
 791              	.LFE131:
 793              		.section	.text.SPI_NSSInternalSoftwareConfig,"ax",%progbits
 794              		.align	1
 795              		.global	SPI_NSSInternalSoftwareConfig
 796              		.syntax unified
 797              		.thumb
 798              		.thumb_func
 799              		.fpu fpv4-sp-d16
 801              	SPI_NSSInternalSoftwareConfig:
 802              	.LVL72:
 803              	.LFB132:
 632:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 633:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 634:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Configures internally by software the NSS pin for the selected SPI.
 635:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2, 3, 4, 5 or 6 to select the SPI peripheral.
 636:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_NSSInternalSoft: specifies the SPI NSS internal state.
 637:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be one of the following values:
 638:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_NSSInternalSoft_Set: Set NSS pin internally
 639:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_NSSInternalSoft_Reset: Reset NSS pin internally
 640:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 641:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 642:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_NSSInternalSoftwareConfig(SPI_TypeDef* SPIx, uint16_t SPI_NSSInternalSoft)
 643:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 804              		.loc 1 643 1 is_stmt 1 view -0
 805              		.cfi_startproc
 806              		@ args = 0, pretend = 0, frame = 0
 807              		@ frame_needed = 0, uses_anonymous_args = 0
 808              		@ link register save eliminated.
 644:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 645:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 809              		.loc 1 645 3 view .LVU248
 646:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_NSS_INTERNAL(SPI_NSSInternalSoft));
 810              		.loc 1 646 3 view .LVU249
 647:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (SPI_NSSInternalSoft != SPI_NSSInternalSoft_Reset)
 811              		.loc 1 647 3 view .LVU250
ARM GAS  /tmp/cc0MhkbI.s 			page 27


 812              		.loc 1 647 6 is_stmt 0 view .LVU251
 813 0000 4FF6FF63 		movw	r3, #65279
 814 0004 9942     		cmp	r1, r3
 815 0006 05D0     		beq	.L49
 648:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 649:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Set NSS pin internally by software */
 650:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR1 |= SPI_NSSInternalSoft_Set;
 816              		.loc 1 650 5 is_stmt 1 view .LVU252
 817              		.loc 1 650 15 is_stmt 0 view .LVU253
 818 0008 0388     		ldrh	r3, [r0]
 819 000a 9BB2     		uxth	r3, r3
 820 000c 43F48073 		orr	r3, r3, #256
 821 0010 0380     		strh	r3, [r0]	@ movhi
 822 0012 7047     		bx	lr
 823              	.L49:
 651:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 652:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 653:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 654:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Reset NSS pin internally by software */
 655:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR1 &= SPI_NSSInternalSoft_Reset;
 824              		.loc 1 655 5 is_stmt 1 view .LVU254
 825              		.loc 1 655 15 is_stmt 0 view .LVU255
 826 0014 0388     		ldrh	r3, [r0]
 827 0016 9BB2     		uxth	r3, r3
 828 0018 23F48073 		bic	r3, r3, #256
 829 001c 9BB2     		uxth	r3, r3
 830 001e 0380     		strh	r3, [r0]	@ movhi
 656:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 657:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 831              		.loc 1 657 1 view .LVU256
 832 0020 7047     		bx	lr
 833              		.cfi_endproc
 834              	.LFE132:
 836              		.section	.text.SPI_SSOutputCmd,"ax",%progbits
 837              		.align	1
 838              		.global	SPI_SSOutputCmd
 839              		.syntax unified
 840              		.thumb
 841              		.thumb_func
 842              		.fpu fpv4-sp-d16
 844              	SPI_SSOutputCmd:
 845              	.LVL73:
 846              	.LFB133:
 658:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 659:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 660:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Enables or disables the SS output for the selected SPI.
 661:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2, 3, 4, 5 or 6 to select the SPI peripheral.
 662:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  NewState: new state of the SPIx SS output. 
 663:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be: ENABLE or DISABLE.
 664:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 665:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 666:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_SSOutputCmd(SPI_TypeDef* SPIx, FunctionalState NewState)
 667:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 847              		.loc 1 667 1 is_stmt 1 view -0
 848              		.cfi_startproc
 849              		@ args = 0, pretend = 0, frame = 0
 850              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/cc0MhkbI.s 			page 28


 851              		@ link register save eliminated.
 668:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 669:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 852              		.loc 1 669 3 view .LVU258
 670:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 853              		.loc 1 670 3 view .LVU259
 671:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (NewState != DISABLE)
 854              		.loc 1 671 3 view .LVU260
 855              		.loc 1 671 6 is_stmt 0 view .LVU261
 856 0000 29B1     		cbz	r1, .L52
 672:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 673:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable the selected SPI SS output */
 674:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR2 |= (uint16_t)SPI_CR2_SSOE;
 857              		.loc 1 674 5 is_stmt 1 view .LVU262
 858              		.loc 1 674 15 is_stmt 0 view .LVU263
 859 0002 8388     		ldrh	r3, [r0, #4]
 860 0004 9BB2     		uxth	r3, r3
 861 0006 43F00403 		orr	r3, r3, #4
 862 000a 8380     		strh	r3, [r0, #4]	@ movhi
 863 000c 7047     		bx	lr
 864              	.L52:
 675:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 676:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 677:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 678:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Disable the selected SPI SS output */
 679:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR2 &= (uint16_t)~((uint16_t)SPI_CR2_SSOE);
 865              		.loc 1 679 5 is_stmt 1 view .LVU264
 866              		.loc 1 679 15 is_stmt 0 view .LVU265
 867 000e 8388     		ldrh	r3, [r0, #4]
 868 0010 9BB2     		uxth	r3, r3
 869 0012 23F00403 		bic	r3, r3, #4
 870 0016 9BB2     		uxth	r3, r3
 871 0018 8380     		strh	r3, [r0, #4]	@ movhi
 680:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 681:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 872              		.loc 1 681 1 view .LVU266
 873 001a 7047     		bx	lr
 874              		.cfi_endproc
 875              	.LFE133:
 877              		.section	.text.SPI_TIModeCmd,"ax",%progbits
 878              		.align	1
 879              		.global	SPI_TIModeCmd
 880              		.syntax unified
 881              		.thumb
 882              		.thumb_func
 883              		.fpu fpv4-sp-d16
 885              	SPI_TIModeCmd:
 886              	.LVL74:
 887              	.LFB134:
 682:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 683:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 684:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Enables or disables the SPIx/I2Sx DMA interface.
 685:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *   
 686:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   This function can be called only after the SPI_Init() function has 
 687:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         been called. 
 688:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   When TI mode is selected, the control bits SSM, SSI, CPOL and CPHA 
 689:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         are not taken into consideration and are configured by hardware
ARM GAS  /tmp/cc0MhkbI.s 			page 29


 690:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         respectively to the TI mode requirements.  
 691:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * 
 692:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2, 3, 4, 5 or 6 
 693:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  NewState: new state of the selected SPI TI communication mode.
 694:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be: ENABLE or DISABLE.
 695:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 696:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 697:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_TIModeCmd(SPI_TypeDef* SPIx, FunctionalState NewState)
 698:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 888              		.loc 1 698 1 is_stmt 1 view -0
 889              		.cfi_startproc
 890              		@ args = 0, pretend = 0, frame = 0
 891              		@ frame_needed = 0, uses_anonymous_args = 0
 892              		@ link register save eliminated.
 699:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 700:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 893              		.loc 1 700 3 view .LVU268
 701:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 894              		.loc 1 701 3 view .LVU269
 702:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 703:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (NewState != DISABLE)
 895              		.loc 1 703 3 view .LVU270
 896              		.loc 1 703 6 is_stmt 0 view .LVU271
 897 0000 29B1     		cbz	r1, .L55
 704:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 705:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable the TI mode for the selected SPI peripheral */
 706:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR2 |= SPI_CR2_FRF;
 898              		.loc 1 706 5 is_stmt 1 view .LVU272
 899              		.loc 1 706 15 is_stmt 0 view .LVU273
 900 0002 8388     		ldrh	r3, [r0, #4]
 901 0004 9BB2     		uxth	r3, r3
 902 0006 43F01003 		orr	r3, r3, #16
 903 000a 8380     		strh	r3, [r0, #4]	@ movhi
 904 000c 7047     		bx	lr
 905              	.L55:
 707:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 708:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 709:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 710:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Disable the TI mode for the selected SPI peripheral */
 711:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR2 &= (uint16_t)~SPI_CR2_FRF;
 906              		.loc 1 711 5 is_stmt 1 view .LVU274
 907              		.loc 1 711 15 is_stmt 0 view .LVU275
 908 000e 8388     		ldrh	r3, [r0, #4]
 909 0010 9BB2     		uxth	r3, r3
 910 0012 23F01003 		bic	r3, r3, #16
 911 0016 9BB2     		uxth	r3, r3
 912 0018 8380     		strh	r3, [r0, #4]	@ movhi
 712:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 713:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 913              		.loc 1 713 1 view .LVU276
 914 001a 7047     		bx	lr
 915              		.cfi_endproc
 916              	.LFE134:
 918              		.section	.text.I2S_FullDuplexConfig,"ax",%progbits
 919              		.align	1
 920              		.global	I2S_FullDuplexConfig
 921              		.syntax unified
ARM GAS  /tmp/cc0MhkbI.s 			page 30


 922              		.thumb
 923              		.thumb_func
 924              		.fpu fpv4-sp-d16
 926              	I2S_FullDuplexConfig:
 927              	.LVL75:
 928              	.LFB135:
 714:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 715:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 716:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Configures the full duplex mode for the I2Sx peripheral using its
 717:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         extension I2Sxext according to the specified parameters in the 
 718:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         I2S_InitStruct.
 719:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  I2Sxext: where x can be  2 or 3 to select the I2S peripheral extension block.
 720:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  I2S_InitStruct: pointer to an I2S_InitTypeDef structure that
 721:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         contains the configuration information for the specified I2S peripheral
 722:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         extension.
 723:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * 
 724:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   The structure pointed by I2S_InitStruct parameter should be the same
 725:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         used for the master I2S peripheral. In this case, if the master is 
 726:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         configured as transmitter, the slave will be receiver and vice versa.
 727:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         Or you can force a different mode by modifying the field I2S_Mode to the
 728:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         value I2S_SlaveRx or I2S_SlaveTx independently of the master configuration.    
 729:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         
 730:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   The I2S full duplex extension can be configured in slave mode only.    
 731:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *  
 732:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 733:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 734:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void I2S_FullDuplexConfig(SPI_TypeDef* I2Sxext, I2S_InitTypeDef* I2S_InitStruct)
 735:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 929              		.loc 1 735 1 is_stmt 1 view -0
 930              		.cfi_startproc
 931              		@ args = 0, pretend = 0, frame = 0
 932              		@ frame_needed = 0, uses_anonymous_args = 0
 933              		.loc 1 735 1 is_stmt 0 view .LVU278
 934 0000 00B5     		push	{lr}
 935              		.cfi_def_cfa_offset 4
 936              		.cfi_offset 14, -4
 736:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   uint16_t tmpreg = 0, tmp = 0;
 937              		.loc 1 736 3 is_stmt 1 view .LVU279
 938              	.LVL76:
 737:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 738:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the I2S parameters */
 739:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_EXT_PERIPH(I2Sxext));
 939              		.loc 1 739 3 view .LVU280
 740:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_MODE(I2S_InitStruct->I2S_Mode));
 940              		.loc 1 740 3 view .LVU281
 741:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_STANDARD(I2S_InitStruct->I2S_Standard));
 941              		.loc 1 741 3 view .LVU282
 742:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_DATA_FORMAT(I2S_InitStruct->I2S_DataFormat));
 942              		.loc 1 742 3 view .LVU283
 743:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_CPOL(I2S_InitStruct->I2S_CPOL));  
 943              		.loc 1 743 3 view .LVU284
 744:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 745:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /*----------------------- SPIx I2SCFGR & I2SPR Configuration -----------------*/
 746:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Clear I2SMOD, I2SE, I2SCFG, PCMSYNC, I2SSTD, CKPOL, DATLEN and CHLEN bits */
 747:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   I2Sxext->I2SCFGR &= I2SCFGR_CLEAR_MASK; 
 944              		.loc 1 747 3 view .LVU285
 945              		.loc 1 747 20 is_stmt 0 view .LVU286
ARM GAS  /tmp/cc0MhkbI.s 			page 31


 946 0002 838B     		ldrh	r3, [r0, #28]
 947 0004 9BB2     		uxth	r3, r3
 948 0006 23F47B63 		bic	r3, r3, #4016
 949 000a 23F00F03 		bic	r3, r3, #15
 950 000e 9BB2     		uxth	r3, r3
 951 0010 8383     		strh	r3, [r0, #28]	@ movhi
 748:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   I2Sxext->I2SPR = 0x0002;
 952              		.loc 1 748 3 is_stmt 1 view .LVU287
 953              		.loc 1 748 18 is_stmt 0 view .LVU288
 954 0012 0223     		movs	r3, #2
 955 0014 0384     		strh	r3, [r0, #32]	@ movhi
 749:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 750:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Get the I2SCFGR register value */
 751:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   tmpreg = I2Sxext->I2SCFGR;
 956              		.loc 1 751 3 is_stmt 1 view .LVU289
 957              		.loc 1 751 10 is_stmt 0 view .LVU290
 958 0016 838B     		ldrh	r3, [r0, #28]
 959 0018 9AB2     		uxth	r2, r3
 960              	.LVL77:
 752:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 753:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Get the mode to be configured for the extended I2S */
 754:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if ((I2S_InitStruct->I2S_Mode == I2S_Mode_MasterTx) || (I2S_InitStruct->I2S_Mode == I2S_Mode_Slav
 961              		.loc 1 754 3 is_stmt 1 view .LVU291
 962              		.loc 1 754 22 is_stmt 0 view .LVU292
 963 001a 0B88     		ldrh	r3, [r1]
 964              		.loc 1 754 6 view .LVU293
 965 001c B3F5007F 		cmp	r3, #512
 966 0020 03D0     		beq	.L59
 967              		.loc 1 754 55 discriminator 1 view .LVU294
 968 0022 9BB9     		cbnz	r3, .L60
 755:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 756:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     tmp = I2S_Mode_SlaveRx;
 969              		.loc 1 756 9 view .LVU295
 970 0024 4FF4807E 		mov	lr, #256
 971 0028 01E0     		b	.L58
 972              	.L59:
 973 002a 4FF4807E 		mov	lr, #256
 974              	.L58:
 975              	.LVL78:
 757:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 758:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 759:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 760:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     if ((I2S_InitStruct->I2S_Mode == I2S_Mode_MasterRx) || (I2S_InitStruct->I2S_Mode == I2S_Mode_Sl
 761:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     {
 762:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       tmp = I2S_Mode_SlaveTx;
 763:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 764:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 765:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 766:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  
 767:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Configure the I2S with the SPI_InitStruct values */
 768:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   tmpreg |= (uint16_t)((uint16_t)SPI_I2SCFGR_I2SMOD | (uint16_t)(tmp | \
 976              		.loc 1 768 3 is_stmt 1 view .LVU296
 769:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 977              		.loc 1 769 44 is_stmt 0 view .LVU297
 978 002e 4B88     		ldrh	r3, [r1, #2]
 979              		.loc 1 769 86 view .LVU298
 980 0030 B1F804C0 		ldrh	ip, [r1, #4]
ARM GAS  /tmp/cc0MhkbI.s 			page 32


 770:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)I2S_InitStruct->I2S_CPOL))));
 981              		.loc 1 770 43 view .LVU299
 982 0034 8989     		ldrh	r1, [r1, #12]
 983              	.LVL79:
 769:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 984              		.loc 1 769 61 view .LVU300
 985 0036 4CEA0101 		orr	r1, ip, r1
 769:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 986              		.loc 1 769 19 view .LVU301
 987 003a 0B43     		orrs	r3, r3, r1
 768:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 988              		.loc 1 768 55 view .LVU302
 989 003c 43EA0E03 		orr	r3, r3, lr
 768:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 990              		.loc 1 768 10 view .LVU303
 991 0040 1343     		orrs	r3, r3, r2
 992 0042 43F40063 		orr	r3, r3, #2048
 993              	.LVL80:
 771:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  
 772:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Write to SPIx I2SCFGR */  
 773:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   I2Sxext->I2SCFGR = tmpreg;
 994              		.loc 1 773 3 is_stmt 1 view .LVU304
 995              		.loc 1 773 20 is_stmt 0 view .LVU305
 996 0046 8383     		strh	r3, [r0, #28]	@ movhi
 774:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 997              		.loc 1 774 1 view .LVU306
 998 0048 5DF804FB 		ldr	pc, [sp], #4
 999              	.LVL81:
 1000              	.L60:
 762:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 1001              		.loc 1 762 11 view .LVU307
 1002 004c 4FF0000E 		mov	lr, #0
 1003 0050 EDE7     		b	.L58
 1004              		.cfi_endproc
 1005              	.LFE135:
 1007              		.section	.text.SPI_I2S_ReceiveData,"ax",%progbits
 1008              		.align	1
 1009              		.global	SPI_I2S_ReceiveData
 1010              		.syntax unified
 1011              		.thumb
 1012              		.thumb_func
 1013              		.fpu fpv4-sp-d16
 1015              	SPI_I2S_ReceiveData:
 1016              	.LVL82:
 1017              	.LFB136:
 775:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 776:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 777:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @}
 778:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 779:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 780:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /** @defgroup SPI_Group2 Data transfers functions
 781:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *  @brief   Data transfers functions
 782:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *
 783:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @verbatim   
 784:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================
 785:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                       ##### Data transfers functions #####
 786:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================  
ARM GAS  /tmp/cc0MhkbI.s 			page 33


 787:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 788:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..] This section provides a set of functions allowing to manage the SPI data 
 789:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       transfers. In reception, data are received and then stored into an internal 
 790:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       Rx buffer while. In transmission, data are first stored into an internal Tx 
 791:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       buffer before being transmitted.
 792:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 793:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..] The read access of the SPI_DR register can be done using the SPI_I2S_ReceiveData()
 794:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       function and returns the Rx buffered value. Whereas a write access to the SPI_DR 
 795:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       can be done using SPI_I2S_SendData() function and stores the written data into 
 796:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       Tx buffer.
 797:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 798:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @endverbatim
 799:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @{
 800:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 801:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 802:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 803:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Returns the most recent received data by the SPIx/I2Sx peripheral. 
 804:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: To select the SPIx/I2Sx peripheral, where x can be: 1, 2, 3, 4, 5 or 6 
 805:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         in SPI mode or 2 or 3 in I2S mode or I2Sxext for I2S full duplex mode. 
 806:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval The value of the received data.
 807:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 808:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** uint16_t SPI_I2S_ReceiveData(SPI_TypeDef* SPIx)
 809:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1018              		.loc 1 809 1 is_stmt 1 view -0
 1019              		.cfi_startproc
 1020              		@ args = 0, pretend = 0, frame = 0
 1021              		@ frame_needed = 0, uses_anonymous_args = 0
 1022              		@ link register save eliminated.
 810:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 811:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH_EXT(SPIx));
 1023              		.loc 1 811 3 view .LVU309
 812:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 813:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Return the data in the DR register */
 814:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   return SPIx->DR;
 1024              		.loc 1 814 3 view .LVU310
 1025              		.loc 1 814 14 is_stmt 0 view .LVU311
 1026 0000 8089     		ldrh	r0, [r0, #12]
 1027              	.LVL83:
 815:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1028              		.loc 1 815 1 view .LVU312
 1029 0002 80B2     		uxth	r0, r0
 1030 0004 7047     		bx	lr
 1031              		.cfi_endproc
 1032              	.LFE136:
 1034              		.section	.text.SPI_I2S_SendData,"ax",%progbits
 1035              		.align	1
 1036              		.global	SPI_I2S_SendData
 1037              		.syntax unified
 1038              		.thumb
 1039              		.thumb_func
 1040              		.fpu fpv4-sp-d16
 1042              	SPI_I2S_SendData:
 1043              	.LVL84:
 1044              	.LFB137:
 816:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 817:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 818:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Transmits a Data through the SPIx/I2Sx peripheral.
ARM GAS  /tmp/cc0MhkbI.s 			page 34


 819:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: To select the SPIx/I2Sx peripheral, where x can be: 1, 2, 3, 4, 5 or 6 
 820:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         in SPI mode or 2 or 3 in I2S mode or I2Sxext for I2S full duplex mode.     
 821:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  Data: Data to be transmitted.
 822:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 823:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 824:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_I2S_SendData(SPI_TypeDef* SPIx, uint16_t Data)
 825:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1045              		.loc 1 825 1 is_stmt 1 view -0
 1046              		.cfi_startproc
 1047              		@ args = 0, pretend = 0, frame = 0
 1048              		@ frame_needed = 0, uses_anonymous_args = 0
 1049              		@ link register save eliminated.
 826:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 827:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH_EXT(SPIx));
 1050              		.loc 1 827 3 view .LVU314
 828:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 829:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Write in the DR register the data to be sent */
 830:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->DR = Data;
 1051              		.loc 1 830 3 view .LVU315
 1052              		.loc 1 830 12 is_stmt 0 view .LVU316
 1053 0000 8181     		strh	r1, [r0, #12]	@ movhi
 831:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1054              		.loc 1 831 1 view .LVU317
 1055 0002 7047     		bx	lr
 1056              		.cfi_endproc
 1057              	.LFE137:
 1059              		.section	.text.SPI_CalculateCRC,"ax",%progbits
 1060              		.align	1
 1061              		.global	SPI_CalculateCRC
 1062              		.syntax unified
 1063              		.thumb
 1064              		.thumb_func
 1065              		.fpu fpv4-sp-d16
 1067              	SPI_CalculateCRC:
 1068              	.LVL85:
 1069              	.LFB138:
 832:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 833:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 834:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @}
 835:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 836:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 837:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /** @defgroup SPI_Group3 Hardware CRC Calculation functions
 838:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *  @brief   Hardware CRC Calculation functions
 839:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *
 840:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @verbatim   
 841:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================
 842:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                  ##### Hardware CRC Calculation functions #####
 843:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================  
 844:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 845:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..] This section provides a set of functions allowing to manage the SPI CRC hardware 
 846:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       calculation
 847:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 848:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..] SPI communication using CRC is possible through the following procedure:
 849:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) Program the Data direction, Polarity, Phase, First Data, Baud Rate Prescaler, 
 850:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        Slave Management, Peripheral Mode and CRC Polynomial values using the SPI_Init()
 851:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        function.
 852:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) Enable the CRC calculation using the SPI_CalculateCRC() function.
ARM GAS  /tmp/cc0MhkbI.s 			page 35


 853:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) Enable the SPI using the SPI_Cmd() function
 854:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) Before writing the last data to the TX buffer, set the CRCNext bit using the 
 855:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        SPI_TransmitCRC() function to indicate that after transmission of the last 
 856:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        data, the CRC should be transmitted.
 857:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) After transmitting the last data, the SPI transmits the CRC. The SPI_CR1_CRCNEXT
 858:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****         bit is reset. The CRC is also received and compared against the SPI_RXCRCR 
 859:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****         value. 
 860:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****         If the value does not match, the SPI_FLAG_CRCERR flag is set and an interrupt
 861:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****         can be generated when the SPI_I2S_IT_ERR interrupt is enabled.
 862:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 863:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..]
 864:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (@) It is advised not to read the calculated CRC values during the communication.
 865:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 866:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (@) When the SPI is in slave mode, be careful to enable CRC calculation only 
 867:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        when the clock is stable, that is, when the clock is in the steady state. 
 868:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        If not, a wrong CRC calculation may be done. In fact, the CRC is sensitive 
 869:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        to the SCK slave input clock as soon as CRCEN is set, and this, whatever 
 870:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        the value of the SPE bit.
 871:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 872:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (@) With high bitrate frequencies, be careful when transmitting the CRC.
 873:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        As the number of used CPU cycles has to be as low as possible in the CRC 
 874:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        transfer phase, it is forbidden to call software functions in the CRC 
 875:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        transmission sequence to avoid errors in the last data and CRC reception. 
 876:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        In fact, CRCNEXT bit has to be written before the end of the transmission/reception 
 877:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        of the last data.
 878:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 879:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (@) For high bit rate frequencies, it is advised to use the DMA mode to avoid the
 880:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        degradation of the SPI speed performance due to CPU accesses impacting the 
 881:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        SPI bandwidth.
 882:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 883:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (@) When the STM32F4xx is configured as slave and the NSS hardware mode is 
 884:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        used, the NSS pin needs to be kept low between the data phase and the CRC 
 885:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        phase.
 886:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 887:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (@) When the SPI is configured in slave mode with the CRC feature enabled, CRC
 888:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        calculation takes place even if a high level is applied on the NSS pin. 
 889:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        This may happen for example in case of a multi-slave environment where the 
 890:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        communication master addresses slaves alternately.
 891:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 892:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (@) Between a slave de-selection (high level on NSS) and a new slave selection 
 893:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (low level on NSS), the CRC value should be cleared on both master and slave
 894:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        sides in order to resynchronize the master and slave for their respective 
 895:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        CRC calculation.
 896:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 897:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (@) To clear the CRC, follow the procedure below:
 898:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (#@) Disable SPI using the SPI_Cmd() function
 899:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (#@) Disable the CRC calculation using the SPI_CalculateCRC() function.
 900:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (#@) Enable the CRC calculation using the SPI_CalculateCRC() function.
 901:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (#@) Enable SPI using the SPI_Cmd() function.
 902:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 903:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @endverbatim
 904:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @{
 905:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 906:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 907:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 908:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Enables or disables the CRC value calculation of the transferred bytes.
 909:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2, 3, 4, 5 or 6 to select the SPI peripheral.
ARM GAS  /tmp/cc0MhkbI.s 			page 36


 910:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  NewState: new state of the SPIx CRC value calculation.
 911:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be: ENABLE or DISABLE.
 912:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 913:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 914:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_CalculateCRC(SPI_TypeDef* SPIx, FunctionalState NewState)
 915:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1070              		.loc 1 915 1 is_stmt 1 view -0
 1071              		.cfi_startproc
 1072              		@ args = 0, pretend = 0, frame = 0
 1073              		@ frame_needed = 0, uses_anonymous_args = 0
 1074              		@ link register save eliminated.
 916:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 917:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1075              		.loc 1 917 3 view .LVU319
 918:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 1076              		.loc 1 918 3 view .LVU320
 919:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (NewState != DISABLE)
 1077              		.loc 1 919 3 view .LVU321
 1078              		.loc 1 919 6 is_stmt 0 view .LVU322
 1079 0000 29B1     		cbz	r1, .L65
 920:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 921:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable the selected SPI CRC calculation */
 922:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR1 |= SPI_CR1_CRCEN;
 1080              		.loc 1 922 5 is_stmt 1 view .LVU323
 1081              		.loc 1 922 15 is_stmt 0 view .LVU324
 1082 0002 0388     		ldrh	r3, [r0]
 1083 0004 9BB2     		uxth	r3, r3
 1084 0006 43F40053 		orr	r3, r3, #8192
 1085 000a 0380     		strh	r3, [r0]	@ movhi
 1086 000c 7047     		bx	lr
 1087              	.L65:
 923:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 924:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 925:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 926:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Disable the selected SPI CRC calculation */
 927:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR1 &= (uint16_t)~((uint16_t)SPI_CR1_CRCEN);
 1088              		.loc 1 927 5 is_stmt 1 view .LVU325
 1089              		.loc 1 927 15 is_stmt 0 view .LVU326
 1090 000e 0388     		ldrh	r3, [r0]
 1091 0010 9BB2     		uxth	r3, r3
 1092 0012 23F40053 		bic	r3, r3, #8192
 1093 0016 9BB2     		uxth	r3, r3
 1094 0018 0380     		strh	r3, [r0]	@ movhi
 928:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 929:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1095              		.loc 1 929 1 view .LVU327
 1096 001a 7047     		bx	lr
 1097              		.cfi_endproc
 1098              	.LFE138:
 1100              		.section	.text.SPI_TransmitCRC,"ax",%progbits
 1101              		.align	1
 1102              		.global	SPI_TransmitCRC
 1103              		.syntax unified
 1104              		.thumb
 1105              		.thumb_func
 1106              		.fpu fpv4-sp-d16
 1108              	SPI_TransmitCRC:
ARM GAS  /tmp/cc0MhkbI.s 			page 37


 1109              	.LVL86:
 1110              	.LFB139:
 930:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 931:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 932:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Transmit the SPIx CRC value.
 933:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2, 3, 4, 5 or 6 to select the SPI peripheral.
 934:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 935:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 936:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_TransmitCRC(SPI_TypeDef* SPIx)
 937:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1111              		.loc 1 937 1 is_stmt 1 view -0
 1112              		.cfi_startproc
 1113              		@ args = 0, pretend = 0, frame = 0
 1114              		@ frame_needed = 0, uses_anonymous_args = 0
 1115              		@ link register save eliminated.
 938:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 939:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1116              		.loc 1 939 3 view .LVU329
 940:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 941:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Enable the selected SPI CRC transmission */
 942:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->CR1 |= SPI_CR1_CRCNEXT;
 1117              		.loc 1 942 3 view .LVU330
 1118              		.loc 1 942 13 is_stmt 0 view .LVU331
 1119 0000 0388     		ldrh	r3, [r0]
 1120 0002 9BB2     		uxth	r3, r3
 1121 0004 43F48053 		orr	r3, r3, #4096
 1122 0008 0380     		strh	r3, [r0]	@ movhi
 943:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1123              		.loc 1 943 1 view .LVU332
 1124 000a 7047     		bx	lr
 1125              		.cfi_endproc
 1126              	.LFE139:
 1128              		.section	.text.SPI_GetCRC,"ax",%progbits
 1129              		.align	1
 1130              		.global	SPI_GetCRC
 1131              		.syntax unified
 1132              		.thumb
 1133              		.thumb_func
 1134              		.fpu fpv4-sp-d16
 1136              	SPI_GetCRC:
 1137              	.LVL87:
 1138              	.LFB140:
 944:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 945:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 946:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Returns the transmit or the receive CRC register value for the specified SPI.
 947:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2, 3, 4, 5 or 6 to select the SPI peripheral.
 948:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_CRC: specifies the CRC register to be read.
 949:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be one of the following values:
 950:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_CRC_Tx: Selects Tx CRC register
 951:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_CRC_Rx: Selects Rx CRC register
 952:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval The selected CRC register value..
 953:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 954:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** uint16_t SPI_GetCRC(SPI_TypeDef* SPIx, uint8_t SPI_CRC)
 955:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1139              		.loc 1 955 1 is_stmt 1 view -0
 1140              		.cfi_startproc
 1141              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/cc0MhkbI.s 			page 38


 1142              		@ frame_needed = 0, uses_anonymous_args = 0
 1143              		@ link register save eliminated.
 956:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   uint16_t crcreg = 0;
 1144              		.loc 1 956 3 view .LVU334
 957:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 958:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1145              		.loc 1 958 3 view .LVU335
 959:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_CRC(SPI_CRC));
 1146              		.loc 1 959 3 view .LVU336
 960:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (SPI_CRC != SPI_CRC_Rx)
 1147              		.loc 1 960 3 view .LVU337
 1148              		.loc 1 960 6 is_stmt 0 view .LVU338
 1149 0000 0129     		cmp	r1, #1
 1150 0002 02D0     		beq	.L69
 961:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 962:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Get the Tx CRC register */
 963:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     crcreg = SPIx->TXCRCR;
 1151              		.loc 1 963 5 is_stmt 1 view .LVU339
 1152              		.loc 1 963 12 is_stmt 0 view .LVU340
 1153 0004 008B     		ldrh	r0, [r0, #24]
 1154              	.LVL88:
 1155              		.loc 1 963 12 view .LVU341
 1156 0006 80B2     		uxth	r0, r0
 1157              	.LVL89:
 1158              		.loc 1 963 12 view .LVU342
 1159 0008 7047     		bx	lr
 1160              	.LVL90:
 1161              	.L69:
 964:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 965:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 966:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 967:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Get the Rx CRC register */
 968:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     crcreg = SPIx->RXCRCR;
 1162              		.loc 1 968 5 is_stmt 1 view .LVU343
 1163              		.loc 1 968 12 is_stmt 0 view .LVU344
 1164 000a 808A     		ldrh	r0, [r0, #20]
 1165              	.LVL91:
 1166              		.loc 1 968 12 view .LVU345
 1167 000c 80B2     		uxth	r0, r0
 1168              	.LVL92:
 969:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 970:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Return the selected CRC register */
 971:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   return crcreg;
 1169              		.loc 1 971 3 is_stmt 1 view .LVU346
 972:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1170              		.loc 1 972 1 is_stmt 0 view .LVU347
 1171 000e 7047     		bx	lr
 1172              		.cfi_endproc
 1173              	.LFE140:
 1175              		.section	.text.SPI_GetCRCPolynomial,"ax",%progbits
 1176              		.align	1
 1177              		.global	SPI_GetCRCPolynomial
 1178              		.syntax unified
 1179              		.thumb
 1180              		.thumb_func
 1181              		.fpu fpv4-sp-d16
 1183              	SPI_GetCRCPolynomial:
ARM GAS  /tmp/cc0MhkbI.s 			page 39


 1184              	.LVL93:
 1185              	.LFB141:
 973:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 974:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 975:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Returns the CRC Polynomial register value for the specified SPI.
 976:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2, 3, 4, 5 or 6 to select the SPI peripheral.
 977:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval The CRC Polynomial register value.
 978:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 979:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** uint16_t SPI_GetCRCPolynomial(SPI_TypeDef* SPIx)
 980:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1186              		.loc 1 980 1 is_stmt 1 view -0
 1187              		.cfi_startproc
 1188              		@ args = 0, pretend = 0, frame = 0
 1189              		@ frame_needed = 0, uses_anonymous_args = 0
 1190              		@ link register save eliminated.
 981:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 982:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1191              		.loc 1 982 3 view .LVU349
 983:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 984:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Return the CRC polynomial register */
 985:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   return SPIx->CRCPR;
 1192              		.loc 1 985 3 view .LVU350
 1193              		.loc 1 985 14 is_stmt 0 view .LVU351
 1194 0000 008A     		ldrh	r0, [r0, #16]
 1195              	.LVL94:
 986:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1196              		.loc 1 986 1 view .LVU352
 1197 0002 80B2     		uxth	r0, r0
 1198 0004 7047     		bx	lr
 1199              		.cfi_endproc
 1200              	.LFE141:
 1202              		.section	.text.SPI_I2S_DMACmd,"ax",%progbits
 1203              		.align	1
 1204              		.global	SPI_I2S_DMACmd
 1205              		.syntax unified
 1206              		.thumb
 1207              		.thumb_func
 1208              		.fpu fpv4-sp-d16
 1210              	SPI_I2S_DMACmd:
 1211              	.LVL95:
 1212              	.LFB142:
 987:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 988:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 989:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @}
 990:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 991:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 992:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /** @defgroup SPI_Group4 DMA transfers management functions
 993:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *  @brief   DMA transfers management functions
 994:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *
 995:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @verbatim   
 996:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================
 997:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                    ##### DMA transfers management functions #####
 998:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================  
 999:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1000:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @endverbatim
1001:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @{
1002:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
ARM GAS  /tmp/cc0MhkbI.s 			page 40


1003:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1004:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
1005:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Enables or disables the SPIx/I2Sx DMA interface.
1006:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: To select the SPIx/I2Sx peripheral, where x can be: 1, 2, 3, 4, 5 or 6 
1007:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         in SPI mode or 2 or 3 in I2S mode or I2Sxext for I2S full duplex mode. 
1008:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_I2S_DMAReq: specifies the SPI DMA transfer request to be enabled or disabled. 
1009:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be any combination of the following values:
1010:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_DMAReq_Tx: Tx buffer DMA transfer request
1011:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_DMAReq_Rx: Rx buffer DMA transfer request
1012:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  NewState: new state of the selected SPI DMA transfer request.
1013:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be: ENABLE or DISABLE.
1014:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
1015:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
1016:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_I2S_DMACmd(SPI_TypeDef* SPIx, uint16_t SPI_I2S_DMAReq, FunctionalState NewState)
1017:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1213              		.loc 1 1017 1 is_stmt 1 view -0
 1214              		.cfi_startproc
 1215              		@ args = 0, pretend = 0, frame = 0
 1216              		@ frame_needed = 0, uses_anonymous_args = 0
 1217              		@ link register save eliminated.
1018:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
1019:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH_EXT(SPIx));
 1218              		.loc 1 1019 3 view .LVU354
1020:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 1219              		.loc 1 1020 3 view .LVU355
1021:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_I2S_DMAREQ(SPI_I2S_DMAReq));
 1220              		.loc 1 1021 3 view .LVU356
1022:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1023:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (NewState != DISABLE)
 1221              		.loc 1 1023 3 view .LVU357
 1222              		.loc 1 1023 6 is_stmt 0 view .LVU358
 1223 0000 22B1     		cbz	r2, .L73
1024:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
1025:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable the selected SPI DMA requests */
1026:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR2 |= SPI_I2S_DMAReq;
 1224              		.loc 1 1026 5 is_stmt 1 view .LVU359
 1225              		.loc 1 1026 15 is_stmt 0 view .LVU360
 1226 0002 8388     		ldrh	r3, [r0, #4]
 1227 0004 9BB2     		uxth	r3, r3
 1228 0006 1943     		orrs	r1, r1, r3
 1229              	.LVL96:
 1230              		.loc 1 1026 15 view .LVU361
 1231 0008 8180     		strh	r1, [r0, #4]	@ movhi
 1232 000a 7047     		bx	lr
 1233              	.LVL97:
 1234              	.L73:
1027:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
1028:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
1029:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
1030:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Disable the selected SPI DMA requests */
1031:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR2 &= (uint16_t)~SPI_I2S_DMAReq;
 1235              		.loc 1 1031 5 is_stmt 1 view .LVU362
 1236              		.loc 1 1031 15 is_stmt 0 view .LVU363
 1237 000c 8388     		ldrh	r3, [r0, #4]
 1238              		.loc 1 1031 18 view .LVU364
 1239 000e C943     		mvns	r1, r1
 1240              	.LVL98:
ARM GAS  /tmp/cc0MhkbI.s 			page 41


 1241              		.loc 1 1031 18 view .LVU365
 1242 0010 89B2     		uxth	r1, r1
 1243              		.loc 1 1031 15 view .LVU366
 1244 0012 1940     		ands	r1, r1, r3
 1245 0014 8180     		strh	r1, [r0, #4]	@ movhi
1032:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
1033:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1246              		.loc 1 1033 1 view .LVU367
 1247 0016 7047     		bx	lr
 1248              		.cfi_endproc
 1249              	.LFE142:
 1251              		.section	.text.SPI_I2S_ITConfig,"ax",%progbits
 1252              		.align	1
 1253              		.global	SPI_I2S_ITConfig
 1254              		.syntax unified
 1255              		.thumb
 1256              		.thumb_func
 1257              		.fpu fpv4-sp-d16
 1259              	SPI_I2S_ITConfig:
 1260              	.LVL99:
 1261              	.LFB143:
1034:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1035:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
1036:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @}
1037:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
1038:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1039:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /** @defgroup SPI_Group5 Interrupts and flags management functions
1040:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *  @brief   Interrupts and flags management functions
1041:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *
1042:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @verbatim   
1043:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================
1044:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             ##### Interrupts and flags management functions #####
1045:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================  
1046:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  
1047:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..] This section provides a set of functions allowing to configure the SPI Interrupts 
1048:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       sources and check or clear the flags or pending bits status.
1049:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       The user should identify which mode will be used in his application to manage 
1050:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       the communication: Polling mode, Interrupt mode or DMA mode. 
1051:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     
1052:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *** Polling Mode ***
1053:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ====================
1054:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** [..] In Polling Mode, the SPI/I2S communication can be managed by 9 flags:
1055:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   (#) SPI_I2S_FLAG_TXE : to indicate the status of the transmit buffer register
1056:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   (#) SPI_I2S_FLAG_RXNE : to indicate the status of the receive buffer register
1057:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   (#) SPI_I2S_FLAG_BSY : to indicate the state of the communication layer of the SPI.
1058:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   (#) SPI_FLAG_CRCERR : to indicate if a CRC Calculation error occur              
1059:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   (#) SPI_FLAG_MODF : to indicate if a Mode Fault error occur
1060:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   (#) SPI_I2S_FLAG_OVR : to indicate if an Overrun error occur
1061:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   (#) I2S_FLAG_TIFRFE: to indicate a Frame Format error occurs.
1062:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   (#) I2S_FLAG_UDR: to indicate an Underrun error occurs.
1063:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   (#) I2S_FLAG_CHSIDE: to indicate Channel Side.
1064:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1065:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   (@) Do not use the BSY flag to handle each data transmission or reception. It is
1066:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       better to use the TXE and RXNE flags instead.
1067:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1068:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..] In this Mode it is advised to use the following functions:
1069:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (+) FlagStatus SPI_I2S_GetFlagStatus(SPI_TypeDef* SPIx, uint16_t SPI_I2S_FLAG);
ARM GAS  /tmp/cc0MhkbI.s 			page 42


1070:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (+) void SPI_I2S_ClearFlag(SPI_TypeDef* SPIx, uint16_t SPI_I2S_FLAG);
1071:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1072:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *** Interrupt Mode ***
1073:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ======================
1074:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..] In Interrupt Mode, the SPI communication can be managed by 3 interrupt sources
1075:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       and 7 pending bits: 
1076:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (+) Pending Bits:
1077:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (##) SPI_I2S_IT_TXE : to indicate the status of the transmit buffer register
1078:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (##) SPI_I2S_IT_RXNE : to indicate the status of the receive buffer register
1079:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (##) SPI_IT_CRCERR : to indicate if a CRC Calculation error occur (available in SPI mode onl
1080:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (##) SPI_IT_MODF : to indicate if a Mode Fault error occur (available in SPI mode only)
1081:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (##) SPI_I2S_IT_OVR : to indicate if an Overrun error occur
1082:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (##) I2S_IT_UDR : to indicate an Underrun Error occurs (available in I2S mode only).
1083:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (##) I2S_FLAG_TIFRFE : to indicate a Frame Format error occurs (available in TI mode only).
1084:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1085:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (+) Interrupt Source:
1086:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (##) SPI_I2S_IT_TXE: specifies the interrupt source for the Tx buffer empty 
1087:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             interrupt.  
1088:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (##) SPI_I2S_IT_RXNE : specifies the interrupt source for the Rx buffer not 
1089:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             empty interrupt.
1090:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (##) SPI_I2S_IT_ERR : specifies the interrupt source for the errors interrupt.
1091:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1092:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..] In this Mode it is advised to use the following functions:
1093:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (+) void SPI_I2S_ITConfig(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT, FunctionalState NewState);
1094:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (+) ITStatus SPI_I2S_GetITStatus(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT);
1095:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (+) void SPI_I2S_ClearITPendingBit(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT);
1096:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1097:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *** DMA Mode ***
1098:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ================
1099:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..] In DMA Mode, the SPI communication can be managed by 2 DMA Channel requests:
1100:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) SPI_I2S_DMAReq_Tx: specifies the Tx buffer DMA transfer request
1101:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) SPI_I2S_DMAReq_Rx: specifies the Rx buffer DMA transfer request
1102:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1103:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..] In this Mode it is advised to use the following function:
1104:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (+) void SPI_I2S_DMACmd(SPI_TypeDef* SPIx, uint16_t SPI_I2S_DMAReq, FunctionalState 
1105:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        NewState);
1106:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1107:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @endverbatim
1108:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @{
1109:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
1110:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1111:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
1112:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Enables or disables the specified SPI/I2S interrupts.
1113:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: To select the SPIx/I2Sx peripheral, where x can be: 1, 2, 3, 4, 5 or 6 
1114:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         in SPI mode or 2 or 3 in I2S mode or I2Sxext for I2S full duplex mode. 
1115:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_I2S_IT: specifies the SPI interrupt source to be enabled or disabled. 
1116:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be one of the following values:
1117:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_IT_TXE: Tx buffer empty interrupt mask
1118:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_IT_RXNE: Rx buffer not empty interrupt mask
1119:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_IT_ERR: Error interrupt mask
1120:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  NewState: new state of the specified SPI interrupt.
1121:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be: ENABLE or DISABLE.
1122:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
1123:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
1124:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_I2S_ITConfig(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT, FunctionalState NewState)
1125:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1262              		.loc 1 1125 1 is_stmt 1 view -0
ARM GAS  /tmp/cc0MhkbI.s 			page 43


 1263              		.cfi_startproc
 1264              		@ args = 0, pretend = 0, frame = 0
 1265              		@ frame_needed = 0, uses_anonymous_args = 0
 1266              		@ link register save eliminated.
1126:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   uint16_t itpos = 0, itmask = 0 ;
 1267              		.loc 1 1126 3 view .LVU369
1127:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
1128:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
1129:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH_EXT(SPIx));
 1268              		.loc 1 1129 3 view .LVU370
1130:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 1269              		.loc 1 1130 3 view .LVU371
1131:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_I2S_CONFIG_IT(SPI_I2S_IT));
 1270              		.loc 1 1131 3 view .LVU372
1132:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1133:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Get the SPI IT index */
1134:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   itpos = SPI_I2S_IT >> 4;
 1271              		.loc 1 1134 3 view .LVU373
 1272              		.loc 1 1134 9 is_stmt 0 view .LVU374
 1273 0000 0B09     		lsrs	r3, r1, #4
 1274              	.LVL100:
1135:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1136:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Set the IT mask */
1137:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   itmask = (uint16_t)1 << (uint16_t)itpos;
 1275              		.loc 1 1137 3 is_stmt 1 view .LVU375
 1276              		.loc 1 1137 24 is_stmt 0 view .LVU376
 1277 0002 0121     		movs	r1, #1
 1278              	.LVL101:
 1279              		.loc 1 1137 24 view .LVU377
 1280 0004 9940     		lsls	r1, r1, r3
 1281              		.loc 1 1137 10 view .LVU378
 1282 0006 89B2     		uxth	r1, r1
 1283              	.LVL102:
1138:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1139:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (NewState != DISABLE)
 1284              		.loc 1 1139 3 is_stmt 1 view .LVU379
 1285              		.loc 1 1139 6 is_stmt 0 view .LVU380
 1286 0008 22B1     		cbz	r2, .L76
1140:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
1141:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable the selected SPI interrupt */
1142:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR2 |= itmask;
 1287              		.loc 1 1142 5 is_stmt 1 view .LVU381
 1288              		.loc 1 1142 15 is_stmt 0 view .LVU382
 1289 000a 8388     		ldrh	r3, [r0, #4]
 1290              	.LVL103:
 1291              		.loc 1 1142 15 view .LVU383
 1292 000c 9BB2     		uxth	r3, r3
 1293 000e 1943     		orrs	r1, r1, r3
 1294              	.LVL104:
 1295              		.loc 1 1142 15 view .LVU384
 1296 0010 8180     		strh	r1, [r0, #4]	@ movhi
 1297 0012 7047     		bx	lr
 1298              	.LVL105:
 1299              	.L76:
1143:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
1144:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
1145:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
ARM GAS  /tmp/cc0MhkbI.s 			page 44


1146:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Disable the selected SPI interrupt */
1147:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR2 &= (uint16_t)~itmask;
 1300              		.loc 1 1147 5 is_stmt 1 view .LVU385
 1301              		.loc 1 1147 15 is_stmt 0 view .LVU386
 1302 0014 8388     		ldrh	r3, [r0, #4]
 1303              	.LVL106:
 1304              		.loc 1 1147 18 view .LVU387
 1305 0016 C943     		mvns	r1, r1
 1306              	.LVL107:
 1307              		.loc 1 1147 18 view .LVU388
 1308 0018 89B2     		uxth	r1, r1
 1309              	.LVL108:
 1310              		.loc 1 1147 15 view .LVU389
 1311 001a 1940     		ands	r1, r1, r3
 1312 001c 8180     		strh	r1, [r0, #4]	@ movhi
1148:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
1149:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1313              		.loc 1 1149 1 view .LVU390
 1314 001e 7047     		bx	lr
 1315              		.cfi_endproc
 1316              	.LFE143:
 1318              		.section	.text.SPI_I2S_GetFlagStatus,"ax",%progbits
 1319              		.align	1
 1320              		.global	SPI_I2S_GetFlagStatus
 1321              		.syntax unified
 1322              		.thumb
 1323              		.thumb_func
 1324              		.fpu fpv4-sp-d16
 1326              	SPI_I2S_GetFlagStatus:
 1327              	.LVL109:
 1328              	.LFB144:
1150:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1151:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
1152:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Checks whether the specified SPIx/I2Sx flag is set or not.
1153:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: To select the SPIx/I2Sx peripheral, where x can be: 1, 2, 3, 4, 5 or 6 
1154:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         in SPI mode or 2 or 3 in I2S mode or I2Sxext for I2S full duplex mode. 
1155:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_I2S_FLAG: specifies the SPI flag to check. 
1156:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be one of the following values:
1157:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_FLAG_TXE: Transmit buffer empty flag.
1158:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_FLAG_RXNE: Receive buffer not empty flag.
1159:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_FLAG_BSY: Busy flag.
1160:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_FLAG_OVR: Overrun flag.
1161:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_FLAG_MODF: Mode Fault flag.
1162:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_FLAG_CRCERR: CRC Error flag.
1163:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_FLAG_TIFRFE: Format Error.
1164:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg I2S_FLAG_UDR: Underrun Error flag.
1165:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg I2S_FLAG_CHSIDE: Channel Side flag.  
1166:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval The new state of SPI_I2S_FLAG (SET or RESET).
1167:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
1168:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** FlagStatus SPI_I2S_GetFlagStatus(SPI_TypeDef* SPIx, uint16_t SPI_I2S_FLAG)
1169:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1329              		.loc 1 1169 1 is_stmt 1 view -0
 1330              		.cfi_startproc
 1331              		@ args = 0, pretend = 0, frame = 0
 1332              		@ frame_needed = 0, uses_anonymous_args = 0
 1333              		@ link register save eliminated.
1170:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   FlagStatus bitstatus = RESET;
ARM GAS  /tmp/cc0MhkbI.s 			page 45


 1334              		.loc 1 1170 3 view .LVU392
1171:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
1172:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH_EXT(SPIx));
 1335              		.loc 1 1172 3 view .LVU393
1173:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_I2S_GET_FLAG(SPI_I2S_FLAG));
 1336              		.loc 1 1173 3 view .LVU394
1174:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
1175:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the status of the specified SPI flag */
1176:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if ((SPIx->SR & SPI_I2S_FLAG) != (uint16_t)RESET)
 1337              		.loc 1 1176 3 view .LVU395
 1338              		.loc 1 1176 12 is_stmt 0 view .LVU396
 1339 0000 0389     		ldrh	r3, [r0, #8]
 1340              		.loc 1 1176 6 view .LVU397
 1341 0002 1942     		tst	r1, r3
 1342 0004 01D0     		beq	.L80
1177:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
1178:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* SPI_I2S_FLAG is set */
1179:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     bitstatus = SET;
 1343              		.loc 1 1179 15 view .LVU398
 1344 0006 0120     		movs	r0, #1
 1345              	.LVL110:
 1346              		.loc 1 1179 15 view .LVU399
 1347 0008 7047     		bx	lr
 1348              	.LVL111:
 1349              	.L80:
1180:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
1181:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
1182:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
1183:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* SPI_I2S_FLAG is reset */
1184:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     bitstatus = RESET;
 1350              		.loc 1 1184 15 view .LVU400
 1351 000a 0020     		movs	r0, #0
 1352              	.LVL112:
1185:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
1186:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Return the SPI_I2S_FLAG status */
1187:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   return  bitstatus;
 1353              		.loc 1 1187 3 is_stmt 1 view .LVU401
1188:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1354              		.loc 1 1188 1 is_stmt 0 view .LVU402
 1355 000c 7047     		bx	lr
 1356              		.cfi_endproc
 1357              	.LFE144:
 1359              		.section	.text.SPI_I2S_ClearFlag,"ax",%progbits
 1360              		.align	1
 1361              		.global	SPI_I2S_ClearFlag
 1362              		.syntax unified
 1363              		.thumb
 1364              		.thumb_func
 1365              		.fpu fpv4-sp-d16
 1367              	SPI_I2S_ClearFlag:
 1368              	.LVL113:
 1369              	.LFB145:
1189:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1190:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
1191:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Clears the SPIx CRC Error (CRCERR) flag.
1192:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: To select the SPIx/I2Sx peripheral, where x can be: 1, 2, 3, 4, 5 or 6 
1193:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         in SPI mode or 2 or 3 in I2S mode or I2Sxext for I2S full duplex mode. 
ARM GAS  /tmp/cc0MhkbI.s 			page 46


1194:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_I2S_FLAG: specifies the SPI flag to clear. 
1195:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This function clears only CRCERR flag.
1196:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_FLAG_CRCERR: CRC Error flag.  
1197:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *  
1198:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   OVR (OverRun error) flag is cleared by software sequence: a read 
1199:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          operation to SPI_DR register (SPI_I2S_ReceiveData()) followed by a read 
1200:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          operation to SPI_SR register (SPI_I2S_GetFlagStatus()).
1201:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   UDR (UnderRun error) flag is cleared by a read operation to 
1202:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          SPI_SR register (SPI_I2S_GetFlagStatus()).   
1203:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   MODF (Mode Fault) flag is cleared by software sequence: a read/write 
1204:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          operation to SPI_SR register (SPI_I2S_GetFlagStatus()) followed by a 
1205:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          write operation to SPI_CR1 register (SPI_Cmd() to enable the SPI).
1206:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *  
1207:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
1208:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
1209:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_I2S_ClearFlag(SPI_TypeDef* SPIx, uint16_t SPI_I2S_FLAG)
1210:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1370              		.loc 1 1210 1 is_stmt 1 view -0
 1371              		.cfi_startproc
 1372              		@ args = 0, pretend = 0, frame = 0
 1373              		@ frame_needed = 0, uses_anonymous_args = 0
 1374              		@ link register save eliminated.
1211:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
1212:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH_EXT(SPIx));
 1375              		.loc 1 1212 3 view .LVU404
1213:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_I2S_CLEAR_FLAG(SPI_I2S_FLAG));
 1376              		.loc 1 1213 3 view .LVU405
1214:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     
1215:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Clear the selected SPI CRC Error (CRCERR) flag */
1216:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->SR = (uint16_t)~SPI_I2S_FLAG;
 1377              		.loc 1 1216 3 view .LVU406
 1378              		.loc 1 1216 14 is_stmt 0 view .LVU407
 1379 0000 C943     		mvns	r1, r1
 1380              	.LVL114:
 1381              		.loc 1 1216 14 view .LVU408
 1382 0002 89B2     		uxth	r1, r1
 1383              		.loc 1 1216 12 view .LVU409
 1384 0004 0181     		strh	r1, [r0, #8]	@ movhi
1217:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1385              		.loc 1 1217 1 view .LVU410
 1386 0006 7047     		bx	lr
 1387              		.cfi_endproc
 1388              	.LFE145:
 1390              		.section	.text.SPI_I2S_GetITStatus,"ax",%progbits
 1391              		.align	1
 1392              		.global	SPI_I2S_GetITStatus
 1393              		.syntax unified
 1394              		.thumb
 1395              		.thumb_func
 1396              		.fpu fpv4-sp-d16
 1398              	SPI_I2S_GetITStatus:
 1399              	.LVL115:
 1400              	.LFB146:
1218:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1219:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
1220:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Checks whether the specified SPIx/I2Sx interrupt has occurred or not.
1221:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: To select the SPIx/I2Sx peripheral, where x can be: 1, 2, 3, 4, 5 or 6 
ARM GAS  /tmp/cc0MhkbI.s 			page 47


1222:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         in SPI mode or 2 or 3 in I2S mode or I2Sxext for I2S full duplex mode.  
1223:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_I2S_IT: specifies the SPI interrupt source to check. 
1224:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be one of the following values:
1225:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_IT_TXE: Transmit buffer empty interrupt.
1226:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_IT_RXNE: Receive buffer not empty interrupt.
1227:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_IT_OVR: Overrun interrupt.
1228:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_IT_MODF: Mode Fault interrupt.
1229:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_IT_CRCERR: CRC Error interrupt.
1230:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg I2S_IT_UDR: Underrun interrupt.  
1231:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_IT_TIFRFE: Format Error interrupt.  
1232:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval The new state of SPI_I2S_IT (SET or RESET).
1233:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
1234:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** ITStatus SPI_I2S_GetITStatus(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT)
1235:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1401              		.loc 1 1235 1 is_stmt 1 view -0
 1402              		.cfi_startproc
 1403              		@ args = 0, pretend = 0, frame = 0
 1404              		@ frame_needed = 0, uses_anonymous_args = 0
 1405              		@ link register save eliminated.
1236:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   ITStatus bitstatus = RESET;
 1406              		.loc 1 1236 3 view .LVU412
1237:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   uint16_t itpos = 0, itmask = 0, enablestatus = 0;
 1407              		.loc 1 1237 3 view .LVU413
1238:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1239:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
1240:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH_EXT(SPIx));
 1408              		.loc 1 1240 3 view .LVU414
1241:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_I2S_GET_IT(SPI_I2S_IT));
 1409              		.loc 1 1241 3 view .LVU415
1242:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1243:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Get the SPI_I2S_IT index */
1244:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   itpos = 0x01 << (SPI_I2S_IT & 0x0F);
 1410              		.loc 1 1244 3 view .LVU416
 1411              		.loc 1 1244 31 is_stmt 0 view .LVU417
 1412 0000 01F00F02 		and	r2, r1, #15
 1413              		.loc 1 1244 16 view .LVU418
 1414 0004 0123     		movs	r3, #1
 1415 0006 03FA02F2 		lsl	r2, r3, r2
 1416              	.LVL116:
1245:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1246:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Get the SPI_I2S_IT IT mask */
1247:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   itmask = SPI_I2S_IT >> 4;
 1417              		.loc 1 1247 3 is_stmt 1 view .LVU419
 1418              		.loc 1 1247 10 is_stmt 0 view .LVU420
 1419 000a 0909     		lsrs	r1, r1, #4
 1420              	.LVL117:
1248:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1249:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Set the IT mask */
1250:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   itmask = 0x01 << itmask;
 1421              		.loc 1 1250 3 is_stmt 1 view .LVU421
 1422              		.loc 1 1250 17 is_stmt 0 view .LVU422
 1423 000c 03FA01F1 		lsl	r1, r3, r1
 1424              	.LVL118:
1251:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1252:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Get the SPI_I2S_IT enable bit status */
1253:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   enablestatus = (SPIx->CR2 & itmask) ;
 1425              		.loc 1 1253 3 is_stmt 1 view .LVU423
ARM GAS  /tmp/cc0MhkbI.s 			page 48


 1426              		.loc 1 1253 23 is_stmt 0 view .LVU424
 1427 0010 8388     		ldrh	r3, [r0, #4]
 1428 0012 9BB2     		uxth	r3, r3
 1429              		.loc 1 1253 16 view .LVU425
 1430 0014 1940     		ands	r1, r1, r3
 1431              	.LVL119:
1254:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1255:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the status of the specified SPI interrupt */
1256:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (((SPIx->SR & itpos) != (uint16_t)RESET) && enablestatus)
 1432              		.loc 1 1256 3 is_stmt 1 view .LVU426
 1433              		.loc 1 1256 13 is_stmt 0 view .LVU427
 1434 0016 0389     		ldrh	r3, [r0, #8]
 1435 0018 9BB2     		uxth	r3, r3
 1436              		.loc 1 1256 6 view .LVU428
 1437 001a 1A42     		tst	r2, r3
 1438 001c 02D0     		beq	.L84
 1439              		.loc 1 1256 47 discriminator 1 view .LVU429
 1440 001e 19B9     		cbnz	r1, .L85
1257:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
1258:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* SPI_I2S_IT is set */
1259:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     bitstatus = SET;
1260:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
1261:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
1262:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
1263:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* SPI_I2S_IT is reset */
1264:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     bitstatus = RESET;
 1441              		.loc 1 1264 15 view .LVU430
 1442 0020 0020     		movs	r0, #0
 1443              	.LVL120:
 1444              		.loc 1 1264 15 view .LVU431
 1445 0022 7047     		bx	lr
 1446              	.LVL121:
 1447              	.L84:
 1448              		.loc 1 1264 15 view .LVU432
 1449 0024 0020     		movs	r0, #0
 1450              	.LVL122:
 1451              		.loc 1 1264 15 view .LVU433
 1452 0026 7047     		bx	lr
 1453              	.LVL123:
 1454              	.L85:
1259:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 1455              		.loc 1 1259 15 view .LVU434
 1456 0028 0120     		movs	r0, #1
 1457              	.LVL124:
1265:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
1266:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Return the SPI_I2S_IT status */
1267:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   return bitstatus;
 1458              		.loc 1 1267 3 is_stmt 1 view .LVU435
1268:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1459              		.loc 1 1268 1 is_stmt 0 view .LVU436
 1460 002a 7047     		bx	lr
 1461              		.cfi_endproc
 1462              	.LFE146:
 1464              		.section	.text.SPI_I2S_ClearITPendingBit,"ax",%progbits
 1465              		.align	1
 1466              		.global	SPI_I2S_ClearITPendingBit
 1467              		.syntax unified
ARM GAS  /tmp/cc0MhkbI.s 			page 49


 1468              		.thumb
 1469              		.thumb_func
 1470              		.fpu fpv4-sp-d16
 1472              	SPI_I2S_ClearITPendingBit:
 1473              	.LVL125:
 1474              	.LFB147:
1269:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1270:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
1271:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Clears the SPIx CRC Error (CRCERR) interrupt pending bit.
1272:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: To select the SPIx/I2Sx peripheral, where x can be: 1, 2, 3, 4, 5 or 6 
1273:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         in SPI mode or 2 or 3 in I2S mode or I2Sxext for I2S full duplex mode.  
1274:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_I2S_IT: specifies the SPI interrupt pending bit to clear.
1275:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         This function clears only CRCERR interrupt pending bit.   
1276:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_IT_CRCERR: CRC Error interrupt.
1277:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *   
1278:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   OVR (OverRun Error) interrupt pending bit is cleared by software 
1279:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          sequence: a read operation to SPI_DR register (SPI_I2S_ReceiveData()) 
1280:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          followed by a read operation to SPI_SR register (SPI_I2S_GetITStatus()).
1281:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   UDR (UnderRun Error) interrupt pending bit is cleared by a read 
1282:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          operation to SPI_SR register (SPI_I2S_GetITStatus()).   
1283:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   MODF (Mode Fault) interrupt pending bit is cleared by software sequence:
1284:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          a read/write operation to SPI_SR register (SPI_I2S_GetITStatus()) 
1285:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          followed by a write operation to SPI_CR1 register (SPI_Cmd() to enable 
1286:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          the SPI).
1287:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
1288:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
1289:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_I2S_ClearITPendingBit(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT)
1290:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1475              		.loc 1 1290 1 is_stmt 1 view -0
 1476              		.cfi_startproc
 1477              		@ args = 0, pretend = 0, frame = 0
 1478              		@ frame_needed = 0, uses_anonymous_args = 0
 1479              		@ link register save eliminated.
1291:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   uint16_t itpos = 0;
 1480              		.loc 1 1291 3 view .LVU438
1292:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
1293:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH_EXT(SPIx));
 1481              		.loc 1 1293 3 view .LVU439
1294:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_I2S_CLEAR_IT(SPI_I2S_IT));
 1482              		.loc 1 1294 3 view .LVU440
1295:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1296:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Get the SPI_I2S IT index */
1297:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   itpos = 0x01 << (SPI_I2S_IT & 0x0F);
 1483              		.loc 1 1297 3 view .LVU441
 1484              		.loc 1 1297 31 is_stmt 0 view .LVU442
 1485 0000 01F00F01 		and	r1, r1, #15
 1486              	.LVL126:
 1487              		.loc 1 1297 16 view .LVU443
 1488 0004 0123     		movs	r3, #1
 1489 0006 8B40     		lsls	r3, r3, r1
 1490              		.loc 1 1297 9 view .LVU444
 1491 0008 9BB2     		uxth	r3, r3
 1492              	.LVL127:
1298:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1299:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Clear the selected SPI CRC Error (CRCERR) interrupt pending bit */
1300:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->SR = (uint16_t)~itpos;
 1493              		.loc 1 1300 3 is_stmt 1 view .LVU445
ARM GAS  /tmp/cc0MhkbI.s 			page 50


 1494              		.loc 1 1300 14 is_stmt 0 view .LVU446
 1495 000a DB43     		mvns	r3, r3
 1496              	.LVL128:
 1497              		.loc 1 1300 14 view .LVU447
 1498 000c 9BB2     		uxth	r3, r3
 1499              	.LVL129:
 1500              		.loc 1 1300 12 view .LVU448
 1501 000e 0381     		strh	r3, [r0, #8]	@ movhi
1301:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1502              		.loc 1 1301 1 view .LVU449
 1503 0010 7047     		bx	lr
 1504              		.cfi_endproc
 1505              	.LFE147:
 1507              		.text
 1508              	.Letext0:
 1509              		.file 2 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stdint.h"
 1510              		.file 3 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 1511              		.file 4 "Drivers/STM32F4xx_StdPeriph_Driver/inc/stm32f4xx_spi.h"
 1512              		.file 5 "Drivers/STM32F4xx_StdPeriph_Driver/inc/stm32f4xx_rcc.h"
ARM GAS  /tmp/cc0MhkbI.s 			page 51


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32f4xx_spi.c
     /tmp/cc0MhkbI.s:18     .text.SPI_I2S_DeInit:0000000000000000 $t
     /tmp/cc0MhkbI.s:26     .text.SPI_I2S_DeInit:0000000000000000 SPI_I2S_DeInit
     /tmp/cc0MhkbI.s:168    .text.SPI_I2S_DeInit:00000000000000ac $d
     /tmp/cc0MhkbI.s:178    .text.SPI_Init:0000000000000000 $t
     /tmp/cc0MhkbI.s:185    .text.SPI_Init:0000000000000000 SPI_Init
     /tmp/cc0MhkbI.s:273    .text.I2S_Init:0000000000000000 $t
     /tmp/cc0MhkbI.s:280    .text.I2S_Init:0000000000000000 I2S_Init
     /tmp/cc0MhkbI.s:535    .text.I2S_Init:0000000000000110 $d
     /tmp/cc0MhkbI.s:543    .text.SPI_StructInit:0000000000000000 $t
     /tmp/cc0MhkbI.s:550    .text.SPI_StructInit:0000000000000000 SPI_StructInit
     /tmp/cc0MhkbI.s:593    .text.I2S_StructInit:0000000000000000 $t
     /tmp/cc0MhkbI.s:600    .text.I2S_StructInit:0000000000000000 I2S_StructInit
     /tmp/cc0MhkbI.s:634    .text.SPI_Cmd:0000000000000000 $t
     /tmp/cc0MhkbI.s:641    .text.SPI_Cmd:0000000000000000 SPI_Cmd
     /tmp/cc0MhkbI.s:675    .text.I2S_Cmd:0000000000000000 $t
     /tmp/cc0MhkbI.s:682    .text.I2S_Cmd:0000000000000000 I2S_Cmd
     /tmp/cc0MhkbI.s:716    .text.SPI_DataSizeConfig:0000000000000000 $t
     /tmp/cc0MhkbI.s:723    .text.SPI_DataSizeConfig:0000000000000000 SPI_DataSizeConfig
     /tmp/cc0MhkbI.s:752    .text.SPI_BiDirectionalLineConfig:0000000000000000 $t
     /tmp/cc0MhkbI.s:759    .text.SPI_BiDirectionalLineConfig:0000000000000000 SPI_BiDirectionalLineConfig
     /tmp/cc0MhkbI.s:794    .text.SPI_NSSInternalSoftwareConfig:0000000000000000 $t
     /tmp/cc0MhkbI.s:801    .text.SPI_NSSInternalSoftwareConfig:0000000000000000 SPI_NSSInternalSoftwareConfig
     /tmp/cc0MhkbI.s:837    .text.SPI_SSOutputCmd:0000000000000000 $t
     /tmp/cc0MhkbI.s:844    .text.SPI_SSOutputCmd:0000000000000000 SPI_SSOutputCmd
     /tmp/cc0MhkbI.s:878    .text.SPI_TIModeCmd:0000000000000000 $t
     /tmp/cc0MhkbI.s:885    .text.SPI_TIModeCmd:0000000000000000 SPI_TIModeCmd
     /tmp/cc0MhkbI.s:919    .text.I2S_FullDuplexConfig:0000000000000000 $t
     /tmp/cc0MhkbI.s:926    .text.I2S_FullDuplexConfig:0000000000000000 I2S_FullDuplexConfig
     /tmp/cc0MhkbI.s:1008   .text.SPI_I2S_ReceiveData:0000000000000000 $t
     /tmp/cc0MhkbI.s:1015   .text.SPI_I2S_ReceiveData:0000000000000000 SPI_I2S_ReceiveData
     /tmp/cc0MhkbI.s:1035   .text.SPI_I2S_SendData:0000000000000000 $t
     /tmp/cc0MhkbI.s:1042   .text.SPI_I2S_SendData:0000000000000000 SPI_I2S_SendData
     /tmp/cc0MhkbI.s:1060   .text.SPI_CalculateCRC:0000000000000000 $t
     /tmp/cc0MhkbI.s:1067   .text.SPI_CalculateCRC:0000000000000000 SPI_CalculateCRC
     /tmp/cc0MhkbI.s:1101   .text.SPI_TransmitCRC:0000000000000000 $t
     /tmp/cc0MhkbI.s:1108   .text.SPI_TransmitCRC:0000000000000000 SPI_TransmitCRC
     /tmp/cc0MhkbI.s:1129   .text.SPI_GetCRC:0000000000000000 $t
     /tmp/cc0MhkbI.s:1136   .text.SPI_GetCRC:0000000000000000 SPI_GetCRC
     /tmp/cc0MhkbI.s:1176   .text.SPI_GetCRCPolynomial:0000000000000000 $t
     /tmp/cc0MhkbI.s:1183   .text.SPI_GetCRCPolynomial:0000000000000000 SPI_GetCRCPolynomial
     /tmp/cc0MhkbI.s:1203   .text.SPI_I2S_DMACmd:0000000000000000 $t
     /tmp/cc0MhkbI.s:1210   .text.SPI_I2S_DMACmd:0000000000000000 SPI_I2S_DMACmd
     /tmp/cc0MhkbI.s:1252   .text.SPI_I2S_ITConfig:0000000000000000 $t
     /tmp/cc0MhkbI.s:1259   .text.SPI_I2S_ITConfig:0000000000000000 SPI_I2S_ITConfig
     /tmp/cc0MhkbI.s:1319   .text.SPI_I2S_GetFlagStatus:0000000000000000 $t
     /tmp/cc0MhkbI.s:1326   .text.SPI_I2S_GetFlagStatus:0000000000000000 SPI_I2S_GetFlagStatus
     /tmp/cc0MhkbI.s:1360   .text.SPI_I2S_ClearFlag:0000000000000000 $t
     /tmp/cc0MhkbI.s:1367   .text.SPI_I2S_ClearFlag:0000000000000000 SPI_I2S_ClearFlag
     /tmp/cc0MhkbI.s:1391   .text.SPI_I2S_GetITStatus:0000000000000000 $t
     /tmp/cc0MhkbI.s:1398   .text.SPI_I2S_GetITStatus:0000000000000000 SPI_I2S_GetITStatus
     /tmp/cc0MhkbI.s:1465   .text.SPI_I2S_ClearITPendingBit:0000000000000000 $t
     /tmp/cc0MhkbI.s:1472   .text.SPI_I2S_ClearITPendingBit:0000000000000000 SPI_I2S_ClearITPendingBit

UNDEFINED SYMBOLS
RCC_APB2PeriphResetCmd
ARM GAS  /tmp/cc0MhkbI.s 			page 52


RCC_APB1PeriphResetCmd
