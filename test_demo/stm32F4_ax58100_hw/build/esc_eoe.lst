ARM GAS  /tmp/ccKy4lrp.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"esc_eoe.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.EOE_ip_uint32_to_byte,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	EOE_ip_uint32_to_byte:
  26              	.LVL0:
  27              	.LFB0:
  28              		.file 1 "Lib/soes/src/esc_eoe.c"
   1:Lib/soes/src/esc_eoe.c **** /*
   2:Lib/soes/src/esc_eoe.c ****  * Licensed under the GNU General Public License version 2 with exceptions. See
   3:Lib/soes/src/esc_eoe.c ****  * LICENSE file in the project root for full license information
   4:Lib/soes/src/esc_eoe.c ****  */
   5:Lib/soes/src/esc_eoe.c **** 
   6:Lib/soes/src/esc_eoe.c ****  /** \file
   7:Lib/soes/src/esc_eoe.c ****  * \brief
   8:Lib/soes/src/esc_eoe.c ****  * Ethernet over EtherCAT (EoE) module.
   9:Lib/soes/src/esc_eoe.c ****  */
  10:Lib/soes/src/esc_eoe.c **** 
  11:Lib/soes/src/esc_eoe.c **** #include <cc.h>
  12:Lib/soes/src/esc_eoe.c **** #include <string.h>
  13:Lib/soes/src/esc_eoe.c **** #include "esc.h"
  14:Lib/soes/src/esc_eoe.c **** #include "esc_eoe.h"
  15:Lib/soes/src/esc_eoe.c **** 
  16:Lib/soes/src/esc_eoe.c **** 
  17:Lib/soes/src/esc_eoe.c **** #if defined(EC_BIG_ENDIAN)
  18:Lib/soes/src/esc_eoe.c **** #define EOE_HTONS(x) (x)
  19:Lib/soes/src/esc_eoe.c **** #define EOE_NTOHS(x) (x)
  20:Lib/soes/src/esc_eoe.c **** #define EOE_HTONL(x) (x)
  21:Lib/soes/src/esc_eoe.c **** #define EOE_NTOHL(x) (x)
  22:Lib/soes/src/esc_eoe.c **** #else
  23:Lib/soes/src/esc_eoe.c **** #define EOE_HTONS(x) ((((x) & 0x00ffU) << 8) | (((x) & 0xff00U) >> 8))
  24:Lib/soes/src/esc_eoe.c **** #define EOE_NTOHS(x) EOE_HTONS(x)
  25:Lib/soes/src/esc_eoe.c **** #define EOE_HTONL(x) ((((x) & 0x000000ffU) << 24) | \
  26:Lib/soes/src/esc_eoe.c ****                      (((x) & 0x0000ff00U) <<  8) | \
  27:Lib/soes/src/esc_eoe.c ****                      (((x) & 0x00ff0000U) >>  8) | \
  28:Lib/soes/src/esc_eoe.c ****                      (((x) & 0xff000000U) >> 24))
  29:Lib/soes/src/esc_eoe.c **** #define EOE_NTOHL(x) EOE_HTONL(x)
  30:Lib/soes/src/esc_eoe.c **** #endif /* #if defined(EC_BIG_ENDIAN) */
ARM GAS  /tmp/ccKy4lrp.s 			page 2


  31:Lib/soes/src/esc_eoe.c **** 
  32:Lib/soes/src/esc_eoe.c **** #define EOE_MAKEU32(a,b,c,d) (((uint32_t)((a) & 0xff) << 24) | \
  33:Lib/soes/src/esc_eoe.c ****                             ((uint32_t)((b) & 0xff) << 16) | \
  34:Lib/soes/src/esc_eoe.c ****                             ((uint32_t)((c) & 0xff) << 8)  | \
  35:Lib/soes/src/esc_eoe.c ****                             (uint32_t)((d) & 0xff))
  36:Lib/soes/src/esc_eoe.c **** 
  37:Lib/soes/src/esc_eoe.c **** /** Get one byte from the 4-byte address */
  38:Lib/soes/src/esc_eoe.c **** #define eoe_ip4_addr1(ipaddr) (((const uint8_t*)(&(ipaddr)->addr))[0])
  39:Lib/soes/src/esc_eoe.c **** #define eoe_ip4_addr2(ipaddr) (((const uint8_t*)(&(ipaddr)->addr))[1])
  40:Lib/soes/src/esc_eoe.c **** #define eoe_ip4_addr3(ipaddr) (((const uint8_t*)(&(ipaddr)->addr))[2])
  41:Lib/soes/src/esc_eoe.c **** #define eoe_ip4_addr4(ipaddr) (((const uint8_t*)(&(ipaddr)->addr))[3])
  42:Lib/soes/src/esc_eoe.c **** 
  43:Lib/soes/src/esc_eoe.c **** /** Set an IP address given by the four byte-parts */
  44:Lib/soes/src/esc_eoe.c **** #define EOE_IP4_ADDR_TO_U32(ipaddr,a,b,c,d)  \
  45:Lib/soes/src/esc_eoe.c ****    (ipaddr)->addr = EOE_HTONL(EOE_MAKEU32(a,b,c,d))
  46:Lib/soes/src/esc_eoe.c **** 
  47:Lib/soes/src/esc_eoe.c **** /** Header frame info 1 */
  48:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_TYPE_OFFSET      0
  49:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_TYPE             (0xF << 0)
  50:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_TYPE_SET(x)      ((uint16_t)(((x) & 0xF) << 0))
  51:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_TYPE_GET(x)      (((x) >> 0) & 0xF)
  52:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_PORT_OFFSET      4
  53:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_PORT             (0xF << 4)
  54:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_PORT_SET(x)      ((uint16_t)(((x) & 0xF) << 4))
  55:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_PORT_GET(x)      (((x) >> 4) & 0xF)
  56:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_LAST_FRAGMENT_OFFSET   8
  57:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_LAST_FRAGMENT          (0x1 << 8)
  58:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_LAST_FRAGMENT_SET(x)   ((uint16_t)(((x) & 0x1) << 8))
  59:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_LAST_FRAGMENT_GET(x)   (((x) >> 8) & 0x1)
  60:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_TIME_APPEND_OFFSET     9
  61:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_TIME_APPEND            (0x1 << 9)
  62:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_TIME_APPEND_SET(x)     ((uint16_t)(((x) & 0x1) << 9))
  63:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_TIME_APPEND_GET(x)     (((x) >> 9) & 0x1)
  64:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_TIME_REQUEST_OFFSET    10
  65:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_TIME_REQUEST           (0x1 << 10)
  66:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_TIME_REQUEST_SET(x)    ((uint16_t)(((x) & 0x1) << 10))
  67:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_TIME_REQUEST_GET(x)    (((x) >> 10) & 0x1)
  68:Lib/soes/src/esc_eoe.c **** 
  69:Lib/soes/src/esc_eoe.c **** /** Header frame info 2 */
  70:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAG_NO_OFFSET         0
  71:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAG_NO                (0x3F << 0)
  72:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAG_NO_SET(x)         ((uint16_t)(((x) & 0x3F) << 0))
  73:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAG_NO_GET(x)         (((x) >> 0) & 0x3F)
  74:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_OFFSET_OFFSET    6
  75:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_OFFSET           (0x3F << 6)
  76:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_OFFSET_SET(x)    ((uint16_t)(((x) & 0x3F) << 6))
  77:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_OFFSET_GET(x)    (((x) >> 6) & 0x3F)
  78:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_NO_OFFSET        12
  79:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_NO               (0xF << 12)
  80:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_NO_SET(x)        ((uint16_t)(((x) & 0xF) << 12))
  81:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_NO_GET(x)        (((x) >> 12) & 0xF)
  82:Lib/soes/src/esc_eoe.c **** 
  83:Lib/soes/src/esc_eoe.c **** /** EOE param */
  84:Lib/soes/src/esc_eoe.c **** #define EOE_PARAM_OFFSET                  4
  85:Lib/soes/src/esc_eoe.c **** #define EOE_PARAM_MAC_INCLUDE             (0x1 << 0)
  86:Lib/soes/src/esc_eoe.c **** #define EOE_PARAM_IP_INCLUDE              (0x1 << 1)
  87:Lib/soes/src/esc_eoe.c **** #define EOE_PARAM_SUBNET_IP_INCLUDE       (0x1 << 2)
ARM GAS  /tmp/ccKy4lrp.s 			page 3


  88:Lib/soes/src/esc_eoe.c **** #define EOE_PARAM_DEFAULT_GATEWAY_INCLUDE (0x1 << 3)
  89:Lib/soes/src/esc_eoe.c **** #define EOE_PARAM_DNS_IP_INCLUDE          (0x1 << 4)
  90:Lib/soes/src/esc_eoe.c **** #define EOE_PARAM_DNS_NAME_INCLUDE        (0x1 << 5)
  91:Lib/soes/src/esc_eoe.c **** 
  92:Lib/soes/src/esc_eoe.c **** /** EoE frame types */
  93:Lib/soes/src/esc_eoe.c **** #define EOE_FRAG_DATA                  0
  94:Lib/soes/src/esc_eoe.c **** #define EOE_INIT_RESP_TIMESTAMP        1
  95:Lib/soes/src/esc_eoe.c **** #define EOE_INIT_REQ                   2 /* Spec SET IP REQ */
  96:Lib/soes/src/esc_eoe.c **** #define EOE_INIT_RESP                  3 /* Spec SET IP RESP */
  97:Lib/soes/src/esc_eoe.c **** #define EOE_SET_ADDR_FILTER_REQ        4
  98:Lib/soes/src/esc_eoe.c **** #define EOE_SET_ADDR_FILTER_RESP       5
  99:Lib/soes/src/esc_eoe.c **** #define EOE_GET_IP_PARAM_REQ           6
 100:Lib/soes/src/esc_eoe.c **** #define EOE_GET_IP_PARAM_RESP          7
 101:Lib/soes/src/esc_eoe.c **** #define EOE_GET_ADDR_FILTER_REQ        8
 102:Lib/soes/src/esc_eoe.c **** #define EOE_GET_ADDR_FILTER_RESP       9
 103:Lib/soes/src/esc_eoe.c **** 
 104:Lib/soes/src/esc_eoe.c **** /** Define number of ports available.(Only one is supported currently */
 105:Lib/soes/src/esc_eoe.c **** #define EOE_NUMBER_OF_PORTS   1
 106:Lib/soes/src/esc_eoe.c **** #define EOE_PORT_INDEX(x)     ((x > 0) ? (x - 1) : 0)
 107:Lib/soes/src/esc_eoe.c **** /** DNS length according to ETG 1000.6 */
 108:Lib/soes/src/esc_eoe.c **** #define EOE_DNS_NAME_LENGTH  32
 109:Lib/soes/src/esc_eoe.c **** /** Ethernet address length not including VLAN */
 110:Lib/soes/src/esc_eoe.c **** #define EOE_ETHADDR_LENGTH    6
 111:Lib/soes/src/esc_eoe.c **** /** IPv4 address length */
 112:Lib/soes/src/esc_eoe.c **** #define EOE_IP4_LENGTH        4U /* sizeof(uint32_t) */
 113:Lib/soes/src/esc_eoe.c **** 
 114:Lib/soes/src/esc_eoe.c **** /** EOE ip4 address in network order */
 115:Lib/soes/src/esc_eoe.c **** struct eoe_ip4_addr {
 116:Lib/soes/src/esc_eoe.c ****   uint32_t addr;
 117:Lib/soes/src/esc_eoe.c **** };
 118:Lib/soes/src/esc_eoe.c **** typedef struct eoe_ip4_addr eoe_ip4_addr_t;
 119:Lib/soes/src/esc_eoe.c **** 
 120:Lib/soes/src/esc_eoe.c **** /** EOE ethernet address */
 121:Lib/soes/src/esc_eoe.c **** CC_PACKED_BEGIN
 122:Lib/soes/src/esc_eoe.c **** typedef struct CC_PACKED eoe_ethaddr
 123:Lib/soes/src/esc_eoe.c **** {
 124:Lib/soes/src/esc_eoe.c ****   uint8_t addr[EOE_ETHADDR_LENGTH];
 125:Lib/soes/src/esc_eoe.c **** } eoe_ethaddr_t;
 126:Lib/soes/src/esc_eoe.c **** CC_PACKED_END
 127:Lib/soes/src/esc_eoe.c **** 
 128:Lib/soes/src/esc_eoe.c **** typedef struct
 129:Lib/soes/src/esc_eoe.c **** {
 130:Lib/soes/src/esc_eoe.c ****    /** Pointer to current RX buffer to fill */
 131:Lib/soes/src/esc_eoe.c ****    eoe_pbuf_t rxebuf;
 132:Lib/soes/src/esc_eoe.c ****    /** Pointer to current TX buff to Send */
 133:Lib/soes/src/esc_eoe.c ****    eoe_pbuf_t txebuf;
 134:Lib/soes/src/esc_eoe.c **** 
 135:Lib/soes/src/esc_eoe.c ****    /** Current RX fragment number */
 136:Lib/soes/src/esc_eoe.c ****    uint8_t rxfragmentno;
 137:Lib/soes/src/esc_eoe.c ****    /** Complete RX frame size of current frame */
 138:Lib/soes/src/esc_eoe.c ****    uint32_t rxframesize;
 139:Lib/soes/src/esc_eoe.c ****    /** Current RX data offset in frame */
 140:Lib/soes/src/esc_eoe.c ****    uint32_t rxframeoffset;
 141:Lib/soes/src/esc_eoe.c ****    /** Current RX frame number */
 142:Lib/soes/src/esc_eoe.c ****    uint16_t rxframeno;
 143:Lib/soes/src/esc_eoe.c **** 
 144:Lib/soes/src/esc_eoe.c ****    /** Current TX fragment number */
ARM GAS  /tmp/ccKy4lrp.s 			page 4


 145:Lib/soes/src/esc_eoe.c ****    uint8_t txfragmentno;
 146:Lib/soes/src/esc_eoe.c ****    /** Complete TX frame size of current frame */
 147:Lib/soes/src/esc_eoe.c ****    uint32_t txframesize;
 148:Lib/soes/src/esc_eoe.c ****    /** Current TX data offset in frame */
 149:Lib/soes/src/esc_eoe.c ****    uint32_t txframeoffset;
 150:Lib/soes/src/esc_eoe.c **** } _EOEvar;
 151:Lib/soes/src/esc_eoe.c **** 
 152:Lib/soes/src/esc_eoe.c **** /** EoE IP request structure */
 153:Lib/soes/src/esc_eoe.c **** typedef struct eoe_param
 154:Lib/soes/src/esc_eoe.c **** {
 155:Lib/soes/src/esc_eoe.c ****    uint8_t mac_set:1;
 156:Lib/soes/src/esc_eoe.c ****    uint8_t ip_set:1;
 157:Lib/soes/src/esc_eoe.c ****    uint8_t subnet_set:1;
 158:Lib/soes/src/esc_eoe.c ****    uint8_t default_gateway_set:1;
 159:Lib/soes/src/esc_eoe.c ****    uint8_t dns_ip_set:1;
 160:Lib/soes/src/esc_eoe.c ****    uint8_t dns_name_set:1;
 161:Lib/soes/src/esc_eoe.c ****    eoe_ethaddr_t mac;
 162:Lib/soes/src/esc_eoe.c ****    eoe_ip4_addr_t ip;
 163:Lib/soes/src/esc_eoe.c ****    eoe_ip4_addr_t subnet;
 164:Lib/soes/src/esc_eoe.c ****    eoe_ip4_addr_t default_gateway;
 165:Lib/soes/src/esc_eoe.c ****    eoe_ip4_addr_t dns_ip;
 166:Lib/soes/src/esc_eoe.c ****    char dns_name[EOE_DNS_NAME_LENGTH];
 167:Lib/soes/src/esc_eoe.c **** } eoe_param_t;
 168:Lib/soes/src/esc_eoe.c **** 
 169:Lib/soes/src/esc_eoe.c **** /** Main EoE status data array. Structure gets filled with current information
 170:Lib/soes/src/esc_eoe.c ****  * variables during EoE receive and send operations.
 171:Lib/soes/src/esc_eoe.c ****  */
 172:Lib/soes/src/esc_eoe.c **** static _EOEvar EOEvar;
 173:Lib/soes/src/esc_eoe.c **** 
 174:Lib/soes/src/esc_eoe.c **** /** Main FoE configuration pointer data array. Structure is allocated and filled
 175:Lib/soes/src/esc_eoe.c ****  * by the application defining what preferences it requires.
 176:Lib/soes/src/esc_eoe.c ****  */
 177:Lib/soes/src/esc_eoe.c **** static eoe_cfg_t * eoe_cfg;
 178:Lib/soes/src/esc_eoe.c **** 
 179:Lib/soes/src/esc_eoe.c **** /** Local EoE variable holding cached IP information values.
 180:Lib/soes/src/esc_eoe.c ****  * To be set or read from the user application, eg. TCP/IP stack.
 181:Lib/soes/src/esc_eoe.c ****  */
 182:Lib/soes/src/esc_eoe.c **** static eoe_param_t nic_ports[EOE_NUMBER_OF_PORTS];
 183:Lib/soes/src/esc_eoe.c **** 
 184:Lib/soes/src/esc_eoe.c **** /** Local init/reset functions on frame receive init */
 185:Lib/soes/src/esc_eoe.c **** static void EOE_init_rx ();
 186:Lib/soes/src/esc_eoe.c **** /** Local init/reset functions on frame send completion */
 187:Lib/soes/src/esc_eoe.c **** static void EOE_init_tx ();
 188:Lib/soes/src/esc_eoe.c **** 
 189:Lib/soes/src/esc_eoe.c **** /** EoE utility function to convert uint32 to eoe ip bytes.
 190:Lib/soes/src/esc_eoe.c ****  * @param[in] ip       = ip in uint32
 191:Lib/soes/src/esc_eoe.c ****  * @param[out] byte_ip = eoe ip 4th octet, 3ed octet, 2nd octet, 1st octet
 192:Lib/soes/src/esc_eoe.c ****  */
 193:Lib/soes/src/esc_eoe.c **** static void EOE_ip_uint32_to_byte (eoe_ip4_addr_t * ip, uint8_t * byte_ip)
 194:Lib/soes/src/esc_eoe.c **** {
  29              		.loc 1 194 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
 195:Lib/soes/src/esc_eoe.c ****    byte_ip[3] = eoe_ip4_addr1(ip); /* 1st octet */
  34              		.loc 1 195 4 view .LVU1
ARM GAS  /tmp/ccKy4lrp.s 			page 5


  35              		.loc 1 195 17 is_stmt 0 view .LVU2
  36 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
  37              		.loc 1 195 15 view .LVU3
  38 0002 CB70     		strb	r3, [r1, #3]
 196:Lib/soes/src/esc_eoe.c ****    byte_ip[2] = eoe_ip4_addr2(ip); /* 2nd octet */
  39              		.loc 1 196 4 is_stmt 1 view .LVU4
  40              		.loc 1 196 17 is_stmt 0 view .LVU5
  41 0004 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
  42              		.loc 1 196 15 view .LVU6
  43 0006 8B70     		strb	r3, [r1, #2]
 197:Lib/soes/src/esc_eoe.c ****    byte_ip[1] = eoe_ip4_addr3(ip); /* 3ed octet */
  44              		.loc 1 197 4 is_stmt 1 view .LVU7
  45              		.loc 1 197 17 is_stmt 0 view .LVU8
  46 0008 8378     		ldrb	r3, [r0, #2]	@ zero_extendqisi2
  47              		.loc 1 197 15 view .LVU9
  48 000a 4B70     		strb	r3, [r1, #1]
 198:Lib/soes/src/esc_eoe.c ****    byte_ip[0] = eoe_ip4_addr4(ip); /* 4th octet */
  49              		.loc 1 198 4 is_stmt 1 view .LVU10
  50              		.loc 1 198 17 is_stmt 0 view .LVU11
  51 000c C378     		ldrb	r3, [r0, #3]	@ zero_extendqisi2
  52              		.loc 1 198 15 view .LVU12
  53 000e 0B70     		strb	r3, [r1]
 199:Lib/soes/src/esc_eoe.c **** }
  54              		.loc 1 199 1 view .LVU13
  55 0010 7047     		bx	lr
  56              		.cfi_endproc
  57              	.LFE0:
  59              		.section	.text.EOE_ip_byte_to_uint32,"ax",%progbits
  60              		.align	1
  61              		.syntax unified
  62              		.thumb
  63              		.thumb_func
  65              	EOE_ip_byte_to_uint32:
  66              	.LVL1:
  67              	.LFB1:
 200:Lib/soes/src/esc_eoe.c **** 
 201:Lib/soes/src/esc_eoe.c **** /** EoE utility function to convert eoe ip bytes to uint32.
 202:Lib/soes/src/esc_eoe.c ****  * @param[in] byte_ip = eoe ip 4th octet, 3ed octet, 2nd octet, 1st octet
 203:Lib/soes/src/esc_eoe.c ****  * @param[out] ip     = ip in uint32
 204:Lib/soes/src/esc_eoe.c ****  */
 205:Lib/soes/src/esc_eoe.c **** static void EOE_ip_byte_to_uint32 (uint8_t * byte_ip, eoe_ip4_addr_t * ip)
 206:Lib/soes/src/esc_eoe.c **** {
  68              		.loc 1 206 1 is_stmt 1 view -0
  69              		.cfi_startproc
  70              		@ args = 0, pretend = 0, frame = 0
  71              		@ frame_needed = 0, uses_anonymous_args = 0
  72              		@ link register save eliminated.
 207:Lib/soes/src/esc_eoe.c ****    EOE_IP4_ADDR_TO_U32(ip,
  73              		.loc 1 207 4 view .LVU15
  74 0000 C278     		ldrb	r2, [r0, #3]	@ zero_extendqisi2
  75 0002 8378     		ldrb	r3, [r0, #2]	@ zero_extendqisi2
  76 0004 1B04     		lsls	r3, r3, #16
  77 0006 43EA0263 		orr	r3, r3, r2, lsl #24
  78 000a 4278     		ldrb	r2, [r0, #1]	@ zero_extendqisi2
  79 000c 43EA0223 		orr	r3, r3, r2, lsl #8
  80 0010 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
  81              	.LVL2:
ARM GAS  /tmp/ccKy4lrp.s 			page 6


  82              		.loc 1 207 4 is_stmt 0 view .LVU16
  83 0012 0343     		orrs	r3, r3, r0
  84 0014 1A02     		lsls	r2, r3, #8
  85 0016 02F47F02 		and	r2, r2, #16711680
  86 001a 42EA0062 		orr	r2, r2, r0, lsl #24
  87 001e 180A     		lsrs	r0, r3, #8
  88 0020 00F47F40 		and	r0, r0, #65280
  89 0024 0243     		orrs	r2, r2, r0
  90 0026 42EA1363 		orr	r3, r2, r3, lsr #24
  91 002a 0B60     		str	r3, [r1]
 208:Lib/soes/src/esc_eoe.c ****          byte_ip[3],  /* 1st octet */
 209:Lib/soes/src/esc_eoe.c ****          byte_ip[2],  /* 2nd octet */
 210:Lib/soes/src/esc_eoe.c ****          byte_ip[1],  /* 3ed octet */
 211:Lib/soes/src/esc_eoe.c ****          byte_ip[0]) ;/* 4th octet */
 212:Lib/soes/src/esc_eoe.c **** }
  92              		.loc 1 212 1 view .LVU17
  93 002c 7047     		bx	lr
  94              		.cfi_endproc
  95              	.LFE1:
  97              		.section	.text.EOE_init_rx,"ax",%progbits
  98              		.align	1
  99              		.syntax unified
 100              		.thumb
 101              		.thumb_func
 103              	EOE_init_rx:
 104              	.LFB19:
 213:Lib/soes/src/esc_eoe.c **** 
 214:Lib/soes/src/esc_eoe.c **** /** Get EoE cached MAC address
 215:Lib/soes/src/esc_eoe.c ****  *
 216:Lib/soes/src/esc_eoe.c ****  * @param[in] port   = get MAC for port
 217:Lib/soes/src/esc_eoe.c ****  * @param[out] mac   = variable to store mac in, should fit EOE_ETHADDR_LENGTH
 218:Lib/soes/src/esc_eoe.c ****  * @return 0= if we succeed, -1 if not set
 219:Lib/soes/src/esc_eoe.c ****  */
 220:Lib/soes/src/esc_eoe.c **** int EOE_ecat_get_mac(uint8_t port, uint8_t mac[])
 221:Lib/soes/src/esc_eoe.c **** {
 222:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 223:Lib/soes/src/esc_eoe.c ****    int port_ix;
 224:Lib/soes/src/esc_eoe.c **** 
 225:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 226:Lib/soes/src/esc_eoe.c ****    {
 227:Lib/soes/src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 228:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 229:Lib/soes/src/esc_eoe.c ****       {
 230:Lib/soes/src/esc_eoe.c ****          memcpy(mac, nic_ports[port_ix].mac.addr,
 231:Lib/soes/src/esc_eoe.c ****                sizeof(nic_ports[port_ix].mac));
 232:Lib/soes/src/esc_eoe.c ****          nic_ports[port_ix].mac_set = 1;
 233:Lib/soes/src/esc_eoe.c ****          ret = 0;
 234:Lib/soes/src/esc_eoe.c ****       }
 235:Lib/soes/src/esc_eoe.c ****    }
 236:Lib/soes/src/esc_eoe.c ****    return ret;
 237:Lib/soes/src/esc_eoe.c **** }
 238:Lib/soes/src/esc_eoe.c **** 
 239:Lib/soes/src/esc_eoe.c **** /** Set EoE cached MAC address
 240:Lib/soes/src/esc_eoe.c ****  *
 241:Lib/soes/src/esc_eoe.c ****  * @param[in] port   = get MAC for port
 242:Lib/soes/src/esc_eoe.c ****  * @param[in] mac    = mac address to store
 243:Lib/soes/src/esc_eoe.c ****  * @return 0= if we succeed, else -1.
ARM GAS  /tmp/ccKy4lrp.s 			page 7


 244:Lib/soes/src/esc_eoe.c ****  */
 245:Lib/soes/src/esc_eoe.c **** int EOE_ecat_set_mac(uint8_t port, uint8_t mac[])
 246:Lib/soes/src/esc_eoe.c **** {
 247:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 248:Lib/soes/src/esc_eoe.c ****    int port_ix;
 249:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 250:Lib/soes/src/esc_eoe.c ****    {
 251:Lib/soes/src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 252:Lib/soes/src/esc_eoe.c ****       memcpy(nic_ports[port_ix].mac.addr, mac,
 253:Lib/soes/src/esc_eoe.c ****             sizeof(nic_ports[port_ix].mac));
 254:Lib/soes/src/esc_eoe.c ****       ret = 0;
 255:Lib/soes/src/esc_eoe.c ****    }
 256:Lib/soes/src/esc_eoe.c ****    return ret;
 257:Lib/soes/src/esc_eoe.c **** }
 258:Lib/soes/src/esc_eoe.c **** 
 259:Lib/soes/src/esc_eoe.c **** /** Get EoE cached ip address
 260:Lib/soes/src/esc_eoe.c ****  *
 261:Lib/soes/src/esc_eoe.c ****  * @param[in] port  = get ip address for port
 262:Lib/soes/src/esc_eoe.c ****  * @param[out] ip   = variable to store ip in
 263:Lib/soes/src/esc_eoe.c ****  * @return 0= if we succeed, -1 if not set
 264:Lib/soes/src/esc_eoe.c ****  */
 265:Lib/soes/src/esc_eoe.c **** int EOE_ecat_get_ip(uint8_t port, uint32_t * ip)
 266:Lib/soes/src/esc_eoe.c **** {
 267:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 268:Lib/soes/src/esc_eoe.c ****    int port_ix;
 269:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 270:Lib/soes/src/esc_eoe.c ****    {
 271:Lib/soes/src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 272:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].ip_set)
 273:Lib/soes/src/esc_eoe.c ****       {
 274:Lib/soes/src/esc_eoe.c ****          *ip = EOE_NTOHL(nic_ports[port_ix].ip.addr);
 275:Lib/soes/src/esc_eoe.c ****          ret = 0;
 276:Lib/soes/src/esc_eoe.c ****       }
 277:Lib/soes/src/esc_eoe.c ****    }
 278:Lib/soes/src/esc_eoe.c ****    return ret;
 279:Lib/soes/src/esc_eoe.c **** }
 280:Lib/soes/src/esc_eoe.c **** 
 281:Lib/soes/src/esc_eoe.c **** /** Set EoE cached ip address
 282:Lib/soes/src/esc_eoe.c ****  *
 283:Lib/soes/src/esc_eoe.c ****  * @param[in] port   = get ip for port
 284:Lib/soes/src/esc_eoe.c ****  * @param[in] ip     = ip address to store
 285:Lib/soes/src/esc_eoe.c ****  * @return 0= if we succeed, else -1.
 286:Lib/soes/src/esc_eoe.c ****  */
 287:Lib/soes/src/esc_eoe.c **** int EOE_ecat_set_ip(uint8_t port, uint32_t  ip)
 288:Lib/soes/src/esc_eoe.c **** {
 289:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 290:Lib/soes/src/esc_eoe.c ****    int port_ix;
 291:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 292:Lib/soes/src/esc_eoe.c ****    {
 293:Lib/soes/src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 294:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].ip.addr = EOE_HTONL(ip);
 295:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].ip_set = 1;
 296:Lib/soes/src/esc_eoe.c ****       ret = 0;
 297:Lib/soes/src/esc_eoe.c ****    }
 298:Lib/soes/src/esc_eoe.c ****    return ret;
 299:Lib/soes/src/esc_eoe.c **** }
 300:Lib/soes/src/esc_eoe.c **** 
ARM GAS  /tmp/ccKy4lrp.s 			page 8


 301:Lib/soes/src/esc_eoe.c **** /** Get EoE cached subnet ip address
 302:Lib/soes/src/esc_eoe.c ****  *
 303:Lib/soes/src/esc_eoe.c ****  * @param[in] port    = get ip address for port
 304:Lib/soes/src/esc_eoe.c ****  * @param[out] subnet = variable to store ip in
 305:Lib/soes/src/esc_eoe.c ****  * @return 0= if we succeed, -1 if not set
 306:Lib/soes/src/esc_eoe.c ****  */
 307:Lib/soes/src/esc_eoe.c **** int EOE_ecat_get_subnet(uint8_t port, uint32_t * subnet)
 308:Lib/soes/src/esc_eoe.c **** {
 309:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 310:Lib/soes/src/esc_eoe.c ****    int port_ix;
 311:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 312:Lib/soes/src/esc_eoe.c ****    {
 313:Lib/soes/src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 314:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].subnet_set)
 315:Lib/soes/src/esc_eoe.c ****       {
 316:Lib/soes/src/esc_eoe.c ****          *subnet = EOE_NTOHL(nic_ports[port_ix].subnet.addr);
 317:Lib/soes/src/esc_eoe.c ****          ret = 0;
 318:Lib/soes/src/esc_eoe.c ****       }
 319:Lib/soes/src/esc_eoe.c ****    }
 320:Lib/soes/src/esc_eoe.c ****    return ret;
 321:Lib/soes/src/esc_eoe.c **** }
 322:Lib/soes/src/esc_eoe.c **** 
 323:Lib/soes/src/esc_eoe.c **** /** Set EoE cached subnet ip address
 324:Lib/soes/src/esc_eoe.c ****  *
 325:Lib/soes/src/esc_eoe.c ****  * @param[in] port   = get ip for port
 326:Lib/soes/src/esc_eoe.c ****  * @param[in] subnet = ip address to store
 327:Lib/soes/src/esc_eoe.c ****  * @return 0= if we succeed, else -1.
 328:Lib/soes/src/esc_eoe.c ****  */
 329:Lib/soes/src/esc_eoe.c **** int EOE_ecat_set_subnet(uint8_t port, uint32_t subnet)
 330:Lib/soes/src/esc_eoe.c **** {
 331:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 332:Lib/soes/src/esc_eoe.c ****    int port_ix;
 333:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 334:Lib/soes/src/esc_eoe.c ****    {
 335:Lib/soes/src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 336:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].subnet.addr = EOE_HTONL(subnet);
 337:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].subnet_set = 1;
 338:Lib/soes/src/esc_eoe.c ****       ret = 0;
 339:Lib/soes/src/esc_eoe.c ****    }
 340:Lib/soes/src/esc_eoe.c ****    return ret;
 341:Lib/soes/src/esc_eoe.c **** }
 342:Lib/soes/src/esc_eoe.c **** 
 343:Lib/soes/src/esc_eoe.c **** /** Get EoE cached default gateway ip address
 344:Lib/soes/src/esc_eoe.c ****  *
 345:Lib/soes/src/esc_eoe.c ****  * @param[in] port             = get ip address for port
 346:Lib/soes/src/esc_eoe.c ****  * @param[out] default_gateway = variable to store ip in
 347:Lib/soes/src/esc_eoe.c ****  * @return 0= if we succeed, -1 if not set
 348:Lib/soes/src/esc_eoe.c ****  */
 349:Lib/soes/src/esc_eoe.c **** int EOE_ecat_get_gateway(uint8_t port, uint32_t * default_gateway)
 350:Lib/soes/src/esc_eoe.c **** {
 351:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 352:Lib/soes/src/esc_eoe.c ****    int port_ix;
 353:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 354:Lib/soes/src/esc_eoe.c ****    {
 355:Lib/soes/src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 356:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].default_gateway_set)
 357:Lib/soes/src/esc_eoe.c ****       {
ARM GAS  /tmp/ccKy4lrp.s 			page 9


 358:Lib/soes/src/esc_eoe.c ****          *default_gateway =
 359:Lib/soes/src/esc_eoe.c ****                EOE_NTOHL(nic_ports[port_ix].default_gateway.addr);
 360:Lib/soes/src/esc_eoe.c ****          ret = 0;
 361:Lib/soes/src/esc_eoe.c ****       }
 362:Lib/soes/src/esc_eoe.c ****    }
 363:Lib/soes/src/esc_eoe.c ****    return ret;
 364:Lib/soes/src/esc_eoe.c **** }
 365:Lib/soes/src/esc_eoe.c **** 
 366:Lib/soes/src/esc_eoe.c **** /** Set EoE cached default gateway ip address
 367:Lib/soes/src/esc_eoe.c ****  *
 368:Lib/soes/src/esc_eoe.c ****  * @param[in] port            = get ip for port
 369:Lib/soes/src/esc_eoe.c ****  * @param[in] default_gateway = ip address to store
 370:Lib/soes/src/esc_eoe.c ****  * @return 0= if we succeed, else -1.
 371:Lib/soes/src/esc_eoe.c ****  */
 372:Lib/soes/src/esc_eoe.c **** int EOE_ecat_set_gateway(uint8_t port, uint32_t default_gateway)
 373:Lib/soes/src/esc_eoe.c **** {
 374:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 375:Lib/soes/src/esc_eoe.c ****    int port_ix;
 376:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 377:Lib/soes/src/esc_eoe.c ****    {
 378:Lib/soes/src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 379:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].default_gateway.addr =
 380:Lib/soes/src/esc_eoe.c ****             EOE_HTONL(default_gateway);
 381:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].default_gateway_set = 1;
 382:Lib/soes/src/esc_eoe.c ****       ret = 0;
 383:Lib/soes/src/esc_eoe.c ****    }
 384:Lib/soes/src/esc_eoe.c ****    return ret;
 385:Lib/soes/src/esc_eoe.c **** }
 386:Lib/soes/src/esc_eoe.c **** 
 387:Lib/soes/src/esc_eoe.c **** /** Get EoE cached dns ip address
 388:Lib/soes/src/esc_eoe.c ****  *
 389:Lib/soes/src/esc_eoe.c ****  * @param[in] port    = get ip address for port
 390:Lib/soes/src/esc_eoe.c ****  * @param[out] dns_ip = variable to store ip in
 391:Lib/soes/src/esc_eoe.c ****  * @return 0= if we succeed, -1 if not set
 392:Lib/soes/src/esc_eoe.c ****  */
 393:Lib/soes/src/esc_eoe.c **** int EOE_ecat_get_dns_ip(uint8_t port, uint32_t * dns_ip)
 394:Lib/soes/src/esc_eoe.c **** {
 395:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 396:Lib/soes/src/esc_eoe.c ****    int port_ix;
 397:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 398:Lib/soes/src/esc_eoe.c ****    {
 399:Lib/soes/src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 400:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].dns_ip_set)
 401:Lib/soes/src/esc_eoe.c ****       {
 402:Lib/soes/src/esc_eoe.c ****          *dns_ip = EOE_NTOHL(nic_ports[port_ix].dns_ip.addr);
 403:Lib/soes/src/esc_eoe.c ****          ret = 0;
 404:Lib/soes/src/esc_eoe.c ****       }
 405:Lib/soes/src/esc_eoe.c ****    }
 406:Lib/soes/src/esc_eoe.c ****    return ret;
 407:Lib/soes/src/esc_eoe.c **** }
 408:Lib/soes/src/esc_eoe.c **** 
 409:Lib/soes/src/esc_eoe.c **** /** Set EoE cached dns ip address
 410:Lib/soes/src/esc_eoe.c ****  *
 411:Lib/soes/src/esc_eoe.c ****  * @param[in] port   = get ip for port
 412:Lib/soes/src/esc_eoe.c ****  * @param[in] dns_ip = ip address to store
 413:Lib/soes/src/esc_eoe.c ****  * @return 0= if we succeed, else -1.
 414:Lib/soes/src/esc_eoe.c ****  */
ARM GAS  /tmp/ccKy4lrp.s 			page 10


 415:Lib/soes/src/esc_eoe.c **** int EOE_ecat_set_dns_ip(uint8_t port, uint32_t dns_ip)
 416:Lib/soes/src/esc_eoe.c **** {
 417:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 418:Lib/soes/src/esc_eoe.c ****    int port_ix;
 419:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 420:Lib/soes/src/esc_eoe.c ****    {
 421:Lib/soes/src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 422:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].dns_ip.addr = EOE_HTONL(dns_ip);
 423:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].dns_ip_set = 1;
 424:Lib/soes/src/esc_eoe.c ****       ret = 0;
 425:Lib/soes/src/esc_eoe.c ****    }
 426:Lib/soes/src/esc_eoe.c ****    return ret;
 427:Lib/soes/src/esc_eoe.c **** }
 428:Lib/soes/src/esc_eoe.c **** 
 429:Lib/soes/src/esc_eoe.c **** /** Get EoE cached dns name
 430:Lib/soes/src/esc_eoe.c ****  *
 431:Lib/soes/src/esc_eoe.c ****  * @param[in] port      = get dns name for port
 432:Lib/soes/src/esc_eoe.c ****  * @param[out] dns_name = variable to store dns name in
 433:Lib/soes/src/esc_eoe.c ****  * @return 0= if we succeed, -1 if not set
 434:Lib/soes/src/esc_eoe.c ****  */
 435:Lib/soes/src/esc_eoe.c **** int EOE_ecat_get_dns_name(uint8_t port, char * dns_name)
 436:Lib/soes/src/esc_eoe.c **** {
 437:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 438:Lib/soes/src/esc_eoe.c ****    int port_ix;
 439:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 440:Lib/soes/src/esc_eoe.c ****    {
 441:Lib/soes/src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 442:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].dns_name_set)
 443:Lib/soes/src/esc_eoe.c ****       {
 444:Lib/soes/src/esc_eoe.c ****          memcpy(dns_name,
 445:Lib/soes/src/esc_eoe.c ****                nic_ports[port_ix].dns_name,
 446:Lib/soes/src/esc_eoe.c ****                sizeof(nic_ports[port_ix].dns_name));
 447:Lib/soes/src/esc_eoe.c ****          ret = 0;
 448:Lib/soes/src/esc_eoe.c ****       }
 449:Lib/soes/src/esc_eoe.c ****    }
 450:Lib/soes/src/esc_eoe.c ****    return ret;
 451:Lib/soes/src/esc_eoe.c **** }
 452:Lib/soes/src/esc_eoe.c **** 
 453:Lib/soes/src/esc_eoe.c **** /** Set EoE cached dns name
 454:Lib/soes/src/esc_eoe.c ****  *
 455:Lib/soes/src/esc_eoe.c ****  * @param[in] port     = get dns name for port
 456:Lib/soes/src/esc_eoe.c ****  * @param[in] dns_name = dns name to store
 457:Lib/soes/src/esc_eoe.c ****  * @return 0= if we succeed, else -1.
 458:Lib/soes/src/esc_eoe.c ****  */
 459:Lib/soes/src/esc_eoe.c **** int EOE_ecat_set_dns_name(uint8_t port, char * dns_name)
 460:Lib/soes/src/esc_eoe.c **** {
 461:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 462:Lib/soes/src/esc_eoe.c ****    int port_ix;
 463:Lib/soes/src/esc_eoe.c **** 
 464:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 465:Lib/soes/src/esc_eoe.c ****    {
 466:Lib/soes/src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 467:Lib/soes/src/esc_eoe.c ****       memcpy(nic_ports[port_ix].dns_name,
 468:Lib/soes/src/esc_eoe.c ****             dns_name,
 469:Lib/soes/src/esc_eoe.c ****             sizeof(nic_ports[port_ix].dns_name));
 470:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].dns_name_set = 1;
 471:Lib/soes/src/esc_eoe.c ****       ret = 0;
ARM GAS  /tmp/ccKy4lrp.s 			page 11


 472:Lib/soes/src/esc_eoe.c ****    }
 473:Lib/soes/src/esc_eoe.c ****    return ret;
 474:Lib/soes/src/esc_eoe.c **** }
 475:Lib/soes/src/esc_eoe.c **** 
 476:Lib/soes/src/esc_eoe.c **** /** Function for sending an simple EOE response frame.
 477:Lib/soes/src/esc_eoe.c ****  *
 478:Lib/soes/src/esc_eoe.c ****  * @param[in] frametype1 = frame type of response
 479:Lib/soes/src/esc_eoe.c ****  * @param[in] result    = result code
 480:Lib/soes/src/esc_eoe.c ****  */
 481:Lib/soes/src/esc_eoe.c **** static void EOE_no_data_response (uint16_t frameinfo1, uint16_t result)
 482:Lib/soes/src/esc_eoe.c **** {
 483:Lib/soes/src/esc_eoe.c ****    _EOE *eoembx;
 484:Lib/soes/src/esc_eoe.c ****    uint8_t mbxhandle;
 485:Lib/soes/src/esc_eoe.c **** 
 486:Lib/soes/src/esc_eoe.c ****    /* Send back a response packet. */
 487:Lib/soes/src/esc_eoe.c ****    mbxhandle = ESC_claimbuffer ();
 488:Lib/soes/src/esc_eoe.c ****    if (mbxhandle)
 489:Lib/soes/src/esc_eoe.c ****    {
 490:Lib/soes/src/esc_eoe.c ****       eoembx = (_EOE *) &MBX[mbxhandle * ESC_MBXSIZE];
 491:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE);
 492:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 493:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 494:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.result = htoes(result);
 495:Lib/soes/src/esc_eoe.c ****       MBXcontrol[mbxhandle].state = MBXstate_outreq;
 496:Lib/soes/src/esc_eoe.c ****    }
 497:Lib/soes/src/esc_eoe.c **** }
 498:Lib/soes/src/esc_eoe.c **** 
 499:Lib/soes/src/esc_eoe.c **** /** EoE get IP param request handler. Will send a get IP param response.
 500:Lib/soes/src/esc_eoe.c ****  */
 501:Lib/soes/src/esc_eoe.c **** static void EOE_get_ip (void)
 502:Lib/soes/src/esc_eoe.c **** {
 503:Lib/soes/src/esc_eoe.c ****    _EOE *req_eoembx;
 504:Lib/soes/src/esc_eoe.c ****    _EOE *eoembx;
 505:Lib/soes/src/esc_eoe.c ****    uint8_t mbxhandle;
 506:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo1;
 507:Lib/soes/src/esc_eoe.c ****    uint8_t port;
 508:Lib/soes/src/esc_eoe.c ****    uint8_t  flags;
 509:Lib/soes/src/esc_eoe.c ****    uint32_t  data_offset;
 510:Lib/soes/src/esc_eoe.c ****    int port_ix;
 511:Lib/soes/src/esc_eoe.c **** 
 512:Lib/soes/src/esc_eoe.c ****    req_eoembx = (_EOE *) &MBX[0];
 513:Lib/soes/src/esc_eoe.c ****    frameinfo1 = etohs(req_eoembx->eoeheader.frameinfo1);
 514:Lib/soes/src/esc_eoe.c ****    port = EOE_HDR_FRAME_PORT_GET(frameinfo1);
 515:Lib/soes/src/esc_eoe.c ****    data_offset = EOE_PARAM_OFFSET;
 516:Lib/soes/src/esc_eoe.c ****    flags = 0;
 517:Lib/soes/src/esc_eoe.c **** 
 518:Lib/soes/src/esc_eoe.c ****    if(port  > EOE_NUMBER_OF_PORTS)
 519:Lib/soes/src/esc_eoe.c ****    {
 520:Lib/soes/src/esc_eoe.c ****       DPRINT("Invalid port\n");
 521:Lib/soes/src/esc_eoe.c ****       frameinfo1 = EOE_HDR_FRAME_PORT_SET(port);
 522:Lib/soes/src/esc_eoe.c ****       frameinfo1 |= EOE_INIT_RESP;
 523:Lib/soes/src/esc_eoe.c ****       frameinfo1 |= EOE_HDR_LAST_FRAGMENT;
 524:Lib/soes/src/esc_eoe.c ****       /* Return error response on given port */
 525:Lib/soes/src/esc_eoe.c ****       EOE_no_data_response(frameinfo1,
 526:Lib/soes/src/esc_eoe.c ****             EOE_RESULT_UNSPECIFIED_ERROR);
 527:Lib/soes/src/esc_eoe.c ****       return;
 528:Lib/soes/src/esc_eoe.c ****    }
ARM GAS  /tmp/ccKy4lrp.s 			page 12


 529:Lib/soes/src/esc_eoe.c **** 
 530:Lib/soes/src/esc_eoe.c ****    /* Refresh settings if needed */
 531:Lib/soes/src/esc_eoe.c ****    if(eoe_cfg->load_eth_settings != NULL)
 532:Lib/soes/src/esc_eoe.c ****    {
 533:Lib/soes/src/esc_eoe.c ****       (void)eoe_cfg->load_eth_settings();
 534:Lib/soes/src/esc_eoe.c ****    }
 535:Lib/soes/src/esc_eoe.c **** 
 536:Lib/soes/src/esc_eoe.c ****    /* Send back an response packet. */
 537:Lib/soes/src/esc_eoe.c ****    mbxhandle = ESC_claimbuffer ();
 538:Lib/soes/src/esc_eoe.c ****    if (mbxhandle)
 539:Lib/soes/src/esc_eoe.c ****    {
 540:Lib/soes/src/esc_eoe.c ****       eoembx = (_EOE *) &MBX[mbxhandle * ESC_MBXSIZE];
 541:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 542:Lib/soes/src/esc_eoe.c ****       MBXcontrol[mbxhandle].state = MBXstate_outreq;
 543:Lib/soes/src/esc_eoe.c ****       frameinfo1 = EOE_HDR_FRAME_PORT_SET(port);
 544:Lib/soes/src/esc_eoe.c ****       frameinfo1 |= EOE_HDR_FRAME_TYPE_SET(EOE_GET_IP_PARAM_RESP);
 545:Lib/soes/src/esc_eoe.c ****       frameinfo1 |= EOE_HDR_LAST_FRAGMENT;
 546:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 547:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo2 = 0;
 548:Lib/soes/src/esc_eoe.c **** 
 549:Lib/soes/src/esc_eoe.c ****       /* include mac in get ip request */
 550:Lib/soes/src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 551:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 552:Lib/soes/src/esc_eoe.c ****       {
 553:Lib/soes/src/esc_eoe.c ****          flags |= EOE_PARAM_MAC_INCLUDE;
 554:Lib/soes/src/esc_eoe.c ****          memcpy(&eoembx->data[data_offset] ,
 555:Lib/soes/src/esc_eoe.c ****                nic_ports[port_ix].mac.addr,
 556:Lib/soes/src/esc_eoe.c ****                EOE_ETHADDR_LENGTH);
 557:Lib/soes/src/esc_eoe.c ****          /* Add size of mac address */
 558:Lib/soes/src/esc_eoe.c ****          data_offset += EOE_ETHADDR_LENGTH;
 559:Lib/soes/src/esc_eoe.c **** 
 560:Lib/soes/src/esc_eoe.c ****       }
 561:Lib/soes/src/esc_eoe.c ****       /* include ip in get ip request */
 562:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].ip_set)
 563:Lib/soes/src/esc_eoe.c ****       {
 564:Lib/soes/src/esc_eoe.c ****          flags |= EOE_PARAM_IP_INCLUDE;
 565:Lib/soes/src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].ip,
 566:Lib/soes/src/esc_eoe.c ****                &eoembx->data[data_offset]);
 567:Lib/soes/src/esc_eoe.c ****          /* Add size of uint32 IP address */
 568:Lib/soes/src/esc_eoe.c ****          data_offset += EOE_IP4_LENGTH;
 569:Lib/soes/src/esc_eoe.c ****       }
 570:Lib/soes/src/esc_eoe.c **** 
 571:Lib/soes/src/esc_eoe.c ****       /* include subnet in get ip request */
 572:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].subnet_set)
 573:Lib/soes/src/esc_eoe.c ****       {
 574:Lib/soes/src/esc_eoe.c ****          flags |= EOE_PARAM_SUBNET_IP_INCLUDE;
 575:Lib/soes/src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].subnet,
 576:Lib/soes/src/esc_eoe.c ****                &eoembx->data[data_offset]);
 577:Lib/soes/src/esc_eoe.c ****          /* Add size of uint32 IP address */
 578:Lib/soes/src/esc_eoe.c ****          data_offset += EOE_IP4_LENGTH;
 579:Lib/soes/src/esc_eoe.c ****       }
 580:Lib/soes/src/esc_eoe.c **** 
 581:Lib/soes/src/esc_eoe.c ****       /* include default gateway in get ip request */
 582:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].default_gateway_set)
 583:Lib/soes/src/esc_eoe.c ****       {
 584:Lib/soes/src/esc_eoe.c ****          flags |= EOE_PARAM_DEFAULT_GATEWAY_INCLUDE;
 585:Lib/soes/src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].default_gateway,
ARM GAS  /tmp/ccKy4lrp.s 			page 13


 586:Lib/soes/src/esc_eoe.c ****                &eoembx->data[data_offset]);
 587:Lib/soes/src/esc_eoe.c ****          /* Add size of uint32 IP address */
 588:Lib/soes/src/esc_eoe.c ****          data_offset += EOE_IP4_LENGTH;
 589:Lib/soes/src/esc_eoe.c ****       }
 590:Lib/soes/src/esc_eoe.c ****       /* include dns ip in get ip request */
 591:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].dns_ip_set)
 592:Lib/soes/src/esc_eoe.c ****       {
 593:Lib/soes/src/esc_eoe.c ****          flags |= EOE_PARAM_DNS_IP_INCLUDE;
 594:Lib/soes/src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].dns_ip,
 595:Lib/soes/src/esc_eoe.c ****                &eoembx->data[data_offset]);
 596:Lib/soes/src/esc_eoe.c ****          /* Add size of uint32 IP address */
 597:Lib/soes/src/esc_eoe.c ****          data_offset += EOE_IP4_LENGTH;
 598:Lib/soes/src/esc_eoe.c ****       }
 599:Lib/soes/src/esc_eoe.c **** 
 600:Lib/soes/src/esc_eoe.c ****       /* include dns name in get ip request */
 601:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].dns_name_set)
 602:Lib/soes/src/esc_eoe.c ****       {
 603:Lib/soes/src/esc_eoe.c ****          /* TwinCAT include EOE_DNS_NAME_LENGTH chars even if name is shorter */
 604:Lib/soes/src/esc_eoe.c ****          flags |= EOE_PARAM_DNS_NAME_INCLUDE;
 605:Lib/soes/src/esc_eoe.c ****          memcpy(&eoembx->data[data_offset],
 606:Lib/soes/src/esc_eoe.c ****                nic_ports[port_ix].dns_name,
 607:Lib/soes/src/esc_eoe.c ****                EOE_DNS_NAME_LENGTH);
 608:Lib/soes/src/esc_eoe.c ****          /* Add size of dns name length */
 609:Lib/soes/src/esc_eoe.c ****          data_offset += EOE_DNS_NAME_LENGTH;
 610:Lib/soes/src/esc_eoe.c ****       }
 611:Lib/soes/src/esc_eoe.c **** 
 612:Lib/soes/src/esc_eoe.c ****       eoembx->data[0] = flags;
 613:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE + data_offset);
 614:Lib/soes/src/esc_eoe.c ****    }
 615:Lib/soes/src/esc_eoe.c **** }
 616:Lib/soes/src/esc_eoe.c **** 
 617:Lib/soes/src/esc_eoe.c **** /** EoE set IP param request handler. Will send a set IP param response.
 618:Lib/soes/src/esc_eoe.c ****  */
 619:Lib/soes/src/esc_eoe.c **** static void EOE_set_ip (void)
 620:Lib/soes/src/esc_eoe.c **** {
 621:Lib/soes/src/esc_eoe.c ****    _EOE *eoembx;
 622:Lib/soes/src/esc_eoe.c ****    uint32_t eoedatasize, data_offset;
 623:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo1;
 624:Lib/soes/src/esc_eoe.c ****    uint8_t port;
 625:Lib/soes/src/esc_eoe.c ****    uint8_t  flags;
 626:Lib/soes/src/esc_eoe.c ****    uint16_t result;
 627:Lib/soes/src/esc_eoe.c ****    int port_ix;
 628:Lib/soes/src/esc_eoe.c **** 
 629:Lib/soes/src/esc_eoe.c ****    eoembx = (_EOE *) &MBX[0];
 630:Lib/soes/src/esc_eoe.c ****    eoedatasize = etohs(eoembx->mbxheader.length) - ESC_EOEHSIZE;
 631:Lib/soes/src/esc_eoe.c ****    frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
 632:Lib/soes/src/esc_eoe.c ****    port = EOE_HDR_FRAME_PORT_GET(frameinfo1);
 633:Lib/soes/src/esc_eoe.c ****    flags = eoembx->data[0];
 634:Lib/soes/src/esc_eoe.c ****    data_offset = EOE_PARAM_OFFSET;
 635:Lib/soes/src/esc_eoe.c **** 
 636:Lib/soes/src/esc_eoe.c ****    if(port  > EOE_NUMBER_OF_PORTS)
 637:Lib/soes/src/esc_eoe.c ****    {
 638:Lib/soes/src/esc_eoe.c ****       DPRINT("Invalid port\n");
 639:Lib/soes/src/esc_eoe.c ****       /* Return error response on given port */
 640:Lib/soes/src/esc_eoe.c ****       frameinfo1 = EOE_HDR_FRAME_PORT_SET(port);
 641:Lib/soes/src/esc_eoe.c ****       frameinfo1 |= EOE_INIT_RESP;
 642:Lib/soes/src/esc_eoe.c ****       frameinfo1 |= EOE_HDR_LAST_FRAGMENT;
ARM GAS  /tmp/ccKy4lrp.s 			page 14


 643:Lib/soes/src/esc_eoe.c ****       EOE_no_data_response(frameinfo1, EOE_RESULT_UNSPECIFIED_ERROR);
 644:Lib/soes/src/esc_eoe.c ****       return;
 645:Lib/soes/src/esc_eoe.c ****    }
 646:Lib/soes/src/esc_eoe.c **** 
 647:Lib/soes/src/esc_eoe.c ****    /* mac included in set ip request? */
 648:Lib/soes/src/esc_eoe.c ****    port_ix = EOE_PORT_INDEX(port);
 649:Lib/soes/src/esc_eoe.c ****    if(flags & EOE_PARAM_MAC_INCLUDE)
 650:Lib/soes/src/esc_eoe.c ****    {
 651:Lib/soes/src/esc_eoe.c ****       memcpy(&nic_ports[port_ix].mac.addr,
 652:Lib/soes/src/esc_eoe.c ****             &eoembx->data[data_offset],
 653:Lib/soes/src/esc_eoe.c ****             EOE_ETHADDR_LENGTH);
 654:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].mac_set = 1;
 655:Lib/soes/src/esc_eoe.c ****       /* Add size of mac address */
 656:Lib/soes/src/esc_eoe.c ****       data_offset += EOE_ETHADDR_LENGTH;
 657:Lib/soes/src/esc_eoe.c ****    }
 658:Lib/soes/src/esc_eoe.c ****    /* ip included in set ip request? */
 659:Lib/soes/src/esc_eoe.c ****    if(flags & EOE_PARAM_IP_INCLUDE)
 660:Lib/soes/src/esc_eoe.c ****    {
 661:Lib/soes/src/esc_eoe.c ****       EOE_ip_byte_to_uint32(&eoembx->data[data_offset],
 662:Lib/soes/src/esc_eoe.c ****             &nic_ports[port_ix].ip);
 663:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].ip_set = 1;
 664:Lib/soes/src/esc_eoe.c ****       /* Add size of uint32 IP address */
 665:Lib/soes/src/esc_eoe.c ****       data_offset += EOE_IP4_LENGTH;
 666:Lib/soes/src/esc_eoe.c ****    }
 667:Lib/soes/src/esc_eoe.c ****    /* subnet included in set ip request? */
 668:Lib/soes/src/esc_eoe.c ****    if(flags & EOE_PARAM_SUBNET_IP_INCLUDE)
 669:Lib/soes/src/esc_eoe.c ****    {
 670:Lib/soes/src/esc_eoe.c ****       EOE_ip_byte_to_uint32(&eoembx->data[data_offset],
 671:Lib/soes/src/esc_eoe.c ****             &nic_ports[port_ix].subnet);
 672:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].subnet_set = 1;
 673:Lib/soes/src/esc_eoe.c ****       /* Add size of uint32 IP address */
 674:Lib/soes/src/esc_eoe.c ****       data_offset += EOE_IP4_LENGTH;
 675:Lib/soes/src/esc_eoe.c ****    }
 676:Lib/soes/src/esc_eoe.c ****    /* default gateway included in set ip request? */
 677:Lib/soes/src/esc_eoe.c ****    if(flags & EOE_PARAM_DEFAULT_GATEWAY_INCLUDE)
 678:Lib/soes/src/esc_eoe.c ****    {
 679:Lib/soes/src/esc_eoe.c ****       EOE_ip_byte_to_uint32(&eoembx->data[data_offset],
 680:Lib/soes/src/esc_eoe.c ****             &nic_ports[port_ix].default_gateway);
 681:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].default_gateway_set = 1;
 682:Lib/soes/src/esc_eoe.c ****       /* Add size of uint32 IP address */
 683:Lib/soes/src/esc_eoe.c ****       data_offset += EOE_IP4_LENGTH;
 684:Lib/soes/src/esc_eoe.c ****    }
 685:Lib/soes/src/esc_eoe.c ****    /* dns ip included in set ip request? */
 686:Lib/soes/src/esc_eoe.c ****    if(flags & EOE_PARAM_DNS_IP_INCLUDE)
 687:Lib/soes/src/esc_eoe.c ****    {
 688:Lib/soes/src/esc_eoe.c ****       EOE_ip_byte_to_uint32(&eoembx->data[data_offset],
 689:Lib/soes/src/esc_eoe.c ****             &nic_ports[port_ix].dns_ip);
 690:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].dns_ip_set = 1;
 691:Lib/soes/src/esc_eoe.c ****       /* Add size of uint32 IP address */
 692:Lib/soes/src/esc_eoe.c ****       data_offset += EOE_IP4_LENGTH;
 693:Lib/soes/src/esc_eoe.c ****    }
 694:Lib/soes/src/esc_eoe.c ****    /* dns name included in set ip request? */
 695:Lib/soes/src/esc_eoe.c ****    if(flags & EOE_PARAM_DNS_NAME_INCLUDE)
 696:Lib/soes/src/esc_eoe.c ****    {
 697:Lib/soes/src/esc_eoe.c ****       uint32_t dns_len = MIN((eoedatasize - data_offset), EOE_DNS_NAME_LENGTH);
 698:Lib/soes/src/esc_eoe.c ****       memcpy(nic_ports[port_ix].dns_name,
 699:Lib/soes/src/esc_eoe.c ****             &eoembx->data[data_offset],
ARM GAS  /tmp/ccKy4lrp.s 			page 15


 700:Lib/soes/src/esc_eoe.c ****             dns_len);
 701:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].dns_name_set = 1;
 702:Lib/soes/src/esc_eoe.c ****       data_offset += dns_len; /* expected 1- EOE_DNS_NAME_LENGTH; */
 703:Lib/soes/src/esc_eoe.c ****    }
 704:Lib/soes/src/esc_eoe.c **** 
 705:Lib/soes/src/esc_eoe.c ****    if(data_offset > eoedatasize)
 706:Lib/soes/src/esc_eoe.c ****    {
 707:Lib/soes/src/esc_eoe.c ****       result = MBXERR_SIZETOOSHORT;
 708:Lib/soes/src/esc_eoe.c ****    }
 709:Lib/soes/src/esc_eoe.c ****    else
 710:Lib/soes/src/esc_eoe.c ****    {
 711:Lib/soes/src/esc_eoe.c ****       /* Application specific store settings function. From there
 712:Lib/soes/src/esc_eoe.c ****        * you typically set the IP for the TCP/IP stack */
 713:Lib/soes/src/esc_eoe.c ****       if(eoe_cfg->store_ethernet_settings != NULL)
 714:Lib/soes/src/esc_eoe.c ****       {
 715:Lib/soes/src/esc_eoe.c ****          result = (uint16_t)eoe_cfg->store_ethernet_settings();
 716:Lib/soes/src/esc_eoe.c ****       }
 717:Lib/soes/src/esc_eoe.c ****       else
 718:Lib/soes/src/esc_eoe.c ****       {
 719:Lib/soes/src/esc_eoe.c ****          result = EOE_RESULT_NO_IP_SUPPORT;
 720:Lib/soes/src/esc_eoe.c ****       }
 721:Lib/soes/src/esc_eoe.c ****    }
 722:Lib/soes/src/esc_eoe.c ****    frameinfo1 = EOE_HDR_FRAME_PORT_SET(port);
 723:Lib/soes/src/esc_eoe.c ****    frameinfo1 |= EOE_INIT_RESP;
 724:Lib/soes/src/esc_eoe.c ****    frameinfo1 |= EOE_HDR_LAST_FRAGMENT;
 725:Lib/soes/src/esc_eoe.c ****    EOE_no_data_response(frameinfo1, result);
 726:Lib/soes/src/esc_eoe.c **** }
 727:Lib/soes/src/esc_eoe.c **** 
 728:Lib/soes/src/esc_eoe.c **** /** EoE receive fragment handler.
 729:Lib/soes/src/esc_eoe.c ****  */
 730:Lib/soes/src/esc_eoe.c **** static void EOE_receive_fragment (void)
 731:Lib/soes/src/esc_eoe.c **** {
 732:Lib/soes/src/esc_eoe.c ****    _EOE *eoembx;
 733:Lib/soes/src/esc_eoe.c ****    eoembx = (_EOE *) &MBX[0];
 734:Lib/soes/src/esc_eoe.c ****    uint32_t eoedatasize = etohs(eoembx->mbxheader.length) - ESC_EOEHSIZE;
 735:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
 736:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo2 = etohs(eoembx->eoeheader.frameinfo2);
 737:Lib/soes/src/esc_eoe.c **** 
 738:Lib/soes/src/esc_eoe.c ****    /* Capture error case */
 739:Lib/soes/src/esc_eoe.c ****    if(EOEvar.rxfragmentno != EOE_HDR_FRAG_NO_GET(frameinfo2))
 740:Lib/soes/src/esc_eoe.c ****    {
 741:Lib/soes/src/esc_eoe.c ****       DPRINT("Unexpected fragment number %"PRIu32", expected: %"PRIu32"\n",
 742:Lib/soes/src/esc_eoe.c ****             EOE_HDR_FRAG_NO_GET(frameinfo2), EOEvar.rxfragmentno);
 743:Lib/soes/src/esc_eoe.c ****       /* Clean up existing saved data */
 744:Lib/soes/src/esc_eoe.c ****       if(EOEvar.rxfragmentno != 0)
 745:Lib/soes/src/esc_eoe.c ****       {
 746:Lib/soes/src/esc_eoe.c ****          EOE_init_rx();
 747:Lib/soes/src/esc_eoe.c ****       }
 748:Lib/soes/src/esc_eoe.c ****       /* Skip fragment if not start of new frame */
 749:Lib/soes/src/esc_eoe.c ****       if(EOE_HDR_FRAG_NO_GET(frameinfo2) > 0)
 750:Lib/soes/src/esc_eoe.c ****       {
 751:Lib/soes/src/esc_eoe.c ****          return;
 752:Lib/soes/src/esc_eoe.c ****       }
 753:Lib/soes/src/esc_eoe.c ****    }
 754:Lib/soes/src/esc_eoe.c **** 
 755:Lib/soes/src/esc_eoe.c ****    /* Start of new frame at fragment 0 */
 756:Lib/soes/src/esc_eoe.c ****    if(EOEvar.rxfragmentno == 0)
ARM GAS  /tmp/ccKy4lrp.s 			page 16


 757:Lib/soes/src/esc_eoe.c ****    {
 758:Lib/soes/src/esc_eoe.c ****       EOEvar.rxframesize = (EOE_HDR_FRAME_OFFSET_GET(frameinfo2) << 5);
 759:Lib/soes/src/esc_eoe.c **** 
 760:Lib/soes/src/esc_eoe.c ****       if(EOEvar.rxebuf.payload != NULL)
 761:Lib/soes/src/esc_eoe.c ****       {
 762:Lib/soes/src/esc_eoe.c ****          EOEvar.rxebuf.len = EOEvar.rxframesize;
 763:Lib/soes/src/esc_eoe.c ****          EOEvar.rxframeoffset = 0;
 764:Lib/soes/src/esc_eoe.c ****          EOEvar.rxframeno = EOE_HDR_FRAME_NO_GET(frameinfo2);
 765:Lib/soes/src/esc_eoe.c ****       }
 766:Lib/soes/src/esc_eoe.c ****       else
 767:Lib/soes/src/esc_eoe.c ****       {
 768:Lib/soes/src/esc_eoe.c ****          DPRINT("Receive buffer is invalid\n");
 769:Lib/soes/src/esc_eoe.c ****          EOE_init_rx ();
 770:Lib/soes/src/esc_eoe.c ****          return;
 771:Lib/soes/src/esc_eoe.c ****       }
 772:Lib/soes/src/esc_eoe.c ****    }
 773:Lib/soes/src/esc_eoe.c ****    /* In frame fragment received */
 774:Lib/soes/src/esc_eoe.c ****    else
 775:Lib/soes/src/esc_eoe.c ****    {
 776:Lib/soes/src/esc_eoe.c ****       uint32_t offset = (EOE_HDR_FRAME_OFFSET_GET(frameinfo2) << 5);
 777:Lib/soes/src/esc_eoe.c ****       /* Validate received fragment */
 778:Lib/soes/src/esc_eoe.c ****       if(EOEvar.rxframeno != EOE_HDR_FRAME_NO_GET(frameinfo2))
 779:Lib/soes/src/esc_eoe.c ****       {
 780:Lib/soes/src/esc_eoe.c ****          DPRINT("Unexpected frame number %"PRIu32", expected: %"PRIu32"\n",
 781:Lib/soes/src/esc_eoe.c ****                EOE_HDR_FRAME_NO_GET(frameinfo2), EOEvar.rxframeno);
 782:Lib/soes/src/esc_eoe.c ****          EOE_init_rx ();
 783:Lib/soes/src/esc_eoe.c ****          return;
 784:Lib/soes/src/esc_eoe.c ****       }
 785:Lib/soes/src/esc_eoe.c ****       else if(EOEvar.rxframeoffset != offset)
 786:Lib/soes/src/esc_eoe.c ****       {
 787:Lib/soes/src/esc_eoe.c ****          DPRINT("Unexpected frame offset %"PRIu32", expected: %"PRIu32"\n",
 788:Lib/soes/src/esc_eoe.c ****                offset, EOEvar.rxframeoffset);
 789:Lib/soes/src/esc_eoe.c ****          EOE_init_rx ();
 790:Lib/soes/src/esc_eoe.c ****          return;
 791:Lib/soes/src/esc_eoe.c ****       }
 792:Lib/soes/src/esc_eoe.c ****    }
 793:Lib/soes/src/esc_eoe.c **** 
 794:Lib/soes/src/esc_eoe.c ****    /* Check so allocated buffer is sufficient */
 795:Lib/soes/src/esc_eoe.c ****    if ((EOEvar.rxframeoffset + eoedatasize) <= EOEvar.rxframesize)
 796:Lib/soes/src/esc_eoe.c ****    {
 797:Lib/soes/src/esc_eoe.c ****       memcpy((uint8_t *)(EOEvar.rxebuf.payload + EOEvar.rxframeoffset),
 798:Lib/soes/src/esc_eoe.c ****             eoembx->data,
 799:Lib/soes/src/esc_eoe.c ****             eoedatasize);
 800:Lib/soes/src/esc_eoe.c ****       EOEvar.rxframeoffset += eoedatasize;
 801:Lib/soes/src/esc_eoe.c ****       EOEvar.rxfragmentno++;
 802:Lib/soes/src/esc_eoe.c ****    }
 803:Lib/soes/src/esc_eoe.c ****    else
 804:Lib/soes/src/esc_eoe.c ****    {
 805:Lib/soes/src/esc_eoe.c ****       DPRINT("Size of data exceed available buffer size\n");
 806:Lib/soes/src/esc_eoe.c ****       EOE_init_rx ();
 807:Lib/soes/src/esc_eoe.c ****       return;
 808:Lib/soes/src/esc_eoe.c ****    }
 809:Lib/soes/src/esc_eoe.c **** 
 810:Lib/soes/src/esc_eoe.c ****    if(EOE_HDR_LAST_FRAGMENT_GET(frameinfo1))
 811:Lib/soes/src/esc_eoe.c ****    {
 812:Lib/soes/src/esc_eoe.c ****       /* Remove time stamp, TODO support for time stamp? */
 813:Lib/soes/src/esc_eoe.c ****       if(EOE_HDR_TIME_APPEND_GET(frameinfo1))
ARM GAS  /tmp/ccKy4lrp.s 			page 17


 814:Lib/soes/src/esc_eoe.c ****       {
 815:Lib/soes/src/esc_eoe.c ****          EOEvar.rxframeoffset -= 4U;
 816:Lib/soes/src/esc_eoe.c ****       }
 817:Lib/soes/src/esc_eoe.c ****       EOEvar.rxebuf.len =  EOEvar.rxframeoffset;
 818:Lib/soes/src/esc_eoe.c ****       eoe_cfg->handle_recv_buffer(EOE_HDR_FRAME_PORT_GET(frameinfo1),
 819:Lib/soes/src/esc_eoe.c ****             &EOEvar.rxebuf);
 820:Lib/soes/src/esc_eoe.c ****       /* Pass ownership of buf to receive function */
 821:Lib/soes/src/esc_eoe.c ****       EOEvar.rxebuf.payload = NULL;
 822:Lib/soes/src/esc_eoe.c ****       EOE_init_rx ();
 823:Lib/soes/src/esc_eoe.c ****    }
 824:Lib/soes/src/esc_eoe.c **** }
 825:Lib/soes/src/esc_eoe.c **** 
 826:Lib/soes/src/esc_eoe.c **** /** EoE send fragment handler.
 827:Lib/soes/src/esc_eoe.c ****  */
 828:Lib/soes/src/esc_eoe.c **** static void EOE_send_fragment ()
 829:Lib/soes/src/esc_eoe.c **** {
 830:Lib/soes/src/esc_eoe.c ****    _EOE *eoembx;
 831:Lib/soes/src/esc_eoe.c ****    uint8_t mbxhandle;
 832:Lib/soes/src/esc_eoe.c ****    int len;
 833:Lib/soes/src/esc_eoe.c ****    uint32_t len_to_send;
 834:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo1;
 835:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo2;
 836:Lib/soes/src/esc_eoe.c ****    static uint8_t frameno = 0;
 837:Lib/soes/src/esc_eoe.c **** 
 838:Lib/soes/src/esc_eoe.c ****    /* Do we have a current transfer on-going */
 839:Lib/soes/src/esc_eoe.c ****    if(EOEvar.txebuf.payload == NULL)
 840:Lib/soes/src/esc_eoe.c ****    {
 841:Lib/soes/src/esc_eoe.c ****       /* Fetch a buffer if available */
 842:Lib/soes/src/esc_eoe.c ****       len = eoe_cfg->fetch_send_buffer(0, &EOEvar.txebuf);
 843:Lib/soes/src/esc_eoe.c ****       if(len > 0)
 844:Lib/soes/src/esc_eoe.c ****       {
 845:Lib/soes/src/esc_eoe.c ****          EOEvar.txframesize = (uint32_t)len;
 846:Lib/soes/src/esc_eoe.c ****       }
 847:Lib/soes/src/esc_eoe.c ****       else
 848:Lib/soes/src/esc_eoe.c ****       {
 849:Lib/soes/src/esc_eoe.c ****          return;
 850:Lib/soes/src/esc_eoe.c ****       }
 851:Lib/soes/src/esc_eoe.c ****    }
 852:Lib/soes/src/esc_eoe.c **** 
 853:Lib/soes/src/esc_eoe.c ****    /* Process the frame if we can get a free mailbox */
 854:Lib/soes/src/esc_eoe.c ****    mbxhandle = ESC_claimbuffer ();
 855:Lib/soes/src/esc_eoe.c ****    if (mbxhandle)
 856:Lib/soes/src/esc_eoe.c ****    {
 857:Lib/soes/src/esc_eoe.c ****       len_to_send = (EOEvar.txframesize - EOEvar.txframeoffset);
 858:Lib/soes/src/esc_eoe.c ****       if((len_to_send + ESC_EOEHSIZE + ESC_MBXHSIZE) > ESC_MBXSIZE)
 859:Lib/soes/src/esc_eoe.c ****       {
 860:Lib/soes/src/esc_eoe.c ****          /* Adjust to len in whole 32 octet blocks to fit specification*/
 861:Lib/soes/src/esc_eoe.c ****          len_to_send =
 862:Lib/soes/src/esc_eoe.c ****                (((ESC_MBXSIZE - ESC_EOEHSIZE - ESC_MBXHSIZE) >> 5) << 5);
 863:Lib/soes/src/esc_eoe.c ****       }
 864:Lib/soes/src/esc_eoe.c **** 
 865:Lib/soes/src/esc_eoe.c ****       /* TODO: port handling? */
 866:Lib/soes/src/esc_eoe.c ****       if(len_to_send == (EOEvar.txframesize - EOEvar.txframeoffset))
 867:Lib/soes/src/esc_eoe.c ****       {
 868:Lib/soes/src/esc_eoe.c ****          frameinfo1 = EOE_HDR_LAST_FRAGMENT_SET(1);
 869:Lib/soes/src/esc_eoe.c ****       }
 870:Lib/soes/src/esc_eoe.c ****       else
ARM GAS  /tmp/ccKy4lrp.s 			page 18


 871:Lib/soes/src/esc_eoe.c ****       {
 872:Lib/soes/src/esc_eoe.c ****          frameinfo1 = 0;
 873:Lib/soes/src/esc_eoe.c ****       }
 874:Lib/soes/src/esc_eoe.c **** 
 875:Lib/soes/src/esc_eoe.c ****       uint16_t tempframe2;
 876:Lib/soes/src/esc_eoe.c ****       /* Set fragment number */
 877:Lib/soes/src/esc_eoe.c ****       frameinfo2 = EOE_HDR_FRAG_NO_SET(EOEvar.txfragmentno);
 878:Lib/soes/src/esc_eoe.c **** 
 879:Lib/soes/src/esc_eoe.c ****       /* Set complete size for fragment 0 or offset for in frame fragments */
 880:Lib/soes/src/esc_eoe.c ****       if(EOEvar.txfragmentno > 0)
 881:Lib/soes/src/esc_eoe.c ****       {
 882:Lib/soes/src/esc_eoe.c ****          tempframe2 = EOE_HDR_FRAME_OFFSET_SET((EOEvar.txframeoffset >> 5));
 883:Lib/soes/src/esc_eoe.c ****          frameinfo2 |= tempframe2;
 884:Lib/soes/src/esc_eoe.c ****       }
 885:Lib/soes/src/esc_eoe.c ****       else
 886:Lib/soes/src/esc_eoe.c ****       {
 887:Lib/soes/src/esc_eoe.c ****          tempframe2 = EOE_HDR_FRAME_OFFSET_SET(((EOEvar.txframesize + 31) >> 5));
 888:Lib/soes/src/esc_eoe.c ****          frameinfo2 |= tempframe2;
 889:Lib/soes/src/esc_eoe.c ****          frameno++;
 890:Lib/soes/src/esc_eoe.c ****       }
 891:Lib/soes/src/esc_eoe.c **** 
 892:Lib/soes/src/esc_eoe.c ****       /* Set frame number */
 893:Lib/soes/src/esc_eoe.c ****       tempframe2 = EOE_HDR_FRAME_NO_SET(frameno);
 894:Lib/soes/src/esc_eoe.c ****       frameinfo2 |= tempframe2;
 895:Lib/soes/src/esc_eoe.c **** 
 896:Lib/soes/src/esc_eoe.c ****       eoembx = (_EOE *) &MBX[mbxhandle * ESC_MBXSIZE];
 897:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (len_to_send + ESC_EOEHSIZE);
 898:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 899:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 900:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo2 = htoes(frameinfo2);
 901:Lib/soes/src/esc_eoe.c **** 
 902:Lib/soes/src/esc_eoe.c ****       /* Copy data to mailbox */
 903:Lib/soes/src/esc_eoe.c ****       memcpy(eoembx->data,
 904:Lib/soes/src/esc_eoe.c ****             &EOEvar.txebuf.payload[EOEvar.txframeoffset],
 905:Lib/soes/src/esc_eoe.c ****             len_to_send);
 906:Lib/soes/src/esc_eoe.c ****       MBXcontrol[mbxhandle].state = MBXstate_outreq;
 907:Lib/soes/src/esc_eoe.c **** 
 908:Lib/soes/src/esc_eoe.c ****       /* Did we complete the frame? */
 909:Lib/soes/src/esc_eoe.c ****       if(len_to_send == (EOEvar.txframesize - EOEvar.txframeoffset))
 910:Lib/soes/src/esc_eoe.c ****       {
 911:Lib/soes/src/esc_eoe.c ****          EOE_init_tx ();
 912:Lib/soes/src/esc_eoe.c ****       }
 913:Lib/soes/src/esc_eoe.c ****       else
 914:Lib/soes/src/esc_eoe.c ****       {
 915:Lib/soes/src/esc_eoe.c ****          EOEvar.txframeoffset += len_to_send;
 916:Lib/soes/src/esc_eoe.c ****          EOEvar.txfragmentno++;
 917:Lib/soes/src/esc_eoe.c ****       }
 918:Lib/soes/src/esc_eoe.c ****       if(eoe_cfg->fragment_sent_event != NULL)
 919:Lib/soes/src/esc_eoe.c ****       {
 920:Lib/soes/src/esc_eoe.c ****          eoe_cfg->fragment_sent_event();
 921:Lib/soes/src/esc_eoe.c ****       }
 922:Lib/soes/src/esc_eoe.c ****    }
 923:Lib/soes/src/esc_eoe.c **** }
 924:Lib/soes/src/esc_eoe.c **** 
 925:Lib/soes/src/esc_eoe.c **** /** Initialize by clearing all current status variables and fetch new buffer.
 926:Lib/soes/src/esc_eoe.c ****  */
 927:Lib/soes/src/esc_eoe.c **** static void EOE_init_rx ()
ARM GAS  /tmp/ccKy4lrp.s 			page 19


 928:Lib/soes/src/esc_eoe.c **** {
 105              		.loc 1 928 1 is_stmt 1 view -0
 106              		.cfi_startproc
 107              		@ args = 0, pretend = 0, frame = 0
 108              		@ frame_needed = 0, uses_anonymous_args = 0
 109 0000 08B5     		push	{r3, lr}
 110              		.cfi_def_cfa_offset 8
 111              		.cfi_offset 3, -8
 112              		.cfi_offset 14, -4
 929:Lib/soes/src/esc_eoe.c ****    /* Reset RX transfer status variables */
 930:Lib/soes/src/esc_eoe.c ****    EOEvar.rxfragmentno = 0;
 113              		.loc 1 930 4 view .LVU19
 114              		.loc 1 930 24 is_stmt 0 view .LVU20
 115 0002 084B     		ldr	r3, .L7
 116 0004 0022     		movs	r2, #0
 117 0006 1A76     		strb	r2, [r3, #24]
 931:Lib/soes/src/esc_eoe.c ****    EOEvar.rxframesize = 0;
 118              		.loc 1 931 4 is_stmt 1 view .LVU21
 119              		.loc 1 931 23 is_stmt 0 view .LVU22
 120 0008 DA61     		str	r2, [r3, #28]
 932:Lib/soes/src/esc_eoe.c ****    EOEvar.rxframeoffset = 0;
 121              		.loc 1 932 4 is_stmt 1 view .LVU23
 122              		.loc 1 932 25 is_stmt 0 view .LVU24
 123 000a 1A62     		str	r2, [r3, #32]
 933:Lib/soes/src/esc_eoe.c ****    EOEvar.rxframeno = 0;
 124              		.loc 1 933 4 is_stmt 1 view .LVU25
 125              		.loc 1 933 21 is_stmt 0 view .LVU26
 126 000c 9A84     		strh	r2, [r3, #36]	@ movhi
 934:Lib/soes/src/esc_eoe.c **** 
 935:Lib/soes/src/esc_eoe.c ****    /* Fetch buffer */
 936:Lib/soes/src/esc_eoe.c ****    if(EOEvar.rxebuf.payload == NULL)
 127              		.loc 1 936 4 is_stmt 1 view .LVU27
 128              		.loc 1 936 20 is_stmt 0 view .LVU28
 129 000e 5B68     		ldr	r3, [r3, #4]
 130              		.loc 1 936 6 view .LVU29
 131 0010 03B1     		cbz	r3, .L6
 132              	.L3:
 937:Lib/soes/src/esc_eoe.c ****    {
 938:Lib/soes/src/esc_eoe.c ****       if(eoe_cfg->get_buffer != NULL)
 939:Lib/soes/src/esc_eoe.c ****       {
 940:Lib/soes/src/esc_eoe.c ****          /* TODO: verify size VS buffer size */
 941:Lib/soes/src/esc_eoe.c ****          eoe_cfg->get_buffer(&EOEvar.rxebuf);
 942:Lib/soes/src/esc_eoe.c ****       }
 943:Lib/soes/src/esc_eoe.c ****    }
 944:Lib/soes/src/esc_eoe.c **** }
 133              		.loc 1 944 1 view .LVU30
 134 0012 08BD     		pop	{r3, pc}
 135              	.L6:
 938:Lib/soes/src/esc_eoe.c ****       {
 136              		.loc 1 938 7 is_stmt 1 view .LVU31
 938:Lib/soes/src/esc_eoe.c ****       {
 137              		.loc 1 938 17 is_stmt 0 view .LVU32
 138 0014 044B     		ldr	r3, .L7+4
 139 0016 1B68     		ldr	r3, [r3]
 140 0018 1B68     		ldr	r3, [r3]
 938:Lib/soes/src/esc_eoe.c ****       {
 141              		.loc 1 938 9 view .LVU33
ARM GAS  /tmp/ccKy4lrp.s 			page 20


 142 001a 002B     		cmp	r3, #0
 143 001c F9D0     		beq	.L3
 941:Lib/soes/src/esc_eoe.c ****       }
 144              		.loc 1 941 10 is_stmt 1 view .LVU34
 145 001e 0148     		ldr	r0, .L7
 146 0020 9847     		blx	r3
 147              	.LVL3:
 148              		.loc 1 944 1 is_stmt 0 view .LVU35
 149 0022 F6E7     		b	.L3
 150              	.L8:
 151              		.align	2
 152              	.L7:
 153 0024 00000000 		.word	.LANCHOR0
 154 0028 00000000 		.word	.LANCHOR1
 155              		.cfi_endproc
 156              	.LFE19:
 158              		.section	.text.EOE_init_tx,"ax",%progbits
 159              		.align	1
 160              		.syntax unified
 161              		.thumb
 162              		.thumb_func
 164              	EOE_init_tx:
 165              	.LFB20:
 945:Lib/soes/src/esc_eoe.c **** 
 946:Lib/soes/src/esc_eoe.c **** /** Initialize by clearing all current status variables and release old buffer.
 947:Lib/soes/src/esc_eoe.c ****  */
 948:Lib/soes/src/esc_eoe.c **** static void EOE_init_tx ()
 949:Lib/soes/src/esc_eoe.c **** {
 166              		.loc 1 949 1 is_stmt 1 view -0
 167              		.cfi_startproc
 168              		@ args = 0, pretend = 0, frame = 0
 169              		@ frame_needed = 0, uses_anonymous_args = 0
 950:Lib/soes/src/esc_eoe.c ****    /* Reset TX transfer status variables */
 951:Lib/soes/src/esc_eoe.c ****    EOEvar.txfragmentno = 0;
 170              		.loc 1 951 4 view .LVU37
 171              		.loc 1 951 24 is_stmt 0 view .LVU38
 172 0000 0B4B     		ldr	r3, .L15
 173 0002 0022     		movs	r2, #0
 174 0004 83F82620 		strb	r2, [r3, #38]
 952:Lib/soes/src/esc_eoe.c ****    EOEvar.txframesize = 0;
 175              		.loc 1 952 4 is_stmt 1 view .LVU39
 176              		.loc 1 952 23 is_stmt 0 view .LVU40
 177 0008 9A62     		str	r2, [r3, #40]
 953:Lib/soes/src/esc_eoe.c ****    EOEvar.txframeoffset = 0;
 178              		.loc 1 953 4 is_stmt 1 view .LVU41
 179              		.loc 1 953 25 is_stmt 0 view .LVU42
 180 000a DA62     		str	r2, [r3, #44]
 954:Lib/soes/src/esc_eoe.c **** 
 955:Lib/soes/src/esc_eoe.c ****    /* Release what seems as an abandoned buffer */
 956:Lib/soes/src/esc_eoe.c ****    if((EOEvar.txebuf.payload != NULL))
 181              		.loc 1 956 4 is_stmt 1 view .LVU43
 182              		.loc 1 956 21 is_stmt 0 view .LVU44
 183 000c 1B69     		ldr	r3, [r3, #16]
 184              		.loc 1 956 6 view .LVU45
 185 000e 6BB1     		cbz	r3, .L12
 957:Lib/soes/src/esc_eoe.c ****    {
 958:Lib/soes/src/esc_eoe.c ****       if(eoe_cfg->free_buffer != NULL)
ARM GAS  /tmp/ccKy4lrp.s 			page 21


 186              		.loc 1 958 7 is_stmt 1 view .LVU46
 187              		.loc 1 958 17 is_stmt 0 view .LVU47
 188 0010 084B     		ldr	r3, .L15+4
 189 0012 1B68     		ldr	r3, [r3]
 190 0014 5B68     		ldr	r3, [r3, #4]
 191              		.loc 1 958 9 view .LVU48
 192 0016 4BB1     		cbz	r3, .L12
 949:Lib/soes/src/esc_eoe.c ****    /* Reset TX transfer status variables */
 193              		.loc 1 949 1 view .LVU49
 194 0018 10B5     		push	{r4, lr}
 195              		.cfi_def_cfa_offset 8
 196              		.cfi_offset 4, -8
 197              		.cfi_offset 14, -4
 959:Lib/soes/src/esc_eoe.c ****       {
 960:Lib/soes/src/esc_eoe.c ****          eoe_cfg->free_buffer(&EOEvar.txebuf);
 198              		.loc 1 960 10 is_stmt 1 view .LVU50
 199 001a 054C     		ldr	r4, .L15
 200 001c 04F10C00 		add	r0, r4, #12
 201 0020 9847     		blx	r3
 202              	.LVL4:
 961:Lib/soes/src/esc_eoe.c ****          EOEvar.txebuf.pbuf = NULL;
 203              		.loc 1 961 10 view .LVU51
 204              		.loc 1 961 29 is_stmt 0 view .LVU52
 205 0022 0023     		movs	r3, #0
 206 0024 E360     		str	r3, [r4, #12]
 962:Lib/soes/src/esc_eoe.c ****          EOEvar.txebuf.payload = NULL;
 207              		.loc 1 962 10 is_stmt 1 view .LVU53
 208              		.loc 1 962 32 is_stmt 0 view .LVU54
 209 0026 2361     		str	r3, [r4, #16]
 963:Lib/soes/src/esc_eoe.c ****          EOEvar.txebuf.len = 0;
 210              		.loc 1 963 10 is_stmt 1 view .LVU55
 211              		.loc 1 963 28 is_stmt 0 view .LVU56
 212 0028 6361     		str	r3, [r4, #20]
 964:Lib/soes/src/esc_eoe.c ****       }
 965:Lib/soes/src/esc_eoe.c ****    }
 966:Lib/soes/src/esc_eoe.c **** }
 213              		.loc 1 966 1 view .LVU57
 214 002a 10BD     		pop	{r4, pc}
 215              	.L12:
 216              		.cfi_def_cfa_offset 0
 217              		.cfi_restore 4
 218              		.cfi_restore 14
 219 002c 7047     		bx	lr
 220              	.L16:
 221 002e 00BF     		.align	2
 222              	.L15:
 223 0030 00000000 		.word	.LANCHOR0
 224 0034 00000000 		.word	.LANCHOR1
 225              		.cfi_endproc
 226              	.LFE20:
 228              		.section	.text.EOE_receive_fragment,"ax",%progbits
 229              		.align	1
 230              		.syntax unified
 231              		.thumb
 232              		.thumb_func
 234              	EOE_receive_fragment:
 235              	.LFB17:
ARM GAS  /tmp/ccKy4lrp.s 			page 22


 731:Lib/soes/src/esc_eoe.c ****    _EOE *eoembx;
 236              		.loc 1 731 1 is_stmt 1 view -0
 237              		.cfi_startproc
 238              		@ args = 0, pretend = 0, frame = 0
 239              		@ frame_needed = 0, uses_anonymous_args = 0
 240 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 241              		.cfi_def_cfa_offset 24
 242              		.cfi_offset 3, -24
 243              		.cfi_offset 4, -20
 244              		.cfi_offset 5, -16
 245              		.cfi_offset 6, -12
 246              		.cfi_offset 7, -8
 247              		.cfi_offset 14, -4
 732:Lib/soes/src/esc_eoe.c ****    eoembx = (_EOE *) &MBX[0];
 248              		.loc 1 732 4 view .LVU59
 733:Lib/soes/src/esc_eoe.c ****    uint32_t eoedatasize = etohs(eoembx->mbxheader.length) - ESC_EOEHSIZE;
 249              		.loc 1 733 4 view .LVU60
 250              	.LVL5:
 734:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
 251              		.loc 1 734 4 view .LVU61
 734:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
 252              		.loc 1 734 27 is_stmt 0 view .LVU62
 253 0002 344B     		ldr	r3, .L31
 254 0004 1C88     		ldrh	r4, [r3]	@ unaligned
 734:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
 255              		.loc 1 734 13 view .LVU63
 256 0006 043C     		subs	r4, r4, #4
 257              	.LVL6:
 735:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo2 = etohs(eoembx->eoeheader.frameinfo2);
 258              		.loc 1 735 4 is_stmt 1 view .LVU64
 735:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo2 = etohs(eoembx->eoeheader.frameinfo2);
 259              		.loc 1 735 13 is_stmt 0 view .LVU65
 260 0008 DE88     		ldrh	r6, [r3, #6]	@ unaligned
 261              	.LVL7:
 736:Lib/soes/src/esc_eoe.c **** 
 262              		.loc 1 736 4 is_stmt 1 view .LVU66
 736:Lib/soes/src/esc_eoe.c **** 
 263              		.loc 1 736 13 is_stmt 0 view .LVU67
 264 000a 1D89     		ldrh	r5, [r3, #8]	@ unaligned
 265              	.LVL8:
 739:Lib/soes/src/esc_eoe.c ****    {
 266              		.loc 1 739 4 is_stmt 1 view .LVU68
 739:Lib/soes/src/esc_eoe.c ****    {
 267              		.loc 1 739 13 is_stmt 0 view .LVU69
 268 000c 324B     		ldr	r3, .L31+4
 269              	.LVL9:
 739:Lib/soes/src/esc_eoe.c ****    {
 270              		.loc 1 739 13 view .LVU70
 271 000e 1B7E     		ldrb	r3, [r3, #24]	@ zero_extendqisi2
 272 0010 05F03F07 		and	r7, r5, #63
 739:Lib/soes/src/esc_eoe.c ****    {
 273              		.loc 1 739 6 view .LVU71
 274 0014 BB42     		cmp	r3, r7
 275 0016 03D0     		beq	.L18
 742:Lib/soes/src/esc_eoe.c ****       /* Clean up existing saved data */
 276              		.loc 1 742 66 is_stmt 1 view .LVU72
 744:Lib/soes/src/esc_eoe.c ****       {
ARM GAS  /tmp/ccKy4lrp.s 			page 23


 277              		.loc 1 744 7 view .LVU73
 744:Lib/soes/src/esc_eoe.c ****       {
 278              		.loc 1 744 9 is_stmt 0 view .LVU74
 279 0018 002B     		cmp	r3, #0
 280 001a 3FD1     		bne	.L29
 281              	.LVL10:
 282              	.L19:
 749:Lib/soes/src/esc_eoe.c ****       {
 283              		.loc 1 749 7 is_stmt 1 view .LVU75
 749:Lib/soes/src/esc_eoe.c ****       {
 284              		.loc 1 749 9 is_stmt 0 view .LVU76
 285 001c 002F     		cmp	r7, #0
 286 001e 58D1     		bne	.L17
 287              	.L18:
 756:Lib/soes/src/esc_eoe.c ****    {
 288              		.loc 1 756 4 is_stmt 1 view .LVU77
 756:Lib/soes/src/esc_eoe.c ****    {
 289              		.loc 1 756 13 is_stmt 0 view .LVU78
 290 0020 2D4B     		ldr	r3, .L31+4
 291 0022 1B7E     		ldrb	r3, [r3, #24]	@ zero_extendqisi2
 756:Lib/soes/src/esc_eoe.c ****    {
 292              		.loc 1 756 6 view .LVU79
 293 0024 002B     		cmp	r3, #0
 294 0026 3FD1     		bne	.L21
 758:Lib/soes/src/esc_eoe.c **** 
 295              		.loc 1 758 7 is_stmt 1 view .LVU80
 758:Lib/soes/src/esc_eoe.c **** 
 296              		.loc 1 758 66 is_stmt 0 view .LVU81
 297 0028 AB09     		lsrs	r3, r5, #6
 298 002a 5B01     		lsls	r3, r3, #5
 299 002c 03F4FC63 		and	r3, r3, #2016
 758:Lib/soes/src/esc_eoe.c **** 
 300              		.loc 1 758 26 view .LVU82
 301 0030 294A     		ldr	r2, .L31+4
 302 0032 D361     		str	r3, [r2, #28]
 760:Lib/soes/src/esc_eoe.c ****       {
 303              		.loc 1 760 7 is_stmt 1 view .LVU83
 760:Lib/soes/src/esc_eoe.c ****       {
 304              		.loc 1 760 23 is_stmt 0 view .LVU84
 305 0034 5268     		ldr	r2, [r2, #4]
 760:Lib/soes/src/esc_eoe.c ****       {
 306              		.loc 1 760 9 view .LVU85
 307 0036 002A     		cmp	r2, #0
 308 0038 33D0     		beq	.L22
 762:Lib/soes/src/esc_eoe.c ****          EOEvar.rxframeoffset = 0;
 309              		.loc 1 762 10 is_stmt 1 view .LVU86
 762:Lib/soes/src/esc_eoe.c ****          EOEvar.rxframeoffset = 0;
 310              		.loc 1 762 28 is_stmt 0 view .LVU87
 311 003a 274A     		ldr	r2, .L31+4
 312 003c 9360     		str	r3, [r2, #8]
 763:Lib/soes/src/esc_eoe.c ****          EOEvar.rxframeno = EOE_HDR_FRAME_NO_GET(frameinfo2);
 313              		.loc 1 763 10 is_stmt 1 view .LVU88
 763:Lib/soes/src/esc_eoe.c ****          EOEvar.rxframeno = EOE_HDR_FRAME_NO_GET(frameinfo2);
 314              		.loc 1 763 31 is_stmt 0 view .LVU89
 315 003e 0023     		movs	r3, #0
 316 0040 1362     		str	r3, [r2, #32]
 764:Lib/soes/src/esc_eoe.c ****       }
ARM GAS  /tmp/ccKy4lrp.s 			page 24


 317              		.loc 1 764 10 is_stmt 1 view .LVU90
 764:Lib/soes/src/esc_eoe.c ****       }
 318              		.loc 1 764 27 is_stmt 0 view .LVU91
 319 0042 2D0B     		lsrs	r5, r5, #12
 320 0044 9584     		strh	r5, [r2, #36]	@ movhi
 321              	.L23:
 795:Lib/soes/src/esc_eoe.c ****    {
 322              		.loc 1 795 4 is_stmt 1 view .LVU92
 795:Lib/soes/src/esc_eoe.c ****    {
 323              		.loc 1 795 15 is_stmt 0 view .LVU93
 324 0046 244B     		ldr	r3, .L31+4
 325 0048 186A     		ldr	r0, [r3, #32]
 795:Lib/soes/src/esc_eoe.c ****    {
 326              		.loc 1 795 30 view .LVU94
 327 004a 0219     		adds	r2, r0, r4
 795:Lib/soes/src/esc_eoe.c ****    {
 328              		.loc 1 795 54 view .LVU95
 329 004c DB69     		ldr	r3, [r3, #28]
 795:Lib/soes/src/esc_eoe.c ****    {
 330              		.loc 1 795 7 view .LVU96
 331 004e 9A42     		cmp	r2, r3
 332 0050 3DD8     		bhi	.L25
 797:Lib/soes/src/esc_eoe.c ****             eoembx->data,
 333              		.loc 1 797 7 is_stmt 1 view .LVU97
 797:Lib/soes/src/esc_eoe.c ****             eoembx->data,
 334              		.loc 1 797 39 is_stmt 0 view .LVU98
 335 0052 214D     		ldr	r5, .L31+4
 336 0054 6B68     		ldr	r3, [r5, #4]
 797:Lib/soes/src/esc_eoe.c ****             eoembx->data,
 337              		.loc 1 797 7 view .LVU99
 338 0056 2246     		mov	r2, r4
 339 0058 2049     		ldr	r1, .L31+8
 340 005a 1844     		add	r0, r0, r3
 341 005c FFF7FEFF 		bl	memcpy
 342              	.LVL11:
 800:Lib/soes/src/esc_eoe.c ****       EOEvar.rxfragmentno++;
 343              		.loc 1 800 7 is_stmt 1 view .LVU100
 800:Lib/soes/src/esc_eoe.c ****       EOEvar.rxfragmentno++;
 344              		.loc 1 800 28 is_stmt 0 view .LVU101
 345 0060 2B6A     		ldr	r3, [r5, #32]
 346 0062 1C44     		add	r4, r4, r3
 347              	.LVL12:
 800:Lib/soes/src/esc_eoe.c ****       EOEvar.rxfragmentno++;
 348              		.loc 1 800 28 view .LVU102
 349 0064 2C62     		str	r4, [r5, #32]
 801:Lib/soes/src/esc_eoe.c ****    }
 350              		.loc 1 801 7 is_stmt 1 view .LVU103
 801:Lib/soes/src/esc_eoe.c ****    }
 351              		.loc 1 801 13 is_stmt 0 view .LVU104
 352 0066 2B7E     		ldrb	r3, [r5, #24]	@ zero_extendqisi2
 801:Lib/soes/src/esc_eoe.c ****    }
 353              		.loc 1 801 26 view .LVU105
 354 0068 0133     		adds	r3, r3, #1
 355 006a 2B76     		strb	r3, [r5, #24]
 810:Lib/soes/src/esc_eoe.c ****    {
 356              		.loc 1 810 4 is_stmt 1 view .LVU106
 810:Lib/soes/src/esc_eoe.c ****    {
ARM GAS  /tmp/ccKy4lrp.s 			page 25


 357              		.loc 1 810 6 is_stmt 0 view .LVU107
 358 006c 16F4807F 		tst	r6, #256
 359 0070 2FD0     		beq	.L17
 813:Lib/soes/src/esc_eoe.c ****       {
 360              		.loc 1 813 7 is_stmt 1 view .LVU108
 813:Lib/soes/src/esc_eoe.c ****       {
 361              		.loc 1 813 9 is_stmt 0 view .LVU109
 362 0072 16F4007F 		tst	r6, #512
 363 0076 02D0     		beq	.L27
 815:Lib/soes/src/esc_eoe.c ****       }
 364              		.loc 1 815 10 is_stmt 1 view .LVU110
 815:Lib/soes/src/esc_eoe.c ****       }
 365              		.loc 1 815 31 is_stmt 0 view .LVU111
 366 0078 043C     		subs	r4, r4, #4
 367 007a 174B     		ldr	r3, .L31+4
 368 007c 1C62     		str	r4, [r3, #32]
 369              	.L27:
 817:Lib/soes/src/esc_eoe.c ****       eoe_cfg->handle_recv_buffer(EOE_HDR_FRAME_PORT_GET(frameinfo1),
 370              		.loc 1 817 7 is_stmt 1 view .LVU112
 817:Lib/soes/src/esc_eoe.c ****       eoe_cfg->handle_recv_buffer(EOE_HDR_FRAME_PORT_GET(frameinfo1),
 371              		.loc 1 817 34 is_stmt 0 view .LVU113
 372 007e 164C     		ldr	r4, .L31+4
 373 0080 236A     		ldr	r3, [r4, #32]
 817:Lib/soes/src/esc_eoe.c ****       eoe_cfg->handle_recv_buffer(EOE_HDR_FRAME_PORT_GET(frameinfo1),
 374              		.loc 1 817 25 view .LVU114
 375 0082 A360     		str	r3, [r4, #8]
 818:Lib/soes/src/esc_eoe.c ****             &EOEvar.rxebuf);
 376              		.loc 1 818 7 is_stmt 1 view .LVU115
 818:Lib/soes/src/esc_eoe.c ****             &EOEvar.rxebuf);
 377              		.loc 1 818 14 is_stmt 0 view .LVU116
 378 0084 164B     		ldr	r3, .L31+12
 379 0086 1B68     		ldr	r3, [r3]
 380 0088 1B69     		ldr	r3, [r3, #16]
 818:Lib/soes/src/esc_eoe.c ****             &EOEvar.rxebuf);
 381              		.loc 1 818 7 view .LVU117
 382 008a 2146     		mov	r1, r4
 383 008c C6F30310 		ubfx	r0, r6, #4, #4
 384 0090 9847     		blx	r3
 385              	.LVL13:
 821:Lib/soes/src/esc_eoe.c ****       EOE_init_rx ();
 386              		.loc 1 821 7 is_stmt 1 view .LVU118
 821:Lib/soes/src/esc_eoe.c ****       EOE_init_rx ();
 387              		.loc 1 821 29 is_stmt 0 view .LVU119
 388 0092 0023     		movs	r3, #0
 389 0094 6360     		str	r3, [r4, #4]
 822:Lib/soes/src/esc_eoe.c ****    }
 390              		.loc 1 822 7 is_stmt 1 view .LVU120
 391 0096 FFF7FEFF 		bl	EOE_init_rx
 392              	.LVL14:
 393 009a 1AE0     		b	.L17
 394              	.LVL15:
 395              	.L29:
 746:Lib/soes/src/esc_eoe.c ****       }
 396              		.loc 1 746 10 view .LVU121
 397 009c FFF7FEFF 		bl	EOE_init_rx
 398              	.LVL16:
 746:Lib/soes/src/esc_eoe.c ****       }
ARM GAS  /tmp/ccKy4lrp.s 			page 26


 399              		.loc 1 746 10 is_stmt 0 view .LVU122
 400 00a0 BCE7     		b	.L19
 401              	.L22:
 768:Lib/soes/src/esc_eoe.c ****          EOE_init_rx ();
 402              		.loc 1 768 47 is_stmt 1 view .LVU123
 769:Lib/soes/src/esc_eoe.c ****          return;
 403              		.loc 1 769 10 view .LVU124
 404 00a2 FFF7FEFF 		bl	EOE_init_rx
 405              	.LVL17:
 770:Lib/soes/src/esc_eoe.c ****       }
 406              		.loc 1 770 10 view .LVU125
 407 00a6 14E0     		b	.L17
 408              	.L21:
 409              	.LBB2:
 776:Lib/soes/src/esc_eoe.c ****       /* Validate received fragment */
 410              		.loc 1 776 7 view .LVU126
 776:Lib/soes/src/esc_eoe.c ****       /* Validate received fragment */
 411              		.loc 1 776 63 is_stmt 0 view .LVU127
 412 00a8 AB09     		lsrs	r3, r5, #6
 413 00aa 5B01     		lsls	r3, r3, #5
 776:Lib/soes/src/esc_eoe.c ****       /* Validate received fragment */
 414              		.loc 1 776 16 view .LVU128
 415 00ac 03F4FC63 		and	r3, r3, #2016
 416              	.LVL18:
 778:Lib/soes/src/esc_eoe.c ****       {
 417              		.loc 1 778 7 is_stmt 1 view .LVU129
 778:Lib/soes/src/esc_eoe.c ****       {
 418              		.loc 1 778 16 is_stmt 0 view .LVU130
 419 00b0 094A     		ldr	r2, .L31+4
 420 00b2 928C     		ldrh	r2, [r2, #36]
 778:Lib/soes/src/esc_eoe.c ****       {
 421              		.loc 1 778 9 view .LVU131
 422 00b4 B2EB153F 		cmp	r2, r5, lsr #12
 423 00b8 06D1     		bne	.L30
 785:Lib/soes/src/esc_eoe.c ****       {
 424              		.loc 1 785 12 is_stmt 1 view .LVU132
 785:Lib/soes/src/esc_eoe.c ****       {
 425              		.loc 1 785 21 is_stmt 0 view .LVU133
 426 00ba 074A     		ldr	r2, .L31+4
 427 00bc 126A     		ldr	r2, [r2, #32]
 785:Lib/soes/src/esc_eoe.c ****       {
 428              		.loc 1 785 14 view .LVU134
 429 00be 9A42     		cmp	r2, r3
 430 00c0 C1D0     		beq	.L23
 788:Lib/soes/src/esc_eoe.c ****          EOE_init_rx ();
 431              		.loc 1 788 45 is_stmt 1 view .LVU135
 789:Lib/soes/src/esc_eoe.c ****          return;
 432              		.loc 1 789 10 view .LVU136
 433 00c2 FFF7FEFF 		bl	EOE_init_rx
 434              	.LVL19:
 790:Lib/soes/src/esc_eoe.c ****       }
 435              		.loc 1 790 10 view .LVU137
 436 00c6 04E0     		b	.L17
 437              	.LVL20:
 438              	.L30:
 781:Lib/soes/src/esc_eoe.c ****          EOE_init_rx ();
 439              		.loc 1 781 67 view .LVU138
ARM GAS  /tmp/ccKy4lrp.s 			page 27


 782:Lib/soes/src/esc_eoe.c ****          return;
 440              		.loc 1 782 10 view .LVU139
 441 00c8 FFF7FEFF 		bl	EOE_init_rx
 442              	.LVL21:
 783:Lib/soes/src/esc_eoe.c ****       }
 443              		.loc 1 783 10 view .LVU140
 444 00cc 01E0     		b	.L17
 445              	.LVL22:
 446              	.L25:
 783:Lib/soes/src/esc_eoe.c ****       }
 447              		.loc 1 783 10 is_stmt 0 view .LVU141
 448              	.LBE2:
 805:Lib/soes/src/esc_eoe.c ****       EOE_init_rx ();
 449              		.loc 1 805 60 is_stmt 1 view .LVU142
 806:Lib/soes/src/esc_eoe.c ****       return;
 450              		.loc 1 806 7 view .LVU143
 451 00ce FFF7FEFF 		bl	EOE_init_rx
 452              	.LVL23:
 807:Lib/soes/src/esc_eoe.c ****    }
 453              		.loc 1 807 7 view .LVU144
 454              	.L17:
 824:Lib/soes/src/esc_eoe.c **** 
 455              		.loc 1 824 1 is_stmt 0 view .LVU145
 456 00d2 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 457              	.L32:
 458              		.align	2
 459              	.L31:
 460 00d4 00000000 		.word	MBX
 461 00d8 00000000 		.word	.LANCHOR0
 462 00dc 0A000000 		.word	MBX+10
 463 00e0 00000000 		.word	.LANCHOR1
 464              		.cfi_endproc
 465              	.LFE17:
 467              		.section	.text.EOE_no_data_response,"ax",%progbits
 468              		.align	1
 469              		.syntax unified
 470              		.thumb
 471              		.thumb_func
 473              	EOE_no_data_response:
 474              	.LVL24:
 475              	.LFB14:
 482:Lib/soes/src/esc_eoe.c ****    _EOE *eoembx;
 476              		.loc 1 482 1 is_stmt 1 view -0
 477              		.cfi_startproc
 478              		@ args = 0, pretend = 0, frame = 0
 479              		@ frame_needed = 0, uses_anonymous_args = 0
 482:Lib/soes/src/esc_eoe.c ****    _EOE *eoembx;
 480              		.loc 1 482 1 is_stmt 0 view .LVU147
 481 0000 38B5     		push	{r3, r4, r5, lr}
 482              		.cfi_def_cfa_offset 16
 483              		.cfi_offset 3, -16
 484              		.cfi_offset 4, -12
 485              		.cfi_offset 5, -8
 486              		.cfi_offset 14, -4
 487 0002 0546     		mov	r5, r0
 488 0004 0C46     		mov	r4, r1
 483:Lib/soes/src/esc_eoe.c ****    uint8_t mbxhandle;
ARM GAS  /tmp/ccKy4lrp.s 			page 28


 489              		.loc 1 483 4 is_stmt 1 view .LVU148
 484:Lib/soes/src/esc_eoe.c **** 
 490              		.loc 1 484 4 view .LVU149
 487:Lib/soes/src/esc_eoe.c ****    if (mbxhandle)
 491              		.loc 1 487 4 view .LVU150
 487:Lib/soes/src/esc_eoe.c ****    if (mbxhandle)
 492              		.loc 1 487 16 is_stmt 0 view .LVU151
 493 0006 FFF7FEFF 		bl	ESC_claimbuffer
 494              	.LVL25:
 488:Lib/soes/src/esc_eoe.c ****    {
 495              		.loc 1 488 4 is_stmt 1 view .LVU152
 488:Lib/soes/src/esc_eoe.c ****    {
 496              		.loc 1 488 7 is_stmt 0 view .LVU153
 497 000a A8B1     		cbz	r0, .L33
 498 000c 8446     		mov	ip, r0
 490:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE);
 499              		.loc 1 490 7 is_stmt 1 view .LVU154
 490:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE);
 500              		.loc 1 490 42 is_stmt 0 view .LVU155
 501 000e 0B4B     		ldr	r3, .L36
 502 0010 DA6E     		ldr	r2, [r3, #108]
 490:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE);
 503              		.loc 1 490 40 view .LVU156
 504 0012 02FB00F2 		mul	r2, r2, r0
 490:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE);
 505              		.loc 1 490 14 view .LVU157
 506 0016 0A49     		ldr	r1, .L36+4
 507 0018 5318     		adds	r3, r2, r1
 508              	.LVL26:
 491:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 509              		.loc 1 491 7 is_stmt 1 view .LVU158
 491:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 510              		.loc 1 491 32 is_stmt 0 view .LVU159
 511 001a 0420     		movs	r0, #4
 512              	.LVL27:
 491:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 513              		.loc 1 491 32 view .LVU160
 514 001c 5054     		strb	r0, [r2, r1]
 515 001e 0022     		movs	r2, #0
 516 0020 5A70     		strb	r2, [r3, #1]
 492:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 517              		.loc 1 492 7 is_stmt 1 view .LVU161
 492:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 518              		.loc 1 492 33 is_stmt 0 view .LVU162
 519 0022 5A79     		ldrb	r2, [r3, #5]	@ zero_extendqisi2
 520 0024 0221     		movs	r1, #2
 521 0026 61F30302 		bfi	r2, r1, #0, #4
 522 002a 5A71     		strb	r2, [r3, #5]
 493:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.result = htoes(result);
 523              		.loc 1 493 7 is_stmt 1 view .LVU163
 493:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.result = htoes(result);
 524              		.loc 1 493 36 is_stmt 0 view .LVU164
 525 002c DD80     		strh	r5, [r3, #6]	@ unaligned
 494:Lib/soes/src/esc_eoe.c ****       MBXcontrol[mbxhandle].state = MBXstate_outreq;
 526              		.loc 1 494 7 is_stmt 1 view .LVU165
 494:Lib/soes/src/esc_eoe.c ****       MBXcontrol[mbxhandle].state = MBXstate_outreq;
 527              		.loc 1 494 32 is_stmt 0 view .LVU166
ARM GAS  /tmp/ccKy4lrp.s 			page 29


 528 002e 1C81     		strh	r4, [r3, #8]	@ unaligned
 495:Lib/soes/src/esc_eoe.c ****    }
 529              		.loc 1 495 7 is_stmt 1 view .LVU167
 495:Lib/soes/src/esc_eoe.c ****    }
 530              		.loc 1 495 35 is_stmt 0 view .LVU168
 531 0030 044B     		ldr	r3, .L36+8
 532              	.LVL28:
 495:Lib/soes/src/esc_eoe.c ****    }
 533              		.loc 1 495 35 view .LVU169
 534 0032 0322     		movs	r2, #3
 535 0034 03F80C20 		strb	r2, [r3, ip]
 536              	.LVL29:
 537              	.L33:
 497:Lib/soes/src/esc_eoe.c **** 
 538              		.loc 1 497 1 view .LVU170
 539 0038 38BD     		pop	{r3, r4, r5, pc}
 540              	.L37:
 541 003a 00BF     		.align	2
 542              	.L36:
 543 003c 00000000 		.word	ESCvar
 544 0040 00000000 		.word	MBX
 545 0044 00000000 		.word	MBXcontrol
 546              		.cfi_endproc
 547              	.LFE14:
 549              		.section	.text.EOE_set_ip,"ax",%progbits
 550              		.align	1
 551              		.syntax unified
 552              		.thumb
 553              		.thumb_func
 555              	EOE_set_ip:
 556              	.LFB16:
 620:Lib/soes/src/esc_eoe.c ****    _EOE *eoembx;
 557              		.loc 1 620 1 is_stmt 1 view -0
 558              		.cfi_startproc
 559              		@ args = 0, pretend = 0, frame = 0
 560              		@ frame_needed = 0, uses_anonymous_args = 0
 561 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 562              		.cfi_def_cfa_offset 32
 563              		.cfi_offset 4, -32
 564              		.cfi_offset 5, -28
 565              		.cfi_offset 6, -24
 566              		.cfi_offset 7, -20
 567              		.cfi_offset 8, -16
 568              		.cfi_offset 9, -12
 569              		.cfi_offset 10, -8
 570              		.cfi_offset 14, -4
 621:Lib/soes/src/esc_eoe.c ****    uint32_t eoedatasize, data_offset;
 571              		.loc 1 621 4 view .LVU172
 622:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo1;
 572              		.loc 1 622 4 view .LVU173
 623:Lib/soes/src/esc_eoe.c ****    uint8_t port;
 573              		.loc 1 623 4 view .LVU174
 624:Lib/soes/src/esc_eoe.c ****    uint8_t  flags;
 574              		.loc 1 624 4 view .LVU175
 625:Lib/soes/src/esc_eoe.c ****    uint16_t result;
 575              		.loc 1 625 4 view .LVU176
 626:Lib/soes/src/esc_eoe.c ****    int port_ix;
ARM GAS  /tmp/ccKy4lrp.s 			page 30


 576              		.loc 1 626 4 view .LVU177
 627:Lib/soes/src/esc_eoe.c **** 
 577              		.loc 1 627 4 view .LVU178
 629:Lib/soes/src/esc_eoe.c ****    eoedatasize = etohs(eoembx->mbxheader.length) - ESC_EOEHSIZE;
 578              		.loc 1 629 4 view .LVU179
 579              	.LVL30:
 630:Lib/soes/src/esc_eoe.c ****    frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
 580              		.loc 1 630 4 view .LVU180
 630:Lib/soes/src/esc_eoe.c ****    frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
 581              		.loc 1 630 18 is_stmt 0 view .LVU181
 582 0004 714B     		ldr	r3, .L61
 583 0006 B3F80080 		ldrh	r8, [r3]	@ unaligned
 584              	.LVL31:
 631:Lib/soes/src/esc_eoe.c ****    port = EOE_HDR_FRAME_PORT_GET(frameinfo1);
 585              		.loc 1 631 4 is_stmt 1 view .LVU182
 631:Lib/soes/src/esc_eoe.c ****    port = EOE_HDR_FRAME_PORT_GET(frameinfo1);
 586              		.loc 1 631 15 is_stmt 0 view .LVU183
 587 000a DD88     		ldrh	r5, [r3, #6]	@ unaligned
 588              	.LVL32:
 632:Lib/soes/src/esc_eoe.c ****    flags = eoembx->data[0];
 589              		.loc 1 632 4 is_stmt 1 view .LVU184
 632:Lib/soes/src/esc_eoe.c ****    flags = eoembx->data[0];
 590              		.loc 1 632 11 is_stmt 0 view .LVU185
 591 000c C5F30712 		ubfx	r2, r5, #4, #8
 632:Lib/soes/src/esc_eoe.c ****    flags = eoembx->data[0];
 592              		.loc 1 632 9 view .LVU186
 593 0010 C5F30315 		ubfx	r5, r5, #4, #4
 594              	.LVL33:
 633:Lib/soes/src/esc_eoe.c ****    data_offset = EOE_PARAM_OFFSET;
 595              		.loc 1 633 4 is_stmt 1 view .LVU187
 633:Lib/soes/src/esc_eoe.c ****    data_offset = EOE_PARAM_OFFSET;
 596              		.loc 1 633 10 is_stmt 0 view .LVU188
 597 0014 9F7A     		ldrb	r7, [r3, #10]	@ zero_extendqisi2
 598              	.LVL34:
 634:Lib/soes/src/esc_eoe.c **** 
 599              		.loc 1 634 4 is_stmt 1 view .LVU189
 636:Lib/soes/src/esc_eoe.c ****    {
 600              		.loc 1 636 4 view .LVU190
 636:Lib/soes/src/esc_eoe.c ****    {
 601              		.loc 1 636 6 is_stmt 0 view .LVU191
 602 0016 12F00E0F 		tst	r2, #14
 603 001a 04D1     		bne	.L54
 604 001c A8F10408 		sub	r8, r8, #4
 605              	.LVL35:
 648:Lib/soes/src/esc_eoe.c ****    if(flags & EOE_PARAM_MAC_INCLUDE)
 606              		.loc 1 648 4 is_stmt 1 view .LVU192
 648:Lib/soes/src/esc_eoe.c ****    if(flags & EOE_PARAM_MAC_INCLUDE)
 607              		.loc 1 648 14 is_stmt 0 view .LVU193
 608 0020 4DB1     		cbz	r5, .L49
 648:Lib/soes/src/esc_eoe.c ****    if(flags & EOE_PARAM_MAC_INCLUDE)
 609              		.loc 1 648 14 discriminator 1 view .LVU194
 610 0022 6C1E     		subs	r4, r5, #1
 611 0024 08E0     		b	.L41
 612              	.LVL36:
 613              	.L54:
 638:Lib/soes/src/esc_eoe.c ****       /* Return error response on given port */
 614              		.loc 1 638 31 is_stmt 1 view .LVU195
ARM GAS  /tmp/ccKy4lrp.s 			page 31


 640:Lib/soes/src/esc_eoe.c ****       frameinfo1 |= EOE_INIT_RESP;
 615              		.loc 1 640 7 view .LVU196
 641:Lib/soes/src/esc_eoe.c ****       frameinfo1 |= EOE_HDR_LAST_FRAGMENT;
 616              		.loc 1 641 7 view .LVU197
 642:Lib/soes/src/esc_eoe.c ****       EOE_no_data_response(frameinfo1, EOE_RESULT_UNSPECIFIED_ERROR);
 617              		.loc 1 642 7 view .LVU198
 643:Lib/soes/src/esc_eoe.c ****       return;
 618              		.loc 1 643 7 view .LVU199
 619 0026 0121     		movs	r1, #1
 620 0028 40F20310 		movw	r0, #259
 621 002c 40EA0510 		orr	r0, r0, r5, lsl #4
 622              	.LVL37:
 643:Lib/soes/src/esc_eoe.c ****       return;
 623              		.loc 1 643 7 is_stmt 0 view .LVU200
 624 0030 FFF7FEFF 		bl	EOE_no_data_response
 625              	.LVL38:
 644:Lib/soes/src/esc_eoe.c ****    }
 626              		.loc 1 644 7 is_stmt 1 view .LVU201
 627 0034 C5E0     		b	.L38
 628              	.LVL39:
 629              	.L49:
 648:Lib/soes/src/esc_eoe.c ****    if(flags & EOE_PARAM_MAC_INCLUDE)
 630              		.loc 1 648 14 is_stmt 0 view .LVU202
 631 0036 0024     		movs	r4, #0
 632              	.L41:
 633              	.LVL40:
 649:Lib/soes/src/esc_eoe.c ****    {
 634              		.loc 1 649 4 is_stmt 1 discriminator 4 view .LVU203
 649:Lib/soes/src/esc_eoe.c ****    {
 635              		.loc 1 649 6 is_stmt 0 discriminator 4 view .LVU204
 636 0038 17F0010F 		tst	r7, #1
 637 003c 1CD1     		bne	.L55
 634:Lib/soes/src/esc_eoe.c **** 
 638              		.loc 1 634 16 view .LVU205
 639 003e 0426     		movs	r6, #4
 640              	.LVL41:
 641              	.L42:
 659:Lib/soes/src/esc_eoe.c ****    {
 642              		.loc 1 659 4 is_stmt 1 view .LVU206
 659:Lib/soes/src/esc_eoe.c ****    {
 643              		.loc 1 659 6 is_stmt 0 view .LVU207
 644 0040 17F0020F 		tst	r7, #2
 645 0044 2CD1     		bne	.L56
 646              	.LVL42:
 647              	.L43:
 668:Lib/soes/src/esc_eoe.c ****    {
 648              		.loc 1 668 4 is_stmt 1 view .LVU208
 668:Lib/soes/src/esc_eoe.c ****    {
 649              		.loc 1 668 6 is_stmt 0 view .LVU209
 650 0046 17F0040F 		tst	r7, #4
 651 004a 43D1     		bne	.L57
 652              	.L44:
 677:Lib/soes/src/esc_eoe.c ****    {
 653              		.loc 1 677 4 is_stmt 1 view .LVU210
 677:Lib/soes/src/esc_eoe.c ****    {
 654              		.loc 1 677 6 is_stmt 0 view .LVU211
 655 004c 17F0080F 		tst	r7, #8
ARM GAS  /tmp/ccKy4lrp.s 			page 32


 656 0050 5BD1     		bne	.L58
 657              	.L45:
 686:Lib/soes/src/esc_eoe.c ****    {
 658              		.loc 1 686 4 is_stmt 1 view .LVU212
 686:Lib/soes/src/esc_eoe.c ****    {
 659              		.loc 1 686 6 is_stmt 0 view .LVU213
 660 0052 17F0100F 		tst	r7, #16
 661 0056 72D1     		bne	.L59
 662              	.L46:
 695:Lib/soes/src/esc_eoe.c ****    {
 663              		.loc 1 695 4 is_stmt 1 view .LVU214
 695:Lib/soes/src/esc_eoe.c ****    {
 664              		.loc 1 695 6 is_stmt 0 view .LVU215
 665 0058 17F0200F 		tst	r7, #32
 666 005c 40F08A80 		bne	.L60
 667              	.LVL43:
 668              	.L47:
 705:Lib/soes/src/esc_eoe.c ****    {
 669              		.loc 1 705 4 is_stmt 1 view .LVU216
 705:Lib/soes/src/esc_eoe.c ****    {
 670              		.loc 1 705 6 is_stmt 0 view .LVU217
 671 0060 4645     		cmp	r6, r8
 672 0062 00F2A780 		bhi	.L51
 713:Lib/soes/src/esc_eoe.c ****       {
 673              		.loc 1 713 7 is_stmt 1 view .LVU218
 713:Lib/soes/src/esc_eoe.c ****       {
 674              		.loc 1 713 17 is_stmt 0 view .LVU219
 675 0066 5A4B     		ldr	r3, .L61+4
 676 0068 1B68     		ldr	r3, [r3]
 677 006a DB68     		ldr	r3, [r3, #12]
 713:Lib/soes/src/esc_eoe.c ****       {
 678              		.loc 1 713 9 view .LVU220
 679 006c 002B     		cmp	r3, #0
 680 006e 00F0AA80 		beq	.L52
 715:Lib/soes/src/esc_eoe.c ****       }
 681              		.loc 1 715 10 is_stmt 1 view .LVU221
 715:Lib/soes/src/esc_eoe.c ****       }
 682              		.loc 1 715 29 is_stmt 0 view .LVU222
 683 0072 9847     		blx	r3
 684              	.LVL44:
 715:Lib/soes/src/esc_eoe.c ****       }
 685              		.loc 1 715 17 view .LVU223
 686 0074 81B2     		uxth	r1, r0
 687              	.LVL45:
 715:Lib/soes/src/esc_eoe.c ****       }
 688              		.loc 1 715 17 view .LVU224
 689 0076 9EE0     		b	.L48
 690              	.LVL46:
 691              	.L55:
 651:Lib/soes/src/esc_eoe.c ****             &eoembx->data[data_offset],
 692              		.loc 1 651 7 is_stmt 1 view .LVU225
 651:Lib/soes/src/esc_eoe.c ****             &eoembx->data[data_offset],
 693              		.loc 1 651 14 is_stmt 0 view .LVU226
 694 0078 564B     		ldr	r3, .L61+8
 695              	.LVL47:
 651:Lib/soes/src/esc_eoe.c ****             &eoembx->data[data_offset],
 696              		.loc 1 651 14 view .LVU227
ARM GAS  /tmp/ccKy4lrp.s 			page 33


 697 007a C4EBC402 		rsb	r2, r4, r4, lsl #3
 698 007e 03EBC201 		add	r1, r3, r2, lsl #3
 651:Lib/soes/src/esc_eoe.c ****             &eoembx->data[data_offset],
 699              		.loc 1 651 7 view .LVU228
 700 0082 5548     		ldr	r0, .L61+12
 701 0084 0668     		ldr	r6, [r0]	@ unaligned
 702 0086 C1F80160 		str	r6, [r1, #1]	@ unaligned
 703 008a 8088     		ldrh	r0, [r0, #4]	@ unaligned
 704 008c A1F80500 		strh	r0, [r1, #5]	@ unaligned
 654:Lib/soes/src/esc_eoe.c ****       /* Add size of mac address */
 705              		.loc 1 654 7 is_stmt 1 view .LVU229
 654:Lib/soes/src/esc_eoe.c ****       /* Add size of mac address */
 706              		.loc 1 654 34 is_stmt 0 view .LVU230
 707 0090 13F83210 		ldrb	r1, [r3, r2, lsl #3]	@ zero_extendqisi2
 708 0094 41F00101 		orr	r1, r1, #1
 709 0098 03F83210 		strb	r1, [r3, r2, lsl #3]
 656:Lib/soes/src/esc_eoe.c ****    }
 710              		.loc 1 656 7 is_stmt 1 view .LVU231
 711              	.LVL48:
 656:Lib/soes/src/esc_eoe.c ****    }
 712              		.loc 1 656 19 is_stmt 0 view .LVU232
 713 009c 0A26     		movs	r6, #10
 714 009e CFE7     		b	.L42
 715              	.LVL49:
 716              	.L56:
 661:Lib/soes/src/esc_eoe.c ****             &nic_ports[port_ix].ip);
 717              		.loc 1 661 7 is_stmt 1 view .LVU233
 718 00a0 DFF830A1 		ldr	r10, .L61+8
 719 00a4 4FEAC409 		lsl	r9, r4, #3
 720 00a8 C4EBC401 		rsb	r1, r4, r4, lsl #3
 721 00ac C900     		lsls	r1, r1, #3
 722 00ae 0831     		adds	r1, r1, #8
 723 00b0 06F10800 		add	r0, r6, #8
 724 00b4 454B     		ldr	r3, .L61
 725              	.LVL50:
 661:Lib/soes/src/esc_eoe.c ****             &nic_ports[port_ix].ip);
 726              		.loc 1 661 7 is_stmt 0 view .LVU234
 727 00b6 1844     		add	r0, r0, r3
 728 00b8 5144     		add	r1, r1, r10
 729 00ba 0230     		adds	r0, r0, #2
 730 00bc FFF7FEFF 		bl	EOE_ip_byte_to_uint32
 731              	.LVL51:
 663:Lib/soes/src/esc_eoe.c ****       /* Add size of uint32 IP address */
 732              		.loc 1 663 7 is_stmt 1 view .LVU235
 663:Lib/soes/src/esc_eoe.c ****       /* Add size of uint32 IP address */
 733              		.loc 1 663 33 is_stmt 0 view .LVU236
 734 00c0 A9EB0403 		sub	r3, r9, r4
 735 00c4 1AF83320 		ldrb	r2, [r10, r3, lsl #3]	@ zero_extendqisi2
 736 00c8 42F00202 		orr	r2, r2, #2
 737 00cc 0AF83320 		strb	r2, [r10, r3, lsl #3]
 665:Lib/soes/src/esc_eoe.c ****    }
 738              		.loc 1 665 7 is_stmt 1 view .LVU237
 665:Lib/soes/src/esc_eoe.c ****    }
 739              		.loc 1 665 19 is_stmt 0 view .LVU238
 740 00d0 0436     		adds	r6, r6, #4
 741              	.LVL52:
 665:Lib/soes/src/esc_eoe.c ****    }
ARM GAS  /tmp/ccKy4lrp.s 			page 34


 742              		.loc 1 665 19 view .LVU239
 743 00d2 B8E7     		b	.L43
 744              	.L57:
 670:Lib/soes/src/esc_eoe.c ****             &nic_ports[port_ix].subnet);
 745              		.loc 1 670 7 is_stmt 1 view .LVU240
 746 00d4 DFF8FCA0 		ldr	r10, .L61+8
 747 00d8 4FEAC409 		lsl	r9, r4, #3
 748 00dc C4EBC401 		rsb	r1, r4, r4, lsl #3
 749 00e0 C900     		lsls	r1, r1, #3
 750 00e2 0831     		adds	r1, r1, #8
 751 00e4 5144     		add	r1, r1, r10
 752 00e6 06F10800 		add	r0, r6, #8
 753 00ea 384B     		ldr	r3, .L61
 754 00ec 1844     		add	r0, r0, r3
 755 00ee 0431     		adds	r1, r1, #4
 756 00f0 0230     		adds	r0, r0, #2
 757 00f2 FFF7FEFF 		bl	EOE_ip_byte_to_uint32
 758              	.LVL53:
 672:Lib/soes/src/esc_eoe.c ****       /* Add size of uint32 IP address */
 759              		.loc 1 672 7 view .LVU241
 672:Lib/soes/src/esc_eoe.c ****       /* Add size of uint32 IP address */
 760              		.loc 1 672 37 is_stmt 0 view .LVU242
 761 00f6 A9EB0409 		sub	r9, r9, r4
 762 00fa 1AF83930 		ldrb	r3, [r10, r9, lsl #3]	@ zero_extendqisi2
 763 00fe 43F00403 		orr	r3, r3, #4
 764 0102 0AF83930 		strb	r3, [r10, r9, lsl #3]
 674:Lib/soes/src/esc_eoe.c ****    }
 765              		.loc 1 674 7 is_stmt 1 view .LVU243
 674:Lib/soes/src/esc_eoe.c ****    }
 766              		.loc 1 674 19 is_stmt 0 view .LVU244
 767 0106 0436     		adds	r6, r6, #4
 768              	.LVL54:
 674:Lib/soes/src/esc_eoe.c ****    }
 769              		.loc 1 674 19 view .LVU245
 770 0108 A0E7     		b	.L44
 771              	.L58:
 679:Lib/soes/src/esc_eoe.c ****             &nic_ports[port_ix].default_gateway);
 772              		.loc 1 679 7 is_stmt 1 view .LVU246
 773 010a DFF8C8A0 		ldr	r10, .L61+8
 774 010e 4FEAC409 		lsl	r9, r4, #3
 775 0112 C4EBC401 		rsb	r1, r4, r4, lsl #3
 776 0116 C900     		lsls	r1, r1, #3
 777 0118 1031     		adds	r1, r1, #16
 778 011a 06F10800 		add	r0, r6, #8
 779 011e 2B4B     		ldr	r3, .L61
 780 0120 1844     		add	r0, r0, r3
 781 0122 5144     		add	r1, r1, r10
 782 0124 0230     		adds	r0, r0, #2
 783 0126 FFF7FEFF 		bl	EOE_ip_byte_to_uint32
 784              	.LVL55:
 681:Lib/soes/src/esc_eoe.c ****       /* Add size of uint32 IP address */
 785              		.loc 1 681 7 view .LVU247
 681:Lib/soes/src/esc_eoe.c ****       /* Add size of uint32 IP address */
 786              		.loc 1 681 46 is_stmt 0 view .LVU248
 787 012a A9EB0403 		sub	r3, r9, r4
 788 012e 1AF83320 		ldrb	r2, [r10, r3, lsl #3]	@ zero_extendqisi2
 789 0132 42F00802 		orr	r2, r2, #8
ARM GAS  /tmp/ccKy4lrp.s 			page 35


 790 0136 0AF83320 		strb	r2, [r10, r3, lsl #3]
 683:Lib/soes/src/esc_eoe.c ****    }
 791              		.loc 1 683 7 is_stmt 1 view .LVU249
 683:Lib/soes/src/esc_eoe.c ****    }
 792              		.loc 1 683 19 is_stmt 0 view .LVU250
 793 013a 0436     		adds	r6, r6, #4
 794              	.LVL56:
 683:Lib/soes/src/esc_eoe.c ****    }
 795              		.loc 1 683 19 view .LVU251
 796 013c 89E7     		b	.L45
 797              	.L59:
 688:Lib/soes/src/esc_eoe.c ****             &nic_ports[port_ix].dns_ip);
 798              		.loc 1 688 7 is_stmt 1 view .LVU252
 799 013e DFF894A0 		ldr	r10, .L61+8
 800 0142 4FEAC409 		lsl	r9, r4, #3
 801 0146 C4EBC401 		rsb	r1, r4, r4, lsl #3
 802 014a C900     		lsls	r1, r1, #3
 803 014c 1031     		adds	r1, r1, #16
 804 014e 5144     		add	r1, r1, r10
 805 0150 06F10800 		add	r0, r6, #8
 806 0154 1D4B     		ldr	r3, .L61
 807 0156 1844     		add	r0, r0, r3
 808 0158 0431     		adds	r1, r1, #4
 809 015a 0230     		adds	r0, r0, #2
 810 015c FFF7FEFF 		bl	EOE_ip_byte_to_uint32
 811              	.LVL57:
 690:Lib/soes/src/esc_eoe.c ****       /* Add size of uint32 IP address */
 812              		.loc 1 690 7 view .LVU253
 690:Lib/soes/src/esc_eoe.c ****       /* Add size of uint32 IP address */
 813              		.loc 1 690 37 is_stmt 0 view .LVU254
 814 0160 A9EB0409 		sub	r9, r9, r4
 815 0164 1AF83930 		ldrb	r3, [r10, r9, lsl #3]	@ zero_extendqisi2
 816 0168 43F01003 		orr	r3, r3, #16
 817 016c 0AF83930 		strb	r3, [r10, r9, lsl #3]
 692:Lib/soes/src/esc_eoe.c ****    }
 818              		.loc 1 692 7 is_stmt 1 view .LVU255
 692:Lib/soes/src/esc_eoe.c ****    }
 819              		.loc 1 692 19 is_stmt 0 view .LVU256
 820 0170 0436     		adds	r6, r6, #4
 821              	.LVL58:
 692:Lib/soes/src/esc_eoe.c ****    }
 822              		.loc 1 692 19 view .LVU257
 823 0172 71E7     		b	.L46
 824              	.L60:
 825              	.LBB3:
 697:Lib/soes/src/esc_eoe.c ****       memcpy(nic_ports[port_ix].dns_name,
 826              		.loc 1 697 7 is_stmt 1 view .LVU258
 697:Lib/soes/src/esc_eoe.c ****       memcpy(nic_ports[port_ix].dns_name,
 827              		.loc 1 697 26 is_stmt 0 view .LVU259
 828 0174 A8EB0607 		sub	r7, r8, r6
 829              	.LVL59:
 697:Lib/soes/src/esc_eoe.c ****       memcpy(nic_ports[port_ix].dns_name,
 830              		.loc 1 697 16 view .LVU260
 831 0178 202F     		cmp	r7, #32
 832 017a 28BF     		it	cs
 833 017c 2027     		movcs	r7, #32
 834              	.LVL60:
ARM GAS  /tmp/ccKy4lrp.s 			page 36


 698:Lib/soes/src/esc_eoe.c ****             &eoembx->data[data_offset],
 835              		.loc 1 698 7 is_stmt 1 view .LVU261
 698:Lib/soes/src/esc_eoe.c ****             &eoembx->data[data_offset],
 836              		.loc 1 698 32 is_stmt 0 view .LVU262
 837 017e DFF854A0 		ldr	r10, .L61+8
 838 0182 4FEAC409 		lsl	r9, r4, #3
 839 0186 C4EBC400 		rsb	r0, r4, r4, lsl #3
 840 018a C000     		lsls	r0, r0, #3
 841 018c 1830     		adds	r0, r0, #24
 699:Lib/soes/src/esc_eoe.c ****             dns_len);
 842              		.loc 1 699 13 view .LVU263
 843 018e 06F10801 		add	r1, r6, #8
 844 0192 0E4B     		ldr	r3, .L61
 845 0194 1944     		add	r1, r1, r3
 698:Lib/soes/src/esc_eoe.c ****             &eoembx->data[data_offset],
 846              		.loc 1 698 7 view .LVU264
 847 0196 3A46     		mov	r2, r7
 848 0198 0231     		adds	r1, r1, #2
 849 019a 5044     		add	r0, r0, r10
 850 019c FFF7FEFF 		bl	memcpy
 851              	.LVL61:
 701:Lib/soes/src/esc_eoe.c ****       data_offset += dns_len; /* expected 1- EOE_DNS_NAME_LENGTH; */
 852              		.loc 1 701 7 is_stmt 1 view .LVU265
 701:Lib/soes/src/esc_eoe.c ****       data_offset += dns_len; /* expected 1- EOE_DNS_NAME_LENGTH; */
 853              		.loc 1 701 39 is_stmt 0 view .LVU266
 854 01a0 A9EB0404 		sub	r4, r9, r4
 855              	.LVL62:
 701:Lib/soes/src/esc_eoe.c ****       data_offset += dns_len; /* expected 1- EOE_DNS_NAME_LENGTH; */
 856              		.loc 1 701 39 view .LVU267
 857 01a4 1AF83430 		ldrb	r3, [r10, r4, lsl #3]	@ zero_extendqisi2
 858 01a8 43F02003 		orr	r3, r3, #32
 859 01ac 0AF83430 		strb	r3, [r10, r4, lsl #3]
 702:Lib/soes/src/esc_eoe.c ****    }
 860              		.loc 1 702 7 is_stmt 1 view .LVU268
 702:Lib/soes/src/esc_eoe.c ****    }
 861              		.loc 1 702 19 is_stmt 0 view .LVU269
 862 01b0 3E44     		add	r6, r6, r7
 863              	.LVL63:
 702:Lib/soes/src/esc_eoe.c ****    }
 864              		.loc 1 702 19 view .LVU270
 865 01b2 55E7     		b	.L47
 866              	.LVL64:
 867              	.L51:
 702:Lib/soes/src/esc_eoe.c ****    }
 868              		.loc 1 702 19 view .LVU271
 869              	.LBE3:
 707:Lib/soes/src/esc_eoe.c ****    }
 870              		.loc 1 707 14 view .LVU272
 871 01b4 0621     		movs	r1, #6
 872              	.L48:
 873              	.LVL65:
 722:Lib/soes/src/esc_eoe.c ****    frameinfo1 |= EOE_INIT_RESP;
 874              		.loc 1 722 4 is_stmt 1 view .LVU273
 723:Lib/soes/src/esc_eoe.c ****    frameinfo1 |= EOE_HDR_LAST_FRAGMENT;
 875              		.loc 1 723 4 view .LVU274
 724:Lib/soes/src/esc_eoe.c ****    EOE_no_data_response(frameinfo1, result);
 876              		.loc 1 724 4 view .LVU275
ARM GAS  /tmp/ccKy4lrp.s 			page 37


 725:Lib/soes/src/esc_eoe.c **** }
 877              		.loc 1 725 4 view .LVU276
 878 01b6 40F20310 		movw	r0, #259
 879 01ba 40EA0510 		orr	r0, r0, r5, lsl #4
 880              	.LVL66:
 725:Lib/soes/src/esc_eoe.c **** }
 881              		.loc 1 725 4 is_stmt 0 view .LVU277
 882 01be FFF7FEFF 		bl	EOE_no_data_response
 883              	.LVL67:
 884              	.L38:
 726:Lib/soes/src/esc_eoe.c **** 
 885              		.loc 1 726 1 view .LVU278
 886 01c2 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 887              	.LVL68:
 888              	.L52:
 719:Lib/soes/src/esc_eoe.c ****       }
 889              		.loc 1 719 17 view .LVU279
 890 01c6 40F20121 		movw	r1, #513
 891 01ca F4E7     		b	.L48
 892              	.L62:
 893              		.align	2
 894              	.L61:
 895 01cc 00000000 		.word	MBX
 896 01d0 00000000 		.word	.LANCHOR1
 897 01d4 00000000 		.word	.LANCHOR2
 898 01d8 0E000000 		.word	MBX+14
 899              		.cfi_endproc
 900              	.LFE16:
 902              		.section	.text.EOE_get_ip,"ax",%progbits
 903              		.align	1
 904              		.syntax unified
 905              		.thumb
 906              		.thumb_func
 908              	EOE_get_ip:
 909              	.LFB15:
 502:Lib/soes/src/esc_eoe.c ****    _EOE *req_eoembx;
 910              		.loc 1 502 1 is_stmt 1 view -0
 911              		.cfi_startproc
 912              		@ args = 0, pretend = 0, frame = 0
 913              		@ frame_needed = 0, uses_anonymous_args = 0
 914 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 915              		.cfi_def_cfa_offset 32
 916              		.cfi_offset 3, -32
 917              		.cfi_offset 4, -28
 918              		.cfi_offset 5, -24
 919              		.cfi_offset 6, -20
 920              		.cfi_offset 7, -16
 921              		.cfi_offset 8, -12
 922              		.cfi_offset 9, -8
 923              		.cfi_offset 14, -4
 503:Lib/soes/src/esc_eoe.c ****    _EOE *eoembx;
 924              		.loc 1 503 4 view .LVU281
 504:Lib/soes/src/esc_eoe.c ****    uint8_t mbxhandle;
 925              		.loc 1 504 4 view .LVU282
 505:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo1;
 926              		.loc 1 505 4 view .LVU283
 506:Lib/soes/src/esc_eoe.c ****    uint8_t port;
ARM GAS  /tmp/ccKy4lrp.s 			page 38


 927              		.loc 1 506 4 view .LVU284
 507:Lib/soes/src/esc_eoe.c ****    uint8_t  flags;
 928              		.loc 1 507 4 view .LVU285
 508:Lib/soes/src/esc_eoe.c ****    uint32_t  data_offset;
 929              		.loc 1 508 4 view .LVU286
 509:Lib/soes/src/esc_eoe.c ****    int port_ix;
 930              		.loc 1 509 4 view .LVU287
 510:Lib/soes/src/esc_eoe.c **** 
 931              		.loc 1 510 4 view .LVU288
 512:Lib/soes/src/esc_eoe.c ****    frameinfo1 = etohs(req_eoembx->eoeheader.frameinfo1);
 932              		.loc 1 512 4 view .LVU289
 933              	.LVL69:
 513:Lib/soes/src/esc_eoe.c ****    port = EOE_HDR_FRAME_PORT_GET(frameinfo1);
 934              		.loc 1 513 4 view .LVU290
 513:Lib/soes/src/esc_eoe.c ****    port = EOE_HDR_FRAME_PORT_GET(frameinfo1);
 935              		.loc 1 513 15 is_stmt 0 view .LVU291
 936 0004 714B     		ldr	r3, .L84
 937 0006 DC88     		ldrh	r4, [r3, #6]	@ unaligned
 938              	.LVL70:
 514:Lib/soes/src/esc_eoe.c ****    data_offset = EOE_PARAM_OFFSET;
 939              		.loc 1 514 4 is_stmt 1 view .LVU292
 514:Lib/soes/src/esc_eoe.c ****    data_offset = EOE_PARAM_OFFSET;
 940              		.loc 1 514 11 is_stmt 0 view .LVU293
 941 0008 C4F30715 		ubfx	r5, r4, #4, #8
 514:Lib/soes/src/esc_eoe.c ****    data_offset = EOE_PARAM_OFFSET;
 942              		.loc 1 514 9 view .LVU294
 943 000c C4F30314 		ubfx	r4, r4, #4, #4
 944              	.LVL71:
 515:Lib/soes/src/esc_eoe.c ****    flags = 0;
 945              		.loc 1 515 4 is_stmt 1 view .LVU295
 516:Lib/soes/src/esc_eoe.c **** 
 946              		.loc 1 516 4 view .LVU296
 518:Lib/soes/src/esc_eoe.c ****    {
 947              		.loc 1 518 4 view .LVU297
 518:Lib/soes/src/esc_eoe.c ****    {
 948              		.loc 1 518 6 is_stmt 0 view .LVU298
 949 0010 15F00E05 		ands	r5, r5, #14
 950 0014 5AD1     		bne	.L77
 531:Lib/soes/src/esc_eoe.c ****    {
 951              		.loc 1 531 4 is_stmt 1 view .LVU299
 531:Lib/soes/src/esc_eoe.c ****    {
 952              		.loc 1 531 14 is_stmt 0 view .LVU300
 953 0016 6E4B     		ldr	r3, .L84+4
 954 0018 1B68     		ldr	r3, [r3]
 955 001a 9B68     		ldr	r3, [r3, #8]
 531:Lib/soes/src/esc_eoe.c ****    {
 956              		.loc 1 531 6 view .LVU301
 957 001c 03B1     		cbz	r3, .L66
 533:Lib/soes/src/esc_eoe.c ****    }
 958              		.loc 1 533 7 is_stmt 1 view .LVU302
 533:Lib/soes/src/esc_eoe.c ****    }
 959              		.loc 1 533 13 is_stmt 0 view .LVU303
 960 001e 9847     		blx	r3
 961              	.LVL72:
 962              	.L66:
 537:Lib/soes/src/esc_eoe.c ****    if (mbxhandle)
 963              		.loc 1 537 4 is_stmt 1 view .LVU304
ARM GAS  /tmp/ccKy4lrp.s 			page 39


 537:Lib/soes/src/esc_eoe.c ****    if (mbxhandle)
 964              		.loc 1 537 16 is_stmt 0 view .LVU305
 965 0020 FFF7FEFF 		bl	ESC_claimbuffer
 966              	.LVL73:
 538:Lib/soes/src/esc_eoe.c ****    {
 967              		.loc 1 538 4 is_stmt 1 view .LVU306
 538:Lib/soes/src/esc_eoe.c ****    {
 968              		.loc 1 538 7 is_stmt 0 view .LVU307
 969 0024 0028     		cmp	r0, #0
 970 0026 4FD0     		beq	.L63
 540:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 971              		.loc 1 540 7 is_stmt 1 view .LVU308
 540:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 972              		.loc 1 540 42 is_stmt 0 view .LVU309
 973 0028 6A4A     		ldr	r2, .L84+8
 974 002a D26E     		ldr	r2, [r2, #108]
 540:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 975              		.loc 1 540 40 view .LVU310
 976 002c 02FB00F8 		mul	r8, r2, r0
 540:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 977              		.loc 1 540 14 view .LVU311
 978 0030 DFF89891 		ldr	r9, .L84
 979 0034 08EB0906 		add	r6, r8, r9
 980              	.LVL74:
 541:Lib/soes/src/esc_eoe.c ****       MBXcontrol[mbxhandle].state = MBXstate_outreq;
 981              		.loc 1 541 7 is_stmt 1 view .LVU312
 541:Lib/soes/src/esc_eoe.c ****       MBXcontrol[mbxhandle].state = MBXstate_outreq;
 982              		.loc 1 541 33 is_stmt 0 view .LVU313
 983 0038 7279     		ldrb	r2, [r6, #5]	@ zero_extendqisi2
 984 003a 0221     		movs	r1, #2
 985 003c 61F30302 		bfi	r2, r1, #0, #4
 986 0040 7271     		strb	r2, [r6, #5]
 542:Lib/soes/src/esc_eoe.c ****       frameinfo1 = EOE_HDR_FRAME_PORT_SET(port);
 987              		.loc 1 542 7 is_stmt 1 view .LVU314
 542:Lib/soes/src/esc_eoe.c ****       frameinfo1 = EOE_HDR_FRAME_PORT_SET(port);
 988              		.loc 1 542 35 is_stmt 0 view .LVU315
 989 0042 654A     		ldr	r2, .L84+12
 990 0044 0321     		movs	r1, #3
 991 0046 1154     		strb	r1, [r2, r0]
 543:Lib/soes/src/esc_eoe.c ****       frameinfo1 |= EOE_HDR_FRAME_TYPE_SET(EOE_GET_IP_PARAM_RESP);
 992              		.loc 1 543 7 is_stmt 1 view .LVU316
 993              	.LVL75:
 544:Lib/soes/src/esc_eoe.c ****       frameinfo1 |= EOE_HDR_LAST_FRAGMENT;
 994              		.loc 1 544 7 view .LVU317
 545:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 995              		.loc 1 545 7 view .LVU318
 545:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 996              		.loc 1 545 18 is_stmt 0 view .LVU319
 997 0048 40F20713 		movw	r3, #263
 998 004c 43EA0413 		orr	r3, r3, r4, lsl #4
 999              	.LVL76:
 546:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo2 = 0;
 1000              		.loc 1 546 7 is_stmt 1 view .LVU320
 546:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo2 = 0;
 1001              		.loc 1 546 36 is_stmt 0 view .LVU321
 1002 0050 F380     		strh	r3, [r6, #6]	@ unaligned
 547:Lib/soes/src/esc_eoe.c **** 
ARM GAS  /tmp/ccKy4lrp.s 			page 40


 1003              		.loc 1 547 7 is_stmt 1 view .LVU322
 547:Lib/soes/src/esc_eoe.c **** 
 1004              		.loc 1 547 36 is_stmt 0 view .LVU323
 1005 0052 0023     		movs	r3, #0
 1006              	.LVL77:
 547:Lib/soes/src/esc_eoe.c **** 
 1007              		.loc 1 547 36 view .LVU324
 1008 0054 3372     		strb	r3, [r6, #8]
 1009 0056 7372     		strb	r3, [r6, #9]
 550:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 1010              		.loc 1 550 7 is_stmt 1 view .LVU325
 550:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 1011              		.loc 1 550 17 is_stmt 0 view .LVU326
 1012 0058 002C     		cmp	r4, #0
 1013 005a 3FD0     		beq	.L74
 550:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 1014              		.loc 1 550 17 discriminator 1 view .LVU327
 1015 005c 013C     		subs	r4, r4, #1
 1016              	.LVL78:
 1017              	.L67:
 551:Lib/soes/src/esc_eoe.c ****       {
 1018              		.loc 1 551 7 is_stmt 1 discriminator 4 view .LVU328
 551:Lib/soes/src/esc_eoe.c ****       {
 1019              		.loc 1 551 28 is_stmt 0 discriminator 4 view .LVU329
 1020 005e C4EBC403 		rsb	r3, r4, r4, lsl #3
 1021 0062 5E4A     		ldr	r2, .L84+16
 1022 0064 12F83330 		ldrb	r3, [r2, r3, lsl #3]	@ zero_extendqisi2
 551:Lib/soes/src/esc_eoe.c ****       {
 1023              		.loc 1 551 9 discriminator 4 view .LVU330
 1024 0068 13F0010F 		tst	r3, #1
 1025 006c 38D1     		bne	.L78
 515:Lib/soes/src/esc_eoe.c ****    flags = 0;
 1026              		.loc 1 515 16 view .LVU331
 1027 006e 0427     		movs	r7, #4
 1028              	.LVL79:
 1029              	.L68:
 562:Lib/soes/src/esc_eoe.c ****       {
 1030              		.loc 1 562 7 is_stmt 1 view .LVU332
 562:Lib/soes/src/esc_eoe.c ****       {
 1031              		.loc 1 562 28 is_stmt 0 view .LVU333
 1032 0070 C4EBC403 		rsb	r3, r4, r4, lsl #3
 1033 0074 594A     		ldr	r2, .L84+16
 1034 0076 12F83330 		ldrb	r3, [r2, r3, lsl #3]	@ zero_extendqisi2
 562:Lib/soes/src/esc_eoe.c ****       {
 1035              		.loc 1 562 9 view .LVU334
 1036 007a 13F0020F 		tst	r3, #2
 1037 007e 3DD1     		bne	.L79
 1038              	.LVL80:
 1039              	.L69:
 572:Lib/soes/src/esc_eoe.c ****       {
 1040              		.loc 1 572 7 is_stmt 1 view .LVU335
 572:Lib/soes/src/esc_eoe.c ****       {
 1041              		.loc 1 572 28 is_stmt 0 view .LVU336
 1042 0080 C4EBC403 		rsb	r3, r4, r4, lsl #3
 1043 0084 554A     		ldr	r2, .L84+16
 1044 0086 12F83330 		ldrb	r3, [r2, r3, lsl #3]	@ zero_extendqisi2
 572:Lib/soes/src/esc_eoe.c ****       {
ARM GAS  /tmp/ccKy4lrp.s 			page 41


 1045              		.loc 1 572 9 view .LVU337
 1046 008a 13F0040F 		tst	r3, #4
 1047 008e 45D1     		bne	.L80
 1048              	.L70:
 582:Lib/soes/src/esc_eoe.c ****       {
 1049              		.loc 1 582 7 is_stmt 1 view .LVU338
 582:Lib/soes/src/esc_eoe.c ****       {
 1050              		.loc 1 582 28 is_stmt 0 view .LVU339
 1051 0090 C4EBC403 		rsb	r3, r4, r4, lsl #3
 1052 0094 514A     		ldr	r2, .L84+16
 1053 0096 12F83330 		ldrb	r3, [r2, r3, lsl #3]	@ zero_extendqisi2
 582:Lib/soes/src/esc_eoe.c ****       {
 1054              		.loc 1 582 9 view .LVU340
 1055 009a 13F0080F 		tst	r3, #8
 1056 009e 4DD1     		bne	.L81
 1057              	.L71:
 591:Lib/soes/src/esc_eoe.c ****       {
 1058              		.loc 1 591 7 is_stmt 1 view .LVU341
 591:Lib/soes/src/esc_eoe.c ****       {
 1059              		.loc 1 591 28 is_stmt 0 view .LVU342
 1060 00a0 C4EBC403 		rsb	r3, r4, r4, lsl #3
 1061 00a4 4D4A     		ldr	r2, .L84+16
 1062 00a6 12F83330 		ldrb	r3, [r2, r3, lsl #3]	@ zero_extendqisi2
 591:Lib/soes/src/esc_eoe.c ****       {
 1063              		.loc 1 591 9 view .LVU343
 1064 00aa 13F0100F 		tst	r3, #16
 1065 00ae 55D1     		bne	.L82
 1066              	.L72:
 601:Lib/soes/src/esc_eoe.c ****       {
 1067              		.loc 1 601 7 is_stmt 1 view .LVU344
 601:Lib/soes/src/esc_eoe.c ****       {
 1068              		.loc 1 601 28 is_stmt 0 view .LVU345
 1069 00b0 C4EBC403 		rsb	r3, r4, r4, lsl #3
 1070 00b4 494A     		ldr	r2, .L84+16
 1071 00b6 12F83330 		ldrb	r3, [r2, r3, lsl #3]	@ zero_extendqisi2
 601:Lib/soes/src/esc_eoe.c ****       {
 1072              		.loc 1 601 9 view .LVU346
 1073 00ba 13F0200F 		tst	r3, #32
 1074 00be 5DD1     		bne	.L83
 1075              	.LVL81:
 1076              	.L73:
 612:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE + data_offset);
 1077              		.loc 1 612 7 is_stmt 1 view .LVU347
 612:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE + data_offset);
 1078              		.loc 1 612 23 is_stmt 0 view .LVU348
 1079 00c0 B572     		strb	r5, [r6, #10]
 613:Lib/soes/src/esc_eoe.c ****    }
 1080              		.loc 1 613 7 is_stmt 1 view .LVU349
 613:Lib/soes/src/esc_eoe.c ****    }
 1081              		.loc 1 613 34 is_stmt 0 view .LVU350
 1082 00c2 0437     		adds	r7, r7, #4
 1083              	.LVL82:
 613:Lib/soes/src/esc_eoe.c ****    }
 1084              		.loc 1 613 32 view .LVU351
 1085 00c4 29F80870 		strh	r7, [r9, r8]	@ unaligned
 1086              	.LVL83:
 1087              	.L63:
ARM GAS  /tmp/ccKy4lrp.s 			page 42


 615:Lib/soes/src/esc_eoe.c **** 
 1088              		.loc 1 615 1 view .LVU352
 1089 00c8 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1090              	.LVL84:
 1091              	.L77:
 520:Lib/soes/src/esc_eoe.c ****       frameinfo1 = EOE_HDR_FRAME_PORT_SET(port);
 1092              		.loc 1 520 31 is_stmt 1 view .LVU353
 521:Lib/soes/src/esc_eoe.c ****       frameinfo1 |= EOE_INIT_RESP;
 1093              		.loc 1 521 7 view .LVU354
 522:Lib/soes/src/esc_eoe.c ****       frameinfo1 |= EOE_HDR_LAST_FRAGMENT;
 1094              		.loc 1 522 7 view .LVU355
 523:Lib/soes/src/esc_eoe.c ****       /* Return error response on given port */
 1095              		.loc 1 523 7 view .LVU356
 525:Lib/soes/src/esc_eoe.c ****             EOE_RESULT_UNSPECIFIED_ERROR);
 1096              		.loc 1 525 7 view .LVU357
 1097 00cc 0121     		movs	r1, #1
 1098 00ce 40F20310 		movw	r0, #259
 1099 00d2 40EA0410 		orr	r0, r0, r4, lsl #4
 1100              	.LVL85:
 525:Lib/soes/src/esc_eoe.c ****             EOE_RESULT_UNSPECIFIED_ERROR);
 1101              		.loc 1 525 7 is_stmt 0 view .LVU358
 1102 00d6 FFF7FEFF 		bl	EOE_no_data_response
 1103              	.LVL86:
 527:Lib/soes/src/esc_eoe.c ****    }
 1104              		.loc 1 527 7 is_stmt 1 view .LVU359
 1105 00da F5E7     		b	.L63
 1106              	.LVL87:
 1107              	.L74:
 550:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 1108              		.loc 1 550 17 is_stmt 0 view .LVU360
 1109 00dc 0024     		movs	r4, #0
 1110              	.LVL88:
 550:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 1111              		.loc 1 550 17 view .LVU361
 1112 00de BEE7     		b	.L67
 1113              	.LVL89:
 1114              	.L78:
 553:Lib/soes/src/esc_eoe.c ****          memcpy(&eoembx->data[data_offset] ,
 1115              		.loc 1 553 10 is_stmt 1 view .LVU362
 554:Lib/soes/src/esc_eoe.c ****                nic_ports[port_ix].mac.addr,
 1116              		.loc 1 554 10 view .LVU363
 555:Lib/soes/src/esc_eoe.c ****                EOE_ETHADDR_LENGTH);
 1117              		.loc 1 555 38 is_stmt 0 view .LVU364
 1118 00e0 C4EBC403 		rsb	r3, r4, r4, lsl #3
 1119 00e4 02EBC303 		add	r3, r2, r3, lsl #3
 554:Lib/soes/src/esc_eoe.c ****                nic_ports[port_ix].mac.addr,
 1120              		.loc 1 554 10 view .LVU365
 1121 00e8 D3F80120 		ldr	r2, [r3, #1]	@ unaligned
 1122 00ec C6F80E20 		str	r2, [r6, #14]	@ unaligned
 1123 00f0 B3F80530 		ldrh	r3, [r3, #5]	@ unaligned
 1124 00f4 7382     		strh	r3, [r6, #18]	@ unaligned
 558:Lib/soes/src/esc_eoe.c **** 
 1125              		.loc 1 558 10 is_stmt 1 view .LVU366
 1126              	.LVL90:
 558:Lib/soes/src/esc_eoe.c **** 
 1127              		.loc 1 558 22 is_stmt 0 view .LVU367
 1128 00f6 0A27     		movs	r7, #10
ARM GAS  /tmp/ccKy4lrp.s 			page 43


 553:Lib/soes/src/esc_eoe.c ****          memcpy(&eoembx->data[data_offset] ,
 1129              		.loc 1 553 16 view .LVU368
 1130 00f8 0125     		movs	r5, #1
 1131 00fa B9E7     		b	.L68
 1132              	.LVL91:
 1133              	.L79:
 564:Lib/soes/src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].ip,
 1134              		.loc 1 564 10 is_stmt 1 view .LVU369
 564:Lib/soes/src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].ip,
 1135              		.loc 1 564 16 is_stmt 0 view .LVU370
 1136 00fc 45F00205 		orr	r5, r5, #2
 1137              	.LVL92:
 565:Lib/soes/src/esc_eoe.c ****                &eoembx->data[data_offset]);
 1138              		.loc 1 565 10 is_stmt 1 view .LVU371
 1139 0100 07F10801 		add	r1, r7, #8
 1140 0104 3144     		add	r1, r1, r6
 1141 0106 C4EBC403 		rsb	r3, r4, r4, lsl #3
 1142 010a DB00     		lsls	r3, r3, #3
 1143 010c 0833     		adds	r3, r3, #8
 1144 010e 0231     		adds	r1, r1, #2
 1145 0110 1046     		mov	r0, r2
 1146              	.LVL93:
 565:Lib/soes/src/esc_eoe.c ****                &eoembx->data[data_offset]);
 1147              		.loc 1 565 10 is_stmt 0 view .LVU372
 1148 0112 1844     		add	r0, r0, r3
 1149 0114 FFF7FEFF 		bl	EOE_ip_uint32_to_byte
 1150              	.LVL94:
 568:Lib/soes/src/esc_eoe.c ****       }
 1151              		.loc 1 568 10 is_stmt 1 view .LVU373
 568:Lib/soes/src/esc_eoe.c ****       }
 1152              		.loc 1 568 22 is_stmt 0 view .LVU374
 1153 0118 0437     		adds	r7, r7, #4
 1154              	.LVL95:
 568:Lib/soes/src/esc_eoe.c ****       }
 1155              		.loc 1 568 22 view .LVU375
 1156 011a B1E7     		b	.L69
 1157              	.L80:
 574:Lib/soes/src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].subnet,
 1158              		.loc 1 574 10 is_stmt 1 view .LVU376
 574:Lib/soes/src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].subnet,
 1159              		.loc 1 574 16 is_stmt 0 view .LVU377
 1160 011c 45F00405 		orr	r5, r5, #4
 1161              	.LVL96:
 575:Lib/soes/src/esc_eoe.c ****                &eoembx->data[data_offset]);
 1162              		.loc 1 575 10 is_stmt 1 view .LVU378
 1163 0120 07F10801 		add	r1, r7, #8
 1164 0124 3144     		add	r1, r1, r6
 1165 0126 C4EBC400 		rsb	r0, r4, r4, lsl #3
 1166 012a C000     		lsls	r0, r0, #3
 1167 012c 0830     		adds	r0, r0, #8
 1168 012e 1044     		add	r0, r0, r2
 1169 0130 0231     		adds	r1, r1, #2
 1170 0132 0430     		adds	r0, r0, #4
 1171 0134 FFF7FEFF 		bl	EOE_ip_uint32_to_byte
 1172              	.LVL97:
 578:Lib/soes/src/esc_eoe.c ****       }
 1173              		.loc 1 578 10 view .LVU379
ARM GAS  /tmp/ccKy4lrp.s 			page 44


 578:Lib/soes/src/esc_eoe.c ****       }
 1174              		.loc 1 578 22 is_stmt 0 view .LVU380
 1175 0138 0437     		adds	r7, r7, #4
 1176              	.LVL98:
 578:Lib/soes/src/esc_eoe.c ****       }
 1177              		.loc 1 578 22 view .LVU381
 1178 013a A9E7     		b	.L70
 1179              	.L81:
 584:Lib/soes/src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].default_gateway,
 1180              		.loc 1 584 10 is_stmt 1 view .LVU382
 584:Lib/soes/src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].default_gateway,
 1181              		.loc 1 584 16 is_stmt 0 view .LVU383
 1182 013c 45F00805 		orr	r5, r5, #8
 1183              	.LVL99:
 585:Lib/soes/src/esc_eoe.c ****                &eoembx->data[data_offset]);
 1184              		.loc 1 585 10 is_stmt 1 view .LVU384
 1185 0140 07F10801 		add	r1, r7, #8
 1186 0144 3144     		add	r1, r1, r6
 1187 0146 C4EBC403 		rsb	r3, r4, r4, lsl #3
 1188 014a DB00     		lsls	r3, r3, #3
 1189 014c 1033     		adds	r3, r3, #16
 1190 014e 0231     		adds	r1, r1, #2
 1191 0150 1046     		mov	r0, r2
 1192 0152 1844     		add	r0, r0, r3
 1193 0154 FFF7FEFF 		bl	EOE_ip_uint32_to_byte
 1194              	.LVL100:
 588:Lib/soes/src/esc_eoe.c ****       }
 1195              		.loc 1 588 10 view .LVU385
 588:Lib/soes/src/esc_eoe.c ****       }
 1196              		.loc 1 588 22 is_stmt 0 view .LVU386
 1197 0158 0437     		adds	r7, r7, #4
 1198              	.LVL101:
 588:Lib/soes/src/esc_eoe.c ****       }
 1199              		.loc 1 588 22 view .LVU387
 1200 015a A1E7     		b	.L71
 1201              	.L82:
 593:Lib/soes/src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].dns_ip,
 1202              		.loc 1 593 10 is_stmt 1 view .LVU388
 593:Lib/soes/src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].dns_ip,
 1203              		.loc 1 593 16 is_stmt 0 view .LVU389
 1204 015c 45F01005 		orr	r5, r5, #16
 1205              	.LVL102:
 594:Lib/soes/src/esc_eoe.c ****                &eoembx->data[data_offset]);
 1206              		.loc 1 594 10 is_stmt 1 view .LVU390
 1207 0160 07F10801 		add	r1, r7, #8
 1208 0164 3144     		add	r1, r1, r6
 1209 0166 C4EBC400 		rsb	r0, r4, r4, lsl #3
 1210 016a C000     		lsls	r0, r0, #3
 1211 016c 1030     		adds	r0, r0, #16
 1212 016e 1044     		add	r0, r0, r2
 1213 0170 0231     		adds	r1, r1, #2
 1214 0172 0430     		adds	r0, r0, #4
 1215 0174 FFF7FEFF 		bl	EOE_ip_uint32_to_byte
 1216              	.LVL103:
 597:Lib/soes/src/esc_eoe.c ****       }
 1217              		.loc 1 597 10 view .LVU391
 597:Lib/soes/src/esc_eoe.c ****       }
ARM GAS  /tmp/ccKy4lrp.s 			page 45


 1218              		.loc 1 597 22 is_stmt 0 view .LVU392
 1219 0178 0437     		adds	r7, r7, #4
 1220              	.LVL104:
 597:Lib/soes/src/esc_eoe.c ****       }
 1221              		.loc 1 597 22 view .LVU393
 1222 017a 99E7     		b	.L72
 1223              	.L83:
 604:Lib/soes/src/esc_eoe.c ****          memcpy(&eoembx->data[data_offset],
 1224              		.loc 1 604 10 is_stmt 1 view .LVU394
 604:Lib/soes/src/esc_eoe.c ****          memcpy(&eoembx->data[data_offset],
 1225              		.loc 1 604 16 is_stmt 0 view .LVU395
 1226 017c 45F02005 		orr	r5, r5, #32
 1227              	.LVL105:
 605:Lib/soes/src/esc_eoe.c ****                nic_ports[port_ix].dns_name,
 1228              		.loc 1 605 10 is_stmt 1 view .LVU396
 605:Lib/soes/src/esc_eoe.c ****                nic_ports[port_ix].dns_name,
 1229              		.loc 1 605 17 is_stmt 0 view .LVU397
 1230 0180 07F10803 		add	r3, r7, #8
 1231 0184 3344     		add	r3, r3, r6
 606:Lib/soes/src/esc_eoe.c ****                EOE_DNS_NAME_LENGTH);
 1232              		.loc 1 606 34 view .LVU398
 1233 0186 1146     		mov	r1, r2
 1234 0188 C4EBC404 		rsb	r4, r4, r4, lsl #3
 1235              	.LVL106:
 606:Lib/soes/src/esc_eoe.c ****                EOE_DNS_NAME_LENGTH);
 1236              		.loc 1 606 34 view .LVU399
 1237 018c E400     		lsls	r4, r4, #3
 1238 018e 1834     		adds	r4, r4, #24
 1239 0190 2244     		add	r2, r2, r4
 605:Lib/soes/src/esc_eoe.c ****                nic_ports[port_ix].dns_name,
 1240              		.loc 1 605 10 view .LVU400
 1241 0192 51F804C0 		ldr	ip, [r1, r4]	@ unaligned
 1242 0196 5468     		ldr	r4, [r2, #4]	@ unaligned
 1243 0198 9068     		ldr	r0, [r2, #8]	@ unaligned
 1244 019a D168     		ldr	r1, [r2, #12]	@ unaligned
 1245 019c C3F802C0 		str	ip, [r3, #2]	@ unaligned
 1246 01a0 C3F80640 		str	r4, [r3, #6]	@ unaligned
 1247 01a4 C3F80A00 		str	r0, [r3, #10]	@ unaligned
 1248 01a8 C3F80E10 		str	r1, [r3, #14]	@ unaligned
 1249 01ac D2F810C0 		ldr	ip, [r2, #16]	@ unaligned
 1250 01b0 5469     		ldr	r4, [r2, #20]	@ unaligned
 1251 01b2 9069     		ldr	r0, [r2, #24]	@ unaligned
 1252 01b4 D169     		ldr	r1, [r2, #28]	@ unaligned
 1253 01b6 C3F812C0 		str	ip, [r3, #18]	@ unaligned
 1254 01ba C3F81640 		str	r4, [r3, #22]	@ unaligned
 1255 01be C3F81A00 		str	r0, [r3, #26]	@ unaligned
 1256 01c2 C3F81E10 		str	r1, [r3, #30]	@ unaligned
 609:Lib/soes/src/esc_eoe.c ****       }
 1257              		.loc 1 609 10 is_stmt 1 view .LVU401
 609:Lib/soes/src/esc_eoe.c ****       }
 1258              		.loc 1 609 22 is_stmt 0 view .LVU402
 1259 01c6 2037     		adds	r7, r7, #32
 1260              	.LVL107:
 609:Lib/soes/src/esc_eoe.c ****       }
 1261              		.loc 1 609 22 view .LVU403
 1262 01c8 7AE7     		b	.L73
 1263              	.L85:
ARM GAS  /tmp/ccKy4lrp.s 			page 46


 1264 01ca 00BF     		.align	2
 1265              	.L84:
 1266 01cc 00000000 		.word	MBX
 1267 01d0 00000000 		.word	.LANCHOR1
 1268 01d4 00000000 		.word	ESCvar
 1269 01d8 00000000 		.word	MBXcontrol
 1270 01dc 00000000 		.word	.LANCHOR2
 1271              		.cfi_endproc
 1272              	.LFE15:
 1274              		.section	.text.EOE_send_fragment,"ax",%progbits
 1275              		.align	1
 1276              		.syntax unified
 1277              		.thumb
 1278              		.thumb_func
 1280              	EOE_send_fragment:
 1281              	.LFB18:
 829:Lib/soes/src/esc_eoe.c ****    _EOE *eoembx;
 1282              		.loc 1 829 1 is_stmt 1 view -0
 1283              		.cfi_startproc
 1284              		@ args = 0, pretend = 0, frame = 0
 1285              		@ frame_needed = 0, uses_anonymous_args = 0
 1286 0000 70B5     		push	{r4, r5, r6, lr}
 1287              		.cfi_def_cfa_offset 16
 1288              		.cfi_offset 4, -16
 1289              		.cfi_offset 5, -12
 1290              		.cfi_offset 6, -8
 1291              		.cfi_offset 14, -4
 830:Lib/soes/src/esc_eoe.c ****    uint8_t mbxhandle;
 1292              		.loc 1 830 4 view .LVU405
 831:Lib/soes/src/esc_eoe.c ****    int len;
 1293              		.loc 1 831 4 view .LVU406
 832:Lib/soes/src/esc_eoe.c ****    uint32_t len_to_send;
 1294              		.loc 1 832 4 view .LVU407
 833:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo1;
 1295              		.loc 1 833 4 view .LVU408
 834:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo2;
 1296              		.loc 1 834 4 view .LVU409
 835:Lib/soes/src/esc_eoe.c ****    static uint8_t frameno = 0;
 1297              		.loc 1 835 4 view .LVU410
 836:Lib/soes/src/esc_eoe.c **** 
 1298              		.loc 1 836 4 view .LVU411
 839:Lib/soes/src/esc_eoe.c ****    {
 1299              		.loc 1 839 4 view .LVU412
 839:Lib/soes/src/esc_eoe.c ****    {
 1300              		.loc 1 839 20 is_stmt 0 view .LVU413
 1301 0002 3B4B     		ldr	r3, .L101
 1302 0004 1B69     		ldr	r3, [r3, #16]
 839:Lib/soes/src/esc_eoe.c ****    {
 1303              		.loc 1 839 6 view .LVU414
 1304 0006 002B     		cmp	r3, #0
 1305 0008 54D0     		beq	.L98
 1306              	.L87:
 854:Lib/soes/src/esc_eoe.c ****    if (mbxhandle)
 1307              		.loc 1 854 4 is_stmt 1 view .LVU415
 854:Lib/soes/src/esc_eoe.c ****    if (mbxhandle)
 1308              		.loc 1 854 16 is_stmt 0 view .LVU416
 1309 000a FFF7FEFF 		bl	ESC_claimbuffer
ARM GAS  /tmp/ccKy4lrp.s 			page 47


 1310              	.LVL108:
 855:Lib/soes/src/esc_eoe.c ****    {
 1311              		.loc 1 855 4 is_stmt 1 view .LVU417
 855:Lib/soes/src/esc_eoe.c ****    {
 1312              		.loc 1 855 7 is_stmt 0 view .LVU418
 1313 000e 0546     		mov	r5, r0
 1314 0010 0028     		cmp	r0, #0
 1315 0012 4ED0     		beq	.L86
 1316              	.LBB4:
 857:Lib/soes/src/esc_eoe.c ****       if((len_to_send + ESC_EOEHSIZE + ESC_MBXHSIZE) > ESC_MBXSIZE)
 1317              		.loc 1 857 7 is_stmt 1 view .LVU419
 857:Lib/soes/src/esc_eoe.c ****       if((len_to_send + ESC_EOEHSIZE + ESC_MBXHSIZE) > ESC_MBXSIZE)
 1318              		.loc 1 857 28 is_stmt 0 view .LVU420
 1319 0014 364B     		ldr	r3, .L101
 1320 0016 9A6A     		ldr	r2, [r3, #40]
 857:Lib/soes/src/esc_eoe.c ****       if((len_to_send + ESC_EOEHSIZE + ESC_MBXHSIZE) > ESC_MBXSIZE)
 1321              		.loc 1 857 49 view .LVU421
 1322 0018 D96A     		ldr	r1, [r3, #44]
 857:Lib/soes/src/esc_eoe.c ****       if((len_to_send + ESC_EOEHSIZE + ESC_MBXHSIZE) > ESC_MBXSIZE)
 1323              		.loc 1 857 19 view .LVU422
 1324 001a 501A     		subs	r0, r2, r1
 1325              	.LVL109:
 858:Lib/soes/src/esc_eoe.c ****       {
 1326              		.loc 1 858 7 is_stmt 1 view .LVU423
 858:Lib/soes/src/esc_eoe.c ****       {
 1327              		.loc 1 858 38 is_stmt 0 view .LVU424
 1328 001c 00F10A04 		add	r4, r0, #10
 858:Lib/soes/src/esc_eoe.c ****       {
 1329              		.loc 1 858 56 view .LVU425
 1330 0020 344B     		ldr	r3, .L101+4
 1331 0022 DB6E     		ldr	r3, [r3, #108]
 858:Lib/soes/src/esc_eoe.c ****       {
 1332              		.loc 1 858 9 view .LVU426
 1333 0024 9C42     		cmp	r4, r3
 1334 0026 50D9     		bls	.L95
 861:Lib/soes/src/esc_eoe.c ****                (((ESC_MBXSIZE - ESC_EOEHSIZE - ESC_MBXHSIZE) >> 5) << 5);
 1335              		.loc 1 861 10 is_stmt 1 view .LVU427
 862:Lib/soes/src/esc_eoe.c ****       }
 1336              		.loc 1 862 46 is_stmt 0 view .LVU428
 1337 0028 A3F10A04 		sub	r4, r3, #10
 861:Lib/soes/src/esc_eoe.c ****                (((ESC_MBXSIZE - ESC_EOEHSIZE - ESC_MBXHSIZE) >> 5) << 5);
 1338              		.loc 1 861 22 view .LVU429
 1339 002c 24F01F04 		bic	r4, r4, #31
 1340              	.LVL110:
 1341              	.L89:
 866:Lib/soes/src/esc_eoe.c ****       {
 1342              		.loc 1 866 7 is_stmt 1 view .LVU430
 866:Lib/soes/src/esc_eoe.c ****       {
 1343              		.loc 1 866 9 is_stmt 0 view .LVU431
 1344 0030 8442     		cmp	r4, r0
 1345 0032 4CD0     		beq	.L99
 872:Lib/soes/src/esc_eoe.c ****       }
 1346              		.loc 1 872 21 view .LVU432
 1347 0034 4FF0000C 		mov	ip, #0
 1348              	.L90:
 1349              	.LVL111:
 875:Lib/soes/src/esc_eoe.c ****       /* Set fragment number */
ARM GAS  /tmp/ccKy4lrp.s 			page 48


 1350              		.loc 1 875 7 is_stmt 1 view .LVU433
 877:Lib/soes/src/esc_eoe.c **** 
 1351              		.loc 1 877 7 view .LVU434
 877:Lib/soes/src/esc_eoe.c **** 
 1352              		.loc 1 877 20 is_stmt 0 view .LVU435
 1353 0038 2D48     		ldr	r0, .L101
 1354 003a 90F82660 		ldrb	r6, [r0, #38]	@ zero_extendqisi2
 877:Lib/soes/src/esc_eoe.c **** 
 1355              		.loc 1 877 18 view .LVU436
 1356 003e 06F03F00 		and	r0, r6, #63
 1357              	.LVL112:
 880:Lib/soes/src/esc_eoe.c ****       {
 1358              		.loc 1 880 7 is_stmt 1 view .LVU437
 880:Lib/soes/src/esc_eoe.c ****       {
 1359              		.loc 1 880 9 is_stmt 0 view .LVU438
 1360 0042 002E     		cmp	r6, #0
 1361 0044 46D0     		beq	.L91
 882:Lib/soes/src/esc_eoe.c ****          frameinfo2 |= tempframe2;
 1362              		.loc 1 882 10 is_stmt 1 view .LVU439
 882:Lib/soes/src/esc_eoe.c ****          frameinfo2 |= tempframe2;
 1363              		.loc 1 882 23 is_stmt 0 view .LVU440
 1364 0046 4A09     		lsrs	r2, r1, #5
 1365 0048 9201     		lsls	r2, r2, #6
 882:Lib/soes/src/esc_eoe.c ****          frameinfo2 |= tempframe2;
 1366              		.loc 1 882 21 view .LVU441
 1367 004a 02F47C62 		and	r2, r2, #4032
 1368              	.LVL113:
 883:Lib/soes/src/esc_eoe.c ****       }
 1369              		.loc 1 883 10 is_stmt 1 view .LVU442
 883:Lib/soes/src/esc_eoe.c ****       }
 1370              		.loc 1 883 21 is_stmt 0 view .LVU443
 1371 004e 0243     		orrs	r2, r2, r0
 1372              	.LVL114:
 1373              	.L92:
 893:Lib/soes/src/esc_eoe.c ****       frameinfo2 |= tempframe2;
 1374              		.loc 1 893 7 is_stmt 1 view .LVU444
 893:Lib/soes/src/esc_eoe.c ****       frameinfo2 |= tempframe2;
 1375              		.loc 1 893 20 is_stmt 0 view .LVU445
 1376 0050 2948     		ldr	r0, .L101+8
 1377 0052 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 893:Lib/soes/src/esc_eoe.c ****       frameinfo2 |= tempframe2;
 1378              		.loc 1 893 18 view .LVU446
 1379 0054 0003     		lsls	r0, r0, #12
 1380 0056 80B2     		uxth	r0, r0
 1381              	.LVL115:
 894:Lib/soes/src/esc_eoe.c **** 
 1382              		.loc 1 894 7 is_stmt 1 view .LVU447
 894:Lib/soes/src/esc_eoe.c **** 
 1383              		.loc 1 894 18 is_stmt 0 view .LVU448
 1384 0058 0243     		orrs	r2, r2, r0
 1385              	.LVL116:
 896:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (len_to_send + ESC_EOEHSIZE);
 1386              		.loc 1 896 7 is_stmt 1 view .LVU449
 896:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (len_to_send + ESC_EOEHSIZE);
 1387              		.loc 1 896 40 is_stmt 0 view .LVU450
 1388 005a 05FB03F3 		mul	r3, r5, r3
 896:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (len_to_send + ESC_EOEHSIZE);
ARM GAS  /tmp/ccKy4lrp.s 			page 49


 1389              		.loc 1 896 14 view .LVU451
 1390 005e 274E     		ldr	r6, .L101+12
 1391 0060 9819     		adds	r0, r3, r6
 1392              	.LVL117:
 897:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 1393              		.loc 1 897 7 is_stmt 1 view .LVU452
 897:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 1394              		.loc 1 897 34 is_stmt 0 view .LVU453
 1395 0062 04F1040E 		add	lr, r4, #4
 897:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 1396              		.loc 1 897 32 view .LVU454
 1397 0066 26F803E0 		strh	lr, [r6, r3]	@ unaligned
 898:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 1398              		.loc 1 898 7 is_stmt 1 view .LVU455
 898:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 1399              		.loc 1 898 33 is_stmt 0 view .LVU456
 1400 006a 4379     		ldrb	r3, [r0, #5]	@ zero_extendqisi2
 1401 006c 0226     		movs	r6, #2
 1402 006e 66F30303 		bfi	r3, r6, #0, #4
 1403 0072 4371     		strb	r3, [r0, #5]
 899:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo2 = htoes(frameinfo2);
 1404              		.loc 1 899 7 is_stmt 1 view .LVU457
 899:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo2 = htoes(frameinfo2);
 1405              		.loc 1 899 36 is_stmt 0 view .LVU458
 1406 0074 A0F806C0 		strh	ip, [r0, #6]	@ unaligned
 900:Lib/soes/src/esc_eoe.c **** 
 1407              		.loc 1 900 7 is_stmt 1 view .LVU459
 900:Lib/soes/src/esc_eoe.c **** 
 1408              		.loc 1 900 36 is_stmt 0 view .LVU460
 1409 0078 0281     		strh	r2, [r0, #8]	@ unaligned
 903:Lib/soes/src/esc_eoe.c ****             &EOEvar.txebuf.payload[EOEvar.txframeoffset],
 1410              		.loc 1 903 7 is_stmt 1 view .LVU461
 904:Lib/soes/src/esc_eoe.c ****             len_to_send);
 1411              		.loc 1 904 27 is_stmt 0 view .LVU462
 1412 007a 1D4E     		ldr	r6, .L101
 1413 007c 3369     		ldr	r3, [r6, #16]
 903:Lib/soes/src/esc_eoe.c ****             &EOEvar.txebuf.payload[EOEvar.txframeoffset],
 1414              		.loc 1 903 7 view .LVU463
 1415 007e 2246     		mov	r2, r4
 1416              	.LVL118:
 903:Lib/soes/src/esc_eoe.c ****             &EOEvar.txebuf.payload[EOEvar.txframeoffset],
 1417              		.loc 1 903 7 view .LVU464
 1418 0080 1944     		add	r1, r1, r3
 1419 0082 0A30     		adds	r0, r0, #10
 1420              	.LVL119:
 903:Lib/soes/src/esc_eoe.c ****             &EOEvar.txebuf.payload[EOEvar.txframeoffset],
 1421              		.loc 1 903 7 view .LVU465
 1422 0084 FFF7FEFF 		bl	memcpy
 1423              	.LVL120:
 906:Lib/soes/src/esc_eoe.c **** 
 1424              		.loc 1 906 7 is_stmt 1 view .LVU466
 906:Lib/soes/src/esc_eoe.c **** 
 1425              		.loc 1 906 35 is_stmt 0 view .LVU467
 1426 0088 1D4B     		ldr	r3, .L101+16
 1427 008a 0322     		movs	r2, #3
 1428 008c 5A55     		strb	r2, [r3, r5]
 909:Lib/soes/src/esc_eoe.c ****       {
ARM GAS  /tmp/ccKy4lrp.s 			page 50


 1429              		.loc 1 909 7 is_stmt 1 view .LVU468
 909:Lib/soes/src/esc_eoe.c ****       {
 1430              		.loc 1 909 32 is_stmt 0 view .LVU469
 1431 008e B26A     		ldr	r2, [r6, #40]
 909:Lib/soes/src/esc_eoe.c ****       {
 1432              		.loc 1 909 53 view .LVU470
 1433 0090 F36A     		ldr	r3, [r6, #44]
 909:Lib/soes/src/esc_eoe.c ****       {
 1434              		.loc 1 909 45 view .LVU471
 1435 0092 D21A     		subs	r2, r2, r3
 909:Lib/soes/src/esc_eoe.c ****       {
 1436              		.loc 1 909 9 view .LVU472
 1437 0094 A242     		cmp	r2, r4
 1438 0096 28D0     		beq	.L100
 915:Lib/soes/src/esc_eoe.c ****          EOEvar.txfragmentno++;
 1439              		.loc 1 915 10 is_stmt 1 view .LVU473
 915:Lib/soes/src/esc_eoe.c ****          EOEvar.txfragmentno++;
 1440              		.loc 1 915 31 is_stmt 0 view .LVU474
 1441 0098 154A     		ldr	r2, .L101
 1442 009a 2344     		add	r3, r3, r4
 1443 009c D362     		str	r3, [r2, #44]
 916:Lib/soes/src/esc_eoe.c ****       }
 1444              		.loc 1 916 10 is_stmt 1 view .LVU475
 916:Lib/soes/src/esc_eoe.c ****       }
 1445              		.loc 1 916 16 is_stmt 0 view .LVU476
 1446 009e 92F82630 		ldrb	r3, [r2, #38]	@ zero_extendqisi2
 916:Lib/soes/src/esc_eoe.c ****       }
 1447              		.loc 1 916 29 view .LVU477
 1448 00a2 0133     		adds	r3, r3, #1
 1449 00a4 82F82630 		strb	r3, [r2, #38]
 1450              	.L94:
 918:Lib/soes/src/esc_eoe.c ****       {
 1451              		.loc 1 918 7 is_stmt 1 view .LVU478
 918:Lib/soes/src/esc_eoe.c ****       {
 1452              		.loc 1 918 17 is_stmt 0 view .LVU479
 1453 00a8 164B     		ldr	r3, .L101+20
 1454 00aa 1B68     		ldr	r3, [r3]
 1455 00ac 9B69     		ldr	r3, [r3, #24]
 918:Lib/soes/src/esc_eoe.c ****       {
 1456              		.loc 1 918 9 view .LVU480
 1457 00ae 03B1     		cbz	r3, .L86
 920:Lib/soes/src/esc_eoe.c ****       }
 1458              		.loc 1 920 10 is_stmt 1 view .LVU481
 1459 00b0 9847     		blx	r3
 1460              	.LVL121:
 1461              	.L86:
 920:Lib/soes/src/esc_eoe.c ****       }
 1462              		.loc 1 920 10 is_stmt 0 view .LVU482
 1463              	.LBE4:
 923:Lib/soes/src/esc_eoe.c **** 
 1464              		.loc 1 923 1 view .LVU483
 1465 00b2 70BD     		pop	{r4, r5, r6, pc}
 1466              	.L98:
 842:Lib/soes/src/esc_eoe.c ****       if(len > 0)
 1467              		.loc 1 842 7 is_stmt 1 view .LVU484
 842:Lib/soes/src/esc_eoe.c ****       if(len > 0)
 1468              		.loc 1 842 20 is_stmt 0 view .LVU485
ARM GAS  /tmp/ccKy4lrp.s 			page 51


 1469 00b4 134B     		ldr	r3, .L101+20
 1470 00b6 1B68     		ldr	r3, [r3]
 1471 00b8 5B69     		ldr	r3, [r3, #20]
 842:Lib/soes/src/esc_eoe.c ****       if(len > 0)
 1472              		.loc 1 842 13 view .LVU486
 1473 00ba 1349     		ldr	r1, .L101+24
 1474 00bc 0020     		movs	r0, #0
 1475 00be 9847     		blx	r3
 1476              	.LVL122:
 843:Lib/soes/src/esc_eoe.c ****       {
 1477              		.loc 1 843 7 is_stmt 1 view .LVU487
 843:Lib/soes/src/esc_eoe.c ****       {
 1478              		.loc 1 843 9 is_stmt 0 view .LVU488
 1479 00c0 0028     		cmp	r0, #0
 843:Lib/soes/src/esc_eoe.c ****       {
 1480              		.loc 1 843 9 view .LVU489
 1481 00c2 F6DD     		ble	.L86
 845:Lib/soes/src/esc_eoe.c ****       }
 1482              		.loc 1 845 10 is_stmt 1 view .LVU490
 845:Lib/soes/src/esc_eoe.c ****       }
 1483              		.loc 1 845 29 is_stmt 0 view .LVU491
 1484 00c4 0A4B     		ldr	r3, .L101
 1485 00c6 9862     		str	r0, [r3, #40]
 1486 00c8 9FE7     		b	.L87
 1487              	.LVL123:
 1488              	.L95:
 1489              	.LBB5:
 857:Lib/soes/src/esc_eoe.c ****       if((len_to_send + ESC_EOEHSIZE + ESC_MBXHSIZE) > ESC_MBXSIZE)
 1490              		.loc 1 857 19 view .LVU492
 1491 00ca 0446     		mov	r4, r0
 1492 00cc B0E7     		b	.L89
 1493              	.LVL124:
 1494              	.L99:
 868:Lib/soes/src/esc_eoe.c ****       }
 1495              		.loc 1 868 21 view .LVU493
 1496 00ce 4FF4807C 		mov	ip, #256
 1497 00d2 B1E7     		b	.L90
 1498              	.LVL125:
 1499              	.L91:
 887:Lib/soes/src/esc_eoe.c ****          frameinfo2 |= tempframe2;
 1500              		.loc 1 887 10 is_stmt 1 view .LVU494
 887:Lib/soes/src/esc_eoe.c ****          frameinfo2 |= tempframe2;
 1501              		.loc 1 887 23 is_stmt 0 view .LVU495
 1502 00d4 1F32     		adds	r2, r2, #31
 1503 00d6 5209     		lsrs	r2, r2, #5
 1504 00d8 9201     		lsls	r2, r2, #6
 887:Lib/soes/src/esc_eoe.c ****          frameinfo2 |= tempframe2;
 1505              		.loc 1 887 21 view .LVU496
 1506 00da 02F47C62 		and	r2, r2, #4032
 1507              	.LVL126:
 888:Lib/soes/src/esc_eoe.c ****          frameno++;
 1508              		.loc 1 888 10 is_stmt 1 view .LVU497
 888:Lib/soes/src/esc_eoe.c ****          frameno++;
 1509              		.loc 1 888 21 is_stmt 0 view .LVU498
 1510 00de 0243     		orrs	r2, r2, r0
 1511              	.LVL127:
 889:Lib/soes/src/esc_eoe.c ****       }
ARM GAS  /tmp/ccKy4lrp.s 			page 52


 1512              		.loc 1 889 10 is_stmt 1 view .LVU499
 889:Lib/soes/src/esc_eoe.c ****       }
 1513              		.loc 1 889 17 is_stmt 0 view .LVU500
 1514 00e0 054E     		ldr	r6, .L101+8
 1515 00e2 3078     		ldrb	r0, [r6]	@ zero_extendqisi2
 1516 00e4 0130     		adds	r0, r0, #1
 1517 00e6 3070     		strb	r0, [r6]
 1518 00e8 B2E7     		b	.L92
 1519              	.LVL128:
 1520              	.L100:
 911:Lib/soes/src/esc_eoe.c ****       }
 1521              		.loc 1 911 10 is_stmt 1 view .LVU501
 1522 00ea FFF7FEFF 		bl	EOE_init_tx
 1523              	.LVL129:
 1524 00ee DBE7     		b	.L94
 1525              	.L102:
 1526              		.align	2
 1527              	.L101:
 1528 00f0 00000000 		.word	.LANCHOR0
 1529 00f4 00000000 		.word	ESCvar
 1530 00f8 00000000 		.word	.LANCHOR3
 1531 00fc 00000000 		.word	MBX
 1532 0100 00000000 		.word	MBXcontrol
 1533 0104 00000000 		.word	.LANCHOR1
 1534 0108 0C000000 		.word	.LANCHOR0+12
 1535              	.LBE5:
 1536              		.cfi_endproc
 1537              	.LFE18:
 1539              		.section	.text.EOE_ecat_get_mac,"ax",%progbits
 1540              		.align	1
 1541              		.global	EOE_ecat_get_mac
 1542              		.syntax unified
 1543              		.thumb
 1544              		.thumb_func
 1546              	EOE_ecat_get_mac:
 1547              	.LVL130:
 1548              	.LFB2:
 221:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 1549              		.loc 1 221 1 view -0
 1550              		.cfi_startproc
 1551              		@ args = 0, pretend = 0, frame = 0
 1552              		@ frame_needed = 0, uses_anonymous_args = 0
 1553              		@ link register save eliminated.
 222:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1554              		.loc 1 222 4 view .LVU503
 223:Lib/soes/src/esc_eoe.c **** 
 1555              		.loc 1 223 4 view .LVU504
 225:Lib/soes/src/esc_eoe.c ****    {
 1556              		.loc 1 225 4 view .LVU505
 225:Lib/soes/src/esc_eoe.c ****    {
 1557              		.loc 1 225 6 is_stmt 0 view .LVU506
 1558 0000 80B9     		cbnz	r0, .L105
 227:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 1559              		.loc 1 227 7 is_stmt 1 discriminator 4 view .LVU507
 1560              	.LVL131:
 228:Lib/soes/src/esc_eoe.c ****       {
 1561              		.loc 1 228 7 discriminator 4 view .LVU508
ARM GAS  /tmp/ccKy4lrp.s 			page 53


 228:Lib/soes/src/esc_eoe.c ****       {
 1562              		.loc 1 228 28 is_stmt 0 discriminator 4 view .LVU509
 1563 0002 0B4B     		ldr	r3, .L107
 1564 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 228:Lib/soes/src/esc_eoe.c ****       {
 1565              		.loc 1 228 9 discriminator 4 view .LVU510
 1566 0006 13F0010F 		tst	r3, #1
 1567 000a 0ED0     		beq	.L106
 230:Lib/soes/src/esc_eoe.c ****                sizeof(nic_ports[port_ix].mac));
 1568              		.loc 1 230 10 is_stmt 1 view .LVU511
 1569 000c 084B     		ldr	r3, .L107
 1570 000e D3F80120 		ldr	r2, [r3, #1]	@ unaligned
 1571 0012 0A60     		str	r2, [r1]	@ unaligned
 1572 0014 B3F80520 		ldrh	r2, [r3, #5]	@ unaligned
 1573 0018 8A80     		strh	r2, [r1, #4]	@ unaligned
 232:Lib/soes/src/esc_eoe.c ****          ret = 0;
 1574              		.loc 1 232 10 view .LVU512
 232:Lib/soes/src/esc_eoe.c ****          ret = 0;
 1575              		.loc 1 232 37 is_stmt 0 view .LVU513
 1576 001a 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 1577 001c 42F00102 		orr	r2, r2, #1
 1578 0020 1A70     		strb	r2, [r3]
 233:Lib/soes/src/esc_eoe.c ****       }
 1579              		.loc 1 233 10 is_stmt 1 view .LVU514
 1580              	.LVL132:
 233:Lib/soes/src/esc_eoe.c ****       }
 1581              		.loc 1 233 10 is_stmt 0 view .LVU515
 1582 0022 7047     		bx	lr
 1583              	.LVL133:
 1584              	.L105:
 222:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1585              		.loc 1 222 8 view .LVU516
 1586 0024 4FF0FF30 		mov	r0, #-1
 1587              	.LVL134:
 222:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1588              		.loc 1 222 8 view .LVU517
 1589 0028 7047     		bx	lr
 1590              	.LVL135:
 1591              	.L106:
 222:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1592              		.loc 1 222 8 view .LVU518
 1593 002a 4FF0FF30 		mov	r0, #-1
 1594              	.LVL136:
 236:Lib/soes/src/esc_eoe.c **** }
 1595              		.loc 1 236 4 is_stmt 1 view .LVU519
 237:Lib/soes/src/esc_eoe.c **** 
 1596              		.loc 1 237 1 is_stmt 0 view .LVU520
 1597 002e 7047     		bx	lr
 1598              	.L108:
 1599              		.align	2
 1600              	.L107:
 1601 0030 00000000 		.word	.LANCHOR2
 1602              		.cfi_endproc
 1603              	.LFE2:
 1605              		.section	.text.EOE_ecat_set_mac,"ax",%progbits
 1606              		.align	1
 1607              		.global	EOE_ecat_set_mac
ARM GAS  /tmp/ccKy4lrp.s 			page 54


 1608              		.syntax unified
 1609              		.thumb
 1610              		.thumb_func
 1612              	EOE_ecat_set_mac:
 1613              	.LVL137:
 1614              	.LFB3:
 246:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 1615              		.loc 1 246 1 is_stmt 1 view -0
 1616              		.cfi_startproc
 1617              		@ args = 0, pretend = 0, frame = 0
 1618              		@ frame_needed = 0, uses_anonymous_args = 0
 1619              		@ link register save eliminated.
 247:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1620              		.loc 1 247 4 view .LVU522
 248:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 1621              		.loc 1 248 4 view .LVU523
 249:Lib/soes/src/esc_eoe.c ****    {
 1622              		.loc 1 249 4 view .LVU524
 249:Lib/soes/src/esc_eoe.c ****    {
 1623              		.loc 1 249 6 is_stmt 0 view .LVU525
 1624 0000 38B9     		cbnz	r0, .L111
 251:Lib/soes/src/esc_eoe.c ****       memcpy(nic_ports[port_ix].mac.addr, mac,
 1625              		.loc 1 251 7 is_stmt 1 discriminator 4 view .LVU526
 1626              	.LVL138:
 252:Lib/soes/src/esc_eoe.c ****             sizeof(nic_ports[port_ix].mac));
 1627              		.loc 1 252 7 discriminator 4 view .LVU527
 1628 0002 054B     		ldr	r3, .L112
 1629 0004 0A68     		ldr	r2, [r1]	@ unaligned
 1630 0006 C3F80120 		str	r2, [r3, #1]	@ unaligned
 1631 000a 8A88     		ldrh	r2, [r1, #4]	@ unaligned
 1632 000c A3F80520 		strh	r2, [r3, #5]	@ unaligned
 254:Lib/soes/src/esc_eoe.c ****    }
 1633              		.loc 1 254 7 discriminator 4 view .LVU528
 1634              	.LVL139:
 254:Lib/soes/src/esc_eoe.c ****    }
 1635              		.loc 1 254 7 is_stmt 0 discriminator 4 view .LVU529
 1636 0010 7047     		bx	lr
 1637              	.LVL140:
 1638              	.L111:
 247:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1639              		.loc 1 247 8 view .LVU530
 1640 0012 4FF0FF30 		mov	r0, #-1
 1641              	.LVL141:
 256:Lib/soes/src/esc_eoe.c **** }
 1642              		.loc 1 256 4 is_stmt 1 view .LVU531
 257:Lib/soes/src/esc_eoe.c **** 
 1643              		.loc 1 257 1 is_stmt 0 view .LVU532
 1644 0016 7047     		bx	lr
 1645              	.L113:
 1646              		.align	2
 1647              	.L112:
 1648 0018 00000000 		.word	.LANCHOR2
 1649              		.cfi_endproc
 1650              	.LFE3:
 1652              		.section	.text.EOE_ecat_get_ip,"ax",%progbits
 1653              		.align	1
 1654              		.global	EOE_ecat_get_ip
ARM GAS  /tmp/ccKy4lrp.s 			page 55


 1655              		.syntax unified
 1656              		.thumb
 1657              		.thumb_func
 1659              	EOE_ecat_get_ip:
 1660              	.LVL142:
 1661              	.LFB4:
 266:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 1662              		.loc 1 266 1 is_stmt 1 view -0
 1663              		.cfi_startproc
 1664              		@ args = 0, pretend = 0, frame = 0
 1665              		@ frame_needed = 0, uses_anonymous_args = 0
 1666              		@ link register save eliminated.
 267:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1667              		.loc 1 267 4 view .LVU534
 268:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 1668              		.loc 1 268 4 view .LVU535
 269:Lib/soes/src/esc_eoe.c ****    {
 1669              		.loc 1 269 4 view .LVU536
 269:Lib/soes/src/esc_eoe.c ****    {
 1670              		.loc 1 269 6 is_stmt 0 view .LVU537
 1671 0000 A0B9     		cbnz	r0, .L116
 271:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].ip_set)
 1672              		.loc 1 271 7 is_stmt 1 discriminator 4 view .LVU538
 1673              	.LVL143:
 272:Lib/soes/src/esc_eoe.c ****       {
 1674              		.loc 1 272 7 discriminator 4 view .LVU539
 272:Lib/soes/src/esc_eoe.c ****       {
 1675              		.loc 1 272 28 is_stmt 0 discriminator 4 view .LVU540
 1676 0002 0D4B     		ldr	r3, .L118
 1677 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 272:Lib/soes/src/esc_eoe.c ****       {
 1678              		.loc 1 272 9 discriminator 4 view .LVU541
 1679 0006 13F0020F 		tst	r3, #2
 1680 000a 12D0     		beq	.L117
 274:Lib/soes/src/esc_eoe.c ****          ret = 0;
 1681              		.loc 1 274 10 is_stmt 1 view .LVU542
 274:Lib/soes/src/esc_eoe.c ****          ret = 0;
 1682              		.loc 1 274 16 is_stmt 0 view .LVU543
 1683 000c 0A4B     		ldr	r3, .L118
 1684 000e 9A68     		ldr	r2, [r3, #8]
 1685 0010 1302     		lsls	r3, r2, #8
 1686 0012 03F47F03 		and	r3, r3, #16711680
 1687 0016 43EA0263 		orr	r3, r3, r2, lsl #24
 1688 001a 100A     		lsrs	r0, r2, #8
 1689              	.LVL144:
 274:Lib/soes/src/esc_eoe.c ****          ret = 0;
 1690              		.loc 1 274 16 view .LVU544
 1691 001c 00F47F40 		and	r0, r0, #65280
 1692 0020 0343     		orrs	r3, r3, r0
 1693 0022 43EA1263 		orr	r3, r3, r2, lsr #24
 274:Lib/soes/src/esc_eoe.c ****          ret = 0;
 1694              		.loc 1 274 14 view .LVU545
 1695 0026 0B60     		str	r3, [r1]
 275:Lib/soes/src/esc_eoe.c ****       }
 1696              		.loc 1 275 10 is_stmt 1 view .LVU546
 1697              	.LVL145:
 275:Lib/soes/src/esc_eoe.c ****       }
ARM GAS  /tmp/ccKy4lrp.s 			page 56


 1698              		.loc 1 275 14 is_stmt 0 view .LVU547
 1699 0028 0020     		movs	r0, #0
 1700 002a 7047     		bx	lr
 1701              	.LVL146:
 1702              	.L116:
 267:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1703              		.loc 1 267 8 view .LVU548
 1704 002c 4FF0FF30 		mov	r0, #-1
 1705              	.LVL147:
 267:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1706              		.loc 1 267 8 view .LVU549
 1707 0030 7047     		bx	lr
 1708              	.LVL148:
 1709              	.L117:
 267:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1710              		.loc 1 267 8 view .LVU550
 1711 0032 4FF0FF30 		mov	r0, #-1
 1712              	.LVL149:
 278:Lib/soes/src/esc_eoe.c **** }
 1713              		.loc 1 278 4 is_stmt 1 view .LVU551
 279:Lib/soes/src/esc_eoe.c **** 
 1714              		.loc 1 279 1 is_stmt 0 view .LVU552
 1715 0036 7047     		bx	lr
 1716              	.L119:
 1717              		.align	2
 1718              	.L118:
 1719 0038 00000000 		.word	.LANCHOR2
 1720              		.cfi_endproc
 1721              	.LFE4:
 1723              		.section	.text.EOE_ecat_set_ip,"ax",%progbits
 1724              		.align	1
 1725              		.global	EOE_ecat_set_ip
 1726              		.syntax unified
 1727              		.thumb
 1728              		.thumb_func
 1730              	EOE_ecat_set_ip:
 1731              	.LVL150:
 1732              	.LFB5:
 288:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 1733              		.loc 1 288 1 is_stmt 1 view -0
 1734              		.cfi_startproc
 1735              		@ args = 0, pretend = 0, frame = 0
 1736              		@ frame_needed = 0, uses_anonymous_args = 0
 1737              		@ link register save eliminated.
 289:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1738              		.loc 1 289 4 view .LVU554
 290:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 1739              		.loc 1 290 4 view .LVU555
 291:Lib/soes/src/esc_eoe.c ****    {
 1740              		.loc 1 291 4 view .LVU556
 291:Lib/soes/src/esc_eoe.c ****    {
 1741              		.loc 1 291 6 is_stmt 0 view .LVU557
 1742 0000 88B9     		cbnz	r0, .L122
 293:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].ip.addr = EOE_HTONL(ip);
 1743              		.loc 1 293 7 is_stmt 1 discriminator 4 view .LVU558
 1744              	.LVL151:
 294:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].ip_set = 1;
ARM GAS  /tmp/ccKy4lrp.s 			page 57


 1745              		.loc 1 294 7 discriminator 4 view .LVU559
 294:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].ip_set = 1;
 1746              		.loc 1 294 36 is_stmt 0 discriminator 4 view .LVU560
 1747 0002 0B02     		lsls	r3, r1, #8
 1748 0004 03F47F03 		and	r3, r3, #16711680
 1749 0008 43EA0163 		orr	r3, r3, r1, lsl #24
 1750 000c 0A0A     		lsrs	r2, r1, #8
 1751 000e 02F47F42 		and	r2, r2, #65280
 1752 0012 1343     		orrs	r3, r3, r2
 1753 0014 43EA1161 		orr	r1, r3, r1, lsr #24
 1754              	.LVL152:
 294:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].ip_set = 1;
 1755              		.loc 1 294 34 discriminator 4 view .LVU561
 1756 0018 044B     		ldr	r3, .L123
 1757 001a 9960     		str	r1, [r3, #8]
 295:Lib/soes/src/esc_eoe.c ****       ret = 0;
 1758              		.loc 1 295 7 is_stmt 1 discriminator 4 view .LVU562
 295:Lib/soes/src/esc_eoe.c ****       ret = 0;
 1759              		.loc 1 295 33 is_stmt 0 discriminator 4 view .LVU563
 1760 001c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 1761 001e 42F00202 		orr	r2, r2, #2
 1762 0022 1A70     		strb	r2, [r3]
 296:Lib/soes/src/esc_eoe.c ****    }
 1763              		.loc 1 296 7 is_stmt 1 discriminator 4 view .LVU564
 1764              	.LVL153:
 296:Lib/soes/src/esc_eoe.c ****    }
 1765              		.loc 1 296 7 is_stmt 0 discriminator 4 view .LVU565
 1766 0024 7047     		bx	lr
 1767              	.LVL154:
 1768              	.L122:
 289:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1769              		.loc 1 289 8 view .LVU566
 1770 0026 4FF0FF30 		mov	r0, #-1
 1771              	.LVL155:
 298:Lib/soes/src/esc_eoe.c **** }
 1772              		.loc 1 298 4 is_stmt 1 view .LVU567
 299:Lib/soes/src/esc_eoe.c **** 
 1773              		.loc 1 299 1 is_stmt 0 view .LVU568
 1774 002a 7047     		bx	lr
 1775              	.L124:
 1776              		.align	2
 1777              	.L123:
 1778 002c 00000000 		.word	.LANCHOR2
 1779              		.cfi_endproc
 1780              	.LFE5:
 1782              		.section	.text.EOE_ecat_get_subnet,"ax",%progbits
 1783              		.align	1
 1784              		.global	EOE_ecat_get_subnet
 1785              		.syntax unified
 1786              		.thumb
 1787              		.thumb_func
 1789              	EOE_ecat_get_subnet:
 1790              	.LVL156:
 1791              	.LFB6:
 308:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 1792              		.loc 1 308 1 is_stmt 1 view -0
 1793              		.cfi_startproc
ARM GAS  /tmp/ccKy4lrp.s 			page 58


 1794              		@ args = 0, pretend = 0, frame = 0
 1795              		@ frame_needed = 0, uses_anonymous_args = 0
 1796              		@ link register save eliminated.
 309:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1797              		.loc 1 309 4 view .LVU570
 310:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 1798              		.loc 1 310 4 view .LVU571
 311:Lib/soes/src/esc_eoe.c ****    {
 1799              		.loc 1 311 4 view .LVU572
 311:Lib/soes/src/esc_eoe.c ****    {
 1800              		.loc 1 311 6 is_stmt 0 view .LVU573
 1801 0000 A0B9     		cbnz	r0, .L127
 313:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].subnet_set)
 1802              		.loc 1 313 7 is_stmt 1 discriminator 4 view .LVU574
 1803              	.LVL157:
 314:Lib/soes/src/esc_eoe.c ****       {
 1804              		.loc 1 314 7 discriminator 4 view .LVU575
 314:Lib/soes/src/esc_eoe.c ****       {
 1805              		.loc 1 314 28 is_stmt 0 discriminator 4 view .LVU576
 1806 0002 0D4B     		ldr	r3, .L129
 1807 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 314:Lib/soes/src/esc_eoe.c ****       {
 1808              		.loc 1 314 9 discriminator 4 view .LVU577
 1809 0006 13F0040F 		tst	r3, #4
 1810 000a 12D0     		beq	.L128
 316:Lib/soes/src/esc_eoe.c ****          ret = 0;
 1811              		.loc 1 316 10 is_stmt 1 view .LVU578
 316:Lib/soes/src/esc_eoe.c ****          ret = 0;
 1812              		.loc 1 316 20 is_stmt 0 view .LVU579
 1813 000c 0A4B     		ldr	r3, .L129
 1814 000e DA68     		ldr	r2, [r3, #12]
 1815 0010 1302     		lsls	r3, r2, #8
 1816 0012 03F47F03 		and	r3, r3, #16711680
 1817 0016 43EA0263 		orr	r3, r3, r2, lsl #24
 1818 001a 100A     		lsrs	r0, r2, #8
 1819              	.LVL158:
 316:Lib/soes/src/esc_eoe.c ****          ret = 0;
 1820              		.loc 1 316 20 view .LVU580
 1821 001c 00F47F40 		and	r0, r0, #65280
 1822 0020 0343     		orrs	r3, r3, r0
 1823 0022 43EA1263 		orr	r3, r3, r2, lsr #24
 316:Lib/soes/src/esc_eoe.c ****          ret = 0;
 1824              		.loc 1 316 18 view .LVU581
 1825 0026 0B60     		str	r3, [r1]
 317:Lib/soes/src/esc_eoe.c ****       }
 1826              		.loc 1 317 10 is_stmt 1 view .LVU582
 1827              	.LVL159:
 317:Lib/soes/src/esc_eoe.c ****       }
 1828              		.loc 1 317 14 is_stmt 0 view .LVU583
 1829 0028 0020     		movs	r0, #0
 1830 002a 7047     		bx	lr
 1831              	.LVL160:
 1832              	.L127:
 309:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1833              		.loc 1 309 8 view .LVU584
 1834 002c 4FF0FF30 		mov	r0, #-1
 1835              	.LVL161:
ARM GAS  /tmp/ccKy4lrp.s 			page 59


 309:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1836              		.loc 1 309 8 view .LVU585
 1837 0030 7047     		bx	lr
 1838              	.LVL162:
 1839              	.L128:
 309:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1840              		.loc 1 309 8 view .LVU586
 1841 0032 4FF0FF30 		mov	r0, #-1
 1842              	.LVL163:
 320:Lib/soes/src/esc_eoe.c **** }
 1843              		.loc 1 320 4 is_stmt 1 view .LVU587
 321:Lib/soes/src/esc_eoe.c **** 
 1844              		.loc 1 321 1 is_stmt 0 view .LVU588
 1845 0036 7047     		bx	lr
 1846              	.L130:
 1847              		.align	2
 1848              	.L129:
 1849 0038 00000000 		.word	.LANCHOR2
 1850              		.cfi_endproc
 1851              	.LFE6:
 1853              		.section	.text.EOE_ecat_set_subnet,"ax",%progbits
 1854              		.align	1
 1855              		.global	EOE_ecat_set_subnet
 1856              		.syntax unified
 1857              		.thumb
 1858              		.thumb_func
 1860              	EOE_ecat_set_subnet:
 1861              	.LVL164:
 1862              	.LFB7:
 330:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 1863              		.loc 1 330 1 is_stmt 1 view -0
 1864              		.cfi_startproc
 1865              		@ args = 0, pretend = 0, frame = 0
 1866              		@ frame_needed = 0, uses_anonymous_args = 0
 1867              		@ link register save eliminated.
 331:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1868              		.loc 1 331 4 view .LVU590
 332:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 1869              		.loc 1 332 4 view .LVU591
 333:Lib/soes/src/esc_eoe.c ****    {
 1870              		.loc 1 333 4 view .LVU592
 333:Lib/soes/src/esc_eoe.c ****    {
 1871              		.loc 1 333 6 is_stmt 0 view .LVU593
 1872 0000 88B9     		cbnz	r0, .L133
 335:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].subnet.addr = EOE_HTONL(subnet);
 1873              		.loc 1 335 7 is_stmt 1 discriminator 4 view .LVU594
 1874              	.LVL165:
 336:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].subnet_set = 1;
 1875              		.loc 1 336 7 discriminator 4 view .LVU595
 336:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].subnet_set = 1;
 1876              		.loc 1 336 40 is_stmt 0 discriminator 4 view .LVU596
 1877 0002 0B02     		lsls	r3, r1, #8
 1878 0004 03F47F03 		and	r3, r3, #16711680
 1879 0008 43EA0163 		orr	r3, r3, r1, lsl #24
 1880 000c 0A0A     		lsrs	r2, r1, #8
 1881 000e 02F47F42 		and	r2, r2, #65280
 1882 0012 1343     		orrs	r3, r3, r2
ARM GAS  /tmp/ccKy4lrp.s 			page 60


 1883 0014 43EA1161 		orr	r1, r3, r1, lsr #24
 1884              	.LVL166:
 336:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].subnet_set = 1;
 1885              		.loc 1 336 38 discriminator 4 view .LVU597
 1886 0018 044B     		ldr	r3, .L134
 1887 001a D960     		str	r1, [r3, #12]
 337:Lib/soes/src/esc_eoe.c ****       ret = 0;
 1888              		.loc 1 337 7 is_stmt 1 discriminator 4 view .LVU598
 337:Lib/soes/src/esc_eoe.c ****       ret = 0;
 1889              		.loc 1 337 37 is_stmt 0 discriminator 4 view .LVU599
 1890 001c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 1891 001e 42F00402 		orr	r2, r2, #4
 1892 0022 1A70     		strb	r2, [r3]
 338:Lib/soes/src/esc_eoe.c ****    }
 1893              		.loc 1 338 7 is_stmt 1 discriminator 4 view .LVU600
 1894              	.LVL167:
 338:Lib/soes/src/esc_eoe.c ****    }
 1895              		.loc 1 338 7 is_stmt 0 discriminator 4 view .LVU601
 1896 0024 7047     		bx	lr
 1897              	.LVL168:
 1898              	.L133:
 331:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1899              		.loc 1 331 8 view .LVU602
 1900 0026 4FF0FF30 		mov	r0, #-1
 1901              	.LVL169:
 340:Lib/soes/src/esc_eoe.c **** }
 1902              		.loc 1 340 4 is_stmt 1 view .LVU603
 341:Lib/soes/src/esc_eoe.c **** 
 1903              		.loc 1 341 1 is_stmt 0 view .LVU604
 1904 002a 7047     		bx	lr
 1905              	.L135:
 1906              		.align	2
 1907              	.L134:
 1908 002c 00000000 		.word	.LANCHOR2
 1909              		.cfi_endproc
 1910              	.LFE7:
 1912              		.section	.text.EOE_ecat_get_gateway,"ax",%progbits
 1913              		.align	1
 1914              		.global	EOE_ecat_get_gateway
 1915              		.syntax unified
 1916              		.thumb
 1917              		.thumb_func
 1919              	EOE_ecat_get_gateway:
 1920              	.LVL170:
 1921              	.LFB8:
 350:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 1922              		.loc 1 350 1 is_stmt 1 view -0
 1923              		.cfi_startproc
 1924              		@ args = 0, pretend = 0, frame = 0
 1925              		@ frame_needed = 0, uses_anonymous_args = 0
 1926              		@ link register save eliminated.
 351:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1927              		.loc 1 351 4 view .LVU606
 352:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 1928              		.loc 1 352 4 view .LVU607
 353:Lib/soes/src/esc_eoe.c ****    {
 1929              		.loc 1 353 4 view .LVU608
ARM GAS  /tmp/ccKy4lrp.s 			page 61


 353:Lib/soes/src/esc_eoe.c ****    {
 1930              		.loc 1 353 6 is_stmt 0 view .LVU609
 1931 0000 A0B9     		cbnz	r0, .L138
 355:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].default_gateway_set)
 1932              		.loc 1 355 7 is_stmt 1 discriminator 4 view .LVU610
 1933              	.LVL171:
 356:Lib/soes/src/esc_eoe.c ****       {
 1934              		.loc 1 356 7 discriminator 4 view .LVU611
 356:Lib/soes/src/esc_eoe.c ****       {
 1935              		.loc 1 356 28 is_stmt 0 discriminator 4 view .LVU612
 1936 0002 0D4B     		ldr	r3, .L140
 1937 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 356:Lib/soes/src/esc_eoe.c ****       {
 1938              		.loc 1 356 9 discriminator 4 view .LVU613
 1939 0006 13F0080F 		tst	r3, #8
 1940 000a 12D0     		beq	.L139
 358:Lib/soes/src/esc_eoe.c ****                EOE_NTOHL(nic_ports[port_ix].default_gateway.addr);
 1941              		.loc 1 358 10 is_stmt 1 view .LVU614
 359:Lib/soes/src/esc_eoe.c ****          ret = 0;
 1942              		.loc 1 359 16 is_stmt 0 view .LVU615
 1943 000c 0A4B     		ldr	r3, .L140
 1944 000e 1A69     		ldr	r2, [r3, #16]
 1945 0010 1302     		lsls	r3, r2, #8
 1946 0012 03F47F03 		and	r3, r3, #16711680
 1947 0016 43EA0263 		orr	r3, r3, r2, lsl #24
 1948 001a 100A     		lsrs	r0, r2, #8
 1949              	.LVL172:
 359:Lib/soes/src/esc_eoe.c ****          ret = 0;
 1950              		.loc 1 359 16 view .LVU616
 1951 001c 00F47F40 		and	r0, r0, #65280
 1952 0020 0343     		orrs	r3, r3, r0
 1953 0022 43EA1263 		orr	r3, r3, r2, lsr #24
 358:Lib/soes/src/esc_eoe.c ****                EOE_NTOHL(nic_ports[port_ix].default_gateway.addr);
 1954              		.loc 1 358 27 view .LVU617
 1955 0026 0B60     		str	r3, [r1]
 360:Lib/soes/src/esc_eoe.c ****       }
 1956              		.loc 1 360 10 is_stmt 1 view .LVU618
 1957              	.LVL173:
 360:Lib/soes/src/esc_eoe.c ****       }
 1958              		.loc 1 360 14 is_stmt 0 view .LVU619
 1959 0028 0020     		movs	r0, #0
 1960 002a 7047     		bx	lr
 1961              	.LVL174:
 1962              	.L138:
 351:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1963              		.loc 1 351 8 view .LVU620
 1964 002c 4FF0FF30 		mov	r0, #-1
 1965              	.LVL175:
 351:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1966              		.loc 1 351 8 view .LVU621
 1967 0030 7047     		bx	lr
 1968              	.LVL176:
 1969              	.L139:
 351:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1970              		.loc 1 351 8 view .LVU622
 1971 0032 4FF0FF30 		mov	r0, #-1
 1972              	.LVL177:
ARM GAS  /tmp/ccKy4lrp.s 			page 62


 363:Lib/soes/src/esc_eoe.c **** }
 1973              		.loc 1 363 4 is_stmt 1 view .LVU623
 364:Lib/soes/src/esc_eoe.c **** 
 1974              		.loc 1 364 1 is_stmt 0 view .LVU624
 1975 0036 7047     		bx	lr
 1976              	.L141:
 1977              		.align	2
 1978              	.L140:
 1979 0038 00000000 		.word	.LANCHOR2
 1980              		.cfi_endproc
 1981              	.LFE8:
 1983              		.section	.text.EOE_ecat_set_gateway,"ax",%progbits
 1984              		.align	1
 1985              		.global	EOE_ecat_set_gateway
 1986              		.syntax unified
 1987              		.thumb
 1988              		.thumb_func
 1990              	EOE_ecat_set_gateway:
 1991              	.LVL178:
 1992              	.LFB9:
 373:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 1993              		.loc 1 373 1 is_stmt 1 view -0
 1994              		.cfi_startproc
 1995              		@ args = 0, pretend = 0, frame = 0
 1996              		@ frame_needed = 0, uses_anonymous_args = 0
 1997              		@ link register save eliminated.
 374:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1998              		.loc 1 374 4 view .LVU626
 375:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 1999              		.loc 1 375 4 view .LVU627
 376:Lib/soes/src/esc_eoe.c ****    {
 2000              		.loc 1 376 4 view .LVU628
 376:Lib/soes/src/esc_eoe.c ****    {
 2001              		.loc 1 376 6 is_stmt 0 view .LVU629
 2002 0000 88B9     		cbnz	r0, .L144
 378:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].default_gateway.addr =
 2003              		.loc 1 378 7 is_stmt 1 discriminator 4 view .LVU630
 2004              	.LVL179:
 379:Lib/soes/src/esc_eoe.c ****             EOE_HTONL(default_gateway);
 2005              		.loc 1 379 7 discriminator 4 view .LVU631
 380:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].default_gateway_set = 1;
 2006              		.loc 1 380 13 is_stmt 0 discriminator 4 view .LVU632
 2007 0002 0B02     		lsls	r3, r1, #8
 2008 0004 03F47F03 		and	r3, r3, #16711680
 2009 0008 43EA0163 		orr	r3, r3, r1, lsl #24
 2010 000c 0A0A     		lsrs	r2, r1, #8
 2011 000e 02F47F42 		and	r2, r2, #65280
 2012 0012 1343     		orrs	r3, r3, r2
 2013 0014 43EA1161 		orr	r1, r3, r1, lsr #24
 2014              	.LVL180:
 379:Lib/soes/src/esc_eoe.c ****             EOE_HTONL(default_gateway);
 2015              		.loc 1 379 47 discriminator 4 view .LVU633
 2016 0018 044B     		ldr	r3, .L145
 2017 001a 1961     		str	r1, [r3, #16]
 381:Lib/soes/src/esc_eoe.c ****       ret = 0;
 2018              		.loc 1 381 7 is_stmt 1 discriminator 4 view .LVU634
 381:Lib/soes/src/esc_eoe.c ****       ret = 0;
ARM GAS  /tmp/ccKy4lrp.s 			page 63


 2019              		.loc 1 381 46 is_stmt 0 discriminator 4 view .LVU635
 2020 001c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2021 001e 42F00802 		orr	r2, r2, #8
 2022 0022 1A70     		strb	r2, [r3]
 382:Lib/soes/src/esc_eoe.c ****    }
 2023              		.loc 1 382 7 is_stmt 1 discriminator 4 view .LVU636
 2024              	.LVL181:
 382:Lib/soes/src/esc_eoe.c ****    }
 2025              		.loc 1 382 7 is_stmt 0 discriminator 4 view .LVU637
 2026 0024 7047     		bx	lr
 2027              	.LVL182:
 2028              	.L144:
 374:Lib/soes/src/esc_eoe.c ****    int port_ix;
 2029              		.loc 1 374 8 view .LVU638
 2030 0026 4FF0FF30 		mov	r0, #-1
 2031              	.LVL183:
 384:Lib/soes/src/esc_eoe.c **** }
 2032              		.loc 1 384 4 is_stmt 1 view .LVU639
 385:Lib/soes/src/esc_eoe.c **** 
 2033              		.loc 1 385 1 is_stmt 0 view .LVU640
 2034 002a 7047     		bx	lr
 2035              	.L146:
 2036              		.align	2
 2037              	.L145:
 2038 002c 00000000 		.word	.LANCHOR2
 2039              		.cfi_endproc
 2040              	.LFE9:
 2042              		.section	.text.EOE_ecat_get_dns_ip,"ax",%progbits
 2043              		.align	1
 2044              		.global	EOE_ecat_get_dns_ip
 2045              		.syntax unified
 2046              		.thumb
 2047              		.thumb_func
 2049              	EOE_ecat_get_dns_ip:
 2050              	.LVL184:
 2051              	.LFB10:
 394:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 2052              		.loc 1 394 1 is_stmt 1 view -0
 2053              		.cfi_startproc
 2054              		@ args = 0, pretend = 0, frame = 0
 2055              		@ frame_needed = 0, uses_anonymous_args = 0
 2056              		@ link register save eliminated.
 395:Lib/soes/src/esc_eoe.c ****    int port_ix;
 2057              		.loc 1 395 4 view .LVU642
 396:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 2058              		.loc 1 396 4 view .LVU643
 397:Lib/soes/src/esc_eoe.c ****    {
 2059              		.loc 1 397 4 view .LVU644
 397:Lib/soes/src/esc_eoe.c ****    {
 2060              		.loc 1 397 6 is_stmt 0 view .LVU645
 2061 0000 A0B9     		cbnz	r0, .L149
 399:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].dns_ip_set)
 2062              		.loc 1 399 7 is_stmt 1 discriminator 4 view .LVU646
 2063              	.LVL185:
 400:Lib/soes/src/esc_eoe.c ****       {
 2064              		.loc 1 400 7 discriminator 4 view .LVU647
 400:Lib/soes/src/esc_eoe.c ****       {
ARM GAS  /tmp/ccKy4lrp.s 			page 64


 2065              		.loc 1 400 28 is_stmt 0 discriminator 4 view .LVU648
 2066 0002 0D4B     		ldr	r3, .L151
 2067 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 400:Lib/soes/src/esc_eoe.c ****       {
 2068              		.loc 1 400 9 discriminator 4 view .LVU649
 2069 0006 13F0100F 		tst	r3, #16
 2070 000a 12D0     		beq	.L150
 402:Lib/soes/src/esc_eoe.c ****          ret = 0;
 2071              		.loc 1 402 10 is_stmt 1 view .LVU650
 402:Lib/soes/src/esc_eoe.c ****          ret = 0;
 2072              		.loc 1 402 20 is_stmt 0 view .LVU651
 2073 000c 0A4B     		ldr	r3, .L151
 2074 000e 5A69     		ldr	r2, [r3, #20]
 2075 0010 1302     		lsls	r3, r2, #8
 2076 0012 03F47F03 		and	r3, r3, #16711680
 2077 0016 43EA0263 		orr	r3, r3, r2, lsl #24
 2078 001a 100A     		lsrs	r0, r2, #8
 2079              	.LVL186:
 402:Lib/soes/src/esc_eoe.c ****          ret = 0;
 2080              		.loc 1 402 20 view .LVU652
 2081 001c 00F47F40 		and	r0, r0, #65280
 2082 0020 0343     		orrs	r3, r3, r0
 2083 0022 43EA1263 		orr	r3, r3, r2, lsr #24
 402:Lib/soes/src/esc_eoe.c ****          ret = 0;
 2084              		.loc 1 402 18 view .LVU653
 2085 0026 0B60     		str	r3, [r1]
 403:Lib/soes/src/esc_eoe.c ****       }
 2086              		.loc 1 403 10 is_stmt 1 view .LVU654
 2087              	.LVL187:
 403:Lib/soes/src/esc_eoe.c ****       }
 2088              		.loc 1 403 14 is_stmt 0 view .LVU655
 2089 0028 0020     		movs	r0, #0
 2090 002a 7047     		bx	lr
 2091              	.LVL188:
 2092              	.L149:
 395:Lib/soes/src/esc_eoe.c ****    int port_ix;
 2093              		.loc 1 395 8 view .LVU656
 2094 002c 4FF0FF30 		mov	r0, #-1
 2095              	.LVL189:
 395:Lib/soes/src/esc_eoe.c ****    int port_ix;
 2096              		.loc 1 395 8 view .LVU657
 2097 0030 7047     		bx	lr
 2098              	.LVL190:
 2099              	.L150:
 395:Lib/soes/src/esc_eoe.c ****    int port_ix;
 2100              		.loc 1 395 8 view .LVU658
 2101 0032 4FF0FF30 		mov	r0, #-1
 2102              	.LVL191:
 406:Lib/soes/src/esc_eoe.c **** }
 2103              		.loc 1 406 4 is_stmt 1 view .LVU659
 407:Lib/soes/src/esc_eoe.c **** 
 2104              		.loc 1 407 1 is_stmt 0 view .LVU660
 2105 0036 7047     		bx	lr
 2106              	.L152:
 2107              		.align	2
 2108              	.L151:
 2109 0038 00000000 		.word	.LANCHOR2
ARM GAS  /tmp/ccKy4lrp.s 			page 65


 2110              		.cfi_endproc
 2111              	.LFE10:
 2113              		.section	.text.EOE_ecat_set_dns_ip,"ax",%progbits
 2114              		.align	1
 2115              		.global	EOE_ecat_set_dns_ip
 2116              		.syntax unified
 2117              		.thumb
 2118              		.thumb_func
 2120              	EOE_ecat_set_dns_ip:
 2121              	.LVL192:
 2122              	.LFB11:
 416:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 2123              		.loc 1 416 1 is_stmt 1 view -0
 2124              		.cfi_startproc
 2125              		@ args = 0, pretend = 0, frame = 0
 2126              		@ frame_needed = 0, uses_anonymous_args = 0
 2127              		@ link register save eliminated.
 417:Lib/soes/src/esc_eoe.c ****    int port_ix;
 2128              		.loc 1 417 4 view .LVU662
 418:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 2129              		.loc 1 418 4 view .LVU663
 419:Lib/soes/src/esc_eoe.c ****    {
 2130              		.loc 1 419 4 view .LVU664
 419:Lib/soes/src/esc_eoe.c ****    {
 2131              		.loc 1 419 6 is_stmt 0 view .LVU665
 2132 0000 88B9     		cbnz	r0, .L155
 421:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].dns_ip.addr = EOE_HTONL(dns_ip);
 2133              		.loc 1 421 7 is_stmt 1 discriminator 4 view .LVU666
 2134              	.LVL193:
 422:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].dns_ip_set = 1;
 2135              		.loc 1 422 7 discriminator 4 view .LVU667
 422:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].dns_ip_set = 1;
 2136              		.loc 1 422 40 is_stmt 0 discriminator 4 view .LVU668
 2137 0002 0B02     		lsls	r3, r1, #8
 2138 0004 03F47F03 		and	r3, r3, #16711680
 2139 0008 43EA0163 		orr	r3, r3, r1, lsl #24
 2140 000c 0A0A     		lsrs	r2, r1, #8
 2141 000e 02F47F42 		and	r2, r2, #65280
 2142 0012 1343     		orrs	r3, r3, r2
 2143 0014 43EA1161 		orr	r1, r3, r1, lsr #24
 2144              	.LVL194:
 422:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].dns_ip_set = 1;
 2145              		.loc 1 422 38 discriminator 4 view .LVU669
 2146 0018 044B     		ldr	r3, .L156
 2147 001a 5961     		str	r1, [r3, #20]
 423:Lib/soes/src/esc_eoe.c ****       ret = 0;
 2148              		.loc 1 423 7 is_stmt 1 discriminator 4 view .LVU670
 423:Lib/soes/src/esc_eoe.c ****       ret = 0;
 2149              		.loc 1 423 37 is_stmt 0 discriminator 4 view .LVU671
 2150 001c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2151 001e 42F01002 		orr	r2, r2, #16
 2152 0022 1A70     		strb	r2, [r3]
 424:Lib/soes/src/esc_eoe.c ****    }
 2153              		.loc 1 424 7 is_stmt 1 discriminator 4 view .LVU672
 2154              	.LVL195:
 424:Lib/soes/src/esc_eoe.c ****    }
 2155              		.loc 1 424 7 is_stmt 0 discriminator 4 view .LVU673
ARM GAS  /tmp/ccKy4lrp.s 			page 66


 2156 0024 7047     		bx	lr
 2157              	.LVL196:
 2158              	.L155:
 417:Lib/soes/src/esc_eoe.c ****    int port_ix;
 2159              		.loc 1 417 8 view .LVU674
 2160 0026 4FF0FF30 		mov	r0, #-1
 2161              	.LVL197:
 426:Lib/soes/src/esc_eoe.c **** }
 2162              		.loc 1 426 4 is_stmt 1 view .LVU675
 427:Lib/soes/src/esc_eoe.c **** 
 2163              		.loc 1 427 1 is_stmt 0 view .LVU676
 2164 002a 7047     		bx	lr
 2165              	.L157:
 2166              		.align	2
 2167              	.L156:
 2168 002c 00000000 		.word	.LANCHOR2
 2169              		.cfi_endproc
 2170              	.LFE11:
 2172              		.section	.text.EOE_ecat_get_dns_name,"ax",%progbits
 2173              		.align	1
 2174              		.global	EOE_ecat_get_dns_name
 2175              		.syntax unified
 2176              		.thumb
 2177              		.thumb_func
 2179              	EOE_ecat_get_dns_name:
 2180              	.LVL198:
 2181              	.LFB12:
 436:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 2182              		.loc 1 436 1 is_stmt 1 view -0
 2183              		.cfi_startproc
 2184              		@ args = 0, pretend = 0, frame = 0
 2185              		@ frame_needed = 0, uses_anonymous_args = 0
 2186              		@ link register save eliminated.
 437:Lib/soes/src/esc_eoe.c ****    int port_ix;
 2187              		.loc 1 437 4 view .LVU678
 438:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 2188              		.loc 1 438 4 view .LVU679
 439:Lib/soes/src/esc_eoe.c ****    {
 2189              		.loc 1 439 4 view .LVU680
 439:Lib/soes/src/esc_eoe.c ****    {
 2190              		.loc 1 439 6 is_stmt 0 view .LVU681
 2191 0000 E8B9     		cbnz	r0, .L160
 2192 0002 8C46     		mov	ip, r1
 441:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].dns_name_set)
 2193              		.loc 1 441 7 is_stmt 1 discriminator 4 view .LVU682
 2194              	.LVL199:
 442:Lib/soes/src/esc_eoe.c ****       {
 2195              		.loc 1 442 7 discriminator 4 view .LVU683
 442:Lib/soes/src/esc_eoe.c ****       {
 2196              		.loc 1 442 28 is_stmt 0 discriminator 4 view .LVU684
 2197 0004 114B     		ldr	r3, .L166
 2198 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 442:Lib/soes/src/esc_eoe.c ****       {
 2199              		.loc 1 442 9 discriminator 4 view .LVU685
 2200 0008 13F0200F 		tst	r3, #32
 2201 000c 1AD0     		beq	.L161
 436:Lib/soes/src/esc_eoe.c ****    int ret = -1;
ARM GAS  /tmp/ccKy4lrp.s 			page 67


 2202              		.loc 1 436 1 view .LVU686
 2203 000e 10B4     		push	{r4}
 2204              		.cfi_def_cfa_offset 4
 2205              		.cfi_offset 4, -4
 444:Lib/soes/src/esc_eoe.c ****                nic_ports[port_ix].dns_name,
 2206              		.loc 1 444 10 is_stmt 1 view .LVU687
 2207 0010 0F4C     		ldr	r4, .L166+4
 2208 0012 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 2209              	.LVL200:
 444:Lib/soes/src/esc_eoe.c ****                nic_ports[port_ix].dns_name,
 2210              		.loc 1 444 10 is_stmt 0 view .LVU688
 2211 0014 CCF80000 		str	r0, [ip]	@ unaligned
 2212 0018 CCF80410 		str	r1, [ip, #4]	@ unaligned
 2213 001c CCF80820 		str	r2, [ip, #8]	@ unaligned
 2214 0020 CCF80C30 		str	r3, [ip, #12]	@ unaligned
 2215 0024 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 2216 0026 CCF81000 		str	r0, [ip, #16]	@ unaligned
 2217 002a CCF81410 		str	r1, [ip, #20]	@ unaligned
 2218 002e CCF81820 		str	r2, [ip, #24]	@ unaligned
 2219 0032 CCF81C30 		str	r3, [ip, #28]	@ unaligned
 447:Lib/soes/src/esc_eoe.c ****       }
 2220              		.loc 1 447 10 is_stmt 1 view .LVU689
 2221              	.LVL201:
 447:Lib/soes/src/esc_eoe.c ****       }
 2222              		.loc 1 447 14 is_stmt 0 view .LVU690
 2223 0036 0020     		movs	r0, #0
 451:Lib/soes/src/esc_eoe.c **** 
 2224              		.loc 1 451 1 view .LVU691
 2225 0038 5DF8044B 		ldr	r4, [sp], #4
 2226              		.cfi_restore 4
 2227              		.cfi_def_cfa_offset 0
 2228 003c 7047     		bx	lr
 2229              	.LVL202:
 2230              	.L160:
 437:Lib/soes/src/esc_eoe.c ****    int port_ix;
 2231              		.loc 1 437 8 view .LVU692
 2232 003e 4FF0FF30 		mov	r0, #-1
 2233              	.LVL203:
 437:Lib/soes/src/esc_eoe.c ****    int port_ix;
 2234              		.loc 1 437 8 view .LVU693
 2235 0042 7047     		bx	lr
 2236              	.LVL204:
 2237              	.L161:
 437:Lib/soes/src/esc_eoe.c ****    int port_ix;
 2238              		.loc 1 437 8 view .LVU694
 2239 0044 4FF0FF30 		mov	r0, #-1
 2240              	.LVL205:
 450:Lib/soes/src/esc_eoe.c **** }
 2241              		.loc 1 450 4 is_stmt 1 view .LVU695
 451:Lib/soes/src/esc_eoe.c **** 
 2242              		.loc 1 451 1 is_stmt 0 view .LVU696
 2243 0048 7047     		bx	lr
 2244              	.L167:
 2245 004a 00BF     		.align	2
 2246              	.L166:
 2247 004c 00000000 		.word	.LANCHOR2
 2248 0050 18000000 		.word	.LANCHOR2+24
ARM GAS  /tmp/ccKy4lrp.s 			page 68


 2249              		.cfi_endproc
 2250              	.LFE12:
 2252              		.section	.text.EOE_ecat_set_dns_name,"ax",%progbits
 2253              		.align	1
 2254              		.global	EOE_ecat_set_dns_name
 2255              		.syntax unified
 2256              		.thumb
 2257              		.thumb_func
 2259              	EOE_ecat_set_dns_name:
 2260              	.LVL206:
 2261              	.LFB13:
 460:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 2262              		.loc 1 460 1 is_stmt 1 view -0
 2263              		.cfi_startproc
 2264              		@ args = 0, pretend = 0, frame = 0
 2265              		@ frame_needed = 0, uses_anonymous_args = 0
 461:Lib/soes/src/esc_eoe.c ****    int port_ix;
 2266              		.loc 1 461 4 view .LVU698
 462:Lib/soes/src/esc_eoe.c **** 
 2267              		.loc 1 462 4 view .LVU699
 464:Lib/soes/src/esc_eoe.c ****    {
 2268              		.loc 1 464 4 view .LVU700
 464:Lib/soes/src/esc_eoe.c ****    {
 2269              		.loc 1 464 6 is_stmt 0 view .LVU701
 2270 0000 E0B9     		cbnz	r0, .L170
 460:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 2271              		.loc 1 460 1 discriminator 4 view .LVU702
 2272 0002 10B5     		push	{r4, lr}
 2273              		.cfi_def_cfa_offset 8
 2274              		.cfi_offset 4, -8
 2275              		.cfi_offset 14, -4
 2276 0004 8E46     		mov	lr, r1
 466:Lib/soes/src/esc_eoe.c ****       memcpy(nic_ports[port_ix].dns_name,
 2277              		.loc 1 466 7 is_stmt 1 discriminator 4 view .LVU703
 2278              	.LVL207:
 467:Lib/soes/src/esc_eoe.c ****             dns_name,
 2279              		.loc 1 467 7 discriminator 4 view .LVU704
 2280 0006 0F4C     		ldr	r4, .L175
 2281 0008 04F1180C 		add	ip, r4, #24
 2282 000c 0868     		ldr	r0, [r1]	@ unaligned
 2283              	.LVL208:
 467:Lib/soes/src/esc_eoe.c ****             dns_name,
 2284              		.loc 1 467 7 is_stmt 0 discriminator 4 view .LVU705
 2285 000e 4968     		ldr	r1, [r1, #4]	@ unaligned
 2286              	.LVL209:
 467:Lib/soes/src/esc_eoe.c ****             dns_name,
 2287              		.loc 1 467 7 discriminator 4 view .LVU706
 2288 0010 DEF80820 		ldr	r2, [lr, #8]	@ unaligned
 2289 0014 DEF80C30 		ldr	r3, [lr, #12]	@ unaligned
 2290 0018 ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 2291 001c DEF81000 		ldr	r0, [lr, #16]	@ unaligned
 2292 0020 DEF81410 		ldr	r1, [lr, #20]	@ unaligned
 2293 0024 DEF81820 		ldr	r2, [lr, #24]	@ unaligned
 2294 0028 DEF81C30 		ldr	r3, [lr, #28]	@ unaligned
 2295 002c ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 470:Lib/soes/src/esc_eoe.c ****       ret = 0;
 2296              		.loc 1 470 7 is_stmt 1 discriminator 4 view .LVU707
ARM GAS  /tmp/ccKy4lrp.s 			page 69


 470:Lib/soes/src/esc_eoe.c ****       ret = 0;
 2297              		.loc 1 470 39 is_stmt 0 discriminator 4 view .LVU708
 2298 0030 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 2299 0032 43F02003 		orr	r3, r3, #32
 2300 0036 2370     		strb	r3, [r4]
 471:Lib/soes/src/esc_eoe.c ****    }
 2301              		.loc 1 471 7 is_stmt 1 discriminator 4 view .LVU709
 2302              	.LVL210:
 471:Lib/soes/src/esc_eoe.c ****    }
 2303              		.loc 1 471 11 is_stmt 0 discriminator 4 view .LVU710
 2304 0038 0020     		movs	r0, #0
 474:Lib/soes/src/esc_eoe.c **** 
 2305              		.loc 1 474 1 discriminator 4 view .LVU711
 2306 003a 10BD     		pop	{r4, pc}
 2307              	.LVL211:
 2308              	.L170:
 2309              		.cfi_def_cfa_offset 0
 2310              		.cfi_restore 4
 2311              		.cfi_restore 14
 461:Lib/soes/src/esc_eoe.c ****    int port_ix;
 2312              		.loc 1 461 8 view .LVU712
 2313 003c 4FF0FF30 		mov	r0, #-1
 2314              	.LVL212:
 473:Lib/soes/src/esc_eoe.c **** }
 2315              		.loc 1 473 4 is_stmt 1 view .LVU713
 474:Lib/soes/src/esc_eoe.c **** 
 2316              		.loc 1 474 1 is_stmt 0 view .LVU714
 2317 0040 7047     		bx	lr
 2318              	.L176:
 2319 0042 00BF     		.align	2
 2320              	.L175:
 2321 0044 00000000 		.word	.LANCHOR2
 2322              		.cfi_endproc
 2323              	.LFE13:
 2325              		.section	.text.EOE_init,"ax",%progbits
 2326              		.align	1
 2327              		.global	EOE_init
 2328              		.syntax unified
 2329              		.thumb
 2330              		.thumb_func
 2332              	EOE_init:
 2333              	.LFB21:
 967:Lib/soes/src/esc_eoe.c **** 
 968:Lib/soes/src/esc_eoe.c **** /** Initialize by clearing all current status variables.
 969:Lib/soes/src/esc_eoe.c ****  */
 970:Lib/soes/src/esc_eoe.c **** void EOE_init ()
 971:Lib/soes/src/esc_eoe.c **** {
 2334              		.loc 1 971 1 is_stmt 1 view -0
 2335              		.cfi_startproc
 2336              		@ args = 0, pretend = 0, frame = 0
 2337              		@ frame_needed = 0, uses_anonymous_args = 0
 2338 0000 08B5     		push	{r3, lr}
 2339              		.cfi_def_cfa_offset 8
 2340              		.cfi_offset 3, -8
 2341              		.cfi_offset 14, -4
 972:Lib/soes/src/esc_eoe.c ****    DPRINT("EOE_init\n");
 2342              		.loc 1 972 24 view .LVU716
ARM GAS  /tmp/ccKy4lrp.s 			page 70


 973:Lib/soes/src/esc_eoe.c ****    EOE_init_tx ();
 2343              		.loc 1 973 4 view .LVU717
 2344 0002 FFF7FEFF 		bl	EOE_init_tx
 2345              	.LVL213:
 974:Lib/soes/src/esc_eoe.c ****    EOE_init_rx ();
 2346              		.loc 1 974 4 view .LVU718
 2347 0006 FFF7FEFF 		bl	EOE_init_rx
 2348              	.LVL214:
 975:Lib/soes/src/esc_eoe.c **** }
 2349              		.loc 1 975 1 is_stmt 0 view .LVU719
 2350 000a 08BD     		pop	{r3, pc}
 2351              		.cfi_endproc
 2352              	.LFE21:
 2354              		.section	.text.EOE_config,"ax",%progbits
 2355              		.align	1
 2356              		.global	EOE_config
 2357              		.syntax unified
 2358              		.thumb
 2359              		.thumb_func
 2361              	EOE_config:
 2362              	.LVL215:
 2363              	.LFB22:
 976:Lib/soes/src/esc_eoe.c **** 
 977:Lib/soes/src/esc_eoe.c **** /** Function copying the application configuration variable
 978:Lib/soes/src/esc_eoe.c ****  * to the EoE module local pointer variable.
 979:Lib/soes/src/esc_eoe.c ****  *
 980:Lib/soes/src/esc_eoe.c ****  * @param[in] cfg       = Pointer to by the Application static declared
 981:Lib/soes/src/esc_eoe.c ****  * configuration variable holding application specific details.
 982:Lib/soes/src/esc_eoe.c ****  */
 983:Lib/soes/src/esc_eoe.c **** void EOE_config (eoe_cfg_t * cfg)
 984:Lib/soes/src/esc_eoe.c **** {
 2364              		.loc 1 984 1 is_stmt 1 view -0
 2365              		.cfi_startproc
 2366              		@ args = 0, pretend = 0, frame = 0
 2367              		@ frame_needed = 0, uses_anonymous_args = 0
 2368              		@ link register save eliminated.
 985:Lib/soes/src/esc_eoe.c ****    eoe_cfg = cfg;
 2369              		.loc 1 985 4 view .LVU721
 2370              		.loc 1 985 12 is_stmt 0 view .LVU722
 2371 0000 014B     		ldr	r3, .L180
 2372 0002 1860     		str	r0, [r3]
 986:Lib/soes/src/esc_eoe.c **** }
 2373              		.loc 1 986 1 view .LVU723
 2374 0004 7047     		bx	lr
 2375              	.L181:
 2376 0006 00BF     		.align	2
 2377              	.L180:
 2378 0008 00000000 		.word	.LANCHOR1
 2379              		.cfi_endproc
 2380              	.LFE22:
 2382              		.section	.text.ESC_eoeprocess,"ax",%progbits
 2383              		.align	1
 2384              		.global	ESC_eoeprocess
 2385              		.syntax unified
 2386              		.thumb
 2387              		.thumb_func
 2389              	ESC_eoeprocess:
ARM GAS  /tmp/ccKy4lrp.s 			page 71


 2390              	.LFB23:
 987:Lib/soes/src/esc_eoe.c **** 
 988:Lib/soes/src/esc_eoe.c **** /** Main EoE receive function checking the status on current mailbox buffers
 989:Lib/soes/src/esc_eoe.c ****  * carrying data, distributing the mailboxes to appropriate EOE functions
 990:Lib/soes/src/esc_eoe.c ****  * depending on requested frametype.
 991:Lib/soes/src/esc_eoe.c ****  */
 992:Lib/soes/src/esc_eoe.c **** void ESC_eoeprocess (void)
 993:Lib/soes/src/esc_eoe.c **** {
 2391              		.loc 1 993 1 is_stmt 1 view -0
 2392              		.cfi_startproc
 2393              		@ args = 0, pretend = 0, frame = 0
 2394              		@ frame_needed = 0, uses_anonymous_args = 0
 2395 0000 08B5     		push	{r3, lr}
 2396              		.cfi_def_cfa_offset 8
 2397              		.cfi_offset 3, -8
 2398              		.cfi_offset 14, -4
 994:Lib/soes/src/esc_eoe.c ****    _MBXh *mbh;
 2399              		.loc 1 994 4 view .LVU725
 995:Lib/soes/src/esc_eoe.c ****    _EOE *eoembx;
 2400              		.loc 1 995 4 view .LVU726
 996:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo1;
 2401              		.loc 1 996 4 view .LVU727
 997:Lib/soes/src/esc_eoe.c **** 
 998:Lib/soes/src/esc_eoe.c ****    if (ESCvar.MBXrun == 0)
 2402              		.loc 1 998 4 view .LVU728
 2403              		.loc 1 998 14 is_stmt 0 view .LVU729
 2404 0002 234B     		ldr	r3, .L195
 2405 0004 93F86830 		ldrb	r3, [r3, #104]	@ zero_extendqisi2
 2406              		.loc 1 998 7 view .LVU730
 2407 0008 63B1     		cbz	r3, .L182
 999:Lib/soes/src/esc_eoe.c ****    {
1000:Lib/soes/src/esc_eoe.c ****       return;
1001:Lib/soes/src/esc_eoe.c ****    }
1002:Lib/soes/src/esc_eoe.c ****    if (!ESCvar.xoe && (MBXcontrol[0].state == MBXstate_inclaim))
 2408              		.loc 1 1002 4 is_stmt 1 view .LVU731
 2409              		.loc 1 1002 15 is_stmt 0 view .LVU732
 2410 000a 214B     		ldr	r3, .L195
 2411 000c 93F88E30 		ldrb	r3, [r3, #142]	@ zero_extendqisi2
 2412              		.loc 1 1002 7 view .LVU733
 2413 0010 1BB9     		cbnz	r3, .L184
 2414              		.loc 1 1002 37 discriminator 1 view .LVU734
 2415 0012 204B     		ldr	r3, .L195+4
 2416 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2417              		.loc 1 1002 20 discriminator 1 view .LVU735
 2418 0016 012B     		cmp	r3, #1
 2419 0018 05D0     		beq	.L191
 2420              	.L184:
1003:Lib/soes/src/esc_eoe.c ****    {
1004:Lib/soes/src/esc_eoe.c ****       mbh = (_MBXh *) &MBX[0];
1005:Lib/soes/src/esc_eoe.c ****       if (mbh->mbxtype == MBXEOE)
1006:Lib/soes/src/esc_eoe.c ****       {
1007:Lib/soes/src/esc_eoe.c ****          ESCvar.xoe = MBXEOE;
1008:Lib/soes/src/esc_eoe.c ****       }
1009:Lib/soes/src/esc_eoe.c ****    }
1010:Lib/soes/src/esc_eoe.c ****    if (ESCvar.xoe == MBXEOE)
 2421              		.loc 1 1010 4 is_stmt 1 view .LVU736
 2422              		.loc 1 1010 14 is_stmt 0 view .LVU737
ARM GAS  /tmp/ccKy4lrp.s 			page 72


 2423 001a 1D4B     		ldr	r3, .L195
 2424 001c 93F88E30 		ldrb	r3, [r3, #142]	@ zero_extendqisi2
 2425              		.loc 1 1010 7 view .LVU738
 2426 0020 022B     		cmp	r3, #2
 2427 0022 0BD0     		beq	.L192
 2428              	.L182:
1011:Lib/soes/src/esc_eoe.c ****    {
1012:Lib/soes/src/esc_eoe.c ****       eoembx = (_EOE *) &MBX[0];
1013:Lib/soes/src/esc_eoe.c ****       /* Verify the size of the file data. */
1014:Lib/soes/src/esc_eoe.c ****       if (etohs (eoembx->mbxheader.length) < ESC_EOEHSIZE)
1015:Lib/soes/src/esc_eoe.c ****       {
1016:Lib/soes/src/esc_eoe.c ****          EOE_no_data_response (
1017:Lib/soes/src/esc_eoe.c ****                EOE_INIT_RESP | EOE_HDR_LAST_FRAGMENT,
1018:Lib/soes/src/esc_eoe.c ****                MBXERR_SIZETOOSHORT);
1019:Lib/soes/src/esc_eoe.c ****       }
1020:Lib/soes/src/esc_eoe.c ****       else
1021:Lib/soes/src/esc_eoe.c ****       {
1022:Lib/soes/src/esc_eoe.c ****          frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
1023:Lib/soes/src/esc_eoe.c ****          switch (EOE_HDR_FRAME_TYPE_GET(frameinfo1))
1024:Lib/soes/src/esc_eoe.c ****          {
1025:Lib/soes/src/esc_eoe.c ****             case EOE_FRAG_DATA:
1026:Lib/soes/src/esc_eoe.c ****             {
1027:Lib/soes/src/esc_eoe.c ****                EOE_receive_fragment ();
1028:Lib/soes/src/esc_eoe.c ****                break;
1029:Lib/soes/src/esc_eoe.c ****             }
1030:Lib/soes/src/esc_eoe.c ****             case EOE_INIT_REQ:
1031:Lib/soes/src/esc_eoe.c ****             {
1032:Lib/soes/src/esc_eoe.c ****                EOE_set_ip ();
1033:Lib/soes/src/esc_eoe.c ****                break;
1034:Lib/soes/src/esc_eoe.c ****             }
1035:Lib/soes/src/esc_eoe.c ****             case EOE_GET_IP_PARAM_REQ:
1036:Lib/soes/src/esc_eoe.c ****             {
1037:Lib/soes/src/esc_eoe.c ****                EOE_get_ip ();
1038:Lib/soes/src/esc_eoe.c ****                break;
1039:Lib/soes/src/esc_eoe.c ****             }
1040:Lib/soes/src/esc_eoe.c ****             case EOE_INIT_RESP_TIMESTAMP:
1041:Lib/soes/src/esc_eoe.c ****             case EOE_INIT_RESP:
1042:Lib/soes/src/esc_eoe.c ****             case EOE_SET_ADDR_FILTER_REQ:
1043:Lib/soes/src/esc_eoe.c ****             case EOE_SET_ADDR_FILTER_RESP:
1044:Lib/soes/src/esc_eoe.c ****             case EOE_GET_IP_PARAM_RESP:
1045:Lib/soes/src/esc_eoe.c ****             case EOE_GET_ADDR_FILTER_REQ:
1046:Lib/soes/src/esc_eoe.c ****             case EOE_GET_ADDR_FILTER_RESP:
1047:Lib/soes/src/esc_eoe.c ****             default:
1048:Lib/soes/src/esc_eoe.c ****             {
1049:Lib/soes/src/esc_eoe.c ****                DPRINT("EOE_RESULT_UNSUPPORTED_TYPE\n");
1050:Lib/soes/src/esc_eoe.c ****                EOE_no_data_response ((EOE_HDR_FRAME_PORT & frameinfo1) |
1051:Lib/soes/src/esc_eoe.c ****                      (EOE_HDR_FRAME_TYPE & frameinfo1) |
1052:Lib/soes/src/esc_eoe.c ****                      EOE_HDR_LAST_FRAGMENT,
1053:Lib/soes/src/esc_eoe.c ****                      EOE_RESULT_UNSUPPORTED_FRAME_TYPE);
1054:Lib/soes/src/esc_eoe.c ****                break;
1055:Lib/soes/src/esc_eoe.c ****             }
1056:Lib/soes/src/esc_eoe.c ****          }
1057:Lib/soes/src/esc_eoe.c ****       }
1058:Lib/soes/src/esc_eoe.c ****       MBXcontrol[0].state = MBXstate_idle;
1059:Lib/soes/src/esc_eoe.c ****       ESCvar.xoe = 0;
1060:Lib/soes/src/esc_eoe.c ****    }
1061:Lib/soes/src/esc_eoe.c **** }
ARM GAS  /tmp/ccKy4lrp.s 			page 73


 2429              		.loc 1 1061 1 view .LVU739
 2430 0024 08BD     		pop	{r3, pc}
 2431              	.L191:
1004:Lib/soes/src/esc_eoe.c ****       if (mbh->mbxtype == MBXEOE)
 2432              		.loc 1 1004 7 is_stmt 1 view .LVU740
 2433              	.LVL216:
1005:Lib/soes/src/esc_eoe.c ****       {
 2434              		.loc 1 1005 7 view .LVU741
1005:Lib/soes/src/esc_eoe.c ****       {
 2435              		.loc 1 1005 24 is_stmt 0 view .LVU742
 2436 0026 1C4B     		ldr	r3, .L195+8
 2437 0028 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 2438 002a 03F00F03 		and	r3, r3, #15
1005:Lib/soes/src/esc_eoe.c ****       {
 2439              		.loc 1 1005 10 view .LVU743
 2440 002e 022B     		cmp	r3, #2
 2441 0030 F3D1     		bne	.L184
1007:Lib/soes/src/esc_eoe.c ****       }
 2442              		.loc 1 1007 10 is_stmt 1 view .LVU744
1007:Lib/soes/src/esc_eoe.c ****       }
 2443              		.loc 1 1007 21 is_stmt 0 view .LVU745
 2444 0032 174B     		ldr	r3, .L195
 2445 0034 0222     		movs	r2, #2
 2446 0036 83F88E20 		strb	r2, [r3, #142]
 2447 003a EEE7     		b	.L184
 2448              	.LVL217:
 2449              	.L192:
1012:Lib/soes/src/esc_eoe.c ****       /* Verify the size of the file data. */
 2450              		.loc 1 1012 7 is_stmt 1 view .LVU746
1014:Lib/soes/src/esc_eoe.c ****       {
 2451              		.loc 1 1014 7 view .LVU747
1014:Lib/soes/src/esc_eoe.c ****       {
 2452              		.loc 1 1014 11 is_stmt 0 view .LVU748
 2453 003c 164B     		ldr	r3, .L195+8
 2454 003e 1B88     		ldrh	r3, [r3]	@ unaligned
1014:Lib/soes/src/esc_eoe.c ****       {
 2455              		.loc 1 1014 10 view .LVU749
 2456 0040 032B     		cmp	r3, #3
 2457 0042 0FD9     		bls	.L193
1022:Lib/soes/src/esc_eoe.c ****          switch (EOE_HDR_FRAME_TYPE_GET(frameinfo1))
 2458              		.loc 1 1022 10 is_stmt 1 view .LVU750
1022:Lib/soes/src/esc_eoe.c ****          switch (EOE_HDR_FRAME_TYPE_GET(frameinfo1))
 2459              		.loc 1 1022 21 is_stmt 0 view .LVU751
 2460 0044 144B     		ldr	r3, .L195+8
 2461 0046 D888     		ldrh	r0, [r3, #6]	@ unaligned
 2462              	.LVL218:
1023:Lib/soes/src/esc_eoe.c ****          {
 2463              		.loc 1 1023 10 is_stmt 1 view .LVU752
 2464 0048 00F00F03 		and	r3, r0, #15
 2465 004c 022B     		cmp	r3, #2
 2466 004e 18D0     		beq	.L187
 2467 0050 062B     		cmp	r3, #6
 2468 0052 19D0     		beq	.L188
 2469 0054 93B1     		cbz	r3, .L194
1049:Lib/soes/src/esc_eoe.c ****                EOE_no_data_response ((EOE_HDR_FRAME_PORT & frameinfo1) |
 2470              		.loc 1 1049 55 view .LVU753
1050:Lib/soes/src/esc_eoe.c ****                      (EOE_HDR_FRAME_TYPE & frameinfo1) |
ARM GAS  /tmp/ccKy4lrp.s 			page 74


 2471              		.loc 1 1050 16 view .LVU754
 2472 0056 C0B2     		uxtb	r0, r0
 2473 0058 0221     		movs	r1, #2
 2474 005a 40F48070 		orr	r0, r0, #256
 2475 005e FFF7FEFF 		bl	EOE_no_data_response
 2476              	.LVL219:
1054:Lib/soes/src/esc_eoe.c ****             }
 2477              		.loc 1 1054 16 view .LVU755
 2478 0062 04E0     		b	.L186
 2479              	.L193:
1016:Lib/soes/src/esc_eoe.c ****                EOE_INIT_RESP | EOE_HDR_LAST_FRAGMENT,
 2480              		.loc 1 1016 10 view .LVU756
 2481 0064 0621     		movs	r1, #6
 2482 0066 40F20310 		movw	r0, #259
 2483 006a FFF7FEFF 		bl	EOE_no_data_response
 2484              	.LVL220:
 2485              	.L186:
1058:Lib/soes/src/esc_eoe.c ****       ESCvar.xoe = 0;
 2486              		.loc 1 1058 7 view .LVU757
1058:Lib/soes/src/esc_eoe.c ****       ESCvar.xoe = 0;
 2487              		.loc 1 1058 27 is_stmt 0 view .LVU758
 2488 006e 0023     		movs	r3, #0
 2489 0070 084A     		ldr	r2, .L195+4
 2490 0072 1370     		strb	r3, [r2]
1059:Lib/soes/src/esc_eoe.c ****    }
 2491              		.loc 1 1059 7 is_stmt 1 view .LVU759
1059:Lib/soes/src/esc_eoe.c ****    }
 2492              		.loc 1 1059 18 is_stmt 0 view .LVU760
 2493 0074 064A     		ldr	r2, .L195
 2494 0076 82F88E30 		strb	r3, [r2, #142]
 2495 007a D3E7     		b	.L182
 2496              	.LVL221:
 2497              	.L194:
1027:Lib/soes/src/esc_eoe.c ****                break;
 2498              		.loc 1 1027 16 is_stmt 1 view .LVU761
 2499 007c FFF7FEFF 		bl	EOE_receive_fragment
 2500              	.LVL222:
1028:Lib/soes/src/esc_eoe.c ****             }
 2501              		.loc 1 1028 16 view .LVU762
 2502 0080 F5E7     		b	.L186
 2503              	.LVL223:
 2504              	.L187:
1032:Lib/soes/src/esc_eoe.c ****                break;
 2505              		.loc 1 1032 16 view .LVU763
 2506 0082 FFF7FEFF 		bl	EOE_set_ip
 2507              	.LVL224:
1033:Lib/soes/src/esc_eoe.c ****             }
 2508              		.loc 1 1033 16 view .LVU764
 2509 0086 F2E7     		b	.L186
 2510              	.LVL225:
 2511              	.L188:
1037:Lib/soes/src/esc_eoe.c ****                break;
 2512              		.loc 1 1037 16 view .LVU765
 2513 0088 FFF7FEFF 		bl	EOE_get_ip
 2514              	.LVL226:
1038:Lib/soes/src/esc_eoe.c ****             }
 2515              		.loc 1 1038 16 view .LVU766
ARM GAS  /tmp/ccKy4lrp.s 			page 75


 2516 008c EFE7     		b	.L186
 2517              	.L196:
 2518 008e 00BF     		.align	2
 2519              	.L195:
 2520 0090 00000000 		.word	ESCvar
 2521 0094 00000000 		.word	MBXcontrol
 2522 0098 00000000 		.word	MBX
 2523              		.cfi_endproc
 2524              	.LFE23:
 2526              		.section	.text.ESC_eoeprocess_tx,"ax",%progbits
 2527              		.align	1
 2528              		.global	ESC_eoeprocess_tx
 2529              		.syntax unified
 2530              		.thumb
 2531              		.thumb_func
 2533              	ESC_eoeprocess_tx:
 2534              	.LFB24:
1062:Lib/soes/src/esc_eoe.c **** /** EoE function to send a fragment.
1063:Lib/soes/src/esc_eoe.c ****  * NOTE: Not thread safe, should be called from the SOES task sequential
1064:Lib/soes/src/esc_eoe.c ****  * with other mailbox functions. Add support for threading by adding
1065:Lib/soes/src/esc_eoe.c ****  * a thread safe application fetch function, example a mailbox with buffers
1066:Lib/soes/src/esc_eoe.c ****  * to send, posted by TCP/IP stack and fetched by SOES task.
1067:Lib/soes/src/esc_eoe.c ****  */
1068:Lib/soes/src/esc_eoe.c **** void ESC_eoeprocess_tx (void)
1069:Lib/soes/src/esc_eoe.c **** {
 2535              		.loc 1 1069 1 view -0
 2536              		.cfi_startproc
 2537              		@ args = 0, pretend = 0, frame = 0
 2538              		@ frame_needed = 0, uses_anonymous_args = 0
 2539 0000 08B5     		push	{r3, lr}
 2540              		.cfi_def_cfa_offset 8
 2541              		.cfi_offset 3, -8
 2542              		.cfi_offset 14, -4
1070:Lib/soes/src/esc_eoe.c ****    if (ESCvar.MBXrun == 0)
 2543              		.loc 1 1070 4 view .LVU768
 2544              		.loc 1 1070 14 is_stmt 0 view .LVU769
 2545 0002 044B     		ldr	r3, .L201
 2546 0004 93F86830 		ldrb	r3, [r3, #104]	@ zero_extendqisi2
 2547              		.loc 1 1070 7 view .LVU770
 2548 0008 03B9     		cbnz	r3, .L200
 2549              	.L197:
1071:Lib/soes/src/esc_eoe.c ****    {
1072:Lib/soes/src/esc_eoe.c ****       return;
1073:Lib/soes/src/esc_eoe.c ****    }
1074:Lib/soes/src/esc_eoe.c ****    EOE_send_fragment ();
1075:Lib/soes/src/esc_eoe.c **** }
 2550              		.loc 1 1075 1 view .LVU771
 2551 000a 08BD     		pop	{r3, pc}
 2552              	.L200:
1074:Lib/soes/src/esc_eoe.c **** }
 2553              		.loc 1 1074 4 is_stmt 1 view .LVU772
 2554 000c FFF7FEFF 		bl	EOE_send_fragment
 2555              	.LVL227:
 2556 0010 FBE7     		b	.L197
 2557              	.L202:
 2558 0012 00BF     		.align	2
 2559              	.L201:
ARM GAS  /tmp/ccKy4lrp.s 			page 76


 2560 0014 00000000 		.word	ESCvar
 2561              		.cfi_endproc
 2562              	.LFE24:
 2564              		.section	.bss.EOEvar,"aw",%nobits
 2565              		.align	2
 2566              		.set	.LANCHOR0,. + 0
 2569              	EOEvar:
 2570 0000 00000000 		.space	48
 2570      00000000 
 2570      00000000 
 2570      00000000 
 2570      00000000 
 2571              		.section	.bss.eoe_cfg,"aw",%nobits
 2572              		.align	2
 2573              		.set	.LANCHOR1,. + 0
 2576              	eoe_cfg:
 2577 0000 00000000 		.space	4
 2578              		.section	.bss.frameno.0,"aw",%nobits
 2579              		.set	.LANCHOR3,. + 0
 2582              	frameno.0:
 2583 0000 00       		.space	1
 2584              		.section	.bss.nic_ports,"aw",%nobits
 2585              		.align	2
 2586              		.set	.LANCHOR2,. + 0
 2589              	nic_ports:
 2590 0000 00000000 		.space	56
 2590      00000000 
 2590      00000000 
 2590      00000000 
 2590      00000000 
 2591              		.text
 2592              	.Letext0:
 2593              		.file 2 "/usr/share/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/machine/_default_types.h"
 2594              		.file 3 "/usr/share/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/sys/_stdint.h"
 2595              		.file 4 "/usr/share/gcc-arm-none-eabi-10.3-2021.10/lib/gcc/arm-none-eabi/10.3.1/include/stddef.h"
 2596              		.file 5 "Lib/soes/inc/esc.h"
 2597              		.file 6 "Lib/soes/inc/esc_eoe.h"
 2598              		.file 7 "<built-in>"
ARM GAS  /tmp/ccKy4lrp.s 			page 77


DEFINED SYMBOLS
                            *ABS*:0000000000000000 esc_eoe.c
     /tmp/ccKy4lrp.s:20     .text.EOE_ip_uint32_to_byte:0000000000000000 $t
     /tmp/ccKy4lrp.s:25     .text.EOE_ip_uint32_to_byte:0000000000000000 EOE_ip_uint32_to_byte
     /tmp/ccKy4lrp.s:60     .text.EOE_ip_byte_to_uint32:0000000000000000 $t
     /tmp/ccKy4lrp.s:65     .text.EOE_ip_byte_to_uint32:0000000000000000 EOE_ip_byte_to_uint32
     /tmp/ccKy4lrp.s:98     .text.EOE_init_rx:0000000000000000 $t
     /tmp/ccKy4lrp.s:103    .text.EOE_init_rx:0000000000000000 EOE_init_rx
     /tmp/ccKy4lrp.s:153    .text.EOE_init_rx:0000000000000024 $d
     /tmp/ccKy4lrp.s:159    .text.EOE_init_tx:0000000000000000 $t
     /tmp/ccKy4lrp.s:164    .text.EOE_init_tx:0000000000000000 EOE_init_tx
     /tmp/ccKy4lrp.s:223    .text.EOE_init_tx:0000000000000030 $d
     /tmp/ccKy4lrp.s:229    .text.EOE_receive_fragment:0000000000000000 $t
     /tmp/ccKy4lrp.s:234    .text.EOE_receive_fragment:0000000000000000 EOE_receive_fragment
     /tmp/ccKy4lrp.s:460    .text.EOE_receive_fragment:00000000000000d4 $d
     /tmp/ccKy4lrp.s:468    .text.EOE_no_data_response:0000000000000000 $t
     /tmp/ccKy4lrp.s:473    .text.EOE_no_data_response:0000000000000000 EOE_no_data_response
     /tmp/ccKy4lrp.s:543    .text.EOE_no_data_response:000000000000003c $d
     /tmp/ccKy4lrp.s:550    .text.EOE_set_ip:0000000000000000 $t
     /tmp/ccKy4lrp.s:555    .text.EOE_set_ip:0000000000000000 EOE_set_ip
     /tmp/ccKy4lrp.s:895    .text.EOE_set_ip:00000000000001cc $d
     /tmp/ccKy4lrp.s:903    .text.EOE_get_ip:0000000000000000 $t
     /tmp/ccKy4lrp.s:908    .text.EOE_get_ip:0000000000000000 EOE_get_ip
     /tmp/ccKy4lrp.s:1266   .text.EOE_get_ip:00000000000001cc $d
     /tmp/ccKy4lrp.s:1275   .text.EOE_send_fragment:0000000000000000 $t
     /tmp/ccKy4lrp.s:1280   .text.EOE_send_fragment:0000000000000000 EOE_send_fragment
     /tmp/ccKy4lrp.s:1528   .text.EOE_send_fragment:00000000000000f0 $d
     /tmp/ccKy4lrp.s:1540   .text.EOE_ecat_get_mac:0000000000000000 $t
     /tmp/ccKy4lrp.s:1546   .text.EOE_ecat_get_mac:0000000000000000 EOE_ecat_get_mac
     /tmp/ccKy4lrp.s:1601   .text.EOE_ecat_get_mac:0000000000000030 $d
     /tmp/ccKy4lrp.s:1606   .text.EOE_ecat_set_mac:0000000000000000 $t
     /tmp/ccKy4lrp.s:1612   .text.EOE_ecat_set_mac:0000000000000000 EOE_ecat_set_mac
     /tmp/ccKy4lrp.s:1648   .text.EOE_ecat_set_mac:0000000000000018 $d
     /tmp/ccKy4lrp.s:1653   .text.EOE_ecat_get_ip:0000000000000000 $t
     /tmp/ccKy4lrp.s:1659   .text.EOE_ecat_get_ip:0000000000000000 EOE_ecat_get_ip
     /tmp/ccKy4lrp.s:1719   .text.EOE_ecat_get_ip:0000000000000038 $d
     /tmp/ccKy4lrp.s:1724   .text.EOE_ecat_set_ip:0000000000000000 $t
     /tmp/ccKy4lrp.s:1730   .text.EOE_ecat_set_ip:0000000000000000 EOE_ecat_set_ip
     /tmp/ccKy4lrp.s:1778   .text.EOE_ecat_set_ip:000000000000002c $d
     /tmp/ccKy4lrp.s:1783   .text.EOE_ecat_get_subnet:0000000000000000 $t
     /tmp/ccKy4lrp.s:1789   .text.EOE_ecat_get_subnet:0000000000000000 EOE_ecat_get_subnet
     /tmp/ccKy4lrp.s:1849   .text.EOE_ecat_get_subnet:0000000000000038 $d
     /tmp/ccKy4lrp.s:1854   .text.EOE_ecat_set_subnet:0000000000000000 $t
     /tmp/ccKy4lrp.s:1860   .text.EOE_ecat_set_subnet:0000000000000000 EOE_ecat_set_subnet
     /tmp/ccKy4lrp.s:1908   .text.EOE_ecat_set_subnet:000000000000002c $d
     /tmp/ccKy4lrp.s:1913   .text.EOE_ecat_get_gateway:0000000000000000 $t
     /tmp/ccKy4lrp.s:1919   .text.EOE_ecat_get_gateway:0000000000000000 EOE_ecat_get_gateway
     /tmp/ccKy4lrp.s:1979   .text.EOE_ecat_get_gateway:0000000000000038 $d
     /tmp/ccKy4lrp.s:1984   .text.EOE_ecat_set_gateway:0000000000000000 $t
     /tmp/ccKy4lrp.s:1990   .text.EOE_ecat_set_gateway:0000000000000000 EOE_ecat_set_gateway
     /tmp/ccKy4lrp.s:2038   .text.EOE_ecat_set_gateway:000000000000002c $d
     /tmp/ccKy4lrp.s:2043   .text.EOE_ecat_get_dns_ip:0000000000000000 $t
     /tmp/ccKy4lrp.s:2049   .text.EOE_ecat_get_dns_ip:0000000000000000 EOE_ecat_get_dns_ip
     /tmp/ccKy4lrp.s:2109   .text.EOE_ecat_get_dns_ip:0000000000000038 $d
     /tmp/ccKy4lrp.s:2114   .text.EOE_ecat_set_dns_ip:0000000000000000 $t
     /tmp/ccKy4lrp.s:2120   .text.EOE_ecat_set_dns_ip:0000000000000000 EOE_ecat_set_dns_ip
     /tmp/ccKy4lrp.s:2168   .text.EOE_ecat_set_dns_ip:000000000000002c $d
ARM GAS  /tmp/ccKy4lrp.s 			page 78


     /tmp/ccKy4lrp.s:2173   .text.EOE_ecat_get_dns_name:0000000000000000 $t
     /tmp/ccKy4lrp.s:2179   .text.EOE_ecat_get_dns_name:0000000000000000 EOE_ecat_get_dns_name
     /tmp/ccKy4lrp.s:2247   .text.EOE_ecat_get_dns_name:000000000000004c $d
     /tmp/ccKy4lrp.s:2253   .text.EOE_ecat_set_dns_name:0000000000000000 $t
     /tmp/ccKy4lrp.s:2259   .text.EOE_ecat_set_dns_name:0000000000000000 EOE_ecat_set_dns_name
     /tmp/ccKy4lrp.s:2321   .text.EOE_ecat_set_dns_name:0000000000000044 $d
     /tmp/ccKy4lrp.s:2326   .text.EOE_init:0000000000000000 $t
     /tmp/ccKy4lrp.s:2332   .text.EOE_init:0000000000000000 EOE_init
     /tmp/ccKy4lrp.s:2355   .text.EOE_config:0000000000000000 $t
     /tmp/ccKy4lrp.s:2361   .text.EOE_config:0000000000000000 EOE_config
     /tmp/ccKy4lrp.s:2378   .text.EOE_config:0000000000000008 $d
     /tmp/ccKy4lrp.s:2383   .text.ESC_eoeprocess:0000000000000000 $t
     /tmp/ccKy4lrp.s:2389   .text.ESC_eoeprocess:0000000000000000 ESC_eoeprocess
     /tmp/ccKy4lrp.s:2520   .text.ESC_eoeprocess:0000000000000090 $d
     /tmp/ccKy4lrp.s:2527   .text.ESC_eoeprocess_tx:0000000000000000 $t
     /tmp/ccKy4lrp.s:2533   .text.ESC_eoeprocess_tx:0000000000000000 ESC_eoeprocess_tx
     /tmp/ccKy4lrp.s:2560   .text.ESC_eoeprocess_tx:0000000000000014 $d
     /tmp/ccKy4lrp.s:2565   .bss.EOEvar:0000000000000000 $d
     /tmp/ccKy4lrp.s:2569   .bss.EOEvar:0000000000000000 EOEvar
     /tmp/ccKy4lrp.s:2572   .bss.eoe_cfg:0000000000000000 $d
     /tmp/ccKy4lrp.s:2576   .bss.eoe_cfg:0000000000000000 eoe_cfg
     /tmp/ccKy4lrp.s:2582   .bss.frameno.0:0000000000000000 frameno.0
     /tmp/ccKy4lrp.s:2583   .bss.frameno.0:0000000000000000 $d
     /tmp/ccKy4lrp.s:2585   .bss.nic_ports:0000000000000000 $d
     /tmp/ccKy4lrp.s:2589   .bss.nic_ports:0000000000000000 nic_ports

UNDEFINED SYMBOLS
memcpy
MBX
ESC_claimbuffer
ESCvar
MBXcontrol
