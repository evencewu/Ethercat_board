ARM GAS  /tmp/ccJ9SSdb.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"esc_eoe.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.EOE_ip_uint32_to_byte,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	EOE_ip_uint32_to_byte:
  26              	.LVL0:
  27              	.LFB0:
  28              		.file 1 "Lib/soes/src/esc_eoe.c"
   1:Lib/soes/src/esc_eoe.c **** /*
   2:Lib/soes/src/esc_eoe.c ****  * Licensed under the GNU General Public License version 2 with exceptions. See
   3:Lib/soes/src/esc_eoe.c ****  * LICENSE file in the project root for full license information
   4:Lib/soes/src/esc_eoe.c ****  */
   5:Lib/soes/src/esc_eoe.c **** 
   6:Lib/soes/src/esc_eoe.c ****  /** \file
   7:Lib/soes/src/esc_eoe.c ****  * \brief
   8:Lib/soes/src/esc_eoe.c ****  * Ethernet over EtherCAT (EoE) module.
   9:Lib/soes/src/esc_eoe.c ****  */
  10:Lib/soes/src/esc_eoe.c **** 
  11:Lib/soes/src/esc_eoe.c **** #include <cc.h>
  12:Lib/soes/src/esc_eoe.c **** #include <string.h>
  13:Lib/soes/src/esc_eoe.c **** #include "esc.h"
  14:Lib/soes/src/esc_eoe.c **** #include "esc_eoe.h"
  15:Lib/soes/src/esc_eoe.c **** 
  16:Lib/soes/src/esc_eoe.c **** 
  17:Lib/soes/src/esc_eoe.c **** #if defined(EC_BIG_ENDIAN)
  18:Lib/soes/src/esc_eoe.c **** #define EOE_HTONS(x) (x)
  19:Lib/soes/src/esc_eoe.c **** #define EOE_NTOHS(x) (x)
  20:Lib/soes/src/esc_eoe.c **** #define EOE_HTONL(x) (x)
  21:Lib/soes/src/esc_eoe.c **** #define EOE_NTOHL(x) (x)
  22:Lib/soes/src/esc_eoe.c **** #else
  23:Lib/soes/src/esc_eoe.c **** #define EOE_HTONS(x) ((((x) & 0x00ffU) << 8) | (((x) & 0xff00U) >> 8))
  24:Lib/soes/src/esc_eoe.c **** #define EOE_NTOHS(x) EOE_HTONS(x)
  25:Lib/soes/src/esc_eoe.c **** #define EOE_HTONL(x) ((((x) & 0x000000ffU) << 24) | \
  26:Lib/soes/src/esc_eoe.c ****                      (((x) & 0x0000ff00U) <<  8) | \
  27:Lib/soes/src/esc_eoe.c ****                      (((x) & 0x00ff0000U) >>  8) | \
  28:Lib/soes/src/esc_eoe.c ****                      (((x) & 0xff000000U) >> 24))
  29:Lib/soes/src/esc_eoe.c **** #define EOE_NTOHL(x) EOE_HTONL(x)
  30:Lib/soes/src/esc_eoe.c **** #endif /* #if defined(EC_BIG_ENDIAN) */
ARM GAS  /tmp/ccJ9SSdb.s 			page 2


  31:Lib/soes/src/esc_eoe.c **** 
  32:Lib/soes/src/esc_eoe.c **** #define EOE_MAKEU32(a,b,c,d) (((uint32_t)((a) & 0xff) << 24) | \
  33:Lib/soes/src/esc_eoe.c ****                             ((uint32_t)((b) & 0xff) << 16) | \
  34:Lib/soes/src/esc_eoe.c ****                             ((uint32_t)((c) & 0xff) << 8)  | \
  35:Lib/soes/src/esc_eoe.c ****                             (uint32_t)((d) & 0xff))
  36:Lib/soes/src/esc_eoe.c **** 
  37:Lib/soes/src/esc_eoe.c **** /** Get one byte from the 4-byte address */
  38:Lib/soes/src/esc_eoe.c **** #define eoe_ip4_addr1(ipaddr) (((const uint8_t*)(&(ipaddr)->addr))[0])
  39:Lib/soes/src/esc_eoe.c **** #define eoe_ip4_addr2(ipaddr) (((const uint8_t*)(&(ipaddr)->addr))[1])
  40:Lib/soes/src/esc_eoe.c **** #define eoe_ip4_addr3(ipaddr) (((const uint8_t*)(&(ipaddr)->addr))[2])
  41:Lib/soes/src/esc_eoe.c **** #define eoe_ip4_addr4(ipaddr) (((const uint8_t*)(&(ipaddr)->addr))[3])
  42:Lib/soes/src/esc_eoe.c **** 
  43:Lib/soes/src/esc_eoe.c **** /** Set an IP address given by the four byte-parts */
  44:Lib/soes/src/esc_eoe.c **** #define EOE_IP4_ADDR_TO_U32(ipaddr,a,b,c,d)  \
  45:Lib/soes/src/esc_eoe.c ****    (ipaddr)->addr = EOE_HTONL(EOE_MAKEU32(a,b,c,d))
  46:Lib/soes/src/esc_eoe.c **** 
  47:Lib/soes/src/esc_eoe.c **** /** Header frame info 1 */
  48:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_TYPE_OFFSET      0
  49:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_TYPE             (0xF << 0)
  50:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_TYPE_SET(x)      ((uint16_t)(((x) & 0xF) << 0))
  51:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_TYPE_GET(x)      (((x) >> 0) & 0xF)
  52:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_PORT_OFFSET      4
  53:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_PORT             (0xF << 4)
  54:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_PORT_SET(x)      ((uint16_t)(((x) & 0xF) << 4))
  55:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_PORT_GET(x)      (((x) >> 4) & 0xF)
  56:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_LAST_FRAGMENT_OFFSET   8
  57:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_LAST_FRAGMENT          (0x1 << 8)
  58:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_LAST_FRAGMENT_SET(x)   ((uint16_t)(((x) & 0x1) << 8))
  59:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_LAST_FRAGMENT_GET(x)   (((x) >> 8) & 0x1)
  60:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_TIME_APPEND_OFFSET     9
  61:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_TIME_APPEND            (0x1 << 9)
  62:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_TIME_APPEND_SET(x)     ((uint16_t)(((x) & 0x1) << 9))
  63:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_TIME_APPEND_GET(x)     (((x) >> 9) & 0x1)
  64:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_TIME_REQUEST_OFFSET    10
  65:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_TIME_REQUEST           (0x1 << 10)
  66:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_TIME_REQUEST_SET(x)    ((uint16_t)(((x) & 0x1) << 10))
  67:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_TIME_REQUEST_GET(x)    (((x) >> 10) & 0x1)
  68:Lib/soes/src/esc_eoe.c **** 
  69:Lib/soes/src/esc_eoe.c **** /** Header frame info 2 */
  70:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAG_NO_OFFSET         0
  71:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAG_NO                (0x3F << 0)
  72:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAG_NO_SET(x)         ((uint16_t)(((x) & 0x3F) << 0))
  73:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAG_NO_GET(x)         (((x) >> 0) & 0x3F)
  74:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_OFFSET_OFFSET    6
  75:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_OFFSET           (0x3F << 6)
  76:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_OFFSET_SET(x)    ((uint16_t)(((x) & 0x3F) << 6))
  77:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_OFFSET_GET(x)    (((x) >> 6) & 0x3F)
  78:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_NO_OFFSET        12
  79:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_NO               (0xF << 12)
  80:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_NO_SET(x)        ((uint16_t)(((x) & 0xF) << 12))
  81:Lib/soes/src/esc_eoe.c **** #define EOE_HDR_FRAME_NO_GET(x)        (((x) >> 12) & 0xF)
  82:Lib/soes/src/esc_eoe.c **** 
  83:Lib/soes/src/esc_eoe.c **** /** EOE param */
  84:Lib/soes/src/esc_eoe.c **** #define EOE_PARAM_OFFSET                  4
  85:Lib/soes/src/esc_eoe.c **** #define EOE_PARAM_MAC_INCLUDE             (0x1 << 0)
  86:Lib/soes/src/esc_eoe.c **** #define EOE_PARAM_IP_INCLUDE              (0x1 << 1)
  87:Lib/soes/src/esc_eoe.c **** #define EOE_PARAM_SUBNET_IP_INCLUDE       (0x1 << 2)
ARM GAS  /tmp/ccJ9SSdb.s 			page 3


  88:Lib/soes/src/esc_eoe.c **** #define EOE_PARAM_DEFAULT_GATEWAY_INCLUDE (0x1 << 3)
  89:Lib/soes/src/esc_eoe.c **** #define EOE_PARAM_DNS_IP_INCLUDE          (0x1 << 4)
  90:Lib/soes/src/esc_eoe.c **** #define EOE_PARAM_DNS_NAME_INCLUDE        (0x1 << 5)
  91:Lib/soes/src/esc_eoe.c **** 
  92:Lib/soes/src/esc_eoe.c **** /** EoE frame types */
  93:Lib/soes/src/esc_eoe.c **** #define EOE_FRAG_DATA                  0
  94:Lib/soes/src/esc_eoe.c **** #define EOE_INIT_RESP_TIMESTAMP        1
  95:Lib/soes/src/esc_eoe.c **** #define EOE_INIT_REQ                   2 /* Spec SET IP REQ */
  96:Lib/soes/src/esc_eoe.c **** #define EOE_INIT_RESP                  3 /* Spec SET IP RESP */
  97:Lib/soes/src/esc_eoe.c **** #define EOE_SET_ADDR_FILTER_REQ        4
  98:Lib/soes/src/esc_eoe.c **** #define EOE_SET_ADDR_FILTER_RESP       5
  99:Lib/soes/src/esc_eoe.c **** #define EOE_GET_IP_PARAM_REQ           6
 100:Lib/soes/src/esc_eoe.c **** #define EOE_GET_IP_PARAM_RESP          7
 101:Lib/soes/src/esc_eoe.c **** #define EOE_GET_ADDR_FILTER_REQ        8
 102:Lib/soes/src/esc_eoe.c **** #define EOE_GET_ADDR_FILTER_RESP       9
 103:Lib/soes/src/esc_eoe.c **** 
 104:Lib/soes/src/esc_eoe.c **** /** Define number of ports available.(Only one is supported currently */
 105:Lib/soes/src/esc_eoe.c **** #define EOE_NUMBER_OF_PORTS   1
 106:Lib/soes/src/esc_eoe.c **** #define EOE_PORT_INDEX(x)     ((x > 0) ? (x - 1) : 0)
 107:Lib/soes/src/esc_eoe.c **** /** DNS length according to ETG 1000.6 */
 108:Lib/soes/src/esc_eoe.c **** #define EOE_DNS_NAME_LENGTH  32
 109:Lib/soes/src/esc_eoe.c **** /** Ethernet address length not including VLAN */
 110:Lib/soes/src/esc_eoe.c **** #define EOE_ETHADDR_LENGTH    6
 111:Lib/soes/src/esc_eoe.c **** /** IPv4 address length */
 112:Lib/soes/src/esc_eoe.c **** #define EOE_IP4_LENGTH        4U /* sizeof(uint32_t) */
 113:Lib/soes/src/esc_eoe.c **** 
 114:Lib/soes/src/esc_eoe.c **** /** EOE ip4 address in network order */
 115:Lib/soes/src/esc_eoe.c **** struct eoe_ip4_addr {
 116:Lib/soes/src/esc_eoe.c ****   uint32_t addr;
 117:Lib/soes/src/esc_eoe.c **** };
 118:Lib/soes/src/esc_eoe.c **** typedef struct eoe_ip4_addr eoe_ip4_addr_t;
 119:Lib/soes/src/esc_eoe.c **** 
 120:Lib/soes/src/esc_eoe.c **** /** EOE ethernet address */
 121:Lib/soes/src/esc_eoe.c **** CC_PACKED_BEGIN
 122:Lib/soes/src/esc_eoe.c **** typedef struct CC_PACKED eoe_ethaddr
 123:Lib/soes/src/esc_eoe.c **** {
 124:Lib/soes/src/esc_eoe.c ****   uint8_t addr[EOE_ETHADDR_LENGTH];
 125:Lib/soes/src/esc_eoe.c **** } eoe_ethaddr_t;
 126:Lib/soes/src/esc_eoe.c **** CC_PACKED_END
 127:Lib/soes/src/esc_eoe.c **** 
 128:Lib/soes/src/esc_eoe.c **** typedef struct
 129:Lib/soes/src/esc_eoe.c **** {
 130:Lib/soes/src/esc_eoe.c ****    /** Pointer to current RX buffer to fill */
 131:Lib/soes/src/esc_eoe.c ****    eoe_pbuf_t rxebuf;
 132:Lib/soes/src/esc_eoe.c ****    /** Pointer to current TX buff to Send */
 133:Lib/soes/src/esc_eoe.c ****    eoe_pbuf_t txebuf;
 134:Lib/soes/src/esc_eoe.c **** 
 135:Lib/soes/src/esc_eoe.c ****    /** Current RX fragment number */
 136:Lib/soes/src/esc_eoe.c ****    uint8_t rxfragmentno;
 137:Lib/soes/src/esc_eoe.c ****    /** Complete RX frame size of current frame */
 138:Lib/soes/src/esc_eoe.c ****    uint32_t rxframesize;
 139:Lib/soes/src/esc_eoe.c ****    /** Current RX data offset in frame */
 140:Lib/soes/src/esc_eoe.c ****    uint32_t rxframeoffset;
 141:Lib/soes/src/esc_eoe.c ****    /** Current RX frame number */
 142:Lib/soes/src/esc_eoe.c ****    uint16_t rxframeno;
 143:Lib/soes/src/esc_eoe.c **** 
 144:Lib/soes/src/esc_eoe.c ****    /** Current TX fragment number */
ARM GAS  /tmp/ccJ9SSdb.s 			page 4


 145:Lib/soes/src/esc_eoe.c ****    uint8_t txfragmentno;
 146:Lib/soes/src/esc_eoe.c ****    /** Complete TX frame size of current frame */
 147:Lib/soes/src/esc_eoe.c ****    uint32_t txframesize;
 148:Lib/soes/src/esc_eoe.c ****    /** Current TX data offset in frame */
 149:Lib/soes/src/esc_eoe.c ****    uint32_t txframeoffset;
 150:Lib/soes/src/esc_eoe.c **** } _EOEvar;
 151:Lib/soes/src/esc_eoe.c **** 
 152:Lib/soes/src/esc_eoe.c **** /** EoE IP request structure */
 153:Lib/soes/src/esc_eoe.c **** typedef struct eoe_param
 154:Lib/soes/src/esc_eoe.c **** {
 155:Lib/soes/src/esc_eoe.c ****    uint8_t mac_set:1;
 156:Lib/soes/src/esc_eoe.c ****    uint8_t ip_set:1;
 157:Lib/soes/src/esc_eoe.c ****    uint8_t subnet_set:1;
 158:Lib/soes/src/esc_eoe.c ****    uint8_t default_gateway_set:1;
 159:Lib/soes/src/esc_eoe.c ****    uint8_t dns_ip_set:1;
 160:Lib/soes/src/esc_eoe.c ****    uint8_t dns_name_set:1;
 161:Lib/soes/src/esc_eoe.c ****    eoe_ethaddr_t mac;
 162:Lib/soes/src/esc_eoe.c ****    eoe_ip4_addr_t ip;
 163:Lib/soes/src/esc_eoe.c ****    eoe_ip4_addr_t subnet;
 164:Lib/soes/src/esc_eoe.c ****    eoe_ip4_addr_t default_gateway;
 165:Lib/soes/src/esc_eoe.c ****    eoe_ip4_addr_t dns_ip;
 166:Lib/soes/src/esc_eoe.c ****    char dns_name[EOE_DNS_NAME_LENGTH];
 167:Lib/soes/src/esc_eoe.c **** } eoe_param_t;
 168:Lib/soes/src/esc_eoe.c **** 
 169:Lib/soes/src/esc_eoe.c **** /** Main EoE status data array. Structure gets filled with current information
 170:Lib/soes/src/esc_eoe.c ****  * variables during EoE receive and send operations.
 171:Lib/soes/src/esc_eoe.c ****  */
 172:Lib/soes/src/esc_eoe.c **** static _EOEvar EOEvar;
 173:Lib/soes/src/esc_eoe.c **** 
 174:Lib/soes/src/esc_eoe.c **** /** Main FoE configuration pointer data array. Structure is allocated and filled
 175:Lib/soes/src/esc_eoe.c ****  * by the application defining what preferences it requires.
 176:Lib/soes/src/esc_eoe.c ****  */
 177:Lib/soes/src/esc_eoe.c **** static eoe_cfg_t * eoe_cfg;
 178:Lib/soes/src/esc_eoe.c **** 
 179:Lib/soes/src/esc_eoe.c **** /** Local EoE variable holding cached IP information values.
 180:Lib/soes/src/esc_eoe.c ****  * To be set or read from the user application, eg. TCP/IP stack.
 181:Lib/soes/src/esc_eoe.c ****  */
 182:Lib/soes/src/esc_eoe.c **** static eoe_param_t nic_ports[EOE_NUMBER_OF_PORTS];
 183:Lib/soes/src/esc_eoe.c **** 
 184:Lib/soes/src/esc_eoe.c **** /** Local init/reset functions on frame receive init */
 185:Lib/soes/src/esc_eoe.c **** static void EOE_init_rx ();
 186:Lib/soes/src/esc_eoe.c **** /** Local init/reset functions on frame send completion */
 187:Lib/soes/src/esc_eoe.c **** static void EOE_init_tx ();
 188:Lib/soes/src/esc_eoe.c **** 
 189:Lib/soes/src/esc_eoe.c **** /** EoE utility function to convert uint32 to eoe ip bytes.
 190:Lib/soes/src/esc_eoe.c ****  * @param[in] ip       = ip in uint32
 191:Lib/soes/src/esc_eoe.c ****  * @param[out] byte_ip = eoe ip 4th octet, 3ed octet, 2nd octet, 1st octet
 192:Lib/soes/src/esc_eoe.c ****  */
 193:Lib/soes/src/esc_eoe.c **** static void EOE_ip_uint32_to_byte (eoe_ip4_addr_t * ip, uint8_t * byte_ip)
 194:Lib/soes/src/esc_eoe.c **** {
  29              		.loc 1 194 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
 195:Lib/soes/src/esc_eoe.c ****    byte_ip[3] = eoe_ip4_addr1(ip); /* 1st octet */
  34              		.loc 1 195 4 view .LVU1
ARM GAS  /tmp/ccJ9SSdb.s 			page 5


  35              		.loc 1 195 17 is_stmt 0 view .LVU2
  36 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
  37              		.loc 1 195 15 view .LVU3
  38 0002 CB70     		strb	r3, [r1, #3]
 196:Lib/soes/src/esc_eoe.c ****    byte_ip[2] = eoe_ip4_addr2(ip); /* 2nd octet */
  39              		.loc 1 196 4 is_stmt 1 view .LVU4
  40              		.loc 1 196 17 is_stmt 0 view .LVU5
  41 0004 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
  42              		.loc 1 196 15 view .LVU6
  43 0006 8B70     		strb	r3, [r1, #2]
 197:Lib/soes/src/esc_eoe.c ****    byte_ip[1] = eoe_ip4_addr3(ip); /* 3ed octet */
  44              		.loc 1 197 4 is_stmt 1 view .LVU7
  45              		.loc 1 197 17 is_stmt 0 view .LVU8
  46 0008 8378     		ldrb	r3, [r0, #2]	@ zero_extendqisi2
  47              		.loc 1 197 15 view .LVU9
  48 000a 4B70     		strb	r3, [r1, #1]
 198:Lib/soes/src/esc_eoe.c ****    byte_ip[0] = eoe_ip4_addr4(ip); /* 4th octet */
  49              		.loc 1 198 4 is_stmt 1 view .LVU10
  50              		.loc 1 198 17 is_stmt 0 view .LVU11
  51 000c C378     		ldrb	r3, [r0, #3]	@ zero_extendqisi2
  52              		.loc 1 198 15 view .LVU12
  53 000e 0B70     		strb	r3, [r1]
 199:Lib/soes/src/esc_eoe.c **** }
  54              		.loc 1 199 1 view .LVU13
  55 0010 7047     		bx	lr
  56              		.cfi_endproc
  57              	.LFE0:
  59              		.section	.text.EOE_ip_byte_to_uint32,"ax",%progbits
  60              		.align	1
  61              		.syntax unified
  62              		.thumb
  63              		.thumb_func
  64              		.fpu fpv4-sp-d16
  66              	EOE_ip_byte_to_uint32:
  67              	.LVL1:
  68              	.LFB1:
 200:Lib/soes/src/esc_eoe.c **** 
 201:Lib/soes/src/esc_eoe.c **** /** EoE utility function to convert eoe ip bytes to uint32.
 202:Lib/soes/src/esc_eoe.c ****  * @param[in] byte_ip = eoe ip 4th octet, 3ed octet, 2nd octet, 1st octet
 203:Lib/soes/src/esc_eoe.c ****  * @param[out] ip     = ip in uint32
 204:Lib/soes/src/esc_eoe.c ****  */
 205:Lib/soes/src/esc_eoe.c **** static void EOE_ip_byte_to_uint32 (uint8_t * byte_ip, eoe_ip4_addr_t * ip)
 206:Lib/soes/src/esc_eoe.c **** {
  69              		.loc 1 206 1 is_stmt 1 view -0
  70              		.cfi_startproc
  71              		@ args = 0, pretend = 0, frame = 0
  72              		@ frame_needed = 0, uses_anonymous_args = 0
  73              		@ link register save eliminated.
 207:Lib/soes/src/esc_eoe.c ****    EOE_IP4_ADDR_TO_U32(ip,
  74              		.loc 1 207 4 view .LVU15
  75 0000 C278     		ldrb	r2, [r0, #3]	@ zero_extendqisi2
  76 0002 8378     		ldrb	r3, [r0, #2]	@ zero_extendqisi2
  77 0004 1B04     		lsls	r3, r3, #16
  78 0006 43EA0263 		orr	r3, r3, r2, lsl #24
  79 000a 4278     		ldrb	r2, [r0, #1]	@ zero_extendqisi2
  80 000c 43EA0223 		orr	r3, r3, r2, lsl #8
  81 0010 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
ARM GAS  /tmp/ccJ9SSdb.s 			page 6


  82              	.LVL2:
  83              		.loc 1 207 4 is_stmt 0 view .LVU16
  84 0012 0343     		orrs	r3, r3, r0
  85 0014 1A02     		lsls	r2, r3, #8
  86 0016 02F47F02 		and	r2, r2, #16711680
  87 001a 42EA0062 		orr	r2, r2, r0, lsl #24
  88 001e 180A     		lsrs	r0, r3, #8
  89 0020 00F47F40 		and	r0, r0, #65280
  90 0024 0243     		orrs	r2, r2, r0
  91 0026 42EA1363 		orr	r3, r2, r3, lsr #24
  92 002a 0B60     		str	r3, [r1]
 208:Lib/soes/src/esc_eoe.c ****          byte_ip[3],  /* 1st octet */
 209:Lib/soes/src/esc_eoe.c ****          byte_ip[2],  /* 2nd octet */
 210:Lib/soes/src/esc_eoe.c ****          byte_ip[1],  /* 3ed octet */
 211:Lib/soes/src/esc_eoe.c ****          byte_ip[0]) ;/* 4th octet */
 212:Lib/soes/src/esc_eoe.c **** }
  93              		.loc 1 212 1 view .LVU17
  94 002c 7047     		bx	lr
  95              		.cfi_endproc
  96              	.LFE1:
  98              		.section	.text.EOE_init_rx,"ax",%progbits
  99              		.align	1
 100              		.syntax unified
 101              		.thumb
 102              		.thumb_func
 103              		.fpu fpv4-sp-d16
 105              	EOE_init_rx:
 106              	.LFB19:
 213:Lib/soes/src/esc_eoe.c **** 
 214:Lib/soes/src/esc_eoe.c **** /** Get EoE cached MAC address
 215:Lib/soes/src/esc_eoe.c ****  *
 216:Lib/soes/src/esc_eoe.c ****  * @param[in] port   = get MAC for port
 217:Lib/soes/src/esc_eoe.c ****  * @param[out] mac   = variable to store mac in, should fit EOE_ETHADDR_LENGTH
 218:Lib/soes/src/esc_eoe.c ****  * @return 0= if we succeed, -1 if not set
 219:Lib/soes/src/esc_eoe.c ****  */
 220:Lib/soes/src/esc_eoe.c **** int EOE_ecat_get_mac(uint8_t port, uint8_t mac[])
 221:Lib/soes/src/esc_eoe.c **** {
 222:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 223:Lib/soes/src/esc_eoe.c ****    int port_ix;
 224:Lib/soes/src/esc_eoe.c **** 
 225:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 226:Lib/soes/src/esc_eoe.c ****    {
 227:Lib/soes/src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 228:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 229:Lib/soes/src/esc_eoe.c ****       {
 230:Lib/soes/src/esc_eoe.c ****          memcpy(mac, nic_ports[port_ix].mac.addr,
 231:Lib/soes/src/esc_eoe.c ****                sizeof(nic_ports[port_ix].mac));
 232:Lib/soes/src/esc_eoe.c ****          nic_ports[port_ix].mac_set = 1;
 233:Lib/soes/src/esc_eoe.c ****          ret = 0;
 234:Lib/soes/src/esc_eoe.c ****       }
 235:Lib/soes/src/esc_eoe.c ****    }
 236:Lib/soes/src/esc_eoe.c ****    return ret;
 237:Lib/soes/src/esc_eoe.c **** }
 238:Lib/soes/src/esc_eoe.c **** 
 239:Lib/soes/src/esc_eoe.c **** /** Set EoE cached MAC address
 240:Lib/soes/src/esc_eoe.c ****  *
 241:Lib/soes/src/esc_eoe.c ****  * @param[in] port   = get MAC for port
ARM GAS  /tmp/ccJ9SSdb.s 			page 7


 242:Lib/soes/src/esc_eoe.c ****  * @param[in] mac    = mac address to store
 243:Lib/soes/src/esc_eoe.c ****  * @return 0= if we succeed, else -1.
 244:Lib/soes/src/esc_eoe.c ****  */
 245:Lib/soes/src/esc_eoe.c **** int EOE_ecat_set_mac(uint8_t port, uint8_t mac[])
 246:Lib/soes/src/esc_eoe.c **** {
 247:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 248:Lib/soes/src/esc_eoe.c ****    int port_ix;
 249:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 250:Lib/soes/src/esc_eoe.c ****    {
 251:Lib/soes/src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 252:Lib/soes/src/esc_eoe.c ****       memcpy(nic_ports[port_ix].mac.addr, mac,
 253:Lib/soes/src/esc_eoe.c ****             sizeof(nic_ports[port_ix].mac));
 254:Lib/soes/src/esc_eoe.c ****       ret = 0;
 255:Lib/soes/src/esc_eoe.c ****    }
 256:Lib/soes/src/esc_eoe.c ****    return ret;
 257:Lib/soes/src/esc_eoe.c **** }
 258:Lib/soes/src/esc_eoe.c **** 
 259:Lib/soes/src/esc_eoe.c **** /** Get EoE cached ip address
 260:Lib/soes/src/esc_eoe.c ****  *
 261:Lib/soes/src/esc_eoe.c ****  * @param[in] port  = get ip address for port
 262:Lib/soes/src/esc_eoe.c ****  * @param[out] ip   = variable to store ip in
 263:Lib/soes/src/esc_eoe.c ****  * @return 0= if we succeed, -1 if not set
 264:Lib/soes/src/esc_eoe.c ****  */
 265:Lib/soes/src/esc_eoe.c **** int EOE_ecat_get_ip(uint8_t port, uint32_t * ip)
 266:Lib/soes/src/esc_eoe.c **** {
 267:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 268:Lib/soes/src/esc_eoe.c ****    int port_ix;
 269:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 270:Lib/soes/src/esc_eoe.c ****    {
 271:Lib/soes/src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 272:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].ip_set)
 273:Lib/soes/src/esc_eoe.c ****       {
 274:Lib/soes/src/esc_eoe.c ****          *ip = EOE_NTOHL(nic_ports[port_ix].ip.addr);
 275:Lib/soes/src/esc_eoe.c ****          ret = 0;
 276:Lib/soes/src/esc_eoe.c ****       }
 277:Lib/soes/src/esc_eoe.c ****    }
 278:Lib/soes/src/esc_eoe.c ****    return ret;
 279:Lib/soes/src/esc_eoe.c **** }
 280:Lib/soes/src/esc_eoe.c **** 
 281:Lib/soes/src/esc_eoe.c **** /** Set EoE cached ip address
 282:Lib/soes/src/esc_eoe.c ****  *
 283:Lib/soes/src/esc_eoe.c ****  * @param[in] port   = get ip for port
 284:Lib/soes/src/esc_eoe.c ****  * @param[in] ip     = ip address to store
 285:Lib/soes/src/esc_eoe.c ****  * @return 0= if we succeed, else -1.
 286:Lib/soes/src/esc_eoe.c ****  */
 287:Lib/soes/src/esc_eoe.c **** int EOE_ecat_set_ip(uint8_t port, uint32_t  ip)
 288:Lib/soes/src/esc_eoe.c **** {
 289:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 290:Lib/soes/src/esc_eoe.c ****    int port_ix;
 291:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 292:Lib/soes/src/esc_eoe.c ****    {
 293:Lib/soes/src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 294:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].ip.addr = EOE_HTONL(ip);
 295:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].ip_set = 1;
 296:Lib/soes/src/esc_eoe.c ****       ret = 0;
 297:Lib/soes/src/esc_eoe.c ****    }
 298:Lib/soes/src/esc_eoe.c ****    return ret;
ARM GAS  /tmp/ccJ9SSdb.s 			page 8


 299:Lib/soes/src/esc_eoe.c **** }
 300:Lib/soes/src/esc_eoe.c **** 
 301:Lib/soes/src/esc_eoe.c **** /** Get EoE cached subnet ip address
 302:Lib/soes/src/esc_eoe.c ****  *
 303:Lib/soes/src/esc_eoe.c ****  * @param[in] port    = get ip address for port
 304:Lib/soes/src/esc_eoe.c ****  * @param[out] subnet = variable to store ip in
 305:Lib/soes/src/esc_eoe.c ****  * @return 0= if we succeed, -1 if not set
 306:Lib/soes/src/esc_eoe.c ****  */
 307:Lib/soes/src/esc_eoe.c **** int EOE_ecat_get_subnet(uint8_t port, uint32_t * subnet)
 308:Lib/soes/src/esc_eoe.c **** {
 309:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 310:Lib/soes/src/esc_eoe.c ****    int port_ix;
 311:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 312:Lib/soes/src/esc_eoe.c ****    {
 313:Lib/soes/src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 314:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].subnet_set)
 315:Lib/soes/src/esc_eoe.c ****       {
 316:Lib/soes/src/esc_eoe.c ****          *subnet = EOE_NTOHL(nic_ports[port_ix].subnet.addr);
 317:Lib/soes/src/esc_eoe.c ****          ret = 0;
 318:Lib/soes/src/esc_eoe.c ****       }
 319:Lib/soes/src/esc_eoe.c ****    }
 320:Lib/soes/src/esc_eoe.c ****    return ret;
 321:Lib/soes/src/esc_eoe.c **** }
 322:Lib/soes/src/esc_eoe.c **** 
 323:Lib/soes/src/esc_eoe.c **** /** Set EoE cached subnet ip address
 324:Lib/soes/src/esc_eoe.c ****  *
 325:Lib/soes/src/esc_eoe.c ****  * @param[in] port   = get ip for port
 326:Lib/soes/src/esc_eoe.c ****  * @param[in] subnet = ip address to store
 327:Lib/soes/src/esc_eoe.c ****  * @return 0= if we succeed, else -1.
 328:Lib/soes/src/esc_eoe.c ****  */
 329:Lib/soes/src/esc_eoe.c **** int EOE_ecat_set_subnet(uint8_t port, uint32_t subnet)
 330:Lib/soes/src/esc_eoe.c **** {
 331:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 332:Lib/soes/src/esc_eoe.c ****    int port_ix;
 333:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 334:Lib/soes/src/esc_eoe.c ****    {
 335:Lib/soes/src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 336:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].subnet.addr = EOE_HTONL(subnet);
 337:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].subnet_set = 1;
 338:Lib/soes/src/esc_eoe.c ****       ret = 0;
 339:Lib/soes/src/esc_eoe.c ****    }
 340:Lib/soes/src/esc_eoe.c ****    return ret;
 341:Lib/soes/src/esc_eoe.c **** }
 342:Lib/soes/src/esc_eoe.c **** 
 343:Lib/soes/src/esc_eoe.c **** /** Get EoE cached default gateway ip address
 344:Lib/soes/src/esc_eoe.c ****  *
 345:Lib/soes/src/esc_eoe.c ****  * @param[in] port             = get ip address for port
 346:Lib/soes/src/esc_eoe.c ****  * @param[out] default_gateway = variable to store ip in
 347:Lib/soes/src/esc_eoe.c ****  * @return 0= if we succeed, -1 if not set
 348:Lib/soes/src/esc_eoe.c ****  */
 349:Lib/soes/src/esc_eoe.c **** int EOE_ecat_get_gateway(uint8_t port, uint32_t * default_gateway)
 350:Lib/soes/src/esc_eoe.c **** {
 351:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 352:Lib/soes/src/esc_eoe.c ****    int port_ix;
 353:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 354:Lib/soes/src/esc_eoe.c ****    {
 355:Lib/soes/src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
ARM GAS  /tmp/ccJ9SSdb.s 			page 9


 356:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].default_gateway_set)
 357:Lib/soes/src/esc_eoe.c ****       {
 358:Lib/soes/src/esc_eoe.c ****          *default_gateway =
 359:Lib/soes/src/esc_eoe.c ****                EOE_NTOHL(nic_ports[port_ix].default_gateway.addr);
 360:Lib/soes/src/esc_eoe.c ****          ret = 0;
 361:Lib/soes/src/esc_eoe.c ****       }
 362:Lib/soes/src/esc_eoe.c ****    }
 363:Lib/soes/src/esc_eoe.c ****    return ret;
 364:Lib/soes/src/esc_eoe.c **** }
 365:Lib/soes/src/esc_eoe.c **** 
 366:Lib/soes/src/esc_eoe.c **** /** Set EoE cached default gateway ip address
 367:Lib/soes/src/esc_eoe.c ****  *
 368:Lib/soes/src/esc_eoe.c ****  * @param[in] port            = get ip for port
 369:Lib/soes/src/esc_eoe.c ****  * @param[in] default_gateway = ip address to store
 370:Lib/soes/src/esc_eoe.c ****  * @return 0= if we succeed, else -1.
 371:Lib/soes/src/esc_eoe.c ****  */
 372:Lib/soes/src/esc_eoe.c **** int EOE_ecat_set_gateway(uint8_t port, uint32_t default_gateway)
 373:Lib/soes/src/esc_eoe.c **** {
 374:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 375:Lib/soes/src/esc_eoe.c ****    int port_ix;
 376:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 377:Lib/soes/src/esc_eoe.c ****    {
 378:Lib/soes/src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 379:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].default_gateway.addr =
 380:Lib/soes/src/esc_eoe.c ****             EOE_HTONL(default_gateway);
 381:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].default_gateway_set = 1;
 382:Lib/soes/src/esc_eoe.c ****       ret = 0;
 383:Lib/soes/src/esc_eoe.c ****    }
 384:Lib/soes/src/esc_eoe.c ****    return ret;
 385:Lib/soes/src/esc_eoe.c **** }
 386:Lib/soes/src/esc_eoe.c **** 
 387:Lib/soes/src/esc_eoe.c **** /** Get EoE cached dns ip address
 388:Lib/soes/src/esc_eoe.c ****  *
 389:Lib/soes/src/esc_eoe.c ****  * @param[in] port    = get ip address for port
 390:Lib/soes/src/esc_eoe.c ****  * @param[out] dns_ip = variable to store ip in
 391:Lib/soes/src/esc_eoe.c ****  * @return 0= if we succeed, -1 if not set
 392:Lib/soes/src/esc_eoe.c ****  */
 393:Lib/soes/src/esc_eoe.c **** int EOE_ecat_get_dns_ip(uint8_t port, uint32_t * dns_ip)
 394:Lib/soes/src/esc_eoe.c **** {
 395:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 396:Lib/soes/src/esc_eoe.c ****    int port_ix;
 397:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 398:Lib/soes/src/esc_eoe.c ****    {
 399:Lib/soes/src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 400:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].dns_ip_set)
 401:Lib/soes/src/esc_eoe.c ****       {
 402:Lib/soes/src/esc_eoe.c ****          *dns_ip = EOE_NTOHL(nic_ports[port_ix].dns_ip.addr);
 403:Lib/soes/src/esc_eoe.c ****          ret = 0;
 404:Lib/soes/src/esc_eoe.c ****       }
 405:Lib/soes/src/esc_eoe.c ****    }
 406:Lib/soes/src/esc_eoe.c ****    return ret;
 407:Lib/soes/src/esc_eoe.c **** }
 408:Lib/soes/src/esc_eoe.c **** 
 409:Lib/soes/src/esc_eoe.c **** /** Set EoE cached dns ip address
 410:Lib/soes/src/esc_eoe.c ****  *
 411:Lib/soes/src/esc_eoe.c ****  * @param[in] port   = get ip for port
 412:Lib/soes/src/esc_eoe.c ****  * @param[in] dns_ip = ip address to store
ARM GAS  /tmp/ccJ9SSdb.s 			page 10


 413:Lib/soes/src/esc_eoe.c ****  * @return 0= if we succeed, else -1.
 414:Lib/soes/src/esc_eoe.c ****  */
 415:Lib/soes/src/esc_eoe.c **** int EOE_ecat_set_dns_ip(uint8_t port, uint32_t dns_ip)
 416:Lib/soes/src/esc_eoe.c **** {
 417:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 418:Lib/soes/src/esc_eoe.c ****    int port_ix;
 419:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 420:Lib/soes/src/esc_eoe.c ****    {
 421:Lib/soes/src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 422:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].dns_ip.addr = EOE_HTONL(dns_ip);
 423:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].dns_ip_set = 1;
 424:Lib/soes/src/esc_eoe.c ****       ret = 0;
 425:Lib/soes/src/esc_eoe.c ****    }
 426:Lib/soes/src/esc_eoe.c ****    return ret;
 427:Lib/soes/src/esc_eoe.c **** }
 428:Lib/soes/src/esc_eoe.c **** 
 429:Lib/soes/src/esc_eoe.c **** /** Get EoE cached dns name
 430:Lib/soes/src/esc_eoe.c ****  *
 431:Lib/soes/src/esc_eoe.c ****  * @param[in] port      = get dns name for port
 432:Lib/soes/src/esc_eoe.c ****  * @param[out] dns_name = variable to store dns name in
 433:Lib/soes/src/esc_eoe.c ****  * @return 0= if we succeed, -1 if not set
 434:Lib/soes/src/esc_eoe.c ****  */
 435:Lib/soes/src/esc_eoe.c **** int EOE_ecat_get_dns_name(uint8_t port, char * dns_name)
 436:Lib/soes/src/esc_eoe.c **** {
 437:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 438:Lib/soes/src/esc_eoe.c ****    int port_ix;
 439:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 440:Lib/soes/src/esc_eoe.c ****    {
 441:Lib/soes/src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 442:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].dns_name_set)
 443:Lib/soes/src/esc_eoe.c ****       {
 444:Lib/soes/src/esc_eoe.c ****          memcpy(dns_name,
 445:Lib/soes/src/esc_eoe.c ****                nic_ports[port_ix].dns_name,
 446:Lib/soes/src/esc_eoe.c ****                sizeof(nic_ports[port_ix].dns_name));
 447:Lib/soes/src/esc_eoe.c ****          ret = 0;
 448:Lib/soes/src/esc_eoe.c ****       }
 449:Lib/soes/src/esc_eoe.c ****    }
 450:Lib/soes/src/esc_eoe.c ****    return ret;
 451:Lib/soes/src/esc_eoe.c **** }
 452:Lib/soes/src/esc_eoe.c **** 
 453:Lib/soes/src/esc_eoe.c **** /** Set EoE cached dns name
 454:Lib/soes/src/esc_eoe.c ****  *
 455:Lib/soes/src/esc_eoe.c ****  * @param[in] port     = get dns name for port
 456:Lib/soes/src/esc_eoe.c ****  * @param[in] dns_name = dns name to store
 457:Lib/soes/src/esc_eoe.c ****  * @return 0= if we succeed, else -1.
 458:Lib/soes/src/esc_eoe.c ****  */
 459:Lib/soes/src/esc_eoe.c **** int EOE_ecat_set_dns_name(uint8_t port, char * dns_name)
 460:Lib/soes/src/esc_eoe.c **** {
 461:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 462:Lib/soes/src/esc_eoe.c ****    int port_ix;
 463:Lib/soes/src/esc_eoe.c **** 
 464:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 465:Lib/soes/src/esc_eoe.c ****    {
 466:Lib/soes/src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 467:Lib/soes/src/esc_eoe.c ****       memcpy(nic_ports[port_ix].dns_name,
 468:Lib/soes/src/esc_eoe.c ****             dns_name,
 469:Lib/soes/src/esc_eoe.c ****             sizeof(nic_ports[port_ix].dns_name));
ARM GAS  /tmp/ccJ9SSdb.s 			page 11


 470:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].dns_name_set = 1;
 471:Lib/soes/src/esc_eoe.c ****       ret = 0;
 472:Lib/soes/src/esc_eoe.c ****    }
 473:Lib/soes/src/esc_eoe.c ****    return ret;
 474:Lib/soes/src/esc_eoe.c **** }
 475:Lib/soes/src/esc_eoe.c **** 
 476:Lib/soes/src/esc_eoe.c **** /** Function for sending an simple EOE response frame.
 477:Lib/soes/src/esc_eoe.c ****  *
 478:Lib/soes/src/esc_eoe.c ****  * @param[in] frametype1 = frame type of response
 479:Lib/soes/src/esc_eoe.c ****  * @param[in] result    = result code
 480:Lib/soes/src/esc_eoe.c ****  */
 481:Lib/soes/src/esc_eoe.c **** static void EOE_no_data_response (uint16_t frameinfo1, uint16_t result)
 482:Lib/soes/src/esc_eoe.c **** {
 483:Lib/soes/src/esc_eoe.c ****    _EOE *eoembx;
 484:Lib/soes/src/esc_eoe.c ****    uint8_t mbxhandle;
 485:Lib/soes/src/esc_eoe.c **** 
 486:Lib/soes/src/esc_eoe.c ****    /* Send back a response packet. */
 487:Lib/soes/src/esc_eoe.c ****    mbxhandle = ESC_claimbuffer ();
 488:Lib/soes/src/esc_eoe.c ****    if (mbxhandle)
 489:Lib/soes/src/esc_eoe.c ****    {
 490:Lib/soes/src/esc_eoe.c ****       eoembx = (_EOE *) &MBX[mbxhandle * ESC_MBXSIZE];
 491:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE);
 492:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 493:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 494:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.result = htoes(result);
 495:Lib/soes/src/esc_eoe.c ****       MBXcontrol[mbxhandle].state = MBXstate_outreq;
 496:Lib/soes/src/esc_eoe.c ****    }
 497:Lib/soes/src/esc_eoe.c **** }
 498:Lib/soes/src/esc_eoe.c **** 
 499:Lib/soes/src/esc_eoe.c **** /** EoE get IP param request handler. Will send a get IP param response.
 500:Lib/soes/src/esc_eoe.c ****  */
 501:Lib/soes/src/esc_eoe.c **** static void EOE_get_ip (void)
 502:Lib/soes/src/esc_eoe.c **** {
 503:Lib/soes/src/esc_eoe.c ****    _EOE *req_eoembx;
 504:Lib/soes/src/esc_eoe.c ****    _EOE *eoembx;
 505:Lib/soes/src/esc_eoe.c ****    uint8_t mbxhandle;
 506:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo1;
 507:Lib/soes/src/esc_eoe.c ****    uint8_t port;
 508:Lib/soes/src/esc_eoe.c ****    uint8_t  flags;
 509:Lib/soes/src/esc_eoe.c ****    uint32_t  data_offset;
 510:Lib/soes/src/esc_eoe.c ****    int port_ix;
 511:Lib/soes/src/esc_eoe.c **** 
 512:Lib/soes/src/esc_eoe.c ****    req_eoembx = (_EOE *) &MBX[0];
 513:Lib/soes/src/esc_eoe.c ****    frameinfo1 = etohs(req_eoembx->eoeheader.frameinfo1);
 514:Lib/soes/src/esc_eoe.c ****    port = EOE_HDR_FRAME_PORT_GET(frameinfo1);
 515:Lib/soes/src/esc_eoe.c ****    data_offset = EOE_PARAM_OFFSET;
 516:Lib/soes/src/esc_eoe.c ****    flags = 0;
 517:Lib/soes/src/esc_eoe.c **** 
 518:Lib/soes/src/esc_eoe.c ****    if(port  > EOE_NUMBER_OF_PORTS)
 519:Lib/soes/src/esc_eoe.c ****    {
 520:Lib/soes/src/esc_eoe.c ****       DPRINT("Invalid port\n");
 521:Lib/soes/src/esc_eoe.c ****       frameinfo1 = EOE_HDR_FRAME_PORT_SET(port);
 522:Lib/soes/src/esc_eoe.c ****       frameinfo1 |= EOE_INIT_RESP;
 523:Lib/soes/src/esc_eoe.c ****       frameinfo1 |= EOE_HDR_LAST_FRAGMENT;
 524:Lib/soes/src/esc_eoe.c ****       /* Return error response on given port */
 525:Lib/soes/src/esc_eoe.c ****       EOE_no_data_response(frameinfo1,
 526:Lib/soes/src/esc_eoe.c ****             EOE_RESULT_UNSPECIFIED_ERROR);
ARM GAS  /tmp/ccJ9SSdb.s 			page 12


 527:Lib/soes/src/esc_eoe.c ****       return;
 528:Lib/soes/src/esc_eoe.c ****    }
 529:Lib/soes/src/esc_eoe.c **** 
 530:Lib/soes/src/esc_eoe.c ****    /* Refresh settings if needed */
 531:Lib/soes/src/esc_eoe.c ****    if(eoe_cfg->load_eth_settings != NULL)
 532:Lib/soes/src/esc_eoe.c ****    {
 533:Lib/soes/src/esc_eoe.c ****       (void)eoe_cfg->load_eth_settings();
 534:Lib/soes/src/esc_eoe.c ****    }
 535:Lib/soes/src/esc_eoe.c **** 
 536:Lib/soes/src/esc_eoe.c ****    /* Send back an response packet. */
 537:Lib/soes/src/esc_eoe.c ****    mbxhandle = ESC_claimbuffer ();
 538:Lib/soes/src/esc_eoe.c ****    if (mbxhandle)
 539:Lib/soes/src/esc_eoe.c ****    {
 540:Lib/soes/src/esc_eoe.c ****       eoembx = (_EOE *) &MBX[mbxhandle * ESC_MBXSIZE];
 541:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 542:Lib/soes/src/esc_eoe.c ****       MBXcontrol[mbxhandle].state = MBXstate_outreq;
 543:Lib/soes/src/esc_eoe.c ****       frameinfo1 = EOE_HDR_FRAME_PORT_SET(port);
 544:Lib/soes/src/esc_eoe.c ****       frameinfo1 |= EOE_HDR_FRAME_TYPE_SET(EOE_GET_IP_PARAM_RESP);
 545:Lib/soes/src/esc_eoe.c ****       frameinfo1 |= EOE_HDR_LAST_FRAGMENT;
 546:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 547:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo2 = 0;
 548:Lib/soes/src/esc_eoe.c **** 
 549:Lib/soes/src/esc_eoe.c ****       /* include mac in get ip request */
 550:Lib/soes/src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 551:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 552:Lib/soes/src/esc_eoe.c ****       {
 553:Lib/soes/src/esc_eoe.c ****          flags |= EOE_PARAM_MAC_INCLUDE;
 554:Lib/soes/src/esc_eoe.c ****          memcpy(&eoembx->data[data_offset] ,
 555:Lib/soes/src/esc_eoe.c ****                nic_ports[port_ix].mac.addr,
 556:Lib/soes/src/esc_eoe.c ****                EOE_ETHADDR_LENGTH);
 557:Lib/soes/src/esc_eoe.c ****          /* Add size of mac address */
 558:Lib/soes/src/esc_eoe.c ****          data_offset += EOE_ETHADDR_LENGTH;
 559:Lib/soes/src/esc_eoe.c **** 
 560:Lib/soes/src/esc_eoe.c ****       }
 561:Lib/soes/src/esc_eoe.c ****       /* include ip in get ip request */
 562:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].ip_set)
 563:Lib/soes/src/esc_eoe.c ****       {
 564:Lib/soes/src/esc_eoe.c ****          flags |= EOE_PARAM_IP_INCLUDE;
 565:Lib/soes/src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].ip,
 566:Lib/soes/src/esc_eoe.c ****                &eoembx->data[data_offset]);
 567:Lib/soes/src/esc_eoe.c ****          /* Add size of uint32 IP address */
 568:Lib/soes/src/esc_eoe.c ****          data_offset += EOE_IP4_LENGTH;
 569:Lib/soes/src/esc_eoe.c ****       }
 570:Lib/soes/src/esc_eoe.c **** 
 571:Lib/soes/src/esc_eoe.c ****       /* include subnet in get ip request */
 572:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].subnet_set)
 573:Lib/soes/src/esc_eoe.c ****       {
 574:Lib/soes/src/esc_eoe.c ****          flags |= EOE_PARAM_SUBNET_IP_INCLUDE;
 575:Lib/soes/src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].subnet,
 576:Lib/soes/src/esc_eoe.c ****                &eoembx->data[data_offset]);
 577:Lib/soes/src/esc_eoe.c ****          /* Add size of uint32 IP address */
 578:Lib/soes/src/esc_eoe.c ****          data_offset += EOE_IP4_LENGTH;
 579:Lib/soes/src/esc_eoe.c ****       }
 580:Lib/soes/src/esc_eoe.c **** 
 581:Lib/soes/src/esc_eoe.c ****       /* include default gateway in get ip request */
 582:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].default_gateway_set)
 583:Lib/soes/src/esc_eoe.c ****       {
ARM GAS  /tmp/ccJ9SSdb.s 			page 13


 584:Lib/soes/src/esc_eoe.c ****          flags |= EOE_PARAM_DEFAULT_GATEWAY_INCLUDE;
 585:Lib/soes/src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].default_gateway,
 586:Lib/soes/src/esc_eoe.c ****                &eoembx->data[data_offset]);
 587:Lib/soes/src/esc_eoe.c ****          /* Add size of uint32 IP address */
 588:Lib/soes/src/esc_eoe.c ****          data_offset += EOE_IP4_LENGTH;
 589:Lib/soes/src/esc_eoe.c ****       }
 590:Lib/soes/src/esc_eoe.c ****       /* include dns ip in get ip request */
 591:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].dns_ip_set)
 592:Lib/soes/src/esc_eoe.c ****       {
 593:Lib/soes/src/esc_eoe.c ****          flags |= EOE_PARAM_DNS_IP_INCLUDE;
 594:Lib/soes/src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].dns_ip,
 595:Lib/soes/src/esc_eoe.c ****                &eoembx->data[data_offset]);
 596:Lib/soes/src/esc_eoe.c ****          /* Add size of uint32 IP address */
 597:Lib/soes/src/esc_eoe.c ****          data_offset += EOE_IP4_LENGTH;
 598:Lib/soes/src/esc_eoe.c ****       }
 599:Lib/soes/src/esc_eoe.c **** 
 600:Lib/soes/src/esc_eoe.c ****       /* include dns name in get ip request */
 601:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].dns_name_set)
 602:Lib/soes/src/esc_eoe.c ****       {
 603:Lib/soes/src/esc_eoe.c ****          /* TwinCAT include EOE_DNS_NAME_LENGTH chars even if name is shorter */
 604:Lib/soes/src/esc_eoe.c ****          flags |= EOE_PARAM_DNS_NAME_INCLUDE;
 605:Lib/soes/src/esc_eoe.c ****          memcpy(&eoembx->data[data_offset],
 606:Lib/soes/src/esc_eoe.c ****                nic_ports[port_ix].dns_name,
 607:Lib/soes/src/esc_eoe.c ****                EOE_DNS_NAME_LENGTH);
 608:Lib/soes/src/esc_eoe.c ****          /* Add size of dns name length */
 609:Lib/soes/src/esc_eoe.c ****          data_offset += EOE_DNS_NAME_LENGTH;
 610:Lib/soes/src/esc_eoe.c ****       }
 611:Lib/soes/src/esc_eoe.c **** 
 612:Lib/soes/src/esc_eoe.c ****       eoembx->data[0] = flags;
 613:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE + data_offset);
 614:Lib/soes/src/esc_eoe.c ****    }
 615:Lib/soes/src/esc_eoe.c **** }
 616:Lib/soes/src/esc_eoe.c **** 
 617:Lib/soes/src/esc_eoe.c **** /** EoE set IP param request handler. Will send a set IP param response.
 618:Lib/soes/src/esc_eoe.c ****  */
 619:Lib/soes/src/esc_eoe.c **** static void EOE_set_ip (void)
 620:Lib/soes/src/esc_eoe.c **** {
 621:Lib/soes/src/esc_eoe.c ****    _EOE *eoembx;
 622:Lib/soes/src/esc_eoe.c ****    uint32_t eoedatasize, data_offset;
 623:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo1;
 624:Lib/soes/src/esc_eoe.c ****    uint8_t port;
 625:Lib/soes/src/esc_eoe.c ****    uint8_t  flags;
 626:Lib/soes/src/esc_eoe.c ****    uint16_t result;
 627:Lib/soes/src/esc_eoe.c ****    int port_ix;
 628:Lib/soes/src/esc_eoe.c **** 
 629:Lib/soes/src/esc_eoe.c ****    eoembx = (_EOE *) &MBX[0];
 630:Lib/soes/src/esc_eoe.c ****    eoedatasize = etohs(eoembx->mbxheader.length) - ESC_EOEHSIZE;
 631:Lib/soes/src/esc_eoe.c ****    frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
 632:Lib/soes/src/esc_eoe.c ****    port = EOE_HDR_FRAME_PORT_GET(frameinfo1);
 633:Lib/soes/src/esc_eoe.c ****    flags = eoembx->data[0];
 634:Lib/soes/src/esc_eoe.c ****    data_offset = EOE_PARAM_OFFSET;
 635:Lib/soes/src/esc_eoe.c **** 
 636:Lib/soes/src/esc_eoe.c ****    if(port  > EOE_NUMBER_OF_PORTS)
 637:Lib/soes/src/esc_eoe.c ****    {
 638:Lib/soes/src/esc_eoe.c ****       DPRINT("Invalid port\n");
 639:Lib/soes/src/esc_eoe.c ****       /* Return error response on given port */
 640:Lib/soes/src/esc_eoe.c ****       frameinfo1 = EOE_HDR_FRAME_PORT_SET(port);
ARM GAS  /tmp/ccJ9SSdb.s 			page 14


 641:Lib/soes/src/esc_eoe.c ****       frameinfo1 |= EOE_INIT_RESP;
 642:Lib/soes/src/esc_eoe.c ****       frameinfo1 |= EOE_HDR_LAST_FRAGMENT;
 643:Lib/soes/src/esc_eoe.c ****       EOE_no_data_response(frameinfo1, EOE_RESULT_UNSPECIFIED_ERROR);
 644:Lib/soes/src/esc_eoe.c ****       return;
 645:Lib/soes/src/esc_eoe.c ****    }
 646:Lib/soes/src/esc_eoe.c **** 
 647:Lib/soes/src/esc_eoe.c ****    /* mac included in set ip request? */
 648:Lib/soes/src/esc_eoe.c ****    port_ix = EOE_PORT_INDEX(port);
 649:Lib/soes/src/esc_eoe.c ****    if(flags & EOE_PARAM_MAC_INCLUDE)
 650:Lib/soes/src/esc_eoe.c ****    {
 651:Lib/soes/src/esc_eoe.c ****       memcpy(&nic_ports[port_ix].mac.addr,
 652:Lib/soes/src/esc_eoe.c ****             &eoembx->data[data_offset],
 653:Lib/soes/src/esc_eoe.c ****             EOE_ETHADDR_LENGTH);
 654:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].mac_set = 1;
 655:Lib/soes/src/esc_eoe.c ****       /* Add size of mac address */
 656:Lib/soes/src/esc_eoe.c ****       data_offset += EOE_ETHADDR_LENGTH;
 657:Lib/soes/src/esc_eoe.c ****    }
 658:Lib/soes/src/esc_eoe.c ****    /* ip included in set ip request? */
 659:Lib/soes/src/esc_eoe.c ****    if(flags & EOE_PARAM_IP_INCLUDE)
 660:Lib/soes/src/esc_eoe.c ****    {
 661:Lib/soes/src/esc_eoe.c ****       EOE_ip_byte_to_uint32(&eoembx->data[data_offset],
 662:Lib/soes/src/esc_eoe.c ****             &nic_ports[port_ix].ip);
 663:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].ip_set = 1;
 664:Lib/soes/src/esc_eoe.c ****       /* Add size of uint32 IP address */
 665:Lib/soes/src/esc_eoe.c ****       data_offset += EOE_IP4_LENGTH;
 666:Lib/soes/src/esc_eoe.c ****    }
 667:Lib/soes/src/esc_eoe.c ****    /* subnet included in set ip request? */
 668:Lib/soes/src/esc_eoe.c ****    if(flags & EOE_PARAM_SUBNET_IP_INCLUDE)
 669:Lib/soes/src/esc_eoe.c ****    {
 670:Lib/soes/src/esc_eoe.c ****       EOE_ip_byte_to_uint32(&eoembx->data[data_offset],
 671:Lib/soes/src/esc_eoe.c ****             &nic_ports[port_ix].subnet);
 672:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].subnet_set = 1;
 673:Lib/soes/src/esc_eoe.c ****       /* Add size of uint32 IP address */
 674:Lib/soes/src/esc_eoe.c ****       data_offset += EOE_IP4_LENGTH;
 675:Lib/soes/src/esc_eoe.c ****    }
 676:Lib/soes/src/esc_eoe.c ****    /* default gateway included in set ip request? */
 677:Lib/soes/src/esc_eoe.c ****    if(flags & EOE_PARAM_DEFAULT_GATEWAY_INCLUDE)
 678:Lib/soes/src/esc_eoe.c ****    {
 679:Lib/soes/src/esc_eoe.c ****       EOE_ip_byte_to_uint32(&eoembx->data[data_offset],
 680:Lib/soes/src/esc_eoe.c ****             &nic_ports[port_ix].default_gateway);
 681:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].default_gateway_set = 1;
 682:Lib/soes/src/esc_eoe.c ****       /* Add size of uint32 IP address */
 683:Lib/soes/src/esc_eoe.c ****       data_offset += EOE_IP4_LENGTH;
 684:Lib/soes/src/esc_eoe.c ****    }
 685:Lib/soes/src/esc_eoe.c ****    /* dns ip included in set ip request? */
 686:Lib/soes/src/esc_eoe.c ****    if(flags & EOE_PARAM_DNS_IP_INCLUDE)
 687:Lib/soes/src/esc_eoe.c ****    {
 688:Lib/soes/src/esc_eoe.c ****       EOE_ip_byte_to_uint32(&eoembx->data[data_offset],
 689:Lib/soes/src/esc_eoe.c ****             &nic_ports[port_ix].dns_ip);
 690:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].dns_ip_set = 1;
 691:Lib/soes/src/esc_eoe.c ****       /* Add size of uint32 IP address */
 692:Lib/soes/src/esc_eoe.c ****       data_offset += EOE_IP4_LENGTH;
 693:Lib/soes/src/esc_eoe.c ****    }
 694:Lib/soes/src/esc_eoe.c ****    /* dns name included in set ip request? */
 695:Lib/soes/src/esc_eoe.c ****    if(flags & EOE_PARAM_DNS_NAME_INCLUDE)
 696:Lib/soes/src/esc_eoe.c ****    {
 697:Lib/soes/src/esc_eoe.c ****       uint32_t dns_len = MIN((eoedatasize - data_offset), EOE_DNS_NAME_LENGTH);
ARM GAS  /tmp/ccJ9SSdb.s 			page 15


 698:Lib/soes/src/esc_eoe.c ****       memcpy(nic_ports[port_ix].dns_name,
 699:Lib/soes/src/esc_eoe.c ****             &eoembx->data[data_offset],
 700:Lib/soes/src/esc_eoe.c ****             dns_len);
 701:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].dns_name_set = 1;
 702:Lib/soes/src/esc_eoe.c ****       data_offset += dns_len; /* expected 1- EOE_DNS_NAME_LENGTH; */
 703:Lib/soes/src/esc_eoe.c ****    }
 704:Lib/soes/src/esc_eoe.c **** 
 705:Lib/soes/src/esc_eoe.c ****    if(data_offset > eoedatasize)
 706:Lib/soes/src/esc_eoe.c ****    {
 707:Lib/soes/src/esc_eoe.c ****       result = MBXERR_SIZETOOSHORT;
 708:Lib/soes/src/esc_eoe.c ****    }
 709:Lib/soes/src/esc_eoe.c ****    else
 710:Lib/soes/src/esc_eoe.c ****    {
 711:Lib/soes/src/esc_eoe.c ****       /* Application specific store settings function. From there
 712:Lib/soes/src/esc_eoe.c ****        * you typically set the IP for the TCP/IP stack */
 713:Lib/soes/src/esc_eoe.c ****       if(eoe_cfg->store_ethernet_settings != NULL)
 714:Lib/soes/src/esc_eoe.c ****       {
 715:Lib/soes/src/esc_eoe.c ****          result = (uint16_t)eoe_cfg->store_ethernet_settings();
 716:Lib/soes/src/esc_eoe.c ****       }
 717:Lib/soes/src/esc_eoe.c ****       else
 718:Lib/soes/src/esc_eoe.c ****       {
 719:Lib/soes/src/esc_eoe.c ****          result = EOE_RESULT_NO_IP_SUPPORT;
 720:Lib/soes/src/esc_eoe.c ****       }
 721:Lib/soes/src/esc_eoe.c ****    }
 722:Lib/soes/src/esc_eoe.c ****    frameinfo1 = EOE_HDR_FRAME_PORT_SET(port);
 723:Lib/soes/src/esc_eoe.c ****    frameinfo1 |= EOE_INIT_RESP;
 724:Lib/soes/src/esc_eoe.c ****    frameinfo1 |= EOE_HDR_LAST_FRAGMENT;
 725:Lib/soes/src/esc_eoe.c ****    EOE_no_data_response(frameinfo1, result);
 726:Lib/soes/src/esc_eoe.c **** }
 727:Lib/soes/src/esc_eoe.c **** 
 728:Lib/soes/src/esc_eoe.c **** /** EoE receive fragment handler.
 729:Lib/soes/src/esc_eoe.c ****  */
 730:Lib/soes/src/esc_eoe.c **** static void EOE_receive_fragment (void)
 731:Lib/soes/src/esc_eoe.c **** {
 732:Lib/soes/src/esc_eoe.c ****    _EOE *eoembx;
 733:Lib/soes/src/esc_eoe.c ****    eoembx = (_EOE *) &MBX[0];
 734:Lib/soes/src/esc_eoe.c ****    uint32_t eoedatasize = etohs(eoembx->mbxheader.length) - ESC_EOEHSIZE;
 735:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
 736:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo2 = etohs(eoembx->eoeheader.frameinfo2);
 737:Lib/soes/src/esc_eoe.c **** 
 738:Lib/soes/src/esc_eoe.c ****    /* Capture error case */
 739:Lib/soes/src/esc_eoe.c ****    if(EOEvar.rxfragmentno != EOE_HDR_FRAG_NO_GET(frameinfo2))
 740:Lib/soes/src/esc_eoe.c ****    {
 741:Lib/soes/src/esc_eoe.c ****       DPRINT("Unexpected fragment number %"PRIu32", expected: %"PRIu32"\n",
 742:Lib/soes/src/esc_eoe.c ****             EOE_HDR_FRAG_NO_GET(frameinfo2), EOEvar.rxfragmentno);
 743:Lib/soes/src/esc_eoe.c ****       /* Clean up existing saved data */
 744:Lib/soes/src/esc_eoe.c ****       if(EOEvar.rxfragmentno != 0)
 745:Lib/soes/src/esc_eoe.c ****       {
 746:Lib/soes/src/esc_eoe.c ****          EOE_init_rx();
 747:Lib/soes/src/esc_eoe.c ****       }
 748:Lib/soes/src/esc_eoe.c ****       /* Skip fragment if not start of new frame */
 749:Lib/soes/src/esc_eoe.c ****       if(EOE_HDR_FRAG_NO_GET(frameinfo2) > 0)
 750:Lib/soes/src/esc_eoe.c ****       {
 751:Lib/soes/src/esc_eoe.c ****          return;
 752:Lib/soes/src/esc_eoe.c ****       }
 753:Lib/soes/src/esc_eoe.c ****    }
 754:Lib/soes/src/esc_eoe.c **** 
ARM GAS  /tmp/ccJ9SSdb.s 			page 16


 755:Lib/soes/src/esc_eoe.c ****    /* Start of new frame at fragment 0 */
 756:Lib/soes/src/esc_eoe.c ****    if(EOEvar.rxfragmentno == 0)
 757:Lib/soes/src/esc_eoe.c ****    {
 758:Lib/soes/src/esc_eoe.c ****       EOEvar.rxframesize = (EOE_HDR_FRAME_OFFSET_GET(frameinfo2) << 5);
 759:Lib/soes/src/esc_eoe.c **** 
 760:Lib/soes/src/esc_eoe.c ****       if(EOEvar.rxebuf.payload != NULL)
 761:Lib/soes/src/esc_eoe.c ****       {
 762:Lib/soes/src/esc_eoe.c ****          EOEvar.rxebuf.len = EOEvar.rxframesize;
 763:Lib/soes/src/esc_eoe.c ****          EOEvar.rxframeoffset = 0;
 764:Lib/soes/src/esc_eoe.c ****          EOEvar.rxframeno = EOE_HDR_FRAME_NO_GET(frameinfo2);
 765:Lib/soes/src/esc_eoe.c ****       }
 766:Lib/soes/src/esc_eoe.c ****       else
 767:Lib/soes/src/esc_eoe.c ****       {
 768:Lib/soes/src/esc_eoe.c ****          DPRINT("Receive buffer is invalid\n");
 769:Lib/soes/src/esc_eoe.c ****          EOE_init_rx ();
 770:Lib/soes/src/esc_eoe.c ****          return;
 771:Lib/soes/src/esc_eoe.c ****       }
 772:Lib/soes/src/esc_eoe.c ****    }
 773:Lib/soes/src/esc_eoe.c ****    /* In frame fragment received */
 774:Lib/soes/src/esc_eoe.c ****    else
 775:Lib/soes/src/esc_eoe.c ****    {
 776:Lib/soes/src/esc_eoe.c ****       uint32_t offset = (EOE_HDR_FRAME_OFFSET_GET(frameinfo2) << 5);
 777:Lib/soes/src/esc_eoe.c ****       /* Validate received fragment */
 778:Lib/soes/src/esc_eoe.c ****       if(EOEvar.rxframeno != EOE_HDR_FRAME_NO_GET(frameinfo2))
 779:Lib/soes/src/esc_eoe.c ****       {
 780:Lib/soes/src/esc_eoe.c ****          DPRINT("Unexpected frame number %"PRIu32", expected: %"PRIu32"\n",
 781:Lib/soes/src/esc_eoe.c ****                EOE_HDR_FRAME_NO_GET(frameinfo2), EOEvar.rxframeno);
 782:Lib/soes/src/esc_eoe.c ****          EOE_init_rx ();
 783:Lib/soes/src/esc_eoe.c ****          return;
 784:Lib/soes/src/esc_eoe.c ****       }
 785:Lib/soes/src/esc_eoe.c ****       else if(EOEvar.rxframeoffset != offset)
 786:Lib/soes/src/esc_eoe.c ****       {
 787:Lib/soes/src/esc_eoe.c ****          DPRINT("Unexpected frame offset %"PRIu32", expected: %"PRIu32"\n",
 788:Lib/soes/src/esc_eoe.c ****                offset, EOEvar.rxframeoffset);
 789:Lib/soes/src/esc_eoe.c ****          EOE_init_rx ();
 790:Lib/soes/src/esc_eoe.c ****          return;
 791:Lib/soes/src/esc_eoe.c ****       }
 792:Lib/soes/src/esc_eoe.c ****    }
 793:Lib/soes/src/esc_eoe.c **** 
 794:Lib/soes/src/esc_eoe.c ****    /* Check so allocated buffer is sufficient */
 795:Lib/soes/src/esc_eoe.c ****    if ((EOEvar.rxframeoffset + eoedatasize) <= EOEvar.rxframesize)
 796:Lib/soes/src/esc_eoe.c ****    {
 797:Lib/soes/src/esc_eoe.c ****       memcpy((uint8_t *)(EOEvar.rxebuf.payload + EOEvar.rxframeoffset),
 798:Lib/soes/src/esc_eoe.c ****             eoembx->data,
 799:Lib/soes/src/esc_eoe.c ****             eoedatasize);
 800:Lib/soes/src/esc_eoe.c ****       EOEvar.rxframeoffset += eoedatasize;
 801:Lib/soes/src/esc_eoe.c ****       EOEvar.rxfragmentno++;
 802:Lib/soes/src/esc_eoe.c ****    }
 803:Lib/soes/src/esc_eoe.c ****    else
 804:Lib/soes/src/esc_eoe.c ****    {
 805:Lib/soes/src/esc_eoe.c ****       DPRINT("Size of data exceed available buffer size\n");
 806:Lib/soes/src/esc_eoe.c ****       EOE_init_rx ();
 807:Lib/soes/src/esc_eoe.c ****       return;
 808:Lib/soes/src/esc_eoe.c ****    }
 809:Lib/soes/src/esc_eoe.c **** 
 810:Lib/soes/src/esc_eoe.c ****    if(EOE_HDR_LAST_FRAGMENT_GET(frameinfo1))
 811:Lib/soes/src/esc_eoe.c ****    {
ARM GAS  /tmp/ccJ9SSdb.s 			page 17


 812:Lib/soes/src/esc_eoe.c ****       /* Remove time stamp, TODO support for time stamp? */
 813:Lib/soes/src/esc_eoe.c ****       if(EOE_HDR_TIME_APPEND_GET(frameinfo1))
 814:Lib/soes/src/esc_eoe.c ****       {
 815:Lib/soes/src/esc_eoe.c ****          EOEvar.rxframeoffset -= 4U;
 816:Lib/soes/src/esc_eoe.c ****       }
 817:Lib/soes/src/esc_eoe.c ****       EOEvar.rxebuf.len =  EOEvar.rxframeoffset;
 818:Lib/soes/src/esc_eoe.c ****       eoe_cfg->handle_recv_buffer(EOE_HDR_FRAME_PORT_GET(frameinfo1),
 819:Lib/soes/src/esc_eoe.c ****             &EOEvar.rxebuf);
 820:Lib/soes/src/esc_eoe.c ****       /* Pass ownership of buf to receive function */
 821:Lib/soes/src/esc_eoe.c ****       EOEvar.rxebuf.payload = NULL;
 822:Lib/soes/src/esc_eoe.c ****       EOE_init_rx ();
 823:Lib/soes/src/esc_eoe.c ****    }
 824:Lib/soes/src/esc_eoe.c **** }
 825:Lib/soes/src/esc_eoe.c **** 
 826:Lib/soes/src/esc_eoe.c **** /** EoE send fragment handler.
 827:Lib/soes/src/esc_eoe.c ****  */
 828:Lib/soes/src/esc_eoe.c **** static void EOE_send_fragment ()
 829:Lib/soes/src/esc_eoe.c **** {
 830:Lib/soes/src/esc_eoe.c ****    _EOE *eoembx;
 831:Lib/soes/src/esc_eoe.c ****    uint8_t mbxhandle;
 832:Lib/soes/src/esc_eoe.c ****    int len;
 833:Lib/soes/src/esc_eoe.c ****    uint32_t len_to_send;
 834:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo1;
 835:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo2;
 836:Lib/soes/src/esc_eoe.c ****    static uint8_t frameno = 0;
 837:Lib/soes/src/esc_eoe.c **** 
 838:Lib/soes/src/esc_eoe.c ****    /* Do we have a current transfer on-going */
 839:Lib/soes/src/esc_eoe.c ****    if(EOEvar.txebuf.payload == NULL)
 840:Lib/soes/src/esc_eoe.c ****    {
 841:Lib/soes/src/esc_eoe.c ****       /* Fetch a buffer if available */
 842:Lib/soes/src/esc_eoe.c ****       len = eoe_cfg->fetch_send_buffer(0, &EOEvar.txebuf);
 843:Lib/soes/src/esc_eoe.c ****       if(len > 0)
 844:Lib/soes/src/esc_eoe.c ****       {
 845:Lib/soes/src/esc_eoe.c ****          EOEvar.txframesize = (uint32_t)len;
 846:Lib/soes/src/esc_eoe.c ****       }
 847:Lib/soes/src/esc_eoe.c ****       else
 848:Lib/soes/src/esc_eoe.c ****       {
 849:Lib/soes/src/esc_eoe.c ****          return;
 850:Lib/soes/src/esc_eoe.c ****       }
 851:Lib/soes/src/esc_eoe.c ****    }
 852:Lib/soes/src/esc_eoe.c **** 
 853:Lib/soes/src/esc_eoe.c ****    /* Process the frame if we can get a free mailbox */
 854:Lib/soes/src/esc_eoe.c ****    mbxhandle = ESC_claimbuffer ();
 855:Lib/soes/src/esc_eoe.c ****    if (mbxhandle)
 856:Lib/soes/src/esc_eoe.c ****    {
 857:Lib/soes/src/esc_eoe.c ****       len_to_send = (EOEvar.txframesize - EOEvar.txframeoffset);
 858:Lib/soes/src/esc_eoe.c ****       if((len_to_send + ESC_EOEHSIZE + ESC_MBXHSIZE) > ESC_MBXSIZE)
 859:Lib/soes/src/esc_eoe.c ****       {
 860:Lib/soes/src/esc_eoe.c ****          /* Adjust to len in whole 32 octet blocks to fit specification*/
 861:Lib/soes/src/esc_eoe.c ****          len_to_send =
 862:Lib/soes/src/esc_eoe.c ****                (((ESC_MBXSIZE - ESC_EOEHSIZE - ESC_MBXHSIZE) >> 5) << 5);
 863:Lib/soes/src/esc_eoe.c ****       }
 864:Lib/soes/src/esc_eoe.c **** 
 865:Lib/soes/src/esc_eoe.c ****       /* TODO: port handling? */
 866:Lib/soes/src/esc_eoe.c ****       if(len_to_send == (EOEvar.txframesize - EOEvar.txframeoffset))
 867:Lib/soes/src/esc_eoe.c ****       {
 868:Lib/soes/src/esc_eoe.c ****          frameinfo1 = EOE_HDR_LAST_FRAGMENT_SET(1);
ARM GAS  /tmp/ccJ9SSdb.s 			page 18


 869:Lib/soes/src/esc_eoe.c ****       }
 870:Lib/soes/src/esc_eoe.c ****       else
 871:Lib/soes/src/esc_eoe.c ****       {
 872:Lib/soes/src/esc_eoe.c ****          frameinfo1 = 0;
 873:Lib/soes/src/esc_eoe.c ****       }
 874:Lib/soes/src/esc_eoe.c **** 
 875:Lib/soes/src/esc_eoe.c ****       uint16_t tempframe2;
 876:Lib/soes/src/esc_eoe.c ****       /* Set fragment number */
 877:Lib/soes/src/esc_eoe.c ****       frameinfo2 = EOE_HDR_FRAG_NO_SET(EOEvar.txfragmentno);
 878:Lib/soes/src/esc_eoe.c **** 
 879:Lib/soes/src/esc_eoe.c ****       /* Set complete size for fragment 0 or offset for in frame fragments */
 880:Lib/soes/src/esc_eoe.c ****       if(EOEvar.txfragmentno > 0)
 881:Lib/soes/src/esc_eoe.c ****       {
 882:Lib/soes/src/esc_eoe.c ****          tempframe2 = EOE_HDR_FRAME_OFFSET_SET((EOEvar.txframeoffset >> 5));
 883:Lib/soes/src/esc_eoe.c ****          frameinfo2 |= tempframe2;
 884:Lib/soes/src/esc_eoe.c ****       }
 885:Lib/soes/src/esc_eoe.c ****       else
 886:Lib/soes/src/esc_eoe.c ****       {
 887:Lib/soes/src/esc_eoe.c ****          tempframe2 = EOE_HDR_FRAME_OFFSET_SET(((EOEvar.txframesize + 31) >> 5));
 888:Lib/soes/src/esc_eoe.c ****          frameinfo2 |= tempframe2;
 889:Lib/soes/src/esc_eoe.c ****          frameno++;
 890:Lib/soes/src/esc_eoe.c ****       }
 891:Lib/soes/src/esc_eoe.c **** 
 892:Lib/soes/src/esc_eoe.c ****       /* Set frame number */
 893:Lib/soes/src/esc_eoe.c ****       tempframe2 = EOE_HDR_FRAME_NO_SET(frameno);
 894:Lib/soes/src/esc_eoe.c ****       frameinfo2 |= tempframe2;
 895:Lib/soes/src/esc_eoe.c **** 
 896:Lib/soes/src/esc_eoe.c ****       eoembx = (_EOE *) &MBX[mbxhandle * ESC_MBXSIZE];
 897:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (len_to_send + ESC_EOEHSIZE);
 898:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 899:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 900:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo2 = htoes(frameinfo2);
 901:Lib/soes/src/esc_eoe.c **** 
 902:Lib/soes/src/esc_eoe.c ****       /* Copy data to mailbox */
 903:Lib/soes/src/esc_eoe.c ****       memcpy(eoembx->data,
 904:Lib/soes/src/esc_eoe.c ****             &EOEvar.txebuf.payload[EOEvar.txframeoffset],
 905:Lib/soes/src/esc_eoe.c ****             len_to_send);
 906:Lib/soes/src/esc_eoe.c ****       MBXcontrol[mbxhandle].state = MBXstate_outreq;
 907:Lib/soes/src/esc_eoe.c **** 
 908:Lib/soes/src/esc_eoe.c ****       /* Did we complete the frame? */
 909:Lib/soes/src/esc_eoe.c ****       if(len_to_send == (EOEvar.txframesize - EOEvar.txframeoffset))
 910:Lib/soes/src/esc_eoe.c ****       {
 911:Lib/soes/src/esc_eoe.c ****          EOE_init_tx ();
 912:Lib/soes/src/esc_eoe.c ****       }
 913:Lib/soes/src/esc_eoe.c ****       else
 914:Lib/soes/src/esc_eoe.c ****       {
 915:Lib/soes/src/esc_eoe.c ****          EOEvar.txframeoffset += len_to_send;
 916:Lib/soes/src/esc_eoe.c ****          EOEvar.txfragmentno++;
 917:Lib/soes/src/esc_eoe.c ****       }
 918:Lib/soes/src/esc_eoe.c ****       if(eoe_cfg->fragment_sent_event != NULL)
 919:Lib/soes/src/esc_eoe.c ****       {
 920:Lib/soes/src/esc_eoe.c ****          eoe_cfg->fragment_sent_event();
 921:Lib/soes/src/esc_eoe.c ****       }
 922:Lib/soes/src/esc_eoe.c ****    }
 923:Lib/soes/src/esc_eoe.c **** }
 924:Lib/soes/src/esc_eoe.c **** 
 925:Lib/soes/src/esc_eoe.c **** /** Initialize by clearing all current status variables and fetch new buffer.
ARM GAS  /tmp/ccJ9SSdb.s 			page 19


 926:Lib/soes/src/esc_eoe.c ****  */
 927:Lib/soes/src/esc_eoe.c **** static void EOE_init_rx ()
 928:Lib/soes/src/esc_eoe.c **** {
 107              		.loc 1 928 1 is_stmt 1 view -0
 108              		.cfi_startproc
 109              		@ args = 0, pretend = 0, frame = 0
 110              		@ frame_needed = 0, uses_anonymous_args = 0
 111 0000 08B5     		push	{r3, lr}
 112              		.cfi_def_cfa_offset 8
 113              		.cfi_offset 3, -8
 114              		.cfi_offset 14, -4
 929:Lib/soes/src/esc_eoe.c ****    /* Reset RX transfer status variables */
 930:Lib/soes/src/esc_eoe.c ****    EOEvar.rxfragmentno = 0;
 115              		.loc 1 930 4 view .LVU19
 116              		.loc 1 930 24 is_stmt 0 view .LVU20
 117 0002 084B     		ldr	r3, .L7
 118 0004 0022     		movs	r2, #0
 119 0006 1A76     		strb	r2, [r3, #24]
 931:Lib/soes/src/esc_eoe.c ****    EOEvar.rxframesize = 0;
 120              		.loc 1 931 4 is_stmt 1 view .LVU21
 121              		.loc 1 931 23 is_stmt 0 view .LVU22
 122 0008 DA61     		str	r2, [r3, #28]
 932:Lib/soes/src/esc_eoe.c ****    EOEvar.rxframeoffset = 0;
 123              		.loc 1 932 4 is_stmt 1 view .LVU23
 124              		.loc 1 932 25 is_stmt 0 view .LVU24
 125 000a 1A62     		str	r2, [r3, #32]
 933:Lib/soes/src/esc_eoe.c ****    EOEvar.rxframeno = 0;
 126              		.loc 1 933 4 is_stmt 1 view .LVU25
 127              		.loc 1 933 21 is_stmt 0 view .LVU26
 128 000c 9A84     		strh	r2, [r3, #36]	@ movhi
 934:Lib/soes/src/esc_eoe.c **** 
 935:Lib/soes/src/esc_eoe.c ****    /* Fetch buffer */
 936:Lib/soes/src/esc_eoe.c ****    if(EOEvar.rxebuf.payload == NULL)
 129              		.loc 1 936 4 is_stmt 1 view .LVU27
 130              		.loc 1 936 20 is_stmt 0 view .LVU28
 131 000e 5B68     		ldr	r3, [r3, #4]
 132              		.loc 1 936 6 view .LVU29
 133 0010 03B1     		cbz	r3, .L6
 134              	.L3:
 937:Lib/soes/src/esc_eoe.c ****    {
 938:Lib/soes/src/esc_eoe.c ****       if(eoe_cfg->get_buffer != NULL)
 939:Lib/soes/src/esc_eoe.c ****       {
 940:Lib/soes/src/esc_eoe.c ****          /* TODO: verify size VS buffer size */
 941:Lib/soes/src/esc_eoe.c ****          eoe_cfg->get_buffer(&EOEvar.rxebuf);
 942:Lib/soes/src/esc_eoe.c ****       }
 943:Lib/soes/src/esc_eoe.c ****    }
 944:Lib/soes/src/esc_eoe.c **** }
 135              		.loc 1 944 1 view .LVU30
 136 0012 08BD     		pop	{r3, pc}
 137              	.L6:
 938:Lib/soes/src/esc_eoe.c ****       {
 138              		.loc 1 938 7 is_stmt 1 view .LVU31
 938:Lib/soes/src/esc_eoe.c ****       {
 139              		.loc 1 938 17 is_stmt 0 view .LVU32
 140 0014 044B     		ldr	r3, .L7+4
 141 0016 1B68     		ldr	r3, [r3]
 142 0018 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccJ9SSdb.s 			page 20


 938:Lib/soes/src/esc_eoe.c ****       {
 143              		.loc 1 938 9 view .LVU33
 144 001a 002B     		cmp	r3, #0
 145 001c F9D0     		beq	.L3
 941:Lib/soes/src/esc_eoe.c ****       }
 146              		.loc 1 941 10 is_stmt 1 view .LVU34
 147 001e 0148     		ldr	r0, .L7
 148 0020 9847     		blx	r3
 149              	.LVL3:
 150              		.loc 1 944 1 is_stmt 0 view .LVU35
 151 0022 F6E7     		b	.L3
 152              	.L8:
 153              		.align	2
 154              	.L7:
 155 0024 00000000 		.word	.LANCHOR0
 156 0028 00000000 		.word	.LANCHOR1
 157              		.cfi_endproc
 158              	.LFE19:
 160              		.section	.text.EOE_init_tx,"ax",%progbits
 161              		.align	1
 162              		.syntax unified
 163              		.thumb
 164              		.thumb_func
 165              		.fpu fpv4-sp-d16
 167              	EOE_init_tx:
 168              	.LFB20:
 945:Lib/soes/src/esc_eoe.c **** 
 946:Lib/soes/src/esc_eoe.c **** /** Initialize by clearing all current status variables and release old buffer.
 947:Lib/soes/src/esc_eoe.c ****  */
 948:Lib/soes/src/esc_eoe.c **** static void EOE_init_tx ()
 949:Lib/soes/src/esc_eoe.c **** {
 169              		.loc 1 949 1 is_stmt 1 view -0
 170              		.cfi_startproc
 171              		@ args = 0, pretend = 0, frame = 0
 172              		@ frame_needed = 0, uses_anonymous_args = 0
 950:Lib/soes/src/esc_eoe.c ****    /* Reset TX transfer status variables */
 951:Lib/soes/src/esc_eoe.c ****    EOEvar.txfragmentno = 0;
 173              		.loc 1 951 4 view .LVU37
 174              		.loc 1 951 24 is_stmt 0 view .LVU38
 175 0000 0B4B     		ldr	r3, .L15
 176 0002 0022     		movs	r2, #0
 177 0004 83F82620 		strb	r2, [r3, #38]
 952:Lib/soes/src/esc_eoe.c ****    EOEvar.txframesize = 0;
 178              		.loc 1 952 4 is_stmt 1 view .LVU39
 179              		.loc 1 952 23 is_stmt 0 view .LVU40
 180 0008 9A62     		str	r2, [r3, #40]
 953:Lib/soes/src/esc_eoe.c ****    EOEvar.txframeoffset = 0;
 181              		.loc 1 953 4 is_stmt 1 view .LVU41
 182              		.loc 1 953 25 is_stmt 0 view .LVU42
 183 000a DA62     		str	r2, [r3, #44]
 954:Lib/soes/src/esc_eoe.c **** 
 955:Lib/soes/src/esc_eoe.c ****    /* Release what seems as an abandoned buffer */
 956:Lib/soes/src/esc_eoe.c ****    if((EOEvar.txebuf.payload != NULL))
 184              		.loc 1 956 4 is_stmt 1 view .LVU43
 185              		.loc 1 956 21 is_stmt 0 view .LVU44
 186 000c 1B69     		ldr	r3, [r3, #16]
 187              		.loc 1 956 6 view .LVU45
ARM GAS  /tmp/ccJ9SSdb.s 			page 21


 188 000e 6BB1     		cbz	r3, .L12
 957:Lib/soes/src/esc_eoe.c ****    {
 958:Lib/soes/src/esc_eoe.c ****       if(eoe_cfg->free_buffer != NULL)
 189              		.loc 1 958 7 is_stmt 1 view .LVU46
 190              		.loc 1 958 17 is_stmt 0 view .LVU47
 191 0010 084B     		ldr	r3, .L15+4
 192 0012 1B68     		ldr	r3, [r3]
 193 0014 5B68     		ldr	r3, [r3, #4]
 194              		.loc 1 958 9 view .LVU48
 195 0016 4BB1     		cbz	r3, .L12
 949:Lib/soes/src/esc_eoe.c ****    /* Reset TX transfer status variables */
 196              		.loc 1 949 1 view .LVU49
 197 0018 10B5     		push	{r4, lr}
 198              		.cfi_def_cfa_offset 8
 199              		.cfi_offset 4, -8
 200              		.cfi_offset 14, -4
 959:Lib/soes/src/esc_eoe.c ****       {
 960:Lib/soes/src/esc_eoe.c ****          eoe_cfg->free_buffer(&EOEvar.txebuf);
 201              		.loc 1 960 10 is_stmt 1 view .LVU50
 202 001a 054C     		ldr	r4, .L15
 203 001c 04F10C00 		add	r0, r4, #12
 204 0020 9847     		blx	r3
 205              	.LVL4:
 961:Lib/soes/src/esc_eoe.c ****          EOEvar.txebuf.pbuf = NULL;
 206              		.loc 1 961 10 view .LVU51
 207              		.loc 1 961 29 is_stmt 0 view .LVU52
 208 0022 0023     		movs	r3, #0
 209 0024 E360     		str	r3, [r4, #12]
 962:Lib/soes/src/esc_eoe.c ****          EOEvar.txebuf.payload = NULL;
 210              		.loc 1 962 10 is_stmt 1 view .LVU53
 211              		.loc 1 962 32 is_stmt 0 view .LVU54
 212 0026 2361     		str	r3, [r4, #16]
 963:Lib/soes/src/esc_eoe.c ****          EOEvar.txebuf.len = 0;
 213              		.loc 1 963 10 is_stmt 1 view .LVU55
 214              		.loc 1 963 28 is_stmt 0 view .LVU56
 215 0028 6361     		str	r3, [r4, #20]
 964:Lib/soes/src/esc_eoe.c ****       }
 965:Lib/soes/src/esc_eoe.c ****    }
 966:Lib/soes/src/esc_eoe.c **** }
 216              		.loc 1 966 1 view .LVU57
 217 002a 10BD     		pop	{r4, pc}
 218              	.L12:
 219              		.cfi_def_cfa_offset 0
 220              		.cfi_restore 4
 221              		.cfi_restore 14
 222 002c 7047     		bx	lr
 223              	.L16:
 224 002e 00BF     		.align	2
 225              	.L15:
 226 0030 00000000 		.word	.LANCHOR0
 227 0034 00000000 		.word	.LANCHOR1
 228              		.cfi_endproc
 229              	.LFE20:
 231              		.section	.text.EOE_receive_fragment,"ax",%progbits
 232              		.align	1
 233              		.syntax unified
 234              		.thumb
ARM GAS  /tmp/ccJ9SSdb.s 			page 22


 235              		.thumb_func
 236              		.fpu fpv4-sp-d16
 238              	EOE_receive_fragment:
 239              	.LFB17:
 731:Lib/soes/src/esc_eoe.c ****    _EOE *eoembx;
 240              		.loc 1 731 1 is_stmt 1 view -0
 241              		.cfi_startproc
 242              		@ args = 0, pretend = 0, frame = 0
 243              		@ frame_needed = 0, uses_anonymous_args = 0
 244 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 245              		.cfi_def_cfa_offset 24
 246              		.cfi_offset 3, -24
 247              		.cfi_offset 4, -20
 248              		.cfi_offset 5, -16
 249              		.cfi_offset 6, -12
 250              		.cfi_offset 7, -8
 251              		.cfi_offset 14, -4
 732:Lib/soes/src/esc_eoe.c ****    eoembx = (_EOE *) &MBX[0];
 252              		.loc 1 732 4 view .LVU59
 733:Lib/soes/src/esc_eoe.c ****    uint32_t eoedatasize = etohs(eoembx->mbxheader.length) - ESC_EOEHSIZE;
 253              		.loc 1 733 4 view .LVU60
 254              	.LVL5:
 734:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
 255              		.loc 1 734 4 view .LVU61
 734:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
 256              		.loc 1 734 27 is_stmt 0 view .LVU62
 257 0002 344B     		ldr	r3, .L31
 258 0004 1C88     		ldrh	r4, [r3]	@ unaligned
 734:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
 259              		.loc 1 734 13 view .LVU63
 260 0006 043C     		subs	r4, r4, #4
 261              	.LVL6:
 735:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo2 = etohs(eoembx->eoeheader.frameinfo2);
 262              		.loc 1 735 4 is_stmt 1 view .LVU64
 735:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo2 = etohs(eoembx->eoeheader.frameinfo2);
 263              		.loc 1 735 13 is_stmt 0 view .LVU65
 264 0008 DE88     		ldrh	r6, [r3, #6]	@ unaligned
 265              	.LVL7:
 736:Lib/soes/src/esc_eoe.c **** 
 266              		.loc 1 736 4 is_stmt 1 view .LVU66
 736:Lib/soes/src/esc_eoe.c **** 
 267              		.loc 1 736 13 is_stmt 0 view .LVU67
 268 000a 1D89     		ldrh	r5, [r3, #8]	@ unaligned
 269              	.LVL8:
 739:Lib/soes/src/esc_eoe.c ****    {
 270              		.loc 1 739 4 is_stmt 1 view .LVU68
 739:Lib/soes/src/esc_eoe.c ****    {
 271              		.loc 1 739 13 is_stmt 0 view .LVU69
 272 000c 324B     		ldr	r3, .L31+4
 273              	.LVL9:
 739:Lib/soes/src/esc_eoe.c ****    {
 274              		.loc 1 739 13 view .LVU70
 275 000e 1B7E     		ldrb	r3, [r3, #24]	@ zero_extendqisi2
 276 0010 05F03F07 		and	r7, r5, #63
 739:Lib/soes/src/esc_eoe.c ****    {
 277              		.loc 1 739 6 view .LVU71
 278 0014 BB42     		cmp	r3, r7
ARM GAS  /tmp/ccJ9SSdb.s 			page 23


 279 0016 03D0     		beq	.L18
 742:Lib/soes/src/esc_eoe.c ****       /* Clean up existing saved data */
 280              		.loc 1 742 66 is_stmt 1 view .LVU72
 744:Lib/soes/src/esc_eoe.c ****       {
 281              		.loc 1 744 7 view .LVU73
 744:Lib/soes/src/esc_eoe.c ****       {
 282              		.loc 1 744 9 is_stmt 0 view .LVU74
 283 0018 002B     		cmp	r3, #0
 284 001a 3FD1     		bne	.L29
 285              	.LVL10:
 286              	.L19:
 749:Lib/soes/src/esc_eoe.c ****       {
 287              		.loc 1 749 7 is_stmt 1 view .LVU75
 749:Lib/soes/src/esc_eoe.c ****       {
 288              		.loc 1 749 9 is_stmt 0 view .LVU76
 289 001c 002F     		cmp	r7, #0
 290 001e 58D1     		bne	.L17
 291              	.L18:
 756:Lib/soes/src/esc_eoe.c ****    {
 292              		.loc 1 756 4 is_stmt 1 view .LVU77
 756:Lib/soes/src/esc_eoe.c ****    {
 293              		.loc 1 756 13 is_stmt 0 view .LVU78
 294 0020 2D4B     		ldr	r3, .L31+4
 295 0022 1B7E     		ldrb	r3, [r3, #24]	@ zero_extendqisi2
 756:Lib/soes/src/esc_eoe.c ****    {
 296              		.loc 1 756 6 view .LVU79
 297 0024 002B     		cmp	r3, #0
 298 0026 3FD1     		bne	.L21
 758:Lib/soes/src/esc_eoe.c **** 
 299              		.loc 1 758 7 is_stmt 1 view .LVU80
 758:Lib/soes/src/esc_eoe.c **** 
 300              		.loc 1 758 66 is_stmt 0 view .LVU81
 301 0028 AB09     		lsrs	r3, r5, #6
 302 002a 5B01     		lsls	r3, r3, #5
 303 002c 03F4FC63 		and	r3, r3, #2016
 758:Lib/soes/src/esc_eoe.c **** 
 304              		.loc 1 758 26 view .LVU82
 305 0030 294A     		ldr	r2, .L31+4
 306 0032 D361     		str	r3, [r2, #28]
 760:Lib/soes/src/esc_eoe.c ****       {
 307              		.loc 1 760 7 is_stmt 1 view .LVU83
 760:Lib/soes/src/esc_eoe.c ****       {
 308              		.loc 1 760 23 is_stmt 0 view .LVU84
 309 0034 5268     		ldr	r2, [r2, #4]
 760:Lib/soes/src/esc_eoe.c ****       {
 310              		.loc 1 760 9 view .LVU85
 311 0036 002A     		cmp	r2, #0
 312 0038 33D0     		beq	.L22
 762:Lib/soes/src/esc_eoe.c ****          EOEvar.rxframeoffset = 0;
 313              		.loc 1 762 10 is_stmt 1 view .LVU86
 762:Lib/soes/src/esc_eoe.c ****          EOEvar.rxframeoffset = 0;
 314              		.loc 1 762 28 is_stmt 0 view .LVU87
 315 003a 274A     		ldr	r2, .L31+4
 316 003c 9360     		str	r3, [r2, #8]
 763:Lib/soes/src/esc_eoe.c ****          EOEvar.rxframeno = EOE_HDR_FRAME_NO_GET(frameinfo2);
 317              		.loc 1 763 10 is_stmt 1 view .LVU88
 763:Lib/soes/src/esc_eoe.c ****          EOEvar.rxframeno = EOE_HDR_FRAME_NO_GET(frameinfo2);
ARM GAS  /tmp/ccJ9SSdb.s 			page 24


 318              		.loc 1 763 31 is_stmt 0 view .LVU89
 319 003e 0023     		movs	r3, #0
 320 0040 1362     		str	r3, [r2, #32]
 764:Lib/soes/src/esc_eoe.c ****       }
 321              		.loc 1 764 10 is_stmt 1 view .LVU90
 764:Lib/soes/src/esc_eoe.c ****       }
 322              		.loc 1 764 27 is_stmt 0 view .LVU91
 323 0042 2D0B     		lsrs	r5, r5, #12
 324 0044 9584     		strh	r5, [r2, #36]	@ movhi
 325              	.L23:
 795:Lib/soes/src/esc_eoe.c ****    {
 326              		.loc 1 795 4 is_stmt 1 view .LVU92
 795:Lib/soes/src/esc_eoe.c ****    {
 327              		.loc 1 795 15 is_stmt 0 view .LVU93
 328 0046 244B     		ldr	r3, .L31+4
 329 0048 186A     		ldr	r0, [r3, #32]
 795:Lib/soes/src/esc_eoe.c ****    {
 330              		.loc 1 795 30 view .LVU94
 331 004a 0219     		adds	r2, r0, r4
 795:Lib/soes/src/esc_eoe.c ****    {
 332              		.loc 1 795 54 view .LVU95
 333 004c DB69     		ldr	r3, [r3, #28]
 795:Lib/soes/src/esc_eoe.c ****    {
 334              		.loc 1 795 7 view .LVU96
 335 004e 9A42     		cmp	r2, r3
 336 0050 3DD8     		bhi	.L25
 797:Lib/soes/src/esc_eoe.c ****             eoembx->data,
 337              		.loc 1 797 7 is_stmt 1 view .LVU97
 797:Lib/soes/src/esc_eoe.c ****             eoembx->data,
 338              		.loc 1 797 39 is_stmt 0 view .LVU98
 339 0052 214D     		ldr	r5, .L31+4
 340 0054 6B68     		ldr	r3, [r5, #4]
 797:Lib/soes/src/esc_eoe.c ****             eoembx->data,
 341              		.loc 1 797 7 view .LVU99
 342 0056 2246     		mov	r2, r4
 343 0058 2049     		ldr	r1, .L31+8
 344 005a 1844     		add	r0, r0, r3
 345 005c FFF7FEFF 		bl	memcpy
 346              	.LVL11:
 800:Lib/soes/src/esc_eoe.c ****       EOEvar.rxfragmentno++;
 347              		.loc 1 800 7 is_stmt 1 view .LVU100
 800:Lib/soes/src/esc_eoe.c ****       EOEvar.rxfragmentno++;
 348              		.loc 1 800 28 is_stmt 0 view .LVU101
 349 0060 2B6A     		ldr	r3, [r5, #32]
 350 0062 1C44     		add	r4, r4, r3
 351              	.LVL12:
 800:Lib/soes/src/esc_eoe.c ****       EOEvar.rxfragmentno++;
 352              		.loc 1 800 28 view .LVU102
 353 0064 2C62     		str	r4, [r5, #32]
 801:Lib/soes/src/esc_eoe.c ****    }
 354              		.loc 1 801 7 is_stmt 1 view .LVU103
 801:Lib/soes/src/esc_eoe.c ****    }
 355              		.loc 1 801 13 is_stmt 0 view .LVU104
 356 0066 2B7E     		ldrb	r3, [r5, #24]	@ zero_extendqisi2
 801:Lib/soes/src/esc_eoe.c ****    }
 357              		.loc 1 801 26 view .LVU105
 358 0068 0133     		adds	r3, r3, #1
ARM GAS  /tmp/ccJ9SSdb.s 			page 25


 359 006a 2B76     		strb	r3, [r5, #24]
 810:Lib/soes/src/esc_eoe.c ****    {
 360              		.loc 1 810 4 is_stmt 1 view .LVU106
 810:Lib/soes/src/esc_eoe.c ****    {
 361              		.loc 1 810 6 is_stmt 0 view .LVU107
 362 006c 16F4807F 		tst	r6, #256
 363 0070 2FD0     		beq	.L17
 813:Lib/soes/src/esc_eoe.c ****       {
 364              		.loc 1 813 7 is_stmt 1 view .LVU108
 813:Lib/soes/src/esc_eoe.c ****       {
 365              		.loc 1 813 9 is_stmt 0 view .LVU109
 366 0072 16F4007F 		tst	r6, #512
 367 0076 02D0     		beq	.L27
 815:Lib/soes/src/esc_eoe.c ****       }
 368              		.loc 1 815 10 is_stmt 1 view .LVU110
 815:Lib/soes/src/esc_eoe.c ****       }
 369              		.loc 1 815 31 is_stmt 0 view .LVU111
 370 0078 043C     		subs	r4, r4, #4
 371 007a 174B     		ldr	r3, .L31+4
 372 007c 1C62     		str	r4, [r3, #32]
 373              	.L27:
 817:Lib/soes/src/esc_eoe.c ****       eoe_cfg->handle_recv_buffer(EOE_HDR_FRAME_PORT_GET(frameinfo1),
 374              		.loc 1 817 7 is_stmt 1 view .LVU112
 817:Lib/soes/src/esc_eoe.c ****       eoe_cfg->handle_recv_buffer(EOE_HDR_FRAME_PORT_GET(frameinfo1),
 375              		.loc 1 817 34 is_stmt 0 view .LVU113
 376 007e 164C     		ldr	r4, .L31+4
 377 0080 236A     		ldr	r3, [r4, #32]
 817:Lib/soes/src/esc_eoe.c ****       eoe_cfg->handle_recv_buffer(EOE_HDR_FRAME_PORT_GET(frameinfo1),
 378              		.loc 1 817 25 view .LVU114
 379 0082 A360     		str	r3, [r4, #8]
 818:Lib/soes/src/esc_eoe.c ****             &EOEvar.rxebuf);
 380              		.loc 1 818 7 is_stmt 1 view .LVU115
 818:Lib/soes/src/esc_eoe.c ****             &EOEvar.rxebuf);
 381              		.loc 1 818 14 is_stmt 0 view .LVU116
 382 0084 164B     		ldr	r3, .L31+12
 383 0086 1B68     		ldr	r3, [r3]
 384 0088 1B69     		ldr	r3, [r3, #16]
 818:Lib/soes/src/esc_eoe.c ****             &EOEvar.rxebuf);
 385              		.loc 1 818 7 view .LVU117
 386 008a 2146     		mov	r1, r4
 387 008c C6F30310 		ubfx	r0, r6, #4, #4
 388 0090 9847     		blx	r3
 389              	.LVL13:
 821:Lib/soes/src/esc_eoe.c ****       EOE_init_rx ();
 390              		.loc 1 821 7 is_stmt 1 view .LVU118
 821:Lib/soes/src/esc_eoe.c ****       EOE_init_rx ();
 391              		.loc 1 821 29 is_stmt 0 view .LVU119
 392 0092 0023     		movs	r3, #0
 393 0094 6360     		str	r3, [r4, #4]
 822:Lib/soes/src/esc_eoe.c ****    }
 394              		.loc 1 822 7 is_stmt 1 view .LVU120
 395 0096 FFF7FEFF 		bl	EOE_init_rx
 396              	.LVL14:
 397 009a 1AE0     		b	.L17
 398              	.LVL15:
 399              	.L29:
 746:Lib/soes/src/esc_eoe.c ****       }
ARM GAS  /tmp/ccJ9SSdb.s 			page 26


 400              		.loc 1 746 10 view .LVU121
 401 009c FFF7FEFF 		bl	EOE_init_rx
 402              	.LVL16:
 746:Lib/soes/src/esc_eoe.c ****       }
 403              		.loc 1 746 10 is_stmt 0 view .LVU122
 404 00a0 BCE7     		b	.L19
 405              	.L22:
 768:Lib/soes/src/esc_eoe.c ****          EOE_init_rx ();
 406              		.loc 1 768 47 is_stmt 1 view .LVU123
 769:Lib/soes/src/esc_eoe.c ****          return;
 407              		.loc 1 769 10 view .LVU124
 408 00a2 FFF7FEFF 		bl	EOE_init_rx
 409              	.LVL17:
 770:Lib/soes/src/esc_eoe.c ****       }
 410              		.loc 1 770 10 view .LVU125
 411 00a6 14E0     		b	.L17
 412              	.L21:
 413              	.LBB2:
 776:Lib/soes/src/esc_eoe.c ****       /* Validate received fragment */
 414              		.loc 1 776 7 view .LVU126
 776:Lib/soes/src/esc_eoe.c ****       /* Validate received fragment */
 415              		.loc 1 776 63 is_stmt 0 view .LVU127
 416 00a8 AB09     		lsrs	r3, r5, #6
 417 00aa 5B01     		lsls	r3, r3, #5
 776:Lib/soes/src/esc_eoe.c ****       /* Validate received fragment */
 418              		.loc 1 776 16 view .LVU128
 419 00ac 03F4FC63 		and	r3, r3, #2016
 420              	.LVL18:
 778:Lib/soes/src/esc_eoe.c ****       {
 421              		.loc 1 778 7 is_stmt 1 view .LVU129
 778:Lib/soes/src/esc_eoe.c ****       {
 422              		.loc 1 778 16 is_stmt 0 view .LVU130
 423 00b0 094A     		ldr	r2, .L31+4
 424 00b2 928C     		ldrh	r2, [r2, #36]
 778:Lib/soes/src/esc_eoe.c ****       {
 425              		.loc 1 778 9 view .LVU131
 426 00b4 B2EB153F 		cmp	r2, r5, lsr #12
 427 00b8 06D1     		bne	.L30
 785:Lib/soes/src/esc_eoe.c ****       {
 428              		.loc 1 785 12 is_stmt 1 view .LVU132
 785:Lib/soes/src/esc_eoe.c ****       {
 429              		.loc 1 785 21 is_stmt 0 view .LVU133
 430 00ba 074A     		ldr	r2, .L31+4
 431 00bc 126A     		ldr	r2, [r2, #32]
 785:Lib/soes/src/esc_eoe.c ****       {
 432              		.loc 1 785 14 view .LVU134
 433 00be 9A42     		cmp	r2, r3
 434 00c0 C1D0     		beq	.L23
 788:Lib/soes/src/esc_eoe.c ****          EOE_init_rx ();
 435              		.loc 1 788 45 is_stmt 1 view .LVU135
 789:Lib/soes/src/esc_eoe.c ****          return;
 436              		.loc 1 789 10 view .LVU136
 437 00c2 FFF7FEFF 		bl	EOE_init_rx
 438              	.LVL19:
 790:Lib/soes/src/esc_eoe.c ****       }
 439              		.loc 1 790 10 view .LVU137
 440 00c6 04E0     		b	.L17
ARM GAS  /tmp/ccJ9SSdb.s 			page 27


 441              	.LVL20:
 442              	.L30:
 781:Lib/soes/src/esc_eoe.c ****          EOE_init_rx ();
 443              		.loc 1 781 67 view .LVU138
 782:Lib/soes/src/esc_eoe.c ****          return;
 444              		.loc 1 782 10 view .LVU139
 445 00c8 FFF7FEFF 		bl	EOE_init_rx
 446              	.LVL21:
 783:Lib/soes/src/esc_eoe.c ****       }
 447              		.loc 1 783 10 view .LVU140
 448 00cc 01E0     		b	.L17
 449              	.LVL22:
 450              	.L25:
 783:Lib/soes/src/esc_eoe.c ****       }
 451              		.loc 1 783 10 is_stmt 0 view .LVU141
 452              	.LBE2:
 805:Lib/soes/src/esc_eoe.c ****       EOE_init_rx ();
 453              		.loc 1 805 60 is_stmt 1 view .LVU142
 806:Lib/soes/src/esc_eoe.c ****       return;
 454              		.loc 1 806 7 view .LVU143
 455 00ce FFF7FEFF 		bl	EOE_init_rx
 456              	.LVL23:
 807:Lib/soes/src/esc_eoe.c ****    }
 457              		.loc 1 807 7 view .LVU144
 458              	.L17:
 824:Lib/soes/src/esc_eoe.c **** 
 459              		.loc 1 824 1 is_stmt 0 view .LVU145
 460 00d2 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 461              	.L32:
 462              		.align	2
 463              	.L31:
 464 00d4 00000000 		.word	MBX
 465 00d8 00000000 		.word	.LANCHOR0
 466 00dc 0A000000 		.word	MBX+10
 467 00e0 00000000 		.word	.LANCHOR1
 468              		.cfi_endproc
 469              	.LFE17:
 471              		.section	.text.EOE_no_data_response,"ax",%progbits
 472              		.align	1
 473              		.syntax unified
 474              		.thumb
 475              		.thumb_func
 476              		.fpu fpv4-sp-d16
 478              	EOE_no_data_response:
 479              	.LVL24:
 480              	.LFB14:
 482:Lib/soes/src/esc_eoe.c ****    _EOE *eoembx;
 481              		.loc 1 482 1 is_stmt 1 view -0
 482              		.cfi_startproc
 483              		@ args = 0, pretend = 0, frame = 0
 484              		@ frame_needed = 0, uses_anonymous_args = 0
 482:Lib/soes/src/esc_eoe.c ****    _EOE *eoembx;
 485              		.loc 1 482 1 is_stmt 0 view .LVU147
 486 0000 38B5     		push	{r3, r4, r5, lr}
 487              		.cfi_def_cfa_offset 16
 488              		.cfi_offset 3, -16
 489              		.cfi_offset 4, -12
ARM GAS  /tmp/ccJ9SSdb.s 			page 28


 490              		.cfi_offset 5, -8
 491              		.cfi_offset 14, -4
 492 0002 0546     		mov	r5, r0
 493 0004 0C46     		mov	r4, r1
 483:Lib/soes/src/esc_eoe.c ****    uint8_t mbxhandle;
 494              		.loc 1 483 4 is_stmt 1 view .LVU148
 484:Lib/soes/src/esc_eoe.c **** 
 495              		.loc 1 484 4 view .LVU149
 487:Lib/soes/src/esc_eoe.c ****    if (mbxhandle)
 496              		.loc 1 487 4 view .LVU150
 487:Lib/soes/src/esc_eoe.c ****    if (mbxhandle)
 497              		.loc 1 487 16 is_stmt 0 view .LVU151
 498 0006 FFF7FEFF 		bl	ESC_claimbuffer
 499              	.LVL25:
 488:Lib/soes/src/esc_eoe.c ****    {
 500              		.loc 1 488 4 is_stmt 1 view .LVU152
 488:Lib/soes/src/esc_eoe.c ****    {
 501              		.loc 1 488 7 is_stmt 0 view .LVU153
 502 000a A8B1     		cbz	r0, .L33
 503 000c 8446     		mov	ip, r0
 490:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE);
 504              		.loc 1 490 7 is_stmt 1 view .LVU154
 490:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE);
 505              		.loc 1 490 42 is_stmt 0 view .LVU155
 506 000e 0B4B     		ldr	r3, .L36
 507 0010 DA6E     		ldr	r2, [r3, #108]
 490:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE);
 508              		.loc 1 490 40 view .LVU156
 509 0012 02FB00F2 		mul	r2, r2, r0
 490:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE);
 510              		.loc 1 490 14 view .LVU157
 511 0016 0A49     		ldr	r1, .L36+4
 512 0018 5318     		adds	r3, r2, r1
 513              	.LVL26:
 491:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 514              		.loc 1 491 7 is_stmt 1 view .LVU158
 491:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 515              		.loc 1 491 32 is_stmt 0 view .LVU159
 516 001a 0420     		movs	r0, #4
 517              	.LVL27:
 491:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 518              		.loc 1 491 32 view .LVU160
 519 001c 5054     		strb	r0, [r2, r1]
 520 001e 0022     		movs	r2, #0
 521 0020 5A70     		strb	r2, [r3, #1]
 492:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 522              		.loc 1 492 7 is_stmt 1 view .LVU161
 492:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 523              		.loc 1 492 33 is_stmt 0 view .LVU162
 524 0022 5A79     		ldrb	r2, [r3, #5]	@ zero_extendqisi2
 525 0024 0221     		movs	r1, #2
 526 0026 61F30302 		bfi	r2, r1, #0, #4
 527 002a 5A71     		strb	r2, [r3, #5]
 493:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.result = htoes(result);
 528              		.loc 1 493 7 is_stmt 1 view .LVU163
 493:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.result = htoes(result);
 529              		.loc 1 493 36 is_stmt 0 view .LVU164
ARM GAS  /tmp/ccJ9SSdb.s 			page 29


 530 002c DD80     		strh	r5, [r3, #6]	@ unaligned
 494:Lib/soes/src/esc_eoe.c ****       MBXcontrol[mbxhandle].state = MBXstate_outreq;
 531              		.loc 1 494 7 is_stmt 1 view .LVU165
 494:Lib/soes/src/esc_eoe.c ****       MBXcontrol[mbxhandle].state = MBXstate_outreq;
 532              		.loc 1 494 32 is_stmt 0 view .LVU166
 533 002e 1C81     		strh	r4, [r3, #8]	@ unaligned
 495:Lib/soes/src/esc_eoe.c ****    }
 534              		.loc 1 495 7 is_stmt 1 view .LVU167
 495:Lib/soes/src/esc_eoe.c ****    }
 535              		.loc 1 495 35 is_stmt 0 view .LVU168
 536 0030 044B     		ldr	r3, .L36+8
 537              	.LVL28:
 495:Lib/soes/src/esc_eoe.c ****    }
 538              		.loc 1 495 35 view .LVU169
 539 0032 0322     		movs	r2, #3
 540 0034 03F80C20 		strb	r2, [r3, ip]
 541              	.LVL29:
 542              	.L33:
 497:Lib/soes/src/esc_eoe.c **** 
 543              		.loc 1 497 1 view .LVU170
 544 0038 38BD     		pop	{r3, r4, r5, pc}
 545              	.L37:
 546 003a 00BF     		.align	2
 547              	.L36:
 548 003c 00000000 		.word	ESCvar
 549 0040 00000000 		.word	MBX
 550 0044 00000000 		.word	MBXcontrol
 551              		.cfi_endproc
 552              	.LFE14:
 554              		.section	.text.EOE_set_ip,"ax",%progbits
 555              		.align	1
 556              		.syntax unified
 557              		.thumb
 558              		.thumb_func
 559              		.fpu fpv4-sp-d16
 561              	EOE_set_ip:
 562              	.LFB16:
 620:Lib/soes/src/esc_eoe.c ****    _EOE *eoembx;
 563              		.loc 1 620 1 is_stmt 1 view -0
 564              		.cfi_startproc
 565              		@ args = 0, pretend = 0, frame = 0
 566              		@ frame_needed = 0, uses_anonymous_args = 0
 567 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 568              		.cfi_def_cfa_offset 32
 569              		.cfi_offset 4, -32
 570              		.cfi_offset 5, -28
 571              		.cfi_offset 6, -24
 572              		.cfi_offset 7, -20
 573              		.cfi_offset 8, -16
 574              		.cfi_offset 9, -12
 575              		.cfi_offset 10, -8
 576              		.cfi_offset 14, -4
 621:Lib/soes/src/esc_eoe.c ****    uint32_t eoedatasize, data_offset;
 577              		.loc 1 621 4 view .LVU172
 622:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo1;
 578              		.loc 1 622 4 view .LVU173
 623:Lib/soes/src/esc_eoe.c ****    uint8_t port;
ARM GAS  /tmp/ccJ9SSdb.s 			page 30


 579              		.loc 1 623 4 view .LVU174
 624:Lib/soes/src/esc_eoe.c ****    uint8_t  flags;
 580              		.loc 1 624 4 view .LVU175
 625:Lib/soes/src/esc_eoe.c ****    uint16_t result;
 581              		.loc 1 625 4 view .LVU176
 626:Lib/soes/src/esc_eoe.c ****    int port_ix;
 582              		.loc 1 626 4 view .LVU177
 627:Lib/soes/src/esc_eoe.c **** 
 583              		.loc 1 627 4 view .LVU178
 629:Lib/soes/src/esc_eoe.c ****    eoedatasize = etohs(eoembx->mbxheader.length) - ESC_EOEHSIZE;
 584              		.loc 1 629 4 view .LVU179
 585              	.LVL30:
 630:Lib/soes/src/esc_eoe.c ****    frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
 586              		.loc 1 630 4 view .LVU180
 630:Lib/soes/src/esc_eoe.c ****    frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
 587              		.loc 1 630 18 is_stmt 0 view .LVU181
 588 0004 714B     		ldr	r3, .L61
 589 0006 B3F80080 		ldrh	r8, [r3]	@ unaligned
 590              	.LVL31:
 631:Lib/soes/src/esc_eoe.c ****    port = EOE_HDR_FRAME_PORT_GET(frameinfo1);
 591              		.loc 1 631 4 is_stmt 1 view .LVU182
 631:Lib/soes/src/esc_eoe.c ****    port = EOE_HDR_FRAME_PORT_GET(frameinfo1);
 592              		.loc 1 631 15 is_stmt 0 view .LVU183
 593 000a DD88     		ldrh	r5, [r3, #6]	@ unaligned
 594              	.LVL32:
 632:Lib/soes/src/esc_eoe.c ****    flags = eoembx->data[0];
 595              		.loc 1 632 4 is_stmt 1 view .LVU184
 632:Lib/soes/src/esc_eoe.c ****    flags = eoembx->data[0];
 596              		.loc 1 632 11 is_stmt 0 view .LVU185
 597 000c C5F30712 		ubfx	r2, r5, #4, #8
 632:Lib/soes/src/esc_eoe.c ****    flags = eoembx->data[0];
 598              		.loc 1 632 9 view .LVU186
 599 0010 C5F30315 		ubfx	r5, r5, #4, #4
 600              	.LVL33:
 633:Lib/soes/src/esc_eoe.c ****    data_offset = EOE_PARAM_OFFSET;
 601              		.loc 1 633 4 is_stmt 1 view .LVU187
 633:Lib/soes/src/esc_eoe.c ****    data_offset = EOE_PARAM_OFFSET;
 602              		.loc 1 633 10 is_stmt 0 view .LVU188
 603 0014 9F7A     		ldrb	r7, [r3, #10]	@ zero_extendqisi2
 604              	.LVL34:
 634:Lib/soes/src/esc_eoe.c **** 
 605              		.loc 1 634 4 is_stmt 1 view .LVU189
 636:Lib/soes/src/esc_eoe.c ****    {
 606              		.loc 1 636 4 view .LVU190
 636:Lib/soes/src/esc_eoe.c ****    {
 607              		.loc 1 636 6 is_stmt 0 view .LVU191
 608 0016 12F00E0F 		tst	r2, #14
 609 001a 04D1     		bne	.L54
 610 001c A8F10408 		sub	r8, r8, #4
 611              	.LVL35:
 648:Lib/soes/src/esc_eoe.c ****    if(flags & EOE_PARAM_MAC_INCLUDE)
 612              		.loc 1 648 4 is_stmt 1 view .LVU192
 648:Lib/soes/src/esc_eoe.c ****    if(flags & EOE_PARAM_MAC_INCLUDE)
 613              		.loc 1 648 14 is_stmt 0 view .LVU193
 614 0020 4DB1     		cbz	r5, .L49
 648:Lib/soes/src/esc_eoe.c ****    if(flags & EOE_PARAM_MAC_INCLUDE)
 615              		.loc 1 648 14 discriminator 1 view .LVU194
ARM GAS  /tmp/ccJ9SSdb.s 			page 31


 616 0022 6C1E     		subs	r4, r5, #1
 617 0024 08E0     		b	.L41
 618              	.LVL36:
 619              	.L54:
 638:Lib/soes/src/esc_eoe.c ****       /* Return error response on given port */
 620              		.loc 1 638 31 is_stmt 1 view .LVU195
 640:Lib/soes/src/esc_eoe.c ****       frameinfo1 |= EOE_INIT_RESP;
 621              		.loc 1 640 7 view .LVU196
 641:Lib/soes/src/esc_eoe.c ****       frameinfo1 |= EOE_HDR_LAST_FRAGMENT;
 622              		.loc 1 641 7 view .LVU197
 642:Lib/soes/src/esc_eoe.c ****       EOE_no_data_response(frameinfo1, EOE_RESULT_UNSPECIFIED_ERROR);
 623              		.loc 1 642 7 view .LVU198
 643:Lib/soes/src/esc_eoe.c ****       return;
 624              		.loc 1 643 7 view .LVU199
 625 0026 0121     		movs	r1, #1
 626 0028 40F20310 		movw	r0, #259
 627 002c 40EA0510 		orr	r0, r0, r5, lsl #4
 628              	.LVL37:
 643:Lib/soes/src/esc_eoe.c ****       return;
 629              		.loc 1 643 7 is_stmt 0 view .LVU200
 630 0030 FFF7FEFF 		bl	EOE_no_data_response
 631              	.LVL38:
 644:Lib/soes/src/esc_eoe.c ****    }
 632              		.loc 1 644 7 is_stmt 1 view .LVU201
 633 0034 C5E0     		b	.L38
 634              	.LVL39:
 635              	.L49:
 648:Lib/soes/src/esc_eoe.c ****    if(flags & EOE_PARAM_MAC_INCLUDE)
 636              		.loc 1 648 14 is_stmt 0 view .LVU202
 637 0036 0024     		movs	r4, #0
 638              	.L41:
 639              	.LVL40:
 649:Lib/soes/src/esc_eoe.c ****    {
 640              		.loc 1 649 4 is_stmt 1 discriminator 4 view .LVU203
 649:Lib/soes/src/esc_eoe.c ****    {
 641              		.loc 1 649 6 is_stmt 0 discriminator 4 view .LVU204
 642 0038 17F0010F 		tst	r7, #1
 643 003c 1CD1     		bne	.L55
 634:Lib/soes/src/esc_eoe.c **** 
 644              		.loc 1 634 16 view .LVU205
 645 003e 0426     		movs	r6, #4
 646              	.LVL41:
 647              	.L42:
 659:Lib/soes/src/esc_eoe.c ****    {
 648              		.loc 1 659 4 is_stmt 1 view .LVU206
 659:Lib/soes/src/esc_eoe.c ****    {
 649              		.loc 1 659 6 is_stmt 0 view .LVU207
 650 0040 17F0020F 		tst	r7, #2
 651 0044 2CD1     		bne	.L56
 652              	.LVL42:
 653              	.L43:
 668:Lib/soes/src/esc_eoe.c ****    {
 654              		.loc 1 668 4 is_stmt 1 view .LVU208
 668:Lib/soes/src/esc_eoe.c ****    {
 655              		.loc 1 668 6 is_stmt 0 view .LVU209
 656 0046 17F0040F 		tst	r7, #4
 657 004a 43D1     		bne	.L57
ARM GAS  /tmp/ccJ9SSdb.s 			page 32


 658              	.L44:
 677:Lib/soes/src/esc_eoe.c ****    {
 659              		.loc 1 677 4 is_stmt 1 view .LVU210
 677:Lib/soes/src/esc_eoe.c ****    {
 660              		.loc 1 677 6 is_stmt 0 view .LVU211
 661 004c 17F0080F 		tst	r7, #8
 662 0050 5BD1     		bne	.L58
 663              	.L45:
 686:Lib/soes/src/esc_eoe.c ****    {
 664              		.loc 1 686 4 is_stmt 1 view .LVU212
 686:Lib/soes/src/esc_eoe.c ****    {
 665              		.loc 1 686 6 is_stmt 0 view .LVU213
 666 0052 17F0100F 		tst	r7, #16
 667 0056 72D1     		bne	.L59
 668              	.L46:
 695:Lib/soes/src/esc_eoe.c ****    {
 669              		.loc 1 695 4 is_stmt 1 view .LVU214
 695:Lib/soes/src/esc_eoe.c ****    {
 670              		.loc 1 695 6 is_stmt 0 view .LVU215
 671 0058 17F0200F 		tst	r7, #32
 672 005c 40F08A80 		bne	.L60
 673              	.LVL43:
 674              	.L47:
 705:Lib/soes/src/esc_eoe.c ****    {
 675              		.loc 1 705 4 is_stmt 1 view .LVU216
 705:Lib/soes/src/esc_eoe.c ****    {
 676              		.loc 1 705 6 is_stmt 0 view .LVU217
 677 0060 4645     		cmp	r6, r8
 678 0062 00F2A780 		bhi	.L51
 713:Lib/soes/src/esc_eoe.c ****       {
 679              		.loc 1 713 7 is_stmt 1 view .LVU218
 713:Lib/soes/src/esc_eoe.c ****       {
 680              		.loc 1 713 17 is_stmt 0 view .LVU219
 681 0066 5A4B     		ldr	r3, .L61+4
 682 0068 1B68     		ldr	r3, [r3]
 683 006a DB68     		ldr	r3, [r3, #12]
 713:Lib/soes/src/esc_eoe.c ****       {
 684              		.loc 1 713 9 view .LVU220
 685 006c 002B     		cmp	r3, #0
 686 006e 00F0AA80 		beq	.L52
 715:Lib/soes/src/esc_eoe.c ****       }
 687              		.loc 1 715 10 is_stmt 1 view .LVU221
 715:Lib/soes/src/esc_eoe.c ****       }
 688              		.loc 1 715 29 is_stmt 0 view .LVU222
 689 0072 9847     		blx	r3
 690              	.LVL44:
 715:Lib/soes/src/esc_eoe.c ****       }
 691              		.loc 1 715 17 view .LVU223
 692 0074 81B2     		uxth	r1, r0
 693              	.LVL45:
 715:Lib/soes/src/esc_eoe.c ****       }
 694              		.loc 1 715 17 view .LVU224
 695 0076 9EE0     		b	.L48
 696              	.LVL46:
 697              	.L55:
 651:Lib/soes/src/esc_eoe.c ****             &eoembx->data[data_offset],
 698              		.loc 1 651 7 is_stmt 1 view .LVU225
ARM GAS  /tmp/ccJ9SSdb.s 			page 33


 651:Lib/soes/src/esc_eoe.c ****             &eoembx->data[data_offset],
 699              		.loc 1 651 14 is_stmt 0 view .LVU226
 700 0078 564B     		ldr	r3, .L61+8
 701              	.LVL47:
 651:Lib/soes/src/esc_eoe.c ****             &eoembx->data[data_offset],
 702              		.loc 1 651 14 view .LVU227
 703 007a C4EBC402 		rsb	r2, r4, r4, lsl #3
 704 007e 03EBC201 		add	r1, r3, r2, lsl #3
 651:Lib/soes/src/esc_eoe.c ****             &eoembx->data[data_offset],
 705              		.loc 1 651 7 view .LVU228
 706 0082 5548     		ldr	r0, .L61+12
 707 0084 0668     		ldr	r6, [r0]	@ unaligned
 708 0086 C1F80160 		str	r6, [r1, #1]	@ unaligned
 709 008a 8088     		ldrh	r0, [r0, #4]	@ unaligned
 710 008c A1F80500 		strh	r0, [r1, #5]	@ unaligned
 654:Lib/soes/src/esc_eoe.c ****       /* Add size of mac address */
 711              		.loc 1 654 7 is_stmt 1 view .LVU229
 654:Lib/soes/src/esc_eoe.c ****       /* Add size of mac address */
 712              		.loc 1 654 34 is_stmt 0 view .LVU230
 713 0090 13F83210 		ldrb	r1, [r3, r2, lsl #3]	@ zero_extendqisi2
 714 0094 41F00101 		orr	r1, r1, #1
 715 0098 03F83210 		strb	r1, [r3, r2, lsl #3]
 656:Lib/soes/src/esc_eoe.c ****    }
 716              		.loc 1 656 7 is_stmt 1 view .LVU231
 717              	.LVL48:
 656:Lib/soes/src/esc_eoe.c ****    }
 718              		.loc 1 656 19 is_stmt 0 view .LVU232
 719 009c 0A26     		movs	r6, #10
 720 009e CFE7     		b	.L42
 721              	.LVL49:
 722              	.L56:
 661:Lib/soes/src/esc_eoe.c ****             &nic_ports[port_ix].ip);
 723              		.loc 1 661 7 is_stmt 1 view .LVU233
 724 00a0 DFF830A1 		ldr	r10, .L61+8
 725 00a4 4FEAC409 		lsl	r9, r4, #3
 726 00a8 C4EBC401 		rsb	r1, r4, r4, lsl #3
 727 00ac C900     		lsls	r1, r1, #3
 728 00ae 0831     		adds	r1, r1, #8
 729 00b0 06F10800 		add	r0, r6, #8
 730 00b4 454B     		ldr	r3, .L61
 731              	.LVL50:
 661:Lib/soes/src/esc_eoe.c ****             &nic_ports[port_ix].ip);
 732              		.loc 1 661 7 is_stmt 0 view .LVU234
 733 00b6 1844     		add	r0, r0, r3
 734 00b8 5144     		add	r1, r1, r10
 735 00ba 0230     		adds	r0, r0, #2
 736 00bc FFF7FEFF 		bl	EOE_ip_byte_to_uint32
 737              	.LVL51:
 663:Lib/soes/src/esc_eoe.c ****       /* Add size of uint32 IP address */
 738              		.loc 1 663 7 is_stmt 1 view .LVU235
 663:Lib/soes/src/esc_eoe.c ****       /* Add size of uint32 IP address */
 739              		.loc 1 663 33 is_stmt 0 view .LVU236
 740 00c0 A9EB0403 		sub	r3, r9, r4
 741 00c4 1AF83320 		ldrb	r2, [r10, r3, lsl #3]	@ zero_extendqisi2
 742 00c8 42F00202 		orr	r2, r2, #2
 743 00cc 0AF83320 		strb	r2, [r10, r3, lsl #3]
 665:Lib/soes/src/esc_eoe.c ****    }
ARM GAS  /tmp/ccJ9SSdb.s 			page 34


 744              		.loc 1 665 7 is_stmt 1 view .LVU237
 665:Lib/soes/src/esc_eoe.c ****    }
 745              		.loc 1 665 19 is_stmt 0 view .LVU238
 746 00d0 0436     		adds	r6, r6, #4
 747              	.LVL52:
 665:Lib/soes/src/esc_eoe.c ****    }
 748              		.loc 1 665 19 view .LVU239
 749 00d2 B8E7     		b	.L43
 750              	.L57:
 670:Lib/soes/src/esc_eoe.c ****             &nic_ports[port_ix].subnet);
 751              		.loc 1 670 7 is_stmt 1 view .LVU240
 752 00d4 DFF8FCA0 		ldr	r10, .L61+8
 753 00d8 4FEAC409 		lsl	r9, r4, #3
 754 00dc C4EBC401 		rsb	r1, r4, r4, lsl #3
 755 00e0 C900     		lsls	r1, r1, #3
 756 00e2 0831     		adds	r1, r1, #8
 757 00e4 5144     		add	r1, r1, r10
 758 00e6 06F10800 		add	r0, r6, #8
 759 00ea 384B     		ldr	r3, .L61
 760 00ec 1844     		add	r0, r0, r3
 761 00ee 0431     		adds	r1, r1, #4
 762 00f0 0230     		adds	r0, r0, #2
 763 00f2 FFF7FEFF 		bl	EOE_ip_byte_to_uint32
 764              	.LVL53:
 672:Lib/soes/src/esc_eoe.c ****       /* Add size of uint32 IP address */
 765              		.loc 1 672 7 view .LVU241
 672:Lib/soes/src/esc_eoe.c ****       /* Add size of uint32 IP address */
 766              		.loc 1 672 37 is_stmt 0 view .LVU242
 767 00f6 A9EB0409 		sub	r9, r9, r4
 768 00fa 1AF83930 		ldrb	r3, [r10, r9, lsl #3]	@ zero_extendqisi2
 769 00fe 43F00403 		orr	r3, r3, #4
 770 0102 0AF83930 		strb	r3, [r10, r9, lsl #3]
 674:Lib/soes/src/esc_eoe.c ****    }
 771              		.loc 1 674 7 is_stmt 1 view .LVU243
 674:Lib/soes/src/esc_eoe.c ****    }
 772              		.loc 1 674 19 is_stmt 0 view .LVU244
 773 0106 0436     		adds	r6, r6, #4
 774              	.LVL54:
 674:Lib/soes/src/esc_eoe.c ****    }
 775              		.loc 1 674 19 view .LVU245
 776 0108 A0E7     		b	.L44
 777              	.L58:
 679:Lib/soes/src/esc_eoe.c ****             &nic_ports[port_ix].default_gateway);
 778              		.loc 1 679 7 is_stmt 1 view .LVU246
 779 010a DFF8C8A0 		ldr	r10, .L61+8
 780 010e 4FEAC409 		lsl	r9, r4, #3
 781 0112 C4EBC401 		rsb	r1, r4, r4, lsl #3
 782 0116 C900     		lsls	r1, r1, #3
 783 0118 1031     		adds	r1, r1, #16
 784 011a 06F10800 		add	r0, r6, #8
 785 011e 2B4B     		ldr	r3, .L61
 786 0120 1844     		add	r0, r0, r3
 787 0122 5144     		add	r1, r1, r10
 788 0124 0230     		adds	r0, r0, #2
 789 0126 FFF7FEFF 		bl	EOE_ip_byte_to_uint32
 790              	.LVL55:
 681:Lib/soes/src/esc_eoe.c ****       /* Add size of uint32 IP address */
ARM GAS  /tmp/ccJ9SSdb.s 			page 35


 791              		.loc 1 681 7 view .LVU247
 681:Lib/soes/src/esc_eoe.c ****       /* Add size of uint32 IP address */
 792              		.loc 1 681 46 is_stmt 0 view .LVU248
 793 012a A9EB0403 		sub	r3, r9, r4
 794 012e 1AF83320 		ldrb	r2, [r10, r3, lsl #3]	@ zero_extendqisi2
 795 0132 42F00802 		orr	r2, r2, #8
 796 0136 0AF83320 		strb	r2, [r10, r3, lsl #3]
 683:Lib/soes/src/esc_eoe.c ****    }
 797              		.loc 1 683 7 is_stmt 1 view .LVU249
 683:Lib/soes/src/esc_eoe.c ****    }
 798              		.loc 1 683 19 is_stmt 0 view .LVU250
 799 013a 0436     		adds	r6, r6, #4
 800              	.LVL56:
 683:Lib/soes/src/esc_eoe.c ****    }
 801              		.loc 1 683 19 view .LVU251
 802 013c 89E7     		b	.L45
 803              	.L59:
 688:Lib/soes/src/esc_eoe.c ****             &nic_ports[port_ix].dns_ip);
 804              		.loc 1 688 7 is_stmt 1 view .LVU252
 805 013e DFF894A0 		ldr	r10, .L61+8
 806 0142 4FEAC409 		lsl	r9, r4, #3
 807 0146 C4EBC401 		rsb	r1, r4, r4, lsl #3
 808 014a C900     		lsls	r1, r1, #3
 809 014c 1031     		adds	r1, r1, #16
 810 014e 5144     		add	r1, r1, r10
 811 0150 06F10800 		add	r0, r6, #8
 812 0154 1D4B     		ldr	r3, .L61
 813 0156 1844     		add	r0, r0, r3
 814 0158 0431     		adds	r1, r1, #4
 815 015a 0230     		adds	r0, r0, #2
 816 015c FFF7FEFF 		bl	EOE_ip_byte_to_uint32
 817              	.LVL57:
 690:Lib/soes/src/esc_eoe.c ****       /* Add size of uint32 IP address */
 818              		.loc 1 690 7 view .LVU253
 690:Lib/soes/src/esc_eoe.c ****       /* Add size of uint32 IP address */
 819              		.loc 1 690 37 is_stmt 0 view .LVU254
 820 0160 A9EB0409 		sub	r9, r9, r4
 821 0164 1AF83930 		ldrb	r3, [r10, r9, lsl #3]	@ zero_extendqisi2
 822 0168 43F01003 		orr	r3, r3, #16
 823 016c 0AF83930 		strb	r3, [r10, r9, lsl #3]
 692:Lib/soes/src/esc_eoe.c ****    }
 824              		.loc 1 692 7 is_stmt 1 view .LVU255
 692:Lib/soes/src/esc_eoe.c ****    }
 825              		.loc 1 692 19 is_stmt 0 view .LVU256
 826 0170 0436     		adds	r6, r6, #4
 827              	.LVL58:
 692:Lib/soes/src/esc_eoe.c ****    }
 828              		.loc 1 692 19 view .LVU257
 829 0172 71E7     		b	.L46
 830              	.L60:
 831              	.LBB3:
 697:Lib/soes/src/esc_eoe.c ****       memcpy(nic_ports[port_ix].dns_name,
 832              		.loc 1 697 7 is_stmt 1 view .LVU258
 697:Lib/soes/src/esc_eoe.c ****       memcpy(nic_ports[port_ix].dns_name,
 833              		.loc 1 697 26 is_stmt 0 view .LVU259
 834 0174 A8EB0607 		sub	r7, r8, r6
 835              	.LVL59:
ARM GAS  /tmp/ccJ9SSdb.s 			page 36


 697:Lib/soes/src/esc_eoe.c ****       memcpy(nic_ports[port_ix].dns_name,
 836              		.loc 1 697 16 view .LVU260
 837 0178 202F     		cmp	r7, #32
 838 017a 28BF     		it	cs
 839 017c 2027     		movcs	r7, #32
 840              	.LVL60:
 698:Lib/soes/src/esc_eoe.c ****             &eoembx->data[data_offset],
 841              		.loc 1 698 7 is_stmt 1 view .LVU261
 698:Lib/soes/src/esc_eoe.c ****             &eoembx->data[data_offset],
 842              		.loc 1 698 32 is_stmt 0 view .LVU262
 843 017e DFF854A0 		ldr	r10, .L61+8
 844 0182 4FEAC409 		lsl	r9, r4, #3
 845 0186 C4EBC400 		rsb	r0, r4, r4, lsl #3
 846 018a C000     		lsls	r0, r0, #3
 847 018c 1830     		adds	r0, r0, #24
 699:Lib/soes/src/esc_eoe.c ****             dns_len);
 848              		.loc 1 699 13 view .LVU263
 849 018e 06F10801 		add	r1, r6, #8
 850 0192 0E4B     		ldr	r3, .L61
 851 0194 1944     		add	r1, r1, r3
 698:Lib/soes/src/esc_eoe.c ****             &eoembx->data[data_offset],
 852              		.loc 1 698 7 view .LVU264
 853 0196 3A46     		mov	r2, r7
 854 0198 0231     		adds	r1, r1, #2
 855 019a 5044     		add	r0, r0, r10
 856 019c FFF7FEFF 		bl	memcpy
 857              	.LVL61:
 701:Lib/soes/src/esc_eoe.c ****       data_offset += dns_len; /* expected 1- EOE_DNS_NAME_LENGTH; */
 858              		.loc 1 701 7 is_stmt 1 view .LVU265
 701:Lib/soes/src/esc_eoe.c ****       data_offset += dns_len; /* expected 1- EOE_DNS_NAME_LENGTH; */
 859              		.loc 1 701 39 is_stmt 0 view .LVU266
 860 01a0 A9EB0404 		sub	r4, r9, r4
 861              	.LVL62:
 701:Lib/soes/src/esc_eoe.c ****       data_offset += dns_len; /* expected 1- EOE_DNS_NAME_LENGTH; */
 862              		.loc 1 701 39 view .LVU267
 863 01a4 1AF83430 		ldrb	r3, [r10, r4, lsl #3]	@ zero_extendqisi2
 864 01a8 43F02003 		orr	r3, r3, #32
 865 01ac 0AF83430 		strb	r3, [r10, r4, lsl #3]
 702:Lib/soes/src/esc_eoe.c ****    }
 866              		.loc 1 702 7 is_stmt 1 view .LVU268
 702:Lib/soes/src/esc_eoe.c ****    }
 867              		.loc 1 702 19 is_stmt 0 view .LVU269
 868 01b0 3E44     		add	r6, r6, r7
 869              	.LVL63:
 702:Lib/soes/src/esc_eoe.c ****    }
 870              		.loc 1 702 19 view .LVU270
 871 01b2 55E7     		b	.L47
 872              	.LVL64:
 873              	.L51:
 702:Lib/soes/src/esc_eoe.c ****    }
 874              		.loc 1 702 19 view .LVU271
 875              	.LBE3:
 707:Lib/soes/src/esc_eoe.c ****    }
 876              		.loc 1 707 14 view .LVU272
 877 01b4 0621     		movs	r1, #6
 878              	.L48:
 879              	.LVL65:
ARM GAS  /tmp/ccJ9SSdb.s 			page 37


 722:Lib/soes/src/esc_eoe.c ****    frameinfo1 |= EOE_INIT_RESP;
 880              		.loc 1 722 4 is_stmt 1 view .LVU273
 723:Lib/soes/src/esc_eoe.c ****    frameinfo1 |= EOE_HDR_LAST_FRAGMENT;
 881              		.loc 1 723 4 view .LVU274
 724:Lib/soes/src/esc_eoe.c ****    EOE_no_data_response(frameinfo1, result);
 882              		.loc 1 724 4 view .LVU275
 725:Lib/soes/src/esc_eoe.c **** }
 883              		.loc 1 725 4 view .LVU276
 884 01b6 40F20310 		movw	r0, #259
 885 01ba 40EA0510 		orr	r0, r0, r5, lsl #4
 886              	.LVL66:
 725:Lib/soes/src/esc_eoe.c **** }
 887              		.loc 1 725 4 is_stmt 0 view .LVU277
 888 01be FFF7FEFF 		bl	EOE_no_data_response
 889              	.LVL67:
 890              	.L38:
 726:Lib/soes/src/esc_eoe.c **** 
 891              		.loc 1 726 1 view .LVU278
 892 01c2 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 893              	.LVL68:
 894              	.L52:
 719:Lib/soes/src/esc_eoe.c ****       }
 895              		.loc 1 719 17 view .LVU279
 896 01c6 40F20121 		movw	r1, #513
 897 01ca F4E7     		b	.L48
 898              	.L62:
 899              		.align	2
 900              	.L61:
 901 01cc 00000000 		.word	MBX
 902 01d0 00000000 		.word	.LANCHOR1
 903 01d4 00000000 		.word	.LANCHOR2
 904 01d8 0E000000 		.word	MBX+14
 905              		.cfi_endproc
 906              	.LFE16:
 908              		.section	.text.EOE_get_ip,"ax",%progbits
 909              		.align	1
 910              		.syntax unified
 911              		.thumb
 912              		.thumb_func
 913              		.fpu fpv4-sp-d16
 915              	EOE_get_ip:
 916              	.LFB15:
 502:Lib/soes/src/esc_eoe.c ****    _EOE *req_eoembx;
 917              		.loc 1 502 1 is_stmt 1 view -0
 918              		.cfi_startproc
 919              		@ args = 0, pretend = 0, frame = 0
 920              		@ frame_needed = 0, uses_anonymous_args = 0
 921 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 922              		.cfi_def_cfa_offset 32
 923              		.cfi_offset 3, -32
 924              		.cfi_offset 4, -28
 925              		.cfi_offset 5, -24
 926              		.cfi_offset 6, -20
 927              		.cfi_offset 7, -16
 928              		.cfi_offset 8, -12
 929              		.cfi_offset 9, -8
 930              		.cfi_offset 14, -4
ARM GAS  /tmp/ccJ9SSdb.s 			page 38


 503:Lib/soes/src/esc_eoe.c ****    _EOE *eoembx;
 931              		.loc 1 503 4 view .LVU281
 504:Lib/soes/src/esc_eoe.c ****    uint8_t mbxhandle;
 932              		.loc 1 504 4 view .LVU282
 505:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo1;
 933              		.loc 1 505 4 view .LVU283
 506:Lib/soes/src/esc_eoe.c ****    uint8_t port;
 934              		.loc 1 506 4 view .LVU284
 507:Lib/soes/src/esc_eoe.c ****    uint8_t  flags;
 935              		.loc 1 507 4 view .LVU285
 508:Lib/soes/src/esc_eoe.c ****    uint32_t  data_offset;
 936              		.loc 1 508 4 view .LVU286
 509:Lib/soes/src/esc_eoe.c ****    int port_ix;
 937              		.loc 1 509 4 view .LVU287
 510:Lib/soes/src/esc_eoe.c **** 
 938              		.loc 1 510 4 view .LVU288
 512:Lib/soes/src/esc_eoe.c ****    frameinfo1 = etohs(req_eoembx->eoeheader.frameinfo1);
 939              		.loc 1 512 4 view .LVU289
 940              	.LVL69:
 513:Lib/soes/src/esc_eoe.c ****    port = EOE_HDR_FRAME_PORT_GET(frameinfo1);
 941              		.loc 1 513 4 view .LVU290
 513:Lib/soes/src/esc_eoe.c ****    port = EOE_HDR_FRAME_PORT_GET(frameinfo1);
 942              		.loc 1 513 15 is_stmt 0 view .LVU291
 943 0004 714B     		ldr	r3, .L84
 944 0006 DC88     		ldrh	r4, [r3, #6]	@ unaligned
 945              	.LVL70:
 514:Lib/soes/src/esc_eoe.c ****    data_offset = EOE_PARAM_OFFSET;
 946              		.loc 1 514 4 is_stmt 1 view .LVU292
 514:Lib/soes/src/esc_eoe.c ****    data_offset = EOE_PARAM_OFFSET;
 947              		.loc 1 514 11 is_stmt 0 view .LVU293
 948 0008 C4F30715 		ubfx	r5, r4, #4, #8
 514:Lib/soes/src/esc_eoe.c ****    data_offset = EOE_PARAM_OFFSET;
 949              		.loc 1 514 9 view .LVU294
 950 000c C4F30314 		ubfx	r4, r4, #4, #4
 951              	.LVL71:
 515:Lib/soes/src/esc_eoe.c ****    flags = 0;
 952              		.loc 1 515 4 is_stmt 1 view .LVU295
 516:Lib/soes/src/esc_eoe.c **** 
 953              		.loc 1 516 4 view .LVU296
 518:Lib/soes/src/esc_eoe.c ****    {
 954              		.loc 1 518 4 view .LVU297
 518:Lib/soes/src/esc_eoe.c ****    {
 955              		.loc 1 518 6 is_stmt 0 view .LVU298
 956 0010 15F00E05 		ands	r5, r5, #14
 957 0014 5AD1     		bne	.L77
 531:Lib/soes/src/esc_eoe.c ****    {
 958              		.loc 1 531 4 is_stmt 1 view .LVU299
 531:Lib/soes/src/esc_eoe.c ****    {
 959              		.loc 1 531 14 is_stmt 0 view .LVU300
 960 0016 6E4B     		ldr	r3, .L84+4
 961 0018 1B68     		ldr	r3, [r3]
 962 001a 9B68     		ldr	r3, [r3, #8]
 531:Lib/soes/src/esc_eoe.c ****    {
 963              		.loc 1 531 6 view .LVU301
 964 001c 03B1     		cbz	r3, .L66
 533:Lib/soes/src/esc_eoe.c ****    }
 965              		.loc 1 533 7 is_stmt 1 view .LVU302
ARM GAS  /tmp/ccJ9SSdb.s 			page 39


 533:Lib/soes/src/esc_eoe.c ****    }
 966              		.loc 1 533 13 is_stmt 0 view .LVU303
 967 001e 9847     		blx	r3
 968              	.LVL72:
 969              	.L66:
 537:Lib/soes/src/esc_eoe.c ****    if (mbxhandle)
 970              		.loc 1 537 4 is_stmt 1 view .LVU304
 537:Lib/soes/src/esc_eoe.c ****    if (mbxhandle)
 971              		.loc 1 537 16 is_stmt 0 view .LVU305
 972 0020 FFF7FEFF 		bl	ESC_claimbuffer
 973              	.LVL73:
 538:Lib/soes/src/esc_eoe.c ****    {
 974              		.loc 1 538 4 is_stmt 1 view .LVU306
 538:Lib/soes/src/esc_eoe.c ****    {
 975              		.loc 1 538 7 is_stmt 0 view .LVU307
 976 0024 0028     		cmp	r0, #0
 977 0026 4FD0     		beq	.L63
 540:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 978              		.loc 1 540 7 is_stmt 1 view .LVU308
 540:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 979              		.loc 1 540 42 is_stmt 0 view .LVU309
 980 0028 6A4A     		ldr	r2, .L84+8
 981 002a D26E     		ldr	r2, [r2, #108]
 540:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 982              		.loc 1 540 40 view .LVU310
 983 002c 02FB00F8 		mul	r8, r2, r0
 540:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 984              		.loc 1 540 14 view .LVU311
 985 0030 DFF89891 		ldr	r9, .L84
 986 0034 08EB0906 		add	r6, r8, r9
 987              	.LVL74:
 541:Lib/soes/src/esc_eoe.c ****       MBXcontrol[mbxhandle].state = MBXstate_outreq;
 988              		.loc 1 541 7 is_stmt 1 view .LVU312
 541:Lib/soes/src/esc_eoe.c ****       MBXcontrol[mbxhandle].state = MBXstate_outreq;
 989              		.loc 1 541 33 is_stmt 0 view .LVU313
 990 0038 7279     		ldrb	r2, [r6, #5]	@ zero_extendqisi2
 991 003a 0221     		movs	r1, #2
 992 003c 61F30302 		bfi	r2, r1, #0, #4
 993 0040 7271     		strb	r2, [r6, #5]
 542:Lib/soes/src/esc_eoe.c ****       frameinfo1 = EOE_HDR_FRAME_PORT_SET(port);
 994              		.loc 1 542 7 is_stmt 1 view .LVU314
 542:Lib/soes/src/esc_eoe.c ****       frameinfo1 = EOE_HDR_FRAME_PORT_SET(port);
 995              		.loc 1 542 35 is_stmt 0 view .LVU315
 996 0042 654A     		ldr	r2, .L84+12
 997 0044 0321     		movs	r1, #3
 998 0046 1154     		strb	r1, [r2, r0]
 543:Lib/soes/src/esc_eoe.c ****       frameinfo1 |= EOE_HDR_FRAME_TYPE_SET(EOE_GET_IP_PARAM_RESP);
 999              		.loc 1 543 7 is_stmt 1 view .LVU316
 1000              	.LVL75:
 544:Lib/soes/src/esc_eoe.c ****       frameinfo1 |= EOE_HDR_LAST_FRAGMENT;
 1001              		.loc 1 544 7 view .LVU317
 545:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 1002              		.loc 1 545 7 view .LVU318
 545:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 1003              		.loc 1 545 18 is_stmt 0 view .LVU319
 1004 0048 40F20713 		movw	r3, #263
 1005 004c 43EA0413 		orr	r3, r3, r4, lsl #4
ARM GAS  /tmp/ccJ9SSdb.s 			page 40


 1006              	.LVL76:
 546:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo2 = 0;
 1007              		.loc 1 546 7 is_stmt 1 view .LVU320
 546:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo2 = 0;
 1008              		.loc 1 546 36 is_stmt 0 view .LVU321
 1009 0050 F380     		strh	r3, [r6, #6]	@ unaligned
 547:Lib/soes/src/esc_eoe.c **** 
 1010              		.loc 1 547 7 is_stmt 1 view .LVU322
 547:Lib/soes/src/esc_eoe.c **** 
 1011              		.loc 1 547 36 is_stmt 0 view .LVU323
 1012 0052 0023     		movs	r3, #0
 1013              	.LVL77:
 547:Lib/soes/src/esc_eoe.c **** 
 1014              		.loc 1 547 36 view .LVU324
 1015 0054 3372     		strb	r3, [r6, #8]
 1016 0056 7372     		strb	r3, [r6, #9]
 550:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 1017              		.loc 1 550 7 is_stmt 1 view .LVU325
 550:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 1018              		.loc 1 550 17 is_stmt 0 view .LVU326
 1019 0058 002C     		cmp	r4, #0
 1020 005a 3FD0     		beq	.L74
 550:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 1021              		.loc 1 550 17 discriminator 1 view .LVU327
 1022 005c 013C     		subs	r4, r4, #1
 1023              	.LVL78:
 1024              	.L67:
 551:Lib/soes/src/esc_eoe.c ****       {
 1025              		.loc 1 551 7 is_stmt 1 discriminator 4 view .LVU328
 551:Lib/soes/src/esc_eoe.c ****       {
 1026              		.loc 1 551 28 is_stmt 0 discriminator 4 view .LVU329
 1027 005e C4EBC403 		rsb	r3, r4, r4, lsl #3
 1028 0062 5E4A     		ldr	r2, .L84+16
 1029 0064 12F83330 		ldrb	r3, [r2, r3, lsl #3]	@ zero_extendqisi2
 551:Lib/soes/src/esc_eoe.c ****       {
 1030              		.loc 1 551 9 discriminator 4 view .LVU330
 1031 0068 13F0010F 		tst	r3, #1
 1032 006c 38D1     		bne	.L78
 515:Lib/soes/src/esc_eoe.c ****    flags = 0;
 1033              		.loc 1 515 16 view .LVU331
 1034 006e 0427     		movs	r7, #4
 1035              	.LVL79:
 1036              	.L68:
 562:Lib/soes/src/esc_eoe.c ****       {
 1037              		.loc 1 562 7 is_stmt 1 view .LVU332
 562:Lib/soes/src/esc_eoe.c ****       {
 1038              		.loc 1 562 28 is_stmt 0 view .LVU333
 1039 0070 C4EBC403 		rsb	r3, r4, r4, lsl #3
 1040 0074 594A     		ldr	r2, .L84+16
 1041 0076 12F83330 		ldrb	r3, [r2, r3, lsl #3]	@ zero_extendqisi2
 562:Lib/soes/src/esc_eoe.c ****       {
 1042              		.loc 1 562 9 view .LVU334
 1043 007a 13F0020F 		tst	r3, #2
 1044 007e 3DD1     		bne	.L79
 1045              	.LVL80:
 1046              	.L69:
 572:Lib/soes/src/esc_eoe.c ****       {
ARM GAS  /tmp/ccJ9SSdb.s 			page 41


 1047              		.loc 1 572 7 is_stmt 1 view .LVU335
 572:Lib/soes/src/esc_eoe.c ****       {
 1048              		.loc 1 572 28 is_stmt 0 view .LVU336
 1049 0080 C4EBC403 		rsb	r3, r4, r4, lsl #3
 1050 0084 554A     		ldr	r2, .L84+16
 1051 0086 12F83330 		ldrb	r3, [r2, r3, lsl #3]	@ zero_extendqisi2
 572:Lib/soes/src/esc_eoe.c ****       {
 1052              		.loc 1 572 9 view .LVU337
 1053 008a 13F0040F 		tst	r3, #4
 1054 008e 45D1     		bne	.L80
 1055              	.L70:
 582:Lib/soes/src/esc_eoe.c ****       {
 1056              		.loc 1 582 7 is_stmt 1 view .LVU338
 582:Lib/soes/src/esc_eoe.c ****       {
 1057              		.loc 1 582 28 is_stmt 0 view .LVU339
 1058 0090 C4EBC403 		rsb	r3, r4, r4, lsl #3
 1059 0094 514A     		ldr	r2, .L84+16
 1060 0096 12F83330 		ldrb	r3, [r2, r3, lsl #3]	@ zero_extendqisi2
 582:Lib/soes/src/esc_eoe.c ****       {
 1061              		.loc 1 582 9 view .LVU340
 1062 009a 13F0080F 		tst	r3, #8
 1063 009e 4DD1     		bne	.L81
 1064              	.L71:
 591:Lib/soes/src/esc_eoe.c ****       {
 1065              		.loc 1 591 7 is_stmt 1 view .LVU341
 591:Lib/soes/src/esc_eoe.c ****       {
 1066              		.loc 1 591 28 is_stmt 0 view .LVU342
 1067 00a0 C4EBC403 		rsb	r3, r4, r4, lsl #3
 1068 00a4 4D4A     		ldr	r2, .L84+16
 1069 00a6 12F83330 		ldrb	r3, [r2, r3, lsl #3]	@ zero_extendqisi2
 591:Lib/soes/src/esc_eoe.c ****       {
 1070              		.loc 1 591 9 view .LVU343
 1071 00aa 13F0100F 		tst	r3, #16
 1072 00ae 55D1     		bne	.L82
 1073              	.L72:
 601:Lib/soes/src/esc_eoe.c ****       {
 1074              		.loc 1 601 7 is_stmt 1 view .LVU344
 601:Lib/soes/src/esc_eoe.c ****       {
 1075              		.loc 1 601 28 is_stmt 0 view .LVU345
 1076 00b0 C4EBC403 		rsb	r3, r4, r4, lsl #3
 1077 00b4 494A     		ldr	r2, .L84+16
 1078 00b6 12F83330 		ldrb	r3, [r2, r3, lsl #3]	@ zero_extendqisi2
 601:Lib/soes/src/esc_eoe.c ****       {
 1079              		.loc 1 601 9 view .LVU346
 1080 00ba 13F0200F 		tst	r3, #32
 1081 00be 5DD1     		bne	.L83
 1082              	.LVL81:
 1083              	.L73:
 612:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE + data_offset);
 1084              		.loc 1 612 7 is_stmt 1 view .LVU347
 612:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE + data_offset);
 1085              		.loc 1 612 23 is_stmt 0 view .LVU348
 1086 00c0 B572     		strb	r5, [r6, #10]
 613:Lib/soes/src/esc_eoe.c ****    }
 1087              		.loc 1 613 7 is_stmt 1 view .LVU349
 613:Lib/soes/src/esc_eoe.c ****    }
 1088              		.loc 1 613 34 is_stmt 0 view .LVU350
ARM GAS  /tmp/ccJ9SSdb.s 			page 42


 1089 00c2 0437     		adds	r7, r7, #4
 1090              	.LVL82:
 613:Lib/soes/src/esc_eoe.c ****    }
 1091              		.loc 1 613 32 view .LVU351
 1092 00c4 29F80870 		strh	r7, [r9, r8]	@ unaligned
 1093              	.LVL83:
 1094              	.L63:
 615:Lib/soes/src/esc_eoe.c **** 
 1095              		.loc 1 615 1 view .LVU352
 1096 00c8 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1097              	.LVL84:
 1098              	.L77:
 520:Lib/soes/src/esc_eoe.c ****       frameinfo1 = EOE_HDR_FRAME_PORT_SET(port);
 1099              		.loc 1 520 31 is_stmt 1 view .LVU353
 521:Lib/soes/src/esc_eoe.c ****       frameinfo1 |= EOE_INIT_RESP;
 1100              		.loc 1 521 7 view .LVU354
 522:Lib/soes/src/esc_eoe.c ****       frameinfo1 |= EOE_HDR_LAST_FRAGMENT;
 1101              		.loc 1 522 7 view .LVU355
 523:Lib/soes/src/esc_eoe.c ****       /* Return error response on given port */
 1102              		.loc 1 523 7 view .LVU356
 525:Lib/soes/src/esc_eoe.c ****             EOE_RESULT_UNSPECIFIED_ERROR);
 1103              		.loc 1 525 7 view .LVU357
 1104 00cc 0121     		movs	r1, #1
 1105 00ce 40F20310 		movw	r0, #259
 1106 00d2 40EA0410 		orr	r0, r0, r4, lsl #4
 1107              	.LVL85:
 525:Lib/soes/src/esc_eoe.c ****             EOE_RESULT_UNSPECIFIED_ERROR);
 1108              		.loc 1 525 7 is_stmt 0 view .LVU358
 1109 00d6 FFF7FEFF 		bl	EOE_no_data_response
 1110              	.LVL86:
 527:Lib/soes/src/esc_eoe.c ****    }
 1111              		.loc 1 527 7 is_stmt 1 view .LVU359
 1112 00da F5E7     		b	.L63
 1113              	.LVL87:
 1114              	.L74:
 550:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 1115              		.loc 1 550 17 is_stmt 0 view .LVU360
 1116 00dc 0024     		movs	r4, #0
 1117              	.LVL88:
 550:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 1118              		.loc 1 550 17 view .LVU361
 1119 00de BEE7     		b	.L67
 1120              	.LVL89:
 1121              	.L78:
 553:Lib/soes/src/esc_eoe.c ****          memcpy(&eoembx->data[data_offset] ,
 1122              		.loc 1 553 10 is_stmt 1 view .LVU362
 554:Lib/soes/src/esc_eoe.c ****                nic_ports[port_ix].mac.addr,
 1123              		.loc 1 554 10 view .LVU363
 555:Lib/soes/src/esc_eoe.c ****                EOE_ETHADDR_LENGTH);
 1124              		.loc 1 555 38 is_stmt 0 view .LVU364
 1125 00e0 C4EBC403 		rsb	r3, r4, r4, lsl #3
 1126 00e4 02EBC303 		add	r3, r2, r3, lsl #3
 554:Lib/soes/src/esc_eoe.c ****                nic_ports[port_ix].mac.addr,
 1127              		.loc 1 554 10 view .LVU365
 1128 00e8 D3F80120 		ldr	r2, [r3, #1]	@ unaligned
 1129 00ec C6F80E20 		str	r2, [r6, #14]	@ unaligned
 1130 00f0 B3F80530 		ldrh	r3, [r3, #5]	@ unaligned
ARM GAS  /tmp/ccJ9SSdb.s 			page 43


 1131 00f4 7382     		strh	r3, [r6, #18]	@ unaligned
 558:Lib/soes/src/esc_eoe.c **** 
 1132              		.loc 1 558 10 is_stmt 1 view .LVU366
 1133              	.LVL90:
 558:Lib/soes/src/esc_eoe.c **** 
 1134              		.loc 1 558 22 is_stmt 0 view .LVU367
 1135 00f6 0A27     		movs	r7, #10
 553:Lib/soes/src/esc_eoe.c ****          memcpy(&eoembx->data[data_offset] ,
 1136              		.loc 1 553 16 view .LVU368
 1137 00f8 0125     		movs	r5, #1
 1138 00fa B9E7     		b	.L68
 1139              	.LVL91:
 1140              	.L79:
 564:Lib/soes/src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].ip,
 1141              		.loc 1 564 10 is_stmt 1 view .LVU369
 564:Lib/soes/src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].ip,
 1142              		.loc 1 564 16 is_stmt 0 view .LVU370
 1143 00fc 45F00205 		orr	r5, r5, #2
 1144              	.LVL92:
 565:Lib/soes/src/esc_eoe.c ****                &eoembx->data[data_offset]);
 1145              		.loc 1 565 10 is_stmt 1 view .LVU371
 1146 0100 07F10801 		add	r1, r7, #8
 1147 0104 3144     		add	r1, r1, r6
 1148 0106 C4EBC403 		rsb	r3, r4, r4, lsl #3
 1149 010a DB00     		lsls	r3, r3, #3
 1150 010c 0833     		adds	r3, r3, #8
 1151 010e 0231     		adds	r1, r1, #2
 1152 0110 1046     		mov	r0, r2
 1153              	.LVL93:
 565:Lib/soes/src/esc_eoe.c ****                &eoembx->data[data_offset]);
 1154              		.loc 1 565 10 is_stmt 0 view .LVU372
 1155 0112 1844     		add	r0, r0, r3
 1156 0114 FFF7FEFF 		bl	EOE_ip_uint32_to_byte
 1157              	.LVL94:
 568:Lib/soes/src/esc_eoe.c ****       }
 1158              		.loc 1 568 10 is_stmt 1 view .LVU373
 568:Lib/soes/src/esc_eoe.c ****       }
 1159              		.loc 1 568 22 is_stmt 0 view .LVU374
 1160 0118 0437     		adds	r7, r7, #4
 1161              	.LVL95:
 568:Lib/soes/src/esc_eoe.c ****       }
 1162              		.loc 1 568 22 view .LVU375
 1163 011a B1E7     		b	.L69
 1164              	.L80:
 574:Lib/soes/src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].subnet,
 1165              		.loc 1 574 10 is_stmt 1 view .LVU376
 574:Lib/soes/src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].subnet,
 1166              		.loc 1 574 16 is_stmt 0 view .LVU377
 1167 011c 45F00405 		orr	r5, r5, #4
 1168              	.LVL96:
 575:Lib/soes/src/esc_eoe.c ****                &eoembx->data[data_offset]);
 1169              		.loc 1 575 10 is_stmt 1 view .LVU378
 1170 0120 07F10801 		add	r1, r7, #8
 1171 0124 3144     		add	r1, r1, r6
 1172 0126 C4EBC400 		rsb	r0, r4, r4, lsl #3
 1173 012a C000     		lsls	r0, r0, #3
 1174 012c 0830     		adds	r0, r0, #8
ARM GAS  /tmp/ccJ9SSdb.s 			page 44


 1175 012e 1044     		add	r0, r0, r2
 1176 0130 0231     		adds	r1, r1, #2
 1177 0132 0430     		adds	r0, r0, #4
 1178 0134 FFF7FEFF 		bl	EOE_ip_uint32_to_byte
 1179              	.LVL97:
 578:Lib/soes/src/esc_eoe.c ****       }
 1180              		.loc 1 578 10 view .LVU379
 578:Lib/soes/src/esc_eoe.c ****       }
 1181              		.loc 1 578 22 is_stmt 0 view .LVU380
 1182 0138 0437     		adds	r7, r7, #4
 1183              	.LVL98:
 578:Lib/soes/src/esc_eoe.c ****       }
 1184              		.loc 1 578 22 view .LVU381
 1185 013a A9E7     		b	.L70
 1186              	.L81:
 584:Lib/soes/src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].default_gateway,
 1187              		.loc 1 584 10 is_stmt 1 view .LVU382
 584:Lib/soes/src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].default_gateway,
 1188              		.loc 1 584 16 is_stmt 0 view .LVU383
 1189 013c 45F00805 		orr	r5, r5, #8
 1190              	.LVL99:
 585:Lib/soes/src/esc_eoe.c ****                &eoembx->data[data_offset]);
 1191              		.loc 1 585 10 is_stmt 1 view .LVU384
 1192 0140 07F10801 		add	r1, r7, #8
 1193 0144 3144     		add	r1, r1, r6
 1194 0146 C4EBC403 		rsb	r3, r4, r4, lsl #3
 1195 014a DB00     		lsls	r3, r3, #3
 1196 014c 1033     		adds	r3, r3, #16
 1197 014e 0231     		adds	r1, r1, #2
 1198 0150 1046     		mov	r0, r2
 1199 0152 1844     		add	r0, r0, r3
 1200 0154 FFF7FEFF 		bl	EOE_ip_uint32_to_byte
 1201              	.LVL100:
 588:Lib/soes/src/esc_eoe.c ****       }
 1202              		.loc 1 588 10 view .LVU385
 588:Lib/soes/src/esc_eoe.c ****       }
 1203              		.loc 1 588 22 is_stmt 0 view .LVU386
 1204 0158 0437     		adds	r7, r7, #4
 1205              	.LVL101:
 588:Lib/soes/src/esc_eoe.c ****       }
 1206              		.loc 1 588 22 view .LVU387
 1207 015a A1E7     		b	.L71
 1208              	.L82:
 593:Lib/soes/src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].dns_ip,
 1209              		.loc 1 593 10 is_stmt 1 view .LVU388
 593:Lib/soes/src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].dns_ip,
 1210              		.loc 1 593 16 is_stmt 0 view .LVU389
 1211 015c 45F01005 		orr	r5, r5, #16
 1212              	.LVL102:
 594:Lib/soes/src/esc_eoe.c ****                &eoembx->data[data_offset]);
 1213              		.loc 1 594 10 is_stmt 1 view .LVU390
 1214 0160 07F10801 		add	r1, r7, #8
 1215 0164 3144     		add	r1, r1, r6
 1216 0166 C4EBC400 		rsb	r0, r4, r4, lsl #3
 1217 016a C000     		lsls	r0, r0, #3
 1218 016c 1030     		adds	r0, r0, #16
 1219 016e 1044     		add	r0, r0, r2
ARM GAS  /tmp/ccJ9SSdb.s 			page 45


 1220 0170 0231     		adds	r1, r1, #2
 1221 0172 0430     		adds	r0, r0, #4
 1222 0174 FFF7FEFF 		bl	EOE_ip_uint32_to_byte
 1223              	.LVL103:
 597:Lib/soes/src/esc_eoe.c ****       }
 1224              		.loc 1 597 10 view .LVU391
 597:Lib/soes/src/esc_eoe.c ****       }
 1225              		.loc 1 597 22 is_stmt 0 view .LVU392
 1226 0178 0437     		adds	r7, r7, #4
 1227              	.LVL104:
 597:Lib/soes/src/esc_eoe.c ****       }
 1228              		.loc 1 597 22 view .LVU393
 1229 017a 99E7     		b	.L72
 1230              	.L83:
 604:Lib/soes/src/esc_eoe.c ****          memcpy(&eoembx->data[data_offset],
 1231              		.loc 1 604 10 is_stmt 1 view .LVU394
 604:Lib/soes/src/esc_eoe.c ****          memcpy(&eoembx->data[data_offset],
 1232              		.loc 1 604 16 is_stmt 0 view .LVU395
 1233 017c 45F02005 		orr	r5, r5, #32
 1234              	.LVL105:
 605:Lib/soes/src/esc_eoe.c ****                nic_ports[port_ix].dns_name,
 1235              		.loc 1 605 10 is_stmt 1 view .LVU396
 605:Lib/soes/src/esc_eoe.c ****                nic_ports[port_ix].dns_name,
 1236              		.loc 1 605 17 is_stmt 0 view .LVU397
 1237 0180 07F10803 		add	r3, r7, #8
 1238 0184 3344     		add	r3, r3, r6
 606:Lib/soes/src/esc_eoe.c ****                EOE_DNS_NAME_LENGTH);
 1239              		.loc 1 606 34 view .LVU398
 1240 0186 1146     		mov	r1, r2
 1241 0188 C4EBC404 		rsb	r4, r4, r4, lsl #3
 1242              	.LVL106:
 606:Lib/soes/src/esc_eoe.c ****                EOE_DNS_NAME_LENGTH);
 1243              		.loc 1 606 34 view .LVU399
 1244 018c E400     		lsls	r4, r4, #3
 1245 018e 1834     		adds	r4, r4, #24
 1246 0190 2244     		add	r2, r2, r4
 605:Lib/soes/src/esc_eoe.c ****                nic_ports[port_ix].dns_name,
 1247              		.loc 1 605 10 view .LVU400
 1248 0192 51F804C0 		ldr	ip, [r1, r4]	@ unaligned
 1249 0196 5468     		ldr	r4, [r2, #4]	@ unaligned
 1250 0198 9068     		ldr	r0, [r2, #8]	@ unaligned
 1251 019a D168     		ldr	r1, [r2, #12]	@ unaligned
 1252 019c C3F802C0 		str	ip, [r3, #2]	@ unaligned
 1253 01a0 C3F80640 		str	r4, [r3, #6]	@ unaligned
 1254 01a4 C3F80A00 		str	r0, [r3, #10]	@ unaligned
 1255 01a8 C3F80E10 		str	r1, [r3, #14]	@ unaligned
 1256 01ac D2F810C0 		ldr	ip, [r2, #16]	@ unaligned
 1257 01b0 5469     		ldr	r4, [r2, #20]	@ unaligned
 1258 01b2 9069     		ldr	r0, [r2, #24]	@ unaligned
 1259 01b4 D169     		ldr	r1, [r2, #28]	@ unaligned
 1260 01b6 C3F812C0 		str	ip, [r3, #18]	@ unaligned
 1261 01ba C3F81640 		str	r4, [r3, #22]	@ unaligned
 1262 01be C3F81A00 		str	r0, [r3, #26]	@ unaligned
 1263 01c2 C3F81E10 		str	r1, [r3, #30]	@ unaligned
 609:Lib/soes/src/esc_eoe.c ****       }
 1264              		.loc 1 609 10 is_stmt 1 view .LVU401
 609:Lib/soes/src/esc_eoe.c ****       }
ARM GAS  /tmp/ccJ9SSdb.s 			page 46


 1265              		.loc 1 609 22 is_stmt 0 view .LVU402
 1266 01c6 2037     		adds	r7, r7, #32
 1267              	.LVL107:
 609:Lib/soes/src/esc_eoe.c ****       }
 1268              		.loc 1 609 22 view .LVU403
 1269 01c8 7AE7     		b	.L73
 1270              	.L85:
 1271 01ca 00BF     		.align	2
 1272              	.L84:
 1273 01cc 00000000 		.word	MBX
 1274 01d0 00000000 		.word	.LANCHOR1
 1275 01d4 00000000 		.word	ESCvar
 1276 01d8 00000000 		.word	MBXcontrol
 1277 01dc 00000000 		.word	.LANCHOR2
 1278              		.cfi_endproc
 1279              	.LFE15:
 1281              		.section	.text.EOE_send_fragment,"ax",%progbits
 1282              		.align	1
 1283              		.syntax unified
 1284              		.thumb
 1285              		.thumb_func
 1286              		.fpu fpv4-sp-d16
 1288              	EOE_send_fragment:
 1289              	.LFB18:
 829:Lib/soes/src/esc_eoe.c ****    _EOE *eoembx;
 1290              		.loc 1 829 1 is_stmt 1 view -0
 1291              		.cfi_startproc
 1292              		@ args = 0, pretend = 0, frame = 0
 1293              		@ frame_needed = 0, uses_anonymous_args = 0
 1294 0000 70B5     		push	{r4, r5, r6, lr}
 1295              		.cfi_def_cfa_offset 16
 1296              		.cfi_offset 4, -16
 1297              		.cfi_offset 5, -12
 1298              		.cfi_offset 6, -8
 1299              		.cfi_offset 14, -4
 830:Lib/soes/src/esc_eoe.c ****    uint8_t mbxhandle;
 1300              		.loc 1 830 4 view .LVU405
 831:Lib/soes/src/esc_eoe.c ****    int len;
 1301              		.loc 1 831 4 view .LVU406
 832:Lib/soes/src/esc_eoe.c ****    uint32_t len_to_send;
 1302              		.loc 1 832 4 view .LVU407
 833:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo1;
 1303              		.loc 1 833 4 view .LVU408
 834:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo2;
 1304              		.loc 1 834 4 view .LVU409
 835:Lib/soes/src/esc_eoe.c ****    static uint8_t frameno = 0;
 1305              		.loc 1 835 4 view .LVU410
 836:Lib/soes/src/esc_eoe.c **** 
 1306              		.loc 1 836 4 view .LVU411
 839:Lib/soes/src/esc_eoe.c ****    {
 1307              		.loc 1 839 4 view .LVU412
 839:Lib/soes/src/esc_eoe.c ****    {
 1308              		.loc 1 839 20 is_stmt 0 view .LVU413
 1309 0002 3B4B     		ldr	r3, .L101
 1310 0004 1B69     		ldr	r3, [r3, #16]
 839:Lib/soes/src/esc_eoe.c ****    {
 1311              		.loc 1 839 6 view .LVU414
ARM GAS  /tmp/ccJ9SSdb.s 			page 47


 1312 0006 002B     		cmp	r3, #0
 1313 0008 54D0     		beq	.L98
 1314              	.L87:
 854:Lib/soes/src/esc_eoe.c ****    if (mbxhandle)
 1315              		.loc 1 854 4 is_stmt 1 view .LVU415
 854:Lib/soes/src/esc_eoe.c ****    if (mbxhandle)
 1316              		.loc 1 854 16 is_stmt 0 view .LVU416
 1317 000a FFF7FEFF 		bl	ESC_claimbuffer
 1318              	.LVL108:
 855:Lib/soes/src/esc_eoe.c ****    {
 1319              		.loc 1 855 4 is_stmt 1 view .LVU417
 855:Lib/soes/src/esc_eoe.c ****    {
 1320              		.loc 1 855 7 is_stmt 0 view .LVU418
 1321 000e 0546     		mov	r5, r0
 1322 0010 0028     		cmp	r0, #0
 1323 0012 4ED0     		beq	.L86
 1324              	.LBB4:
 857:Lib/soes/src/esc_eoe.c ****       if((len_to_send + ESC_EOEHSIZE + ESC_MBXHSIZE) > ESC_MBXSIZE)
 1325              		.loc 1 857 7 is_stmt 1 view .LVU419
 857:Lib/soes/src/esc_eoe.c ****       if((len_to_send + ESC_EOEHSIZE + ESC_MBXHSIZE) > ESC_MBXSIZE)
 1326              		.loc 1 857 28 is_stmt 0 view .LVU420
 1327 0014 364B     		ldr	r3, .L101
 1328 0016 9A6A     		ldr	r2, [r3, #40]
 857:Lib/soes/src/esc_eoe.c ****       if((len_to_send + ESC_EOEHSIZE + ESC_MBXHSIZE) > ESC_MBXSIZE)
 1329              		.loc 1 857 49 view .LVU421
 1330 0018 D96A     		ldr	r1, [r3, #44]
 857:Lib/soes/src/esc_eoe.c ****       if((len_to_send + ESC_EOEHSIZE + ESC_MBXHSIZE) > ESC_MBXSIZE)
 1331              		.loc 1 857 19 view .LVU422
 1332 001a 501A     		subs	r0, r2, r1
 1333              	.LVL109:
 858:Lib/soes/src/esc_eoe.c ****       {
 1334              		.loc 1 858 7 is_stmt 1 view .LVU423
 858:Lib/soes/src/esc_eoe.c ****       {
 1335              		.loc 1 858 38 is_stmt 0 view .LVU424
 1336 001c 00F10A04 		add	r4, r0, #10
 858:Lib/soes/src/esc_eoe.c ****       {
 1337              		.loc 1 858 56 view .LVU425
 1338 0020 344B     		ldr	r3, .L101+4
 1339 0022 DB6E     		ldr	r3, [r3, #108]
 858:Lib/soes/src/esc_eoe.c ****       {
 1340              		.loc 1 858 9 view .LVU426
 1341 0024 9C42     		cmp	r4, r3
 1342 0026 50D9     		bls	.L95
 861:Lib/soes/src/esc_eoe.c ****                (((ESC_MBXSIZE - ESC_EOEHSIZE - ESC_MBXHSIZE) >> 5) << 5);
 1343              		.loc 1 861 10 is_stmt 1 view .LVU427
 862:Lib/soes/src/esc_eoe.c ****       }
 1344              		.loc 1 862 46 is_stmt 0 view .LVU428
 1345 0028 A3F10A04 		sub	r4, r3, #10
 861:Lib/soes/src/esc_eoe.c ****                (((ESC_MBXSIZE - ESC_EOEHSIZE - ESC_MBXHSIZE) >> 5) << 5);
 1346              		.loc 1 861 22 view .LVU429
 1347 002c 24F01F04 		bic	r4, r4, #31
 1348              	.LVL110:
 1349              	.L89:
 866:Lib/soes/src/esc_eoe.c ****       {
 1350              		.loc 1 866 7 is_stmt 1 view .LVU430
 866:Lib/soes/src/esc_eoe.c ****       {
 1351              		.loc 1 866 9 is_stmt 0 view .LVU431
ARM GAS  /tmp/ccJ9SSdb.s 			page 48


 1352 0030 8442     		cmp	r4, r0
 1353 0032 4CD0     		beq	.L99
 872:Lib/soes/src/esc_eoe.c ****       }
 1354              		.loc 1 872 21 view .LVU432
 1355 0034 4FF0000C 		mov	ip, #0
 1356              	.L90:
 1357              	.LVL111:
 875:Lib/soes/src/esc_eoe.c ****       /* Set fragment number */
 1358              		.loc 1 875 7 is_stmt 1 view .LVU433
 877:Lib/soes/src/esc_eoe.c **** 
 1359              		.loc 1 877 7 view .LVU434
 877:Lib/soes/src/esc_eoe.c **** 
 1360              		.loc 1 877 20 is_stmt 0 view .LVU435
 1361 0038 2D48     		ldr	r0, .L101
 1362 003a 90F82660 		ldrb	r6, [r0, #38]	@ zero_extendqisi2
 877:Lib/soes/src/esc_eoe.c **** 
 1363              		.loc 1 877 18 view .LVU436
 1364 003e 06F03F00 		and	r0, r6, #63
 1365              	.LVL112:
 880:Lib/soes/src/esc_eoe.c ****       {
 1366              		.loc 1 880 7 is_stmt 1 view .LVU437
 880:Lib/soes/src/esc_eoe.c ****       {
 1367              		.loc 1 880 9 is_stmt 0 view .LVU438
 1368 0042 002E     		cmp	r6, #0
 1369 0044 46D0     		beq	.L91
 882:Lib/soes/src/esc_eoe.c ****          frameinfo2 |= tempframe2;
 1370              		.loc 1 882 10 is_stmt 1 view .LVU439
 882:Lib/soes/src/esc_eoe.c ****          frameinfo2 |= tempframe2;
 1371              		.loc 1 882 23 is_stmt 0 view .LVU440
 1372 0046 4A09     		lsrs	r2, r1, #5
 1373 0048 9201     		lsls	r2, r2, #6
 882:Lib/soes/src/esc_eoe.c ****          frameinfo2 |= tempframe2;
 1374              		.loc 1 882 21 view .LVU441
 1375 004a 02F47C62 		and	r2, r2, #4032
 1376              	.LVL113:
 883:Lib/soes/src/esc_eoe.c ****       }
 1377              		.loc 1 883 10 is_stmt 1 view .LVU442
 883:Lib/soes/src/esc_eoe.c ****       }
 1378              		.loc 1 883 21 is_stmt 0 view .LVU443
 1379 004e 0243     		orrs	r2, r2, r0
 1380              	.LVL114:
 1381              	.L92:
 893:Lib/soes/src/esc_eoe.c ****       frameinfo2 |= tempframe2;
 1382              		.loc 1 893 7 is_stmt 1 view .LVU444
 893:Lib/soes/src/esc_eoe.c ****       frameinfo2 |= tempframe2;
 1383              		.loc 1 893 20 is_stmt 0 view .LVU445
 1384 0050 2948     		ldr	r0, .L101+8
 1385 0052 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 893:Lib/soes/src/esc_eoe.c ****       frameinfo2 |= tempframe2;
 1386              		.loc 1 893 18 view .LVU446
 1387 0054 0003     		lsls	r0, r0, #12
 1388 0056 80B2     		uxth	r0, r0
 1389              	.LVL115:
 894:Lib/soes/src/esc_eoe.c **** 
 1390              		.loc 1 894 7 is_stmt 1 view .LVU447
 894:Lib/soes/src/esc_eoe.c **** 
 1391              		.loc 1 894 18 is_stmt 0 view .LVU448
ARM GAS  /tmp/ccJ9SSdb.s 			page 49


 1392 0058 0243     		orrs	r2, r2, r0
 1393              	.LVL116:
 896:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (len_to_send + ESC_EOEHSIZE);
 1394              		.loc 1 896 7 is_stmt 1 view .LVU449
 896:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (len_to_send + ESC_EOEHSIZE);
 1395              		.loc 1 896 40 is_stmt 0 view .LVU450
 1396 005a 05FB03F3 		mul	r3, r5, r3
 896:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (len_to_send + ESC_EOEHSIZE);
 1397              		.loc 1 896 14 view .LVU451
 1398 005e 274E     		ldr	r6, .L101+12
 1399 0060 9819     		adds	r0, r3, r6
 1400              	.LVL117:
 897:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 1401              		.loc 1 897 7 is_stmt 1 view .LVU452
 897:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 1402              		.loc 1 897 34 is_stmt 0 view .LVU453
 1403 0062 04F1040E 		add	lr, r4, #4
 897:Lib/soes/src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 1404              		.loc 1 897 32 view .LVU454
 1405 0066 26F803E0 		strh	lr, [r6, r3]	@ unaligned
 898:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 1406              		.loc 1 898 7 is_stmt 1 view .LVU455
 898:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 1407              		.loc 1 898 33 is_stmt 0 view .LVU456
 1408 006a 4379     		ldrb	r3, [r0, #5]	@ zero_extendqisi2
 1409 006c 0226     		movs	r6, #2
 1410 006e 66F30303 		bfi	r3, r6, #0, #4
 1411 0072 4371     		strb	r3, [r0, #5]
 899:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo2 = htoes(frameinfo2);
 1412              		.loc 1 899 7 is_stmt 1 view .LVU457
 899:Lib/soes/src/esc_eoe.c ****       eoembx->eoeheader.frameinfo2 = htoes(frameinfo2);
 1413              		.loc 1 899 36 is_stmt 0 view .LVU458
 1414 0074 A0F806C0 		strh	ip, [r0, #6]	@ unaligned
 900:Lib/soes/src/esc_eoe.c **** 
 1415              		.loc 1 900 7 is_stmt 1 view .LVU459
 900:Lib/soes/src/esc_eoe.c **** 
 1416              		.loc 1 900 36 is_stmt 0 view .LVU460
 1417 0078 0281     		strh	r2, [r0, #8]	@ unaligned
 903:Lib/soes/src/esc_eoe.c ****             &EOEvar.txebuf.payload[EOEvar.txframeoffset],
 1418              		.loc 1 903 7 is_stmt 1 view .LVU461
 904:Lib/soes/src/esc_eoe.c ****             len_to_send);
 1419              		.loc 1 904 27 is_stmt 0 view .LVU462
 1420 007a 1D4E     		ldr	r6, .L101
 1421 007c 3369     		ldr	r3, [r6, #16]
 903:Lib/soes/src/esc_eoe.c ****             &EOEvar.txebuf.payload[EOEvar.txframeoffset],
 1422              		.loc 1 903 7 view .LVU463
 1423 007e 2246     		mov	r2, r4
 1424              	.LVL118:
 903:Lib/soes/src/esc_eoe.c ****             &EOEvar.txebuf.payload[EOEvar.txframeoffset],
 1425              		.loc 1 903 7 view .LVU464
 1426 0080 1944     		add	r1, r1, r3
 1427 0082 0A30     		adds	r0, r0, #10
 1428              	.LVL119:
 903:Lib/soes/src/esc_eoe.c ****             &EOEvar.txebuf.payload[EOEvar.txframeoffset],
 1429              		.loc 1 903 7 view .LVU465
 1430 0084 FFF7FEFF 		bl	memcpy
 1431              	.LVL120:
ARM GAS  /tmp/ccJ9SSdb.s 			page 50


 906:Lib/soes/src/esc_eoe.c **** 
 1432              		.loc 1 906 7 is_stmt 1 view .LVU466
 906:Lib/soes/src/esc_eoe.c **** 
 1433              		.loc 1 906 35 is_stmt 0 view .LVU467
 1434 0088 1D4B     		ldr	r3, .L101+16
 1435 008a 0322     		movs	r2, #3
 1436 008c 5A55     		strb	r2, [r3, r5]
 909:Lib/soes/src/esc_eoe.c ****       {
 1437              		.loc 1 909 7 is_stmt 1 view .LVU468
 909:Lib/soes/src/esc_eoe.c ****       {
 1438              		.loc 1 909 32 is_stmt 0 view .LVU469
 1439 008e B26A     		ldr	r2, [r6, #40]
 909:Lib/soes/src/esc_eoe.c ****       {
 1440              		.loc 1 909 53 view .LVU470
 1441 0090 F36A     		ldr	r3, [r6, #44]
 909:Lib/soes/src/esc_eoe.c ****       {
 1442              		.loc 1 909 45 view .LVU471
 1443 0092 D21A     		subs	r2, r2, r3
 909:Lib/soes/src/esc_eoe.c ****       {
 1444              		.loc 1 909 9 view .LVU472
 1445 0094 A242     		cmp	r2, r4
 1446 0096 28D0     		beq	.L100
 915:Lib/soes/src/esc_eoe.c ****          EOEvar.txfragmentno++;
 1447              		.loc 1 915 10 is_stmt 1 view .LVU473
 915:Lib/soes/src/esc_eoe.c ****          EOEvar.txfragmentno++;
 1448              		.loc 1 915 31 is_stmt 0 view .LVU474
 1449 0098 154A     		ldr	r2, .L101
 1450 009a 2344     		add	r3, r3, r4
 1451 009c D362     		str	r3, [r2, #44]
 916:Lib/soes/src/esc_eoe.c ****       }
 1452              		.loc 1 916 10 is_stmt 1 view .LVU475
 916:Lib/soes/src/esc_eoe.c ****       }
 1453              		.loc 1 916 16 is_stmt 0 view .LVU476
 1454 009e 92F82630 		ldrb	r3, [r2, #38]	@ zero_extendqisi2
 916:Lib/soes/src/esc_eoe.c ****       }
 1455              		.loc 1 916 29 view .LVU477
 1456 00a2 0133     		adds	r3, r3, #1
 1457 00a4 82F82630 		strb	r3, [r2, #38]
 1458              	.L94:
 918:Lib/soes/src/esc_eoe.c ****       {
 1459              		.loc 1 918 7 is_stmt 1 view .LVU478
 918:Lib/soes/src/esc_eoe.c ****       {
 1460              		.loc 1 918 17 is_stmt 0 view .LVU479
 1461 00a8 164B     		ldr	r3, .L101+20
 1462 00aa 1B68     		ldr	r3, [r3]
 1463 00ac 9B69     		ldr	r3, [r3, #24]
 918:Lib/soes/src/esc_eoe.c ****       {
 1464              		.loc 1 918 9 view .LVU480
 1465 00ae 03B1     		cbz	r3, .L86
 920:Lib/soes/src/esc_eoe.c ****       }
 1466              		.loc 1 920 10 is_stmt 1 view .LVU481
 1467 00b0 9847     		blx	r3
 1468              	.LVL121:
 1469              	.L86:
 920:Lib/soes/src/esc_eoe.c ****       }
 1470              		.loc 1 920 10 is_stmt 0 view .LVU482
 1471              	.LBE4:
ARM GAS  /tmp/ccJ9SSdb.s 			page 51


 923:Lib/soes/src/esc_eoe.c **** 
 1472              		.loc 1 923 1 view .LVU483
 1473 00b2 70BD     		pop	{r4, r5, r6, pc}
 1474              	.L98:
 842:Lib/soes/src/esc_eoe.c ****       if(len > 0)
 1475              		.loc 1 842 7 is_stmt 1 view .LVU484
 842:Lib/soes/src/esc_eoe.c ****       if(len > 0)
 1476              		.loc 1 842 20 is_stmt 0 view .LVU485
 1477 00b4 134B     		ldr	r3, .L101+20
 1478 00b6 1B68     		ldr	r3, [r3]
 1479 00b8 5B69     		ldr	r3, [r3, #20]
 842:Lib/soes/src/esc_eoe.c ****       if(len > 0)
 1480              		.loc 1 842 13 view .LVU486
 1481 00ba 1349     		ldr	r1, .L101+24
 1482 00bc 0020     		movs	r0, #0
 1483 00be 9847     		blx	r3
 1484              	.LVL122:
 843:Lib/soes/src/esc_eoe.c ****       {
 1485              		.loc 1 843 7 is_stmt 1 view .LVU487
 843:Lib/soes/src/esc_eoe.c ****       {
 1486              		.loc 1 843 9 is_stmt 0 view .LVU488
 1487 00c0 0028     		cmp	r0, #0
 843:Lib/soes/src/esc_eoe.c ****       {
 1488              		.loc 1 843 9 view .LVU489
 1489 00c2 F6DD     		ble	.L86
 845:Lib/soes/src/esc_eoe.c ****       }
 1490              		.loc 1 845 10 is_stmt 1 view .LVU490
 845:Lib/soes/src/esc_eoe.c ****       }
 1491              		.loc 1 845 29 is_stmt 0 view .LVU491
 1492 00c4 0A4B     		ldr	r3, .L101
 1493 00c6 9862     		str	r0, [r3, #40]
 1494 00c8 9FE7     		b	.L87
 1495              	.LVL123:
 1496              	.L95:
 1497              	.LBB5:
 857:Lib/soes/src/esc_eoe.c ****       if((len_to_send + ESC_EOEHSIZE + ESC_MBXHSIZE) > ESC_MBXSIZE)
 1498              		.loc 1 857 19 view .LVU492
 1499 00ca 0446     		mov	r4, r0
 1500 00cc B0E7     		b	.L89
 1501              	.LVL124:
 1502              	.L99:
 868:Lib/soes/src/esc_eoe.c ****       }
 1503              		.loc 1 868 21 view .LVU493
 1504 00ce 4FF4807C 		mov	ip, #256
 1505 00d2 B1E7     		b	.L90
 1506              	.LVL125:
 1507              	.L91:
 887:Lib/soes/src/esc_eoe.c ****          frameinfo2 |= tempframe2;
 1508              		.loc 1 887 10 is_stmt 1 view .LVU494
 887:Lib/soes/src/esc_eoe.c ****          frameinfo2 |= tempframe2;
 1509              		.loc 1 887 23 is_stmt 0 view .LVU495
 1510 00d4 1F32     		adds	r2, r2, #31
 1511 00d6 5209     		lsrs	r2, r2, #5
 1512 00d8 9201     		lsls	r2, r2, #6
 887:Lib/soes/src/esc_eoe.c ****          frameinfo2 |= tempframe2;
 1513              		.loc 1 887 21 view .LVU496
 1514 00da 02F47C62 		and	r2, r2, #4032
ARM GAS  /tmp/ccJ9SSdb.s 			page 52


 1515              	.LVL126:
 888:Lib/soes/src/esc_eoe.c ****          frameno++;
 1516              		.loc 1 888 10 is_stmt 1 view .LVU497
 888:Lib/soes/src/esc_eoe.c ****          frameno++;
 1517              		.loc 1 888 21 is_stmt 0 view .LVU498
 1518 00de 0243     		orrs	r2, r2, r0
 1519              	.LVL127:
 889:Lib/soes/src/esc_eoe.c ****       }
 1520              		.loc 1 889 10 is_stmt 1 view .LVU499
 889:Lib/soes/src/esc_eoe.c ****       }
 1521              		.loc 1 889 17 is_stmt 0 view .LVU500
 1522 00e0 054E     		ldr	r6, .L101+8
 1523 00e2 3078     		ldrb	r0, [r6]	@ zero_extendqisi2
 1524 00e4 0130     		adds	r0, r0, #1
 1525 00e6 3070     		strb	r0, [r6]
 1526 00e8 B2E7     		b	.L92
 1527              	.LVL128:
 1528              	.L100:
 911:Lib/soes/src/esc_eoe.c ****       }
 1529              		.loc 1 911 10 is_stmt 1 view .LVU501
 1530 00ea FFF7FEFF 		bl	EOE_init_tx
 1531              	.LVL129:
 1532 00ee DBE7     		b	.L94
 1533              	.L102:
 1534              		.align	2
 1535              	.L101:
 1536 00f0 00000000 		.word	.LANCHOR0
 1537 00f4 00000000 		.word	ESCvar
 1538 00f8 00000000 		.word	.LANCHOR3
 1539 00fc 00000000 		.word	MBX
 1540 0100 00000000 		.word	MBXcontrol
 1541 0104 00000000 		.word	.LANCHOR1
 1542 0108 0C000000 		.word	.LANCHOR0+12
 1543              	.LBE5:
 1544              		.cfi_endproc
 1545              	.LFE18:
 1547              		.section	.text.EOE_ecat_get_mac,"ax",%progbits
 1548              		.align	1
 1549              		.global	EOE_ecat_get_mac
 1550              		.syntax unified
 1551              		.thumb
 1552              		.thumb_func
 1553              		.fpu fpv4-sp-d16
 1555              	EOE_ecat_get_mac:
 1556              	.LVL130:
 1557              	.LFB2:
 221:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 1558              		.loc 1 221 1 view -0
 1559              		.cfi_startproc
 1560              		@ args = 0, pretend = 0, frame = 0
 1561              		@ frame_needed = 0, uses_anonymous_args = 0
 1562              		@ link register save eliminated.
 222:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1563              		.loc 1 222 4 view .LVU503
 223:Lib/soes/src/esc_eoe.c **** 
 1564              		.loc 1 223 4 view .LVU504
 225:Lib/soes/src/esc_eoe.c ****    {
ARM GAS  /tmp/ccJ9SSdb.s 			page 53


 1565              		.loc 1 225 4 view .LVU505
 225:Lib/soes/src/esc_eoe.c ****    {
 1566              		.loc 1 225 6 is_stmt 0 view .LVU506
 1567 0000 80B9     		cbnz	r0, .L105
 227:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 1568              		.loc 1 227 7 is_stmt 1 discriminator 4 view .LVU507
 1569              	.LVL131:
 228:Lib/soes/src/esc_eoe.c ****       {
 1570              		.loc 1 228 7 discriminator 4 view .LVU508
 228:Lib/soes/src/esc_eoe.c ****       {
 1571              		.loc 1 228 28 is_stmt 0 discriminator 4 view .LVU509
 1572 0002 0B4B     		ldr	r3, .L107
 1573 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 228:Lib/soes/src/esc_eoe.c ****       {
 1574              		.loc 1 228 9 discriminator 4 view .LVU510
 1575 0006 13F0010F 		tst	r3, #1
 1576 000a 0ED0     		beq	.L106
 230:Lib/soes/src/esc_eoe.c ****                sizeof(nic_ports[port_ix].mac));
 1577              		.loc 1 230 10 is_stmt 1 view .LVU511
 1578 000c 084B     		ldr	r3, .L107
 1579 000e D3F80120 		ldr	r2, [r3, #1]	@ unaligned
 1580 0012 0A60     		str	r2, [r1]	@ unaligned
 1581 0014 B3F80520 		ldrh	r2, [r3, #5]	@ unaligned
 1582 0018 8A80     		strh	r2, [r1, #4]	@ unaligned
 232:Lib/soes/src/esc_eoe.c ****          ret = 0;
 1583              		.loc 1 232 10 view .LVU512
 232:Lib/soes/src/esc_eoe.c ****          ret = 0;
 1584              		.loc 1 232 37 is_stmt 0 view .LVU513
 1585 001a 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 1586 001c 42F00102 		orr	r2, r2, #1
 1587 0020 1A70     		strb	r2, [r3]
 233:Lib/soes/src/esc_eoe.c ****       }
 1588              		.loc 1 233 10 is_stmt 1 view .LVU514
 1589              	.LVL132:
 233:Lib/soes/src/esc_eoe.c ****       }
 1590              		.loc 1 233 10 is_stmt 0 view .LVU515
 1591 0022 7047     		bx	lr
 1592              	.LVL133:
 1593              	.L105:
 222:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1594              		.loc 1 222 8 view .LVU516
 1595 0024 4FF0FF30 		mov	r0, #-1
 1596              	.LVL134:
 222:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1597              		.loc 1 222 8 view .LVU517
 1598 0028 7047     		bx	lr
 1599              	.LVL135:
 1600              	.L106:
 222:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1601              		.loc 1 222 8 view .LVU518
 1602 002a 4FF0FF30 		mov	r0, #-1
 1603              	.LVL136:
 236:Lib/soes/src/esc_eoe.c **** }
 1604              		.loc 1 236 4 is_stmt 1 view .LVU519
 237:Lib/soes/src/esc_eoe.c **** 
 1605              		.loc 1 237 1 is_stmt 0 view .LVU520
 1606 002e 7047     		bx	lr
ARM GAS  /tmp/ccJ9SSdb.s 			page 54


 1607              	.L108:
 1608              		.align	2
 1609              	.L107:
 1610 0030 00000000 		.word	.LANCHOR2
 1611              		.cfi_endproc
 1612              	.LFE2:
 1614              		.section	.text.EOE_ecat_set_mac,"ax",%progbits
 1615              		.align	1
 1616              		.global	EOE_ecat_set_mac
 1617              		.syntax unified
 1618              		.thumb
 1619              		.thumb_func
 1620              		.fpu fpv4-sp-d16
 1622              	EOE_ecat_set_mac:
 1623              	.LVL137:
 1624              	.LFB3:
 246:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 1625              		.loc 1 246 1 is_stmt 1 view -0
 1626              		.cfi_startproc
 1627              		@ args = 0, pretend = 0, frame = 0
 1628              		@ frame_needed = 0, uses_anonymous_args = 0
 1629              		@ link register save eliminated.
 247:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1630              		.loc 1 247 4 view .LVU522
 248:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 1631              		.loc 1 248 4 view .LVU523
 249:Lib/soes/src/esc_eoe.c ****    {
 1632              		.loc 1 249 4 view .LVU524
 249:Lib/soes/src/esc_eoe.c ****    {
 1633              		.loc 1 249 6 is_stmt 0 view .LVU525
 1634 0000 38B9     		cbnz	r0, .L111
 251:Lib/soes/src/esc_eoe.c ****       memcpy(nic_ports[port_ix].mac.addr, mac,
 1635              		.loc 1 251 7 is_stmt 1 discriminator 4 view .LVU526
 1636              	.LVL138:
 252:Lib/soes/src/esc_eoe.c ****             sizeof(nic_ports[port_ix].mac));
 1637              		.loc 1 252 7 discriminator 4 view .LVU527
 1638 0002 054B     		ldr	r3, .L112
 1639 0004 0A68     		ldr	r2, [r1]	@ unaligned
 1640 0006 C3F80120 		str	r2, [r3, #1]	@ unaligned
 1641 000a 8A88     		ldrh	r2, [r1, #4]	@ unaligned
 1642 000c A3F80520 		strh	r2, [r3, #5]	@ unaligned
 254:Lib/soes/src/esc_eoe.c ****    }
 1643              		.loc 1 254 7 discriminator 4 view .LVU528
 1644              	.LVL139:
 254:Lib/soes/src/esc_eoe.c ****    }
 1645              		.loc 1 254 7 is_stmt 0 discriminator 4 view .LVU529
 1646 0010 7047     		bx	lr
 1647              	.LVL140:
 1648              	.L111:
 247:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1649              		.loc 1 247 8 view .LVU530
 1650 0012 4FF0FF30 		mov	r0, #-1
 1651              	.LVL141:
 256:Lib/soes/src/esc_eoe.c **** }
 1652              		.loc 1 256 4 is_stmt 1 view .LVU531
 257:Lib/soes/src/esc_eoe.c **** 
 1653              		.loc 1 257 1 is_stmt 0 view .LVU532
ARM GAS  /tmp/ccJ9SSdb.s 			page 55


 1654 0016 7047     		bx	lr
 1655              	.L113:
 1656              		.align	2
 1657              	.L112:
 1658 0018 00000000 		.word	.LANCHOR2
 1659              		.cfi_endproc
 1660              	.LFE3:
 1662              		.section	.text.EOE_ecat_get_ip,"ax",%progbits
 1663              		.align	1
 1664              		.global	EOE_ecat_get_ip
 1665              		.syntax unified
 1666              		.thumb
 1667              		.thumb_func
 1668              		.fpu fpv4-sp-d16
 1670              	EOE_ecat_get_ip:
 1671              	.LVL142:
 1672              	.LFB4:
 266:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 1673              		.loc 1 266 1 is_stmt 1 view -0
 1674              		.cfi_startproc
 1675              		@ args = 0, pretend = 0, frame = 0
 1676              		@ frame_needed = 0, uses_anonymous_args = 0
 1677              		@ link register save eliminated.
 267:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1678              		.loc 1 267 4 view .LVU534
 268:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 1679              		.loc 1 268 4 view .LVU535
 269:Lib/soes/src/esc_eoe.c ****    {
 1680              		.loc 1 269 4 view .LVU536
 269:Lib/soes/src/esc_eoe.c ****    {
 1681              		.loc 1 269 6 is_stmt 0 view .LVU537
 1682 0000 A0B9     		cbnz	r0, .L116
 271:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].ip_set)
 1683              		.loc 1 271 7 is_stmt 1 discriminator 4 view .LVU538
 1684              	.LVL143:
 272:Lib/soes/src/esc_eoe.c ****       {
 1685              		.loc 1 272 7 discriminator 4 view .LVU539
 272:Lib/soes/src/esc_eoe.c ****       {
 1686              		.loc 1 272 28 is_stmt 0 discriminator 4 view .LVU540
 1687 0002 0D4B     		ldr	r3, .L118
 1688 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 272:Lib/soes/src/esc_eoe.c ****       {
 1689              		.loc 1 272 9 discriminator 4 view .LVU541
 1690 0006 13F0020F 		tst	r3, #2
 1691 000a 12D0     		beq	.L117
 274:Lib/soes/src/esc_eoe.c ****          ret = 0;
 1692              		.loc 1 274 10 is_stmt 1 view .LVU542
 274:Lib/soes/src/esc_eoe.c ****          ret = 0;
 1693              		.loc 1 274 16 is_stmt 0 view .LVU543
 1694 000c 0A4B     		ldr	r3, .L118
 1695 000e 9A68     		ldr	r2, [r3, #8]
 1696 0010 1302     		lsls	r3, r2, #8
 1697 0012 03F47F03 		and	r3, r3, #16711680
 1698 0016 43EA0263 		orr	r3, r3, r2, lsl #24
 1699 001a 100A     		lsrs	r0, r2, #8
 1700              	.LVL144:
 274:Lib/soes/src/esc_eoe.c ****          ret = 0;
ARM GAS  /tmp/ccJ9SSdb.s 			page 56


 1701              		.loc 1 274 16 view .LVU544
 1702 001c 00F47F40 		and	r0, r0, #65280
 1703 0020 0343     		orrs	r3, r3, r0
 1704 0022 43EA1263 		orr	r3, r3, r2, lsr #24
 274:Lib/soes/src/esc_eoe.c ****          ret = 0;
 1705              		.loc 1 274 14 view .LVU545
 1706 0026 0B60     		str	r3, [r1]
 275:Lib/soes/src/esc_eoe.c ****       }
 1707              		.loc 1 275 10 is_stmt 1 view .LVU546
 1708              	.LVL145:
 275:Lib/soes/src/esc_eoe.c ****       }
 1709              		.loc 1 275 14 is_stmt 0 view .LVU547
 1710 0028 0020     		movs	r0, #0
 1711 002a 7047     		bx	lr
 1712              	.LVL146:
 1713              	.L116:
 267:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1714              		.loc 1 267 8 view .LVU548
 1715 002c 4FF0FF30 		mov	r0, #-1
 1716              	.LVL147:
 267:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1717              		.loc 1 267 8 view .LVU549
 1718 0030 7047     		bx	lr
 1719              	.LVL148:
 1720              	.L117:
 267:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1721              		.loc 1 267 8 view .LVU550
 1722 0032 4FF0FF30 		mov	r0, #-1
 1723              	.LVL149:
 278:Lib/soes/src/esc_eoe.c **** }
 1724              		.loc 1 278 4 is_stmt 1 view .LVU551
 279:Lib/soes/src/esc_eoe.c **** 
 1725              		.loc 1 279 1 is_stmt 0 view .LVU552
 1726 0036 7047     		bx	lr
 1727              	.L119:
 1728              		.align	2
 1729              	.L118:
 1730 0038 00000000 		.word	.LANCHOR2
 1731              		.cfi_endproc
 1732              	.LFE4:
 1734              		.section	.text.EOE_ecat_set_ip,"ax",%progbits
 1735              		.align	1
 1736              		.global	EOE_ecat_set_ip
 1737              		.syntax unified
 1738              		.thumb
 1739              		.thumb_func
 1740              		.fpu fpv4-sp-d16
 1742              	EOE_ecat_set_ip:
 1743              	.LVL150:
 1744              	.LFB5:
 288:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 1745              		.loc 1 288 1 is_stmt 1 view -0
 1746              		.cfi_startproc
 1747              		@ args = 0, pretend = 0, frame = 0
 1748              		@ frame_needed = 0, uses_anonymous_args = 0
 1749              		@ link register save eliminated.
 289:Lib/soes/src/esc_eoe.c ****    int port_ix;
ARM GAS  /tmp/ccJ9SSdb.s 			page 57


 1750              		.loc 1 289 4 view .LVU554
 290:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 1751              		.loc 1 290 4 view .LVU555
 291:Lib/soes/src/esc_eoe.c ****    {
 1752              		.loc 1 291 4 view .LVU556
 291:Lib/soes/src/esc_eoe.c ****    {
 1753              		.loc 1 291 6 is_stmt 0 view .LVU557
 1754 0000 88B9     		cbnz	r0, .L122
 293:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].ip.addr = EOE_HTONL(ip);
 1755              		.loc 1 293 7 is_stmt 1 discriminator 4 view .LVU558
 1756              	.LVL151:
 294:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].ip_set = 1;
 1757              		.loc 1 294 7 discriminator 4 view .LVU559
 294:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].ip_set = 1;
 1758              		.loc 1 294 36 is_stmt 0 discriminator 4 view .LVU560
 1759 0002 0B02     		lsls	r3, r1, #8
 1760 0004 03F47F03 		and	r3, r3, #16711680
 1761 0008 43EA0163 		orr	r3, r3, r1, lsl #24
 1762 000c 0A0A     		lsrs	r2, r1, #8
 1763 000e 02F47F42 		and	r2, r2, #65280
 1764 0012 1343     		orrs	r3, r3, r2
 1765 0014 43EA1161 		orr	r1, r3, r1, lsr #24
 1766              	.LVL152:
 294:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].ip_set = 1;
 1767              		.loc 1 294 34 discriminator 4 view .LVU561
 1768 0018 044B     		ldr	r3, .L123
 1769 001a 9960     		str	r1, [r3, #8]
 295:Lib/soes/src/esc_eoe.c ****       ret = 0;
 1770              		.loc 1 295 7 is_stmt 1 discriminator 4 view .LVU562
 295:Lib/soes/src/esc_eoe.c ****       ret = 0;
 1771              		.loc 1 295 33 is_stmt 0 discriminator 4 view .LVU563
 1772 001c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 1773 001e 42F00202 		orr	r2, r2, #2
 1774 0022 1A70     		strb	r2, [r3]
 296:Lib/soes/src/esc_eoe.c ****    }
 1775              		.loc 1 296 7 is_stmt 1 discriminator 4 view .LVU564
 1776              	.LVL153:
 296:Lib/soes/src/esc_eoe.c ****    }
 1777              		.loc 1 296 7 is_stmt 0 discriminator 4 view .LVU565
 1778 0024 7047     		bx	lr
 1779              	.LVL154:
 1780              	.L122:
 289:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1781              		.loc 1 289 8 view .LVU566
 1782 0026 4FF0FF30 		mov	r0, #-1
 1783              	.LVL155:
 298:Lib/soes/src/esc_eoe.c **** }
 1784              		.loc 1 298 4 is_stmt 1 view .LVU567
 299:Lib/soes/src/esc_eoe.c **** 
 1785              		.loc 1 299 1 is_stmt 0 view .LVU568
 1786 002a 7047     		bx	lr
 1787              	.L124:
 1788              		.align	2
 1789              	.L123:
 1790 002c 00000000 		.word	.LANCHOR2
 1791              		.cfi_endproc
 1792              	.LFE5:
ARM GAS  /tmp/ccJ9SSdb.s 			page 58


 1794              		.section	.text.EOE_ecat_get_subnet,"ax",%progbits
 1795              		.align	1
 1796              		.global	EOE_ecat_get_subnet
 1797              		.syntax unified
 1798              		.thumb
 1799              		.thumb_func
 1800              		.fpu fpv4-sp-d16
 1802              	EOE_ecat_get_subnet:
 1803              	.LVL156:
 1804              	.LFB6:
 308:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 1805              		.loc 1 308 1 is_stmt 1 view -0
 1806              		.cfi_startproc
 1807              		@ args = 0, pretend = 0, frame = 0
 1808              		@ frame_needed = 0, uses_anonymous_args = 0
 1809              		@ link register save eliminated.
 309:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1810              		.loc 1 309 4 view .LVU570
 310:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 1811              		.loc 1 310 4 view .LVU571
 311:Lib/soes/src/esc_eoe.c ****    {
 1812              		.loc 1 311 4 view .LVU572
 311:Lib/soes/src/esc_eoe.c ****    {
 1813              		.loc 1 311 6 is_stmt 0 view .LVU573
 1814 0000 A0B9     		cbnz	r0, .L127
 313:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].subnet_set)
 1815              		.loc 1 313 7 is_stmt 1 discriminator 4 view .LVU574
 1816              	.LVL157:
 314:Lib/soes/src/esc_eoe.c ****       {
 1817              		.loc 1 314 7 discriminator 4 view .LVU575
 314:Lib/soes/src/esc_eoe.c ****       {
 1818              		.loc 1 314 28 is_stmt 0 discriminator 4 view .LVU576
 1819 0002 0D4B     		ldr	r3, .L129
 1820 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 314:Lib/soes/src/esc_eoe.c ****       {
 1821              		.loc 1 314 9 discriminator 4 view .LVU577
 1822 0006 13F0040F 		tst	r3, #4
 1823 000a 12D0     		beq	.L128
 316:Lib/soes/src/esc_eoe.c ****          ret = 0;
 1824              		.loc 1 316 10 is_stmt 1 view .LVU578
 316:Lib/soes/src/esc_eoe.c ****          ret = 0;
 1825              		.loc 1 316 20 is_stmt 0 view .LVU579
 1826 000c 0A4B     		ldr	r3, .L129
 1827 000e DA68     		ldr	r2, [r3, #12]
 1828 0010 1302     		lsls	r3, r2, #8
 1829 0012 03F47F03 		and	r3, r3, #16711680
 1830 0016 43EA0263 		orr	r3, r3, r2, lsl #24
 1831 001a 100A     		lsrs	r0, r2, #8
 1832              	.LVL158:
 316:Lib/soes/src/esc_eoe.c ****          ret = 0;
 1833              		.loc 1 316 20 view .LVU580
 1834 001c 00F47F40 		and	r0, r0, #65280
 1835 0020 0343     		orrs	r3, r3, r0
 1836 0022 43EA1263 		orr	r3, r3, r2, lsr #24
 316:Lib/soes/src/esc_eoe.c ****          ret = 0;
 1837              		.loc 1 316 18 view .LVU581
 1838 0026 0B60     		str	r3, [r1]
ARM GAS  /tmp/ccJ9SSdb.s 			page 59


 317:Lib/soes/src/esc_eoe.c ****       }
 1839              		.loc 1 317 10 is_stmt 1 view .LVU582
 1840              	.LVL159:
 317:Lib/soes/src/esc_eoe.c ****       }
 1841              		.loc 1 317 14 is_stmt 0 view .LVU583
 1842 0028 0020     		movs	r0, #0
 1843 002a 7047     		bx	lr
 1844              	.LVL160:
 1845              	.L127:
 309:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1846              		.loc 1 309 8 view .LVU584
 1847 002c 4FF0FF30 		mov	r0, #-1
 1848              	.LVL161:
 309:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1849              		.loc 1 309 8 view .LVU585
 1850 0030 7047     		bx	lr
 1851              	.LVL162:
 1852              	.L128:
 309:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1853              		.loc 1 309 8 view .LVU586
 1854 0032 4FF0FF30 		mov	r0, #-1
 1855              	.LVL163:
 320:Lib/soes/src/esc_eoe.c **** }
 1856              		.loc 1 320 4 is_stmt 1 view .LVU587
 321:Lib/soes/src/esc_eoe.c **** 
 1857              		.loc 1 321 1 is_stmt 0 view .LVU588
 1858 0036 7047     		bx	lr
 1859              	.L130:
 1860              		.align	2
 1861              	.L129:
 1862 0038 00000000 		.word	.LANCHOR2
 1863              		.cfi_endproc
 1864              	.LFE6:
 1866              		.section	.text.EOE_ecat_set_subnet,"ax",%progbits
 1867              		.align	1
 1868              		.global	EOE_ecat_set_subnet
 1869              		.syntax unified
 1870              		.thumb
 1871              		.thumb_func
 1872              		.fpu fpv4-sp-d16
 1874              	EOE_ecat_set_subnet:
 1875              	.LVL164:
 1876              	.LFB7:
 330:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 1877              		.loc 1 330 1 is_stmt 1 view -0
 1878              		.cfi_startproc
 1879              		@ args = 0, pretend = 0, frame = 0
 1880              		@ frame_needed = 0, uses_anonymous_args = 0
 1881              		@ link register save eliminated.
 331:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1882              		.loc 1 331 4 view .LVU590
 332:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 1883              		.loc 1 332 4 view .LVU591
 333:Lib/soes/src/esc_eoe.c ****    {
 1884              		.loc 1 333 4 view .LVU592
 333:Lib/soes/src/esc_eoe.c ****    {
 1885              		.loc 1 333 6 is_stmt 0 view .LVU593
ARM GAS  /tmp/ccJ9SSdb.s 			page 60


 1886 0000 88B9     		cbnz	r0, .L133
 335:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].subnet.addr = EOE_HTONL(subnet);
 1887              		.loc 1 335 7 is_stmt 1 discriminator 4 view .LVU594
 1888              	.LVL165:
 336:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].subnet_set = 1;
 1889              		.loc 1 336 7 discriminator 4 view .LVU595
 336:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].subnet_set = 1;
 1890              		.loc 1 336 40 is_stmt 0 discriminator 4 view .LVU596
 1891 0002 0B02     		lsls	r3, r1, #8
 1892 0004 03F47F03 		and	r3, r3, #16711680
 1893 0008 43EA0163 		orr	r3, r3, r1, lsl #24
 1894 000c 0A0A     		lsrs	r2, r1, #8
 1895 000e 02F47F42 		and	r2, r2, #65280
 1896 0012 1343     		orrs	r3, r3, r2
 1897 0014 43EA1161 		orr	r1, r3, r1, lsr #24
 1898              	.LVL166:
 336:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].subnet_set = 1;
 1899              		.loc 1 336 38 discriminator 4 view .LVU597
 1900 0018 044B     		ldr	r3, .L134
 1901 001a D960     		str	r1, [r3, #12]
 337:Lib/soes/src/esc_eoe.c ****       ret = 0;
 1902              		.loc 1 337 7 is_stmt 1 discriminator 4 view .LVU598
 337:Lib/soes/src/esc_eoe.c ****       ret = 0;
 1903              		.loc 1 337 37 is_stmt 0 discriminator 4 view .LVU599
 1904 001c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 1905 001e 42F00402 		orr	r2, r2, #4
 1906 0022 1A70     		strb	r2, [r3]
 338:Lib/soes/src/esc_eoe.c ****    }
 1907              		.loc 1 338 7 is_stmt 1 discriminator 4 view .LVU600
 1908              	.LVL167:
 338:Lib/soes/src/esc_eoe.c ****    }
 1909              		.loc 1 338 7 is_stmt 0 discriminator 4 view .LVU601
 1910 0024 7047     		bx	lr
 1911              	.LVL168:
 1912              	.L133:
 331:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1913              		.loc 1 331 8 view .LVU602
 1914 0026 4FF0FF30 		mov	r0, #-1
 1915              	.LVL169:
 340:Lib/soes/src/esc_eoe.c **** }
 1916              		.loc 1 340 4 is_stmt 1 view .LVU603
 341:Lib/soes/src/esc_eoe.c **** 
 1917              		.loc 1 341 1 is_stmt 0 view .LVU604
 1918 002a 7047     		bx	lr
 1919              	.L135:
 1920              		.align	2
 1921              	.L134:
 1922 002c 00000000 		.word	.LANCHOR2
 1923              		.cfi_endproc
 1924              	.LFE7:
 1926              		.section	.text.EOE_ecat_get_gateway,"ax",%progbits
 1927              		.align	1
 1928              		.global	EOE_ecat_get_gateway
 1929              		.syntax unified
 1930              		.thumb
 1931              		.thumb_func
 1932              		.fpu fpv4-sp-d16
ARM GAS  /tmp/ccJ9SSdb.s 			page 61


 1934              	EOE_ecat_get_gateway:
 1935              	.LVL170:
 1936              	.LFB8:
 350:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 1937              		.loc 1 350 1 is_stmt 1 view -0
 1938              		.cfi_startproc
 1939              		@ args = 0, pretend = 0, frame = 0
 1940              		@ frame_needed = 0, uses_anonymous_args = 0
 1941              		@ link register save eliminated.
 351:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1942              		.loc 1 351 4 view .LVU606
 352:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 1943              		.loc 1 352 4 view .LVU607
 353:Lib/soes/src/esc_eoe.c ****    {
 1944              		.loc 1 353 4 view .LVU608
 353:Lib/soes/src/esc_eoe.c ****    {
 1945              		.loc 1 353 6 is_stmt 0 view .LVU609
 1946 0000 A0B9     		cbnz	r0, .L138
 355:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].default_gateway_set)
 1947              		.loc 1 355 7 is_stmt 1 discriminator 4 view .LVU610
 1948              	.LVL171:
 356:Lib/soes/src/esc_eoe.c ****       {
 1949              		.loc 1 356 7 discriminator 4 view .LVU611
 356:Lib/soes/src/esc_eoe.c ****       {
 1950              		.loc 1 356 28 is_stmt 0 discriminator 4 view .LVU612
 1951 0002 0D4B     		ldr	r3, .L140
 1952 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 356:Lib/soes/src/esc_eoe.c ****       {
 1953              		.loc 1 356 9 discriminator 4 view .LVU613
 1954 0006 13F0080F 		tst	r3, #8
 1955 000a 12D0     		beq	.L139
 358:Lib/soes/src/esc_eoe.c ****                EOE_NTOHL(nic_ports[port_ix].default_gateway.addr);
 1956              		.loc 1 358 10 is_stmt 1 view .LVU614
 359:Lib/soes/src/esc_eoe.c ****          ret = 0;
 1957              		.loc 1 359 16 is_stmt 0 view .LVU615
 1958 000c 0A4B     		ldr	r3, .L140
 1959 000e 1A69     		ldr	r2, [r3, #16]
 1960 0010 1302     		lsls	r3, r2, #8
 1961 0012 03F47F03 		and	r3, r3, #16711680
 1962 0016 43EA0263 		orr	r3, r3, r2, lsl #24
 1963 001a 100A     		lsrs	r0, r2, #8
 1964              	.LVL172:
 359:Lib/soes/src/esc_eoe.c ****          ret = 0;
 1965              		.loc 1 359 16 view .LVU616
 1966 001c 00F47F40 		and	r0, r0, #65280
 1967 0020 0343     		orrs	r3, r3, r0
 1968 0022 43EA1263 		orr	r3, r3, r2, lsr #24
 358:Lib/soes/src/esc_eoe.c ****                EOE_NTOHL(nic_ports[port_ix].default_gateway.addr);
 1969              		.loc 1 358 27 view .LVU617
 1970 0026 0B60     		str	r3, [r1]
 360:Lib/soes/src/esc_eoe.c ****       }
 1971              		.loc 1 360 10 is_stmt 1 view .LVU618
 1972              	.LVL173:
 360:Lib/soes/src/esc_eoe.c ****       }
 1973              		.loc 1 360 14 is_stmt 0 view .LVU619
 1974 0028 0020     		movs	r0, #0
 1975 002a 7047     		bx	lr
ARM GAS  /tmp/ccJ9SSdb.s 			page 62


 1976              	.LVL174:
 1977              	.L138:
 351:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1978              		.loc 1 351 8 view .LVU620
 1979 002c 4FF0FF30 		mov	r0, #-1
 1980              	.LVL175:
 351:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1981              		.loc 1 351 8 view .LVU621
 1982 0030 7047     		bx	lr
 1983              	.LVL176:
 1984              	.L139:
 351:Lib/soes/src/esc_eoe.c ****    int port_ix;
 1985              		.loc 1 351 8 view .LVU622
 1986 0032 4FF0FF30 		mov	r0, #-1
 1987              	.LVL177:
 363:Lib/soes/src/esc_eoe.c **** }
 1988              		.loc 1 363 4 is_stmt 1 view .LVU623
 364:Lib/soes/src/esc_eoe.c **** 
 1989              		.loc 1 364 1 is_stmt 0 view .LVU624
 1990 0036 7047     		bx	lr
 1991              	.L141:
 1992              		.align	2
 1993              	.L140:
 1994 0038 00000000 		.word	.LANCHOR2
 1995              		.cfi_endproc
 1996              	.LFE8:
 1998              		.section	.text.EOE_ecat_set_gateway,"ax",%progbits
 1999              		.align	1
 2000              		.global	EOE_ecat_set_gateway
 2001              		.syntax unified
 2002              		.thumb
 2003              		.thumb_func
 2004              		.fpu fpv4-sp-d16
 2006              	EOE_ecat_set_gateway:
 2007              	.LVL178:
 2008              	.LFB9:
 373:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 2009              		.loc 1 373 1 is_stmt 1 view -0
 2010              		.cfi_startproc
 2011              		@ args = 0, pretend = 0, frame = 0
 2012              		@ frame_needed = 0, uses_anonymous_args = 0
 2013              		@ link register save eliminated.
 374:Lib/soes/src/esc_eoe.c ****    int port_ix;
 2014              		.loc 1 374 4 view .LVU626
 375:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 2015              		.loc 1 375 4 view .LVU627
 376:Lib/soes/src/esc_eoe.c ****    {
 2016              		.loc 1 376 4 view .LVU628
 376:Lib/soes/src/esc_eoe.c ****    {
 2017              		.loc 1 376 6 is_stmt 0 view .LVU629
 2018 0000 88B9     		cbnz	r0, .L144
 378:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].default_gateway.addr =
 2019              		.loc 1 378 7 is_stmt 1 discriminator 4 view .LVU630
 2020              	.LVL179:
 379:Lib/soes/src/esc_eoe.c ****             EOE_HTONL(default_gateway);
 2021              		.loc 1 379 7 discriminator 4 view .LVU631
 380:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].default_gateway_set = 1;
ARM GAS  /tmp/ccJ9SSdb.s 			page 63


 2022              		.loc 1 380 13 is_stmt 0 discriminator 4 view .LVU632
 2023 0002 0B02     		lsls	r3, r1, #8
 2024 0004 03F47F03 		and	r3, r3, #16711680
 2025 0008 43EA0163 		orr	r3, r3, r1, lsl #24
 2026 000c 0A0A     		lsrs	r2, r1, #8
 2027 000e 02F47F42 		and	r2, r2, #65280
 2028 0012 1343     		orrs	r3, r3, r2
 2029 0014 43EA1161 		orr	r1, r3, r1, lsr #24
 2030              	.LVL180:
 379:Lib/soes/src/esc_eoe.c ****             EOE_HTONL(default_gateway);
 2031              		.loc 1 379 47 discriminator 4 view .LVU633
 2032 0018 044B     		ldr	r3, .L145
 2033 001a 1961     		str	r1, [r3, #16]
 381:Lib/soes/src/esc_eoe.c ****       ret = 0;
 2034              		.loc 1 381 7 is_stmt 1 discriminator 4 view .LVU634
 381:Lib/soes/src/esc_eoe.c ****       ret = 0;
 2035              		.loc 1 381 46 is_stmt 0 discriminator 4 view .LVU635
 2036 001c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2037 001e 42F00802 		orr	r2, r2, #8
 2038 0022 1A70     		strb	r2, [r3]
 382:Lib/soes/src/esc_eoe.c ****    }
 2039              		.loc 1 382 7 is_stmt 1 discriminator 4 view .LVU636
 2040              	.LVL181:
 382:Lib/soes/src/esc_eoe.c ****    }
 2041              		.loc 1 382 7 is_stmt 0 discriminator 4 view .LVU637
 2042 0024 7047     		bx	lr
 2043              	.LVL182:
 2044              	.L144:
 374:Lib/soes/src/esc_eoe.c ****    int port_ix;
 2045              		.loc 1 374 8 view .LVU638
 2046 0026 4FF0FF30 		mov	r0, #-1
 2047              	.LVL183:
 384:Lib/soes/src/esc_eoe.c **** }
 2048              		.loc 1 384 4 is_stmt 1 view .LVU639
 385:Lib/soes/src/esc_eoe.c **** 
 2049              		.loc 1 385 1 is_stmt 0 view .LVU640
 2050 002a 7047     		bx	lr
 2051              	.L146:
 2052              		.align	2
 2053              	.L145:
 2054 002c 00000000 		.word	.LANCHOR2
 2055              		.cfi_endproc
 2056              	.LFE9:
 2058              		.section	.text.EOE_ecat_get_dns_ip,"ax",%progbits
 2059              		.align	1
 2060              		.global	EOE_ecat_get_dns_ip
 2061              		.syntax unified
 2062              		.thumb
 2063              		.thumb_func
 2064              		.fpu fpv4-sp-d16
 2066              	EOE_ecat_get_dns_ip:
 2067              	.LVL184:
 2068              	.LFB10:
 394:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 2069              		.loc 1 394 1 is_stmt 1 view -0
 2070              		.cfi_startproc
 2071              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccJ9SSdb.s 			page 64


 2072              		@ frame_needed = 0, uses_anonymous_args = 0
 2073              		@ link register save eliminated.
 395:Lib/soes/src/esc_eoe.c ****    int port_ix;
 2074              		.loc 1 395 4 view .LVU642
 396:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 2075              		.loc 1 396 4 view .LVU643
 397:Lib/soes/src/esc_eoe.c ****    {
 2076              		.loc 1 397 4 view .LVU644
 397:Lib/soes/src/esc_eoe.c ****    {
 2077              		.loc 1 397 6 is_stmt 0 view .LVU645
 2078 0000 A0B9     		cbnz	r0, .L149
 399:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].dns_ip_set)
 2079              		.loc 1 399 7 is_stmt 1 discriminator 4 view .LVU646
 2080              	.LVL185:
 400:Lib/soes/src/esc_eoe.c ****       {
 2081              		.loc 1 400 7 discriminator 4 view .LVU647
 400:Lib/soes/src/esc_eoe.c ****       {
 2082              		.loc 1 400 28 is_stmt 0 discriminator 4 view .LVU648
 2083 0002 0D4B     		ldr	r3, .L151
 2084 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 400:Lib/soes/src/esc_eoe.c ****       {
 2085              		.loc 1 400 9 discriminator 4 view .LVU649
 2086 0006 13F0100F 		tst	r3, #16
 2087 000a 12D0     		beq	.L150
 402:Lib/soes/src/esc_eoe.c ****          ret = 0;
 2088              		.loc 1 402 10 is_stmt 1 view .LVU650
 402:Lib/soes/src/esc_eoe.c ****          ret = 0;
 2089              		.loc 1 402 20 is_stmt 0 view .LVU651
 2090 000c 0A4B     		ldr	r3, .L151
 2091 000e 5A69     		ldr	r2, [r3, #20]
 2092 0010 1302     		lsls	r3, r2, #8
 2093 0012 03F47F03 		and	r3, r3, #16711680
 2094 0016 43EA0263 		orr	r3, r3, r2, lsl #24
 2095 001a 100A     		lsrs	r0, r2, #8
 2096              	.LVL186:
 402:Lib/soes/src/esc_eoe.c ****          ret = 0;
 2097              		.loc 1 402 20 view .LVU652
 2098 001c 00F47F40 		and	r0, r0, #65280
 2099 0020 0343     		orrs	r3, r3, r0
 2100 0022 43EA1263 		orr	r3, r3, r2, lsr #24
 402:Lib/soes/src/esc_eoe.c ****          ret = 0;
 2101              		.loc 1 402 18 view .LVU653
 2102 0026 0B60     		str	r3, [r1]
 403:Lib/soes/src/esc_eoe.c ****       }
 2103              		.loc 1 403 10 is_stmt 1 view .LVU654
 2104              	.LVL187:
 403:Lib/soes/src/esc_eoe.c ****       }
 2105              		.loc 1 403 14 is_stmt 0 view .LVU655
 2106 0028 0020     		movs	r0, #0
 2107 002a 7047     		bx	lr
 2108              	.LVL188:
 2109              	.L149:
 395:Lib/soes/src/esc_eoe.c ****    int port_ix;
 2110              		.loc 1 395 8 view .LVU656
 2111 002c 4FF0FF30 		mov	r0, #-1
 2112              	.LVL189:
 395:Lib/soes/src/esc_eoe.c ****    int port_ix;
ARM GAS  /tmp/ccJ9SSdb.s 			page 65


 2113              		.loc 1 395 8 view .LVU657
 2114 0030 7047     		bx	lr
 2115              	.LVL190:
 2116              	.L150:
 395:Lib/soes/src/esc_eoe.c ****    int port_ix;
 2117              		.loc 1 395 8 view .LVU658
 2118 0032 4FF0FF30 		mov	r0, #-1
 2119              	.LVL191:
 406:Lib/soes/src/esc_eoe.c **** }
 2120              		.loc 1 406 4 is_stmt 1 view .LVU659
 407:Lib/soes/src/esc_eoe.c **** 
 2121              		.loc 1 407 1 is_stmt 0 view .LVU660
 2122 0036 7047     		bx	lr
 2123              	.L152:
 2124              		.align	2
 2125              	.L151:
 2126 0038 00000000 		.word	.LANCHOR2
 2127              		.cfi_endproc
 2128              	.LFE10:
 2130              		.section	.text.EOE_ecat_set_dns_ip,"ax",%progbits
 2131              		.align	1
 2132              		.global	EOE_ecat_set_dns_ip
 2133              		.syntax unified
 2134              		.thumb
 2135              		.thumb_func
 2136              		.fpu fpv4-sp-d16
 2138              	EOE_ecat_set_dns_ip:
 2139              	.LVL192:
 2140              	.LFB11:
 416:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 2141              		.loc 1 416 1 is_stmt 1 view -0
 2142              		.cfi_startproc
 2143              		@ args = 0, pretend = 0, frame = 0
 2144              		@ frame_needed = 0, uses_anonymous_args = 0
 2145              		@ link register save eliminated.
 417:Lib/soes/src/esc_eoe.c ****    int port_ix;
 2146              		.loc 1 417 4 view .LVU662
 418:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 2147              		.loc 1 418 4 view .LVU663
 419:Lib/soes/src/esc_eoe.c ****    {
 2148              		.loc 1 419 4 view .LVU664
 419:Lib/soes/src/esc_eoe.c ****    {
 2149              		.loc 1 419 6 is_stmt 0 view .LVU665
 2150 0000 88B9     		cbnz	r0, .L155
 421:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].dns_ip.addr = EOE_HTONL(dns_ip);
 2151              		.loc 1 421 7 is_stmt 1 discriminator 4 view .LVU666
 2152              	.LVL193:
 422:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].dns_ip_set = 1;
 2153              		.loc 1 422 7 discriminator 4 view .LVU667
 422:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].dns_ip_set = 1;
 2154              		.loc 1 422 40 is_stmt 0 discriminator 4 view .LVU668
 2155 0002 0B02     		lsls	r3, r1, #8
 2156 0004 03F47F03 		and	r3, r3, #16711680
 2157 0008 43EA0163 		orr	r3, r3, r1, lsl #24
 2158 000c 0A0A     		lsrs	r2, r1, #8
 2159 000e 02F47F42 		and	r2, r2, #65280
 2160 0012 1343     		orrs	r3, r3, r2
ARM GAS  /tmp/ccJ9SSdb.s 			page 66


 2161 0014 43EA1161 		orr	r1, r3, r1, lsr #24
 2162              	.LVL194:
 422:Lib/soes/src/esc_eoe.c ****       nic_ports[port_ix].dns_ip_set = 1;
 2163              		.loc 1 422 38 discriminator 4 view .LVU669
 2164 0018 044B     		ldr	r3, .L156
 2165 001a 5961     		str	r1, [r3, #20]
 423:Lib/soes/src/esc_eoe.c ****       ret = 0;
 2166              		.loc 1 423 7 is_stmt 1 discriminator 4 view .LVU670
 423:Lib/soes/src/esc_eoe.c ****       ret = 0;
 2167              		.loc 1 423 37 is_stmt 0 discriminator 4 view .LVU671
 2168 001c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2169 001e 42F01002 		orr	r2, r2, #16
 2170 0022 1A70     		strb	r2, [r3]
 424:Lib/soes/src/esc_eoe.c ****    }
 2171              		.loc 1 424 7 is_stmt 1 discriminator 4 view .LVU672
 2172              	.LVL195:
 424:Lib/soes/src/esc_eoe.c ****    }
 2173              		.loc 1 424 7 is_stmt 0 discriminator 4 view .LVU673
 2174 0024 7047     		bx	lr
 2175              	.LVL196:
 2176              	.L155:
 417:Lib/soes/src/esc_eoe.c ****    int port_ix;
 2177              		.loc 1 417 8 view .LVU674
 2178 0026 4FF0FF30 		mov	r0, #-1
 2179              	.LVL197:
 426:Lib/soes/src/esc_eoe.c **** }
 2180              		.loc 1 426 4 is_stmt 1 view .LVU675
 427:Lib/soes/src/esc_eoe.c **** 
 2181              		.loc 1 427 1 is_stmt 0 view .LVU676
 2182 002a 7047     		bx	lr
 2183              	.L157:
 2184              		.align	2
 2185              	.L156:
 2186 002c 00000000 		.word	.LANCHOR2
 2187              		.cfi_endproc
 2188              	.LFE11:
 2190              		.section	.text.EOE_ecat_get_dns_name,"ax",%progbits
 2191              		.align	1
 2192              		.global	EOE_ecat_get_dns_name
 2193              		.syntax unified
 2194              		.thumb
 2195              		.thumb_func
 2196              		.fpu fpv4-sp-d16
 2198              	EOE_ecat_get_dns_name:
 2199              	.LVL198:
 2200              	.LFB12:
 436:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 2201              		.loc 1 436 1 is_stmt 1 view -0
 2202              		.cfi_startproc
 2203              		@ args = 0, pretend = 0, frame = 0
 2204              		@ frame_needed = 0, uses_anonymous_args = 0
 2205              		@ link register save eliminated.
 437:Lib/soes/src/esc_eoe.c ****    int port_ix;
 2206              		.loc 1 437 4 view .LVU678
 438:Lib/soes/src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 2207              		.loc 1 438 4 view .LVU679
 439:Lib/soes/src/esc_eoe.c ****    {
ARM GAS  /tmp/ccJ9SSdb.s 			page 67


 2208              		.loc 1 439 4 view .LVU680
 439:Lib/soes/src/esc_eoe.c ****    {
 2209              		.loc 1 439 6 is_stmt 0 view .LVU681
 2210 0000 E8B9     		cbnz	r0, .L160
 2211 0002 8C46     		mov	ip, r1
 441:Lib/soes/src/esc_eoe.c ****       if(nic_ports[port_ix].dns_name_set)
 2212              		.loc 1 441 7 is_stmt 1 discriminator 4 view .LVU682
 2213              	.LVL199:
 442:Lib/soes/src/esc_eoe.c ****       {
 2214              		.loc 1 442 7 discriminator 4 view .LVU683
 442:Lib/soes/src/esc_eoe.c ****       {
 2215              		.loc 1 442 28 is_stmt 0 discriminator 4 view .LVU684
 2216 0004 114B     		ldr	r3, .L166
 2217 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 442:Lib/soes/src/esc_eoe.c ****       {
 2218              		.loc 1 442 9 discriminator 4 view .LVU685
 2219 0008 13F0200F 		tst	r3, #32
 2220 000c 1AD0     		beq	.L161
 436:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 2221              		.loc 1 436 1 view .LVU686
 2222 000e 10B4     		push	{r4}
 2223              		.cfi_def_cfa_offset 4
 2224              		.cfi_offset 4, -4
 444:Lib/soes/src/esc_eoe.c ****                nic_ports[port_ix].dns_name,
 2225              		.loc 1 444 10 is_stmt 1 view .LVU687
 2226 0010 0F4C     		ldr	r4, .L166+4
 2227 0012 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 2228              	.LVL200:
 444:Lib/soes/src/esc_eoe.c ****                nic_ports[port_ix].dns_name,
 2229              		.loc 1 444 10 is_stmt 0 view .LVU688
 2230 0014 CCF80000 		str	r0, [ip]	@ unaligned
 2231 0018 CCF80410 		str	r1, [ip, #4]	@ unaligned
 2232 001c CCF80820 		str	r2, [ip, #8]	@ unaligned
 2233 0020 CCF80C30 		str	r3, [ip, #12]	@ unaligned
 2234 0024 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 2235 0026 CCF81000 		str	r0, [ip, #16]	@ unaligned
 2236 002a CCF81410 		str	r1, [ip, #20]	@ unaligned
 2237 002e CCF81820 		str	r2, [ip, #24]	@ unaligned
 2238 0032 CCF81C30 		str	r3, [ip, #28]	@ unaligned
 447:Lib/soes/src/esc_eoe.c ****       }
 2239              		.loc 1 447 10 is_stmt 1 view .LVU689
 2240              	.LVL201:
 447:Lib/soes/src/esc_eoe.c ****       }
 2241              		.loc 1 447 14 is_stmt 0 view .LVU690
 2242 0036 0020     		movs	r0, #0
 451:Lib/soes/src/esc_eoe.c **** 
 2243              		.loc 1 451 1 view .LVU691
 2244 0038 5DF8044B 		ldr	r4, [sp], #4
 2245              		.cfi_restore 4
 2246              		.cfi_def_cfa_offset 0
 2247 003c 7047     		bx	lr
 2248              	.LVL202:
 2249              	.L160:
 437:Lib/soes/src/esc_eoe.c ****    int port_ix;
 2250              		.loc 1 437 8 view .LVU692
 2251 003e 4FF0FF30 		mov	r0, #-1
 2252              	.LVL203:
ARM GAS  /tmp/ccJ9SSdb.s 			page 68


 437:Lib/soes/src/esc_eoe.c ****    int port_ix;
 2253              		.loc 1 437 8 view .LVU693
 2254 0042 7047     		bx	lr
 2255              	.LVL204:
 2256              	.L161:
 437:Lib/soes/src/esc_eoe.c ****    int port_ix;
 2257              		.loc 1 437 8 view .LVU694
 2258 0044 4FF0FF30 		mov	r0, #-1
 2259              	.LVL205:
 450:Lib/soes/src/esc_eoe.c **** }
 2260              		.loc 1 450 4 is_stmt 1 view .LVU695
 451:Lib/soes/src/esc_eoe.c **** 
 2261              		.loc 1 451 1 is_stmt 0 view .LVU696
 2262 0048 7047     		bx	lr
 2263              	.L167:
 2264 004a 00BF     		.align	2
 2265              	.L166:
 2266 004c 00000000 		.word	.LANCHOR2
 2267 0050 18000000 		.word	.LANCHOR2+24
 2268              		.cfi_endproc
 2269              	.LFE12:
 2271              		.section	.text.EOE_ecat_set_dns_name,"ax",%progbits
 2272              		.align	1
 2273              		.global	EOE_ecat_set_dns_name
 2274              		.syntax unified
 2275              		.thumb
 2276              		.thumb_func
 2277              		.fpu fpv4-sp-d16
 2279              	EOE_ecat_set_dns_name:
 2280              	.LVL206:
 2281              	.LFB13:
 460:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 2282              		.loc 1 460 1 is_stmt 1 view -0
 2283              		.cfi_startproc
 2284              		@ args = 0, pretend = 0, frame = 0
 2285              		@ frame_needed = 0, uses_anonymous_args = 0
 461:Lib/soes/src/esc_eoe.c ****    int port_ix;
 2286              		.loc 1 461 4 view .LVU698
 462:Lib/soes/src/esc_eoe.c **** 
 2287              		.loc 1 462 4 view .LVU699
 464:Lib/soes/src/esc_eoe.c ****    {
 2288              		.loc 1 464 4 view .LVU700
 464:Lib/soes/src/esc_eoe.c ****    {
 2289              		.loc 1 464 6 is_stmt 0 view .LVU701
 2290 0000 E0B9     		cbnz	r0, .L170
 460:Lib/soes/src/esc_eoe.c ****    int ret = -1;
 2291              		.loc 1 460 1 discriminator 4 view .LVU702
 2292 0002 10B5     		push	{r4, lr}
 2293              		.cfi_def_cfa_offset 8
 2294              		.cfi_offset 4, -8
 2295              		.cfi_offset 14, -4
 2296 0004 8E46     		mov	lr, r1
 466:Lib/soes/src/esc_eoe.c ****       memcpy(nic_ports[port_ix].dns_name,
 2297              		.loc 1 466 7 is_stmt 1 discriminator 4 view .LVU703
 2298              	.LVL207:
 467:Lib/soes/src/esc_eoe.c ****             dns_name,
 2299              		.loc 1 467 7 discriminator 4 view .LVU704
ARM GAS  /tmp/ccJ9SSdb.s 			page 69


 2300 0006 0F4C     		ldr	r4, .L175
 2301 0008 04F1180C 		add	ip, r4, #24
 2302 000c 0868     		ldr	r0, [r1]	@ unaligned
 2303              	.LVL208:
 467:Lib/soes/src/esc_eoe.c ****             dns_name,
 2304              		.loc 1 467 7 is_stmt 0 discriminator 4 view .LVU705
 2305 000e 4968     		ldr	r1, [r1, #4]	@ unaligned
 2306              	.LVL209:
 467:Lib/soes/src/esc_eoe.c ****             dns_name,
 2307              		.loc 1 467 7 discriminator 4 view .LVU706
 2308 0010 DEF80820 		ldr	r2, [lr, #8]	@ unaligned
 2309 0014 DEF80C30 		ldr	r3, [lr, #12]	@ unaligned
 2310 0018 ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 2311 001c DEF81000 		ldr	r0, [lr, #16]	@ unaligned
 2312 0020 DEF81410 		ldr	r1, [lr, #20]	@ unaligned
 2313 0024 DEF81820 		ldr	r2, [lr, #24]	@ unaligned
 2314 0028 DEF81C30 		ldr	r3, [lr, #28]	@ unaligned
 2315 002c ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 470:Lib/soes/src/esc_eoe.c ****       ret = 0;
 2316              		.loc 1 470 7 is_stmt 1 discriminator 4 view .LVU707
 470:Lib/soes/src/esc_eoe.c ****       ret = 0;
 2317              		.loc 1 470 39 is_stmt 0 discriminator 4 view .LVU708
 2318 0030 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 2319 0032 43F02003 		orr	r3, r3, #32
 2320 0036 2370     		strb	r3, [r4]
 471:Lib/soes/src/esc_eoe.c ****    }
 2321              		.loc 1 471 7 is_stmt 1 discriminator 4 view .LVU709
 2322              	.LVL210:
 471:Lib/soes/src/esc_eoe.c ****    }
 2323              		.loc 1 471 11 is_stmt 0 discriminator 4 view .LVU710
 2324 0038 0020     		movs	r0, #0
 474:Lib/soes/src/esc_eoe.c **** 
 2325              		.loc 1 474 1 discriminator 4 view .LVU711
 2326 003a 10BD     		pop	{r4, pc}
 2327              	.LVL211:
 2328              	.L170:
 2329              		.cfi_def_cfa_offset 0
 2330              		.cfi_restore 4
 2331              		.cfi_restore 14
 461:Lib/soes/src/esc_eoe.c ****    int port_ix;
 2332              		.loc 1 461 8 view .LVU712
 2333 003c 4FF0FF30 		mov	r0, #-1
 2334              	.LVL212:
 473:Lib/soes/src/esc_eoe.c **** }
 2335              		.loc 1 473 4 is_stmt 1 view .LVU713
 474:Lib/soes/src/esc_eoe.c **** 
 2336              		.loc 1 474 1 is_stmt 0 view .LVU714
 2337 0040 7047     		bx	lr
 2338              	.L176:
 2339 0042 00BF     		.align	2
 2340              	.L175:
 2341 0044 00000000 		.word	.LANCHOR2
 2342              		.cfi_endproc
 2343              	.LFE13:
 2345              		.section	.text.EOE_init,"ax",%progbits
 2346              		.align	1
 2347              		.global	EOE_init
ARM GAS  /tmp/ccJ9SSdb.s 			page 70


 2348              		.syntax unified
 2349              		.thumb
 2350              		.thumb_func
 2351              		.fpu fpv4-sp-d16
 2353              	EOE_init:
 2354              	.LFB21:
 967:Lib/soes/src/esc_eoe.c **** 
 968:Lib/soes/src/esc_eoe.c **** /** Initialize by clearing all current status variables.
 969:Lib/soes/src/esc_eoe.c ****  */
 970:Lib/soes/src/esc_eoe.c **** void EOE_init ()
 971:Lib/soes/src/esc_eoe.c **** {
 2355              		.loc 1 971 1 is_stmt 1 view -0
 2356              		.cfi_startproc
 2357              		@ args = 0, pretend = 0, frame = 0
 2358              		@ frame_needed = 0, uses_anonymous_args = 0
 2359 0000 08B5     		push	{r3, lr}
 2360              		.cfi_def_cfa_offset 8
 2361              		.cfi_offset 3, -8
 2362              		.cfi_offset 14, -4
 972:Lib/soes/src/esc_eoe.c ****    DPRINT("EOE_init\n");
 2363              		.loc 1 972 24 view .LVU716
 973:Lib/soes/src/esc_eoe.c ****    EOE_init_tx ();
 2364              		.loc 1 973 4 view .LVU717
 2365 0002 FFF7FEFF 		bl	EOE_init_tx
 2366              	.LVL213:
 974:Lib/soes/src/esc_eoe.c ****    EOE_init_rx ();
 2367              		.loc 1 974 4 view .LVU718
 2368 0006 FFF7FEFF 		bl	EOE_init_rx
 2369              	.LVL214:
 975:Lib/soes/src/esc_eoe.c **** }
 2370              		.loc 1 975 1 is_stmt 0 view .LVU719
 2371 000a 08BD     		pop	{r3, pc}
 2372              		.cfi_endproc
 2373              	.LFE21:
 2375              		.section	.text.EOE_config,"ax",%progbits
 2376              		.align	1
 2377              		.global	EOE_config
 2378              		.syntax unified
 2379              		.thumb
 2380              		.thumb_func
 2381              		.fpu fpv4-sp-d16
 2383              	EOE_config:
 2384              	.LVL215:
 2385              	.LFB22:
 976:Lib/soes/src/esc_eoe.c **** 
 977:Lib/soes/src/esc_eoe.c **** /** Function copying the application configuration variable
 978:Lib/soes/src/esc_eoe.c ****  * to the EoE module local pointer variable.
 979:Lib/soes/src/esc_eoe.c ****  *
 980:Lib/soes/src/esc_eoe.c ****  * @param[in] cfg       = Pointer to by the Application static declared
 981:Lib/soes/src/esc_eoe.c ****  * configuration variable holding application specific details.
 982:Lib/soes/src/esc_eoe.c ****  */
 983:Lib/soes/src/esc_eoe.c **** void EOE_config (eoe_cfg_t * cfg)
 984:Lib/soes/src/esc_eoe.c **** {
 2386              		.loc 1 984 1 is_stmt 1 view -0
 2387              		.cfi_startproc
 2388              		@ args = 0, pretend = 0, frame = 0
 2389              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccJ9SSdb.s 			page 71


 2390              		@ link register save eliminated.
 985:Lib/soes/src/esc_eoe.c ****    eoe_cfg = cfg;
 2391              		.loc 1 985 4 view .LVU721
 2392              		.loc 1 985 12 is_stmt 0 view .LVU722
 2393 0000 014B     		ldr	r3, .L180
 2394 0002 1860     		str	r0, [r3]
 986:Lib/soes/src/esc_eoe.c **** }
 2395              		.loc 1 986 1 view .LVU723
 2396 0004 7047     		bx	lr
 2397              	.L181:
 2398 0006 00BF     		.align	2
 2399              	.L180:
 2400 0008 00000000 		.word	.LANCHOR1
 2401              		.cfi_endproc
 2402              	.LFE22:
 2404              		.section	.text.ESC_eoeprocess,"ax",%progbits
 2405              		.align	1
 2406              		.global	ESC_eoeprocess
 2407              		.syntax unified
 2408              		.thumb
 2409              		.thumb_func
 2410              		.fpu fpv4-sp-d16
 2412              	ESC_eoeprocess:
 2413              	.LFB23:
 987:Lib/soes/src/esc_eoe.c **** 
 988:Lib/soes/src/esc_eoe.c **** /** Main EoE receive function checking the status on current mailbox buffers
 989:Lib/soes/src/esc_eoe.c ****  * carrying data, distributing the mailboxes to appropriate EOE functions
 990:Lib/soes/src/esc_eoe.c ****  * depending on requested frametype.
 991:Lib/soes/src/esc_eoe.c ****  */
 992:Lib/soes/src/esc_eoe.c **** void ESC_eoeprocess (void)
 993:Lib/soes/src/esc_eoe.c **** {
 2414              		.loc 1 993 1 is_stmt 1 view -0
 2415              		.cfi_startproc
 2416              		@ args = 0, pretend = 0, frame = 0
 2417              		@ frame_needed = 0, uses_anonymous_args = 0
 2418 0000 08B5     		push	{r3, lr}
 2419              		.cfi_def_cfa_offset 8
 2420              		.cfi_offset 3, -8
 2421              		.cfi_offset 14, -4
 994:Lib/soes/src/esc_eoe.c ****    _MBXh *mbh;
 2422              		.loc 1 994 4 view .LVU725
 995:Lib/soes/src/esc_eoe.c ****    _EOE *eoembx;
 2423              		.loc 1 995 4 view .LVU726
 996:Lib/soes/src/esc_eoe.c ****    uint16_t frameinfo1;
 2424              		.loc 1 996 4 view .LVU727
 997:Lib/soes/src/esc_eoe.c **** 
 998:Lib/soes/src/esc_eoe.c ****    if (ESCvar.MBXrun == 0)
 2425              		.loc 1 998 4 view .LVU728
 2426              		.loc 1 998 14 is_stmt 0 view .LVU729
 2427 0002 234B     		ldr	r3, .L195
 2428 0004 93F86830 		ldrb	r3, [r3, #104]	@ zero_extendqisi2
 2429              		.loc 1 998 7 view .LVU730
 2430 0008 63B1     		cbz	r3, .L182
 999:Lib/soes/src/esc_eoe.c ****    {
1000:Lib/soes/src/esc_eoe.c ****       return;
1001:Lib/soes/src/esc_eoe.c ****    }
1002:Lib/soes/src/esc_eoe.c ****    if (!ESCvar.xoe && (MBXcontrol[0].state == MBXstate_inclaim))
ARM GAS  /tmp/ccJ9SSdb.s 			page 72


 2431              		.loc 1 1002 4 is_stmt 1 view .LVU731
 2432              		.loc 1 1002 15 is_stmt 0 view .LVU732
 2433 000a 214B     		ldr	r3, .L195
 2434 000c 93F88E30 		ldrb	r3, [r3, #142]	@ zero_extendqisi2
 2435              		.loc 1 1002 7 view .LVU733
 2436 0010 1BB9     		cbnz	r3, .L184
 2437              		.loc 1 1002 37 discriminator 1 view .LVU734
 2438 0012 204B     		ldr	r3, .L195+4
 2439 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2440              		.loc 1 1002 20 discriminator 1 view .LVU735
 2441 0016 012B     		cmp	r3, #1
 2442 0018 05D0     		beq	.L191
 2443              	.L184:
1003:Lib/soes/src/esc_eoe.c ****    {
1004:Lib/soes/src/esc_eoe.c ****       mbh = (_MBXh *) &MBX[0];
1005:Lib/soes/src/esc_eoe.c ****       if (mbh->mbxtype == MBXEOE)
1006:Lib/soes/src/esc_eoe.c ****       {
1007:Lib/soes/src/esc_eoe.c ****          ESCvar.xoe = MBXEOE;
1008:Lib/soes/src/esc_eoe.c ****       }
1009:Lib/soes/src/esc_eoe.c ****    }
1010:Lib/soes/src/esc_eoe.c ****    if (ESCvar.xoe == MBXEOE)
 2444              		.loc 1 1010 4 is_stmt 1 view .LVU736
 2445              		.loc 1 1010 14 is_stmt 0 view .LVU737
 2446 001a 1D4B     		ldr	r3, .L195
 2447 001c 93F88E30 		ldrb	r3, [r3, #142]	@ zero_extendqisi2
 2448              		.loc 1 1010 7 view .LVU738
 2449 0020 022B     		cmp	r3, #2
 2450 0022 0BD0     		beq	.L192
 2451              	.L182:
1011:Lib/soes/src/esc_eoe.c ****    {
1012:Lib/soes/src/esc_eoe.c ****       eoembx = (_EOE *) &MBX[0];
1013:Lib/soes/src/esc_eoe.c ****       /* Verify the size of the file data. */
1014:Lib/soes/src/esc_eoe.c ****       if (etohs (eoembx->mbxheader.length) < ESC_EOEHSIZE)
1015:Lib/soes/src/esc_eoe.c ****       {
1016:Lib/soes/src/esc_eoe.c ****          EOE_no_data_response (
1017:Lib/soes/src/esc_eoe.c ****                EOE_INIT_RESP | EOE_HDR_LAST_FRAGMENT,
1018:Lib/soes/src/esc_eoe.c ****                MBXERR_SIZETOOSHORT);
1019:Lib/soes/src/esc_eoe.c ****       }
1020:Lib/soes/src/esc_eoe.c ****       else
1021:Lib/soes/src/esc_eoe.c ****       {
1022:Lib/soes/src/esc_eoe.c ****          frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
1023:Lib/soes/src/esc_eoe.c ****          switch (EOE_HDR_FRAME_TYPE_GET(frameinfo1))
1024:Lib/soes/src/esc_eoe.c ****          {
1025:Lib/soes/src/esc_eoe.c ****             case EOE_FRAG_DATA:
1026:Lib/soes/src/esc_eoe.c ****             {
1027:Lib/soes/src/esc_eoe.c ****                EOE_receive_fragment ();
1028:Lib/soes/src/esc_eoe.c ****                break;
1029:Lib/soes/src/esc_eoe.c ****             }
1030:Lib/soes/src/esc_eoe.c ****             case EOE_INIT_REQ:
1031:Lib/soes/src/esc_eoe.c ****             {
1032:Lib/soes/src/esc_eoe.c ****                EOE_set_ip ();
1033:Lib/soes/src/esc_eoe.c ****                break;
1034:Lib/soes/src/esc_eoe.c ****             }
1035:Lib/soes/src/esc_eoe.c ****             case EOE_GET_IP_PARAM_REQ:
1036:Lib/soes/src/esc_eoe.c ****             {
1037:Lib/soes/src/esc_eoe.c ****                EOE_get_ip ();
1038:Lib/soes/src/esc_eoe.c ****                break;
ARM GAS  /tmp/ccJ9SSdb.s 			page 73


1039:Lib/soes/src/esc_eoe.c ****             }
1040:Lib/soes/src/esc_eoe.c ****             case EOE_INIT_RESP_TIMESTAMP:
1041:Lib/soes/src/esc_eoe.c ****             case EOE_INIT_RESP:
1042:Lib/soes/src/esc_eoe.c ****             case EOE_SET_ADDR_FILTER_REQ:
1043:Lib/soes/src/esc_eoe.c ****             case EOE_SET_ADDR_FILTER_RESP:
1044:Lib/soes/src/esc_eoe.c ****             case EOE_GET_IP_PARAM_RESP:
1045:Lib/soes/src/esc_eoe.c ****             case EOE_GET_ADDR_FILTER_REQ:
1046:Lib/soes/src/esc_eoe.c ****             case EOE_GET_ADDR_FILTER_RESP:
1047:Lib/soes/src/esc_eoe.c ****             default:
1048:Lib/soes/src/esc_eoe.c ****             {
1049:Lib/soes/src/esc_eoe.c ****                DPRINT("EOE_RESULT_UNSUPPORTED_TYPE\n");
1050:Lib/soes/src/esc_eoe.c ****                EOE_no_data_response ((EOE_HDR_FRAME_PORT & frameinfo1) |
1051:Lib/soes/src/esc_eoe.c ****                      (EOE_HDR_FRAME_TYPE & frameinfo1) |
1052:Lib/soes/src/esc_eoe.c ****                      EOE_HDR_LAST_FRAGMENT,
1053:Lib/soes/src/esc_eoe.c ****                      EOE_RESULT_UNSUPPORTED_FRAME_TYPE);
1054:Lib/soes/src/esc_eoe.c ****                break;
1055:Lib/soes/src/esc_eoe.c ****             }
1056:Lib/soes/src/esc_eoe.c ****          }
1057:Lib/soes/src/esc_eoe.c ****       }
1058:Lib/soes/src/esc_eoe.c ****       MBXcontrol[0].state = MBXstate_idle;
1059:Lib/soes/src/esc_eoe.c ****       ESCvar.xoe = 0;
1060:Lib/soes/src/esc_eoe.c ****    }
1061:Lib/soes/src/esc_eoe.c **** }
 2452              		.loc 1 1061 1 view .LVU739
 2453 0024 08BD     		pop	{r3, pc}
 2454              	.L191:
1004:Lib/soes/src/esc_eoe.c ****       if (mbh->mbxtype == MBXEOE)
 2455              		.loc 1 1004 7 is_stmt 1 view .LVU740
 2456              	.LVL216:
1005:Lib/soes/src/esc_eoe.c ****       {
 2457              		.loc 1 1005 7 view .LVU741
1005:Lib/soes/src/esc_eoe.c ****       {
 2458              		.loc 1 1005 24 is_stmt 0 view .LVU742
 2459 0026 1C4B     		ldr	r3, .L195+8
 2460 0028 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 2461 002a 03F00F03 		and	r3, r3, #15
1005:Lib/soes/src/esc_eoe.c ****       {
 2462              		.loc 1 1005 10 view .LVU743
 2463 002e 022B     		cmp	r3, #2
 2464 0030 F3D1     		bne	.L184
1007:Lib/soes/src/esc_eoe.c ****       }
 2465              		.loc 1 1007 10 is_stmt 1 view .LVU744
1007:Lib/soes/src/esc_eoe.c ****       }
 2466              		.loc 1 1007 21 is_stmt 0 view .LVU745
 2467 0032 174B     		ldr	r3, .L195
 2468 0034 0222     		movs	r2, #2
 2469 0036 83F88E20 		strb	r2, [r3, #142]
 2470 003a EEE7     		b	.L184
 2471              	.LVL217:
 2472              	.L192:
1012:Lib/soes/src/esc_eoe.c ****       /* Verify the size of the file data. */
 2473              		.loc 1 1012 7 is_stmt 1 view .LVU746
1014:Lib/soes/src/esc_eoe.c ****       {
 2474              		.loc 1 1014 7 view .LVU747
1014:Lib/soes/src/esc_eoe.c ****       {
 2475              		.loc 1 1014 11 is_stmt 0 view .LVU748
 2476 003c 164B     		ldr	r3, .L195+8
ARM GAS  /tmp/ccJ9SSdb.s 			page 74


 2477 003e 1B88     		ldrh	r3, [r3]	@ unaligned
1014:Lib/soes/src/esc_eoe.c ****       {
 2478              		.loc 1 1014 10 view .LVU749
 2479 0040 032B     		cmp	r3, #3
 2480 0042 0FD9     		bls	.L193
1022:Lib/soes/src/esc_eoe.c ****          switch (EOE_HDR_FRAME_TYPE_GET(frameinfo1))
 2481              		.loc 1 1022 10 is_stmt 1 view .LVU750
1022:Lib/soes/src/esc_eoe.c ****          switch (EOE_HDR_FRAME_TYPE_GET(frameinfo1))
 2482              		.loc 1 1022 21 is_stmt 0 view .LVU751
 2483 0044 144B     		ldr	r3, .L195+8
 2484 0046 D888     		ldrh	r0, [r3, #6]	@ unaligned
 2485              	.LVL218:
1023:Lib/soes/src/esc_eoe.c ****          {
 2486              		.loc 1 1023 10 is_stmt 1 view .LVU752
 2487 0048 00F00F03 		and	r3, r0, #15
 2488 004c 022B     		cmp	r3, #2
 2489 004e 18D0     		beq	.L187
 2490 0050 062B     		cmp	r3, #6
 2491 0052 19D0     		beq	.L188
 2492 0054 93B1     		cbz	r3, .L194
1049:Lib/soes/src/esc_eoe.c ****                EOE_no_data_response ((EOE_HDR_FRAME_PORT & frameinfo1) |
 2493              		.loc 1 1049 55 view .LVU753
1050:Lib/soes/src/esc_eoe.c ****                      (EOE_HDR_FRAME_TYPE & frameinfo1) |
 2494              		.loc 1 1050 16 view .LVU754
 2495 0056 C0B2     		uxtb	r0, r0
 2496 0058 0221     		movs	r1, #2
 2497 005a 40F48070 		orr	r0, r0, #256
 2498 005e FFF7FEFF 		bl	EOE_no_data_response
 2499              	.LVL219:
1054:Lib/soes/src/esc_eoe.c ****             }
 2500              		.loc 1 1054 16 view .LVU755
 2501 0062 04E0     		b	.L186
 2502              	.L193:
1016:Lib/soes/src/esc_eoe.c ****                EOE_INIT_RESP | EOE_HDR_LAST_FRAGMENT,
 2503              		.loc 1 1016 10 view .LVU756
 2504 0064 0621     		movs	r1, #6
 2505 0066 40F20310 		movw	r0, #259
 2506 006a FFF7FEFF 		bl	EOE_no_data_response
 2507              	.LVL220:
 2508              	.L186:
1058:Lib/soes/src/esc_eoe.c ****       ESCvar.xoe = 0;
 2509              		.loc 1 1058 7 view .LVU757
1058:Lib/soes/src/esc_eoe.c ****       ESCvar.xoe = 0;
 2510              		.loc 1 1058 27 is_stmt 0 view .LVU758
 2511 006e 0023     		movs	r3, #0
 2512 0070 084A     		ldr	r2, .L195+4
 2513 0072 1370     		strb	r3, [r2]
1059:Lib/soes/src/esc_eoe.c ****    }
 2514              		.loc 1 1059 7 is_stmt 1 view .LVU759
1059:Lib/soes/src/esc_eoe.c ****    }
 2515              		.loc 1 1059 18 is_stmt 0 view .LVU760
 2516 0074 064A     		ldr	r2, .L195
 2517 0076 82F88E30 		strb	r3, [r2, #142]
 2518 007a D3E7     		b	.L182
 2519              	.LVL221:
 2520              	.L194:
1027:Lib/soes/src/esc_eoe.c ****                break;
ARM GAS  /tmp/ccJ9SSdb.s 			page 75


 2521              		.loc 1 1027 16 is_stmt 1 view .LVU761
 2522 007c FFF7FEFF 		bl	EOE_receive_fragment
 2523              	.LVL222:
1028:Lib/soes/src/esc_eoe.c ****             }
 2524              		.loc 1 1028 16 view .LVU762
 2525 0080 F5E7     		b	.L186
 2526              	.LVL223:
 2527              	.L187:
1032:Lib/soes/src/esc_eoe.c ****                break;
 2528              		.loc 1 1032 16 view .LVU763
 2529 0082 FFF7FEFF 		bl	EOE_set_ip
 2530              	.LVL224:
1033:Lib/soes/src/esc_eoe.c ****             }
 2531              		.loc 1 1033 16 view .LVU764
 2532 0086 F2E7     		b	.L186
 2533              	.LVL225:
 2534              	.L188:
1037:Lib/soes/src/esc_eoe.c ****                break;
 2535              		.loc 1 1037 16 view .LVU765
 2536 0088 FFF7FEFF 		bl	EOE_get_ip
 2537              	.LVL226:
1038:Lib/soes/src/esc_eoe.c ****             }
 2538              		.loc 1 1038 16 view .LVU766
 2539 008c EFE7     		b	.L186
 2540              	.L196:
 2541 008e 00BF     		.align	2
 2542              	.L195:
 2543 0090 00000000 		.word	ESCvar
 2544 0094 00000000 		.word	MBXcontrol
 2545 0098 00000000 		.word	MBX
 2546              		.cfi_endproc
 2547              	.LFE23:
 2549              		.section	.text.ESC_eoeprocess_tx,"ax",%progbits
 2550              		.align	1
 2551              		.global	ESC_eoeprocess_tx
 2552              		.syntax unified
 2553              		.thumb
 2554              		.thumb_func
 2555              		.fpu fpv4-sp-d16
 2557              	ESC_eoeprocess_tx:
 2558              	.LFB24:
1062:Lib/soes/src/esc_eoe.c **** /** EoE function to send a fragment.
1063:Lib/soes/src/esc_eoe.c ****  * NOTE: Not thread safe, should be called from the SOES task sequential
1064:Lib/soes/src/esc_eoe.c ****  * with other mailbox functions. Add support for threading by adding
1065:Lib/soes/src/esc_eoe.c ****  * a thread safe application fetch function, example a mailbox with buffers
1066:Lib/soes/src/esc_eoe.c ****  * to send, posted by TCP/IP stack and fetched by SOES task.
1067:Lib/soes/src/esc_eoe.c ****  */
1068:Lib/soes/src/esc_eoe.c **** void ESC_eoeprocess_tx (void)
1069:Lib/soes/src/esc_eoe.c **** {
 2559              		.loc 1 1069 1 view -0
 2560              		.cfi_startproc
 2561              		@ args = 0, pretend = 0, frame = 0
 2562              		@ frame_needed = 0, uses_anonymous_args = 0
 2563 0000 08B5     		push	{r3, lr}
 2564              		.cfi_def_cfa_offset 8
 2565              		.cfi_offset 3, -8
 2566              		.cfi_offset 14, -4
ARM GAS  /tmp/ccJ9SSdb.s 			page 76


1070:Lib/soes/src/esc_eoe.c ****    if (ESCvar.MBXrun == 0)
 2567              		.loc 1 1070 4 view .LVU768
 2568              		.loc 1 1070 14 is_stmt 0 view .LVU769
 2569 0002 044B     		ldr	r3, .L201
 2570 0004 93F86830 		ldrb	r3, [r3, #104]	@ zero_extendqisi2
 2571              		.loc 1 1070 7 view .LVU770
 2572 0008 03B9     		cbnz	r3, .L200
 2573              	.L197:
1071:Lib/soes/src/esc_eoe.c ****    {
1072:Lib/soes/src/esc_eoe.c ****       return;
1073:Lib/soes/src/esc_eoe.c ****    }
1074:Lib/soes/src/esc_eoe.c ****    EOE_send_fragment ();
1075:Lib/soes/src/esc_eoe.c **** }
 2574              		.loc 1 1075 1 view .LVU771
 2575 000a 08BD     		pop	{r3, pc}
 2576              	.L200:
1074:Lib/soes/src/esc_eoe.c **** }
 2577              		.loc 1 1074 4 is_stmt 1 view .LVU772
 2578 000c FFF7FEFF 		bl	EOE_send_fragment
 2579              	.LVL227:
 2580 0010 FBE7     		b	.L197
 2581              	.L202:
 2582 0012 00BF     		.align	2
 2583              	.L201:
 2584 0014 00000000 		.word	ESCvar
 2585              		.cfi_endproc
 2586              	.LFE24:
 2588              		.section	.bss.EOEvar,"aw",%nobits
 2589              		.align	2
 2590              		.set	.LANCHOR0,. + 0
 2593              	EOEvar:
 2594 0000 00000000 		.space	48
 2594      00000000 
 2594      00000000 
 2594      00000000 
 2594      00000000 
 2595              		.section	.bss.eoe_cfg,"aw",%nobits
 2596              		.align	2
 2597              		.set	.LANCHOR1,. + 0
 2600              	eoe_cfg:
 2601 0000 00000000 		.space	4
 2602              		.section	.bss.frameno.0,"aw",%nobits
 2603              		.set	.LANCHOR3,. + 0
 2606              	frameno.0:
 2607 0000 00       		.space	1
 2608              		.section	.bss.nic_ports,"aw",%nobits
 2609              		.align	2
 2610              		.set	.LANCHOR2,. + 0
 2613              	nic_ports:
 2614 0000 00000000 		.space	56
 2614      00000000 
 2614      00000000 
 2614      00000000 
 2614      00000000 
 2615              		.text
 2616              	.Letext0:
 2617              		.file 2 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stdint.h"
ARM GAS  /tmp/ccJ9SSdb.s 			page 77


 2618              		.file 3 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stddef.h"
 2619              		.file 4 "Lib/soes/inc/esc.h"
 2620              		.file 5 "Lib/soes/inc/esc_eoe.h"
 2621              		.file 6 "<built-in>"
ARM GAS  /tmp/ccJ9SSdb.s 			page 78


DEFINED SYMBOLS
                            *ABS*:0000000000000000 esc_eoe.c
     /tmp/ccJ9SSdb.s:18     .text.EOE_ip_uint32_to_byte:0000000000000000 $t
     /tmp/ccJ9SSdb.s:25     .text.EOE_ip_uint32_to_byte:0000000000000000 EOE_ip_uint32_to_byte
     /tmp/ccJ9SSdb.s:60     .text.EOE_ip_byte_to_uint32:0000000000000000 $t
     /tmp/ccJ9SSdb.s:66     .text.EOE_ip_byte_to_uint32:0000000000000000 EOE_ip_byte_to_uint32
     /tmp/ccJ9SSdb.s:99     .text.EOE_init_rx:0000000000000000 $t
     /tmp/ccJ9SSdb.s:105    .text.EOE_init_rx:0000000000000000 EOE_init_rx
     /tmp/ccJ9SSdb.s:155    .text.EOE_init_rx:0000000000000024 $d
     /tmp/ccJ9SSdb.s:161    .text.EOE_init_tx:0000000000000000 $t
     /tmp/ccJ9SSdb.s:167    .text.EOE_init_tx:0000000000000000 EOE_init_tx
     /tmp/ccJ9SSdb.s:226    .text.EOE_init_tx:0000000000000030 $d
     /tmp/ccJ9SSdb.s:232    .text.EOE_receive_fragment:0000000000000000 $t
     /tmp/ccJ9SSdb.s:238    .text.EOE_receive_fragment:0000000000000000 EOE_receive_fragment
     /tmp/ccJ9SSdb.s:464    .text.EOE_receive_fragment:00000000000000d4 $d
     /tmp/ccJ9SSdb.s:472    .text.EOE_no_data_response:0000000000000000 $t
     /tmp/ccJ9SSdb.s:478    .text.EOE_no_data_response:0000000000000000 EOE_no_data_response
     /tmp/ccJ9SSdb.s:548    .text.EOE_no_data_response:000000000000003c $d
     /tmp/ccJ9SSdb.s:555    .text.EOE_set_ip:0000000000000000 $t
     /tmp/ccJ9SSdb.s:561    .text.EOE_set_ip:0000000000000000 EOE_set_ip
     /tmp/ccJ9SSdb.s:901    .text.EOE_set_ip:00000000000001cc $d
     /tmp/ccJ9SSdb.s:909    .text.EOE_get_ip:0000000000000000 $t
     /tmp/ccJ9SSdb.s:915    .text.EOE_get_ip:0000000000000000 EOE_get_ip
     /tmp/ccJ9SSdb.s:1273   .text.EOE_get_ip:00000000000001cc $d
     /tmp/ccJ9SSdb.s:1282   .text.EOE_send_fragment:0000000000000000 $t
     /tmp/ccJ9SSdb.s:1288   .text.EOE_send_fragment:0000000000000000 EOE_send_fragment
     /tmp/ccJ9SSdb.s:1536   .text.EOE_send_fragment:00000000000000f0 $d
     /tmp/ccJ9SSdb.s:1548   .text.EOE_ecat_get_mac:0000000000000000 $t
     /tmp/ccJ9SSdb.s:1555   .text.EOE_ecat_get_mac:0000000000000000 EOE_ecat_get_mac
     /tmp/ccJ9SSdb.s:1610   .text.EOE_ecat_get_mac:0000000000000030 $d
     /tmp/ccJ9SSdb.s:1615   .text.EOE_ecat_set_mac:0000000000000000 $t
     /tmp/ccJ9SSdb.s:1622   .text.EOE_ecat_set_mac:0000000000000000 EOE_ecat_set_mac
     /tmp/ccJ9SSdb.s:1658   .text.EOE_ecat_set_mac:0000000000000018 $d
     /tmp/ccJ9SSdb.s:1663   .text.EOE_ecat_get_ip:0000000000000000 $t
     /tmp/ccJ9SSdb.s:1670   .text.EOE_ecat_get_ip:0000000000000000 EOE_ecat_get_ip
     /tmp/ccJ9SSdb.s:1730   .text.EOE_ecat_get_ip:0000000000000038 $d
     /tmp/ccJ9SSdb.s:1735   .text.EOE_ecat_set_ip:0000000000000000 $t
     /tmp/ccJ9SSdb.s:1742   .text.EOE_ecat_set_ip:0000000000000000 EOE_ecat_set_ip
     /tmp/ccJ9SSdb.s:1790   .text.EOE_ecat_set_ip:000000000000002c $d
     /tmp/ccJ9SSdb.s:1795   .text.EOE_ecat_get_subnet:0000000000000000 $t
     /tmp/ccJ9SSdb.s:1802   .text.EOE_ecat_get_subnet:0000000000000000 EOE_ecat_get_subnet
     /tmp/ccJ9SSdb.s:1862   .text.EOE_ecat_get_subnet:0000000000000038 $d
     /tmp/ccJ9SSdb.s:1867   .text.EOE_ecat_set_subnet:0000000000000000 $t
     /tmp/ccJ9SSdb.s:1874   .text.EOE_ecat_set_subnet:0000000000000000 EOE_ecat_set_subnet
     /tmp/ccJ9SSdb.s:1922   .text.EOE_ecat_set_subnet:000000000000002c $d
     /tmp/ccJ9SSdb.s:1927   .text.EOE_ecat_get_gateway:0000000000000000 $t
     /tmp/ccJ9SSdb.s:1934   .text.EOE_ecat_get_gateway:0000000000000000 EOE_ecat_get_gateway
     /tmp/ccJ9SSdb.s:1994   .text.EOE_ecat_get_gateway:0000000000000038 $d
     /tmp/ccJ9SSdb.s:1999   .text.EOE_ecat_set_gateway:0000000000000000 $t
     /tmp/ccJ9SSdb.s:2006   .text.EOE_ecat_set_gateway:0000000000000000 EOE_ecat_set_gateway
     /tmp/ccJ9SSdb.s:2054   .text.EOE_ecat_set_gateway:000000000000002c $d
     /tmp/ccJ9SSdb.s:2059   .text.EOE_ecat_get_dns_ip:0000000000000000 $t
     /tmp/ccJ9SSdb.s:2066   .text.EOE_ecat_get_dns_ip:0000000000000000 EOE_ecat_get_dns_ip
     /tmp/ccJ9SSdb.s:2126   .text.EOE_ecat_get_dns_ip:0000000000000038 $d
     /tmp/ccJ9SSdb.s:2131   .text.EOE_ecat_set_dns_ip:0000000000000000 $t
     /tmp/ccJ9SSdb.s:2138   .text.EOE_ecat_set_dns_ip:0000000000000000 EOE_ecat_set_dns_ip
     /tmp/ccJ9SSdb.s:2186   .text.EOE_ecat_set_dns_ip:000000000000002c $d
ARM GAS  /tmp/ccJ9SSdb.s 			page 79


     /tmp/ccJ9SSdb.s:2191   .text.EOE_ecat_get_dns_name:0000000000000000 $t
     /tmp/ccJ9SSdb.s:2198   .text.EOE_ecat_get_dns_name:0000000000000000 EOE_ecat_get_dns_name
     /tmp/ccJ9SSdb.s:2266   .text.EOE_ecat_get_dns_name:000000000000004c $d
     /tmp/ccJ9SSdb.s:2272   .text.EOE_ecat_set_dns_name:0000000000000000 $t
     /tmp/ccJ9SSdb.s:2279   .text.EOE_ecat_set_dns_name:0000000000000000 EOE_ecat_set_dns_name
     /tmp/ccJ9SSdb.s:2341   .text.EOE_ecat_set_dns_name:0000000000000044 $d
     /tmp/ccJ9SSdb.s:2346   .text.EOE_init:0000000000000000 $t
     /tmp/ccJ9SSdb.s:2353   .text.EOE_init:0000000000000000 EOE_init
     /tmp/ccJ9SSdb.s:2376   .text.EOE_config:0000000000000000 $t
     /tmp/ccJ9SSdb.s:2383   .text.EOE_config:0000000000000000 EOE_config
     /tmp/ccJ9SSdb.s:2400   .text.EOE_config:0000000000000008 $d
     /tmp/ccJ9SSdb.s:2405   .text.ESC_eoeprocess:0000000000000000 $t
     /tmp/ccJ9SSdb.s:2412   .text.ESC_eoeprocess:0000000000000000 ESC_eoeprocess
     /tmp/ccJ9SSdb.s:2543   .text.ESC_eoeprocess:0000000000000090 $d
     /tmp/ccJ9SSdb.s:2550   .text.ESC_eoeprocess_tx:0000000000000000 $t
     /tmp/ccJ9SSdb.s:2557   .text.ESC_eoeprocess_tx:0000000000000000 ESC_eoeprocess_tx
     /tmp/ccJ9SSdb.s:2584   .text.ESC_eoeprocess_tx:0000000000000014 $d
     /tmp/ccJ9SSdb.s:2589   .bss.EOEvar:0000000000000000 $d
     /tmp/ccJ9SSdb.s:2593   .bss.EOEvar:0000000000000000 EOEvar
     /tmp/ccJ9SSdb.s:2596   .bss.eoe_cfg:0000000000000000 $d
     /tmp/ccJ9SSdb.s:2600   .bss.eoe_cfg:0000000000000000 eoe_cfg
     /tmp/ccJ9SSdb.s:2606   .bss.frameno.0:0000000000000000 frameno.0
     /tmp/ccJ9SSdb.s:2607   .bss.frameno.0:0000000000000000 $d
     /tmp/ccJ9SSdb.s:2609   .bss.nic_ports:0000000000000000 $d
     /tmp/ccJ9SSdb.s:2613   .bss.nic_ports:0000000000000000 nic_ports

UNDEFINED SYMBOLS
memcpy
MBX
ESC_claimbuffer
ESCvar
MBXcontrol
