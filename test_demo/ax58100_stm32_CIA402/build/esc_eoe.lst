ARM GAS  /tmp/ccwTT7Kw.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"esc_eoe.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.EOE_ip_uint32_to_byte,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	EOE_ip_uint32_to_byte:
  26              	.LVL0:
  27              	.LFB0:
  28              		.file 1 "Drivers/SOES/Src/esc_eoe.c"
   1:Drivers/SOES/Src/esc_eoe.c **** /*
   2:Drivers/SOES/Src/esc_eoe.c ****  * Licensed under the GNU General Public License version 2 with exceptions. See
   3:Drivers/SOES/Src/esc_eoe.c ****  * LICENSE file in the project root for full license information
   4:Drivers/SOES/Src/esc_eoe.c ****  */
   5:Drivers/SOES/Src/esc_eoe.c **** 
   6:Drivers/SOES/Src/esc_eoe.c ****  /** \file
   7:Drivers/SOES/Src/esc_eoe.c ****  * \brief
   8:Drivers/SOES/Src/esc_eoe.c ****  * Ethernet over EtherCAT (EoE) module.
   9:Drivers/SOES/Src/esc_eoe.c ****  */
  10:Drivers/SOES/Src/esc_eoe.c **** 
  11:Drivers/SOES/Src/esc_eoe.c **** #include <cc.h>
  12:Drivers/SOES/Src/esc_eoe.c **** #include <string.h>
  13:Drivers/SOES/Src/esc_eoe.c **** #include "esc.h"
  14:Drivers/SOES/Src/esc_eoe.c **** #include "esc_eoe.h"
  15:Drivers/SOES/Src/esc_eoe.c **** 
  16:Drivers/SOES/Src/esc_eoe.c **** 
  17:Drivers/SOES/Src/esc_eoe.c **** #if defined(EC_BIG_ENDIAN)
  18:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HTONS(x) (x)
  19:Drivers/SOES/Src/esc_eoe.c **** #define EOE_NTOHS(x) (x)
  20:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HTONL(x) (x)
  21:Drivers/SOES/Src/esc_eoe.c **** #define EOE_NTOHL(x) (x)
  22:Drivers/SOES/Src/esc_eoe.c **** #else
  23:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HTONS(x) ((((x) & 0x00ffUL) << 8) | (((x) & 0xff00UL) >> 8))
  24:Drivers/SOES/Src/esc_eoe.c **** #define EOE_NTOHS(x) EOE_HTONS(x)
  25:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HTONL(x) ((((x) & 0x000000ffUL) << 24) | \
  26:Drivers/SOES/Src/esc_eoe.c ****                      (((x) & 0x0000ff00UL) <<  8) | \
  27:Drivers/SOES/Src/esc_eoe.c ****                      (((x) & 0x00ff0000UL) >>  8) | \
  28:Drivers/SOES/Src/esc_eoe.c ****                      (((x) & 0xff000000UL) >> 24))
  29:Drivers/SOES/Src/esc_eoe.c **** #define EOE_NTOHL(x) EOE_HTONL(x)
  30:Drivers/SOES/Src/esc_eoe.c **** #endif /* #if defined(EC_BIG_ENDIAN) */
ARM GAS  /tmp/ccwTT7Kw.s 			page 2


  31:Drivers/SOES/Src/esc_eoe.c **** 
  32:Drivers/SOES/Src/esc_eoe.c **** #define EOE_MAKEU32(a,b,c,d) (((uint32_t)((a) & 0xff) << 24) | \
  33:Drivers/SOES/Src/esc_eoe.c ****                             ((uint32_t)((b) & 0xff) << 16) | \
  34:Drivers/SOES/Src/esc_eoe.c ****                             ((uint32_t)((c) & 0xff) << 8)  | \
  35:Drivers/SOES/Src/esc_eoe.c ****                             (uint32_t)((d) & 0xff))
  36:Drivers/SOES/Src/esc_eoe.c **** 
  37:Drivers/SOES/Src/esc_eoe.c **** /** Get one byte from the 4-byte address */
  38:Drivers/SOES/Src/esc_eoe.c **** #define eoe_ip4_addr1(ipaddr) (((const uint8_t*)(&(ipaddr)->addr))[0])
  39:Drivers/SOES/Src/esc_eoe.c **** #define eoe_ip4_addr2(ipaddr) (((const uint8_t*)(&(ipaddr)->addr))[1])
  40:Drivers/SOES/Src/esc_eoe.c **** #define eoe_ip4_addr3(ipaddr) (((const uint8_t*)(&(ipaddr)->addr))[2])
  41:Drivers/SOES/Src/esc_eoe.c **** #define eoe_ip4_addr4(ipaddr) (((const uint8_t*)(&(ipaddr)->addr))[3])
  42:Drivers/SOES/Src/esc_eoe.c **** 
  43:Drivers/SOES/Src/esc_eoe.c **** /** Set an IP address given by the four byte-parts */
  44:Drivers/SOES/Src/esc_eoe.c **** #define EOE_IP4_ADDR_TO_U32(ipaddr,a,b,c,d)  \
  45:Drivers/SOES/Src/esc_eoe.c ****    (ipaddr)->addr = EOE_HTONL(EOE_MAKEU32(a,b,c,d))
  46:Drivers/SOES/Src/esc_eoe.c **** 
  47:Drivers/SOES/Src/esc_eoe.c **** /** Header frame info 1 */
  48:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_TYPE_OFFSET      0
  49:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_TYPE             (0xF << 0)
  50:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_TYPE_SET(x)      (((x) & 0xF) << 0)
  51:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_TYPE_GET(x)      (((x) >> 0) & 0xF)
  52:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_PORT_OFFSET      4
  53:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_PORT             (0xF << 4)
  54:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_PORT_SET(x)      (((x) & 0xF) << 4)
  55:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_PORT_GET(x)      (((x) >> 4) & 0xF)
  56:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_LAST_FRAGMENT_OFFSET   8
  57:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_LAST_FRAGMENT          (0x1 << 8)
  58:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_LAST_FRAGMENT_SET(x)   (((x) & 0x1) << 8)
  59:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_LAST_FRAGMENT_GET(x)   (((x) >> 8) & 0x1)
  60:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_TIME_APPEND_OFFSET     9
  61:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_TIME_APPEND            (0x1 << 9)
  62:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_TIME_APPEND_SET(x)     (((x) & 0x1) << 9)
  63:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_TIME_APPEND_GET(x)     (((x) >> 9) & 0x1)
  64:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_TIME_REQUEST_OFFSET    10
  65:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_TIME_REQUEST           (0x1 << 10)
  66:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_TIME_REQUEST_SET(x)    (((x) & 0x1) << 10)
  67:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_TIME_REQUEST_GET(x)    (((x) >> 10) & 0x1)
  68:Drivers/SOES/Src/esc_eoe.c **** 
  69:Drivers/SOES/Src/esc_eoe.c **** /** Header frame info 2 */
  70:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAG_NO_OFFSET         0
  71:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAG_NO                (0x3F << 0)
  72:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAG_NO_SET(x)         (((x) & 0x3F) << 0)
  73:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAG_NO_GET(x)         (((x) >> 0) & 0x3F)
  74:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_OFFSET_OFFSET    6
  75:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_OFFSET           (0x3F << 6)
  76:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_OFFSET_SET(x)    (((x) & 0x3F) << 6)
  77:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_OFFSET_GET(x)    (((x) >> 6) & 0x3F)
  78:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_NO_OFFSET        12
  79:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_NO               (0xF << 12)
  80:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_NO_SET(x)        (((x) & 0xF) << 12)
  81:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_NO_GET(x)        (((x) >> 12) & 0xF)
  82:Drivers/SOES/Src/esc_eoe.c **** 
  83:Drivers/SOES/Src/esc_eoe.c **** /** EOE param */
  84:Drivers/SOES/Src/esc_eoe.c **** #define EOE_PARAM_OFFSET                  4
  85:Drivers/SOES/Src/esc_eoe.c **** #define EOE_PARAM_MAC_INCLUDE             (0x1 << 0)
  86:Drivers/SOES/Src/esc_eoe.c **** #define EOE_PARAM_IP_INCLUDE              (0x1 << 1)
  87:Drivers/SOES/Src/esc_eoe.c **** #define EOE_PARAM_SUBNET_IP_INCLUDE       (0x1 << 2)
ARM GAS  /tmp/ccwTT7Kw.s 			page 3


  88:Drivers/SOES/Src/esc_eoe.c **** #define EOE_PARAM_DEFAULT_GATEWAY_INCLUDE (0x1 << 3)
  89:Drivers/SOES/Src/esc_eoe.c **** #define EOE_PARAM_DNS_IP_INCLUDE          (0x1 << 4)
  90:Drivers/SOES/Src/esc_eoe.c **** #define EOE_PARAM_DNS_NAME_INCLUDE        (0x1 << 5)
  91:Drivers/SOES/Src/esc_eoe.c **** 
  92:Drivers/SOES/Src/esc_eoe.c **** /** EoE frame types */
  93:Drivers/SOES/Src/esc_eoe.c **** #define EOE_FRAG_DATA                  0
  94:Drivers/SOES/Src/esc_eoe.c **** #define EOE_INIT_RESP_TIMESTAMP        1
  95:Drivers/SOES/Src/esc_eoe.c **** #define EOE_INIT_REQ                   2 /* Spec SET IP REQ */
  96:Drivers/SOES/Src/esc_eoe.c **** #define EOE_INIT_RESP                  3 /* Spec SET IP RESP */
  97:Drivers/SOES/Src/esc_eoe.c **** #define EOE_SET_ADDR_FILTER_REQ        4
  98:Drivers/SOES/Src/esc_eoe.c **** #define EOE_SET_ADDR_FILTER_RESP       5
  99:Drivers/SOES/Src/esc_eoe.c **** #define EOE_GET_IP_PARAM_REQ           6
 100:Drivers/SOES/Src/esc_eoe.c **** #define EOE_GET_IP_PARAM_RESP          7
 101:Drivers/SOES/Src/esc_eoe.c **** #define EOE_GET_ADDR_FILTER_REQ        8
 102:Drivers/SOES/Src/esc_eoe.c **** #define EOE_GET_ADDR_FILTER_RESP       9
 103:Drivers/SOES/Src/esc_eoe.c **** 
 104:Drivers/SOES/Src/esc_eoe.c **** /** Define number of ports available.(Only one is supported currently */
 105:Drivers/SOES/Src/esc_eoe.c **** #define EOE_NUMBER_OF_PORTS   1
 106:Drivers/SOES/Src/esc_eoe.c **** #define EOE_PORT_INDEX(x)     ((x > 0) ? (x - 1) : 0)
 107:Drivers/SOES/Src/esc_eoe.c **** /** DNS length according to ETG 1000.6 */
 108:Drivers/SOES/Src/esc_eoe.c **** #define EOE_DNS_NAME_LENGTH  32
 109:Drivers/SOES/Src/esc_eoe.c **** /** Ethernet address length not including VLAN */
 110:Drivers/SOES/Src/esc_eoe.c **** #define EOE_ETHADDR_LENGTH    6
 111:Drivers/SOES/Src/esc_eoe.c **** /** IPv4 address length */
 112:Drivers/SOES/Src/esc_eoe.c **** #define EOE_IP4_LENGTH        sizeof(uint32_t)
 113:Drivers/SOES/Src/esc_eoe.c **** 
 114:Drivers/SOES/Src/esc_eoe.c **** /** EOE ip4 address in network order */
 115:Drivers/SOES/Src/esc_eoe.c **** struct eoe_ip4_addr {
 116:Drivers/SOES/Src/esc_eoe.c ****   uint32_t addr;
 117:Drivers/SOES/Src/esc_eoe.c **** };
 118:Drivers/SOES/Src/esc_eoe.c **** typedef struct eoe_ip4_addr eoe_ip4_addr_t;
 119:Drivers/SOES/Src/esc_eoe.c **** 
 120:Drivers/SOES/Src/esc_eoe.c **** /** EOE ethernet address */
 121:Drivers/SOES/Src/esc_eoe.c **** CC_PACKED_BEGIN
 122:Drivers/SOES/Src/esc_eoe.c **** typedef struct CC_PACKED eoe_ethaddr
 123:Drivers/SOES/Src/esc_eoe.c **** {
 124:Drivers/SOES/Src/esc_eoe.c ****   uint8_t addr[EOE_ETHADDR_LENGTH];
 125:Drivers/SOES/Src/esc_eoe.c **** } eoe_ethaddr_t;
 126:Drivers/SOES/Src/esc_eoe.c **** CC_PACKED_END
 127:Drivers/SOES/Src/esc_eoe.c **** 
 128:Drivers/SOES/Src/esc_eoe.c **** typedef struct
 129:Drivers/SOES/Src/esc_eoe.c **** {
 130:Drivers/SOES/Src/esc_eoe.c ****    /** Pointer to current RX buffer to fill */
 131:Drivers/SOES/Src/esc_eoe.c ****    eoe_pbuf_t rxebuf;
 132:Drivers/SOES/Src/esc_eoe.c ****    /** Pointer to current TX buff to Send */
 133:Drivers/SOES/Src/esc_eoe.c ****    eoe_pbuf_t txebuf;
 134:Drivers/SOES/Src/esc_eoe.c **** 
 135:Drivers/SOES/Src/esc_eoe.c ****    /** Current RX fragment number */
 136:Drivers/SOES/Src/esc_eoe.c ****    uint8_t rxfragmentno;
 137:Drivers/SOES/Src/esc_eoe.c ****    /** Complete RX frame size of current frame */
 138:Drivers/SOES/Src/esc_eoe.c ****    uint16_t rxframesize;
 139:Drivers/SOES/Src/esc_eoe.c ****    /** Current RX data offset in frame */
 140:Drivers/SOES/Src/esc_eoe.c ****    uint16_t rxframeoffset;
 141:Drivers/SOES/Src/esc_eoe.c ****    /** Current RX frame number */
 142:Drivers/SOES/Src/esc_eoe.c ****    uint16_t rxframeno;
 143:Drivers/SOES/Src/esc_eoe.c **** 
 144:Drivers/SOES/Src/esc_eoe.c ****    /** Current TX fragment number */
ARM GAS  /tmp/ccwTT7Kw.s 			page 4


 145:Drivers/SOES/Src/esc_eoe.c ****    uint8_t txfragmentno;
 146:Drivers/SOES/Src/esc_eoe.c ****    /** Complete TX frame size of current frame */
 147:Drivers/SOES/Src/esc_eoe.c ****    uint16_t txframesize;
 148:Drivers/SOES/Src/esc_eoe.c ****    /** Current TX data offset in frame */
 149:Drivers/SOES/Src/esc_eoe.c ****    uint16_t txframeoffset;
 150:Drivers/SOES/Src/esc_eoe.c **** } _EOEvar;
 151:Drivers/SOES/Src/esc_eoe.c **** 
 152:Drivers/SOES/Src/esc_eoe.c **** /** EoE IP request structure */
 153:Drivers/SOES/Src/esc_eoe.c **** typedef struct eoe_param
 154:Drivers/SOES/Src/esc_eoe.c **** {
 155:Drivers/SOES/Src/esc_eoe.c ****    uint8_t mac_set:1;
 156:Drivers/SOES/Src/esc_eoe.c ****    uint8_t ip_set:1;
 157:Drivers/SOES/Src/esc_eoe.c ****    uint8_t subnet_set:1;
 158:Drivers/SOES/Src/esc_eoe.c ****    uint8_t default_gateway_set:1;
 159:Drivers/SOES/Src/esc_eoe.c ****    uint8_t dns_ip_set:1;
 160:Drivers/SOES/Src/esc_eoe.c ****    uint8_t dns_name_set:1;
 161:Drivers/SOES/Src/esc_eoe.c ****    eoe_ethaddr_t mac;
 162:Drivers/SOES/Src/esc_eoe.c ****    eoe_ip4_addr_t ip;
 163:Drivers/SOES/Src/esc_eoe.c ****    eoe_ip4_addr_t subnet;
 164:Drivers/SOES/Src/esc_eoe.c ****    eoe_ip4_addr_t default_gateway;
 165:Drivers/SOES/Src/esc_eoe.c ****    eoe_ip4_addr_t dns_ip;
 166:Drivers/SOES/Src/esc_eoe.c ****    char dns_name[EOE_DNS_NAME_LENGTH];
 167:Drivers/SOES/Src/esc_eoe.c **** } eoe_param_t;
 168:Drivers/SOES/Src/esc_eoe.c **** 
 169:Drivers/SOES/Src/esc_eoe.c **** /** Main EoE status data array. Structure gets filled with current information
 170:Drivers/SOES/Src/esc_eoe.c ****  * variables during EoE receive and send operations.
 171:Drivers/SOES/Src/esc_eoe.c ****  */
 172:Drivers/SOES/Src/esc_eoe.c **** static _EOEvar EOEvar;
 173:Drivers/SOES/Src/esc_eoe.c **** 
 174:Drivers/SOES/Src/esc_eoe.c **** /** Main FoE configuration pointer data array. Structure is allocated and filled
 175:Drivers/SOES/Src/esc_eoe.c ****  * by the application defining what preferences it requires.
 176:Drivers/SOES/Src/esc_eoe.c ****  */
 177:Drivers/SOES/Src/esc_eoe.c **** static eoe_cfg_t * eoe_cfg;
 178:Drivers/SOES/Src/esc_eoe.c **** 
 179:Drivers/SOES/Src/esc_eoe.c **** /** Local EoE variable holding cached IP information values.
 180:Drivers/SOES/Src/esc_eoe.c ****  * To be set or read from the user application, eg. TCP/IP stack.
 181:Drivers/SOES/Src/esc_eoe.c ****  */
 182:Drivers/SOES/Src/esc_eoe.c **** static eoe_param_t nic_ports[EOE_NUMBER_OF_PORTS];
 183:Drivers/SOES/Src/esc_eoe.c **** 
 184:Drivers/SOES/Src/esc_eoe.c **** /** Local init/reset functions on frame receive init */
 185:Drivers/SOES/Src/esc_eoe.c **** static void EOE_init_rx ();
 186:Drivers/SOES/Src/esc_eoe.c **** /** Local init/reset functions on frame send completion */
 187:Drivers/SOES/Src/esc_eoe.c **** static void EOE_init_tx ();
 188:Drivers/SOES/Src/esc_eoe.c **** 
 189:Drivers/SOES/Src/esc_eoe.c **** /** EoE utility function to convert uint32 to eoe ip bytes.
 190:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] ip       = ip in uint32
 191:Drivers/SOES/Src/esc_eoe.c ****  * @param[out] byte_ip = eoe ip 4th octet, 3ed octet, 2nd octet, 1st octet
 192:Drivers/SOES/Src/esc_eoe.c ****  */
 193:Drivers/SOES/Src/esc_eoe.c **** static void EOE_ip_uint32_to_byte (eoe_ip4_addr_t * ip, uint8_t * byte_ip)
 194:Drivers/SOES/Src/esc_eoe.c **** {
  29              		.loc 1 194 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
 195:Drivers/SOES/Src/esc_eoe.c ****    byte_ip[3] = eoe_ip4_addr1(ip); /* 1st octet */
  34              		.loc 1 195 4 view .LVU1
ARM GAS  /tmp/ccwTT7Kw.s 			page 5


  35              		.loc 1 195 17 is_stmt 0 view .LVU2
  36 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
  37              		.loc 1 195 15 view .LVU3
  38 0002 CB70     		strb	r3, [r1, #3]
 196:Drivers/SOES/Src/esc_eoe.c ****    byte_ip[2] = eoe_ip4_addr2(ip); /* 2nd octet */
  39              		.loc 1 196 4 is_stmt 1 view .LVU4
  40              		.loc 1 196 17 is_stmt 0 view .LVU5
  41 0004 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
  42              		.loc 1 196 15 view .LVU6
  43 0006 8B70     		strb	r3, [r1, #2]
 197:Drivers/SOES/Src/esc_eoe.c ****    byte_ip[1] = eoe_ip4_addr3(ip); /* 3ed octet */
  44              		.loc 1 197 4 is_stmt 1 view .LVU7
  45              		.loc 1 197 17 is_stmt 0 view .LVU8
  46 0008 8378     		ldrb	r3, [r0, #2]	@ zero_extendqisi2
  47              		.loc 1 197 15 view .LVU9
  48 000a 4B70     		strb	r3, [r1, #1]
 198:Drivers/SOES/Src/esc_eoe.c ****    byte_ip[0] = eoe_ip4_addr4(ip); /* 4th octet */
  49              		.loc 1 198 4 is_stmt 1 view .LVU10
  50              		.loc 1 198 17 is_stmt 0 view .LVU11
  51 000c C378     		ldrb	r3, [r0, #3]	@ zero_extendqisi2
  52              		.loc 1 198 15 view .LVU12
  53 000e 0B70     		strb	r3, [r1]
 199:Drivers/SOES/Src/esc_eoe.c **** }
  54              		.loc 1 199 1 view .LVU13
  55 0010 7047     		bx	lr
  56              		.cfi_endproc
  57              	.LFE0:
  59              		.section	.text.EOE_ip_byte_to_uint32,"ax",%progbits
  60              		.align	1
  61              		.syntax unified
  62              		.thumb
  63              		.thumb_func
  65              	EOE_ip_byte_to_uint32:
  66              	.LVL1:
  67              	.LFB1:
 200:Drivers/SOES/Src/esc_eoe.c **** 
 201:Drivers/SOES/Src/esc_eoe.c **** /** EoE utility function to convert eoe ip bytes to uint32.
 202:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] byte_ip = eoe ip 4th octet, 3ed octet, 2nd octet, 1st octet
 203:Drivers/SOES/Src/esc_eoe.c ****  * @param[out] ip     = ip in uint32
 204:Drivers/SOES/Src/esc_eoe.c ****  */
 205:Drivers/SOES/Src/esc_eoe.c **** static void EOE_ip_byte_to_uint32 (uint8_t * byte_ip, eoe_ip4_addr_t * ip)
 206:Drivers/SOES/Src/esc_eoe.c **** {
  68              		.loc 1 206 1 is_stmt 1 view -0
  69              		.cfi_startproc
  70              		@ args = 0, pretend = 0, frame = 0
  71              		@ frame_needed = 0, uses_anonymous_args = 0
  72              		@ link register save eliminated.
 207:Drivers/SOES/Src/esc_eoe.c ****    EOE_IP4_ADDR_TO_U32(ip,
  73              		.loc 1 207 4 view .LVU15
  74 0000 C278     		ldrb	r2, [r0, #3]	@ zero_extendqisi2
  75 0002 8378     		ldrb	r3, [r0, #2]	@ zero_extendqisi2
  76 0004 1B04     		lsls	r3, r3, #16
  77 0006 43EA0263 		orr	r3, r3, r2, lsl #24
  78 000a 4278     		ldrb	r2, [r0, #1]	@ zero_extendqisi2
  79 000c 43EA0223 		orr	r3, r3, r2, lsl #8
  80 0010 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
  81              	.LVL2:
ARM GAS  /tmp/ccwTT7Kw.s 			page 6


  82              		.loc 1 207 4 is_stmt 0 view .LVU16
  83 0012 0343     		orrs	r3, r3, r0
  84 0014 1A02     		lsls	r2, r3, #8
  85 0016 02F47F02 		and	r2, r2, #16711680
  86 001a 42EA0062 		orr	r2, r2, r0, lsl #24
  87 001e 180A     		lsrs	r0, r3, #8
  88 0020 00F47F40 		and	r0, r0, #65280
  89 0024 0243     		orrs	r2, r2, r0
  90 0026 42EA1363 		orr	r3, r2, r3, lsr #24
  91 002a 0B60     		str	r3, [r1]
 208:Drivers/SOES/Src/esc_eoe.c ****          byte_ip[3],  /* 1st octet */
 209:Drivers/SOES/Src/esc_eoe.c ****          byte_ip[2],  /* 2nd octet */
 210:Drivers/SOES/Src/esc_eoe.c ****          byte_ip[1],  /* 3ed octet */
 211:Drivers/SOES/Src/esc_eoe.c ****          byte_ip[0]) ;/* 4th octet */
 212:Drivers/SOES/Src/esc_eoe.c **** }
  92              		.loc 1 212 1 view .LVU17
  93 002c 7047     		bx	lr
  94              		.cfi_endproc
  95              	.LFE1:
  97              		.section	.text.EOE_init_rx,"ax",%progbits
  98              		.align	1
  99              		.syntax unified
 100              		.thumb
 101              		.thumb_func
 103              	EOE_init_rx:
 104              	.LFB19:
 213:Drivers/SOES/Src/esc_eoe.c **** 
 214:Drivers/SOES/Src/esc_eoe.c **** /** Get EoE cached MAC address
 215:Drivers/SOES/Src/esc_eoe.c ****  *
 216:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] port   = get MAC for port
 217:Drivers/SOES/Src/esc_eoe.c ****  * @param[out] mac   = variable to store mac in, should fit EOE_ETHADDR_LENGTH
 218:Drivers/SOES/Src/esc_eoe.c ****  * @return 0= if we succeed, -1 if not set
 219:Drivers/SOES/Src/esc_eoe.c ****  */
 220:Drivers/SOES/Src/esc_eoe.c **** int EOE_get_mac(uint8_t port, uint8_t mac[])
 221:Drivers/SOES/Src/esc_eoe.c **** {
 222:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 223:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 224:Drivers/SOES/Src/esc_eoe.c **** 
 225:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 226:Drivers/SOES/Src/esc_eoe.c ****    {
 227:Drivers/SOES/Src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 228:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 229:Drivers/SOES/Src/esc_eoe.c ****       {
 230:Drivers/SOES/Src/esc_eoe.c ****          memcpy(mac, nic_ports[port_ix].mac.addr,
 231:Drivers/SOES/Src/esc_eoe.c ****                sizeof(nic_ports[port_ix].mac));
 232:Drivers/SOES/Src/esc_eoe.c ****          nic_ports[port_ix].mac_set = 1;
 233:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 234:Drivers/SOES/Src/esc_eoe.c ****       }
 235:Drivers/SOES/Src/esc_eoe.c ****    }
 236:Drivers/SOES/Src/esc_eoe.c ****    return ret;
 237:Drivers/SOES/Src/esc_eoe.c **** }
 238:Drivers/SOES/Src/esc_eoe.c **** 
 239:Drivers/SOES/Src/esc_eoe.c **** /** Set EoE cached MAC address
 240:Drivers/SOES/Src/esc_eoe.c ****  *
 241:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] port   = get MAC for port
 242:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] mac    = mac address to store
 243:Drivers/SOES/Src/esc_eoe.c ****  * @return 0= if we succeed, else -1.
ARM GAS  /tmp/ccwTT7Kw.s 			page 7


 244:Drivers/SOES/Src/esc_eoe.c ****  */
 245:Drivers/SOES/Src/esc_eoe.c **** int EOE_ecat_set_mac(uint8_t port, uint8_t mac[])
 246:Drivers/SOES/Src/esc_eoe.c **** {
 247:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 248:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 249:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 250:Drivers/SOES/Src/esc_eoe.c ****    {
 251:Drivers/SOES/Src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 252:Drivers/SOES/Src/esc_eoe.c ****       memcpy(nic_ports[port_ix].mac.addr, mac,
 253:Drivers/SOES/Src/esc_eoe.c ****             sizeof(nic_ports[port_ix].mac));
 254:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 255:Drivers/SOES/Src/esc_eoe.c ****    }
 256:Drivers/SOES/Src/esc_eoe.c ****    return ret;
 257:Drivers/SOES/Src/esc_eoe.c **** }
 258:Drivers/SOES/Src/esc_eoe.c **** 
 259:Drivers/SOES/Src/esc_eoe.c **** /** Get EoE cached ip address
 260:Drivers/SOES/Src/esc_eoe.c ****  *
 261:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] port  = get ip address for port
 262:Drivers/SOES/Src/esc_eoe.c ****  * @param[out] ip   = variable to store ip in
 263:Drivers/SOES/Src/esc_eoe.c ****  * @return 0= if we succeed, -1 if not set
 264:Drivers/SOES/Src/esc_eoe.c ****  */
 265:Drivers/SOES/Src/esc_eoe.c **** int EOE_ecat_get_ip(uint8_t port, uint32_t * ip)
 266:Drivers/SOES/Src/esc_eoe.c **** {
 267:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 268:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 269:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 270:Drivers/SOES/Src/esc_eoe.c ****    {
 271:Drivers/SOES/Src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 272:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].ip_set)
 273:Drivers/SOES/Src/esc_eoe.c ****       {
 274:Drivers/SOES/Src/esc_eoe.c ****          *ip = EOE_NTOHL(nic_ports[port_ix].ip.addr);
 275:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 276:Drivers/SOES/Src/esc_eoe.c ****       }
 277:Drivers/SOES/Src/esc_eoe.c ****    }
 278:Drivers/SOES/Src/esc_eoe.c ****    return ret;
 279:Drivers/SOES/Src/esc_eoe.c **** }
 280:Drivers/SOES/Src/esc_eoe.c **** 
 281:Drivers/SOES/Src/esc_eoe.c **** /** Set EoE cached ip address
 282:Drivers/SOES/Src/esc_eoe.c ****  *
 283:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] port   = get ip for port
 284:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] ip     = ip address to store
 285:Drivers/SOES/Src/esc_eoe.c ****  * @return 0= if we succeed, else -1.
 286:Drivers/SOES/Src/esc_eoe.c ****  */
 287:Drivers/SOES/Src/esc_eoe.c **** int EOE_ecat_set_ip(uint8_t port, uint32_t  ip)
 288:Drivers/SOES/Src/esc_eoe.c **** {
 289:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 290:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 291:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 292:Drivers/SOES/Src/esc_eoe.c ****    {
 293:Drivers/SOES/Src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 294:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].ip.addr = EOE_HTONL(ip);
 295:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].ip_set = 1;
 296:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 297:Drivers/SOES/Src/esc_eoe.c ****    }
 298:Drivers/SOES/Src/esc_eoe.c ****    return ret;
 299:Drivers/SOES/Src/esc_eoe.c **** }
 300:Drivers/SOES/Src/esc_eoe.c **** 
ARM GAS  /tmp/ccwTT7Kw.s 			page 8


 301:Drivers/SOES/Src/esc_eoe.c **** /** Get EoE cached subnet ip address
 302:Drivers/SOES/Src/esc_eoe.c ****  *
 303:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] port    = get ip address for port
 304:Drivers/SOES/Src/esc_eoe.c ****  * @param[out] subnet = variable to store ip in
 305:Drivers/SOES/Src/esc_eoe.c ****  * @return 0= if we succeed, -1 if not set
 306:Drivers/SOES/Src/esc_eoe.c ****  */
 307:Drivers/SOES/Src/esc_eoe.c **** int EOE_ecat_get_subnet(uint8_t port, uint32_t * subnet)
 308:Drivers/SOES/Src/esc_eoe.c **** {
 309:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 310:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 311:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 312:Drivers/SOES/Src/esc_eoe.c ****    {
 313:Drivers/SOES/Src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 314:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].subnet_set)
 315:Drivers/SOES/Src/esc_eoe.c ****       {
 316:Drivers/SOES/Src/esc_eoe.c ****          *subnet = EOE_NTOHL(nic_ports[port_ix].subnet.addr);
 317:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 318:Drivers/SOES/Src/esc_eoe.c ****       }
 319:Drivers/SOES/Src/esc_eoe.c ****    }
 320:Drivers/SOES/Src/esc_eoe.c ****    return ret;
 321:Drivers/SOES/Src/esc_eoe.c **** }
 322:Drivers/SOES/Src/esc_eoe.c **** 
 323:Drivers/SOES/Src/esc_eoe.c **** /** Set EoE cached subnet ip address
 324:Drivers/SOES/Src/esc_eoe.c ****  *
 325:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] port   = get ip for port
 326:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] subnet = ip address to store
 327:Drivers/SOES/Src/esc_eoe.c ****  * @return 0= if we succeed, else -1.
 328:Drivers/SOES/Src/esc_eoe.c ****  */
 329:Drivers/SOES/Src/esc_eoe.c **** int EOE_ecat_set_subnet(uint8_t port, uint32_t subnet)
 330:Drivers/SOES/Src/esc_eoe.c **** {
 331:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 332:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 333:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 334:Drivers/SOES/Src/esc_eoe.c ****    {
 335:Drivers/SOES/Src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 336:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].subnet.addr = EOE_HTONL(subnet);
 337:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].subnet_set = 1;
 338:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 339:Drivers/SOES/Src/esc_eoe.c ****    }
 340:Drivers/SOES/Src/esc_eoe.c ****    return ret;
 341:Drivers/SOES/Src/esc_eoe.c **** }
 342:Drivers/SOES/Src/esc_eoe.c **** 
 343:Drivers/SOES/Src/esc_eoe.c **** /** Get EoE cached default gateway ip address
 344:Drivers/SOES/Src/esc_eoe.c ****  *
 345:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] port             = get ip address for port
 346:Drivers/SOES/Src/esc_eoe.c ****  * @param[out] default_gateway = variable to store ip in
 347:Drivers/SOES/Src/esc_eoe.c ****  * @return 0= if we succeed, -1 if not set
 348:Drivers/SOES/Src/esc_eoe.c ****  */
 349:Drivers/SOES/Src/esc_eoe.c **** int EOE_ecat_get_gateway(uint8_t port, uint32_t * default_gateway)
 350:Drivers/SOES/Src/esc_eoe.c **** {
 351:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 352:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 353:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 354:Drivers/SOES/Src/esc_eoe.c ****    {
 355:Drivers/SOES/Src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 356:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].default_gateway_set)
 357:Drivers/SOES/Src/esc_eoe.c ****       {
ARM GAS  /tmp/ccwTT7Kw.s 			page 9


 358:Drivers/SOES/Src/esc_eoe.c ****          *default_gateway =
 359:Drivers/SOES/Src/esc_eoe.c ****                EOE_NTOHL(nic_ports[port_ix].default_gateway.addr);
 360:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 361:Drivers/SOES/Src/esc_eoe.c ****       }
 362:Drivers/SOES/Src/esc_eoe.c ****    }
 363:Drivers/SOES/Src/esc_eoe.c ****    return ret;
 364:Drivers/SOES/Src/esc_eoe.c **** }
 365:Drivers/SOES/Src/esc_eoe.c **** 
 366:Drivers/SOES/Src/esc_eoe.c **** /** Set EoE cached default gateway ip address
 367:Drivers/SOES/Src/esc_eoe.c ****  *
 368:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] port            = get ip for port
 369:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] default_gateway = ip address to store
 370:Drivers/SOES/Src/esc_eoe.c ****  * @return 0= if we succeed, else -1.
 371:Drivers/SOES/Src/esc_eoe.c ****  */
 372:Drivers/SOES/Src/esc_eoe.c **** int EOE_ecat_set_gateway(uint8_t port, uint32_t default_gateway)
 373:Drivers/SOES/Src/esc_eoe.c **** {
 374:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 375:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 376:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 377:Drivers/SOES/Src/esc_eoe.c ****    {
 378:Drivers/SOES/Src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 379:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].default_gateway.addr =
 380:Drivers/SOES/Src/esc_eoe.c ****             EOE_HTONL(default_gateway);
 381:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].default_gateway_set = 1;
 382:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 383:Drivers/SOES/Src/esc_eoe.c ****    }
 384:Drivers/SOES/Src/esc_eoe.c ****    return ret;
 385:Drivers/SOES/Src/esc_eoe.c **** }
 386:Drivers/SOES/Src/esc_eoe.c **** 
 387:Drivers/SOES/Src/esc_eoe.c **** /** Get EoE cached dns ip address
 388:Drivers/SOES/Src/esc_eoe.c ****  *
 389:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] port    = get ip address for port
 390:Drivers/SOES/Src/esc_eoe.c ****  * @param[out] dns_ip = variable to store ip in
 391:Drivers/SOES/Src/esc_eoe.c ****  * @return 0= if we succeed, -1 if not set
 392:Drivers/SOES/Src/esc_eoe.c ****  */
 393:Drivers/SOES/Src/esc_eoe.c **** int EOE_ecat_get_dns_ip(uint8_t port, uint32_t * dns_ip)
 394:Drivers/SOES/Src/esc_eoe.c **** {
 395:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 396:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 397:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 398:Drivers/SOES/Src/esc_eoe.c ****    {
 399:Drivers/SOES/Src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 400:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].dns_ip_set)
 401:Drivers/SOES/Src/esc_eoe.c ****       {
 402:Drivers/SOES/Src/esc_eoe.c ****          *dns_ip = EOE_NTOHL(nic_ports[port_ix].dns_ip.addr);
 403:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 404:Drivers/SOES/Src/esc_eoe.c ****       }
 405:Drivers/SOES/Src/esc_eoe.c ****    }
 406:Drivers/SOES/Src/esc_eoe.c ****    return ret;
 407:Drivers/SOES/Src/esc_eoe.c **** }
 408:Drivers/SOES/Src/esc_eoe.c **** 
 409:Drivers/SOES/Src/esc_eoe.c **** /** Set EoE cached dns ip address
 410:Drivers/SOES/Src/esc_eoe.c ****  *
 411:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] port   = get ip for port
 412:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] dns_ip = ip address to store
 413:Drivers/SOES/Src/esc_eoe.c ****  * @return 0= if we succeed, else -1.
 414:Drivers/SOES/Src/esc_eoe.c ****  */
ARM GAS  /tmp/ccwTT7Kw.s 			page 10


 415:Drivers/SOES/Src/esc_eoe.c **** int EOE_ecat_set_dns_ip(uint8_t port, uint32_t dns_ip)
 416:Drivers/SOES/Src/esc_eoe.c **** {
 417:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 418:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 419:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 420:Drivers/SOES/Src/esc_eoe.c ****    {
 421:Drivers/SOES/Src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 422:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].dns_ip.addr = EOE_HTONL(dns_ip);
 423:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].dns_ip_set = 1;
 424:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 425:Drivers/SOES/Src/esc_eoe.c ****    }
 426:Drivers/SOES/Src/esc_eoe.c ****    return ret;
 427:Drivers/SOES/Src/esc_eoe.c **** }
 428:Drivers/SOES/Src/esc_eoe.c **** 
 429:Drivers/SOES/Src/esc_eoe.c **** /** Get EoE cached dns name
 430:Drivers/SOES/Src/esc_eoe.c ****  *
 431:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] port      = get dns name for port
 432:Drivers/SOES/Src/esc_eoe.c ****  * @param[out] dns_name = variable to store dns name in
 433:Drivers/SOES/Src/esc_eoe.c ****  * @return 0= if we succeed, -1 if not set
 434:Drivers/SOES/Src/esc_eoe.c ****  */
 435:Drivers/SOES/Src/esc_eoe.c **** int EOE_ecat_get_dns_name(uint8_t port, char * dns_name)
 436:Drivers/SOES/Src/esc_eoe.c **** {
 437:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 438:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 439:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 440:Drivers/SOES/Src/esc_eoe.c ****    {
 441:Drivers/SOES/Src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 442:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].dns_name_set)
 443:Drivers/SOES/Src/esc_eoe.c ****       {
 444:Drivers/SOES/Src/esc_eoe.c ****          memcpy(dns_name,
 445:Drivers/SOES/Src/esc_eoe.c ****                nic_ports[port_ix].dns_name,
 446:Drivers/SOES/Src/esc_eoe.c ****                sizeof(nic_ports[port_ix].dns_name));
 447:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 448:Drivers/SOES/Src/esc_eoe.c ****       }
 449:Drivers/SOES/Src/esc_eoe.c ****    }
 450:Drivers/SOES/Src/esc_eoe.c ****    return ret;
 451:Drivers/SOES/Src/esc_eoe.c **** }
 452:Drivers/SOES/Src/esc_eoe.c **** 
 453:Drivers/SOES/Src/esc_eoe.c **** /** Set EoE cached dns name
 454:Drivers/SOES/Src/esc_eoe.c ****  *
 455:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] port     = get dns name for port
 456:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] dns_name = dns name to store
 457:Drivers/SOES/Src/esc_eoe.c ****  * @return 0= if we succeed, else -1.
 458:Drivers/SOES/Src/esc_eoe.c ****  */
 459:Drivers/SOES/Src/esc_eoe.c **** int EOE_ecat_set_dns_name(uint8_t port, char * dns_name)
 460:Drivers/SOES/Src/esc_eoe.c **** {
 461:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 462:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 463:Drivers/SOES/Src/esc_eoe.c **** 
 464:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 465:Drivers/SOES/Src/esc_eoe.c ****    {
 466:Drivers/SOES/Src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 467:Drivers/SOES/Src/esc_eoe.c ****       memcpy(nic_ports[port_ix].dns_name,
 468:Drivers/SOES/Src/esc_eoe.c ****             dns_name,
 469:Drivers/SOES/Src/esc_eoe.c ****             sizeof(nic_ports[port_ix].dns_name));
 470:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].dns_name_set = 1;
 471:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
ARM GAS  /tmp/ccwTT7Kw.s 			page 11


 472:Drivers/SOES/Src/esc_eoe.c ****    }
 473:Drivers/SOES/Src/esc_eoe.c ****    return ret;
 474:Drivers/SOES/Src/esc_eoe.c **** }
 475:Drivers/SOES/Src/esc_eoe.c **** 
 476:Drivers/SOES/Src/esc_eoe.c **** /** Function for sending an simple EOE response frame.
 477:Drivers/SOES/Src/esc_eoe.c ****  *
 478:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] frametype1 = frame type of response
 479:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] result    = result code
 480:Drivers/SOES/Src/esc_eoe.c ****  */
 481:Drivers/SOES/Src/esc_eoe.c **** static void EOE_no_data_response (uint16_t frameinfo1, uint16_t result)
 482:Drivers/SOES/Src/esc_eoe.c **** {
 483:Drivers/SOES/Src/esc_eoe.c ****    _EOE *eoembx;
 484:Drivers/SOES/Src/esc_eoe.c ****    uint8_t mbxhandle;
 485:Drivers/SOES/Src/esc_eoe.c **** 
 486:Drivers/SOES/Src/esc_eoe.c ****    /* Send back a response packet. */
 487:Drivers/SOES/Src/esc_eoe.c ****    mbxhandle = ESC_claimbuffer ();
 488:Drivers/SOES/Src/esc_eoe.c ****    if (mbxhandle)
 489:Drivers/SOES/Src/esc_eoe.c ****    {
 490:Drivers/SOES/Src/esc_eoe.c ****       eoembx = (_EOE *) &MBX[mbxhandle * ESC_MBXSIZE];
 491:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE);
 492:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 493:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 494:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.result = htoes(result);
 495:Drivers/SOES/Src/esc_eoe.c ****       MBXcontrol[mbxhandle].state = MBXstate_outreq;
 496:Drivers/SOES/Src/esc_eoe.c ****    }
 497:Drivers/SOES/Src/esc_eoe.c **** }
 498:Drivers/SOES/Src/esc_eoe.c **** 
 499:Drivers/SOES/Src/esc_eoe.c **** /** EoE get IP param request handler. Will send a get IP param response.
 500:Drivers/SOES/Src/esc_eoe.c ****  */
 501:Drivers/SOES/Src/esc_eoe.c **** static void EOE_get_ip (void)
 502:Drivers/SOES/Src/esc_eoe.c **** {
 503:Drivers/SOES/Src/esc_eoe.c ****    _EOE *req_eoembx;
 504:Drivers/SOES/Src/esc_eoe.c ****    _EOE *eoembx;
 505:Drivers/SOES/Src/esc_eoe.c ****    uint8_t mbxhandle;
 506:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo1;
 507:Drivers/SOES/Src/esc_eoe.c ****    uint8_t port;
 508:Drivers/SOES/Src/esc_eoe.c ****    uint8_t  flags;
 509:Drivers/SOES/Src/esc_eoe.c ****    uint8_t  data_offset;
 510:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 511:Drivers/SOES/Src/esc_eoe.c **** 
 512:Drivers/SOES/Src/esc_eoe.c ****    req_eoembx = (_EOE *) &MBX[0];
 513:Drivers/SOES/Src/esc_eoe.c ****    frameinfo1 = etohs(req_eoembx->eoeheader.frameinfo1);
 514:Drivers/SOES/Src/esc_eoe.c ****    port = EOE_HDR_FRAME_PORT_GET(frameinfo1);
 515:Drivers/SOES/Src/esc_eoe.c ****    data_offset = EOE_PARAM_OFFSET;
 516:Drivers/SOES/Src/esc_eoe.c ****    flags = 0;
 517:Drivers/SOES/Src/esc_eoe.c **** 
 518:Drivers/SOES/Src/esc_eoe.c ****    if(port  > EOE_NUMBER_OF_PORTS)
 519:Drivers/SOES/Src/esc_eoe.c ****    {
 520:Drivers/SOES/Src/esc_eoe.c ****       DPRINT("Invalid port\n");
 521:Drivers/SOES/Src/esc_eoe.c ****       /* Return error response on given port */
 522:Drivers/SOES/Src/esc_eoe.c ****       EOE_no_data_response((EOE_HDR_FRAME_PORT_SET(port) |
 523:Drivers/SOES/Src/esc_eoe.c ****             EOE_INIT_RESP |
 524:Drivers/SOES/Src/esc_eoe.c ****             EOE_HDR_LAST_FRAGMENT),
 525:Drivers/SOES/Src/esc_eoe.c ****             EOE_RESULT_UNSPECIFIED_ERROR);
 526:Drivers/SOES/Src/esc_eoe.c ****       return;
 527:Drivers/SOES/Src/esc_eoe.c ****    }
 528:Drivers/SOES/Src/esc_eoe.c **** 
ARM GAS  /tmp/ccwTT7Kw.s 			page 12


 529:Drivers/SOES/Src/esc_eoe.c ****    /* Refresh settings if needed */
 530:Drivers/SOES/Src/esc_eoe.c ****    if(eoe_cfg->load_eth_settings != NULL)
 531:Drivers/SOES/Src/esc_eoe.c ****    {
 532:Drivers/SOES/Src/esc_eoe.c ****       (void)eoe_cfg->load_eth_settings();
 533:Drivers/SOES/Src/esc_eoe.c ****    }
 534:Drivers/SOES/Src/esc_eoe.c **** 
 535:Drivers/SOES/Src/esc_eoe.c ****    /* Send back an response packet. */
 536:Drivers/SOES/Src/esc_eoe.c ****    mbxhandle = ESC_claimbuffer ();
 537:Drivers/SOES/Src/esc_eoe.c ****    if (mbxhandle)
 538:Drivers/SOES/Src/esc_eoe.c ****    {
 539:Drivers/SOES/Src/esc_eoe.c ****       eoembx = (_EOE *) &MBX[mbxhandle * ESC_MBXSIZE];
 540:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 541:Drivers/SOES/Src/esc_eoe.c ****       MBXcontrol[mbxhandle].state = MBXstate_outreq;
 542:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 =
 543:Drivers/SOES/Src/esc_eoe.c ****             htoes(EOE_HDR_FRAME_TYPE_SET(EOE_GET_IP_PARAM_RESP) |
 544:Drivers/SOES/Src/esc_eoe.c ****                   EOE_HDR_FRAME_PORT_SET(port) |
 545:Drivers/SOES/Src/esc_eoe.c ****                   EOE_HDR_LAST_FRAGMENT);
 546:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.frameinfo2 = 0;
 547:Drivers/SOES/Src/esc_eoe.c **** 
 548:Drivers/SOES/Src/esc_eoe.c ****       /* include mac in get ip request */
 549:Drivers/SOES/Src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 550:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 551:Drivers/SOES/Src/esc_eoe.c ****       {
 552:Drivers/SOES/Src/esc_eoe.c ****          flags |= EOE_PARAM_MAC_INCLUDE;
 553:Drivers/SOES/Src/esc_eoe.c ****          memcpy(&eoembx->data[data_offset] ,
 554:Drivers/SOES/Src/esc_eoe.c ****                nic_ports[port_ix].mac.addr,
 555:Drivers/SOES/Src/esc_eoe.c ****                EOE_ETHADDR_LENGTH);
 556:Drivers/SOES/Src/esc_eoe.c ****          /* Add size of mac address */
 557:Drivers/SOES/Src/esc_eoe.c ****          data_offset += EOE_ETHADDR_LENGTH;
 558:Drivers/SOES/Src/esc_eoe.c **** 
 559:Drivers/SOES/Src/esc_eoe.c ****       }
 560:Drivers/SOES/Src/esc_eoe.c ****       /* include ip in get ip request */
 561:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].ip_set)
 562:Drivers/SOES/Src/esc_eoe.c ****       {
 563:Drivers/SOES/Src/esc_eoe.c ****          flags |= EOE_PARAM_IP_INCLUDE;
 564:Drivers/SOES/Src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].ip,
 565:Drivers/SOES/Src/esc_eoe.c ****                &eoembx->data[data_offset]);
 566:Drivers/SOES/Src/esc_eoe.c ****          /* Add size of uint32 IP address */
 567:Drivers/SOES/Src/esc_eoe.c ****          data_offset += EOE_IP4_LENGTH;
 568:Drivers/SOES/Src/esc_eoe.c ****       }
 569:Drivers/SOES/Src/esc_eoe.c **** 
 570:Drivers/SOES/Src/esc_eoe.c ****       /* include subnet in get ip request */
 571:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].subnet_set)
 572:Drivers/SOES/Src/esc_eoe.c ****       {
 573:Drivers/SOES/Src/esc_eoe.c ****          flags |= EOE_PARAM_SUBNET_IP_INCLUDE;
 574:Drivers/SOES/Src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].subnet,
 575:Drivers/SOES/Src/esc_eoe.c ****                &eoembx->data[data_offset]);
 576:Drivers/SOES/Src/esc_eoe.c ****          /* Add size of uint32 IP address */
 577:Drivers/SOES/Src/esc_eoe.c ****          data_offset += EOE_IP4_LENGTH;
 578:Drivers/SOES/Src/esc_eoe.c ****       }
 579:Drivers/SOES/Src/esc_eoe.c **** 
 580:Drivers/SOES/Src/esc_eoe.c ****       /* include default gateway in get ip request */
 581:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].default_gateway_set)
 582:Drivers/SOES/Src/esc_eoe.c ****       {
 583:Drivers/SOES/Src/esc_eoe.c ****          flags |= EOE_PARAM_DEFAULT_GATEWAY_INCLUDE;
 584:Drivers/SOES/Src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].default_gateway,
 585:Drivers/SOES/Src/esc_eoe.c ****                &eoembx->data[data_offset]);
ARM GAS  /tmp/ccwTT7Kw.s 			page 13


 586:Drivers/SOES/Src/esc_eoe.c ****          /* Add size of uint32 IP address */
 587:Drivers/SOES/Src/esc_eoe.c ****          data_offset += EOE_IP4_LENGTH;
 588:Drivers/SOES/Src/esc_eoe.c ****       }
 589:Drivers/SOES/Src/esc_eoe.c ****       /* include dns ip in get ip request */
 590:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].dns_ip_set)
 591:Drivers/SOES/Src/esc_eoe.c ****       {
 592:Drivers/SOES/Src/esc_eoe.c ****          flags |= EOE_PARAM_DNS_IP_INCLUDE;
 593:Drivers/SOES/Src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].dns_ip,
 594:Drivers/SOES/Src/esc_eoe.c ****                &eoembx->data[data_offset]);
 595:Drivers/SOES/Src/esc_eoe.c ****          /* Add size of uint32 IP address */
 596:Drivers/SOES/Src/esc_eoe.c ****          data_offset += EOE_IP4_LENGTH;
 597:Drivers/SOES/Src/esc_eoe.c ****       }
 598:Drivers/SOES/Src/esc_eoe.c **** 
 599:Drivers/SOES/Src/esc_eoe.c ****       /* include dns name in get ip request */
 600:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].dns_name_set)
 601:Drivers/SOES/Src/esc_eoe.c ****       {
 602:Drivers/SOES/Src/esc_eoe.c ****          /* TwinCAT include EOE_DNS_NAME_LENGTH chars even if name is shorter */
 603:Drivers/SOES/Src/esc_eoe.c ****          flags |= EOE_PARAM_DNS_NAME_INCLUDE;
 604:Drivers/SOES/Src/esc_eoe.c ****          memcpy(&eoembx->data[data_offset],
 605:Drivers/SOES/Src/esc_eoe.c ****                nic_ports[port_ix].dns_name,
 606:Drivers/SOES/Src/esc_eoe.c ****                EOE_DNS_NAME_LENGTH);
 607:Drivers/SOES/Src/esc_eoe.c ****          /* Add size of dns name length */
 608:Drivers/SOES/Src/esc_eoe.c ****          data_offset += EOE_DNS_NAME_LENGTH;
 609:Drivers/SOES/Src/esc_eoe.c ****       }
 610:Drivers/SOES/Src/esc_eoe.c **** 
 611:Drivers/SOES/Src/esc_eoe.c ****       eoembx->data[0] = flags;
 612:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE + data_offset);
 613:Drivers/SOES/Src/esc_eoe.c ****    }
 614:Drivers/SOES/Src/esc_eoe.c **** }
 615:Drivers/SOES/Src/esc_eoe.c **** 
 616:Drivers/SOES/Src/esc_eoe.c **** /** EoE set IP param request handler. Will send a set IP param response.
 617:Drivers/SOES/Src/esc_eoe.c ****  */
 618:Drivers/SOES/Src/esc_eoe.c **** static void EOE_set_ip (void)
 619:Drivers/SOES/Src/esc_eoe.c **** {
 620:Drivers/SOES/Src/esc_eoe.c ****    _EOE *eoembx;
 621:Drivers/SOES/Src/esc_eoe.c ****    uint16_t eoedatasize;
 622:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo1;
 623:Drivers/SOES/Src/esc_eoe.c ****    uint8_t port;
 624:Drivers/SOES/Src/esc_eoe.c ****    uint8_t  flags;
 625:Drivers/SOES/Src/esc_eoe.c ****    uint8_t  data_offset;
 626:Drivers/SOES/Src/esc_eoe.c ****    uint16_t result;
 627:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 628:Drivers/SOES/Src/esc_eoe.c **** 
 629:Drivers/SOES/Src/esc_eoe.c ****    eoembx = (_EOE *) &MBX[0];
 630:Drivers/SOES/Src/esc_eoe.c ****    eoedatasize = etohs(eoembx->mbxheader.length) - ESC_EOEHSIZE;
 631:Drivers/SOES/Src/esc_eoe.c ****    frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
 632:Drivers/SOES/Src/esc_eoe.c ****    port = EOE_HDR_FRAME_PORT_GET(frameinfo1);
 633:Drivers/SOES/Src/esc_eoe.c ****    flags = eoembx->data[0];
 634:Drivers/SOES/Src/esc_eoe.c ****    data_offset = EOE_PARAM_OFFSET;
 635:Drivers/SOES/Src/esc_eoe.c **** 
 636:Drivers/SOES/Src/esc_eoe.c ****    if(port  > EOE_NUMBER_OF_PORTS)
 637:Drivers/SOES/Src/esc_eoe.c ****    {
 638:Drivers/SOES/Src/esc_eoe.c ****       DPRINT("Invalid port\n");
 639:Drivers/SOES/Src/esc_eoe.c ****       /* Return error response on given port */
 640:Drivers/SOES/Src/esc_eoe.c ****       EOE_no_data_response((EOE_HDR_FRAME_PORT_SET(port) |
 641:Drivers/SOES/Src/esc_eoe.c ****             EOE_INIT_RESP |
 642:Drivers/SOES/Src/esc_eoe.c ****             EOE_HDR_LAST_FRAGMENT),
ARM GAS  /tmp/ccwTT7Kw.s 			page 14


 643:Drivers/SOES/Src/esc_eoe.c ****             EOE_RESULT_UNSPECIFIED_ERROR);
 644:Drivers/SOES/Src/esc_eoe.c ****       return;
 645:Drivers/SOES/Src/esc_eoe.c ****    }
 646:Drivers/SOES/Src/esc_eoe.c **** 
 647:Drivers/SOES/Src/esc_eoe.c ****    /* mac included in set ip request? */
 648:Drivers/SOES/Src/esc_eoe.c ****    port_ix = EOE_PORT_INDEX(port);
 649:Drivers/SOES/Src/esc_eoe.c ****    if(flags & EOE_PARAM_MAC_INCLUDE)
 650:Drivers/SOES/Src/esc_eoe.c ****    {
 651:Drivers/SOES/Src/esc_eoe.c ****       memcpy(&nic_ports[port_ix].mac.addr,
 652:Drivers/SOES/Src/esc_eoe.c ****             &eoembx->data[data_offset],
 653:Drivers/SOES/Src/esc_eoe.c ****             EOE_ETHADDR_LENGTH);
 654:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].mac_set = 1;
 655:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of mac address */
 656:Drivers/SOES/Src/esc_eoe.c ****       data_offset += EOE_ETHADDR_LENGTH;
 657:Drivers/SOES/Src/esc_eoe.c ****    }
 658:Drivers/SOES/Src/esc_eoe.c ****    /* ip included in set ip request? */
 659:Drivers/SOES/Src/esc_eoe.c ****    if(flags & EOE_PARAM_IP_INCLUDE)
 660:Drivers/SOES/Src/esc_eoe.c ****    {
 661:Drivers/SOES/Src/esc_eoe.c ****       EOE_ip_byte_to_uint32(&eoembx->data[data_offset],
 662:Drivers/SOES/Src/esc_eoe.c ****             &nic_ports[port_ix].ip);
 663:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].ip_set = 1;
 664:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of uint32 IP address */
 665:Drivers/SOES/Src/esc_eoe.c ****       data_offset += EOE_IP4_LENGTH;
 666:Drivers/SOES/Src/esc_eoe.c ****    }
 667:Drivers/SOES/Src/esc_eoe.c ****    /* subnet included in set ip request? */
 668:Drivers/SOES/Src/esc_eoe.c ****    if(flags & EOE_PARAM_SUBNET_IP_INCLUDE)
 669:Drivers/SOES/Src/esc_eoe.c ****    {
 670:Drivers/SOES/Src/esc_eoe.c ****       EOE_ip_byte_to_uint32(&eoembx->data[data_offset],
 671:Drivers/SOES/Src/esc_eoe.c ****             &nic_ports[port_ix].subnet);
 672:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].subnet_set = 1;
 673:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of uint32 IP address */
 674:Drivers/SOES/Src/esc_eoe.c ****       data_offset += EOE_IP4_LENGTH;
 675:Drivers/SOES/Src/esc_eoe.c ****    }
 676:Drivers/SOES/Src/esc_eoe.c ****    /* default gateway included in set ip request? */
 677:Drivers/SOES/Src/esc_eoe.c ****    if(flags & EOE_PARAM_DEFAULT_GATEWAY_INCLUDE)
 678:Drivers/SOES/Src/esc_eoe.c ****    {
 679:Drivers/SOES/Src/esc_eoe.c ****       EOE_ip_byte_to_uint32(&eoembx->data[data_offset],
 680:Drivers/SOES/Src/esc_eoe.c ****             &nic_ports[port_ix].default_gateway);
 681:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].default_gateway_set = 1;
 682:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of uint32 IP address */
 683:Drivers/SOES/Src/esc_eoe.c ****       data_offset += EOE_IP4_LENGTH;
 684:Drivers/SOES/Src/esc_eoe.c ****    }
 685:Drivers/SOES/Src/esc_eoe.c ****    /* dns ip included in set ip request? */
 686:Drivers/SOES/Src/esc_eoe.c ****    if(flags & EOE_PARAM_DNS_IP_INCLUDE)
 687:Drivers/SOES/Src/esc_eoe.c ****    {
 688:Drivers/SOES/Src/esc_eoe.c ****       EOE_ip_byte_to_uint32(&eoembx->data[data_offset],
 689:Drivers/SOES/Src/esc_eoe.c ****             &nic_ports[port_ix].dns_ip);
 690:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].dns_ip_set = 1;
 691:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of uint32 IP address */
 692:Drivers/SOES/Src/esc_eoe.c ****       data_offset += EOE_IP4_LENGTH;
 693:Drivers/SOES/Src/esc_eoe.c ****    }
 694:Drivers/SOES/Src/esc_eoe.c ****    /* dns name included in set ip request? */
 695:Drivers/SOES/Src/esc_eoe.c ****    if(flags & EOE_PARAM_DNS_NAME_INCLUDE)
 696:Drivers/SOES/Src/esc_eoe.c ****    {
 697:Drivers/SOES/Src/esc_eoe.c ****       uint16_t dns_len = MIN((eoedatasize - data_offset), EOE_DNS_NAME_LENGTH);
 698:Drivers/SOES/Src/esc_eoe.c ****       memcpy(nic_ports[port_ix].dns_name,
 699:Drivers/SOES/Src/esc_eoe.c ****             &eoembx->data[data_offset],
ARM GAS  /tmp/ccwTT7Kw.s 			page 15


 700:Drivers/SOES/Src/esc_eoe.c ****             dns_len);
 701:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].dns_name_set = 1;
 702:Drivers/SOES/Src/esc_eoe.c ****       data_offset += dns_len; /* expected 1- EOE_DNS_NAME_LENGTH; */
 703:Drivers/SOES/Src/esc_eoe.c ****    }
 704:Drivers/SOES/Src/esc_eoe.c **** 
 705:Drivers/SOES/Src/esc_eoe.c ****    if(data_offset > eoedatasize)
 706:Drivers/SOES/Src/esc_eoe.c ****    {
 707:Drivers/SOES/Src/esc_eoe.c ****       result = MBXERR_SIZETOOSHORT;
 708:Drivers/SOES/Src/esc_eoe.c ****    }
 709:Drivers/SOES/Src/esc_eoe.c ****    else
 710:Drivers/SOES/Src/esc_eoe.c ****    {
 711:Drivers/SOES/Src/esc_eoe.c ****       /* Application specific store settings function. From there
 712:Drivers/SOES/Src/esc_eoe.c ****        * you typically set the IP for the TCP/IP stack */
 713:Drivers/SOES/Src/esc_eoe.c ****       if(eoe_cfg->store_ethernet_settings != NULL)
 714:Drivers/SOES/Src/esc_eoe.c ****       {
 715:Drivers/SOES/Src/esc_eoe.c ****          result = eoe_cfg->store_ethernet_settings();
 716:Drivers/SOES/Src/esc_eoe.c ****       }
 717:Drivers/SOES/Src/esc_eoe.c ****       else
 718:Drivers/SOES/Src/esc_eoe.c ****       {
 719:Drivers/SOES/Src/esc_eoe.c ****          result = EOE_RESULT_NO_IP_SUPPORT;
 720:Drivers/SOES/Src/esc_eoe.c ****       }
 721:Drivers/SOES/Src/esc_eoe.c ****    }
 722:Drivers/SOES/Src/esc_eoe.c ****    EOE_no_data_response((EOE_HDR_FRAME_PORT_SET(port) |
 723:Drivers/SOES/Src/esc_eoe.c ****          EOE_INIT_RESP |
 724:Drivers/SOES/Src/esc_eoe.c ****          EOE_HDR_LAST_FRAGMENT),
 725:Drivers/SOES/Src/esc_eoe.c ****          result);
 726:Drivers/SOES/Src/esc_eoe.c **** }
 727:Drivers/SOES/Src/esc_eoe.c **** 
 728:Drivers/SOES/Src/esc_eoe.c **** /** EoE receive fragment handler.
 729:Drivers/SOES/Src/esc_eoe.c ****  */
 730:Drivers/SOES/Src/esc_eoe.c **** static void EOE_receive_fragment (void)
 731:Drivers/SOES/Src/esc_eoe.c **** {
 732:Drivers/SOES/Src/esc_eoe.c ****    _EOE *eoembx;
 733:Drivers/SOES/Src/esc_eoe.c ****    eoembx = (_EOE *) &MBX[0];
 734:Drivers/SOES/Src/esc_eoe.c ****    uint16_t eoedatasize = etohs(eoembx->mbxheader.length) - ESC_EOEHSIZE;
 735:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
 736:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo2 = etohs(eoembx->eoeheader.frameinfo2);
 737:Drivers/SOES/Src/esc_eoe.c **** 
 738:Drivers/SOES/Src/esc_eoe.c ****    /* Capture error case */
 739:Drivers/SOES/Src/esc_eoe.c ****    if(EOEvar.rxfragmentno != EOE_HDR_FRAG_NO_GET(frameinfo2))
 740:Drivers/SOES/Src/esc_eoe.c ****    {
 741:Drivers/SOES/Src/esc_eoe.c ****       DPRINT("Unexpected fragment number %d, expected: %d\n",EOE_HDR_FRAG_NO_GET(frameinfo2), EOEva
 742:Drivers/SOES/Src/esc_eoe.c ****       /* Clean up existing saved data */
 743:Drivers/SOES/Src/esc_eoe.c ****       if(EOEvar.rxfragmentno != 0)
 744:Drivers/SOES/Src/esc_eoe.c ****       {
 745:Drivers/SOES/Src/esc_eoe.c ****          EOE_init_rx();
 746:Drivers/SOES/Src/esc_eoe.c ****       }
 747:Drivers/SOES/Src/esc_eoe.c ****       /* Skip fragment if not start of new frame */
 748:Drivers/SOES/Src/esc_eoe.c ****       if(EOE_HDR_FRAG_NO_GET(frameinfo2) > 0)
 749:Drivers/SOES/Src/esc_eoe.c ****       {
 750:Drivers/SOES/Src/esc_eoe.c ****          return;
 751:Drivers/SOES/Src/esc_eoe.c ****       }
 752:Drivers/SOES/Src/esc_eoe.c ****    }
 753:Drivers/SOES/Src/esc_eoe.c **** 
 754:Drivers/SOES/Src/esc_eoe.c ****    /* Start of new frame at fragment 0 */
 755:Drivers/SOES/Src/esc_eoe.c ****    if(EOEvar.rxfragmentno == 0)
 756:Drivers/SOES/Src/esc_eoe.c ****    {
ARM GAS  /tmp/ccwTT7Kw.s 			page 16


 757:Drivers/SOES/Src/esc_eoe.c ****       EOEvar.rxframesize = (EOE_HDR_FRAME_OFFSET_GET(frameinfo2) << 5);
 758:Drivers/SOES/Src/esc_eoe.c **** 
 759:Drivers/SOES/Src/esc_eoe.c ****       if(EOEvar.rxebuf.payload != NULL)
 760:Drivers/SOES/Src/esc_eoe.c ****       {
 761:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.rxebuf.len = EOEvar.rxframesize;
 762:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.rxframeoffset = 0;
 763:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.rxframeno = EOE_HDR_FRAME_NO_GET(frameinfo2);
 764:Drivers/SOES/Src/esc_eoe.c ****       }
 765:Drivers/SOES/Src/esc_eoe.c ****    }
 766:Drivers/SOES/Src/esc_eoe.c ****    /* In frame fragment received */
 767:Drivers/SOES/Src/esc_eoe.c ****    else
 768:Drivers/SOES/Src/esc_eoe.c ****    {
 769:Drivers/SOES/Src/esc_eoe.c ****       uint16_t offset = (EOE_HDR_FRAME_OFFSET_GET(frameinfo2) << 5);
 770:Drivers/SOES/Src/esc_eoe.c ****       /* Validate received fragment */
 771:Drivers/SOES/Src/esc_eoe.c ****       if(EOEvar.rxframeno != EOE_HDR_FRAME_NO_GET(frameinfo2))
 772:Drivers/SOES/Src/esc_eoe.c ****       {
 773:Drivers/SOES/Src/esc_eoe.c ****          DPRINT("Unexpected frame number %d, expected: %d\n",EOE_HDR_FRAME_NO_GET(frameinfo2), EOEv
 774:Drivers/SOES/Src/esc_eoe.c ****          EOE_init_rx ();
 775:Drivers/SOES/Src/esc_eoe.c ****          return;
 776:Drivers/SOES/Src/esc_eoe.c ****       }
 777:Drivers/SOES/Src/esc_eoe.c ****       else if(EOEvar.rxframeoffset != offset)
 778:Drivers/SOES/Src/esc_eoe.c ****       {
 779:Drivers/SOES/Src/esc_eoe.c ****          DPRINT("Unexpected frame offset %d, expected: %d\n",offset, EOEvar.rxframeoffset);
 780:Drivers/SOES/Src/esc_eoe.c ****          EOE_init_rx ();
 781:Drivers/SOES/Src/esc_eoe.c ****          return;
 782:Drivers/SOES/Src/esc_eoe.c ****       }
 783:Drivers/SOES/Src/esc_eoe.c ****    }
 784:Drivers/SOES/Src/esc_eoe.c **** 
 785:Drivers/SOES/Src/esc_eoe.c ****    /* Check so allocated buffer is sufficient */
 786:Drivers/SOES/Src/esc_eoe.c ****    if ((EOEvar.rxframeoffset + eoedatasize) <= EOEvar.rxframesize)
 787:Drivers/SOES/Src/esc_eoe.c ****    {
 788:Drivers/SOES/Src/esc_eoe.c ****       memcpy((uint8_t *)(EOEvar.rxebuf.payload + EOEvar.rxframeoffset),
 789:Drivers/SOES/Src/esc_eoe.c ****             eoembx->data,
 790:Drivers/SOES/Src/esc_eoe.c ****             eoedatasize);
 791:Drivers/SOES/Src/esc_eoe.c ****       EOEvar.rxframeoffset += eoedatasize;
 792:Drivers/SOES/Src/esc_eoe.c ****       EOEvar.rxfragmentno++;
 793:Drivers/SOES/Src/esc_eoe.c ****    }
 794:Drivers/SOES/Src/esc_eoe.c ****    else
 795:Drivers/SOES/Src/esc_eoe.c ****    {
 796:Drivers/SOES/Src/esc_eoe.c ****       DPRINT("Size of data exceed available buffer size\n");
 797:Drivers/SOES/Src/esc_eoe.c ****       EOE_init_rx ();
 798:Drivers/SOES/Src/esc_eoe.c ****       return;
 799:Drivers/SOES/Src/esc_eoe.c ****    }
 800:Drivers/SOES/Src/esc_eoe.c **** 
 801:Drivers/SOES/Src/esc_eoe.c ****    if(EOE_HDR_LAST_FRAGMENT_GET(frameinfo1))
 802:Drivers/SOES/Src/esc_eoe.c ****    {
 803:Drivers/SOES/Src/esc_eoe.c ****       /* Remove time stamp, TODO support for time stamp? */
 804:Drivers/SOES/Src/esc_eoe.c ****       if(EOE_HDR_TIME_APPEND_GET(frameinfo1))
 805:Drivers/SOES/Src/esc_eoe.c ****       {
 806:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.rxframeoffset -= 4;
 807:Drivers/SOES/Src/esc_eoe.c ****       }
 808:Drivers/SOES/Src/esc_eoe.c ****       EOEvar.rxebuf.len =  EOEvar.rxframeoffset;
 809:Drivers/SOES/Src/esc_eoe.c ****       eoe_cfg->handle_recv_buffer(EOE_HDR_FRAME_PORT_GET(frameinfo1),
 810:Drivers/SOES/Src/esc_eoe.c ****             &EOEvar.rxebuf);
 811:Drivers/SOES/Src/esc_eoe.c ****       /* Pass ownership of buf to receive function */
 812:Drivers/SOES/Src/esc_eoe.c ****       EOEvar.rxebuf.payload = NULL;
 813:Drivers/SOES/Src/esc_eoe.c ****       EOE_init_rx ();
ARM GAS  /tmp/ccwTT7Kw.s 			page 17


 814:Drivers/SOES/Src/esc_eoe.c ****    }
 815:Drivers/SOES/Src/esc_eoe.c **** }
 816:Drivers/SOES/Src/esc_eoe.c **** 
 817:Drivers/SOES/Src/esc_eoe.c **** /** EoE send fragment handler.
 818:Drivers/SOES/Src/esc_eoe.c ****  */
 819:Drivers/SOES/Src/esc_eoe.c **** static void EOE_send_fragment ()
 820:Drivers/SOES/Src/esc_eoe.c **** {
 821:Drivers/SOES/Src/esc_eoe.c ****    _EOE *eoembx;
 822:Drivers/SOES/Src/esc_eoe.c ****    uint8_t mbxhandle;
 823:Drivers/SOES/Src/esc_eoe.c ****    int len;
 824:Drivers/SOES/Src/esc_eoe.c ****    int len_to_send;
 825:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo1;
 826:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo2;
 827:Drivers/SOES/Src/esc_eoe.c ****    static uint8_t frameno = 0;
 828:Drivers/SOES/Src/esc_eoe.c **** 
 829:Drivers/SOES/Src/esc_eoe.c ****    /* Do we have a current transfer on-going */
 830:Drivers/SOES/Src/esc_eoe.c ****    if(EOEvar.txebuf.payload == NULL)
 831:Drivers/SOES/Src/esc_eoe.c ****    {
 832:Drivers/SOES/Src/esc_eoe.c ****       /* Fetch a buffer if available */
 833:Drivers/SOES/Src/esc_eoe.c ****       len = eoe_cfg->fetch_send_buffer(0, &EOEvar.txebuf);
 834:Drivers/SOES/Src/esc_eoe.c ****       if(len > 0)
 835:Drivers/SOES/Src/esc_eoe.c ****       {
 836:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.txframesize = len;
 837:Drivers/SOES/Src/esc_eoe.c ****       }
 838:Drivers/SOES/Src/esc_eoe.c ****       else
 839:Drivers/SOES/Src/esc_eoe.c ****       {
 840:Drivers/SOES/Src/esc_eoe.c ****          return;
 841:Drivers/SOES/Src/esc_eoe.c ****       }
 842:Drivers/SOES/Src/esc_eoe.c ****    }
 843:Drivers/SOES/Src/esc_eoe.c **** 
 844:Drivers/SOES/Src/esc_eoe.c ****    /* Process the frame if we can get a free mailbox */
 845:Drivers/SOES/Src/esc_eoe.c ****    mbxhandle = ESC_claimbuffer ();
 846:Drivers/SOES/Src/esc_eoe.c ****    if (mbxhandle)
 847:Drivers/SOES/Src/esc_eoe.c ****    {
 848:Drivers/SOES/Src/esc_eoe.c ****       len_to_send = EOEvar.txframesize - EOEvar.txframeoffset;
 849:Drivers/SOES/Src/esc_eoe.c ****       if((len_to_send + ESC_EOEHSIZE + ESC_MBXHSIZE) > ESC_MBXSIZE)
 850:Drivers/SOES/Src/esc_eoe.c ****       {
 851:Drivers/SOES/Src/esc_eoe.c ****          /* Adjust to len in whole 32 octet blocks to fit specification*/
 852:Drivers/SOES/Src/esc_eoe.c ****          len_to_send =
 853:Drivers/SOES/Src/esc_eoe.c ****                (((ESC_MBXSIZE - ESC_EOEHSIZE - ESC_MBXHSIZE) >> 5) << 5);
 854:Drivers/SOES/Src/esc_eoe.c ****       }
 855:Drivers/SOES/Src/esc_eoe.c **** 
 856:Drivers/SOES/Src/esc_eoe.c ****       /* TODO: port handling? */
 857:Drivers/SOES/Src/esc_eoe.c ****       if(len_to_send == (EOEvar.txframesize - EOEvar.txframeoffset))
 858:Drivers/SOES/Src/esc_eoe.c ****       {
 859:Drivers/SOES/Src/esc_eoe.c ****          frameinfo1 = EOE_HDR_LAST_FRAGMENT_SET(1);
 860:Drivers/SOES/Src/esc_eoe.c ****       }
 861:Drivers/SOES/Src/esc_eoe.c ****       else
 862:Drivers/SOES/Src/esc_eoe.c ****       {
 863:Drivers/SOES/Src/esc_eoe.c ****          frameinfo1 = 0;
 864:Drivers/SOES/Src/esc_eoe.c ****       }
 865:Drivers/SOES/Src/esc_eoe.c **** 
 866:Drivers/SOES/Src/esc_eoe.c ****       /* Set fragment number */
 867:Drivers/SOES/Src/esc_eoe.c ****       frameinfo2 = EOE_HDR_FRAG_NO_SET(EOEvar.txfragmentno);
 868:Drivers/SOES/Src/esc_eoe.c **** 
 869:Drivers/SOES/Src/esc_eoe.c ****       /* Set complete size for fragment 0 or offset for in frame fragments */
 870:Drivers/SOES/Src/esc_eoe.c ****       if(EOEvar.txfragmentno > 0)
ARM GAS  /tmp/ccwTT7Kw.s 			page 18


 871:Drivers/SOES/Src/esc_eoe.c ****       {
 872:Drivers/SOES/Src/esc_eoe.c ****          frameinfo2 |= (EOE_HDR_FRAME_OFFSET_SET((EOEvar.txframeoffset >> 5)));
 873:Drivers/SOES/Src/esc_eoe.c ****       }
 874:Drivers/SOES/Src/esc_eoe.c ****       else
 875:Drivers/SOES/Src/esc_eoe.c ****       {
 876:Drivers/SOES/Src/esc_eoe.c ****          frameinfo2 |=
 877:Drivers/SOES/Src/esc_eoe.c ****                (EOE_HDR_FRAME_OFFSET_SET(((EOEvar.txframesize + 31) >> 5)));
 878:Drivers/SOES/Src/esc_eoe.c ****          frameno++;
 879:Drivers/SOES/Src/esc_eoe.c ****       }
 880:Drivers/SOES/Src/esc_eoe.c **** 
 881:Drivers/SOES/Src/esc_eoe.c ****       /* Set frame number */
 882:Drivers/SOES/Src/esc_eoe.c ****       frameinfo2 = frameinfo2 | EOE_HDR_FRAME_NO_SET(frameno);
 883:Drivers/SOES/Src/esc_eoe.c **** 
 884:Drivers/SOES/Src/esc_eoe.c ****       eoembx = (_EOE *) &MBX[mbxhandle * ESC_MBXSIZE];
 885:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (len_to_send + ESC_EOEHSIZE);
 886:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 887:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 888:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.frameinfo2 = htoes(frameinfo2);
 889:Drivers/SOES/Src/esc_eoe.c **** 
 890:Drivers/SOES/Src/esc_eoe.c ****       /* Copy data to mailbox */
 891:Drivers/SOES/Src/esc_eoe.c ****       memcpy(eoembx->data,
 892:Drivers/SOES/Src/esc_eoe.c ****             &EOEvar.txebuf.payload[EOEvar.txframeoffset],
 893:Drivers/SOES/Src/esc_eoe.c ****             len_to_send);
 894:Drivers/SOES/Src/esc_eoe.c ****       MBXcontrol[mbxhandle].state = MBXstate_outreq;
 895:Drivers/SOES/Src/esc_eoe.c **** 
 896:Drivers/SOES/Src/esc_eoe.c ****       /* Did we complete the frame? */
 897:Drivers/SOES/Src/esc_eoe.c ****       if(len_to_send == (EOEvar.txframesize - EOEvar.txframeoffset))
 898:Drivers/SOES/Src/esc_eoe.c ****       {
 899:Drivers/SOES/Src/esc_eoe.c ****          EOE_init_tx ();
 900:Drivers/SOES/Src/esc_eoe.c ****       }
 901:Drivers/SOES/Src/esc_eoe.c ****       else
 902:Drivers/SOES/Src/esc_eoe.c ****       {
 903:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.txframeoffset += len_to_send;
 904:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.txfragmentno += 1;
 905:Drivers/SOES/Src/esc_eoe.c ****       }
 906:Drivers/SOES/Src/esc_eoe.c ****       if(eoe_cfg->fragment_sent_event != NULL)
 907:Drivers/SOES/Src/esc_eoe.c ****       {
 908:Drivers/SOES/Src/esc_eoe.c ****          eoe_cfg->fragment_sent_event();
 909:Drivers/SOES/Src/esc_eoe.c ****       }
 910:Drivers/SOES/Src/esc_eoe.c ****    }
 911:Drivers/SOES/Src/esc_eoe.c **** }
 912:Drivers/SOES/Src/esc_eoe.c **** 
 913:Drivers/SOES/Src/esc_eoe.c **** /** Initialize by clearing all current status variables and fetch new buffer.
 914:Drivers/SOES/Src/esc_eoe.c ****  */
 915:Drivers/SOES/Src/esc_eoe.c **** static void EOE_init_rx ()
 916:Drivers/SOES/Src/esc_eoe.c **** {
 105              		.loc 1 916 1 is_stmt 1 view -0
 106              		.cfi_startproc
 107              		@ args = 0, pretend = 0, frame = 0
 108              		@ frame_needed = 0, uses_anonymous_args = 0
 109 0000 08B5     		push	{r3, lr}
 110              		.cfi_def_cfa_offset 8
 111              		.cfi_offset 3, -8
 112              		.cfi_offset 14, -4
 917:Drivers/SOES/Src/esc_eoe.c ****    /* Reset RX transfer status variables */
 918:Drivers/SOES/Src/esc_eoe.c ****    EOEvar.rxfragmentno = 0;
 113              		.loc 1 918 4 view .LVU19
ARM GAS  /tmp/ccwTT7Kw.s 			page 19


 114              		.loc 1 918 24 is_stmt 0 view .LVU20
 115 0002 084B     		ldr	r3, .L7
 116 0004 0022     		movs	r2, #0
 117 0006 1A76     		strb	r2, [r3, #24]
 919:Drivers/SOES/Src/esc_eoe.c ****    EOEvar.rxframesize = 0;
 118              		.loc 1 919 4 is_stmt 1 view .LVU21
 119              		.loc 1 919 23 is_stmt 0 view .LVU22
 120 0008 5A83     		strh	r2, [r3, #26]	@ movhi
 920:Drivers/SOES/Src/esc_eoe.c ****    EOEvar.rxframeoffset = 0;
 121              		.loc 1 920 4 is_stmt 1 view .LVU23
 122              		.loc 1 920 25 is_stmt 0 view .LVU24
 123 000a 9A83     		strh	r2, [r3, #28]	@ movhi
 921:Drivers/SOES/Src/esc_eoe.c ****    EOEvar.rxframeno = 0;
 124              		.loc 1 921 4 is_stmt 1 view .LVU25
 125              		.loc 1 921 21 is_stmt 0 view .LVU26
 126 000c DA83     		strh	r2, [r3, #30]	@ movhi
 922:Drivers/SOES/Src/esc_eoe.c **** 
 923:Drivers/SOES/Src/esc_eoe.c ****    /* Fetch buffer */
 924:Drivers/SOES/Src/esc_eoe.c ****    if(EOEvar.rxebuf.payload == NULL)
 127              		.loc 1 924 4 is_stmt 1 view .LVU27
 128              		.loc 1 924 20 is_stmt 0 view .LVU28
 129 000e 5B68     		ldr	r3, [r3, #4]
 130              		.loc 1 924 6 view .LVU29
 131 0010 03B1     		cbz	r3, .L6
 132              	.L3:
 925:Drivers/SOES/Src/esc_eoe.c ****    {
 926:Drivers/SOES/Src/esc_eoe.c ****       if(eoe_cfg->get_buffer != NULL)
 927:Drivers/SOES/Src/esc_eoe.c ****       {
 928:Drivers/SOES/Src/esc_eoe.c ****          /* TODO: verify size VS buffer size */
 929:Drivers/SOES/Src/esc_eoe.c ****          eoe_cfg->get_buffer(&EOEvar.rxebuf);
 930:Drivers/SOES/Src/esc_eoe.c ****       }
 931:Drivers/SOES/Src/esc_eoe.c ****    }
 932:Drivers/SOES/Src/esc_eoe.c **** }
 133              		.loc 1 932 1 view .LVU30
 134 0012 08BD     		pop	{r3, pc}
 135              	.L6:
 926:Drivers/SOES/Src/esc_eoe.c ****       {
 136              		.loc 1 926 7 is_stmt 1 view .LVU31
 926:Drivers/SOES/Src/esc_eoe.c ****       {
 137              		.loc 1 926 17 is_stmt 0 view .LVU32
 138 0014 044B     		ldr	r3, .L7+4
 139 0016 1B68     		ldr	r3, [r3]
 140 0018 1B68     		ldr	r3, [r3]
 926:Drivers/SOES/Src/esc_eoe.c ****       {
 141              		.loc 1 926 9 view .LVU33
 142 001a 002B     		cmp	r3, #0
 143 001c F9D0     		beq	.L3
 929:Drivers/SOES/Src/esc_eoe.c ****       }
 144              		.loc 1 929 10 is_stmt 1 view .LVU34
 145 001e 0148     		ldr	r0, .L7
 146 0020 9847     		blx	r3
 147              	.LVL3:
 148              		.loc 1 932 1 is_stmt 0 view .LVU35
 149 0022 F6E7     		b	.L3
 150              	.L8:
 151              		.align	2
 152              	.L7:
ARM GAS  /tmp/ccwTT7Kw.s 			page 20


 153 0024 00000000 		.word	.LANCHOR0
 154 0028 00000000 		.word	.LANCHOR1
 155              		.cfi_endproc
 156              	.LFE19:
 158              		.section	.text.EOE_init_tx,"ax",%progbits
 159              		.align	1
 160              		.syntax unified
 161              		.thumb
 162              		.thumb_func
 164              	EOE_init_tx:
 165              	.LFB20:
 933:Drivers/SOES/Src/esc_eoe.c **** 
 934:Drivers/SOES/Src/esc_eoe.c **** /** Initialize by clearing all current status variables and release old buffer.
 935:Drivers/SOES/Src/esc_eoe.c ****  */
 936:Drivers/SOES/Src/esc_eoe.c **** static void EOE_init_tx ()
 937:Drivers/SOES/Src/esc_eoe.c **** {
 166              		.loc 1 937 1 is_stmt 1 view -0
 167              		.cfi_startproc
 168              		@ args = 0, pretend = 0, frame = 0
 169              		@ frame_needed = 0, uses_anonymous_args = 0
 938:Drivers/SOES/Src/esc_eoe.c ****    /* Reset TX transfer status variables */
 939:Drivers/SOES/Src/esc_eoe.c ****    EOEvar.txfragmentno = 0;
 170              		.loc 1 939 4 view .LVU37
 171              		.loc 1 939 24 is_stmt 0 view .LVU38
 172 0000 0B4B     		ldr	r3, .L15
 173 0002 0022     		movs	r2, #0
 174 0004 83F82020 		strb	r2, [r3, #32]
 940:Drivers/SOES/Src/esc_eoe.c ****    EOEvar.txframesize = 0;
 175              		.loc 1 940 4 is_stmt 1 view .LVU39
 176              		.loc 1 940 23 is_stmt 0 view .LVU40
 177 0008 5A84     		strh	r2, [r3, #34]	@ movhi
 941:Drivers/SOES/Src/esc_eoe.c ****    EOEvar.txframeoffset = 0;
 178              		.loc 1 941 4 is_stmt 1 view .LVU41
 179              		.loc 1 941 25 is_stmt 0 view .LVU42
 180 000a 9A84     		strh	r2, [r3, #36]	@ movhi
 942:Drivers/SOES/Src/esc_eoe.c **** 
 943:Drivers/SOES/Src/esc_eoe.c ****    /* Release what seems as an abandoned buffer */
 944:Drivers/SOES/Src/esc_eoe.c ****    if((EOEvar.txebuf.payload != NULL))
 181              		.loc 1 944 4 is_stmt 1 view .LVU43
 182              		.loc 1 944 21 is_stmt 0 view .LVU44
 183 000c 1B69     		ldr	r3, [r3, #16]
 184              		.loc 1 944 6 view .LVU45
 185 000e 6BB1     		cbz	r3, .L12
 945:Drivers/SOES/Src/esc_eoe.c ****    {
 946:Drivers/SOES/Src/esc_eoe.c ****       if(eoe_cfg->free_buffer != NULL)
 186              		.loc 1 946 7 is_stmt 1 view .LVU46
 187              		.loc 1 946 17 is_stmt 0 view .LVU47
 188 0010 084B     		ldr	r3, .L15+4
 189 0012 1B68     		ldr	r3, [r3]
 190 0014 5B68     		ldr	r3, [r3, #4]
 191              		.loc 1 946 9 view .LVU48
 192 0016 4BB1     		cbz	r3, .L12
 937:Drivers/SOES/Src/esc_eoe.c ****    /* Reset TX transfer status variables */
 193              		.loc 1 937 1 view .LVU49
 194 0018 10B5     		push	{r4, lr}
 195              		.cfi_def_cfa_offset 8
 196              		.cfi_offset 4, -8
ARM GAS  /tmp/ccwTT7Kw.s 			page 21


 197              		.cfi_offset 14, -4
 947:Drivers/SOES/Src/esc_eoe.c ****       {
 948:Drivers/SOES/Src/esc_eoe.c ****          eoe_cfg->free_buffer(&EOEvar.txebuf);
 198              		.loc 1 948 10 is_stmt 1 view .LVU50
 199 001a 054C     		ldr	r4, .L15
 200 001c 04F10C00 		add	r0, r4, #12
 201 0020 9847     		blx	r3
 202              	.LVL4:
 949:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.txebuf.pbuf = NULL;
 203              		.loc 1 949 10 view .LVU51
 204              		.loc 1 949 29 is_stmt 0 view .LVU52
 205 0022 0023     		movs	r3, #0
 206 0024 E360     		str	r3, [r4, #12]
 950:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.txebuf.payload = NULL;
 207              		.loc 1 950 10 is_stmt 1 view .LVU53
 208              		.loc 1 950 32 is_stmt 0 view .LVU54
 209 0026 2361     		str	r3, [r4, #16]
 951:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.txebuf.len = 0;
 210              		.loc 1 951 10 is_stmt 1 view .LVU55
 211              		.loc 1 951 28 is_stmt 0 view .LVU56
 212 0028 6361     		str	r3, [r4, #20]
 952:Drivers/SOES/Src/esc_eoe.c ****       }
 953:Drivers/SOES/Src/esc_eoe.c ****    }
 954:Drivers/SOES/Src/esc_eoe.c **** }
 213              		.loc 1 954 1 view .LVU57
 214 002a 10BD     		pop	{r4, pc}
 215              	.L12:
 216              		.cfi_def_cfa_offset 0
 217              		.cfi_restore 4
 218              		.cfi_restore 14
 219 002c 7047     		bx	lr
 220              	.L16:
 221 002e 00BF     		.align	2
 222              	.L15:
 223 0030 00000000 		.word	.LANCHOR0
 224 0034 00000000 		.word	.LANCHOR1
 225              		.cfi_endproc
 226              	.LFE20:
 228              		.section	.text.EOE_receive_fragment,"ax",%progbits
 229              		.align	1
 230              		.syntax unified
 231              		.thumb
 232              		.thumb_func
 234              	EOE_receive_fragment:
 235              	.LFB17:
 731:Drivers/SOES/Src/esc_eoe.c ****    _EOE *eoembx;
 236              		.loc 1 731 1 is_stmt 1 view -0
 237              		.cfi_startproc
 238              		@ args = 0, pretend = 0, frame = 0
 239              		@ frame_needed = 0, uses_anonymous_args = 0
 240 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 241              		.cfi_def_cfa_offset 24
 242              		.cfi_offset 3, -24
 243              		.cfi_offset 4, -20
 244              		.cfi_offset 5, -16
 245              		.cfi_offset 6, -12
 246              		.cfi_offset 7, -8
ARM GAS  /tmp/ccwTT7Kw.s 			page 22


 247              		.cfi_offset 14, -4
 732:Drivers/SOES/Src/esc_eoe.c ****    eoembx = (_EOE *) &MBX[0];
 248              		.loc 1 732 4 view .LVU59
 733:Drivers/SOES/Src/esc_eoe.c ****    uint16_t eoedatasize = etohs(eoembx->mbxheader.length) - ESC_EOEHSIZE;
 249              		.loc 1 733 4 view .LVU60
 250              	.LVL5:
 734:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
 251              		.loc 1 734 4 view .LVU61
 734:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
 252              		.loc 1 734 27 is_stmt 0 view .LVU62
 253 0002 334B     		ldr	r3, .L30
 254 0004 1C88     		ldrh	r4, [r3]	@ unaligned
 734:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
 255              		.loc 1 734 13 view .LVU63
 256 0006 043C     		subs	r4, r4, #4
 257 0008 A4B2     		uxth	r4, r4
 258              	.LVL6:
 735:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo2 = etohs(eoembx->eoeheader.frameinfo2);
 259              		.loc 1 735 4 is_stmt 1 view .LVU64
 735:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo2 = etohs(eoembx->eoeheader.frameinfo2);
 260              		.loc 1 735 13 is_stmt 0 view .LVU65
 261 000a DF88     		ldrh	r7, [r3, #6]	@ unaligned
 262              	.LVL7:
 736:Drivers/SOES/Src/esc_eoe.c **** 
 263              		.loc 1 736 4 is_stmt 1 view .LVU66
 736:Drivers/SOES/Src/esc_eoe.c **** 
 264              		.loc 1 736 13 is_stmt 0 view .LVU67
 265 000c 1D89     		ldrh	r5, [r3, #8]	@ unaligned
 266              	.LVL8:
 739:Drivers/SOES/Src/esc_eoe.c ****    {
 267              		.loc 1 739 4 is_stmt 1 view .LVU68
 739:Drivers/SOES/Src/esc_eoe.c ****    {
 268              		.loc 1 739 13 is_stmt 0 view .LVU69
 269 000e 314B     		ldr	r3, .L30+4
 270              	.LVL9:
 739:Drivers/SOES/Src/esc_eoe.c ****    {
 271              		.loc 1 739 13 view .LVU70
 272 0010 1B7E     		ldrb	r3, [r3, #24]	@ zero_extendqisi2
 273 0012 05F03F06 		and	r6, r5, #63
 739:Drivers/SOES/Src/esc_eoe.c ****    {
 274              		.loc 1 739 6 view .LVU71
 275 0016 B342     		cmp	r3, r6
 276 0018 03D0     		beq	.L18
 741:Drivers/SOES/Src/esc_eoe.c ****       /* Clean up existing saved data */
 277              		.loc 1 741 115 is_stmt 1 view .LVU72
 743:Drivers/SOES/Src/esc_eoe.c ****       {
 278              		.loc 1 743 7 view .LVU73
 743:Drivers/SOES/Src/esc_eoe.c ****       {
 279              		.loc 1 743 9 is_stmt 0 view .LVU74
 280 001a 002B     		cmp	r3, #0
 281 001c 3FD1     		bne	.L28
 282              	.LVL10:
 283              	.L19:
 748:Drivers/SOES/Src/esc_eoe.c ****       {
 284              		.loc 1 748 7 is_stmt 1 view .LVU75
 748:Drivers/SOES/Src/esc_eoe.c ****       {
 285              		.loc 1 748 9 is_stmt 0 view .LVU76
ARM GAS  /tmp/ccwTT7Kw.s 			page 23


 286 001e 002E     		cmp	r6, #0
 287 0020 55D1     		bne	.L17
 288              	.L18:
 755:Drivers/SOES/Src/esc_eoe.c ****    {
 289              		.loc 1 755 4 is_stmt 1 view .LVU77
 755:Drivers/SOES/Src/esc_eoe.c ****    {
 290              		.loc 1 755 13 is_stmt 0 view .LVU78
 291 0022 2C4B     		ldr	r3, .L30+4
 292 0024 1B7E     		ldrb	r3, [r3, #24]	@ zero_extendqisi2
 755:Drivers/SOES/Src/esc_eoe.c ****    {
 293              		.loc 1 755 6 view .LVU79
 294 0026 002B     		cmp	r3, #0
 295 0028 3CD1     		bne	.L21
 757:Drivers/SOES/Src/esc_eoe.c **** 
 296              		.loc 1 757 7 is_stmt 1 view .LVU80
 757:Drivers/SOES/Src/esc_eoe.c **** 
 297              		.loc 1 757 66 is_stmt 0 view .LVU81
 298 002a AB09     		lsrs	r3, r5, #6
 299 002c 5B01     		lsls	r3, r3, #5
 300 002e 03F4FC63 		and	r3, r3, #2016
 757:Drivers/SOES/Src/esc_eoe.c **** 
 301              		.loc 1 757 26 view .LVU82
 302 0032 284A     		ldr	r2, .L30+4
 303 0034 5383     		strh	r3, [r2, #26]	@ movhi
 759:Drivers/SOES/Src/esc_eoe.c ****       {
 304              		.loc 1 759 7 is_stmt 1 view .LVU83
 759:Drivers/SOES/Src/esc_eoe.c ****       {
 305              		.loc 1 759 23 is_stmt 0 view .LVU84
 306 0036 5268     		ldr	r2, [r2, #4]
 759:Drivers/SOES/Src/esc_eoe.c ****       {
 307              		.loc 1 759 9 view .LVU85
 308 0038 2AB1     		cbz	r2, .L22
 761:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.rxframeoffset = 0;
 309              		.loc 1 761 10 is_stmt 1 view .LVU86
 761:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.rxframeoffset = 0;
 310              		.loc 1 761 28 is_stmt 0 view .LVU87
 311 003a 264A     		ldr	r2, .L30+4
 312 003c 9360     		str	r3, [r2, #8]
 762:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.rxframeno = EOE_HDR_FRAME_NO_GET(frameinfo2);
 313              		.loc 1 762 10 is_stmt 1 view .LVU88
 762:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.rxframeno = EOE_HDR_FRAME_NO_GET(frameinfo2);
 314              		.loc 1 762 31 is_stmt 0 view .LVU89
 315 003e 0023     		movs	r3, #0
 316 0040 9383     		strh	r3, [r2, #28]	@ movhi
 763:Drivers/SOES/Src/esc_eoe.c ****       }
 317              		.loc 1 763 10 is_stmt 1 view .LVU90
 763:Drivers/SOES/Src/esc_eoe.c ****       }
 318              		.loc 1 763 27 is_stmt 0 view .LVU91
 319 0042 2D0B     		lsrs	r5, r5, #12
 320 0044 D583     		strh	r5, [r2, #30]	@ movhi
 321              	.L22:
 786:Drivers/SOES/Src/esc_eoe.c ****    {
 322              		.loc 1 786 4 is_stmt 1 view .LVU92
 786:Drivers/SOES/Src/esc_eoe.c ****    {
 323              		.loc 1 786 15 is_stmt 0 view .LVU93
 324 0046 234B     		ldr	r3, .L30+4
 325 0048 988B     		ldrh	r0, [r3, #28]
ARM GAS  /tmp/ccwTT7Kw.s 			page 24


 786:Drivers/SOES/Src/esc_eoe.c ****    {
 326              		.loc 1 786 30 view .LVU94
 327 004a 2218     		adds	r2, r4, r0
 786:Drivers/SOES/Src/esc_eoe.c ****    {
 328              		.loc 1 786 54 view .LVU95
 329 004c 5B8B     		ldrh	r3, [r3, #26]
 786:Drivers/SOES/Src/esc_eoe.c ****    {
 330              		.loc 1 786 7 view .LVU96
 331 004e 9A42     		cmp	r2, r3
 332 0050 3BDC     		bgt	.L24
 788:Drivers/SOES/Src/esc_eoe.c ****             eoembx->data,
 333              		.loc 1 788 7 is_stmt 1 view .LVU97
 788:Drivers/SOES/Src/esc_eoe.c ****             eoembx->data,
 334              		.loc 1 788 39 is_stmt 0 view .LVU98
 335 0052 204D     		ldr	r5, .L30+4
 336 0054 6B68     		ldr	r3, [r5, #4]
 788:Drivers/SOES/Src/esc_eoe.c ****             eoembx->data,
 337              		.loc 1 788 7 view .LVU99
 338 0056 2246     		mov	r2, r4
 339 0058 1F49     		ldr	r1, .L30+8
 340 005a 1844     		add	r0, r0, r3
 341 005c FFF7FEFF 		bl	memcpy
 342              	.LVL11:
 791:Drivers/SOES/Src/esc_eoe.c ****       EOEvar.rxfragmentno++;
 343              		.loc 1 791 7 is_stmt 1 view .LVU100
 791:Drivers/SOES/Src/esc_eoe.c ****       EOEvar.rxfragmentno++;
 344              		.loc 1 791 28 is_stmt 0 view .LVU101
 345 0060 AB8B     		ldrh	r3, [r5, #28]
 346 0062 1C44     		add	r4, r4, r3
 347              	.LVL12:
 791:Drivers/SOES/Src/esc_eoe.c ****       EOEvar.rxfragmentno++;
 348              		.loc 1 791 28 view .LVU102
 349 0064 A4B2     		uxth	r4, r4
 350 0066 AC83     		strh	r4, [r5, #28]	@ movhi
 792:Drivers/SOES/Src/esc_eoe.c ****    }
 351              		.loc 1 792 7 is_stmt 1 view .LVU103
 792:Drivers/SOES/Src/esc_eoe.c ****    }
 352              		.loc 1 792 13 is_stmt 0 view .LVU104
 353 0068 2B7E     		ldrb	r3, [r5, #24]	@ zero_extendqisi2
 792:Drivers/SOES/Src/esc_eoe.c ****    }
 354              		.loc 1 792 26 view .LVU105
 355 006a 0133     		adds	r3, r3, #1
 356 006c 2B76     		strb	r3, [r5, #24]
 801:Drivers/SOES/Src/esc_eoe.c ****    {
 357              		.loc 1 801 4 is_stmt 1 view .LVU106
 801:Drivers/SOES/Src/esc_eoe.c ****    {
 358              		.loc 1 801 6 is_stmt 0 view .LVU107
 359 006e 17F4807F 		tst	r7, #256
 360 0072 2CD0     		beq	.L17
 804:Drivers/SOES/Src/esc_eoe.c ****       {
 361              		.loc 1 804 7 is_stmt 1 view .LVU108
 804:Drivers/SOES/Src/esc_eoe.c ****       {
 362              		.loc 1 804 9 is_stmt 0 view .LVU109
 363 0074 17F4007F 		tst	r7, #512
 364 0078 02D0     		beq	.L26
 806:Drivers/SOES/Src/esc_eoe.c ****       }
 365              		.loc 1 806 10 is_stmt 1 view .LVU110
ARM GAS  /tmp/ccwTT7Kw.s 			page 25


 806:Drivers/SOES/Src/esc_eoe.c ****       }
 366              		.loc 1 806 31 is_stmt 0 view .LVU111
 367 007a 043C     		subs	r4, r4, #4
 368 007c 154B     		ldr	r3, .L30+4
 369 007e 9C83     		strh	r4, [r3, #28]	@ movhi
 370              	.L26:
 808:Drivers/SOES/Src/esc_eoe.c ****       eoe_cfg->handle_recv_buffer(EOE_HDR_FRAME_PORT_GET(frameinfo1),
 371              		.loc 1 808 7 is_stmt 1 view .LVU112
 808:Drivers/SOES/Src/esc_eoe.c ****       eoe_cfg->handle_recv_buffer(EOE_HDR_FRAME_PORT_GET(frameinfo1),
 372              		.loc 1 808 34 is_stmt 0 view .LVU113
 373 0080 144C     		ldr	r4, .L30+4
 374 0082 A38B     		ldrh	r3, [r4, #28]
 808:Drivers/SOES/Src/esc_eoe.c ****       eoe_cfg->handle_recv_buffer(EOE_HDR_FRAME_PORT_GET(frameinfo1),
 375              		.loc 1 808 25 view .LVU114
 376 0084 A360     		str	r3, [r4, #8]
 809:Drivers/SOES/Src/esc_eoe.c ****             &EOEvar.rxebuf);
 377              		.loc 1 809 7 is_stmt 1 view .LVU115
 809:Drivers/SOES/Src/esc_eoe.c ****             &EOEvar.rxebuf);
 378              		.loc 1 809 14 is_stmt 0 view .LVU116
 379 0086 154B     		ldr	r3, .L30+12
 380 0088 1B68     		ldr	r3, [r3]
 381 008a 1B69     		ldr	r3, [r3, #16]
 809:Drivers/SOES/Src/esc_eoe.c ****             &EOEvar.rxebuf);
 382              		.loc 1 809 7 view .LVU117
 383 008c 2146     		mov	r1, r4
 384 008e C7F30310 		ubfx	r0, r7, #4, #4
 385 0092 9847     		blx	r3
 386              	.LVL13:
 812:Drivers/SOES/Src/esc_eoe.c ****       EOE_init_rx ();
 387              		.loc 1 812 7 is_stmt 1 view .LVU118
 812:Drivers/SOES/Src/esc_eoe.c ****       EOE_init_rx ();
 388              		.loc 1 812 29 is_stmt 0 view .LVU119
 389 0094 0023     		movs	r3, #0
 390 0096 6360     		str	r3, [r4, #4]
 813:Drivers/SOES/Src/esc_eoe.c ****    }
 391              		.loc 1 813 7 is_stmt 1 view .LVU120
 392 0098 FFF7FEFF 		bl	EOE_init_rx
 393              	.LVL14:
 394 009c 17E0     		b	.L17
 395              	.LVL15:
 396              	.L28:
 745:Drivers/SOES/Src/esc_eoe.c ****       }
 397              		.loc 1 745 10 view .LVU121
 398 009e FFF7FEFF 		bl	EOE_init_rx
 399              	.LVL16:
 745:Drivers/SOES/Src/esc_eoe.c ****       }
 400              		.loc 1 745 10 is_stmt 0 view .LVU122
 401 00a2 BCE7     		b	.L19
 402              	.L21:
 403              	.LBB2:
 769:Drivers/SOES/Src/esc_eoe.c ****       /* Validate received fragment */
 404              		.loc 1 769 7 is_stmt 1 view .LVU123
 769:Drivers/SOES/Src/esc_eoe.c ****       /* Validate received fragment */
 405              		.loc 1 769 63 is_stmt 0 view .LVU124
 406 00a4 AB09     		lsrs	r3, r5, #6
 407 00a6 5B01     		lsls	r3, r3, #5
 769:Drivers/SOES/Src/esc_eoe.c ****       /* Validate received fragment */
ARM GAS  /tmp/ccwTT7Kw.s 			page 26


 408              		.loc 1 769 16 view .LVU125
 409 00a8 03F4FC63 		and	r3, r3, #2016
 410              	.LVL17:
 771:Drivers/SOES/Src/esc_eoe.c ****       {
 411              		.loc 1 771 7 is_stmt 1 view .LVU126
 771:Drivers/SOES/Src/esc_eoe.c ****       {
 412              		.loc 1 771 16 is_stmt 0 view .LVU127
 413 00ac 094A     		ldr	r2, .L30+4
 414 00ae D28B     		ldrh	r2, [r2, #30]
 771:Drivers/SOES/Src/esc_eoe.c ****       {
 415              		.loc 1 771 9 view .LVU128
 416 00b0 B2EB153F 		cmp	r2, r5, lsr #12
 417 00b4 06D1     		bne	.L29
 777:Drivers/SOES/Src/esc_eoe.c ****       {
 418              		.loc 1 777 12 is_stmt 1 view .LVU129
 777:Drivers/SOES/Src/esc_eoe.c ****       {
 419              		.loc 1 777 21 is_stmt 0 view .LVU130
 420 00b6 074A     		ldr	r2, .L30+4
 421 00b8 928B     		ldrh	r2, [r2, #28]
 777:Drivers/SOES/Src/esc_eoe.c ****       {
 422              		.loc 1 777 14 view .LVU131
 423 00ba 9A42     		cmp	r2, r3
 424 00bc C3D0     		beq	.L22
 779:Drivers/SOES/Src/esc_eoe.c ****          EOE_init_rx ();
 425              		.loc 1 779 91 is_stmt 1 view .LVU132
 780:Drivers/SOES/Src/esc_eoe.c ****          return;
 426              		.loc 1 780 10 view .LVU133
 427 00be FFF7FEFF 		bl	EOE_init_rx
 428              	.LVL18:
 781:Drivers/SOES/Src/esc_eoe.c ****       }
 429              		.loc 1 781 10 view .LVU134
 430 00c2 04E0     		b	.L17
 431              	.LVL19:
 432              	.L29:
 773:Drivers/SOES/Src/esc_eoe.c ****          EOE_init_rx ();
 433              		.loc 1 773 113 view .LVU135
 774:Drivers/SOES/Src/esc_eoe.c ****          return;
 434              		.loc 1 774 10 view .LVU136
 435 00c4 FFF7FEFF 		bl	EOE_init_rx
 436              	.LVL20:
 775:Drivers/SOES/Src/esc_eoe.c ****       }
 437              		.loc 1 775 10 view .LVU137
 438 00c8 01E0     		b	.L17
 439              	.LVL21:
 440              	.L24:
 775:Drivers/SOES/Src/esc_eoe.c ****       }
 441              		.loc 1 775 10 is_stmt 0 view .LVU138
 442              	.LBE2:
 796:Drivers/SOES/Src/esc_eoe.c ****       EOE_init_rx ();
 443              		.loc 1 796 60 is_stmt 1 view .LVU139
 797:Drivers/SOES/Src/esc_eoe.c ****       return;
 444              		.loc 1 797 7 view .LVU140
 445 00ca FFF7FEFF 		bl	EOE_init_rx
 446              	.LVL22:
 798:Drivers/SOES/Src/esc_eoe.c ****    }
 447              		.loc 1 798 7 view .LVU141
 448              	.L17:
ARM GAS  /tmp/ccwTT7Kw.s 			page 27


 815:Drivers/SOES/Src/esc_eoe.c **** 
 449              		.loc 1 815 1 is_stmt 0 view .LVU142
 450 00ce F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 451              	.L31:
 452              		.align	2
 453              	.L30:
 454 00d0 00000000 		.word	MBX
 455 00d4 00000000 		.word	.LANCHOR0
 456 00d8 0A000000 		.word	MBX+10
 457 00dc 00000000 		.word	.LANCHOR1
 458              		.cfi_endproc
 459              	.LFE17:
 461              		.section	.text.EOE_no_data_response,"ax",%progbits
 462              		.align	1
 463              		.syntax unified
 464              		.thumb
 465              		.thumb_func
 467              	EOE_no_data_response:
 468              	.LVL23:
 469              	.LFB14:
 482:Drivers/SOES/Src/esc_eoe.c ****    _EOE *eoembx;
 470              		.loc 1 482 1 is_stmt 1 view -0
 471              		.cfi_startproc
 472              		@ args = 0, pretend = 0, frame = 0
 473              		@ frame_needed = 0, uses_anonymous_args = 0
 482:Drivers/SOES/Src/esc_eoe.c ****    _EOE *eoembx;
 474              		.loc 1 482 1 is_stmt 0 view .LVU144
 475 0000 38B5     		push	{r3, r4, r5, lr}
 476              		.cfi_def_cfa_offset 16
 477              		.cfi_offset 3, -16
 478              		.cfi_offset 4, -12
 479              		.cfi_offset 5, -8
 480              		.cfi_offset 14, -4
 481 0002 0546     		mov	r5, r0
 482 0004 0C46     		mov	r4, r1
 483:Drivers/SOES/Src/esc_eoe.c ****    uint8_t mbxhandle;
 483              		.loc 1 483 4 is_stmt 1 view .LVU145
 484:Drivers/SOES/Src/esc_eoe.c **** 
 484              		.loc 1 484 4 view .LVU146
 487:Drivers/SOES/Src/esc_eoe.c ****    if (mbxhandle)
 485              		.loc 1 487 4 view .LVU147
 487:Drivers/SOES/Src/esc_eoe.c ****    if (mbxhandle)
 486              		.loc 1 487 16 is_stmt 0 view .LVU148
 487 0006 FFF7FEFF 		bl	ESC_claimbuffer
 488              	.LVL24:
 488:Drivers/SOES/Src/esc_eoe.c ****    {
 489              		.loc 1 488 4 is_stmt 1 view .LVU149
 488:Drivers/SOES/Src/esc_eoe.c ****    {
 490              		.loc 1 488 7 is_stmt 0 view .LVU150
 491 000a A8B1     		cbz	r0, .L32
 492 000c 8446     		mov	ip, r0
 490:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE);
 493              		.loc 1 490 7 is_stmt 1 view .LVU151
 490:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE);
 494              		.loc 1 490 42 is_stmt 0 view .LVU152
 495 000e 0B4B     		ldr	r3, .L35
 496 0010 9A6E     		ldr	r2, [r3, #104]
ARM GAS  /tmp/ccwTT7Kw.s 			page 28


 490:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE);
 497              		.loc 1 490 40 view .LVU153
 498 0012 02FB00F2 		mul	r2, r2, r0
 490:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE);
 499              		.loc 1 490 14 view .LVU154
 500 0016 0A49     		ldr	r1, .L35+4
 501 0018 5318     		adds	r3, r2, r1
 502              	.LVL25:
 491:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 503              		.loc 1 491 7 is_stmt 1 view .LVU155
 491:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 504              		.loc 1 491 32 is_stmt 0 view .LVU156
 505 001a 0420     		movs	r0, #4
 506              	.LVL26:
 491:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 507              		.loc 1 491 32 view .LVU157
 508 001c 5054     		strb	r0, [r2, r1]
 509 001e 0022     		movs	r2, #0
 510 0020 5A70     		strb	r2, [r3, #1]
 492:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 511              		.loc 1 492 7 is_stmt 1 view .LVU158
 492:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 512              		.loc 1 492 33 is_stmt 0 view .LVU159
 513 0022 5A79     		ldrb	r2, [r3, #5]	@ zero_extendqisi2
 514 0024 0221     		movs	r1, #2
 515 0026 61F30302 		bfi	r2, r1, #0, #4
 516 002a 5A71     		strb	r2, [r3, #5]
 493:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.result = htoes(result);
 517              		.loc 1 493 7 is_stmt 1 view .LVU160
 493:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.result = htoes(result);
 518              		.loc 1 493 36 is_stmt 0 view .LVU161
 519 002c DD80     		strh	r5, [r3, #6]	@ unaligned
 494:Drivers/SOES/Src/esc_eoe.c ****       MBXcontrol[mbxhandle].state = MBXstate_outreq;
 520              		.loc 1 494 7 is_stmt 1 view .LVU162
 494:Drivers/SOES/Src/esc_eoe.c ****       MBXcontrol[mbxhandle].state = MBXstate_outreq;
 521              		.loc 1 494 32 is_stmt 0 view .LVU163
 522 002e 1C81     		strh	r4, [r3, #8]	@ unaligned
 495:Drivers/SOES/Src/esc_eoe.c ****    }
 523              		.loc 1 495 7 is_stmt 1 view .LVU164
 495:Drivers/SOES/Src/esc_eoe.c ****    }
 524              		.loc 1 495 35 is_stmt 0 view .LVU165
 525 0030 044B     		ldr	r3, .L35+8
 526              	.LVL27:
 495:Drivers/SOES/Src/esc_eoe.c ****    }
 527              		.loc 1 495 35 view .LVU166
 528 0032 0322     		movs	r2, #3
 529 0034 03F80C20 		strb	r2, [r3, ip]
 530              	.LVL28:
 531              	.L32:
 497:Drivers/SOES/Src/esc_eoe.c **** 
 532              		.loc 1 497 1 view .LVU167
 533 0038 38BD     		pop	{r3, r4, r5, pc}
 534              	.L36:
 535 003a 00BF     		.align	2
 536              	.L35:
 537 003c 00000000 		.word	ESCvar
 538 0040 00000000 		.word	MBX
ARM GAS  /tmp/ccwTT7Kw.s 			page 29


 539 0044 00000000 		.word	MBXcontrol
 540              		.cfi_endproc
 541              	.LFE14:
 543              		.section	.text.EOE_set_ip,"ax",%progbits
 544              		.align	1
 545              		.syntax unified
 546              		.thumb
 547              		.thumb_func
 549              	EOE_set_ip:
 550              	.LFB16:
 619:Drivers/SOES/Src/esc_eoe.c ****    _EOE *eoembx;
 551              		.loc 1 619 1 is_stmt 1 view -0
 552              		.cfi_startproc
 553              		@ args = 0, pretend = 0, frame = 0
 554              		@ frame_needed = 0, uses_anonymous_args = 0
 555 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 556              		.cfi_def_cfa_offset 32
 557              		.cfi_offset 4, -32
 558              		.cfi_offset 5, -28
 559              		.cfi_offset 6, -24
 560              		.cfi_offset 7, -20
 561              		.cfi_offset 8, -16
 562              		.cfi_offset 9, -12
 563              		.cfi_offset 10, -8
 564              		.cfi_offset 14, -4
 620:Drivers/SOES/Src/esc_eoe.c ****    uint16_t eoedatasize;
 565              		.loc 1 620 4 view .LVU169
 621:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo1;
 566              		.loc 1 621 4 view .LVU170
 622:Drivers/SOES/Src/esc_eoe.c ****    uint8_t port;
 567              		.loc 1 622 4 view .LVU171
 623:Drivers/SOES/Src/esc_eoe.c ****    uint8_t  flags;
 568              		.loc 1 623 4 view .LVU172
 624:Drivers/SOES/Src/esc_eoe.c ****    uint8_t  data_offset;
 569              		.loc 1 624 4 view .LVU173
 625:Drivers/SOES/Src/esc_eoe.c ****    uint16_t result;
 570              		.loc 1 625 4 view .LVU174
 626:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 571              		.loc 1 626 4 view .LVU175
 627:Drivers/SOES/Src/esc_eoe.c **** 
 572              		.loc 1 627 4 view .LVU176
 629:Drivers/SOES/Src/esc_eoe.c ****    eoedatasize = etohs(eoembx->mbxheader.length) - ESC_EOEHSIZE;
 573              		.loc 1 629 4 view .LVU177
 574              	.LVL29:
 630:Drivers/SOES/Src/esc_eoe.c ****    frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
 575              		.loc 1 630 4 view .LVU178
 630:Drivers/SOES/Src/esc_eoe.c ****    frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
 576              		.loc 1 630 18 is_stmt 0 view .LVU179
 577 0004 764B     		ldr	r3, .L60
 578 0006 1F88     		ldrh	r7, [r3]	@ unaligned
 579              	.LVL30:
 631:Drivers/SOES/Src/esc_eoe.c ****    port = EOE_HDR_FRAME_PORT_GET(frameinfo1);
 580              		.loc 1 631 4 is_stmt 1 view .LVU180
 631:Drivers/SOES/Src/esc_eoe.c ****    port = EOE_HDR_FRAME_PORT_GET(frameinfo1);
 581              		.loc 1 631 15 is_stmt 0 view .LVU181
 582 0008 DE88     		ldrh	r6, [r3, #6]	@ unaligned
 583              	.LVL31:
ARM GAS  /tmp/ccwTT7Kw.s 			page 30


 632:Drivers/SOES/Src/esc_eoe.c ****    flags = eoembx->data[0];
 584              		.loc 1 632 4 is_stmt 1 view .LVU182
 632:Drivers/SOES/Src/esc_eoe.c ****    flags = eoembx->data[0];
 585              		.loc 1 632 11 is_stmt 0 view .LVU183
 586 000a C6F30712 		ubfx	r2, r6, #4, #8
 632:Drivers/SOES/Src/esc_eoe.c ****    flags = eoembx->data[0];
 587              		.loc 1 632 9 view .LVU184
 588 000e C6F30316 		ubfx	r6, r6, #4, #4
 589              	.LVL32:
 633:Drivers/SOES/Src/esc_eoe.c ****    data_offset = EOE_PARAM_OFFSET;
 590              		.loc 1 633 4 is_stmt 1 view .LVU185
 633:Drivers/SOES/Src/esc_eoe.c ****    data_offset = EOE_PARAM_OFFSET;
 591              		.loc 1 633 10 is_stmt 0 view .LVU186
 592 0012 93F80A80 		ldrb	r8, [r3, #10]	@ zero_extendqisi2
 593              	.LVL33:
 634:Drivers/SOES/Src/esc_eoe.c **** 
 594              		.loc 1 634 4 is_stmt 1 view .LVU187
 636:Drivers/SOES/Src/esc_eoe.c ****    {
 595              		.loc 1 636 4 view .LVU188
 636:Drivers/SOES/Src/esc_eoe.c ****    {
 596              		.loc 1 636 6 is_stmt 0 view .LVU189
 597 0016 12F00E0F 		tst	r2, #14
 598 001a 04D1     		bne	.L53
 599 001c 043F     		subs	r7, r7, #4
 600              	.LVL34:
 636:Drivers/SOES/Src/esc_eoe.c ****    {
 601              		.loc 1 636 6 view .LVU190
 602 001e BFB2     		uxth	r7, r7
 603              	.LVL35:
 648:Drivers/SOES/Src/esc_eoe.c ****    if(flags & EOE_PARAM_MAC_INCLUDE)
 604              		.loc 1 648 4 is_stmt 1 view .LVU191
 648:Drivers/SOES/Src/esc_eoe.c ****    if(flags & EOE_PARAM_MAC_INCLUDE)
 605              		.loc 1 648 14 is_stmt 0 view .LVU192
 606 0020 4EB1     		cbz	r6, .L48
 648:Drivers/SOES/Src/esc_eoe.c ****    if(flags & EOE_PARAM_MAC_INCLUDE)
 607              		.loc 1 648 14 discriminator 1 view .LVU193
 608 0022 751E     		subs	r5, r6, #1
 609 0024 08E0     		b	.L40
 610              	.LVL36:
 611              	.L53:
 638:Drivers/SOES/Src/esc_eoe.c ****       /* Return error response on given port */
 612              		.loc 1 638 31 is_stmt 1 view .LVU194
 640:Drivers/SOES/Src/esc_eoe.c ****             EOE_INIT_RESP |
 613              		.loc 1 640 7 view .LVU195
 614 0026 0121     		movs	r1, #1
 615 0028 40F20310 		movw	r0, #259
 616 002c 40EA0610 		orr	r0, r0, r6, lsl #4
 617 0030 FFF7FEFF 		bl	EOE_no_data_response
 618              	.LVL37:
 644:Drivers/SOES/Src/esc_eoe.c ****    }
 619              		.loc 1 644 7 view .LVU196
 620 0034 CEE0     		b	.L37
 621              	.LVL38:
 622              	.L48:
 648:Drivers/SOES/Src/esc_eoe.c ****    if(flags & EOE_PARAM_MAC_INCLUDE)
 623              		.loc 1 648 14 is_stmt 0 view .LVU197
 624 0036 0025     		movs	r5, #0
ARM GAS  /tmp/ccwTT7Kw.s 			page 31


 625              	.L40:
 626              	.LVL39:
 649:Drivers/SOES/Src/esc_eoe.c ****    {
 627              		.loc 1 649 4 is_stmt 1 discriminator 4 view .LVU198
 649:Drivers/SOES/Src/esc_eoe.c ****    {
 628              		.loc 1 649 6 is_stmt 0 discriminator 4 view .LVU199
 629 0038 18F0010F 		tst	r8, #1
 630 003c 1DD1     		bne	.L54
 634:Drivers/SOES/Src/esc_eoe.c **** 
 631              		.loc 1 634 16 view .LVU200
 632 003e 0424     		movs	r4, #4
 633              	.LVL40:
 634              	.L41:
 659:Drivers/SOES/Src/esc_eoe.c ****    {
 635              		.loc 1 659 4 is_stmt 1 view .LVU201
 659:Drivers/SOES/Src/esc_eoe.c ****    {
 636              		.loc 1 659 6 is_stmt 0 view .LVU202
 637 0040 18F0020F 		tst	r8, #2
 638 0044 2DD1     		bne	.L55
 639              	.LVL41:
 640              	.L42:
 668:Drivers/SOES/Src/esc_eoe.c ****    {
 641              		.loc 1 668 4 is_stmt 1 view .LVU203
 668:Drivers/SOES/Src/esc_eoe.c ****    {
 642              		.loc 1 668 6 is_stmt 0 view .LVU204
 643 0046 18F0040F 		tst	r8, #4
 644 004a 45D1     		bne	.L56
 645              	.L43:
 677:Drivers/SOES/Src/esc_eoe.c ****    {
 646              		.loc 1 677 4 is_stmt 1 view .LVU205
 677:Drivers/SOES/Src/esc_eoe.c ****    {
 647              		.loc 1 677 6 is_stmt 0 view .LVU206
 648 004c 18F0080F 		tst	r8, #8
 649 0050 5ED1     		bne	.L57
 650              	.L44:
 686:Drivers/SOES/Src/esc_eoe.c ****    {
 651              		.loc 1 686 4 is_stmt 1 view .LVU207
 686:Drivers/SOES/Src/esc_eoe.c ****    {
 652              		.loc 1 686 6 is_stmt 0 view .LVU208
 653 0052 18F0100F 		tst	r8, #16
 654 0056 76D1     		bne	.L58
 655              	.L45:
 695:Drivers/SOES/Src/esc_eoe.c ****    {
 656              		.loc 1 695 4 is_stmt 1 view .LVU209
 695:Drivers/SOES/Src/esc_eoe.c ****    {
 657              		.loc 1 695 6 is_stmt 0 view .LVU210
 658 0058 18F0200F 		tst	r8, #32
 659 005c 40F08F80 		bne	.L59
 660              	.LVL42:
 661              	.L46:
 705:Drivers/SOES/Src/esc_eoe.c ****    {
 662              		.loc 1 705 4 is_stmt 1 view .LVU211
 705:Drivers/SOES/Src/esc_eoe.c ****    {
 663              		.loc 1 705 19 is_stmt 0 view .LVU212
 664 0060 A4B2     		uxth	r4, r4
 665              	.LVL43:
 705:Drivers/SOES/Src/esc_eoe.c ****    {
ARM GAS  /tmp/ccwTT7Kw.s 			page 32


 666              		.loc 1 705 6 view .LVU213
 667 0062 BC42     		cmp	r4, r7
 668 0064 00F2AF80 		bhi	.L50
 713:Drivers/SOES/Src/esc_eoe.c ****       {
 669              		.loc 1 713 7 is_stmt 1 view .LVU214
 713:Drivers/SOES/Src/esc_eoe.c ****       {
 670              		.loc 1 713 17 is_stmt 0 view .LVU215
 671 0068 5E4B     		ldr	r3, .L60+4
 672 006a 1B68     		ldr	r3, [r3]
 673 006c DB68     		ldr	r3, [r3, #12]
 713:Drivers/SOES/Src/esc_eoe.c ****       {
 674              		.loc 1 713 9 view .LVU216
 675 006e 002B     		cmp	r3, #0
 676 0070 00F0B280 		beq	.L51
 715:Drivers/SOES/Src/esc_eoe.c ****       }
 677              		.loc 1 715 10 is_stmt 1 view .LVU217
 715:Drivers/SOES/Src/esc_eoe.c ****       }
 678              		.loc 1 715 19 is_stmt 0 view .LVU218
 679 0074 9847     		blx	r3
 680              	.LVL44:
 715:Drivers/SOES/Src/esc_eoe.c ****       }
 681              		.loc 1 715 17 view .LVU219
 682 0076 81B2     		uxth	r1, r0
 683              	.LVL45:
 715:Drivers/SOES/Src/esc_eoe.c ****       }
 684              		.loc 1 715 17 view .LVU220
 685 0078 A6E0     		b	.L47
 686              	.LVL46:
 687              	.L54:
 651:Drivers/SOES/Src/esc_eoe.c ****             &eoembx->data[data_offset],
 688              		.loc 1 651 7 is_stmt 1 view .LVU221
 651:Drivers/SOES/Src/esc_eoe.c ****             &eoembx->data[data_offset],
 689              		.loc 1 651 14 is_stmt 0 view .LVU222
 690 007a 5B4B     		ldr	r3, .L60+8
 691              	.LVL47:
 651:Drivers/SOES/Src/esc_eoe.c ****             &eoembx->data[data_offset],
 692              		.loc 1 651 14 view .LVU223
 693 007c C5EBC502 		rsb	r2, r5, r5, lsl #3
 694 0080 03EBC201 		add	r1, r3, r2, lsl #3
 651:Drivers/SOES/Src/esc_eoe.c ****             &eoembx->data[data_offset],
 695              		.loc 1 651 7 view .LVU224
 696 0084 5948     		ldr	r0, .L60+12
 697 0086 0468     		ldr	r4, [r0]	@ unaligned
 698 0088 C1F80140 		str	r4, [r1, #1]	@ unaligned
 699 008c 8088     		ldrh	r0, [r0, #4]	@ unaligned
 700 008e A1F80500 		strh	r0, [r1, #5]	@ unaligned
 654:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of mac address */
 701              		.loc 1 654 7 is_stmt 1 view .LVU225
 654:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of mac address */
 702              		.loc 1 654 34 is_stmt 0 view .LVU226
 703 0092 13F83210 		ldrb	r1, [r3, r2, lsl #3]	@ zero_extendqisi2
 704 0096 41F00101 		orr	r1, r1, #1
 705 009a 03F83210 		strb	r1, [r3, r2, lsl #3]
 656:Drivers/SOES/Src/esc_eoe.c ****    }
 706              		.loc 1 656 7 is_stmt 1 view .LVU227
 707              	.LVL48:
 656:Drivers/SOES/Src/esc_eoe.c ****    }
ARM GAS  /tmp/ccwTT7Kw.s 			page 33


 708              		.loc 1 656 19 is_stmt 0 view .LVU228
 709 009e 0A24     		movs	r4, #10
 710 00a0 CEE7     		b	.L41
 711              	.LVL49:
 712              	.L55:
 661:Drivers/SOES/Src/esc_eoe.c ****             &nic_ports[port_ix].ip);
 713              		.loc 1 661 7 is_stmt 1 view .LVU229
 714 00a2 DFF844A1 		ldr	r10, .L60+8
 715 00a6 4FEAC509 		lsl	r9, r5, #3
 716 00aa C5EBC501 		rsb	r1, r5, r5, lsl #3
 717 00ae C900     		lsls	r1, r1, #3
 718 00b0 0831     		adds	r1, r1, #8
 719 00b2 04F10800 		add	r0, r4, #8
 720 00b6 4A4B     		ldr	r3, .L60
 721              	.LVL50:
 661:Drivers/SOES/Src/esc_eoe.c ****             &nic_ports[port_ix].ip);
 722              		.loc 1 661 7 is_stmt 0 view .LVU230
 723 00b8 1844     		add	r0, r0, r3
 724 00ba 5144     		add	r1, r1, r10
 725 00bc 0230     		adds	r0, r0, #2
 726 00be FFF7FEFF 		bl	EOE_ip_byte_to_uint32
 727              	.LVL51:
 663:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of uint32 IP address */
 728              		.loc 1 663 7 is_stmt 1 view .LVU231
 663:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of uint32 IP address */
 729              		.loc 1 663 33 is_stmt 0 view .LVU232
 730 00c2 A9EB0503 		sub	r3, r9, r5
 731 00c6 1AF83320 		ldrb	r2, [r10, r3, lsl #3]	@ zero_extendqisi2
 732 00ca 42F00202 		orr	r2, r2, #2
 733 00ce 0AF83320 		strb	r2, [r10, r3, lsl #3]
 665:Drivers/SOES/Src/esc_eoe.c ****    }
 734              		.loc 1 665 7 is_stmt 1 view .LVU233
 665:Drivers/SOES/Src/esc_eoe.c ****    }
 735              		.loc 1 665 19 is_stmt 0 view .LVU234
 736 00d2 0434     		adds	r4, r4, #4
 737              	.LVL52:
 665:Drivers/SOES/Src/esc_eoe.c ****    }
 738              		.loc 1 665 19 view .LVU235
 739 00d4 E4B2     		uxtb	r4, r4
 740              	.LVL53:
 665:Drivers/SOES/Src/esc_eoe.c ****    }
 741              		.loc 1 665 19 view .LVU236
 742 00d6 B6E7     		b	.L42
 743              	.L56:
 670:Drivers/SOES/Src/esc_eoe.c ****             &nic_ports[port_ix].subnet);
 744              		.loc 1 670 7 is_stmt 1 view .LVU237
 745 00d8 DFF80CA1 		ldr	r10, .L60+8
 746 00dc 4FEAC509 		lsl	r9, r5, #3
 747 00e0 C5EBC501 		rsb	r1, r5, r5, lsl #3
 748 00e4 C900     		lsls	r1, r1, #3
 749 00e6 0831     		adds	r1, r1, #8
 750 00e8 5144     		add	r1, r1, r10
 751 00ea 04F10800 		add	r0, r4, #8
 752 00ee 3C4B     		ldr	r3, .L60
 753 00f0 1844     		add	r0, r0, r3
 754 00f2 0431     		adds	r1, r1, #4
 755 00f4 0230     		adds	r0, r0, #2
ARM GAS  /tmp/ccwTT7Kw.s 			page 34


 756 00f6 FFF7FEFF 		bl	EOE_ip_byte_to_uint32
 757              	.LVL54:
 672:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of uint32 IP address */
 758              		.loc 1 672 7 view .LVU238
 672:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of uint32 IP address */
 759              		.loc 1 672 37 is_stmt 0 view .LVU239
 760 00fa A9EB0509 		sub	r9, r9, r5
 761 00fe 1AF83930 		ldrb	r3, [r10, r9, lsl #3]	@ zero_extendqisi2
 762 0102 43F00403 		orr	r3, r3, #4
 763 0106 0AF83930 		strb	r3, [r10, r9, lsl #3]
 674:Drivers/SOES/Src/esc_eoe.c ****    }
 764              		.loc 1 674 7 is_stmt 1 view .LVU240
 674:Drivers/SOES/Src/esc_eoe.c ****    }
 765              		.loc 1 674 19 is_stmt 0 view .LVU241
 766 010a 0434     		adds	r4, r4, #4
 767              	.LVL55:
 674:Drivers/SOES/Src/esc_eoe.c ****    }
 768              		.loc 1 674 19 view .LVU242
 769 010c E4B2     		uxtb	r4, r4
 770              	.LVL56:
 674:Drivers/SOES/Src/esc_eoe.c ****    }
 771              		.loc 1 674 19 view .LVU243
 772 010e 9DE7     		b	.L43
 773              	.L57:
 679:Drivers/SOES/Src/esc_eoe.c ****             &nic_ports[port_ix].default_gateway);
 774              		.loc 1 679 7 is_stmt 1 view .LVU244
 775 0110 DFF8D4A0 		ldr	r10, .L60+8
 776 0114 4FEAC509 		lsl	r9, r5, #3
 777 0118 C5EBC501 		rsb	r1, r5, r5, lsl #3
 778 011c C900     		lsls	r1, r1, #3
 779 011e 1031     		adds	r1, r1, #16
 780 0120 04F10800 		add	r0, r4, #8
 781 0124 2E4B     		ldr	r3, .L60
 782 0126 1844     		add	r0, r0, r3
 783 0128 5144     		add	r1, r1, r10
 784 012a 0230     		adds	r0, r0, #2
 785 012c FFF7FEFF 		bl	EOE_ip_byte_to_uint32
 786              	.LVL57:
 681:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of uint32 IP address */
 787              		.loc 1 681 7 view .LVU245
 681:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of uint32 IP address */
 788              		.loc 1 681 46 is_stmt 0 view .LVU246
 789 0130 A9EB0503 		sub	r3, r9, r5
 790 0134 1AF83320 		ldrb	r2, [r10, r3, lsl #3]	@ zero_extendqisi2
 791 0138 42F00802 		orr	r2, r2, #8
 792 013c 0AF83320 		strb	r2, [r10, r3, lsl #3]
 683:Drivers/SOES/Src/esc_eoe.c ****    }
 793              		.loc 1 683 7 is_stmt 1 view .LVU247
 683:Drivers/SOES/Src/esc_eoe.c ****    }
 794              		.loc 1 683 19 is_stmt 0 view .LVU248
 795 0140 0434     		adds	r4, r4, #4
 796              	.LVL58:
 683:Drivers/SOES/Src/esc_eoe.c ****    }
 797              		.loc 1 683 19 view .LVU249
 798 0142 E4B2     		uxtb	r4, r4
 799              	.LVL59:
 683:Drivers/SOES/Src/esc_eoe.c ****    }
ARM GAS  /tmp/ccwTT7Kw.s 			page 35


 800              		.loc 1 683 19 view .LVU250
 801 0144 85E7     		b	.L44
 802              	.L58:
 688:Drivers/SOES/Src/esc_eoe.c ****             &nic_ports[port_ix].dns_ip);
 803              		.loc 1 688 7 is_stmt 1 view .LVU251
 804 0146 DFF8A0A0 		ldr	r10, .L60+8
 805 014a 4FEAC509 		lsl	r9, r5, #3
 806 014e C5EBC501 		rsb	r1, r5, r5, lsl #3
 807 0152 C900     		lsls	r1, r1, #3
 808 0154 1031     		adds	r1, r1, #16
 809 0156 5144     		add	r1, r1, r10
 810 0158 04F10800 		add	r0, r4, #8
 811 015c 204B     		ldr	r3, .L60
 812 015e 1844     		add	r0, r0, r3
 813 0160 0431     		adds	r1, r1, #4
 814 0162 0230     		adds	r0, r0, #2
 815 0164 FFF7FEFF 		bl	EOE_ip_byte_to_uint32
 816              	.LVL60:
 690:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of uint32 IP address */
 817              		.loc 1 690 7 view .LVU252
 690:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of uint32 IP address */
 818              		.loc 1 690 37 is_stmt 0 view .LVU253
 819 0168 A9EB0509 		sub	r9, r9, r5
 820 016c 1AF83930 		ldrb	r3, [r10, r9, lsl #3]	@ zero_extendqisi2
 821 0170 43F01003 		orr	r3, r3, #16
 822 0174 0AF83930 		strb	r3, [r10, r9, lsl #3]
 692:Drivers/SOES/Src/esc_eoe.c ****    }
 823              		.loc 1 692 7 is_stmt 1 view .LVU254
 692:Drivers/SOES/Src/esc_eoe.c ****    }
 824              		.loc 1 692 19 is_stmt 0 view .LVU255
 825 0178 0434     		adds	r4, r4, #4
 826              	.LVL61:
 692:Drivers/SOES/Src/esc_eoe.c ****    }
 827              		.loc 1 692 19 view .LVU256
 828 017a E4B2     		uxtb	r4, r4
 829              	.LVL62:
 692:Drivers/SOES/Src/esc_eoe.c ****    }
 830              		.loc 1 692 19 view .LVU257
 831 017c 6CE7     		b	.L45
 832              	.L59:
 833              	.LBB3:
 697:Drivers/SOES/Src/esc_eoe.c ****       memcpy(nic_ports[port_ix].dns_name,
 834              		.loc 1 697 7 is_stmt 1 view .LVU258
 697:Drivers/SOES/Src/esc_eoe.c ****       memcpy(nic_ports[port_ix].dns_name,
 835              		.loc 1 697 26 is_stmt 0 view .LVU259
 836 017e A7EB0408 		sub	r8, r7, r4
 837              	.LVL63:
 697:Drivers/SOES/Src/esc_eoe.c ****       memcpy(nic_ports[port_ix].dns_name,
 838              		.loc 1 697 26 view .LVU260
 839 0182 B8F1200F 		cmp	r8, #32
 840 0186 A8BF     		it	ge
 841 0188 4FF02008 		movge	r8, #32
 842              	.LVL64:
 698:Drivers/SOES/Src/esc_eoe.c ****             &eoembx->data[data_offset],
 843              		.loc 1 698 7 is_stmt 1 view .LVU261
 698:Drivers/SOES/Src/esc_eoe.c ****             &eoembx->data[data_offset],
 844              		.loc 1 698 32 is_stmt 0 view .LVU262
ARM GAS  /tmp/ccwTT7Kw.s 			page 36


 845 018c DFF858A0 		ldr	r10, .L60+8
 846 0190 4FEAC509 		lsl	r9, r5, #3
 847 0194 C5EBC500 		rsb	r0, r5, r5, lsl #3
 848 0198 C000     		lsls	r0, r0, #3
 849 019a 1830     		adds	r0, r0, #24
 699:Drivers/SOES/Src/esc_eoe.c ****             dns_len);
 850              		.loc 1 699 13 view .LVU263
 851 019c 04F10801 		add	r1, r4, #8
 852 01a0 0F4B     		ldr	r3, .L60
 853 01a2 1944     		add	r1, r1, r3
 698:Drivers/SOES/Src/esc_eoe.c ****             &eoembx->data[data_offset],
 854              		.loc 1 698 7 view .LVU264
 855 01a4 1FFA88F2 		uxth	r2, r8
 856 01a8 0231     		adds	r1, r1, #2
 857 01aa 5044     		add	r0, r0, r10
 858 01ac FFF7FEFF 		bl	memcpy
 859              	.LVL65:
 701:Drivers/SOES/Src/esc_eoe.c ****       data_offset += dns_len; /* expected 1- EOE_DNS_NAME_LENGTH; */
 860              		.loc 1 701 7 is_stmt 1 view .LVU265
 701:Drivers/SOES/Src/esc_eoe.c ****       data_offset += dns_len; /* expected 1- EOE_DNS_NAME_LENGTH; */
 861              		.loc 1 701 39 is_stmt 0 view .LVU266
 862 01b0 A9EB0505 		sub	r5, r9, r5
 863              	.LVL66:
 701:Drivers/SOES/Src/esc_eoe.c ****       data_offset += dns_len; /* expected 1- EOE_DNS_NAME_LENGTH; */
 864              		.loc 1 701 39 view .LVU267
 865 01b4 1AF83530 		ldrb	r3, [r10, r5, lsl #3]	@ zero_extendqisi2
 866 01b8 43F02003 		orr	r3, r3, #32
 867 01bc 0AF83530 		strb	r3, [r10, r5, lsl #3]
 702:Drivers/SOES/Src/esc_eoe.c ****    }
 868              		.loc 1 702 7 is_stmt 1 view .LVU268
 702:Drivers/SOES/Src/esc_eoe.c ****    }
 869              		.loc 1 702 19 is_stmt 0 view .LVU269
 870 01c0 4444     		add	r4, r4, r8
 871              	.LVL67:
 702:Drivers/SOES/Src/esc_eoe.c ****    }
 872              		.loc 1 702 19 view .LVU270
 873 01c2 E4B2     		uxtb	r4, r4
 874              	.LVL68:
 702:Drivers/SOES/Src/esc_eoe.c ****    }
 875              		.loc 1 702 19 view .LVU271
 876 01c4 4CE7     		b	.L46
 877              	.LVL69:
 878              	.L50:
 702:Drivers/SOES/Src/esc_eoe.c ****    }
 879              		.loc 1 702 19 view .LVU272
 880              	.LBE3:
 707:Drivers/SOES/Src/esc_eoe.c ****    }
 881              		.loc 1 707 14 view .LVU273
 882 01c6 0621     		movs	r1, #6
 883              	.L47:
 884              	.LVL70:
 722:Drivers/SOES/Src/esc_eoe.c ****          EOE_INIT_RESP |
 885              		.loc 1 722 4 is_stmt 1 view .LVU274
 886 01c8 40F20310 		movw	r0, #259
 887 01cc 40EA0610 		orr	r0, r0, r6, lsl #4
 888 01d0 FFF7FEFF 		bl	EOE_no_data_response
 889              	.LVL71:
ARM GAS  /tmp/ccwTT7Kw.s 			page 37


 890              	.L37:
 726:Drivers/SOES/Src/esc_eoe.c **** 
 891              		.loc 1 726 1 is_stmt 0 view .LVU275
 892 01d4 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 893              	.LVL72:
 894              	.L51:
 719:Drivers/SOES/Src/esc_eoe.c ****       }
 895              		.loc 1 719 17 view .LVU276
 896 01d8 40F20121 		movw	r1, #513
 897 01dc F4E7     		b	.L47
 898              	.L61:
 899 01de 00BF     		.align	2
 900              	.L60:
 901 01e0 00000000 		.word	MBX
 902 01e4 00000000 		.word	.LANCHOR1
 903 01e8 00000000 		.word	.LANCHOR2
 904 01ec 0E000000 		.word	MBX+14
 905              		.cfi_endproc
 906              	.LFE16:
 908              		.section	.text.EOE_get_ip,"ax",%progbits
 909              		.align	1
 910              		.syntax unified
 911              		.thumb
 912              		.thumb_func
 914              	EOE_get_ip:
 915              	.LFB15:
 502:Drivers/SOES/Src/esc_eoe.c ****    _EOE *req_eoembx;
 916              		.loc 1 502 1 is_stmt 1 view -0
 917              		.cfi_startproc
 918              		@ args = 0, pretend = 0, frame = 0
 919              		@ frame_needed = 0, uses_anonymous_args = 0
 920 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 921              		.cfi_def_cfa_offset 32
 922              		.cfi_offset 3, -32
 923              		.cfi_offset 4, -28
 924              		.cfi_offset 5, -24
 925              		.cfi_offset 6, -20
 926              		.cfi_offset 7, -16
 927              		.cfi_offset 8, -12
 928              		.cfi_offset 9, -8
 929              		.cfi_offset 14, -4
 503:Drivers/SOES/Src/esc_eoe.c ****    _EOE *eoembx;
 930              		.loc 1 503 4 view .LVU278
 504:Drivers/SOES/Src/esc_eoe.c ****    uint8_t mbxhandle;
 931              		.loc 1 504 4 view .LVU279
 505:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo1;
 932              		.loc 1 505 4 view .LVU280
 506:Drivers/SOES/Src/esc_eoe.c ****    uint8_t port;
 933              		.loc 1 506 4 view .LVU281
 507:Drivers/SOES/Src/esc_eoe.c ****    uint8_t  flags;
 934              		.loc 1 507 4 view .LVU282
 508:Drivers/SOES/Src/esc_eoe.c ****    uint8_t  data_offset;
 935              		.loc 1 508 4 view .LVU283
 509:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 936              		.loc 1 509 4 view .LVU284
 510:Drivers/SOES/Src/esc_eoe.c **** 
 937              		.loc 1 510 4 view .LVU285
ARM GAS  /tmp/ccwTT7Kw.s 			page 38


 512:Drivers/SOES/Src/esc_eoe.c ****    frameinfo1 = etohs(req_eoembx->eoeheader.frameinfo1);
 938              		.loc 1 512 4 view .LVU286
 939              	.LVL73:
 513:Drivers/SOES/Src/esc_eoe.c ****    port = EOE_HDR_FRAME_PORT_GET(frameinfo1);
 940              		.loc 1 513 4 view .LVU287
 513:Drivers/SOES/Src/esc_eoe.c ****    port = EOE_HDR_FRAME_PORT_GET(frameinfo1);
 941              		.loc 1 513 15 is_stmt 0 view .LVU288
 942 0004 734B     		ldr	r3, .L83
 943 0006 DC88     		ldrh	r4, [r3, #6]	@ unaligned
 944              	.LVL74:
 514:Drivers/SOES/Src/esc_eoe.c ****    data_offset = EOE_PARAM_OFFSET;
 945              		.loc 1 514 4 is_stmt 1 view .LVU289
 514:Drivers/SOES/Src/esc_eoe.c ****    data_offset = EOE_PARAM_OFFSET;
 946              		.loc 1 514 11 is_stmt 0 view .LVU290
 947 0008 C4F30715 		ubfx	r5, r4, #4, #8
 514:Drivers/SOES/Src/esc_eoe.c ****    data_offset = EOE_PARAM_OFFSET;
 948              		.loc 1 514 9 view .LVU291
 949 000c C4F30314 		ubfx	r4, r4, #4, #4
 950              	.LVL75:
 515:Drivers/SOES/Src/esc_eoe.c ****    flags = 0;
 951              		.loc 1 515 4 is_stmt 1 view .LVU292
 516:Drivers/SOES/Src/esc_eoe.c **** 
 952              		.loc 1 516 4 view .LVU293
 518:Drivers/SOES/Src/esc_eoe.c ****    {
 953              		.loc 1 518 4 view .LVU294
 518:Drivers/SOES/Src/esc_eoe.c ****    {
 954              		.loc 1 518 6 is_stmt 0 view .LVU295
 955 0010 15F00E05 		ands	r5, r5, #14
 956 0014 5AD1     		bne	.L76
 530:Drivers/SOES/Src/esc_eoe.c ****    {
 957              		.loc 1 530 4 is_stmt 1 view .LVU296
 530:Drivers/SOES/Src/esc_eoe.c ****    {
 958              		.loc 1 530 14 is_stmt 0 view .LVU297
 959 0016 704B     		ldr	r3, .L83+4
 960 0018 1B68     		ldr	r3, [r3]
 961 001a 9B68     		ldr	r3, [r3, #8]
 530:Drivers/SOES/Src/esc_eoe.c ****    {
 962              		.loc 1 530 6 view .LVU298
 963 001c 03B1     		cbz	r3, .L65
 532:Drivers/SOES/Src/esc_eoe.c ****    }
 964              		.loc 1 532 7 is_stmt 1 view .LVU299
 532:Drivers/SOES/Src/esc_eoe.c ****    }
 965              		.loc 1 532 13 is_stmt 0 view .LVU300
 966 001e 9847     		blx	r3
 967              	.LVL76:
 968              	.L65:
 536:Drivers/SOES/Src/esc_eoe.c ****    if (mbxhandle)
 969              		.loc 1 536 4 is_stmt 1 view .LVU301
 536:Drivers/SOES/Src/esc_eoe.c ****    if (mbxhandle)
 970              		.loc 1 536 16 is_stmt 0 view .LVU302
 971 0020 FFF7FEFF 		bl	ESC_claimbuffer
 972              	.LVL77:
 537:Drivers/SOES/Src/esc_eoe.c ****    {
 973              		.loc 1 537 4 is_stmt 1 view .LVU303
 537:Drivers/SOES/Src/esc_eoe.c ****    {
 974              		.loc 1 537 7 is_stmt 0 view .LVU304
 975 0024 0028     		cmp	r0, #0
ARM GAS  /tmp/ccwTT7Kw.s 			page 39


 976 0026 4FD0     		beq	.L62
 539:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 977              		.loc 1 539 7 is_stmt 1 view .LVU305
 539:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 978              		.loc 1 539 42 is_stmt 0 view .LVU306
 979 0028 6C4A     		ldr	r2, .L83+8
 980 002a 926E     		ldr	r2, [r2, #104]
 539:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 981              		.loc 1 539 40 view .LVU307
 982 002c 02FB00F8 		mul	r8, r2, r0
 539:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 983              		.loc 1 539 14 view .LVU308
 984 0030 DFF8A091 		ldr	r9, .L83
 985 0034 08EB0907 		add	r7, r8, r9
 986              	.LVL78:
 540:Drivers/SOES/Src/esc_eoe.c ****       MBXcontrol[mbxhandle].state = MBXstate_outreq;
 987              		.loc 1 540 7 is_stmt 1 view .LVU309
 540:Drivers/SOES/Src/esc_eoe.c ****       MBXcontrol[mbxhandle].state = MBXstate_outreq;
 988              		.loc 1 540 33 is_stmt 0 view .LVU310
 989 0038 7A79     		ldrb	r2, [r7, #5]	@ zero_extendqisi2
 990 003a 0221     		movs	r1, #2
 991 003c 61F30302 		bfi	r2, r1, #0, #4
 992 0040 7A71     		strb	r2, [r7, #5]
 541:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 =
 993              		.loc 1 541 7 is_stmt 1 view .LVU311
 541:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 =
 994              		.loc 1 541 35 is_stmt 0 view .LVU312
 995 0042 674A     		ldr	r2, .L83+12
 996 0044 0321     		movs	r1, #3
 997 0046 1154     		strb	r1, [r2, r0]
 542:Drivers/SOES/Src/esc_eoe.c ****             htoes(EOE_HDR_FRAME_TYPE_SET(EOE_GET_IP_PARAM_RESP) |
 998              		.loc 1 542 7 is_stmt 1 view .LVU313
 543:Drivers/SOES/Src/esc_eoe.c ****                   EOE_HDR_FRAME_PORT_SET(port) |
 999              		.loc 1 543 13 is_stmt 0 view .LVU314
 1000 0048 40F20713 		movw	r3, #263
 1001 004c 43EA0413 		orr	r3, r3, r4, lsl #4
 542:Drivers/SOES/Src/esc_eoe.c ****             htoes(EOE_HDR_FRAME_TYPE_SET(EOE_GET_IP_PARAM_RESP) |
 1002              		.loc 1 542 36 view .LVU315
 1003 0050 FB80     		strh	r3, [r7, #6]	@ unaligned
 546:Drivers/SOES/Src/esc_eoe.c **** 
 1004              		.loc 1 546 7 is_stmt 1 view .LVU316
 546:Drivers/SOES/Src/esc_eoe.c **** 
 1005              		.loc 1 546 36 is_stmt 0 view .LVU317
 1006 0052 0023     		movs	r3, #0
 1007 0054 3B72     		strb	r3, [r7, #8]
 1008 0056 7B72     		strb	r3, [r7, #9]
 549:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 1009              		.loc 1 549 7 is_stmt 1 view .LVU318
 549:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 1010              		.loc 1 549 17 is_stmt 0 view .LVU319
 1011 0058 002C     		cmp	r4, #0
 1012 005a 3FD0     		beq	.L73
 549:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 1013              		.loc 1 549 17 discriminator 1 view .LVU320
 1014 005c 013C     		subs	r4, r4, #1
 1015              	.LVL79:
 1016              	.L66:
ARM GAS  /tmp/ccwTT7Kw.s 			page 40


 550:Drivers/SOES/Src/esc_eoe.c ****       {
 1017              		.loc 1 550 7 is_stmt 1 discriminator 4 view .LVU321
 550:Drivers/SOES/Src/esc_eoe.c ****       {
 1018              		.loc 1 550 28 is_stmt 0 discriminator 4 view .LVU322
 1019 005e C4EBC403 		rsb	r3, r4, r4, lsl #3
 1020 0062 604A     		ldr	r2, .L83+16
 1021 0064 12F83330 		ldrb	r3, [r2, r3, lsl #3]	@ zero_extendqisi2
 550:Drivers/SOES/Src/esc_eoe.c ****       {
 1022              		.loc 1 550 9 discriminator 4 view .LVU323
 1023 0068 13F0010F 		tst	r3, #1
 1024 006c 38D1     		bne	.L77
 515:Drivers/SOES/Src/esc_eoe.c ****    flags = 0;
 1025              		.loc 1 515 16 view .LVU324
 1026 006e 0426     		movs	r6, #4
 1027              	.LVL80:
 1028              	.L67:
 561:Drivers/SOES/Src/esc_eoe.c ****       {
 1029              		.loc 1 561 7 is_stmt 1 view .LVU325
 561:Drivers/SOES/Src/esc_eoe.c ****       {
 1030              		.loc 1 561 28 is_stmt 0 view .LVU326
 1031 0070 C4EBC403 		rsb	r3, r4, r4, lsl #3
 1032 0074 5B4A     		ldr	r2, .L83+16
 1033 0076 12F83330 		ldrb	r3, [r2, r3, lsl #3]	@ zero_extendqisi2
 561:Drivers/SOES/Src/esc_eoe.c ****       {
 1034              		.loc 1 561 9 view .LVU327
 1035 007a 13F0020F 		tst	r3, #2
 1036 007e 3DD1     		bne	.L78
 1037              	.LVL81:
 1038              	.L68:
 571:Drivers/SOES/Src/esc_eoe.c ****       {
 1039              		.loc 1 571 7 is_stmt 1 view .LVU328
 571:Drivers/SOES/Src/esc_eoe.c ****       {
 1040              		.loc 1 571 28 is_stmt 0 view .LVU329
 1041 0080 C4EBC403 		rsb	r3, r4, r4, lsl #3
 1042 0084 574A     		ldr	r2, .L83+16
 1043 0086 12F83330 		ldrb	r3, [r2, r3, lsl #3]	@ zero_extendqisi2
 571:Drivers/SOES/Src/esc_eoe.c ****       {
 1044              		.loc 1 571 9 view .LVU330
 1045 008a 13F0040F 		tst	r3, #4
 1046 008e 46D1     		bne	.L79
 1047              	.L69:
 581:Drivers/SOES/Src/esc_eoe.c ****       {
 1048              		.loc 1 581 7 is_stmt 1 view .LVU331
 581:Drivers/SOES/Src/esc_eoe.c ****       {
 1049              		.loc 1 581 28 is_stmt 0 view .LVU332
 1050 0090 C4EBC403 		rsb	r3, r4, r4, lsl #3
 1051 0094 534A     		ldr	r2, .L83+16
 1052 0096 12F83330 		ldrb	r3, [r2, r3, lsl #3]	@ zero_extendqisi2
 581:Drivers/SOES/Src/esc_eoe.c ****       {
 1053              		.loc 1 581 9 view .LVU333
 1054 009a 13F0080F 		tst	r3, #8
 1055 009e 4FD1     		bne	.L80
 1056              	.L70:
 590:Drivers/SOES/Src/esc_eoe.c ****       {
 1057              		.loc 1 590 7 is_stmt 1 view .LVU334
 590:Drivers/SOES/Src/esc_eoe.c ****       {
 1058              		.loc 1 590 28 is_stmt 0 view .LVU335
ARM GAS  /tmp/ccwTT7Kw.s 			page 41


 1059 00a0 C4EBC403 		rsb	r3, r4, r4, lsl #3
 1060 00a4 4F4A     		ldr	r2, .L83+16
 1061 00a6 12F83330 		ldrb	r3, [r2, r3, lsl #3]	@ zero_extendqisi2
 590:Drivers/SOES/Src/esc_eoe.c ****       {
 1062              		.loc 1 590 9 view .LVU336
 1063 00aa 13F0100F 		tst	r3, #16
 1064 00ae 58D1     		bne	.L81
 1065              	.L71:
 600:Drivers/SOES/Src/esc_eoe.c ****       {
 1066              		.loc 1 600 7 is_stmt 1 view .LVU337
 600:Drivers/SOES/Src/esc_eoe.c ****       {
 1067              		.loc 1 600 28 is_stmt 0 view .LVU338
 1068 00b0 C4EBC403 		rsb	r3, r4, r4, lsl #3
 1069 00b4 4B4A     		ldr	r2, .L83+16
 1070 00b6 12F83330 		ldrb	r3, [r2, r3, lsl #3]	@ zero_extendqisi2
 600:Drivers/SOES/Src/esc_eoe.c ****       {
 1071              		.loc 1 600 9 view .LVU339
 1072 00ba 13F0200F 		tst	r3, #32
 1073 00be 61D1     		bne	.L82
 1074              	.LVL82:
 1075              	.L72:
 611:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE + data_offset);
 1076              		.loc 1 611 7 is_stmt 1 view .LVU340
 611:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE + data_offset);
 1077              		.loc 1 611 23 is_stmt 0 view .LVU341
 1078 00c0 BD72     		strb	r5, [r7, #10]
 612:Drivers/SOES/Src/esc_eoe.c ****    }
 1079              		.loc 1 612 7 is_stmt 1 view .LVU342
 612:Drivers/SOES/Src/esc_eoe.c ****    }
 1080              		.loc 1 612 34 is_stmt 0 view .LVU343
 1081 00c2 0436     		adds	r6, r6, #4
 1082              	.LVL83:
 612:Drivers/SOES/Src/esc_eoe.c ****    }
 1083              		.loc 1 612 32 view .LVU344
 1084 00c4 28F80960 		strh	r6, [r8, r9]	@ unaligned
 1085              	.LVL84:
 1086              	.L62:
 614:Drivers/SOES/Src/esc_eoe.c **** 
 1087              		.loc 1 614 1 view .LVU345
 1088 00c8 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1089              	.LVL85:
 1090              	.L76:
 520:Drivers/SOES/Src/esc_eoe.c ****       /* Return error response on given port */
 1091              		.loc 1 520 31 is_stmt 1 view .LVU346
 522:Drivers/SOES/Src/esc_eoe.c ****             EOE_INIT_RESP |
 1092              		.loc 1 522 7 view .LVU347
 1093 00cc 0121     		movs	r1, #1
 1094 00ce 40F20310 		movw	r0, #259
 1095 00d2 40EA0410 		orr	r0, r0, r4, lsl #4
 1096 00d6 FFF7FEFF 		bl	EOE_no_data_response
 1097              	.LVL86:
 526:Drivers/SOES/Src/esc_eoe.c ****    }
 1098              		.loc 1 526 7 view .LVU348
 1099 00da F5E7     		b	.L62
 1100              	.LVL87:
 1101              	.L73:
 549:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
ARM GAS  /tmp/ccwTT7Kw.s 			page 42


 1102              		.loc 1 549 17 is_stmt 0 view .LVU349
 1103 00dc 0024     		movs	r4, #0
 1104              	.LVL88:
 549:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 1105              		.loc 1 549 17 view .LVU350
 1106 00de BEE7     		b	.L66
 1107              	.LVL89:
 1108              	.L77:
 552:Drivers/SOES/Src/esc_eoe.c ****          memcpy(&eoembx->data[data_offset] ,
 1109              		.loc 1 552 10 is_stmt 1 view .LVU351
 553:Drivers/SOES/Src/esc_eoe.c ****                nic_ports[port_ix].mac.addr,
 1110              		.loc 1 553 10 view .LVU352
 554:Drivers/SOES/Src/esc_eoe.c ****                EOE_ETHADDR_LENGTH);
 1111              		.loc 1 554 38 is_stmt 0 view .LVU353
 1112 00e0 C4EBC403 		rsb	r3, r4, r4, lsl #3
 1113 00e4 02EBC303 		add	r3, r2, r3, lsl #3
 553:Drivers/SOES/Src/esc_eoe.c ****                nic_ports[port_ix].mac.addr,
 1114              		.loc 1 553 10 view .LVU354
 1115 00e8 D3F80120 		ldr	r2, [r3, #1]	@ unaligned
 1116 00ec C7F80E20 		str	r2, [r7, #14]	@ unaligned
 1117 00f0 B3F80530 		ldrh	r3, [r3, #5]	@ unaligned
 1118 00f4 7B82     		strh	r3, [r7, #18]	@ unaligned
 557:Drivers/SOES/Src/esc_eoe.c **** 
 1119              		.loc 1 557 10 is_stmt 1 view .LVU355
 1120              	.LVL90:
 557:Drivers/SOES/Src/esc_eoe.c **** 
 1121              		.loc 1 557 22 is_stmt 0 view .LVU356
 1122 00f6 0A26     		movs	r6, #10
 552:Drivers/SOES/Src/esc_eoe.c ****          memcpy(&eoembx->data[data_offset] ,
 1123              		.loc 1 552 16 view .LVU357
 1124 00f8 0125     		movs	r5, #1
 1125 00fa B9E7     		b	.L67
 1126              	.LVL91:
 1127              	.L78:
 563:Drivers/SOES/Src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].ip,
 1128              		.loc 1 563 10 is_stmt 1 view .LVU358
 563:Drivers/SOES/Src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].ip,
 1129              		.loc 1 563 16 is_stmt 0 view .LVU359
 1130 00fc 45F00205 		orr	r5, r5, #2
 1131              	.LVL92:
 564:Drivers/SOES/Src/esc_eoe.c ****                &eoembx->data[data_offset]);
 1132              		.loc 1 564 10 is_stmt 1 view .LVU360
 1133 0100 06F10801 		add	r1, r6, #8
 1134 0104 3944     		add	r1, r1, r7
 1135 0106 C4EBC403 		rsb	r3, r4, r4, lsl #3
 1136 010a DB00     		lsls	r3, r3, #3
 1137 010c 0833     		adds	r3, r3, #8
 1138 010e 0231     		adds	r1, r1, #2
 1139 0110 1046     		mov	r0, r2
 1140              	.LVL93:
 564:Drivers/SOES/Src/esc_eoe.c ****                &eoembx->data[data_offset]);
 1141              		.loc 1 564 10 is_stmt 0 view .LVU361
 1142 0112 1844     		add	r0, r0, r3
 1143 0114 FFF7FEFF 		bl	EOE_ip_uint32_to_byte
 1144              	.LVL94:
 567:Drivers/SOES/Src/esc_eoe.c ****       }
 1145              		.loc 1 567 10 is_stmt 1 view .LVU362
ARM GAS  /tmp/ccwTT7Kw.s 			page 43


 567:Drivers/SOES/Src/esc_eoe.c ****       }
 1146              		.loc 1 567 22 is_stmt 0 view .LVU363
 1147 0118 0436     		adds	r6, r6, #4
 1148              	.LVL95:
 567:Drivers/SOES/Src/esc_eoe.c ****       }
 1149              		.loc 1 567 22 view .LVU364
 1150 011a F6B2     		uxtb	r6, r6
 1151              	.LVL96:
 567:Drivers/SOES/Src/esc_eoe.c ****       }
 1152              		.loc 1 567 22 view .LVU365
 1153 011c B0E7     		b	.L68
 1154              	.L79:
 573:Drivers/SOES/Src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].subnet,
 1155              		.loc 1 573 10 is_stmt 1 view .LVU366
 573:Drivers/SOES/Src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].subnet,
 1156              		.loc 1 573 16 is_stmt 0 view .LVU367
 1157 011e 45F00405 		orr	r5, r5, #4
 1158              	.LVL97:
 574:Drivers/SOES/Src/esc_eoe.c ****                &eoembx->data[data_offset]);
 1159              		.loc 1 574 10 is_stmt 1 view .LVU368
 1160 0122 06F10801 		add	r1, r6, #8
 1161 0126 3944     		add	r1, r1, r7
 1162 0128 C4EBC400 		rsb	r0, r4, r4, lsl #3
 1163 012c C000     		lsls	r0, r0, #3
 1164 012e 0830     		adds	r0, r0, #8
 1165 0130 1044     		add	r0, r0, r2
 1166 0132 0231     		adds	r1, r1, #2
 1167 0134 0430     		adds	r0, r0, #4
 1168 0136 FFF7FEFF 		bl	EOE_ip_uint32_to_byte
 1169              	.LVL98:
 577:Drivers/SOES/Src/esc_eoe.c ****       }
 1170              		.loc 1 577 10 view .LVU369
 577:Drivers/SOES/Src/esc_eoe.c ****       }
 1171              		.loc 1 577 22 is_stmt 0 view .LVU370
 1172 013a 0436     		adds	r6, r6, #4
 1173              	.LVL99:
 577:Drivers/SOES/Src/esc_eoe.c ****       }
 1174              		.loc 1 577 22 view .LVU371
 1175 013c F6B2     		uxtb	r6, r6
 1176              	.LVL100:
 577:Drivers/SOES/Src/esc_eoe.c ****       }
 1177              		.loc 1 577 22 view .LVU372
 1178 013e A7E7     		b	.L69
 1179              	.L80:
 583:Drivers/SOES/Src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].default_gateway,
 1180              		.loc 1 583 10 is_stmt 1 view .LVU373
 583:Drivers/SOES/Src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].default_gateway,
 1181              		.loc 1 583 16 is_stmt 0 view .LVU374
 1182 0140 45F00805 		orr	r5, r5, #8
 1183              	.LVL101:
 584:Drivers/SOES/Src/esc_eoe.c ****                &eoembx->data[data_offset]);
 1184              		.loc 1 584 10 is_stmt 1 view .LVU375
 1185 0144 06F10801 		add	r1, r6, #8
 1186 0148 3944     		add	r1, r1, r7
 1187 014a C4EBC403 		rsb	r3, r4, r4, lsl #3
 1188 014e DB00     		lsls	r3, r3, #3
 1189 0150 1033     		adds	r3, r3, #16
ARM GAS  /tmp/ccwTT7Kw.s 			page 44


 1190 0152 0231     		adds	r1, r1, #2
 1191 0154 1046     		mov	r0, r2
 1192 0156 1844     		add	r0, r0, r3
 1193 0158 FFF7FEFF 		bl	EOE_ip_uint32_to_byte
 1194              	.LVL102:
 587:Drivers/SOES/Src/esc_eoe.c ****       }
 1195              		.loc 1 587 10 view .LVU376
 587:Drivers/SOES/Src/esc_eoe.c ****       }
 1196              		.loc 1 587 22 is_stmt 0 view .LVU377
 1197 015c 0436     		adds	r6, r6, #4
 1198              	.LVL103:
 587:Drivers/SOES/Src/esc_eoe.c ****       }
 1199              		.loc 1 587 22 view .LVU378
 1200 015e F6B2     		uxtb	r6, r6
 1201              	.LVL104:
 587:Drivers/SOES/Src/esc_eoe.c ****       }
 1202              		.loc 1 587 22 view .LVU379
 1203 0160 9EE7     		b	.L70
 1204              	.L81:
 592:Drivers/SOES/Src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].dns_ip,
 1205              		.loc 1 592 10 is_stmt 1 view .LVU380
 592:Drivers/SOES/Src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].dns_ip,
 1206              		.loc 1 592 16 is_stmt 0 view .LVU381
 1207 0162 45F01005 		orr	r5, r5, #16
 1208              	.LVL105:
 593:Drivers/SOES/Src/esc_eoe.c ****                &eoembx->data[data_offset]);
 1209              		.loc 1 593 10 is_stmt 1 view .LVU382
 1210 0166 06F10801 		add	r1, r6, #8
 1211 016a 3944     		add	r1, r1, r7
 1212 016c C4EBC400 		rsb	r0, r4, r4, lsl #3
 1213 0170 C000     		lsls	r0, r0, #3
 1214 0172 1030     		adds	r0, r0, #16
 1215 0174 1044     		add	r0, r0, r2
 1216 0176 0231     		adds	r1, r1, #2
 1217 0178 0430     		adds	r0, r0, #4
 1218 017a FFF7FEFF 		bl	EOE_ip_uint32_to_byte
 1219              	.LVL106:
 596:Drivers/SOES/Src/esc_eoe.c ****       }
 1220              		.loc 1 596 10 view .LVU383
 596:Drivers/SOES/Src/esc_eoe.c ****       }
 1221              		.loc 1 596 22 is_stmt 0 view .LVU384
 1222 017e 0436     		adds	r6, r6, #4
 1223              	.LVL107:
 596:Drivers/SOES/Src/esc_eoe.c ****       }
 1224              		.loc 1 596 22 view .LVU385
 1225 0180 F6B2     		uxtb	r6, r6
 1226              	.LVL108:
 596:Drivers/SOES/Src/esc_eoe.c ****       }
 1227              		.loc 1 596 22 view .LVU386
 1228 0182 95E7     		b	.L71
 1229              	.L82:
 603:Drivers/SOES/Src/esc_eoe.c ****          memcpy(&eoembx->data[data_offset],
 1230              		.loc 1 603 10 is_stmt 1 view .LVU387
 603:Drivers/SOES/Src/esc_eoe.c ****          memcpy(&eoembx->data[data_offset],
 1231              		.loc 1 603 16 is_stmt 0 view .LVU388
 1232 0184 45F02005 		orr	r5, r5, #32
 1233              	.LVL109:
ARM GAS  /tmp/ccwTT7Kw.s 			page 45


 604:Drivers/SOES/Src/esc_eoe.c ****                nic_ports[port_ix].dns_name,
 1234              		.loc 1 604 10 is_stmt 1 view .LVU389
 604:Drivers/SOES/Src/esc_eoe.c ****                nic_ports[port_ix].dns_name,
 1235              		.loc 1 604 17 is_stmt 0 view .LVU390
 1236 0188 06F10803 		add	r3, r6, #8
 1237 018c 3B44     		add	r3, r3, r7
 605:Drivers/SOES/Src/esc_eoe.c ****                EOE_DNS_NAME_LENGTH);
 1238              		.loc 1 605 34 view .LVU391
 1239 018e 1146     		mov	r1, r2
 1240 0190 C4EBC404 		rsb	r4, r4, r4, lsl #3
 1241              	.LVL110:
 605:Drivers/SOES/Src/esc_eoe.c ****                EOE_DNS_NAME_LENGTH);
 1242              		.loc 1 605 34 view .LVU392
 1243 0194 E400     		lsls	r4, r4, #3
 1244 0196 1834     		adds	r4, r4, #24
 1245 0198 2244     		add	r2, r2, r4
 604:Drivers/SOES/Src/esc_eoe.c ****                nic_ports[port_ix].dns_name,
 1246              		.loc 1 604 10 view .LVU393
 1247 019a 51F804C0 		ldr	ip, [r1, r4]	@ unaligned
 1248 019e 5468     		ldr	r4, [r2, #4]	@ unaligned
 1249 01a0 9068     		ldr	r0, [r2, #8]	@ unaligned
 1250 01a2 D168     		ldr	r1, [r2, #12]	@ unaligned
 1251 01a4 C3F802C0 		str	ip, [r3, #2]	@ unaligned
 1252 01a8 C3F80640 		str	r4, [r3, #6]	@ unaligned
 1253 01ac C3F80A00 		str	r0, [r3, #10]	@ unaligned
 1254 01b0 C3F80E10 		str	r1, [r3, #14]	@ unaligned
 1255 01b4 D2F810C0 		ldr	ip, [r2, #16]	@ unaligned
 1256 01b8 5469     		ldr	r4, [r2, #20]	@ unaligned
 1257 01ba 9069     		ldr	r0, [r2, #24]	@ unaligned
 1258 01bc D169     		ldr	r1, [r2, #28]	@ unaligned
 1259 01be C3F812C0 		str	ip, [r3, #18]	@ unaligned
 1260 01c2 C3F81640 		str	r4, [r3, #22]	@ unaligned
 1261 01c6 C3F81A00 		str	r0, [r3, #26]	@ unaligned
 1262 01ca C3F81E10 		str	r1, [r3, #30]	@ unaligned
 608:Drivers/SOES/Src/esc_eoe.c ****       }
 1263              		.loc 1 608 10 is_stmt 1 view .LVU394
 608:Drivers/SOES/Src/esc_eoe.c ****       }
 1264              		.loc 1 608 22 is_stmt 0 view .LVU395
 1265 01ce 2036     		adds	r6, r6, #32
 1266              	.LVL111:
 608:Drivers/SOES/Src/esc_eoe.c ****       }
 1267              		.loc 1 608 22 view .LVU396
 1268 01d0 F6B2     		uxtb	r6, r6
 1269              	.LVL112:
 608:Drivers/SOES/Src/esc_eoe.c ****       }
 1270              		.loc 1 608 22 view .LVU397
 1271 01d2 75E7     		b	.L72
 1272              	.L84:
 1273              		.align	2
 1274              	.L83:
 1275 01d4 00000000 		.word	MBX
 1276 01d8 00000000 		.word	.LANCHOR1
 1277 01dc 00000000 		.word	ESCvar
 1278 01e0 00000000 		.word	MBXcontrol
 1279 01e4 00000000 		.word	.LANCHOR2
 1280              		.cfi_endproc
 1281              	.LFE15:
ARM GAS  /tmp/ccwTT7Kw.s 			page 46


 1283              		.section	.text.EOE_send_fragment,"ax",%progbits
 1284              		.align	1
 1285              		.syntax unified
 1286              		.thumb
 1287              		.thumb_func
 1289              	EOE_send_fragment:
 1290              	.LFB18:
 820:Drivers/SOES/Src/esc_eoe.c ****    _EOE *eoembx;
 1291              		.loc 1 820 1 is_stmt 1 view -0
 1292              		.cfi_startproc
 1293              		@ args = 0, pretend = 0, frame = 0
 1294              		@ frame_needed = 0, uses_anonymous_args = 0
 1295 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1296              		.cfi_def_cfa_offset 24
 1297              		.cfi_offset 3, -24
 1298              		.cfi_offset 4, -20
 1299              		.cfi_offset 5, -16
 1300              		.cfi_offset 6, -12
 1301              		.cfi_offset 7, -8
 1302              		.cfi_offset 14, -4
 821:Drivers/SOES/Src/esc_eoe.c ****    uint8_t mbxhandle;
 1303              		.loc 1 821 4 view .LVU399
 822:Drivers/SOES/Src/esc_eoe.c ****    int len;
 1304              		.loc 1 822 4 view .LVU400
 823:Drivers/SOES/Src/esc_eoe.c ****    int len_to_send;
 1305              		.loc 1 823 4 view .LVU401
 824:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo1;
 1306              		.loc 1 824 4 view .LVU402
 825:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo2;
 1307              		.loc 1 825 4 view .LVU403
 826:Drivers/SOES/Src/esc_eoe.c ****    static uint8_t frameno = 0;
 1308              		.loc 1 826 4 view .LVU404
 827:Drivers/SOES/Src/esc_eoe.c **** 
 1309              		.loc 1 827 4 view .LVU405
 830:Drivers/SOES/Src/esc_eoe.c ****    {
 1310              		.loc 1 830 4 view .LVU406
 830:Drivers/SOES/Src/esc_eoe.c ****    {
 1311              		.loc 1 830 20 is_stmt 0 view .LVU407
 1312 0002 3D4B     		ldr	r3, .L100
 1313 0004 1B69     		ldr	r3, [r3, #16]
 830:Drivers/SOES/Src/esc_eoe.c ****    {
 1314              		.loc 1 830 6 view .LVU408
 1315 0006 002B     		cmp	r3, #0
 1316 0008 55D0     		beq	.L97
 1317              	.L86:
 845:Drivers/SOES/Src/esc_eoe.c ****    if (mbxhandle)
 1318              		.loc 1 845 4 is_stmt 1 view .LVU409
 845:Drivers/SOES/Src/esc_eoe.c ****    if (mbxhandle)
 1319              		.loc 1 845 16 is_stmt 0 view .LVU410
 1320 000a FFF7FEFF 		bl	ESC_claimbuffer
 1321              	.LVL113:
 846:Drivers/SOES/Src/esc_eoe.c ****    {
 1322              		.loc 1 846 4 is_stmt 1 view .LVU411
 846:Drivers/SOES/Src/esc_eoe.c ****    {
 1323              		.loc 1 846 7 is_stmt 0 view .LVU412
 1324 000e 0546     		mov	r5, r0
 1325 0010 0028     		cmp	r0, #0
ARM GAS  /tmp/ccwTT7Kw.s 			page 47


 1326 0012 4FD0     		beq	.L85
 848:Drivers/SOES/Src/esc_eoe.c ****       if((len_to_send + ESC_EOEHSIZE + ESC_MBXHSIZE) > ESC_MBXSIZE)
 1327              		.loc 1 848 7 is_stmt 1 view .LVU413
 848:Drivers/SOES/Src/esc_eoe.c ****       if((len_to_send + ESC_EOEHSIZE + ESC_MBXHSIZE) > ESC_MBXSIZE)
 1328              		.loc 1 848 27 is_stmt 0 view .LVU414
 1329 0014 384B     		ldr	r3, .L100
 1330 0016 588C     		ldrh	r0, [r3, #34]
 1331              	.LVL114:
 848:Drivers/SOES/Src/esc_eoe.c ****       if((len_to_send + ESC_EOEHSIZE + ESC_MBXHSIZE) > ESC_MBXSIZE)
 1332              		.loc 1 848 48 view .LVU415
 1333 0018 998C     		ldrh	r1, [r3, #36]
 848:Drivers/SOES/Src/esc_eoe.c ****       if((len_to_send + ESC_EOEHSIZE + ESC_MBXHSIZE) > ESC_MBXSIZE)
 1334              		.loc 1 848 19 view .LVU416
 1335 001a 421A     		subs	r2, r0, r1
 1336              	.LVL115:
 849:Drivers/SOES/Src/esc_eoe.c ****       {
 1337              		.loc 1 849 7 is_stmt 1 view .LVU417
 849:Drivers/SOES/Src/esc_eoe.c ****       {
 1338              		.loc 1 849 38 is_stmt 0 view .LVU418
 1339 001c 02F10A04 		add	r4, r2, #10
 849:Drivers/SOES/Src/esc_eoe.c ****       {
 1340              		.loc 1 849 56 view .LVU419
 1341 0020 364B     		ldr	r3, .L100+4
 1342 0022 9B6E     		ldr	r3, [r3, #104]
 849:Drivers/SOES/Src/esc_eoe.c ****       {
 1343              		.loc 1 849 9 view .LVU420
 1344 0024 9C42     		cmp	r4, r3
 1345 0026 51D9     		bls	.L94
 852:Drivers/SOES/Src/esc_eoe.c ****                (((ESC_MBXSIZE - ESC_EOEHSIZE - ESC_MBXHSIZE) >> 5) << 5);
 1346              		.loc 1 852 10 is_stmt 1 view .LVU421
 853:Drivers/SOES/Src/esc_eoe.c ****       }
 1347              		.loc 1 853 46 is_stmt 0 view .LVU422
 1348 0028 A3F10A04 		sub	r4, r3, #10
 852:Drivers/SOES/Src/esc_eoe.c ****                (((ESC_MBXSIZE - ESC_EOEHSIZE - ESC_MBXHSIZE) >> 5) << 5);
 1349              		.loc 1 852 22 view .LVU423
 1350 002c 24F01F04 		bic	r4, r4, #31
 1351              	.LVL116:
 1352              	.L88:
 857:Drivers/SOES/Src/esc_eoe.c ****       {
 1353              		.loc 1 857 7 is_stmt 1 view .LVU424
 857:Drivers/SOES/Src/esc_eoe.c ****       {
 1354              		.loc 1 857 9 is_stmt 0 view .LVU425
 1355 0030 9442     		cmp	r4, r2
 1356 0032 4DD0     		beq	.L98
 863:Drivers/SOES/Src/esc_eoe.c ****       }
 1357              		.loc 1 863 21 view .LVU426
 1358 0034 4FF0000C 		mov	ip, #0
 1359              	.L89:
 1360              	.LVL117:
 867:Drivers/SOES/Src/esc_eoe.c **** 
 1361              		.loc 1 867 7 is_stmt 1 view .LVU427
 867:Drivers/SOES/Src/esc_eoe.c **** 
 1362              		.loc 1 867 20 is_stmt 0 view .LVU428
 1363 0038 2F4A     		ldr	r2, .L100
 1364 003a 92F82020 		ldrb	r2, [r2, #32]	@ zero_extendqisi2
 1365 003e 02F03F0E 		and	lr, r2, #63
 1366              	.LVL118:
ARM GAS  /tmp/ccwTT7Kw.s 			page 48


 870:Drivers/SOES/Src/esc_eoe.c ****       {
 1367              		.loc 1 870 7 is_stmt 1 view .LVU429
 870:Drivers/SOES/Src/esc_eoe.c ****       {
 1368              		.loc 1 870 9 is_stmt 0 view .LVU430
 1369 0042 002A     		cmp	r2, #0
 1370 0044 47D0     		beq	.L90
 872:Drivers/SOES/Src/esc_eoe.c ****       }
 1371              		.loc 1 872 10 is_stmt 1 view .LVU431
 872:Drivers/SOES/Src/esc_eoe.c ****       }
 1372              		.loc 1 872 25 is_stmt 0 view .LVU432
 1373 0046 4A09     		lsrs	r2, r1, #5
 1374 0048 9201     		lsls	r2, r2, #6
 1375 004a 02F47C62 		and	r2, r2, #4032
 872:Drivers/SOES/Src/esc_eoe.c ****       }
 1376              		.loc 1 872 21 view .LVU433
 1377 004e 42EA0E02 		orr	r2, r2, lr
 1378              	.LVL119:
 1379              	.L91:
 882:Drivers/SOES/Src/esc_eoe.c **** 
 1380              		.loc 1 882 7 is_stmt 1 view .LVU434
 882:Drivers/SOES/Src/esc_eoe.c **** 
 1381              		.loc 1 882 33 is_stmt 0 view .LVU435
 1382 0052 2B48     		ldr	r0, .L100+8
 1383 0054 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 882:Drivers/SOES/Src/esc_eoe.c **** 
 1384              		.loc 1 882 31 view .LVU436
 1385 0056 42EA0032 		orr	r2, r2, r0, lsl #12
 1386              	.LVL120:
 884:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (len_to_send + ESC_EOEHSIZE);
 1387              		.loc 1 884 7 is_stmt 1 view .LVU437
 884:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (len_to_send + ESC_EOEHSIZE);
 1388              		.loc 1 884 40 is_stmt 0 view .LVU438
 1389 005a 05FB03F3 		mul	r3, r5, r3
 884:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (len_to_send + ESC_EOEHSIZE);
 1390              		.loc 1 884 14 view .LVU439
 1391 005e 294F     		ldr	r7, .L100+12
 1392 0060 D819     		adds	r0, r3, r7
 1393              	.LVL121:
 885:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 1394              		.loc 1 885 7 is_stmt 1 view .LVU440
 885:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 1395              		.loc 1 885 34 is_stmt 0 view .LVU441
 1396 0062 A6B2     		uxth	r6, r4
 1397 0064 06F1040E 		add	lr, r6, #4
 885:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 1398              		.loc 1 885 32 view .LVU442
 1399 0068 27F803E0 		strh	lr, [r7, r3]	@ unaligned
 886:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 1400              		.loc 1 886 7 is_stmt 1 view .LVU443
 886:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 1401              		.loc 1 886 33 is_stmt 0 view .LVU444
 1402 006c 4379     		ldrb	r3, [r0, #5]	@ zero_extendqisi2
 1403 006e 0227     		movs	r7, #2
 1404 0070 67F30303 		bfi	r3, r7, #0, #4
 1405 0074 4371     		strb	r3, [r0, #5]
 887:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.frameinfo2 = htoes(frameinfo2);
 1406              		.loc 1 887 7 is_stmt 1 view .LVU445
ARM GAS  /tmp/ccwTT7Kw.s 			page 49


 887:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.frameinfo2 = htoes(frameinfo2);
 1407              		.loc 1 887 36 is_stmt 0 view .LVU446
 1408 0076 A0F806C0 		strh	ip, [r0, #6]	@ unaligned
 888:Drivers/SOES/Src/esc_eoe.c **** 
 1409              		.loc 1 888 7 is_stmt 1 view .LVU447
 888:Drivers/SOES/Src/esc_eoe.c **** 
 1410              		.loc 1 888 36 is_stmt 0 view .LVU448
 1411 007a 0281     		strh	r2, [r0, #8]	@ unaligned
 891:Drivers/SOES/Src/esc_eoe.c ****             &EOEvar.txebuf.payload[EOEvar.txframeoffset],
 1412              		.loc 1 891 7 is_stmt 1 view .LVU449
 892:Drivers/SOES/Src/esc_eoe.c ****             len_to_send);
 1413              		.loc 1 892 27 is_stmt 0 view .LVU450
 1414 007c 1E4F     		ldr	r7, .L100
 1415 007e 3B69     		ldr	r3, [r7, #16]
 891:Drivers/SOES/Src/esc_eoe.c ****             &EOEvar.txebuf.payload[EOEvar.txframeoffset],
 1416              		.loc 1 891 7 view .LVU451
 1417 0080 2246     		mov	r2, r4
 1418              	.LVL122:
 891:Drivers/SOES/Src/esc_eoe.c ****             &EOEvar.txebuf.payload[EOEvar.txframeoffset],
 1419              		.loc 1 891 7 view .LVU452
 1420 0082 1944     		add	r1, r1, r3
 1421 0084 0A30     		adds	r0, r0, #10
 1422              	.LVL123:
 891:Drivers/SOES/Src/esc_eoe.c ****             &EOEvar.txebuf.payload[EOEvar.txframeoffset],
 1423              		.loc 1 891 7 view .LVU453
 1424 0086 FFF7FEFF 		bl	memcpy
 1425              	.LVL124:
 894:Drivers/SOES/Src/esc_eoe.c **** 
 1426              		.loc 1 894 7 is_stmt 1 view .LVU454
 894:Drivers/SOES/Src/esc_eoe.c **** 
 1427              		.loc 1 894 35 is_stmt 0 view .LVU455
 1428 008a 1F4B     		ldr	r3, .L100+16
 1429 008c 0322     		movs	r2, #3
 1430 008e 5A55     		strb	r2, [r3, r5]
 897:Drivers/SOES/Src/esc_eoe.c ****       {
 1431              		.loc 1 897 7 is_stmt 1 view .LVU456
 897:Drivers/SOES/Src/esc_eoe.c ****       {
 1432              		.loc 1 897 32 is_stmt 0 view .LVU457
 1433 0090 7B8C     		ldrh	r3, [r7, #34]
 897:Drivers/SOES/Src/esc_eoe.c ****       {
 1434              		.loc 1 897 53 view .LVU458
 1435 0092 BA8C     		ldrh	r2, [r7, #36]
 897:Drivers/SOES/Src/esc_eoe.c ****       {
 1436              		.loc 1 897 45 view .LVU459
 1437 0094 9B1A     		subs	r3, r3, r2
 897:Drivers/SOES/Src/esc_eoe.c ****       {
 1438              		.loc 1 897 9 view .LVU460
 1439 0096 A342     		cmp	r3, r4
 1440 0098 2AD0     		beq	.L99
 903:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.txfragmentno += 1;
 1441              		.loc 1 903 10 is_stmt 1 view .LVU461
 903:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.txfragmentno += 1;
 1442              		.loc 1 903 31 is_stmt 0 view .LVU462
 1443 009a 174B     		ldr	r3, .L100
 1444 009c 1644     		add	r6, r6, r2
 1445 009e 9E84     		strh	r6, [r3, #36]	@ movhi
 904:Drivers/SOES/Src/esc_eoe.c ****       }
ARM GAS  /tmp/ccwTT7Kw.s 			page 50


 1446              		.loc 1 904 10 is_stmt 1 view .LVU463
 904:Drivers/SOES/Src/esc_eoe.c ****       }
 1447              		.loc 1 904 30 is_stmt 0 view .LVU464
 1448 00a0 93F82020 		ldrb	r2, [r3, #32]	@ zero_extendqisi2
 1449 00a4 0132     		adds	r2, r2, #1
 1450 00a6 83F82020 		strb	r2, [r3, #32]
 1451              	.L93:
 906:Drivers/SOES/Src/esc_eoe.c ****       {
 1452              		.loc 1 906 7 is_stmt 1 view .LVU465
 906:Drivers/SOES/Src/esc_eoe.c ****       {
 1453              		.loc 1 906 17 is_stmt 0 view .LVU466
 1454 00aa 184B     		ldr	r3, .L100+20
 1455 00ac 1B68     		ldr	r3, [r3]
 1456 00ae 9B69     		ldr	r3, [r3, #24]
 906:Drivers/SOES/Src/esc_eoe.c ****       {
 1457              		.loc 1 906 9 view .LVU467
 1458 00b0 03B1     		cbz	r3, .L85
 908:Drivers/SOES/Src/esc_eoe.c ****       }
 1459              		.loc 1 908 10 is_stmt 1 view .LVU468
 1460 00b2 9847     		blx	r3
 1461              	.LVL125:
 1462              	.L85:
 911:Drivers/SOES/Src/esc_eoe.c **** 
 1463              		.loc 1 911 1 is_stmt 0 view .LVU469
 1464 00b4 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1465              	.L97:
 833:Drivers/SOES/Src/esc_eoe.c ****       if(len > 0)
 1466              		.loc 1 833 7 is_stmt 1 view .LVU470
 833:Drivers/SOES/Src/esc_eoe.c ****       if(len > 0)
 1467              		.loc 1 833 20 is_stmt 0 view .LVU471
 1468 00b6 154B     		ldr	r3, .L100+20
 1469 00b8 1B68     		ldr	r3, [r3]
 1470 00ba 5B69     		ldr	r3, [r3, #20]
 833:Drivers/SOES/Src/esc_eoe.c ****       if(len > 0)
 1471              		.loc 1 833 13 view .LVU472
 1472 00bc 1449     		ldr	r1, .L100+24
 1473 00be 0020     		movs	r0, #0
 1474 00c0 9847     		blx	r3
 1475              	.LVL126:
 834:Drivers/SOES/Src/esc_eoe.c ****       {
 1476              		.loc 1 834 7 is_stmt 1 view .LVU473
 834:Drivers/SOES/Src/esc_eoe.c ****       {
 1477              		.loc 1 834 9 is_stmt 0 view .LVU474
 1478 00c2 0028     		cmp	r0, #0
 834:Drivers/SOES/Src/esc_eoe.c ****       {
 1479              		.loc 1 834 9 view .LVU475
 1480 00c4 F6DD     		ble	.L85
 836:Drivers/SOES/Src/esc_eoe.c ****       }
 1481              		.loc 1 836 10 is_stmt 1 view .LVU476
 836:Drivers/SOES/Src/esc_eoe.c ****       }
 1482              		.loc 1 836 29 is_stmt 0 view .LVU477
 1483 00c6 0C4B     		ldr	r3, .L100
 1484 00c8 5884     		strh	r0, [r3, #34]	@ movhi
 1485 00ca 9EE7     		b	.L86
 1486              	.LVL127:
 1487              	.L94:
 848:Drivers/SOES/Src/esc_eoe.c ****       if((len_to_send + ESC_EOEHSIZE + ESC_MBXHSIZE) > ESC_MBXSIZE)
ARM GAS  /tmp/ccwTT7Kw.s 			page 51


 1488              		.loc 1 848 19 view .LVU478
 1489 00cc 1446     		mov	r4, r2
 1490 00ce AFE7     		b	.L88
 1491              	.LVL128:
 1492              	.L98:
 859:Drivers/SOES/Src/esc_eoe.c ****       }
 1493              		.loc 1 859 21 view .LVU479
 1494 00d0 4FF4807C 		mov	ip, #256
 1495 00d4 B0E7     		b	.L89
 1496              	.LVL129:
 1497              	.L90:
 876:Drivers/SOES/Src/esc_eoe.c ****                (EOE_HDR_FRAME_OFFSET_SET(((EOEvar.txframesize + 31) >> 5)));
 1498              		.loc 1 876 10 is_stmt 1 view .LVU480
 877:Drivers/SOES/Src/esc_eoe.c ****          frameno++;
 1499              		.loc 1 877 17 is_stmt 0 view .LVU481
 1500 00d6 00F11F02 		add	r2, r0, #31
 1501 00da 5211     		asrs	r2, r2, #5
 1502 00dc 9201     		lsls	r2, r2, #6
 1503 00de 02F47C62 		and	r2, r2, #4032
 876:Drivers/SOES/Src/esc_eoe.c ****                (EOE_HDR_FRAME_OFFSET_SET(((EOEvar.txframesize + 31) >> 5)));
 1504              		.loc 1 876 21 view .LVU482
 1505 00e2 42EA0E02 		orr	r2, r2, lr
 1506              	.LVL130:
 878:Drivers/SOES/Src/esc_eoe.c ****       }
 1507              		.loc 1 878 10 is_stmt 1 view .LVU483
 878:Drivers/SOES/Src/esc_eoe.c ****       }
 1508              		.loc 1 878 17 is_stmt 0 view .LVU484
 1509 00e6 064E     		ldr	r6, .L100+8
 1510 00e8 3078     		ldrb	r0, [r6]	@ zero_extendqisi2
 1511 00ea 0130     		adds	r0, r0, #1
 1512 00ec 3070     		strb	r0, [r6]
 1513 00ee B0E7     		b	.L91
 1514              	.LVL131:
 1515              	.L99:
 899:Drivers/SOES/Src/esc_eoe.c ****       }
 1516              		.loc 1 899 10 is_stmt 1 view .LVU485
 1517 00f0 FFF7FEFF 		bl	EOE_init_tx
 1518              	.LVL132:
 1519 00f4 D9E7     		b	.L93
 1520              	.L101:
 1521 00f6 00BF     		.align	2
 1522              	.L100:
 1523 00f8 00000000 		.word	.LANCHOR0
 1524 00fc 00000000 		.word	ESCvar
 1525 0100 00000000 		.word	.LANCHOR3
 1526 0104 00000000 		.word	MBX
 1527 0108 00000000 		.word	MBXcontrol
 1528 010c 00000000 		.word	.LANCHOR1
 1529 0110 0C000000 		.word	.LANCHOR0+12
 1530              		.cfi_endproc
 1531              	.LFE18:
 1533              		.section	.text.EOE_get_mac,"ax",%progbits
 1534              		.align	1
 1535              		.global	EOE_get_mac
 1536              		.syntax unified
 1537              		.thumb
 1538              		.thumb_func
ARM GAS  /tmp/ccwTT7Kw.s 			page 52


 1540              	EOE_get_mac:
 1541              	.LVL133:
 1542              	.LFB2:
 221:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 1543              		.loc 1 221 1 view -0
 1544              		.cfi_startproc
 1545              		@ args = 0, pretend = 0, frame = 0
 1546              		@ frame_needed = 0, uses_anonymous_args = 0
 1547              		@ link register save eliminated.
 222:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1548              		.loc 1 222 4 view .LVU487
 223:Drivers/SOES/Src/esc_eoe.c **** 
 1549              		.loc 1 223 4 view .LVU488
 225:Drivers/SOES/Src/esc_eoe.c ****    {
 1550              		.loc 1 225 4 view .LVU489
 225:Drivers/SOES/Src/esc_eoe.c ****    {
 1551              		.loc 1 225 6 is_stmt 0 view .LVU490
 1552 0000 80B9     		cbnz	r0, .L104
 227:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 1553              		.loc 1 227 7 is_stmt 1 discriminator 4 view .LVU491
 1554              	.LVL134:
 228:Drivers/SOES/Src/esc_eoe.c ****       {
 1555              		.loc 1 228 7 discriminator 4 view .LVU492
 228:Drivers/SOES/Src/esc_eoe.c ****       {
 1556              		.loc 1 228 28 is_stmt 0 discriminator 4 view .LVU493
 1557 0002 0B4B     		ldr	r3, .L106
 1558 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 228:Drivers/SOES/Src/esc_eoe.c ****       {
 1559              		.loc 1 228 9 discriminator 4 view .LVU494
 1560 0006 13F0010F 		tst	r3, #1
 1561 000a 0ED0     		beq	.L105
 230:Drivers/SOES/Src/esc_eoe.c ****                sizeof(nic_ports[port_ix].mac));
 1562              		.loc 1 230 10 is_stmt 1 view .LVU495
 1563 000c 084B     		ldr	r3, .L106
 1564 000e D3F80120 		ldr	r2, [r3, #1]	@ unaligned
 1565 0012 0A60     		str	r2, [r1]	@ unaligned
 1566 0014 B3F80520 		ldrh	r2, [r3, #5]	@ unaligned
 1567 0018 8A80     		strh	r2, [r1, #4]	@ unaligned
 232:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 1568              		.loc 1 232 10 view .LVU496
 232:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 1569              		.loc 1 232 37 is_stmt 0 view .LVU497
 1570 001a 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 1571 001c 42F00102 		orr	r2, r2, #1
 1572 0020 1A70     		strb	r2, [r3]
 233:Drivers/SOES/Src/esc_eoe.c ****       }
 1573              		.loc 1 233 10 is_stmt 1 view .LVU498
 1574              	.LVL135:
 233:Drivers/SOES/Src/esc_eoe.c ****       }
 1575              		.loc 1 233 10 is_stmt 0 view .LVU499
 1576 0022 7047     		bx	lr
 1577              	.LVL136:
 1578              	.L104:
 222:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1579              		.loc 1 222 8 view .LVU500
 1580 0024 4FF0FF30 		mov	r0, #-1
 1581              	.LVL137:
ARM GAS  /tmp/ccwTT7Kw.s 			page 53


 222:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1582              		.loc 1 222 8 view .LVU501
 1583 0028 7047     		bx	lr
 1584              	.LVL138:
 1585              	.L105:
 222:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1586              		.loc 1 222 8 view .LVU502
 1587 002a 4FF0FF30 		mov	r0, #-1
 1588              	.LVL139:
 236:Drivers/SOES/Src/esc_eoe.c **** }
 1589              		.loc 1 236 4 is_stmt 1 view .LVU503
 237:Drivers/SOES/Src/esc_eoe.c **** 
 1590              		.loc 1 237 1 is_stmt 0 view .LVU504
 1591 002e 7047     		bx	lr
 1592              	.L107:
 1593              		.align	2
 1594              	.L106:
 1595 0030 00000000 		.word	.LANCHOR2
 1596              		.cfi_endproc
 1597              	.LFE2:
 1599              		.section	.text.EOE_ecat_set_mac,"ax",%progbits
 1600              		.align	1
 1601              		.global	EOE_ecat_set_mac
 1602              		.syntax unified
 1603              		.thumb
 1604              		.thumb_func
 1606              	EOE_ecat_set_mac:
 1607              	.LVL140:
 1608              	.LFB3:
 246:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 1609              		.loc 1 246 1 is_stmt 1 view -0
 1610              		.cfi_startproc
 1611              		@ args = 0, pretend = 0, frame = 0
 1612              		@ frame_needed = 0, uses_anonymous_args = 0
 1613              		@ link register save eliminated.
 247:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1614              		.loc 1 247 4 view .LVU506
 248:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 1615              		.loc 1 248 4 view .LVU507
 249:Drivers/SOES/Src/esc_eoe.c ****    {
 1616              		.loc 1 249 4 view .LVU508
 249:Drivers/SOES/Src/esc_eoe.c ****    {
 1617              		.loc 1 249 6 is_stmt 0 view .LVU509
 1618 0000 38B9     		cbnz	r0, .L110
 251:Drivers/SOES/Src/esc_eoe.c ****       memcpy(nic_ports[port_ix].mac.addr, mac,
 1619              		.loc 1 251 7 is_stmt 1 discriminator 4 view .LVU510
 1620              	.LVL141:
 252:Drivers/SOES/Src/esc_eoe.c ****             sizeof(nic_ports[port_ix].mac));
 1621              		.loc 1 252 7 discriminator 4 view .LVU511
 1622 0002 054B     		ldr	r3, .L111
 1623 0004 0A68     		ldr	r2, [r1]	@ unaligned
 1624 0006 C3F80120 		str	r2, [r3, #1]	@ unaligned
 1625 000a 8A88     		ldrh	r2, [r1, #4]	@ unaligned
 1626 000c A3F80520 		strh	r2, [r3, #5]	@ unaligned
 254:Drivers/SOES/Src/esc_eoe.c ****    }
 1627              		.loc 1 254 7 discriminator 4 view .LVU512
 1628              	.LVL142:
ARM GAS  /tmp/ccwTT7Kw.s 			page 54


 254:Drivers/SOES/Src/esc_eoe.c ****    }
 1629              		.loc 1 254 7 is_stmt 0 discriminator 4 view .LVU513
 1630 0010 7047     		bx	lr
 1631              	.LVL143:
 1632              	.L110:
 247:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1633              		.loc 1 247 8 view .LVU514
 1634 0012 4FF0FF30 		mov	r0, #-1
 1635              	.LVL144:
 256:Drivers/SOES/Src/esc_eoe.c **** }
 1636              		.loc 1 256 4 is_stmt 1 view .LVU515
 257:Drivers/SOES/Src/esc_eoe.c **** 
 1637              		.loc 1 257 1 is_stmt 0 view .LVU516
 1638 0016 7047     		bx	lr
 1639              	.L112:
 1640              		.align	2
 1641              	.L111:
 1642 0018 00000000 		.word	.LANCHOR2
 1643              		.cfi_endproc
 1644              	.LFE3:
 1646              		.section	.text.EOE_ecat_get_ip,"ax",%progbits
 1647              		.align	1
 1648              		.global	EOE_ecat_get_ip
 1649              		.syntax unified
 1650              		.thumb
 1651              		.thumb_func
 1653              	EOE_ecat_get_ip:
 1654              	.LVL145:
 1655              	.LFB4:
 266:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 1656              		.loc 1 266 1 is_stmt 1 view -0
 1657              		.cfi_startproc
 1658              		@ args = 0, pretend = 0, frame = 0
 1659              		@ frame_needed = 0, uses_anonymous_args = 0
 1660              		@ link register save eliminated.
 267:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1661              		.loc 1 267 4 view .LVU518
 268:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 1662              		.loc 1 268 4 view .LVU519
 269:Drivers/SOES/Src/esc_eoe.c ****    {
 1663              		.loc 1 269 4 view .LVU520
 269:Drivers/SOES/Src/esc_eoe.c ****    {
 1664              		.loc 1 269 6 is_stmt 0 view .LVU521
 1665 0000 A0B9     		cbnz	r0, .L115
 271:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].ip_set)
 1666              		.loc 1 271 7 is_stmt 1 discriminator 4 view .LVU522
 1667              	.LVL146:
 272:Drivers/SOES/Src/esc_eoe.c ****       {
 1668              		.loc 1 272 7 discriminator 4 view .LVU523
 272:Drivers/SOES/Src/esc_eoe.c ****       {
 1669              		.loc 1 272 28 is_stmt 0 discriminator 4 view .LVU524
 1670 0002 0D4B     		ldr	r3, .L117
 1671 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 272:Drivers/SOES/Src/esc_eoe.c ****       {
 1672              		.loc 1 272 9 discriminator 4 view .LVU525
 1673 0006 13F0020F 		tst	r3, #2
 1674 000a 12D0     		beq	.L116
ARM GAS  /tmp/ccwTT7Kw.s 			page 55


 274:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 1675              		.loc 1 274 10 is_stmt 1 view .LVU526
 274:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 1676              		.loc 1 274 16 is_stmt 0 view .LVU527
 1677 000c 0A4B     		ldr	r3, .L117
 1678 000e 9A68     		ldr	r2, [r3, #8]
 1679 0010 1302     		lsls	r3, r2, #8
 1680 0012 03F47F03 		and	r3, r3, #16711680
 1681 0016 43EA0263 		orr	r3, r3, r2, lsl #24
 1682 001a 100A     		lsrs	r0, r2, #8
 1683              	.LVL147:
 274:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 1684              		.loc 1 274 16 view .LVU528
 1685 001c 00F47F40 		and	r0, r0, #65280
 1686 0020 0343     		orrs	r3, r3, r0
 1687 0022 43EA1263 		orr	r3, r3, r2, lsr #24
 274:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 1688              		.loc 1 274 14 view .LVU529
 1689 0026 0B60     		str	r3, [r1]
 275:Drivers/SOES/Src/esc_eoe.c ****       }
 1690              		.loc 1 275 10 is_stmt 1 view .LVU530
 1691              	.LVL148:
 275:Drivers/SOES/Src/esc_eoe.c ****       }
 1692              		.loc 1 275 14 is_stmt 0 view .LVU531
 1693 0028 0020     		movs	r0, #0
 1694 002a 7047     		bx	lr
 1695              	.LVL149:
 1696              	.L115:
 267:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1697              		.loc 1 267 8 view .LVU532
 1698 002c 4FF0FF30 		mov	r0, #-1
 1699              	.LVL150:
 267:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1700              		.loc 1 267 8 view .LVU533
 1701 0030 7047     		bx	lr
 1702              	.LVL151:
 1703              	.L116:
 267:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1704              		.loc 1 267 8 view .LVU534
 1705 0032 4FF0FF30 		mov	r0, #-1
 1706              	.LVL152:
 278:Drivers/SOES/Src/esc_eoe.c **** }
 1707              		.loc 1 278 4 is_stmt 1 view .LVU535
 279:Drivers/SOES/Src/esc_eoe.c **** 
 1708              		.loc 1 279 1 is_stmt 0 view .LVU536
 1709 0036 7047     		bx	lr
 1710              	.L118:
 1711              		.align	2
 1712              	.L117:
 1713 0038 00000000 		.word	.LANCHOR2
 1714              		.cfi_endproc
 1715              	.LFE4:
 1717              		.section	.text.EOE_ecat_set_ip,"ax",%progbits
 1718              		.align	1
 1719              		.global	EOE_ecat_set_ip
 1720              		.syntax unified
 1721              		.thumb
ARM GAS  /tmp/ccwTT7Kw.s 			page 56


 1722              		.thumb_func
 1724              	EOE_ecat_set_ip:
 1725              	.LVL153:
 1726              	.LFB5:
 288:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 1727              		.loc 1 288 1 is_stmt 1 view -0
 1728              		.cfi_startproc
 1729              		@ args = 0, pretend = 0, frame = 0
 1730              		@ frame_needed = 0, uses_anonymous_args = 0
 1731              		@ link register save eliminated.
 289:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1732              		.loc 1 289 4 view .LVU538
 290:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 1733              		.loc 1 290 4 view .LVU539
 291:Drivers/SOES/Src/esc_eoe.c ****    {
 1734              		.loc 1 291 4 view .LVU540
 291:Drivers/SOES/Src/esc_eoe.c ****    {
 1735              		.loc 1 291 6 is_stmt 0 view .LVU541
 1736 0000 88B9     		cbnz	r0, .L121
 293:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].ip.addr = EOE_HTONL(ip);
 1737              		.loc 1 293 7 is_stmt 1 discriminator 4 view .LVU542
 1738              	.LVL154:
 294:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].ip_set = 1;
 1739              		.loc 1 294 7 discriminator 4 view .LVU543
 294:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].ip_set = 1;
 1740              		.loc 1 294 36 is_stmt 0 discriminator 4 view .LVU544
 1741 0002 0B02     		lsls	r3, r1, #8
 1742 0004 03F47F03 		and	r3, r3, #16711680
 1743 0008 43EA0163 		orr	r3, r3, r1, lsl #24
 1744 000c 0A0A     		lsrs	r2, r1, #8
 1745 000e 02F47F42 		and	r2, r2, #65280
 1746 0012 1343     		orrs	r3, r3, r2
 1747 0014 43EA1161 		orr	r1, r3, r1, lsr #24
 1748              	.LVL155:
 294:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].ip_set = 1;
 1749              		.loc 1 294 34 discriminator 4 view .LVU545
 1750 0018 044B     		ldr	r3, .L122
 1751 001a 9960     		str	r1, [r3, #8]
 295:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 1752              		.loc 1 295 7 is_stmt 1 discriminator 4 view .LVU546
 295:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 1753              		.loc 1 295 33 is_stmt 0 discriminator 4 view .LVU547
 1754 001c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 1755 001e 42F00202 		orr	r2, r2, #2
 1756 0022 1A70     		strb	r2, [r3]
 296:Drivers/SOES/Src/esc_eoe.c ****    }
 1757              		.loc 1 296 7 is_stmt 1 discriminator 4 view .LVU548
 1758              	.LVL156:
 296:Drivers/SOES/Src/esc_eoe.c ****    }
 1759              		.loc 1 296 7 is_stmt 0 discriminator 4 view .LVU549
 1760 0024 7047     		bx	lr
 1761              	.LVL157:
 1762              	.L121:
 289:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1763              		.loc 1 289 8 view .LVU550
 1764 0026 4FF0FF30 		mov	r0, #-1
 1765              	.LVL158:
ARM GAS  /tmp/ccwTT7Kw.s 			page 57


 298:Drivers/SOES/Src/esc_eoe.c **** }
 1766              		.loc 1 298 4 is_stmt 1 view .LVU551
 299:Drivers/SOES/Src/esc_eoe.c **** 
 1767              		.loc 1 299 1 is_stmt 0 view .LVU552
 1768 002a 7047     		bx	lr
 1769              	.L123:
 1770              		.align	2
 1771              	.L122:
 1772 002c 00000000 		.word	.LANCHOR2
 1773              		.cfi_endproc
 1774              	.LFE5:
 1776              		.section	.text.EOE_ecat_get_subnet,"ax",%progbits
 1777              		.align	1
 1778              		.global	EOE_ecat_get_subnet
 1779              		.syntax unified
 1780              		.thumb
 1781              		.thumb_func
 1783              	EOE_ecat_get_subnet:
 1784              	.LVL159:
 1785              	.LFB6:
 308:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 1786              		.loc 1 308 1 is_stmt 1 view -0
 1787              		.cfi_startproc
 1788              		@ args = 0, pretend = 0, frame = 0
 1789              		@ frame_needed = 0, uses_anonymous_args = 0
 1790              		@ link register save eliminated.
 309:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1791              		.loc 1 309 4 view .LVU554
 310:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 1792              		.loc 1 310 4 view .LVU555
 311:Drivers/SOES/Src/esc_eoe.c ****    {
 1793              		.loc 1 311 4 view .LVU556
 311:Drivers/SOES/Src/esc_eoe.c ****    {
 1794              		.loc 1 311 6 is_stmt 0 view .LVU557
 1795 0000 A0B9     		cbnz	r0, .L126
 313:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].subnet_set)
 1796              		.loc 1 313 7 is_stmt 1 discriminator 4 view .LVU558
 1797              	.LVL160:
 314:Drivers/SOES/Src/esc_eoe.c ****       {
 1798              		.loc 1 314 7 discriminator 4 view .LVU559
 314:Drivers/SOES/Src/esc_eoe.c ****       {
 1799              		.loc 1 314 28 is_stmt 0 discriminator 4 view .LVU560
 1800 0002 0D4B     		ldr	r3, .L128
 1801 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 314:Drivers/SOES/Src/esc_eoe.c ****       {
 1802              		.loc 1 314 9 discriminator 4 view .LVU561
 1803 0006 13F0040F 		tst	r3, #4
 1804 000a 12D0     		beq	.L127
 316:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 1805              		.loc 1 316 10 is_stmt 1 view .LVU562
 316:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 1806              		.loc 1 316 20 is_stmt 0 view .LVU563
 1807 000c 0A4B     		ldr	r3, .L128
 1808 000e DA68     		ldr	r2, [r3, #12]
 1809 0010 1302     		lsls	r3, r2, #8
 1810 0012 03F47F03 		and	r3, r3, #16711680
 1811 0016 43EA0263 		orr	r3, r3, r2, lsl #24
ARM GAS  /tmp/ccwTT7Kw.s 			page 58


 1812 001a 100A     		lsrs	r0, r2, #8
 1813              	.LVL161:
 316:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 1814              		.loc 1 316 20 view .LVU564
 1815 001c 00F47F40 		and	r0, r0, #65280
 1816 0020 0343     		orrs	r3, r3, r0
 1817 0022 43EA1263 		orr	r3, r3, r2, lsr #24
 316:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 1818              		.loc 1 316 18 view .LVU565
 1819 0026 0B60     		str	r3, [r1]
 317:Drivers/SOES/Src/esc_eoe.c ****       }
 1820              		.loc 1 317 10 is_stmt 1 view .LVU566
 1821              	.LVL162:
 317:Drivers/SOES/Src/esc_eoe.c ****       }
 1822              		.loc 1 317 14 is_stmt 0 view .LVU567
 1823 0028 0020     		movs	r0, #0
 1824 002a 7047     		bx	lr
 1825              	.LVL163:
 1826              	.L126:
 309:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1827              		.loc 1 309 8 view .LVU568
 1828 002c 4FF0FF30 		mov	r0, #-1
 1829              	.LVL164:
 309:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1830              		.loc 1 309 8 view .LVU569
 1831 0030 7047     		bx	lr
 1832              	.LVL165:
 1833              	.L127:
 309:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1834              		.loc 1 309 8 view .LVU570
 1835 0032 4FF0FF30 		mov	r0, #-1
 1836              	.LVL166:
 320:Drivers/SOES/Src/esc_eoe.c **** }
 1837              		.loc 1 320 4 is_stmt 1 view .LVU571
 321:Drivers/SOES/Src/esc_eoe.c **** 
 1838              		.loc 1 321 1 is_stmt 0 view .LVU572
 1839 0036 7047     		bx	lr
 1840              	.L129:
 1841              		.align	2
 1842              	.L128:
 1843 0038 00000000 		.word	.LANCHOR2
 1844              		.cfi_endproc
 1845              	.LFE6:
 1847              		.section	.text.EOE_ecat_set_subnet,"ax",%progbits
 1848              		.align	1
 1849              		.global	EOE_ecat_set_subnet
 1850              		.syntax unified
 1851              		.thumb
 1852              		.thumb_func
 1854              	EOE_ecat_set_subnet:
 1855              	.LVL167:
 1856              	.LFB7:
 330:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 1857              		.loc 1 330 1 is_stmt 1 view -0
 1858              		.cfi_startproc
 1859              		@ args = 0, pretend = 0, frame = 0
 1860              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccwTT7Kw.s 			page 59


 1861              		@ link register save eliminated.
 331:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1862              		.loc 1 331 4 view .LVU574
 332:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 1863              		.loc 1 332 4 view .LVU575
 333:Drivers/SOES/Src/esc_eoe.c ****    {
 1864              		.loc 1 333 4 view .LVU576
 333:Drivers/SOES/Src/esc_eoe.c ****    {
 1865              		.loc 1 333 6 is_stmt 0 view .LVU577
 1866 0000 88B9     		cbnz	r0, .L132
 335:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].subnet.addr = EOE_HTONL(subnet);
 1867              		.loc 1 335 7 is_stmt 1 discriminator 4 view .LVU578
 1868              	.LVL168:
 336:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].subnet_set = 1;
 1869              		.loc 1 336 7 discriminator 4 view .LVU579
 336:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].subnet_set = 1;
 1870              		.loc 1 336 40 is_stmt 0 discriminator 4 view .LVU580
 1871 0002 0B02     		lsls	r3, r1, #8
 1872 0004 03F47F03 		and	r3, r3, #16711680
 1873 0008 43EA0163 		orr	r3, r3, r1, lsl #24
 1874 000c 0A0A     		lsrs	r2, r1, #8
 1875 000e 02F47F42 		and	r2, r2, #65280
 1876 0012 1343     		orrs	r3, r3, r2
 1877 0014 43EA1161 		orr	r1, r3, r1, lsr #24
 1878              	.LVL169:
 336:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].subnet_set = 1;
 1879              		.loc 1 336 38 discriminator 4 view .LVU581
 1880 0018 044B     		ldr	r3, .L133
 1881 001a D960     		str	r1, [r3, #12]
 337:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 1882              		.loc 1 337 7 is_stmt 1 discriminator 4 view .LVU582
 337:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 1883              		.loc 1 337 37 is_stmt 0 discriminator 4 view .LVU583
 1884 001c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 1885 001e 42F00402 		orr	r2, r2, #4
 1886 0022 1A70     		strb	r2, [r3]
 338:Drivers/SOES/Src/esc_eoe.c ****    }
 1887              		.loc 1 338 7 is_stmt 1 discriminator 4 view .LVU584
 1888              	.LVL170:
 338:Drivers/SOES/Src/esc_eoe.c ****    }
 1889              		.loc 1 338 7 is_stmt 0 discriminator 4 view .LVU585
 1890 0024 7047     		bx	lr
 1891              	.LVL171:
 1892              	.L132:
 331:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1893              		.loc 1 331 8 view .LVU586
 1894 0026 4FF0FF30 		mov	r0, #-1
 1895              	.LVL172:
 340:Drivers/SOES/Src/esc_eoe.c **** }
 1896              		.loc 1 340 4 is_stmt 1 view .LVU587
 341:Drivers/SOES/Src/esc_eoe.c **** 
 1897              		.loc 1 341 1 is_stmt 0 view .LVU588
 1898 002a 7047     		bx	lr
 1899              	.L134:
 1900              		.align	2
 1901              	.L133:
 1902 002c 00000000 		.word	.LANCHOR2
ARM GAS  /tmp/ccwTT7Kw.s 			page 60


 1903              		.cfi_endproc
 1904              	.LFE7:
 1906              		.section	.text.EOE_ecat_get_gateway,"ax",%progbits
 1907              		.align	1
 1908              		.global	EOE_ecat_get_gateway
 1909              		.syntax unified
 1910              		.thumb
 1911              		.thumb_func
 1913              	EOE_ecat_get_gateway:
 1914              	.LVL173:
 1915              	.LFB8:
 350:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 1916              		.loc 1 350 1 is_stmt 1 view -0
 1917              		.cfi_startproc
 1918              		@ args = 0, pretend = 0, frame = 0
 1919              		@ frame_needed = 0, uses_anonymous_args = 0
 1920              		@ link register save eliminated.
 351:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1921              		.loc 1 351 4 view .LVU590
 352:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 1922              		.loc 1 352 4 view .LVU591
 353:Drivers/SOES/Src/esc_eoe.c ****    {
 1923              		.loc 1 353 4 view .LVU592
 353:Drivers/SOES/Src/esc_eoe.c ****    {
 1924              		.loc 1 353 6 is_stmt 0 view .LVU593
 1925 0000 A0B9     		cbnz	r0, .L137
 355:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].default_gateway_set)
 1926              		.loc 1 355 7 is_stmt 1 discriminator 4 view .LVU594
 1927              	.LVL174:
 356:Drivers/SOES/Src/esc_eoe.c ****       {
 1928              		.loc 1 356 7 discriminator 4 view .LVU595
 356:Drivers/SOES/Src/esc_eoe.c ****       {
 1929              		.loc 1 356 28 is_stmt 0 discriminator 4 view .LVU596
 1930 0002 0D4B     		ldr	r3, .L139
 1931 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 356:Drivers/SOES/Src/esc_eoe.c ****       {
 1932              		.loc 1 356 9 discriminator 4 view .LVU597
 1933 0006 13F0080F 		tst	r3, #8
 1934 000a 12D0     		beq	.L138
 358:Drivers/SOES/Src/esc_eoe.c ****                EOE_NTOHL(nic_ports[port_ix].default_gateway.addr);
 1935              		.loc 1 358 10 is_stmt 1 view .LVU598
 359:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 1936              		.loc 1 359 16 is_stmt 0 view .LVU599
 1937 000c 0A4B     		ldr	r3, .L139
 1938 000e 1A69     		ldr	r2, [r3, #16]
 1939 0010 1302     		lsls	r3, r2, #8
 1940 0012 03F47F03 		and	r3, r3, #16711680
 1941 0016 43EA0263 		orr	r3, r3, r2, lsl #24
 1942 001a 100A     		lsrs	r0, r2, #8
 1943              	.LVL175:
 359:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 1944              		.loc 1 359 16 view .LVU600
 1945 001c 00F47F40 		and	r0, r0, #65280
 1946 0020 0343     		orrs	r3, r3, r0
 1947 0022 43EA1263 		orr	r3, r3, r2, lsr #24
 358:Drivers/SOES/Src/esc_eoe.c ****                EOE_NTOHL(nic_ports[port_ix].default_gateway.addr);
 1948              		.loc 1 358 27 view .LVU601
ARM GAS  /tmp/ccwTT7Kw.s 			page 61


 1949 0026 0B60     		str	r3, [r1]
 360:Drivers/SOES/Src/esc_eoe.c ****       }
 1950              		.loc 1 360 10 is_stmt 1 view .LVU602
 1951              	.LVL176:
 360:Drivers/SOES/Src/esc_eoe.c ****       }
 1952              		.loc 1 360 14 is_stmt 0 view .LVU603
 1953 0028 0020     		movs	r0, #0
 1954 002a 7047     		bx	lr
 1955              	.LVL177:
 1956              	.L137:
 351:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1957              		.loc 1 351 8 view .LVU604
 1958 002c 4FF0FF30 		mov	r0, #-1
 1959              	.LVL178:
 351:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1960              		.loc 1 351 8 view .LVU605
 1961 0030 7047     		bx	lr
 1962              	.LVL179:
 1963              	.L138:
 351:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1964              		.loc 1 351 8 view .LVU606
 1965 0032 4FF0FF30 		mov	r0, #-1
 1966              	.LVL180:
 363:Drivers/SOES/Src/esc_eoe.c **** }
 1967              		.loc 1 363 4 is_stmt 1 view .LVU607
 364:Drivers/SOES/Src/esc_eoe.c **** 
 1968              		.loc 1 364 1 is_stmt 0 view .LVU608
 1969 0036 7047     		bx	lr
 1970              	.L140:
 1971              		.align	2
 1972              	.L139:
 1973 0038 00000000 		.word	.LANCHOR2
 1974              		.cfi_endproc
 1975              	.LFE8:
 1977              		.section	.text.EOE_ecat_set_gateway,"ax",%progbits
 1978              		.align	1
 1979              		.global	EOE_ecat_set_gateway
 1980              		.syntax unified
 1981              		.thumb
 1982              		.thumb_func
 1984              	EOE_ecat_set_gateway:
 1985              	.LVL181:
 1986              	.LFB9:
 373:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 1987              		.loc 1 373 1 is_stmt 1 view -0
 1988              		.cfi_startproc
 1989              		@ args = 0, pretend = 0, frame = 0
 1990              		@ frame_needed = 0, uses_anonymous_args = 0
 1991              		@ link register save eliminated.
 374:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1992              		.loc 1 374 4 view .LVU610
 375:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 1993              		.loc 1 375 4 view .LVU611
 376:Drivers/SOES/Src/esc_eoe.c ****    {
 1994              		.loc 1 376 4 view .LVU612
 376:Drivers/SOES/Src/esc_eoe.c ****    {
 1995              		.loc 1 376 6 is_stmt 0 view .LVU613
ARM GAS  /tmp/ccwTT7Kw.s 			page 62


 1996 0000 88B9     		cbnz	r0, .L143
 378:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].default_gateway.addr =
 1997              		.loc 1 378 7 is_stmt 1 discriminator 4 view .LVU614
 1998              	.LVL182:
 379:Drivers/SOES/Src/esc_eoe.c ****             EOE_HTONL(default_gateway);
 1999              		.loc 1 379 7 discriminator 4 view .LVU615
 380:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].default_gateway_set = 1;
 2000              		.loc 1 380 13 is_stmt 0 discriminator 4 view .LVU616
 2001 0002 0B02     		lsls	r3, r1, #8
 2002 0004 03F47F03 		and	r3, r3, #16711680
 2003 0008 43EA0163 		orr	r3, r3, r1, lsl #24
 2004 000c 0A0A     		lsrs	r2, r1, #8
 2005 000e 02F47F42 		and	r2, r2, #65280
 2006 0012 1343     		orrs	r3, r3, r2
 2007 0014 43EA1161 		orr	r1, r3, r1, lsr #24
 2008              	.LVL183:
 379:Drivers/SOES/Src/esc_eoe.c ****             EOE_HTONL(default_gateway);
 2009              		.loc 1 379 47 discriminator 4 view .LVU617
 2010 0018 044B     		ldr	r3, .L144
 2011 001a 1961     		str	r1, [r3, #16]
 381:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 2012              		.loc 1 381 7 is_stmt 1 discriminator 4 view .LVU618
 381:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 2013              		.loc 1 381 46 is_stmt 0 discriminator 4 view .LVU619
 2014 001c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2015 001e 42F00802 		orr	r2, r2, #8
 2016 0022 1A70     		strb	r2, [r3]
 382:Drivers/SOES/Src/esc_eoe.c ****    }
 2017              		.loc 1 382 7 is_stmt 1 discriminator 4 view .LVU620
 2018              	.LVL184:
 382:Drivers/SOES/Src/esc_eoe.c ****    }
 2019              		.loc 1 382 7 is_stmt 0 discriminator 4 view .LVU621
 2020 0024 7047     		bx	lr
 2021              	.LVL185:
 2022              	.L143:
 374:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 2023              		.loc 1 374 8 view .LVU622
 2024 0026 4FF0FF30 		mov	r0, #-1
 2025              	.LVL186:
 384:Drivers/SOES/Src/esc_eoe.c **** }
 2026              		.loc 1 384 4 is_stmt 1 view .LVU623
 385:Drivers/SOES/Src/esc_eoe.c **** 
 2027              		.loc 1 385 1 is_stmt 0 view .LVU624
 2028 002a 7047     		bx	lr
 2029              	.L145:
 2030              		.align	2
 2031              	.L144:
 2032 002c 00000000 		.word	.LANCHOR2
 2033              		.cfi_endproc
 2034              	.LFE9:
 2036              		.section	.text.EOE_ecat_get_dns_ip,"ax",%progbits
 2037              		.align	1
 2038              		.global	EOE_ecat_get_dns_ip
 2039              		.syntax unified
 2040              		.thumb
 2041              		.thumb_func
 2043              	EOE_ecat_get_dns_ip:
ARM GAS  /tmp/ccwTT7Kw.s 			page 63


 2044              	.LVL187:
 2045              	.LFB10:
 394:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 2046              		.loc 1 394 1 is_stmt 1 view -0
 2047              		.cfi_startproc
 2048              		@ args = 0, pretend = 0, frame = 0
 2049              		@ frame_needed = 0, uses_anonymous_args = 0
 2050              		@ link register save eliminated.
 395:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 2051              		.loc 1 395 4 view .LVU626
 396:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 2052              		.loc 1 396 4 view .LVU627
 397:Drivers/SOES/Src/esc_eoe.c ****    {
 2053              		.loc 1 397 4 view .LVU628
 397:Drivers/SOES/Src/esc_eoe.c ****    {
 2054              		.loc 1 397 6 is_stmt 0 view .LVU629
 2055 0000 A0B9     		cbnz	r0, .L148
 399:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].dns_ip_set)
 2056              		.loc 1 399 7 is_stmt 1 discriminator 4 view .LVU630
 2057              	.LVL188:
 400:Drivers/SOES/Src/esc_eoe.c ****       {
 2058              		.loc 1 400 7 discriminator 4 view .LVU631
 400:Drivers/SOES/Src/esc_eoe.c ****       {
 2059              		.loc 1 400 28 is_stmt 0 discriminator 4 view .LVU632
 2060 0002 0D4B     		ldr	r3, .L150
 2061 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 400:Drivers/SOES/Src/esc_eoe.c ****       {
 2062              		.loc 1 400 9 discriminator 4 view .LVU633
 2063 0006 13F0100F 		tst	r3, #16
 2064 000a 12D0     		beq	.L149
 402:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 2065              		.loc 1 402 10 is_stmt 1 view .LVU634
 402:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 2066              		.loc 1 402 20 is_stmt 0 view .LVU635
 2067 000c 0A4B     		ldr	r3, .L150
 2068 000e 5A69     		ldr	r2, [r3, #20]
 2069 0010 1302     		lsls	r3, r2, #8
 2070 0012 03F47F03 		and	r3, r3, #16711680
 2071 0016 43EA0263 		orr	r3, r3, r2, lsl #24
 2072 001a 100A     		lsrs	r0, r2, #8
 2073              	.LVL189:
 402:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 2074              		.loc 1 402 20 view .LVU636
 2075 001c 00F47F40 		and	r0, r0, #65280
 2076 0020 0343     		orrs	r3, r3, r0
 2077 0022 43EA1263 		orr	r3, r3, r2, lsr #24
 402:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 2078              		.loc 1 402 18 view .LVU637
 2079 0026 0B60     		str	r3, [r1]
 403:Drivers/SOES/Src/esc_eoe.c ****       }
 2080              		.loc 1 403 10 is_stmt 1 view .LVU638
 2081              	.LVL190:
 403:Drivers/SOES/Src/esc_eoe.c ****       }
 2082              		.loc 1 403 14 is_stmt 0 view .LVU639
 2083 0028 0020     		movs	r0, #0
 2084 002a 7047     		bx	lr
 2085              	.LVL191:
ARM GAS  /tmp/ccwTT7Kw.s 			page 64


 2086              	.L148:
 395:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 2087              		.loc 1 395 8 view .LVU640
 2088 002c 4FF0FF30 		mov	r0, #-1
 2089              	.LVL192:
 395:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 2090              		.loc 1 395 8 view .LVU641
 2091 0030 7047     		bx	lr
 2092              	.LVL193:
 2093              	.L149:
 395:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 2094              		.loc 1 395 8 view .LVU642
 2095 0032 4FF0FF30 		mov	r0, #-1
 2096              	.LVL194:
 406:Drivers/SOES/Src/esc_eoe.c **** }
 2097              		.loc 1 406 4 is_stmt 1 view .LVU643
 407:Drivers/SOES/Src/esc_eoe.c **** 
 2098              		.loc 1 407 1 is_stmt 0 view .LVU644
 2099 0036 7047     		bx	lr
 2100              	.L151:
 2101              		.align	2
 2102              	.L150:
 2103 0038 00000000 		.word	.LANCHOR2
 2104              		.cfi_endproc
 2105              	.LFE10:
 2107              		.section	.text.EOE_ecat_set_dns_ip,"ax",%progbits
 2108              		.align	1
 2109              		.global	EOE_ecat_set_dns_ip
 2110              		.syntax unified
 2111              		.thumb
 2112              		.thumb_func
 2114              	EOE_ecat_set_dns_ip:
 2115              	.LVL195:
 2116              	.LFB11:
 416:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 2117              		.loc 1 416 1 is_stmt 1 view -0
 2118              		.cfi_startproc
 2119              		@ args = 0, pretend = 0, frame = 0
 2120              		@ frame_needed = 0, uses_anonymous_args = 0
 2121              		@ link register save eliminated.
 417:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 2122              		.loc 1 417 4 view .LVU646
 418:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 2123              		.loc 1 418 4 view .LVU647
 419:Drivers/SOES/Src/esc_eoe.c ****    {
 2124              		.loc 1 419 4 view .LVU648
 419:Drivers/SOES/Src/esc_eoe.c ****    {
 2125              		.loc 1 419 6 is_stmt 0 view .LVU649
 2126 0000 88B9     		cbnz	r0, .L154
 421:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].dns_ip.addr = EOE_HTONL(dns_ip);
 2127              		.loc 1 421 7 is_stmt 1 discriminator 4 view .LVU650
 2128              	.LVL196:
 422:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].dns_ip_set = 1;
 2129              		.loc 1 422 7 discriminator 4 view .LVU651
 422:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].dns_ip_set = 1;
 2130              		.loc 1 422 40 is_stmt 0 discriminator 4 view .LVU652
 2131 0002 0B02     		lsls	r3, r1, #8
ARM GAS  /tmp/ccwTT7Kw.s 			page 65


 2132 0004 03F47F03 		and	r3, r3, #16711680
 2133 0008 43EA0163 		orr	r3, r3, r1, lsl #24
 2134 000c 0A0A     		lsrs	r2, r1, #8
 2135 000e 02F47F42 		and	r2, r2, #65280
 2136 0012 1343     		orrs	r3, r3, r2
 2137 0014 43EA1161 		orr	r1, r3, r1, lsr #24
 2138              	.LVL197:
 422:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].dns_ip_set = 1;
 2139              		.loc 1 422 38 discriminator 4 view .LVU653
 2140 0018 044B     		ldr	r3, .L155
 2141 001a 5961     		str	r1, [r3, #20]
 423:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 2142              		.loc 1 423 7 is_stmt 1 discriminator 4 view .LVU654
 423:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 2143              		.loc 1 423 37 is_stmt 0 discriminator 4 view .LVU655
 2144 001c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2145 001e 42F01002 		orr	r2, r2, #16
 2146 0022 1A70     		strb	r2, [r3]
 424:Drivers/SOES/Src/esc_eoe.c ****    }
 2147              		.loc 1 424 7 is_stmt 1 discriminator 4 view .LVU656
 2148              	.LVL198:
 424:Drivers/SOES/Src/esc_eoe.c ****    }
 2149              		.loc 1 424 7 is_stmt 0 discriminator 4 view .LVU657
 2150 0024 7047     		bx	lr
 2151              	.LVL199:
 2152              	.L154:
 417:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 2153              		.loc 1 417 8 view .LVU658
 2154 0026 4FF0FF30 		mov	r0, #-1
 2155              	.LVL200:
 426:Drivers/SOES/Src/esc_eoe.c **** }
 2156              		.loc 1 426 4 is_stmt 1 view .LVU659
 427:Drivers/SOES/Src/esc_eoe.c **** 
 2157              		.loc 1 427 1 is_stmt 0 view .LVU660
 2158 002a 7047     		bx	lr
 2159              	.L156:
 2160              		.align	2
 2161              	.L155:
 2162 002c 00000000 		.word	.LANCHOR2
 2163              		.cfi_endproc
 2164              	.LFE11:
 2166              		.section	.text.EOE_ecat_get_dns_name,"ax",%progbits
 2167              		.align	1
 2168              		.global	EOE_ecat_get_dns_name
 2169              		.syntax unified
 2170              		.thumb
 2171              		.thumb_func
 2173              	EOE_ecat_get_dns_name:
 2174              	.LVL201:
 2175              	.LFB12:
 436:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 2176              		.loc 1 436 1 is_stmt 1 view -0
 2177              		.cfi_startproc
 2178              		@ args = 0, pretend = 0, frame = 0
 2179              		@ frame_needed = 0, uses_anonymous_args = 0
 2180              		@ link register save eliminated.
 437:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
ARM GAS  /tmp/ccwTT7Kw.s 			page 66


 2181              		.loc 1 437 4 view .LVU662
 438:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 2182              		.loc 1 438 4 view .LVU663
 439:Drivers/SOES/Src/esc_eoe.c ****    {
 2183              		.loc 1 439 4 view .LVU664
 439:Drivers/SOES/Src/esc_eoe.c ****    {
 2184              		.loc 1 439 6 is_stmt 0 view .LVU665
 2185 0000 E8B9     		cbnz	r0, .L159
 2186 0002 8C46     		mov	ip, r1
 441:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].dns_name_set)
 2187              		.loc 1 441 7 is_stmt 1 discriminator 4 view .LVU666
 2188              	.LVL202:
 442:Drivers/SOES/Src/esc_eoe.c ****       {
 2189              		.loc 1 442 7 discriminator 4 view .LVU667
 442:Drivers/SOES/Src/esc_eoe.c ****       {
 2190              		.loc 1 442 28 is_stmt 0 discriminator 4 view .LVU668
 2191 0004 114B     		ldr	r3, .L165
 2192 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 442:Drivers/SOES/Src/esc_eoe.c ****       {
 2193              		.loc 1 442 9 discriminator 4 view .LVU669
 2194 0008 13F0200F 		tst	r3, #32
 2195 000c 1AD0     		beq	.L160
 436:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 2196              		.loc 1 436 1 view .LVU670
 2197 000e 10B4     		push	{r4}
 2198              		.cfi_def_cfa_offset 4
 2199              		.cfi_offset 4, -4
 444:Drivers/SOES/Src/esc_eoe.c ****                nic_ports[port_ix].dns_name,
 2200              		.loc 1 444 10 is_stmt 1 view .LVU671
 2201 0010 0F4C     		ldr	r4, .L165+4
 2202 0012 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 2203              	.LVL203:
 444:Drivers/SOES/Src/esc_eoe.c ****                nic_ports[port_ix].dns_name,
 2204              		.loc 1 444 10 is_stmt 0 view .LVU672
 2205 0014 CCF80000 		str	r0, [ip]	@ unaligned
 2206 0018 CCF80410 		str	r1, [ip, #4]	@ unaligned
 2207 001c CCF80820 		str	r2, [ip, #8]	@ unaligned
 2208 0020 CCF80C30 		str	r3, [ip, #12]	@ unaligned
 2209 0024 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 2210 0026 CCF81000 		str	r0, [ip, #16]	@ unaligned
 2211 002a CCF81410 		str	r1, [ip, #20]	@ unaligned
 2212 002e CCF81820 		str	r2, [ip, #24]	@ unaligned
 2213 0032 CCF81C30 		str	r3, [ip, #28]	@ unaligned
 447:Drivers/SOES/Src/esc_eoe.c ****       }
 2214              		.loc 1 447 10 is_stmt 1 view .LVU673
 2215              	.LVL204:
 447:Drivers/SOES/Src/esc_eoe.c ****       }
 2216              		.loc 1 447 14 is_stmt 0 view .LVU674
 2217 0036 0020     		movs	r0, #0
 451:Drivers/SOES/Src/esc_eoe.c **** 
 2218              		.loc 1 451 1 view .LVU675
 2219 0038 5DF8044B 		ldr	r4, [sp], #4
 2220              		.cfi_restore 4
 2221              		.cfi_def_cfa_offset 0
 2222 003c 7047     		bx	lr
 2223              	.LVL205:
 2224              	.L159:
ARM GAS  /tmp/ccwTT7Kw.s 			page 67


 437:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 2225              		.loc 1 437 8 view .LVU676
 2226 003e 4FF0FF30 		mov	r0, #-1
 2227              	.LVL206:
 437:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 2228              		.loc 1 437 8 view .LVU677
 2229 0042 7047     		bx	lr
 2230              	.LVL207:
 2231              	.L160:
 437:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 2232              		.loc 1 437 8 view .LVU678
 2233 0044 4FF0FF30 		mov	r0, #-1
 2234              	.LVL208:
 450:Drivers/SOES/Src/esc_eoe.c **** }
 2235              		.loc 1 450 4 is_stmt 1 view .LVU679
 451:Drivers/SOES/Src/esc_eoe.c **** 
 2236              		.loc 1 451 1 is_stmt 0 view .LVU680
 2237 0048 7047     		bx	lr
 2238              	.L166:
 2239 004a 00BF     		.align	2
 2240              	.L165:
 2241 004c 00000000 		.word	.LANCHOR2
 2242 0050 18000000 		.word	.LANCHOR2+24
 2243              		.cfi_endproc
 2244              	.LFE12:
 2246              		.section	.text.EOE_ecat_set_dns_name,"ax",%progbits
 2247              		.align	1
 2248              		.global	EOE_ecat_set_dns_name
 2249              		.syntax unified
 2250              		.thumb
 2251              		.thumb_func
 2253              	EOE_ecat_set_dns_name:
 2254              	.LVL209:
 2255              	.LFB13:
 460:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 2256              		.loc 1 460 1 is_stmt 1 view -0
 2257              		.cfi_startproc
 2258              		@ args = 0, pretend = 0, frame = 0
 2259              		@ frame_needed = 0, uses_anonymous_args = 0
 461:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 2260              		.loc 1 461 4 view .LVU682
 462:Drivers/SOES/Src/esc_eoe.c **** 
 2261              		.loc 1 462 4 view .LVU683
 464:Drivers/SOES/Src/esc_eoe.c ****    {
 2262              		.loc 1 464 4 view .LVU684
 464:Drivers/SOES/Src/esc_eoe.c ****    {
 2263              		.loc 1 464 6 is_stmt 0 view .LVU685
 2264 0000 E0B9     		cbnz	r0, .L169
 460:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 2265              		.loc 1 460 1 discriminator 4 view .LVU686
 2266 0002 10B5     		push	{r4, lr}
 2267              		.cfi_def_cfa_offset 8
 2268              		.cfi_offset 4, -8
 2269              		.cfi_offset 14, -4
 2270 0004 8E46     		mov	lr, r1
 466:Drivers/SOES/Src/esc_eoe.c ****       memcpy(nic_ports[port_ix].dns_name,
 2271              		.loc 1 466 7 is_stmt 1 discriminator 4 view .LVU687
ARM GAS  /tmp/ccwTT7Kw.s 			page 68


 2272              	.LVL210:
 467:Drivers/SOES/Src/esc_eoe.c ****             dns_name,
 2273              		.loc 1 467 7 discriminator 4 view .LVU688
 2274 0006 0F4C     		ldr	r4, .L174
 2275 0008 04F1180C 		add	ip, r4, #24
 2276 000c 0868     		ldr	r0, [r1]	@ unaligned
 2277              	.LVL211:
 467:Drivers/SOES/Src/esc_eoe.c ****             dns_name,
 2278              		.loc 1 467 7 is_stmt 0 discriminator 4 view .LVU689
 2279 000e 4968     		ldr	r1, [r1, #4]	@ unaligned
 2280              	.LVL212:
 467:Drivers/SOES/Src/esc_eoe.c ****             dns_name,
 2281              		.loc 1 467 7 discriminator 4 view .LVU690
 2282 0010 DEF80820 		ldr	r2, [lr, #8]	@ unaligned
 2283 0014 DEF80C30 		ldr	r3, [lr, #12]	@ unaligned
 2284 0018 ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 2285 001c DEF81000 		ldr	r0, [lr, #16]	@ unaligned
 2286 0020 DEF81410 		ldr	r1, [lr, #20]	@ unaligned
 2287 0024 DEF81820 		ldr	r2, [lr, #24]	@ unaligned
 2288 0028 DEF81C30 		ldr	r3, [lr, #28]	@ unaligned
 2289 002c ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 470:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 2290              		.loc 1 470 7 is_stmt 1 discriminator 4 view .LVU691
 470:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 2291              		.loc 1 470 39 is_stmt 0 discriminator 4 view .LVU692
 2292 0030 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 2293 0032 43F02003 		orr	r3, r3, #32
 2294 0036 2370     		strb	r3, [r4]
 471:Drivers/SOES/Src/esc_eoe.c ****    }
 2295              		.loc 1 471 7 is_stmt 1 discriminator 4 view .LVU693
 2296              	.LVL213:
 471:Drivers/SOES/Src/esc_eoe.c ****    }
 2297              		.loc 1 471 11 is_stmt 0 discriminator 4 view .LVU694
 2298 0038 0020     		movs	r0, #0
 474:Drivers/SOES/Src/esc_eoe.c **** 
 2299              		.loc 1 474 1 discriminator 4 view .LVU695
 2300 003a 10BD     		pop	{r4, pc}
 2301              	.LVL214:
 2302              	.L169:
 2303              		.cfi_def_cfa_offset 0
 2304              		.cfi_restore 4
 2305              		.cfi_restore 14
 461:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 2306              		.loc 1 461 8 view .LVU696
 2307 003c 4FF0FF30 		mov	r0, #-1
 2308              	.LVL215:
 473:Drivers/SOES/Src/esc_eoe.c **** }
 2309              		.loc 1 473 4 is_stmt 1 view .LVU697
 474:Drivers/SOES/Src/esc_eoe.c **** 
 2310              		.loc 1 474 1 is_stmt 0 view .LVU698
 2311 0040 7047     		bx	lr
 2312              	.L175:
 2313 0042 00BF     		.align	2
 2314              	.L174:
 2315 0044 00000000 		.word	.LANCHOR2
 2316              		.cfi_endproc
 2317              	.LFE13:
ARM GAS  /tmp/ccwTT7Kw.s 			page 69


 2319              		.section	.text.EOE_init,"ax",%progbits
 2320              		.align	1
 2321              		.global	EOE_init
 2322              		.syntax unified
 2323              		.thumb
 2324              		.thumb_func
 2326              	EOE_init:
 2327              	.LFB21:
 955:Drivers/SOES/Src/esc_eoe.c **** 
 956:Drivers/SOES/Src/esc_eoe.c **** /** Initialize by clearing all current status variables.
 957:Drivers/SOES/Src/esc_eoe.c ****  */
 958:Drivers/SOES/Src/esc_eoe.c **** void EOE_init ()
 959:Drivers/SOES/Src/esc_eoe.c **** {
 2328              		.loc 1 959 1 is_stmt 1 view -0
 2329              		.cfi_startproc
 2330              		@ args = 0, pretend = 0, frame = 0
 2331              		@ frame_needed = 0, uses_anonymous_args = 0
 2332 0000 08B5     		push	{r3, lr}
 2333              		.cfi_def_cfa_offset 8
 2334              		.cfi_offset 3, -8
 2335              		.cfi_offset 14, -4
 960:Drivers/SOES/Src/esc_eoe.c ****    DPRINT("EOE_init\n");
 2336              		.loc 1 960 24 view .LVU700
 961:Drivers/SOES/Src/esc_eoe.c ****    EOE_init_tx ();
 2337              		.loc 1 961 4 view .LVU701
 2338 0002 FFF7FEFF 		bl	EOE_init_tx
 2339              	.LVL216:
 962:Drivers/SOES/Src/esc_eoe.c ****    EOE_init_rx ();
 2340              		.loc 1 962 4 view .LVU702
 2341 0006 FFF7FEFF 		bl	EOE_init_rx
 2342              	.LVL217:
 963:Drivers/SOES/Src/esc_eoe.c **** }
 2343              		.loc 1 963 1 is_stmt 0 view .LVU703
 2344 000a 08BD     		pop	{r3, pc}
 2345              		.cfi_endproc
 2346              	.LFE21:
 2348              		.section	.text.EOE_config,"ax",%progbits
 2349              		.align	1
 2350              		.global	EOE_config
 2351              		.syntax unified
 2352              		.thumb
 2353              		.thumb_func
 2355              	EOE_config:
 2356              	.LVL218:
 2357              	.LFB22:
 964:Drivers/SOES/Src/esc_eoe.c **** 
 965:Drivers/SOES/Src/esc_eoe.c **** /** Function copying the application configuration variable
 966:Drivers/SOES/Src/esc_eoe.c ****  * to the EoE module local pointer variable.
 967:Drivers/SOES/Src/esc_eoe.c ****  *
 968:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] cfg       = Pointer to by the Application static declared
 969:Drivers/SOES/Src/esc_eoe.c ****  * configuration variable holding application specific details.
 970:Drivers/SOES/Src/esc_eoe.c ****  */
 971:Drivers/SOES/Src/esc_eoe.c **** void EOE_config (eoe_cfg_t * cfg)
 972:Drivers/SOES/Src/esc_eoe.c **** {
 2358              		.loc 1 972 1 is_stmt 1 view -0
 2359              		.cfi_startproc
 2360              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccwTT7Kw.s 			page 70


 2361              		@ frame_needed = 0, uses_anonymous_args = 0
 2362              		@ link register save eliminated.
 973:Drivers/SOES/Src/esc_eoe.c ****    eoe_cfg = cfg;
 2363              		.loc 1 973 4 view .LVU705
 2364              		.loc 1 973 12 is_stmt 0 view .LVU706
 2365 0000 014B     		ldr	r3, .L179
 2366 0002 1860     		str	r0, [r3]
 974:Drivers/SOES/Src/esc_eoe.c **** }
 2367              		.loc 1 974 1 view .LVU707
 2368 0004 7047     		bx	lr
 2369              	.L180:
 2370 0006 00BF     		.align	2
 2371              	.L179:
 2372 0008 00000000 		.word	.LANCHOR1
 2373              		.cfi_endproc
 2374              	.LFE22:
 2376              		.section	.text.ESC_eoeprocess,"ax",%progbits
 2377              		.align	1
 2378              		.global	ESC_eoeprocess
 2379              		.syntax unified
 2380              		.thumb
 2381              		.thumb_func
 2383              	ESC_eoeprocess:
 2384              	.LFB23:
 975:Drivers/SOES/Src/esc_eoe.c **** 
 976:Drivers/SOES/Src/esc_eoe.c **** /** Main EoE receive function checking the status on current mailbox buffers
 977:Drivers/SOES/Src/esc_eoe.c ****  * carrying data, distributing the mailboxes to appropriate EOE functions
 978:Drivers/SOES/Src/esc_eoe.c ****  * depending on requested frametype.
 979:Drivers/SOES/Src/esc_eoe.c ****  */
 980:Drivers/SOES/Src/esc_eoe.c **** void ESC_eoeprocess (void)
 981:Drivers/SOES/Src/esc_eoe.c **** {
 2385              		.loc 1 981 1 is_stmt 1 view -0
 2386              		.cfi_startproc
 2387              		@ args = 0, pretend = 0, frame = 0
 2388              		@ frame_needed = 0, uses_anonymous_args = 0
 2389 0000 08B5     		push	{r3, lr}
 2390              		.cfi_def_cfa_offset 8
 2391              		.cfi_offset 3, -8
 2392              		.cfi_offset 14, -4
 982:Drivers/SOES/Src/esc_eoe.c ****    _MBXh *mbh;
 2393              		.loc 1 982 4 view .LVU709
 983:Drivers/SOES/Src/esc_eoe.c ****    _EOE *eoembx;
 2394              		.loc 1 983 4 view .LVU710
 984:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo1;
 2395              		.loc 1 984 4 view .LVU711
 985:Drivers/SOES/Src/esc_eoe.c **** 
 986:Drivers/SOES/Src/esc_eoe.c ****    if (ESCvar.MBXrun == 0)
 2396              		.loc 1 986 4 view .LVU712
 2397              		.loc 1 986 14 is_stmt 0 view .LVU713
 2398 0002 234B     		ldr	r3, .L194
 2399 0004 93F86430 		ldrb	r3, [r3, #100]	@ zero_extendqisi2
 2400              		.loc 1 986 7 view .LVU714
 2401 0008 63B1     		cbz	r3, .L181
 987:Drivers/SOES/Src/esc_eoe.c ****    {
 988:Drivers/SOES/Src/esc_eoe.c ****       return;
 989:Drivers/SOES/Src/esc_eoe.c ****    }
 990:Drivers/SOES/Src/esc_eoe.c ****    if (!ESCvar.xoe && (MBXcontrol[0].state == MBXstate_inclaim))
ARM GAS  /tmp/ccwTT7Kw.s 			page 71


 2402              		.loc 1 990 4 is_stmt 1 view .LVU715
 2403              		.loc 1 990 15 is_stmt 0 view .LVU716
 2404 000a 214B     		ldr	r3, .L194
 2405 000c 93F88A30 		ldrb	r3, [r3, #138]	@ zero_extendqisi2
 2406              		.loc 1 990 7 view .LVU717
 2407 0010 1BB9     		cbnz	r3, .L183
 2408              		.loc 1 990 37 discriminator 1 view .LVU718
 2409 0012 204B     		ldr	r3, .L194+4
 2410 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2411              		.loc 1 990 20 discriminator 1 view .LVU719
 2412 0016 012B     		cmp	r3, #1
 2413 0018 05D0     		beq	.L190
 2414              	.L183:
 991:Drivers/SOES/Src/esc_eoe.c ****    {
 992:Drivers/SOES/Src/esc_eoe.c ****       mbh = (_MBXh *) &MBX[0];
 993:Drivers/SOES/Src/esc_eoe.c ****       if (mbh->mbxtype == MBXEOE)
 994:Drivers/SOES/Src/esc_eoe.c ****       {
 995:Drivers/SOES/Src/esc_eoe.c ****          ESCvar.xoe = MBXEOE;
 996:Drivers/SOES/Src/esc_eoe.c ****       }
 997:Drivers/SOES/Src/esc_eoe.c ****    }
 998:Drivers/SOES/Src/esc_eoe.c ****    if (ESCvar.xoe == MBXEOE)
 2415              		.loc 1 998 4 is_stmt 1 view .LVU720
 2416              		.loc 1 998 14 is_stmt 0 view .LVU721
 2417 001a 1D4B     		ldr	r3, .L194
 2418 001c 93F88A30 		ldrb	r3, [r3, #138]	@ zero_extendqisi2
 2419              		.loc 1 998 7 view .LVU722
 2420 0020 022B     		cmp	r3, #2
 2421 0022 0BD0     		beq	.L191
 2422              	.L181:
 999:Drivers/SOES/Src/esc_eoe.c ****    {
1000:Drivers/SOES/Src/esc_eoe.c ****       eoembx = (_EOE *) &MBX[0];
1001:Drivers/SOES/Src/esc_eoe.c ****       /* Verify the size of the file data. */
1002:Drivers/SOES/Src/esc_eoe.c ****       if (etohs (eoembx->mbxheader.length) < ESC_EOEHSIZE)
1003:Drivers/SOES/Src/esc_eoe.c ****       {
1004:Drivers/SOES/Src/esc_eoe.c ****          EOE_no_data_response (
1005:Drivers/SOES/Src/esc_eoe.c ****                EOE_INIT_RESP | EOE_HDR_LAST_FRAGMENT,
1006:Drivers/SOES/Src/esc_eoe.c ****                MBXERR_SIZETOOSHORT);
1007:Drivers/SOES/Src/esc_eoe.c ****       }
1008:Drivers/SOES/Src/esc_eoe.c ****       else
1009:Drivers/SOES/Src/esc_eoe.c ****       {
1010:Drivers/SOES/Src/esc_eoe.c ****          frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
1011:Drivers/SOES/Src/esc_eoe.c ****          switch (EOE_HDR_FRAME_TYPE_GET(frameinfo1))
1012:Drivers/SOES/Src/esc_eoe.c ****          {
1013:Drivers/SOES/Src/esc_eoe.c ****             case EOE_FRAG_DATA:
1014:Drivers/SOES/Src/esc_eoe.c ****             {
1015:Drivers/SOES/Src/esc_eoe.c ****                EOE_receive_fragment ();
1016:Drivers/SOES/Src/esc_eoe.c ****                break;
1017:Drivers/SOES/Src/esc_eoe.c ****             }
1018:Drivers/SOES/Src/esc_eoe.c ****             case EOE_INIT_REQ:
1019:Drivers/SOES/Src/esc_eoe.c ****             {
1020:Drivers/SOES/Src/esc_eoe.c ****                EOE_set_ip ();
1021:Drivers/SOES/Src/esc_eoe.c ****                break;
1022:Drivers/SOES/Src/esc_eoe.c ****             }
1023:Drivers/SOES/Src/esc_eoe.c ****             case EOE_GET_IP_PARAM_REQ:
1024:Drivers/SOES/Src/esc_eoe.c ****             {
1025:Drivers/SOES/Src/esc_eoe.c ****                EOE_get_ip ();
1026:Drivers/SOES/Src/esc_eoe.c ****                break;
ARM GAS  /tmp/ccwTT7Kw.s 			page 72


1027:Drivers/SOES/Src/esc_eoe.c ****             }
1028:Drivers/SOES/Src/esc_eoe.c ****             case EOE_INIT_RESP_TIMESTAMP:
1029:Drivers/SOES/Src/esc_eoe.c ****             case EOE_INIT_RESP:
1030:Drivers/SOES/Src/esc_eoe.c ****             case EOE_SET_ADDR_FILTER_REQ:
1031:Drivers/SOES/Src/esc_eoe.c ****             case EOE_SET_ADDR_FILTER_RESP:
1032:Drivers/SOES/Src/esc_eoe.c ****             case EOE_GET_IP_PARAM_RESP:
1033:Drivers/SOES/Src/esc_eoe.c ****             case EOE_GET_ADDR_FILTER_REQ:
1034:Drivers/SOES/Src/esc_eoe.c ****             case EOE_GET_ADDR_FILTER_RESP:
1035:Drivers/SOES/Src/esc_eoe.c ****             default:
1036:Drivers/SOES/Src/esc_eoe.c ****             {
1037:Drivers/SOES/Src/esc_eoe.c ****                DPRINT("EOE_RESULT_UNSUPPORTED_TYPE\n");
1038:Drivers/SOES/Src/esc_eoe.c ****                EOE_no_data_response ((EOE_HDR_FRAME_PORT & frameinfo1) |
1039:Drivers/SOES/Src/esc_eoe.c ****                      (EOE_HDR_FRAME_TYPE & frameinfo1) |
1040:Drivers/SOES/Src/esc_eoe.c ****                      EOE_HDR_LAST_FRAGMENT,
1041:Drivers/SOES/Src/esc_eoe.c ****                      EOE_RESULT_UNSUPPORTED_FRAME_TYPE);
1042:Drivers/SOES/Src/esc_eoe.c ****                break;
1043:Drivers/SOES/Src/esc_eoe.c ****             }
1044:Drivers/SOES/Src/esc_eoe.c ****          }
1045:Drivers/SOES/Src/esc_eoe.c ****       }
1046:Drivers/SOES/Src/esc_eoe.c ****       MBXcontrol[0].state = MBXstate_idle;
1047:Drivers/SOES/Src/esc_eoe.c ****       ESCvar.xoe = 0;
1048:Drivers/SOES/Src/esc_eoe.c ****    }
1049:Drivers/SOES/Src/esc_eoe.c **** }
 2423              		.loc 1 1049 1 view .LVU723
 2424 0024 08BD     		pop	{r3, pc}
 2425              	.L190:
 992:Drivers/SOES/Src/esc_eoe.c ****       if (mbh->mbxtype == MBXEOE)
 2426              		.loc 1 992 7 is_stmt 1 view .LVU724
 2427              	.LVL219:
 993:Drivers/SOES/Src/esc_eoe.c ****       {
 2428              		.loc 1 993 7 view .LVU725
 993:Drivers/SOES/Src/esc_eoe.c ****       {
 2429              		.loc 1 993 24 is_stmt 0 view .LVU726
 2430 0026 1C4B     		ldr	r3, .L194+8
 2431 0028 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 2432 002a 03F00F03 		and	r3, r3, #15
 993:Drivers/SOES/Src/esc_eoe.c ****       {
 2433              		.loc 1 993 10 view .LVU727
 2434 002e 022B     		cmp	r3, #2
 2435 0030 F3D1     		bne	.L183
 995:Drivers/SOES/Src/esc_eoe.c ****       }
 2436              		.loc 1 995 10 is_stmt 1 view .LVU728
 995:Drivers/SOES/Src/esc_eoe.c ****       }
 2437              		.loc 1 995 21 is_stmt 0 view .LVU729
 2438 0032 174B     		ldr	r3, .L194
 2439 0034 0222     		movs	r2, #2
 2440 0036 83F88A20 		strb	r2, [r3, #138]
 2441 003a EEE7     		b	.L183
 2442              	.LVL220:
 2443              	.L191:
1000:Drivers/SOES/Src/esc_eoe.c ****       /* Verify the size of the file data. */
 2444              		.loc 1 1000 7 is_stmt 1 view .LVU730
1002:Drivers/SOES/Src/esc_eoe.c ****       {
 2445              		.loc 1 1002 7 view .LVU731
1002:Drivers/SOES/Src/esc_eoe.c ****       {
 2446              		.loc 1 1002 11 is_stmt 0 view .LVU732
 2447 003c 164B     		ldr	r3, .L194+8
ARM GAS  /tmp/ccwTT7Kw.s 			page 73


 2448 003e 1B88     		ldrh	r3, [r3]	@ unaligned
1002:Drivers/SOES/Src/esc_eoe.c ****       {
 2449              		.loc 1 1002 10 view .LVU733
 2450 0040 032B     		cmp	r3, #3
 2451 0042 0FD9     		bls	.L192
1010:Drivers/SOES/Src/esc_eoe.c ****          switch (EOE_HDR_FRAME_TYPE_GET(frameinfo1))
 2452              		.loc 1 1010 10 is_stmt 1 view .LVU734
1010:Drivers/SOES/Src/esc_eoe.c ****          switch (EOE_HDR_FRAME_TYPE_GET(frameinfo1))
 2453              		.loc 1 1010 21 is_stmt 0 view .LVU735
 2454 0044 144B     		ldr	r3, .L194+8
 2455 0046 D888     		ldrh	r0, [r3, #6]	@ unaligned
 2456              	.LVL221:
1011:Drivers/SOES/Src/esc_eoe.c ****          {
 2457              		.loc 1 1011 10 is_stmt 1 view .LVU736
 2458 0048 00F00F03 		and	r3, r0, #15
 2459 004c 022B     		cmp	r3, #2
 2460 004e 18D0     		beq	.L186
 2461 0050 062B     		cmp	r3, #6
 2462 0052 19D0     		beq	.L187
 2463 0054 93B1     		cbz	r3, .L193
1037:Drivers/SOES/Src/esc_eoe.c ****                EOE_no_data_response ((EOE_HDR_FRAME_PORT & frameinfo1) |
 2464              		.loc 1 1037 55 view .LVU737
1038:Drivers/SOES/Src/esc_eoe.c ****                      (EOE_HDR_FRAME_TYPE & frameinfo1) |
 2465              		.loc 1 1038 16 view .LVU738
 2466 0056 C0B2     		uxtb	r0, r0
 2467 0058 0221     		movs	r1, #2
 2468 005a 40F48070 		orr	r0, r0, #256
 2469 005e FFF7FEFF 		bl	EOE_no_data_response
 2470              	.LVL222:
1042:Drivers/SOES/Src/esc_eoe.c ****             }
 2471              		.loc 1 1042 16 view .LVU739
 2472 0062 04E0     		b	.L185
 2473              	.L192:
1004:Drivers/SOES/Src/esc_eoe.c ****                EOE_INIT_RESP | EOE_HDR_LAST_FRAGMENT,
 2474              		.loc 1 1004 10 view .LVU740
 2475 0064 0621     		movs	r1, #6
 2476 0066 40F20310 		movw	r0, #259
 2477 006a FFF7FEFF 		bl	EOE_no_data_response
 2478              	.LVL223:
 2479              	.L185:
1046:Drivers/SOES/Src/esc_eoe.c ****       ESCvar.xoe = 0;
 2480              		.loc 1 1046 7 view .LVU741
1046:Drivers/SOES/Src/esc_eoe.c ****       ESCvar.xoe = 0;
 2481              		.loc 1 1046 27 is_stmt 0 view .LVU742
 2482 006e 0023     		movs	r3, #0
 2483 0070 084A     		ldr	r2, .L194+4
 2484 0072 1370     		strb	r3, [r2]
1047:Drivers/SOES/Src/esc_eoe.c ****    }
 2485              		.loc 1 1047 7 is_stmt 1 view .LVU743
1047:Drivers/SOES/Src/esc_eoe.c ****    }
 2486              		.loc 1 1047 18 is_stmt 0 view .LVU744
 2487 0074 064A     		ldr	r2, .L194
 2488 0076 82F88A30 		strb	r3, [r2, #138]
 2489 007a D3E7     		b	.L181
 2490              	.LVL224:
 2491              	.L193:
1015:Drivers/SOES/Src/esc_eoe.c ****                break;
ARM GAS  /tmp/ccwTT7Kw.s 			page 74


 2492              		.loc 1 1015 16 is_stmt 1 view .LVU745
 2493 007c FFF7FEFF 		bl	EOE_receive_fragment
 2494              	.LVL225:
1016:Drivers/SOES/Src/esc_eoe.c ****             }
 2495              		.loc 1 1016 16 view .LVU746
 2496 0080 F5E7     		b	.L185
 2497              	.LVL226:
 2498              	.L186:
1020:Drivers/SOES/Src/esc_eoe.c ****                break;
 2499              		.loc 1 1020 16 view .LVU747
 2500 0082 FFF7FEFF 		bl	EOE_set_ip
 2501              	.LVL227:
1021:Drivers/SOES/Src/esc_eoe.c ****             }
 2502              		.loc 1 1021 16 view .LVU748
 2503 0086 F2E7     		b	.L185
 2504              	.LVL228:
 2505              	.L187:
1025:Drivers/SOES/Src/esc_eoe.c ****                break;
 2506              		.loc 1 1025 16 view .LVU749
 2507 0088 FFF7FEFF 		bl	EOE_get_ip
 2508              	.LVL229:
1026:Drivers/SOES/Src/esc_eoe.c ****             }
 2509              		.loc 1 1026 16 view .LVU750
 2510 008c EFE7     		b	.L185
 2511              	.L195:
 2512 008e 00BF     		.align	2
 2513              	.L194:
 2514 0090 00000000 		.word	ESCvar
 2515 0094 00000000 		.word	MBXcontrol
 2516 0098 00000000 		.word	MBX
 2517              		.cfi_endproc
 2518              	.LFE23:
 2520              		.section	.text.ESC_eoeprocess_tx,"ax",%progbits
 2521              		.align	1
 2522              		.global	ESC_eoeprocess_tx
 2523              		.syntax unified
 2524              		.thumb
 2525              		.thumb_func
 2527              	ESC_eoeprocess_tx:
 2528              	.LFB24:
1050:Drivers/SOES/Src/esc_eoe.c **** /** EoE function to send a fragment.
1051:Drivers/SOES/Src/esc_eoe.c ****  * NOTE: Not thread safe, should be called from the SOES task sequential
1052:Drivers/SOES/Src/esc_eoe.c ****  * with other mailbox functions. Add support for threading by adding
1053:Drivers/SOES/Src/esc_eoe.c ****  * a thread safe application fetch function, example a mailbox with buffers
1054:Drivers/SOES/Src/esc_eoe.c ****  * to send, posted by TCP/IP stack and fetched by SOES task.
1055:Drivers/SOES/Src/esc_eoe.c ****  */
1056:Drivers/SOES/Src/esc_eoe.c **** void ESC_eoeprocess_tx (void)
1057:Drivers/SOES/Src/esc_eoe.c **** {
 2529              		.loc 1 1057 1 view -0
 2530              		.cfi_startproc
 2531              		@ args = 0, pretend = 0, frame = 0
 2532              		@ frame_needed = 0, uses_anonymous_args = 0
 2533 0000 08B5     		push	{r3, lr}
 2534              		.cfi_def_cfa_offset 8
 2535              		.cfi_offset 3, -8
 2536              		.cfi_offset 14, -4
1058:Drivers/SOES/Src/esc_eoe.c ****    if (ESCvar.MBXrun == 0)
ARM GAS  /tmp/ccwTT7Kw.s 			page 75


 2537              		.loc 1 1058 4 view .LVU752
 2538              		.loc 1 1058 14 is_stmt 0 view .LVU753
 2539 0002 044B     		ldr	r3, .L200
 2540 0004 93F86430 		ldrb	r3, [r3, #100]	@ zero_extendqisi2
 2541              		.loc 1 1058 7 view .LVU754
 2542 0008 03B9     		cbnz	r3, .L199
 2543              	.L196:
1059:Drivers/SOES/Src/esc_eoe.c ****    {
1060:Drivers/SOES/Src/esc_eoe.c ****       return;
1061:Drivers/SOES/Src/esc_eoe.c ****    }
1062:Drivers/SOES/Src/esc_eoe.c ****    EOE_send_fragment ();
1063:Drivers/SOES/Src/esc_eoe.c **** }
 2544              		.loc 1 1063 1 view .LVU755
 2545 000a 08BD     		pop	{r3, pc}
 2546              	.L199:
1062:Drivers/SOES/Src/esc_eoe.c **** }
 2547              		.loc 1 1062 4 is_stmt 1 view .LVU756
 2548 000c FFF7FEFF 		bl	EOE_send_fragment
 2549              	.LVL230:
 2550 0010 FBE7     		b	.L196
 2551              	.L201:
 2552 0012 00BF     		.align	2
 2553              	.L200:
 2554 0014 00000000 		.word	ESCvar
 2555              		.cfi_endproc
 2556              	.LFE24:
 2558              		.section	.bss.EOEvar,"aw",%nobits
 2559              		.align	2
 2560              		.set	.LANCHOR0,. + 0
 2563              	EOEvar:
 2564 0000 00000000 		.space	40
 2564      00000000 
 2564      00000000 
 2564      00000000 
 2564      00000000 
 2565              		.section	.bss.eoe_cfg,"aw",%nobits
 2566              		.align	2
 2567              		.set	.LANCHOR1,. + 0
 2570              	eoe_cfg:
 2571 0000 00000000 		.space	4
 2572              		.section	.bss.frameno.0,"aw",%nobits
 2573              		.set	.LANCHOR3,. + 0
 2576              	frameno.0:
 2577 0000 00       		.space	1
 2578              		.section	.bss.nic_ports,"aw",%nobits
 2579              		.align	2
 2580              		.set	.LANCHOR2,. + 0
 2583              	nic_ports:
 2584 0000 00000000 		.space	56
 2584      00000000 
 2584      00000000 
 2584      00000000 
 2584      00000000 
 2585              		.text
 2586              	.Letext0:
 2587              		.file 2 "/usr/share/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/machine/_default_types.h"
 2588              		.file 3 "/usr/share/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/sys/_stdint.h"
ARM GAS  /tmp/ccwTT7Kw.s 			page 76


 2589              		.file 4 "/usr/share/gcc-arm-none-eabi-10.3-2021.10/lib/gcc/arm-none-eabi/10.3.1/include/stddef.h"
 2590              		.file 5 "Drivers/SOES/Inc/esc.h"
 2591              		.file 6 "Drivers/SOES/Inc/esc_eoe.h"
 2592              		.file 7 "<built-in>"
ARM GAS  /tmp/ccwTT7Kw.s 			page 77


DEFINED SYMBOLS
                            *ABS*:0000000000000000 esc_eoe.c
     /tmp/ccwTT7Kw.s:20     .text.EOE_ip_uint32_to_byte:0000000000000000 $t
     /tmp/ccwTT7Kw.s:25     .text.EOE_ip_uint32_to_byte:0000000000000000 EOE_ip_uint32_to_byte
     /tmp/ccwTT7Kw.s:60     .text.EOE_ip_byte_to_uint32:0000000000000000 $t
     /tmp/ccwTT7Kw.s:65     .text.EOE_ip_byte_to_uint32:0000000000000000 EOE_ip_byte_to_uint32
     /tmp/ccwTT7Kw.s:98     .text.EOE_init_rx:0000000000000000 $t
     /tmp/ccwTT7Kw.s:103    .text.EOE_init_rx:0000000000000000 EOE_init_rx
     /tmp/ccwTT7Kw.s:153    .text.EOE_init_rx:0000000000000024 $d
     /tmp/ccwTT7Kw.s:159    .text.EOE_init_tx:0000000000000000 $t
     /tmp/ccwTT7Kw.s:164    .text.EOE_init_tx:0000000000000000 EOE_init_tx
     /tmp/ccwTT7Kw.s:223    .text.EOE_init_tx:0000000000000030 $d
     /tmp/ccwTT7Kw.s:229    .text.EOE_receive_fragment:0000000000000000 $t
     /tmp/ccwTT7Kw.s:234    .text.EOE_receive_fragment:0000000000000000 EOE_receive_fragment
     /tmp/ccwTT7Kw.s:454    .text.EOE_receive_fragment:00000000000000d0 $d
     /tmp/ccwTT7Kw.s:462    .text.EOE_no_data_response:0000000000000000 $t
     /tmp/ccwTT7Kw.s:467    .text.EOE_no_data_response:0000000000000000 EOE_no_data_response
     /tmp/ccwTT7Kw.s:537    .text.EOE_no_data_response:000000000000003c $d
     /tmp/ccwTT7Kw.s:544    .text.EOE_set_ip:0000000000000000 $t
     /tmp/ccwTT7Kw.s:549    .text.EOE_set_ip:0000000000000000 EOE_set_ip
     /tmp/ccwTT7Kw.s:901    .text.EOE_set_ip:00000000000001e0 $d
     /tmp/ccwTT7Kw.s:909    .text.EOE_get_ip:0000000000000000 $t
     /tmp/ccwTT7Kw.s:914    .text.EOE_get_ip:0000000000000000 EOE_get_ip
     /tmp/ccwTT7Kw.s:1275   .text.EOE_get_ip:00000000000001d4 $d
     /tmp/ccwTT7Kw.s:1284   .text.EOE_send_fragment:0000000000000000 $t
     /tmp/ccwTT7Kw.s:1289   .text.EOE_send_fragment:0000000000000000 EOE_send_fragment
     /tmp/ccwTT7Kw.s:1523   .text.EOE_send_fragment:00000000000000f8 $d
     /tmp/ccwTT7Kw.s:1534   .text.EOE_get_mac:0000000000000000 $t
     /tmp/ccwTT7Kw.s:1540   .text.EOE_get_mac:0000000000000000 EOE_get_mac
     /tmp/ccwTT7Kw.s:1595   .text.EOE_get_mac:0000000000000030 $d
     /tmp/ccwTT7Kw.s:1600   .text.EOE_ecat_set_mac:0000000000000000 $t
     /tmp/ccwTT7Kw.s:1606   .text.EOE_ecat_set_mac:0000000000000000 EOE_ecat_set_mac
     /tmp/ccwTT7Kw.s:1642   .text.EOE_ecat_set_mac:0000000000000018 $d
     /tmp/ccwTT7Kw.s:1647   .text.EOE_ecat_get_ip:0000000000000000 $t
     /tmp/ccwTT7Kw.s:1653   .text.EOE_ecat_get_ip:0000000000000000 EOE_ecat_get_ip
     /tmp/ccwTT7Kw.s:1713   .text.EOE_ecat_get_ip:0000000000000038 $d
     /tmp/ccwTT7Kw.s:1718   .text.EOE_ecat_set_ip:0000000000000000 $t
     /tmp/ccwTT7Kw.s:1724   .text.EOE_ecat_set_ip:0000000000000000 EOE_ecat_set_ip
     /tmp/ccwTT7Kw.s:1772   .text.EOE_ecat_set_ip:000000000000002c $d
     /tmp/ccwTT7Kw.s:1777   .text.EOE_ecat_get_subnet:0000000000000000 $t
     /tmp/ccwTT7Kw.s:1783   .text.EOE_ecat_get_subnet:0000000000000000 EOE_ecat_get_subnet
     /tmp/ccwTT7Kw.s:1843   .text.EOE_ecat_get_subnet:0000000000000038 $d
     /tmp/ccwTT7Kw.s:1848   .text.EOE_ecat_set_subnet:0000000000000000 $t
     /tmp/ccwTT7Kw.s:1854   .text.EOE_ecat_set_subnet:0000000000000000 EOE_ecat_set_subnet
     /tmp/ccwTT7Kw.s:1902   .text.EOE_ecat_set_subnet:000000000000002c $d
     /tmp/ccwTT7Kw.s:1907   .text.EOE_ecat_get_gateway:0000000000000000 $t
     /tmp/ccwTT7Kw.s:1913   .text.EOE_ecat_get_gateway:0000000000000000 EOE_ecat_get_gateway
     /tmp/ccwTT7Kw.s:1973   .text.EOE_ecat_get_gateway:0000000000000038 $d
     /tmp/ccwTT7Kw.s:1978   .text.EOE_ecat_set_gateway:0000000000000000 $t
     /tmp/ccwTT7Kw.s:1984   .text.EOE_ecat_set_gateway:0000000000000000 EOE_ecat_set_gateway
     /tmp/ccwTT7Kw.s:2032   .text.EOE_ecat_set_gateway:000000000000002c $d
     /tmp/ccwTT7Kw.s:2037   .text.EOE_ecat_get_dns_ip:0000000000000000 $t
     /tmp/ccwTT7Kw.s:2043   .text.EOE_ecat_get_dns_ip:0000000000000000 EOE_ecat_get_dns_ip
     /tmp/ccwTT7Kw.s:2103   .text.EOE_ecat_get_dns_ip:0000000000000038 $d
     /tmp/ccwTT7Kw.s:2108   .text.EOE_ecat_set_dns_ip:0000000000000000 $t
     /tmp/ccwTT7Kw.s:2114   .text.EOE_ecat_set_dns_ip:0000000000000000 EOE_ecat_set_dns_ip
     /tmp/ccwTT7Kw.s:2162   .text.EOE_ecat_set_dns_ip:000000000000002c $d
ARM GAS  /tmp/ccwTT7Kw.s 			page 78


     /tmp/ccwTT7Kw.s:2167   .text.EOE_ecat_get_dns_name:0000000000000000 $t
     /tmp/ccwTT7Kw.s:2173   .text.EOE_ecat_get_dns_name:0000000000000000 EOE_ecat_get_dns_name
     /tmp/ccwTT7Kw.s:2241   .text.EOE_ecat_get_dns_name:000000000000004c $d
     /tmp/ccwTT7Kw.s:2247   .text.EOE_ecat_set_dns_name:0000000000000000 $t
     /tmp/ccwTT7Kw.s:2253   .text.EOE_ecat_set_dns_name:0000000000000000 EOE_ecat_set_dns_name
     /tmp/ccwTT7Kw.s:2315   .text.EOE_ecat_set_dns_name:0000000000000044 $d
     /tmp/ccwTT7Kw.s:2320   .text.EOE_init:0000000000000000 $t
     /tmp/ccwTT7Kw.s:2326   .text.EOE_init:0000000000000000 EOE_init
     /tmp/ccwTT7Kw.s:2349   .text.EOE_config:0000000000000000 $t
     /tmp/ccwTT7Kw.s:2355   .text.EOE_config:0000000000000000 EOE_config
     /tmp/ccwTT7Kw.s:2372   .text.EOE_config:0000000000000008 $d
     /tmp/ccwTT7Kw.s:2377   .text.ESC_eoeprocess:0000000000000000 $t
     /tmp/ccwTT7Kw.s:2383   .text.ESC_eoeprocess:0000000000000000 ESC_eoeprocess
     /tmp/ccwTT7Kw.s:2514   .text.ESC_eoeprocess:0000000000000090 $d
     /tmp/ccwTT7Kw.s:2521   .text.ESC_eoeprocess_tx:0000000000000000 $t
     /tmp/ccwTT7Kw.s:2527   .text.ESC_eoeprocess_tx:0000000000000000 ESC_eoeprocess_tx
     /tmp/ccwTT7Kw.s:2554   .text.ESC_eoeprocess_tx:0000000000000014 $d
     /tmp/ccwTT7Kw.s:2559   .bss.EOEvar:0000000000000000 $d
     /tmp/ccwTT7Kw.s:2563   .bss.EOEvar:0000000000000000 EOEvar
     /tmp/ccwTT7Kw.s:2566   .bss.eoe_cfg:0000000000000000 $d
     /tmp/ccwTT7Kw.s:2570   .bss.eoe_cfg:0000000000000000 eoe_cfg
     /tmp/ccwTT7Kw.s:2576   .bss.frameno.0:0000000000000000 frameno.0
     /tmp/ccwTT7Kw.s:2577   .bss.frameno.0:0000000000000000 $d
     /tmp/ccwTT7Kw.s:2579   .bss.nic_ports:0000000000000000 $d
     /tmp/ccwTT7Kw.s:2583   .bss.nic_ports:0000000000000000 nic_ports

UNDEFINED SYMBOLS
memcpy
MBX
ESC_claimbuffer
ESCvar
MBXcontrol
