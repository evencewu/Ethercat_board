ARM GAS  /tmp/ccUj1Zdj.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"esc_eoe.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Drivers/SOES/Src/esc_eoe.c"
  20              		.section	.text.EOE_ip_uint32_to_byte,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	EOE_ip_uint32_to_byte:
  27              	.LVL0:
  28              	.LFB0:
   1:Drivers/SOES/Src/esc_eoe.c **** /*
   2:Drivers/SOES/Src/esc_eoe.c ****  * Licensed under the GNU General Public License version 2 with exceptions. See
   3:Drivers/SOES/Src/esc_eoe.c ****  * LICENSE file in the project root for full license information
   4:Drivers/SOES/Src/esc_eoe.c ****  */
   5:Drivers/SOES/Src/esc_eoe.c **** 
   6:Drivers/SOES/Src/esc_eoe.c ****  /** \file
   7:Drivers/SOES/Src/esc_eoe.c ****  * \brief
   8:Drivers/SOES/Src/esc_eoe.c ****  * Ethernet over EtherCAT (EoE) module.
   9:Drivers/SOES/Src/esc_eoe.c ****  */
  10:Drivers/SOES/Src/esc_eoe.c **** 
  11:Drivers/SOES/Src/esc_eoe.c **** #include <cc.h>
  12:Drivers/SOES/Src/esc_eoe.c **** #include <string.h>
  13:Drivers/SOES/Src/esc_eoe.c **** #include "esc.h"
  14:Drivers/SOES/Src/esc_eoe.c **** #include "esc_eoe.h"
  15:Drivers/SOES/Src/esc_eoe.c **** 
  16:Drivers/SOES/Src/esc_eoe.c **** 
  17:Drivers/SOES/Src/esc_eoe.c **** #if defined(EC_BIG_ENDIAN)
  18:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HTONS(x) (x)
  19:Drivers/SOES/Src/esc_eoe.c **** #define EOE_NTOHS(x) (x)
  20:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HTONL(x) (x)
  21:Drivers/SOES/Src/esc_eoe.c **** #define EOE_NTOHL(x) (x)
  22:Drivers/SOES/Src/esc_eoe.c **** #else
  23:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HTONS(x) ((((x) & 0x00ffUL) << 8) | (((x) & 0xff00UL) >> 8))
  24:Drivers/SOES/Src/esc_eoe.c **** #define EOE_NTOHS(x) EOE_HTONS(x)
  25:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HTONL(x) ((((x) & 0x000000ffUL) << 24) | \
  26:Drivers/SOES/Src/esc_eoe.c ****                      (((x) & 0x0000ff00UL) <<  8) | \
  27:Drivers/SOES/Src/esc_eoe.c ****                      (((x) & 0x00ff0000UL) >>  8) | \
  28:Drivers/SOES/Src/esc_eoe.c ****                      (((x) & 0xff000000UL) >> 24))
  29:Drivers/SOES/Src/esc_eoe.c **** #define EOE_NTOHL(x) EOE_HTONL(x)
  30:Drivers/SOES/Src/esc_eoe.c **** #endif /* #if defined(EC_BIG_ENDIAN) */
ARM GAS  /tmp/ccUj1Zdj.s 			page 2


  31:Drivers/SOES/Src/esc_eoe.c **** 
  32:Drivers/SOES/Src/esc_eoe.c **** #define EOE_MAKEU32(a,b,c,d) (((uint32_t)((a) & 0xff) << 24) | \
  33:Drivers/SOES/Src/esc_eoe.c ****                             ((uint32_t)((b) & 0xff) << 16) | \
  34:Drivers/SOES/Src/esc_eoe.c ****                             ((uint32_t)((c) & 0xff) << 8)  | \
  35:Drivers/SOES/Src/esc_eoe.c ****                             (uint32_t)((d) & 0xff))
  36:Drivers/SOES/Src/esc_eoe.c **** 
  37:Drivers/SOES/Src/esc_eoe.c **** /** Get one byte from the 4-byte address */
  38:Drivers/SOES/Src/esc_eoe.c **** #define eoe_ip4_addr1(ipaddr) (((const uint8_t*)(&(ipaddr)->addr))[0])
  39:Drivers/SOES/Src/esc_eoe.c **** #define eoe_ip4_addr2(ipaddr) (((const uint8_t*)(&(ipaddr)->addr))[1])
  40:Drivers/SOES/Src/esc_eoe.c **** #define eoe_ip4_addr3(ipaddr) (((const uint8_t*)(&(ipaddr)->addr))[2])
  41:Drivers/SOES/Src/esc_eoe.c **** #define eoe_ip4_addr4(ipaddr) (((const uint8_t*)(&(ipaddr)->addr))[3])
  42:Drivers/SOES/Src/esc_eoe.c **** 
  43:Drivers/SOES/Src/esc_eoe.c **** /** Set an IP address given by the four byte-parts */
  44:Drivers/SOES/Src/esc_eoe.c **** #define EOE_IP4_ADDR_TO_U32(ipaddr,a,b,c,d)  \
  45:Drivers/SOES/Src/esc_eoe.c ****    (ipaddr)->addr = EOE_HTONL(EOE_MAKEU32(a,b,c,d))
  46:Drivers/SOES/Src/esc_eoe.c **** 
  47:Drivers/SOES/Src/esc_eoe.c **** /** Header frame info 1 */
  48:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_TYPE_OFFSET      0
  49:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_TYPE             (0xF << 0)
  50:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_TYPE_SET(x)      (((x) & 0xF) << 0)
  51:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_TYPE_GET(x)      (((x) >> 0) & 0xF)
  52:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_PORT_OFFSET      4
  53:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_PORT             (0xF << 4)
  54:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_PORT_SET(x)      (((x) & 0xF) << 4)
  55:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_PORT_GET(x)      (((x) >> 4) & 0xF)
  56:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_LAST_FRAGMENT_OFFSET   8
  57:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_LAST_FRAGMENT          (0x1 << 8)
  58:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_LAST_FRAGMENT_SET(x)   (((x) & 0x1) << 8)
  59:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_LAST_FRAGMENT_GET(x)   (((x) >> 8) & 0x1)
  60:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_TIME_APPEND_OFFSET     9
  61:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_TIME_APPEND            (0x1 << 9)
  62:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_TIME_APPEND_SET(x)     (((x) & 0x1) << 9)
  63:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_TIME_APPEND_GET(x)     (((x) >> 9) & 0x1)
  64:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_TIME_REQUEST_OFFSET    10
  65:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_TIME_REQUEST           (0x1 << 10)
  66:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_TIME_REQUEST_SET(x)    (((x) & 0x1) << 10)
  67:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_TIME_REQUEST_GET(x)    (((x) >> 10) & 0x1)
  68:Drivers/SOES/Src/esc_eoe.c **** 
  69:Drivers/SOES/Src/esc_eoe.c **** /** Header frame info 2 */
  70:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAG_NO_OFFSET         0
  71:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAG_NO                (0x3F << 0)
  72:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAG_NO_SET(x)         (((x) & 0x3F) << 0)
  73:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAG_NO_GET(x)         (((x) >> 0) & 0x3F)
  74:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_OFFSET_OFFSET    6
  75:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_OFFSET           (0x3F << 6)
  76:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_OFFSET_SET(x)    (((x) & 0x3F) << 6)
  77:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_OFFSET_GET(x)    (((x) >> 6) & 0x3F)
  78:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_NO_OFFSET        12
  79:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_NO               (0xF << 12)
  80:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_NO_SET(x)        (((x) & 0xF) << 12)
  81:Drivers/SOES/Src/esc_eoe.c **** #define EOE_HDR_FRAME_NO_GET(x)        (((x) >> 12) & 0xF)
  82:Drivers/SOES/Src/esc_eoe.c **** 
  83:Drivers/SOES/Src/esc_eoe.c **** /** EOE param */
  84:Drivers/SOES/Src/esc_eoe.c **** #define EOE_PARAM_OFFSET                  4
  85:Drivers/SOES/Src/esc_eoe.c **** #define EOE_PARAM_MAC_INCLUDE             (0x1 << 0)
  86:Drivers/SOES/Src/esc_eoe.c **** #define EOE_PARAM_IP_INCLUDE              (0x1 << 1)
  87:Drivers/SOES/Src/esc_eoe.c **** #define EOE_PARAM_SUBNET_IP_INCLUDE       (0x1 << 2)
ARM GAS  /tmp/ccUj1Zdj.s 			page 3


  88:Drivers/SOES/Src/esc_eoe.c **** #define EOE_PARAM_DEFAULT_GATEWAY_INCLUDE (0x1 << 3)
  89:Drivers/SOES/Src/esc_eoe.c **** #define EOE_PARAM_DNS_IP_INCLUDE          (0x1 << 4)
  90:Drivers/SOES/Src/esc_eoe.c **** #define EOE_PARAM_DNS_NAME_INCLUDE        (0x1 << 5)
  91:Drivers/SOES/Src/esc_eoe.c **** 
  92:Drivers/SOES/Src/esc_eoe.c **** /** EoE frame types */
  93:Drivers/SOES/Src/esc_eoe.c **** #define EOE_FRAG_DATA                  0
  94:Drivers/SOES/Src/esc_eoe.c **** #define EOE_INIT_RESP_TIMESTAMP        1
  95:Drivers/SOES/Src/esc_eoe.c **** #define EOE_INIT_REQ                   2 /* Spec SET IP REQ */
  96:Drivers/SOES/Src/esc_eoe.c **** #define EOE_INIT_RESP                  3 /* Spec SET IP RESP */
  97:Drivers/SOES/Src/esc_eoe.c **** #define EOE_SET_ADDR_FILTER_REQ        4
  98:Drivers/SOES/Src/esc_eoe.c **** #define EOE_SET_ADDR_FILTER_RESP       5
  99:Drivers/SOES/Src/esc_eoe.c **** #define EOE_GET_IP_PARAM_REQ           6
 100:Drivers/SOES/Src/esc_eoe.c **** #define EOE_GET_IP_PARAM_RESP          7
 101:Drivers/SOES/Src/esc_eoe.c **** #define EOE_GET_ADDR_FILTER_REQ        8
 102:Drivers/SOES/Src/esc_eoe.c **** #define EOE_GET_ADDR_FILTER_RESP       9
 103:Drivers/SOES/Src/esc_eoe.c **** 
 104:Drivers/SOES/Src/esc_eoe.c **** /** Define number of ports available.(Only one is supported currently */
 105:Drivers/SOES/Src/esc_eoe.c **** #define EOE_NUMBER_OF_PORTS   1
 106:Drivers/SOES/Src/esc_eoe.c **** #define EOE_PORT_INDEX(x)     ((x > 0) ? (x - 1) : 0)
 107:Drivers/SOES/Src/esc_eoe.c **** /** DNS length according to ETG 1000.6 */
 108:Drivers/SOES/Src/esc_eoe.c **** #define EOE_DNS_NAME_LENGTH  32
 109:Drivers/SOES/Src/esc_eoe.c **** /** Ethernet address length not including VLAN */
 110:Drivers/SOES/Src/esc_eoe.c **** #define EOE_ETHADDR_LENGTH    6
 111:Drivers/SOES/Src/esc_eoe.c **** /** IPv4 address length */
 112:Drivers/SOES/Src/esc_eoe.c **** #define EOE_IP4_LENGTH        sizeof(uint32_t)
 113:Drivers/SOES/Src/esc_eoe.c **** 
 114:Drivers/SOES/Src/esc_eoe.c **** /** EOE ip4 address in network order */
 115:Drivers/SOES/Src/esc_eoe.c **** struct eoe_ip4_addr {
 116:Drivers/SOES/Src/esc_eoe.c ****   uint32_t addr;
 117:Drivers/SOES/Src/esc_eoe.c **** };
 118:Drivers/SOES/Src/esc_eoe.c **** typedef struct eoe_ip4_addr eoe_ip4_addr_t;
 119:Drivers/SOES/Src/esc_eoe.c **** 
 120:Drivers/SOES/Src/esc_eoe.c **** /** EOE ethernet address */
 121:Drivers/SOES/Src/esc_eoe.c **** CC_PACKED_BEGIN
 122:Drivers/SOES/Src/esc_eoe.c **** typedef struct CC_PACKED eoe_ethaddr
 123:Drivers/SOES/Src/esc_eoe.c **** {
 124:Drivers/SOES/Src/esc_eoe.c ****   uint8_t addr[EOE_ETHADDR_LENGTH];
 125:Drivers/SOES/Src/esc_eoe.c **** } eoe_ethaddr_t;
 126:Drivers/SOES/Src/esc_eoe.c **** CC_PACKED_END
 127:Drivers/SOES/Src/esc_eoe.c **** 
 128:Drivers/SOES/Src/esc_eoe.c **** typedef struct
 129:Drivers/SOES/Src/esc_eoe.c **** {
 130:Drivers/SOES/Src/esc_eoe.c ****    /** Pointer to current RX buffer to fill */
 131:Drivers/SOES/Src/esc_eoe.c ****    eoe_pbuf_t rxebuf;
 132:Drivers/SOES/Src/esc_eoe.c ****    /** Pointer to current TX buff to Send */
 133:Drivers/SOES/Src/esc_eoe.c ****    eoe_pbuf_t txebuf;
 134:Drivers/SOES/Src/esc_eoe.c **** 
 135:Drivers/SOES/Src/esc_eoe.c ****    /** Current RX fragment number */
 136:Drivers/SOES/Src/esc_eoe.c ****    uint8_t rxfragmentno;
 137:Drivers/SOES/Src/esc_eoe.c ****    /** Complete RX frame size of current frame */
 138:Drivers/SOES/Src/esc_eoe.c ****    uint16_t rxframesize;
 139:Drivers/SOES/Src/esc_eoe.c ****    /** Current RX data offset in frame */
 140:Drivers/SOES/Src/esc_eoe.c ****    uint16_t rxframeoffset;
 141:Drivers/SOES/Src/esc_eoe.c ****    /** Current RX frame number */
 142:Drivers/SOES/Src/esc_eoe.c ****    uint16_t rxframeno;
 143:Drivers/SOES/Src/esc_eoe.c **** 
 144:Drivers/SOES/Src/esc_eoe.c ****    /** Current TX fragment number */
ARM GAS  /tmp/ccUj1Zdj.s 			page 4


 145:Drivers/SOES/Src/esc_eoe.c ****    uint8_t txfragmentno;
 146:Drivers/SOES/Src/esc_eoe.c ****    /** Complete TX frame size of current frame */
 147:Drivers/SOES/Src/esc_eoe.c ****    uint16_t txframesize;
 148:Drivers/SOES/Src/esc_eoe.c ****    /** Current TX data offset in frame */
 149:Drivers/SOES/Src/esc_eoe.c ****    uint16_t txframeoffset;
 150:Drivers/SOES/Src/esc_eoe.c **** } _EOEvar;
 151:Drivers/SOES/Src/esc_eoe.c **** 
 152:Drivers/SOES/Src/esc_eoe.c **** /** EoE IP request structure */
 153:Drivers/SOES/Src/esc_eoe.c **** typedef struct eoe_param
 154:Drivers/SOES/Src/esc_eoe.c **** {
 155:Drivers/SOES/Src/esc_eoe.c ****    uint8_t mac_set:1;
 156:Drivers/SOES/Src/esc_eoe.c ****    uint8_t ip_set:1;
 157:Drivers/SOES/Src/esc_eoe.c ****    uint8_t subnet_set:1;
 158:Drivers/SOES/Src/esc_eoe.c ****    uint8_t default_gateway_set:1;
 159:Drivers/SOES/Src/esc_eoe.c ****    uint8_t dns_ip_set:1;
 160:Drivers/SOES/Src/esc_eoe.c ****    uint8_t dns_name_set:1;
 161:Drivers/SOES/Src/esc_eoe.c ****    eoe_ethaddr_t mac;
 162:Drivers/SOES/Src/esc_eoe.c ****    eoe_ip4_addr_t ip;
 163:Drivers/SOES/Src/esc_eoe.c ****    eoe_ip4_addr_t subnet;
 164:Drivers/SOES/Src/esc_eoe.c ****    eoe_ip4_addr_t default_gateway;
 165:Drivers/SOES/Src/esc_eoe.c ****    eoe_ip4_addr_t dns_ip;
 166:Drivers/SOES/Src/esc_eoe.c ****    char dns_name[EOE_DNS_NAME_LENGTH];
 167:Drivers/SOES/Src/esc_eoe.c **** } eoe_param_t;
 168:Drivers/SOES/Src/esc_eoe.c **** 
 169:Drivers/SOES/Src/esc_eoe.c **** /** Main EoE status data array. Structure gets filled with current information
 170:Drivers/SOES/Src/esc_eoe.c ****  * variables during EoE receive and send operations.
 171:Drivers/SOES/Src/esc_eoe.c ****  */
 172:Drivers/SOES/Src/esc_eoe.c **** static _EOEvar EOEvar;
 173:Drivers/SOES/Src/esc_eoe.c **** 
 174:Drivers/SOES/Src/esc_eoe.c **** /** Main FoE configuration pointer data array. Structure is allocated and filled
 175:Drivers/SOES/Src/esc_eoe.c ****  * by the application defining what preferences it requires.
 176:Drivers/SOES/Src/esc_eoe.c ****  */
 177:Drivers/SOES/Src/esc_eoe.c **** static eoe_cfg_t * eoe_cfg;
 178:Drivers/SOES/Src/esc_eoe.c **** 
 179:Drivers/SOES/Src/esc_eoe.c **** /** Local EoE variable holding cached IP information values.
 180:Drivers/SOES/Src/esc_eoe.c ****  * To be set or read from the user application, eg. TCP/IP stack.
 181:Drivers/SOES/Src/esc_eoe.c ****  */
 182:Drivers/SOES/Src/esc_eoe.c **** static eoe_param_t nic_ports[EOE_NUMBER_OF_PORTS];
 183:Drivers/SOES/Src/esc_eoe.c **** 
 184:Drivers/SOES/Src/esc_eoe.c **** /** Local init/reset functions on frame receive init */
 185:Drivers/SOES/Src/esc_eoe.c **** static void EOE_init_rx ();
 186:Drivers/SOES/Src/esc_eoe.c **** /** Local init/reset functions on frame send completion */
 187:Drivers/SOES/Src/esc_eoe.c **** static void EOE_init_tx ();
 188:Drivers/SOES/Src/esc_eoe.c **** 
 189:Drivers/SOES/Src/esc_eoe.c **** /** EoE utility function to convert uint32 to eoe ip bytes.
 190:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] ip       = ip in uint32
 191:Drivers/SOES/Src/esc_eoe.c ****  * @param[out] byte_ip = eoe ip 4th octet, 3ed octet, 2nd octet, 1st octet
 192:Drivers/SOES/Src/esc_eoe.c ****  */
 193:Drivers/SOES/Src/esc_eoe.c **** static void EOE_ip_uint32_to_byte (eoe_ip4_addr_t * ip, uint8_t * byte_ip)
 194:Drivers/SOES/Src/esc_eoe.c **** {
  29              		.loc 1 194 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
 195:Drivers/SOES/Src/esc_eoe.c ****    byte_ip[3] = eoe_ip4_addr1(ip); /* 1st octet */
  34              		.loc 1 195 4 view .LVU1
ARM GAS  /tmp/ccUj1Zdj.s 			page 5


  35              		.loc 1 195 17 is_stmt 0 view .LVU2
  36 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
  37              		.loc 1 195 15 view .LVU3
  38 0002 CB70     		strb	r3, [r1, #3]
 196:Drivers/SOES/Src/esc_eoe.c ****    byte_ip[2] = eoe_ip4_addr2(ip); /* 2nd octet */
  39              		.loc 1 196 4 is_stmt 1 view .LVU4
  40              		.loc 1 196 17 is_stmt 0 view .LVU5
  41 0004 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
  42              		.loc 1 196 15 view .LVU6
  43 0006 8B70     		strb	r3, [r1, #2]
 197:Drivers/SOES/Src/esc_eoe.c ****    byte_ip[1] = eoe_ip4_addr3(ip); /* 3ed octet */
  44              		.loc 1 197 4 is_stmt 1 view .LVU7
  45              		.loc 1 197 17 is_stmt 0 view .LVU8
  46 0008 8378     		ldrb	r3, [r0, #2]	@ zero_extendqisi2
  47              		.loc 1 197 15 view .LVU9
  48 000a 4B70     		strb	r3, [r1, #1]
 198:Drivers/SOES/Src/esc_eoe.c ****    byte_ip[0] = eoe_ip4_addr4(ip); /* 4th octet */
  49              		.loc 1 198 4 is_stmt 1 view .LVU10
  50              		.loc 1 198 17 is_stmt 0 view .LVU11
  51 000c C378     		ldrb	r3, [r0, #3]	@ zero_extendqisi2
  52              		.loc 1 198 15 view .LVU12
  53 000e 0B70     		strb	r3, [r1]
 199:Drivers/SOES/Src/esc_eoe.c **** }
  54              		.loc 1 199 1 view .LVU13
  55 0010 7047     		bx	lr
  56              		.cfi_endproc
  57              	.LFE0:
  59              		.section	.text.EOE_ip_byte_to_uint32,"ax",%progbits
  60              		.align	1
  61              		.syntax unified
  62              		.thumb
  63              		.thumb_func
  65              	EOE_ip_byte_to_uint32:
  66              	.LVL1:
  67              	.LFB1:
 200:Drivers/SOES/Src/esc_eoe.c **** 
 201:Drivers/SOES/Src/esc_eoe.c **** /** EoE utility function to convert eoe ip bytes to uint32.
 202:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] byte_ip = eoe ip 4th octet, 3ed octet, 2nd octet, 1st octet
 203:Drivers/SOES/Src/esc_eoe.c ****  * @param[out] ip     = ip in uint32
 204:Drivers/SOES/Src/esc_eoe.c ****  */
 205:Drivers/SOES/Src/esc_eoe.c **** static void EOE_ip_byte_to_uint32 (uint8_t * byte_ip, eoe_ip4_addr_t * ip)
 206:Drivers/SOES/Src/esc_eoe.c **** {
  68              		.loc 1 206 1 is_stmt 1 view -0
  69              		.cfi_startproc
  70              		@ args = 0, pretend = 0, frame = 0
  71              		@ frame_needed = 0, uses_anonymous_args = 0
  72              		@ link register save eliminated.
 207:Drivers/SOES/Src/esc_eoe.c ****    EOE_IP4_ADDR_TO_U32(ip,
  73              		.loc 1 207 4 view .LVU15
  74 0000 C278     		ldrb	r2, [r0, #3]	@ zero_extendqisi2
  75 0002 8378     		ldrb	r3, [r0, #2]	@ zero_extendqisi2
  76 0004 1B04     		lsls	r3, r3, #16
  77 0006 43EA0263 		orr	r3, r3, r2, lsl #24
  78 000a 4278     		ldrb	r2, [r0, #1]	@ zero_extendqisi2
  79 000c 43EA0223 		orr	r3, r3, r2, lsl #8
  80 0010 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
  81              	.LVL2:
ARM GAS  /tmp/ccUj1Zdj.s 			page 6


  82              		.loc 1 207 4 is_stmt 0 view .LVU16
  83 0012 0343     		orrs	r3, r3, r0
  84 0014 1A02     		lsls	r2, r3, #8
  85 0016 02F47F02 		and	r2, r2, #16711680
  86 001a 42EA0062 		orr	r2, r2, r0, lsl #24
  87 001e 180A     		lsrs	r0, r3, #8
  88 0020 00F47F40 		and	r0, r0, #65280
  89 0024 0243     		orrs	r2, r2, r0
  90 0026 42EA1363 		orr	r3, r2, r3, lsr #24
  91 002a 0B60     		str	r3, [r1]
 208:Drivers/SOES/Src/esc_eoe.c ****          byte_ip[3],  /* 1st octet */
 209:Drivers/SOES/Src/esc_eoe.c ****          byte_ip[2],  /* 2nd octet */
 210:Drivers/SOES/Src/esc_eoe.c ****          byte_ip[1],  /* 3ed octet */
 211:Drivers/SOES/Src/esc_eoe.c ****          byte_ip[0]) ;/* 4th octet */
 212:Drivers/SOES/Src/esc_eoe.c **** }
  92              		.loc 1 212 1 view .LVU17
  93 002c 7047     		bx	lr
  94              		.cfi_endproc
  95              	.LFE1:
  97              		.section	.text.EOE_init_rx,"ax",%progbits
  98              		.align	1
  99              		.syntax unified
 100              		.thumb
 101              		.thumb_func
 103              	EOE_init_rx:
 104              	.LFB19:
 213:Drivers/SOES/Src/esc_eoe.c **** 
 214:Drivers/SOES/Src/esc_eoe.c **** /** Get EoE cached MAC address
 215:Drivers/SOES/Src/esc_eoe.c ****  *
 216:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] port   = get MAC for port
 217:Drivers/SOES/Src/esc_eoe.c ****  * @param[out] mac   = variable to store mac in, should fit EOE_ETHADDR_LENGTH
 218:Drivers/SOES/Src/esc_eoe.c ****  * @return 0= if we succeed, -1 if not set
 219:Drivers/SOES/Src/esc_eoe.c ****  */
 220:Drivers/SOES/Src/esc_eoe.c **** int EOE_get_mac(uint8_t port, uint8_t mac[])
 221:Drivers/SOES/Src/esc_eoe.c **** {
 222:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 223:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 224:Drivers/SOES/Src/esc_eoe.c **** 
 225:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 226:Drivers/SOES/Src/esc_eoe.c ****    {
 227:Drivers/SOES/Src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 228:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 229:Drivers/SOES/Src/esc_eoe.c ****       {
 230:Drivers/SOES/Src/esc_eoe.c ****          memcpy(mac, nic_ports[port_ix].mac.addr,
 231:Drivers/SOES/Src/esc_eoe.c ****                sizeof(nic_ports[port_ix].mac));
 232:Drivers/SOES/Src/esc_eoe.c ****          nic_ports[port_ix].mac_set = 1;
 233:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 234:Drivers/SOES/Src/esc_eoe.c ****       }
 235:Drivers/SOES/Src/esc_eoe.c ****    }
 236:Drivers/SOES/Src/esc_eoe.c ****    return ret;
 237:Drivers/SOES/Src/esc_eoe.c **** }
 238:Drivers/SOES/Src/esc_eoe.c **** 
 239:Drivers/SOES/Src/esc_eoe.c **** /** Set EoE cached MAC address
 240:Drivers/SOES/Src/esc_eoe.c ****  *
 241:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] port   = get MAC for port
 242:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] mac    = mac address to store
 243:Drivers/SOES/Src/esc_eoe.c ****  * @return 0= if we succeed, else -1.
ARM GAS  /tmp/ccUj1Zdj.s 			page 7


 244:Drivers/SOES/Src/esc_eoe.c ****  */
 245:Drivers/SOES/Src/esc_eoe.c **** int EOE_ecat_set_mac(uint8_t port, uint8_t mac[])
 246:Drivers/SOES/Src/esc_eoe.c **** {
 247:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 248:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 249:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 250:Drivers/SOES/Src/esc_eoe.c ****    {
 251:Drivers/SOES/Src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 252:Drivers/SOES/Src/esc_eoe.c ****       memcpy(nic_ports[port_ix].mac.addr, mac,
 253:Drivers/SOES/Src/esc_eoe.c ****             sizeof(nic_ports[port_ix].mac));
 254:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 255:Drivers/SOES/Src/esc_eoe.c ****    }
 256:Drivers/SOES/Src/esc_eoe.c ****    return ret;
 257:Drivers/SOES/Src/esc_eoe.c **** }
 258:Drivers/SOES/Src/esc_eoe.c **** 
 259:Drivers/SOES/Src/esc_eoe.c **** /** Get EoE cached ip address
 260:Drivers/SOES/Src/esc_eoe.c ****  *
 261:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] port  = get ip address for port
 262:Drivers/SOES/Src/esc_eoe.c ****  * @param[out] ip   = variable to store ip in
 263:Drivers/SOES/Src/esc_eoe.c ****  * @return 0= if we succeed, -1 if not set
 264:Drivers/SOES/Src/esc_eoe.c ****  */
 265:Drivers/SOES/Src/esc_eoe.c **** int EOE_ecat_get_ip(uint8_t port, uint32_t * ip)
 266:Drivers/SOES/Src/esc_eoe.c **** {
 267:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 268:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 269:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 270:Drivers/SOES/Src/esc_eoe.c ****    {
 271:Drivers/SOES/Src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 272:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].ip_set)
 273:Drivers/SOES/Src/esc_eoe.c ****       {
 274:Drivers/SOES/Src/esc_eoe.c ****          *ip = EOE_NTOHL(nic_ports[port_ix].ip.addr);
 275:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 276:Drivers/SOES/Src/esc_eoe.c ****       }
 277:Drivers/SOES/Src/esc_eoe.c ****    }
 278:Drivers/SOES/Src/esc_eoe.c ****    return ret;
 279:Drivers/SOES/Src/esc_eoe.c **** }
 280:Drivers/SOES/Src/esc_eoe.c **** 
 281:Drivers/SOES/Src/esc_eoe.c **** /** Set EoE cached ip address
 282:Drivers/SOES/Src/esc_eoe.c ****  *
 283:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] port   = get ip for port
 284:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] ip     = ip address to store
 285:Drivers/SOES/Src/esc_eoe.c ****  * @return 0= if we succeed, else -1.
 286:Drivers/SOES/Src/esc_eoe.c ****  */
 287:Drivers/SOES/Src/esc_eoe.c **** int EOE_ecat_set_ip(uint8_t port, uint32_t  ip)
 288:Drivers/SOES/Src/esc_eoe.c **** {
 289:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 290:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 291:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 292:Drivers/SOES/Src/esc_eoe.c ****    {
 293:Drivers/SOES/Src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 294:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].ip.addr = EOE_HTONL(ip);
 295:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].ip_set = 1;
 296:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 297:Drivers/SOES/Src/esc_eoe.c ****    }
 298:Drivers/SOES/Src/esc_eoe.c ****    return ret;
 299:Drivers/SOES/Src/esc_eoe.c **** }
 300:Drivers/SOES/Src/esc_eoe.c **** 
ARM GAS  /tmp/ccUj1Zdj.s 			page 8


 301:Drivers/SOES/Src/esc_eoe.c **** /** Get EoE cached subnet ip address
 302:Drivers/SOES/Src/esc_eoe.c ****  *
 303:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] port    = get ip address for port
 304:Drivers/SOES/Src/esc_eoe.c ****  * @param[out] subnet = variable to store ip in
 305:Drivers/SOES/Src/esc_eoe.c ****  * @return 0= if we succeed, -1 if not set
 306:Drivers/SOES/Src/esc_eoe.c ****  */
 307:Drivers/SOES/Src/esc_eoe.c **** int EOE_ecat_get_subnet(uint8_t port, uint32_t * subnet)
 308:Drivers/SOES/Src/esc_eoe.c **** {
 309:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 310:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 311:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 312:Drivers/SOES/Src/esc_eoe.c ****    {
 313:Drivers/SOES/Src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 314:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].subnet_set)
 315:Drivers/SOES/Src/esc_eoe.c ****       {
 316:Drivers/SOES/Src/esc_eoe.c ****          *subnet = EOE_NTOHL(nic_ports[port_ix].subnet.addr);
 317:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 318:Drivers/SOES/Src/esc_eoe.c ****       }
 319:Drivers/SOES/Src/esc_eoe.c ****    }
 320:Drivers/SOES/Src/esc_eoe.c ****    return ret;
 321:Drivers/SOES/Src/esc_eoe.c **** }
 322:Drivers/SOES/Src/esc_eoe.c **** 
 323:Drivers/SOES/Src/esc_eoe.c **** /** Set EoE cached subnet ip address
 324:Drivers/SOES/Src/esc_eoe.c ****  *
 325:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] port   = get ip for port
 326:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] subnet = ip address to store
 327:Drivers/SOES/Src/esc_eoe.c ****  * @return 0= if we succeed, else -1.
 328:Drivers/SOES/Src/esc_eoe.c ****  */
 329:Drivers/SOES/Src/esc_eoe.c **** int EOE_ecat_set_subnet(uint8_t port, uint32_t subnet)
 330:Drivers/SOES/Src/esc_eoe.c **** {
 331:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 332:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 333:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 334:Drivers/SOES/Src/esc_eoe.c ****    {
 335:Drivers/SOES/Src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 336:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].subnet.addr = EOE_HTONL(subnet);
 337:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].subnet_set = 1;
 338:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 339:Drivers/SOES/Src/esc_eoe.c ****    }
 340:Drivers/SOES/Src/esc_eoe.c ****    return ret;
 341:Drivers/SOES/Src/esc_eoe.c **** }
 342:Drivers/SOES/Src/esc_eoe.c **** 
 343:Drivers/SOES/Src/esc_eoe.c **** /** Get EoE cached default gateway ip address
 344:Drivers/SOES/Src/esc_eoe.c ****  *
 345:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] port             = get ip address for port
 346:Drivers/SOES/Src/esc_eoe.c ****  * @param[out] default_gateway = variable to store ip in
 347:Drivers/SOES/Src/esc_eoe.c ****  * @return 0= if we succeed, -1 if not set
 348:Drivers/SOES/Src/esc_eoe.c ****  */
 349:Drivers/SOES/Src/esc_eoe.c **** int EOE_ecat_get_gateway(uint8_t port, uint32_t * default_gateway)
 350:Drivers/SOES/Src/esc_eoe.c **** {
 351:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 352:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 353:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 354:Drivers/SOES/Src/esc_eoe.c ****    {
 355:Drivers/SOES/Src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 356:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].default_gateway_set)
 357:Drivers/SOES/Src/esc_eoe.c ****       {
ARM GAS  /tmp/ccUj1Zdj.s 			page 9


 358:Drivers/SOES/Src/esc_eoe.c ****          *default_gateway =
 359:Drivers/SOES/Src/esc_eoe.c ****                EOE_NTOHL(nic_ports[port_ix].default_gateway.addr);
 360:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 361:Drivers/SOES/Src/esc_eoe.c ****       }
 362:Drivers/SOES/Src/esc_eoe.c ****    }
 363:Drivers/SOES/Src/esc_eoe.c ****    return ret;
 364:Drivers/SOES/Src/esc_eoe.c **** }
 365:Drivers/SOES/Src/esc_eoe.c **** 
 366:Drivers/SOES/Src/esc_eoe.c **** /** Set EoE cached default gateway ip address
 367:Drivers/SOES/Src/esc_eoe.c ****  *
 368:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] port            = get ip for port
 369:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] default_gateway = ip address to store
 370:Drivers/SOES/Src/esc_eoe.c ****  * @return 0= if we succeed, else -1.
 371:Drivers/SOES/Src/esc_eoe.c ****  */
 372:Drivers/SOES/Src/esc_eoe.c **** int EOE_ecat_set_gateway(uint8_t port, uint32_t default_gateway)
 373:Drivers/SOES/Src/esc_eoe.c **** {
 374:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 375:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 376:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 377:Drivers/SOES/Src/esc_eoe.c ****    {
 378:Drivers/SOES/Src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 379:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].default_gateway.addr =
 380:Drivers/SOES/Src/esc_eoe.c ****             EOE_HTONL(default_gateway);
 381:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].default_gateway_set = 1;
 382:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 383:Drivers/SOES/Src/esc_eoe.c ****    }
 384:Drivers/SOES/Src/esc_eoe.c ****    return ret;
 385:Drivers/SOES/Src/esc_eoe.c **** }
 386:Drivers/SOES/Src/esc_eoe.c **** 
 387:Drivers/SOES/Src/esc_eoe.c **** /** Get EoE cached dns ip address
 388:Drivers/SOES/Src/esc_eoe.c ****  *
 389:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] port    = get ip address for port
 390:Drivers/SOES/Src/esc_eoe.c ****  * @param[out] dns_ip = variable to store ip in
 391:Drivers/SOES/Src/esc_eoe.c ****  * @return 0= if we succeed, -1 if not set
 392:Drivers/SOES/Src/esc_eoe.c ****  */
 393:Drivers/SOES/Src/esc_eoe.c **** int EOE_ecat_get_dns_ip(uint8_t port, uint32_t * dns_ip)
 394:Drivers/SOES/Src/esc_eoe.c **** {
 395:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 396:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 397:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 398:Drivers/SOES/Src/esc_eoe.c ****    {
 399:Drivers/SOES/Src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 400:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].dns_ip_set)
 401:Drivers/SOES/Src/esc_eoe.c ****       {
 402:Drivers/SOES/Src/esc_eoe.c ****          *dns_ip = EOE_NTOHL(nic_ports[port_ix].dns_ip.addr);
 403:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 404:Drivers/SOES/Src/esc_eoe.c ****       }
 405:Drivers/SOES/Src/esc_eoe.c ****    }
 406:Drivers/SOES/Src/esc_eoe.c ****    return ret;
 407:Drivers/SOES/Src/esc_eoe.c **** }
 408:Drivers/SOES/Src/esc_eoe.c **** 
 409:Drivers/SOES/Src/esc_eoe.c **** /** Set EoE cached dns ip address
 410:Drivers/SOES/Src/esc_eoe.c ****  *
 411:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] port   = get ip for port
 412:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] dns_ip = ip address to store
 413:Drivers/SOES/Src/esc_eoe.c ****  * @return 0= if we succeed, else -1.
 414:Drivers/SOES/Src/esc_eoe.c ****  */
ARM GAS  /tmp/ccUj1Zdj.s 			page 10


 415:Drivers/SOES/Src/esc_eoe.c **** int EOE_ecat_set_dns_ip(uint8_t port, uint32_t dns_ip)
 416:Drivers/SOES/Src/esc_eoe.c **** {
 417:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 418:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 419:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 420:Drivers/SOES/Src/esc_eoe.c ****    {
 421:Drivers/SOES/Src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 422:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].dns_ip.addr = EOE_HTONL(dns_ip);
 423:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].dns_ip_set = 1;
 424:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 425:Drivers/SOES/Src/esc_eoe.c ****    }
 426:Drivers/SOES/Src/esc_eoe.c ****    return ret;
 427:Drivers/SOES/Src/esc_eoe.c **** }
 428:Drivers/SOES/Src/esc_eoe.c **** 
 429:Drivers/SOES/Src/esc_eoe.c **** /** Get EoE cached dns name
 430:Drivers/SOES/Src/esc_eoe.c ****  *
 431:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] port      = get dns name for port
 432:Drivers/SOES/Src/esc_eoe.c ****  * @param[out] dns_name = variable to store dns name in
 433:Drivers/SOES/Src/esc_eoe.c ****  * @return 0= if we succeed, -1 if not set
 434:Drivers/SOES/Src/esc_eoe.c ****  */
 435:Drivers/SOES/Src/esc_eoe.c **** int EOE_ecat_get_dns_name(uint8_t port, char * dns_name)
 436:Drivers/SOES/Src/esc_eoe.c **** {
 437:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 438:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 439:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 440:Drivers/SOES/Src/esc_eoe.c ****    {
 441:Drivers/SOES/Src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 442:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].dns_name_set)
 443:Drivers/SOES/Src/esc_eoe.c ****       {
 444:Drivers/SOES/Src/esc_eoe.c ****          memcpy(dns_name,
 445:Drivers/SOES/Src/esc_eoe.c ****                nic_ports[port_ix].dns_name,
 446:Drivers/SOES/Src/esc_eoe.c ****                sizeof(nic_ports[port_ix].dns_name));
 447:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 448:Drivers/SOES/Src/esc_eoe.c ****       }
 449:Drivers/SOES/Src/esc_eoe.c ****    }
 450:Drivers/SOES/Src/esc_eoe.c ****    return ret;
 451:Drivers/SOES/Src/esc_eoe.c **** }
 452:Drivers/SOES/Src/esc_eoe.c **** 
 453:Drivers/SOES/Src/esc_eoe.c **** /** Set EoE cached dns name
 454:Drivers/SOES/Src/esc_eoe.c ****  *
 455:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] port     = get dns name for port
 456:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] dns_name = dns name to store
 457:Drivers/SOES/Src/esc_eoe.c ****  * @return 0= if we succeed, else -1.
 458:Drivers/SOES/Src/esc_eoe.c ****  */
 459:Drivers/SOES/Src/esc_eoe.c **** int EOE_ecat_set_dns_name(uint8_t port, char * dns_name)
 460:Drivers/SOES/Src/esc_eoe.c **** {
 461:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 462:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 463:Drivers/SOES/Src/esc_eoe.c **** 
 464:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 465:Drivers/SOES/Src/esc_eoe.c ****    {
 466:Drivers/SOES/Src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 467:Drivers/SOES/Src/esc_eoe.c ****       memcpy(nic_ports[port_ix].dns_name,
 468:Drivers/SOES/Src/esc_eoe.c ****             dns_name,
 469:Drivers/SOES/Src/esc_eoe.c ****             sizeof(nic_ports[port_ix].dns_name));
 470:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].dns_name_set = 1;
 471:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
ARM GAS  /tmp/ccUj1Zdj.s 			page 11


 472:Drivers/SOES/Src/esc_eoe.c ****    }
 473:Drivers/SOES/Src/esc_eoe.c ****    return ret;
 474:Drivers/SOES/Src/esc_eoe.c **** }
 475:Drivers/SOES/Src/esc_eoe.c **** 
 476:Drivers/SOES/Src/esc_eoe.c **** /** Function for sending an simple EOE response frame.
 477:Drivers/SOES/Src/esc_eoe.c ****  *
 478:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] frametype1 = frame type of response
 479:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] result    = result code
 480:Drivers/SOES/Src/esc_eoe.c ****  */
 481:Drivers/SOES/Src/esc_eoe.c **** static void EOE_no_data_response (uint16_t frameinfo1, uint16_t result)
 482:Drivers/SOES/Src/esc_eoe.c **** {
 483:Drivers/SOES/Src/esc_eoe.c ****    _EOE *eoembx;
 484:Drivers/SOES/Src/esc_eoe.c ****    uint8_t mbxhandle;
 485:Drivers/SOES/Src/esc_eoe.c **** 
 486:Drivers/SOES/Src/esc_eoe.c ****    /* Send back a response packet. */
 487:Drivers/SOES/Src/esc_eoe.c ****    mbxhandle = ESC_claimbuffer ();
 488:Drivers/SOES/Src/esc_eoe.c ****    if (mbxhandle)
 489:Drivers/SOES/Src/esc_eoe.c ****    {
 490:Drivers/SOES/Src/esc_eoe.c ****       eoembx = (_EOE *) &MBX[mbxhandle * ESC_MBXSIZE];
 491:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE);
 492:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 493:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 494:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.result = htoes(result);
 495:Drivers/SOES/Src/esc_eoe.c ****       MBXcontrol[mbxhandle].state = MBXstate_outreq;
 496:Drivers/SOES/Src/esc_eoe.c ****    }
 497:Drivers/SOES/Src/esc_eoe.c **** }
 498:Drivers/SOES/Src/esc_eoe.c **** 
 499:Drivers/SOES/Src/esc_eoe.c **** /** EoE get IP param request handler. Will send a get IP param response.
 500:Drivers/SOES/Src/esc_eoe.c ****  */
 501:Drivers/SOES/Src/esc_eoe.c **** static void EOE_get_ip (void)
 502:Drivers/SOES/Src/esc_eoe.c **** {
 503:Drivers/SOES/Src/esc_eoe.c ****    _EOE *req_eoembx;
 504:Drivers/SOES/Src/esc_eoe.c ****    _EOE *eoembx;
 505:Drivers/SOES/Src/esc_eoe.c ****    uint8_t mbxhandle;
 506:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo1;
 507:Drivers/SOES/Src/esc_eoe.c ****    uint8_t port;
 508:Drivers/SOES/Src/esc_eoe.c ****    uint8_t  flags;
 509:Drivers/SOES/Src/esc_eoe.c ****    uint8_t  data_offset;
 510:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 511:Drivers/SOES/Src/esc_eoe.c **** 
 512:Drivers/SOES/Src/esc_eoe.c ****    req_eoembx = (_EOE *) &MBX[0];
 513:Drivers/SOES/Src/esc_eoe.c ****    frameinfo1 = etohs(req_eoembx->eoeheader.frameinfo1);
 514:Drivers/SOES/Src/esc_eoe.c ****    port = EOE_HDR_FRAME_PORT_GET(frameinfo1);
 515:Drivers/SOES/Src/esc_eoe.c ****    data_offset = EOE_PARAM_OFFSET;
 516:Drivers/SOES/Src/esc_eoe.c ****    flags = 0;
 517:Drivers/SOES/Src/esc_eoe.c **** 
 518:Drivers/SOES/Src/esc_eoe.c ****    if(port  > EOE_NUMBER_OF_PORTS)
 519:Drivers/SOES/Src/esc_eoe.c ****    {
 520:Drivers/SOES/Src/esc_eoe.c ****       DPRINT("Invalid port\n");
 521:Drivers/SOES/Src/esc_eoe.c ****       /* Return error response on given port */
 522:Drivers/SOES/Src/esc_eoe.c ****       EOE_no_data_response((EOE_HDR_FRAME_PORT_SET(port) |
 523:Drivers/SOES/Src/esc_eoe.c ****             EOE_INIT_RESP |
 524:Drivers/SOES/Src/esc_eoe.c ****             EOE_HDR_LAST_FRAGMENT),
 525:Drivers/SOES/Src/esc_eoe.c ****             EOE_RESULT_UNSPECIFIED_ERROR);
 526:Drivers/SOES/Src/esc_eoe.c ****       return;
 527:Drivers/SOES/Src/esc_eoe.c ****    }
 528:Drivers/SOES/Src/esc_eoe.c **** 
ARM GAS  /tmp/ccUj1Zdj.s 			page 12


 529:Drivers/SOES/Src/esc_eoe.c ****    /* Refresh settings if needed */
 530:Drivers/SOES/Src/esc_eoe.c ****    if(eoe_cfg->load_eth_settings != NULL)
 531:Drivers/SOES/Src/esc_eoe.c ****    {
 532:Drivers/SOES/Src/esc_eoe.c ****       (void)eoe_cfg->load_eth_settings();
 533:Drivers/SOES/Src/esc_eoe.c ****    }
 534:Drivers/SOES/Src/esc_eoe.c **** 
 535:Drivers/SOES/Src/esc_eoe.c ****    /* Send back an response packet. */
 536:Drivers/SOES/Src/esc_eoe.c ****    mbxhandle = ESC_claimbuffer ();
 537:Drivers/SOES/Src/esc_eoe.c ****    if (mbxhandle)
 538:Drivers/SOES/Src/esc_eoe.c ****    {
 539:Drivers/SOES/Src/esc_eoe.c ****       eoembx = (_EOE *) &MBX[mbxhandle * ESC_MBXSIZE];
 540:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 541:Drivers/SOES/Src/esc_eoe.c ****       MBXcontrol[mbxhandle].state = MBXstate_outreq;
 542:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 =
 543:Drivers/SOES/Src/esc_eoe.c ****             htoes(EOE_HDR_FRAME_TYPE_SET(EOE_GET_IP_PARAM_RESP) |
 544:Drivers/SOES/Src/esc_eoe.c ****                   EOE_HDR_FRAME_PORT_SET(port) |
 545:Drivers/SOES/Src/esc_eoe.c ****                   EOE_HDR_LAST_FRAGMENT);
 546:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.frameinfo2 = 0;
 547:Drivers/SOES/Src/esc_eoe.c **** 
 548:Drivers/SOES/Src/esc_eoe.c ****       /* include mac in get ip request */
 549:Drivers/SOES/Src/esc_eoe.c ****       port_ix = EOE_PORT_INDEX(port);
 550:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 551:Drivers/SOES/Src/esc_eoe.c ****       {
 552:Drivers/SOES/Src/esc_eoe.c ****          flags |= EOE_PARAM_MAC_INCLUDE;
 553:Drivers/SOES/Src/esc_eoe.c ****          memcpy(&eoembx->data[data_offset] ,
 554:Drivers/SOES/Src/esc_eoe.c ****                nic_ports[port_ix].mac.addr,
 555:Drivers/SOES/Src/esc_eoe.c ****                EOE_ETHADDR_LENGTH);
 556:Drivers/SOES/Src/esc_eoe.c ****          /* Add size of mac address */
 557:Drivers/SOES/Src/esc_eoe.c ****          data_offset += EOE_ETHADDR_LENGTH;
 558:Drivers/SOES/Src/esc_eoe.c **** 
 559:Drivers/SOES/Src/esc_eoe.c ****       }
 560:Drivers/SOES/Src/esc_eoe.c ****       /* include ip in get ip request */
 561:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].ip_set)
 562:Drivers/SOES/Src/esc_eoe.c ****       {
 563:Drivers/SOES/Src/esc_eoe.c ****          flags |= EOE_PARAM_IP_INCLUDE;
 564:Drivers/SOES/Src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].ip,
 565:Drivers/SOES/Src/esc_eoe.c ****                &eoembx->data[data_offset]);
 566:Drivers/SOES/Src/esc_eoe.c ****          /* Add size of uint32 IP address */
 567:Drivers/SOES/Src/esc_eoe.c ****          data_offset += EOE_IP4_LENGTH;
 568:Drivers/SOES/Src/esc_eoe.c ****       }
 569:Drivers/SOES/Src/esc_eoe.c **** 
 570:Drivers/SOES/Src/esc_eoe.c ****       /* include subnet in get ip request */
 571:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].subnet_set)
 572:Drivers/SOES/Src/esc_eoe.c ****       {
 573:Drivers/SOES/Src/esc_eoe.c ****          flags |= EOE_PARAM_SUBNET_IP_INCLUDE;
 574:Drivers/SOES/Src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].subnet,
 575:Drivers/SOES/Src/esc_eoe.c ****                &eoembx->data[data_offset]);
 576:Drivers/SOES/Src/esc_eoe.c ****          /* Add size of uint32 IP address */
 577:Drivers/SOES/Src/esc_eoe.c ****          data_offset += EOE_IP4_LENGTH;
 578:Drivers/SOES/Src/esc_eoe.c ****       }
 579:Drivers/SOES/Src/esc_eoe.c **** 
 580:Drivers/SOES/Src/esc_eoe.c ****       /* include default gateway in get ip request */
 581:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].default_gateway_set)
 582:Drivers/SOES/Src/esc_eoe.c ****       {
 583:Drivers/SOES/Src/esc_eoe.c ****          flags |= EOE_PARAM_DEFAULT_GATEWAY_INCLUDE;
 584:Drivers/SOES/Src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].default_gateway,
 585:Drivers/SOES/Src/esc_eoe.c ****                &eoembx->data[data_offset]);
ARM GAS  /tmp/ccUj1Zdj.s 			page 13


 586:Drivers/SOES/Src/esc_eoe.c ****          /* Add size of uint32 IP address */
 587:Drivers/SOES/Src/esc_eoe.c ****          data_offset += EOE_IP4_LENGTH;
 588:Drivers/SOES/Src/esc_eoe.c ****       }
 589:Drivers/SOES/Src/esc_eoe.c ****       /* include dns ip in get ip request */
 590:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].dns_ip_set)
 591:Drivers/SOES/Src/esc_eoe.c ****       {
 592:Drivers/SOES/Src/esc_eoe.c ****          flags |= EOE_PARAM_DNS_IP_INCLUDE;
 593:Drivers/SOES/Src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].dns_ip,
 594:Drivers/SOES/Src/esc_eoe.c ****                &eoembx->data[data_offset]);
 595:Drivers/SOES/Src/esc_eoe.c ****          /* Add size of uint32 IP address */
 596:Drivers/SOES/Src/esc_eoe.c ****          data_offset += EOE_IP4_LENGTH;
 597:Drivers/SOES/Src/esc_eoe.c ****       }
 598:Drivers/SOES/Src/esc_eoe.c **** 
 599:Drivers/SOES/Src/esc_eoe.c ****       /* include dns name in get ip request */
 600:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].dns_name_set)
 601:Drivers/SOES/Src/esc_eoe.c ****       {
 602:Drivers/SOES/Src/esc_eoe.c ****          /* TwinCAT include EOE_DNS_NAME_LENGTH chars even if name is shorter */
 603:Drivers/SOES/Src/esc_eoe.c ****          flags |= EOE_PARAM_DNS_NAME_INCLUDE;
 604:Drivers/SOES/Src/esc_eoe.c ****          memcpy(&eoembx->data[data_offset],
 605:Drivers/SOES/Src/esc_eoe.c ****                nic_ports[port_ix].dns_name,
 606:Drivers/SOES/Src/esc_eoe.c ****                EOE_DNS_NAME_LENGTH);
 607:Drivers/SOES/Src/esc_eoe.c ****          /* Add size of dns name length */
 608:Drivers/SOES/Src/esc_eoe.c ****          data_offset += EOE_DNS_NAME_LENGTH;
 609:Drivers/SOES/Src/esc_eoe.c ****       }
 610:Drivers/SOES/Src/esc_eoe.c **** 
 611:Drivers/SOES/Src/esc_eoe.c ****       eoembx->data[0] = flags;
 612:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE + data_offset);
 613:Drivers/SOES/Src/esc_eoe.c ****    }
 614:Drivers/SOES/Src/esc_eoe.c **** }
 615:Drivers/SOES/Src/esc_eoe.c **** 
 616:Drivers/SOES/Src/esc_eoe.c **** /** EoE set IP param request handler. Will send a set IP param response.
 617:Drivers/SOES/Src/esc_eoe.c ****  */
 618:Drivers/SOES/Src/esc_eoe.c **** static void EOE_set_ip (void)
 619:Drivers/SOES/Src/esc_eoe.c **** {
 620:Drivers/SOES/Src/esc_eoe.c ****    _EOE *eoembx;
 621:Drivers/SOES/Src/esc_eoe.c ****    uint16_t eoedatasize;
 622:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo1;
 623:Drivers/SOES/Src/esc_eoe.c ****    uint8_t port;
 624:Drivers/SOES/Src/esc_eoe.c ****    uint8_t  flags;
 625:Drivers/SOES/Src/esc_eoe.c ****    uint8_t  data_offset;
 626:Drivers/SOES/Src/esc_eoe.c ****    uint16_t result;
 627:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 628:Drivers/SOES/Src/esc_eoe.c **** 
 629:Drivers/SOES/Src/esc_eoe.c ****    eoembx = (_EOE *) &MBX[0];
 630:Drivers/SOES/Src/esc_eoe.c ****    eoedatasize = etohs(eoembx->mbxheader.length) - ESC_EOEHSIZE;
 631:Drivers/SOES/Src/esc_eoe.c ****    frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
 632:Drivers/SOES/Src/esc_eoe.c ****    port = EOE_HDR_FRAME_PORT_GET(frameinfo1);
 633:Drivers/SOES/Src/esc_eoe.c ****    flags = eoembx->data[0];
 634:Drivers/SOES/Src/esc_eoe.c ****    data_offset = EOE_PARAM_OFFSET;
 635:Drivers/SOES/Src/esc_eoe.c **** 
 636:Drivers/SOES/Src/esc_eoe.c ****    if(port  > EOE_NUMBER_OF_PORTS)
 637:Drivers/SOES/Src/esc_eoe.c ****    {
 638:Drivers/SOES/Src/esc_eoe.c ****       DPRINT("Invalid port\n");
 639:Drivers/SOES/Src/esc_eoe.c ****       /* Return error response on given port */
 640:Drivers/SOES/Src/esc_eoe.c ****       EOE_no_data_response((EOE_HDR_FRAME_PORT_SET(port) |
 641:Drivers/SOES/Src/esc_eoe.c ****             EOE_INIT_RESP |
 642:Drivers/SOES/Src/esc_eoe.c ****             EOE_HDR_LAST_FRAGMENT),
ARM GAS  /tmp/ccUj1Zdj.s 			page 14


 643:Drivers/SOES/Src/esc_eoe.c ****             EOE_RESULT_UNSPECIFIED_ERROR);
 644:Drivers/SOES/Src/esc_eoe.c ****       return;
 645:Drivers/SOES/Src/esc_eoe.c ****    }
 646:Drivers/SOES/Src/esc_eoe.c **** 
 647:Drivers/SOES/Src/esc_eoe.c ****    /* mac included in set ip request? */
 648:Drivers/SOES/Src/esc_eoe.c ****    port_ix = EOE_PORT_INDEX(port);
 649:Drivers/SOES/Src/esc_eoe.c ****    if(flags & EOE_PARAM_MAC_INCLUDE)
 650:Drivers/SOES/Src/esc_eoe.c ****    {
 651:Drivers/SOES/Src/esc_eoe.c ****       memcpy(&nic_ports[port_ix].mac.addr,
 652:Drivers/SOES/Src/esc_eoe.c ****             &eoembx->data[data_offset],
 653:Drivers/SOES/Src/esc_eoe.c ****             EOE_ETHADDR_LENGTH);
 654:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].mac_set = 1;
 655:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of mac address */
 656:Drivers/SOES/Src/esc_eoe.c ****       data_offset += EOE_ETHADDR_LENGTH;
 657:Drivers/SOES/Src/esc_eoe.c ****    }
 658:Drivers/SOES/Src/esc_eoe.c ****    /* ip included in set ip request? */
 659:Drivers/SOES/Src/esc_eoe.c ****    if(flags & EOE_PARAM_IP_INCLUDE)
 660:Drivers/SOES/Src/esc_eoe.c ****    {
 661:Drivers/SOES/Src/esc_eoe.c ****       EOE_ip_byte_to_uint32(&eoembx->data[data_offset],
 662:Drivers/SOES/Src/esc_eoe.c ****             &nic_ports[port_ix].ip);
 663:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].ip_set = 1;
 664:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of uint32 IP address */
 665:Drivers/SOES/Src/esc_eoe.c ****       data_offset += EOE_IP4_LENGTH;
 666:Drivers/SOES/Src/esc_eoe.c ****    }
 667:Drivers/SOES/Src/esc_eoe.c ****    /* subnet included in set ip request? */
 668:Drivers/SOES/Src/esc_eoe.c ****    if(flags & EOE_PARAM_SUBNET_IP_INCLUDE)
 669:Drivers/SOES/Src/esc_eoe.c ****    {
 670:Drivers/SOES/Src/esc_eoe.c ****       EOE_ip_byte_to_uint32(&eoembx->data[data_offset],
 671:Drivers/SOES/Src/esc_eoe.c ****             &nic_ports[port_ix].subnet);
 672:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].subnet_set = 1;
 673:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of uint32 IP address */
 674:Drivers/SOES/Src/esc_eoe.c ****       data_offset += EOE_IP4_LENGTH;
 675:Drivers/SOES/Src/esc_eoe.c ****    }
 676:Drivers/SOES/Src/esc_eoe.c ****    /* default gateway included in set ip request? */
 677:Drivers/SOES/Src/esc_eoe.c ****    if(flags & EOE_PARAM_DEFAULT_GATEWAY_INCLUDE)
 678:Drivers/SOES/Src/esc_eoe.c ****    {
 679:Drivers/SOES/Src/esc_eoe.c ****       EOE_ip_byte_to_uint32(&eoembx->data[data_offset],
 680:Drivers/SOES/Src/esc_eoe.c ****             &nic_ports[port_ix].default_gateway);
 681:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].default_gateway_set = 1;
 682:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of uint32 IP address */
 683:Drivers/SOES/Src/esc_eoe.c ****       data_offset += EOE_IP4_LENGTH;
 684:Drivers/SOES/Src/esc_eoe.c ****    }
 685:Drivers/SOES/Src/esc_eoe.c ****    /* dns ip included in set ip request? */
 686:Drivers/SOES/Src/esc_eoe.c ****    if(flags & EOE_PARAM_DNS_IP_INCLUDE)
 687:Drivers/SOES/Src/esc_eoe.c ****    {
 688:Drivers/SOES/Src/esc_eoe.c ****       EOE_ip_byte_to_uint32(&eoembx->data[data_offset],
 689:Drivers/SOES/Src/esc_eoe.c ****             &nic_ports[port_ix].dns_ip);
 690:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].dns_ip_set = 1;
 691:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of uint32 IP address */
 692:Drivers/SOES/Src/esc_eoe.c ****       data_offset += EOE_IP4_LENGTH;
 693:Drivers/SOES/Src/esc_eoe.c ****    }
 694:Drivers/SOES/Src/esc_eoe.c ****    /* dns name included in set ip request? */
 695:Drivers/SOES/Src/esc_eoe.c ****    if(flags & EOE_PARAM_DNS_NAME_INCLUDE)
 696:Drivers/SOES/Src/esc_eoe.c ****    {
 697:Drivers/SOES/Src/esc_eoe.c ****       uint16_t dns_len = MIN((eoedatasize - data_offset), EOE_DNS_NAME_LENGTH);
 698:Drivers/SOES/Src/esc_eoe.c ****       memcpy(nic_ports[port_ix].dns_name,
 699:Drivers/SOES/Src/esc_eoe.c ****             &eoembx->data[data_offset],
ARM GAS  /tmp/ccUj1Zdj.s 			page 15


 700:Drivers/SOES/Src/esc_eoe.c ****             dns_len);
 701:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].dns_name_set = 1;
 702:Drivers/SOES/Src/esc_eoe.c ****       data_offset += dns_len; /* expected 1- EOE_DNS_NAME_LENGTH; */
 703:Drivers/SOES/Src/esc_eoe.c ****    }
 704:Drivers/SOES/Src/esc_eoe.c **** 
 705:Drivers/SOES/Src/esc_eoe.c ****    if(data_offset > eoedatasize)
 706:Drivers/SOES/Src/esc_eoe.c ****    {
 707:Drivers/SOES/Src/esc_eoe.c ****       result = MBXERR_SIZETOOSHORT;
 708:Drivers/SOES/Src/esc_eoe.c ****    }
 709:Drivers/SOES/Src/esc_eoe.c ****    else
 710:Drivers/SOES/Src/esc_eoe.c ****    {
 711:Drivers/SOES/Src/esc_eoe.c ****       /* Application specific store settings function. From there
 712:Drivers/SOES/Src/esc_eoe.c ****        * you typically set the IP for the TCP/IP stack */
 713:Drivers/SOES/Src/esc_eoe.c ****       if(eoe_cfg->store_ethernet_settings != NULL)
 714:Drivers/SOES/Src/esc_eoe.c ****       {
 715:Drivers/SOES/Src/esc_eoe.c ****          result = eoe_cfg->store_ethernet_settings();
 716:Drivers/SOES/Src/esc_eoe.c ****       }
 717:Drivers/SOES/Src/esc_eoe.c ****       else
 718:Drivers/SOES/Src/esc_eoe.c ****       {
 719:Drivers/SOES/Src/esc_eoe.c ****          result = EOE_RESULT_NO_IP_SUPPORT;
 720:Drivers/SOES/Src/esc_eoe.c ****       }
 721:Drivers/SOES/Src/esc_eoe.c ****    }
 722:Drivers/SOES/Src/esc_eoe.c ****    EOE_no_data_response((EOE_HDR_FRAME_PORT_SET(port) |
 723:Drivers/SOES/Src/esc_eoe.c ****          EOE_INIT_RESP |
 724:Drivers/SOES/Src/esc_eoe.c ****          EOE_HDR_LAST_FRAGMENT),
 725:Drivers/SOES/Src/esc_eoe.c ****          result);
 726:Drivers/SOES/Src/esc_eoe.c **** }
 727:Drivers/SOES/Src/esc_eoe.c **** 
 728:Drivers/SOES/Src/esc_eoe.c **** /** EoE receive fragment handler.
 729:Drivers/SOES/Src/esc_eoe.c ****  */
 730:Drivers/SOES/Src/esc_eoe.c **** static void EOE_receive_fragment (void)
 731:Drivers/SOES/Src/esc_eoe.c **** {
 732:Drivers/SOES/Src/esc_eoe.c ****    _EOE *eoembx;
 733:Drivers/SOES/Src/esc_eoe.c ****    eoembx = (_EOE *) &MBX[0];
 734:Drivers/SOES/Src/esc_eoe.c ****    uint16_t eoedatasize = etohs(eoembx->mbxheader.length) - ESC_EOEHSIZE;
 735:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
 736:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo2 = etohs(eoembx->eoeheader.frameinfo2);
 737:Drivers/SOES/Src/esc_eoe.c **** 
 738:Drivers/SOES/Src/esc_eoe.c ****    /* Capture error case */
 739:Drivers/SOES/Src/esc_eoe.c ****    if(EOEvar.rxfragmentno != EOE_HDR_FRAG_NO_GET(frameinfo2))
 740:Drivers/SOES/Src/esc_eoe.c ****    {
 741:Drivers/SOES/Src/esc_eoe.c ****       DPRINT("Unexpected fragment number %d, expected: %d\n",
 742:Drivers/SOES/Src/esc_eoe.c ****             EOE_HDR_FRAG_NO_GET(frameinfo2), EOEvar.rxfragmentno);
 743:Drivers/SOES/Src/esc_eoe.c ****       /* Clean up existing saved data */
 744:Drivers/SOES/Src/esc_eoe.c ****       if(EOEvar.rxfragmentno != 0)
 745:Drivers/SOES/Src/esc_eoe.c ****       {
 746:Drivers/SOES/Src/esc_eoe.c ****          EOE_init_rx();
 747:Drivers/SOES/Src/esc_eoe.c ****       }
 748:Drivers/SOES/Src/esc_eoe.c ****       /* Skip fragment if not start of new frame */
 749:Drivers/SOES/Src/esc_eoe.c ****       if(EOE_HDR_FRAG_NO_GET(frameinfo2) > 0)
 750:Drivers/SOES/Src/esc_eoe.c ****       {
 751:Drivers/SOES/Src/esc_eoe.c ****          return;
 752:Drivers/SOES/Src/esc_eoe.c ****       }
 753:Drivers/SOES/Src/esc_eoe.c ****    }
 754:Drivers/SOES/Src/esc_eoe.c **** 
 755:Drivers/SOES/Src/esc_eoe.c ****    /* Start of new frame at fragment 0 */
 756:Drivers/SOES/Src/esc_eoe.c ****    if(EOEvar.rxfragmentno == 0)
ARM GAS  /tmp/ccUj1Zdj.s 			page 16


 757:Drivers/SOES/Src/esc_eoe.c ****    {
 758:Drivers/SOES/Src/esc_eoe.c ****       EOEvar.rxframesize = (EOE_HDR_FRAME_OFFSET_GET(frameinfo2) << 5);
 759:Drivers/SOES/Src/esc_eoe.c **** 
 760:Drivers/SOES/Src/esc_eoe.c ****       if(EOEvar.rxebuf.payload != NULL)
 761:Drivers/SOES/Src/esc_eoe.c ****       {
 762:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.rxebuf.len = EOEvar.rxframesize;
 763:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.rxframeoffset = 0;
 764:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.rxframeno = EOE_HDR_FRAME_NO_GET(frameinfo2);
 765:Drivers/SOES/Src/esc_eoe.c ****       }
 766:Drivers/SOES/Src/esc_eoe.c ****    }
 767:Drivers/SOES/Src/esc_eoe.c ****    /* In frame fragment received */
 768:Drivers/SOES/Src/esc_eoe.c ****    else
 769:Drivers/SOES/Src/esc_eoe.c ****    {
 770:Drivers/SOES/Src/esc_eoe.c ****       uint16_t offset = (EOE_HDR_FRAME_OFFSET_GET(frameinfo2) << 5);
 771:Drivers/SOES/Src/esc_eoe.c ****       /* Validate received fragment */
 772:Drivers/SOES/Src/esc_eoe.c ****       if(EOEvar.rxframeno != EOE_HDR_FRAME_NO_GET(frameinfo2))
 773:Drivers/SOES/Src/esc_eoe.c ****       {
 774:Drivers/SOES/Src/esc_eoe.c ****          DPRINT("Unexpected frame number %d, expected: %d\n",
 775:Drivers/SOES/Src/esc_eoe.c ****                EOE_HDR_FRAME_NO_GET(frameinfo2), EOEvar.rxframeno);
 776:Drivers/SOES/Src/esc_eoe.c ****          EOE_init_rx ();
 777:Drivers/SOES/Src/esc_eoe.c ****          return;
 778:Drivers/SOES/Src/esc_eoe.c ****       }
 779:Drivers/SOES/Src/esc_eoe.c ****       else if(EOEvar.rxframeoffset != offset)
 780:Drivers/SOES/Src/esc_eoe.c ****       {
 781:Drivers/SOES/Src/esc_eoe.c ****          DPRINT("Unexpected frame offset %d, expected: %d\n",
 782:Drivers/SOES/Src/esc_eoe.c ****                offset, EOEvar.rxframeoffset);
 783:Drivers/SOES/Src/esc_eoe.c ****          EOE_init_rx ();
 784:Drivers/SOES/Src/esc_eoe.c ****          return;
 785:Drivers/SOES/Src/esc_eoe.c ****       }
 786:Drivers/SOES/Src/esc_eoe.c ****    }
 787:Drivers/SOES/Src/esc_eoe.c **** 
 788:Drivers/SOES/Src/esc_eoe.c ****    /* Check so allocated buffer is sufficient */
 789:Drivers/SOES/Src/esc_eoe.c ****    if ((EOEvar.rxframeoffset + eoedatasize) <= EOEvar.rxframesize)
 790:Drivers/SOES/Src/esc_eoe.c ****    {
 791:Drivers/SOES/Src/esc_eoe.c ****       memcpy((uint8_t *)(EOEvar.rxebuf.payload + EOEvar.rxframeoffset),
 792:Drivers/SOES/Src/esc_eoe.c ****             eoembx->data,
 793:Drivers/SOES/Src/esc_eoe.c ****             eoedatasize);
 794:Drivers/SOES/Src/esc_eoe.c ****       EOEvar.rxframeoffset += eoedatasize;
 795:Drivers/SOES/Src/esc_eoe.c ****       EOEvar.rxfragmentno++;
 796:Drivers/SOES/Src/esc_eoe.c ****    }
 797:Drivers/SOES/Src/esc_eoe.c ****    else
 798:Drivers/SOES/Src/esc_eoe.c ****    {
 799:Drivers/SOES/Src/esc_eoe.c ****       DPRINT("Size of data exceed available buffer size\n");
 800:Drivers/SOES/Src/esc_eoe.c ****       EOE_init_rx ();
 801:Drivers/SOES/Src/esc_eoe.c ****       return;
 802:Drivers/SOES/Src/esc_eoe.c ****    }
 803:Drivers/SOES/Src/esc_eoe.c **** 
 804:Drivers/SOES/Src/esc_eoe.c ****    if(EOE_HDR_LAST_FRAGMENT_GET(frameinfo1))
 805:Drivers/SOES/Src/esc_eoe.c ****    {
 806:Drivers/SOES/Src/esc_eoe.c ****       /* Remove time stamp, TODO support for time stamp? */
 807:Drivers/SOES/Src/esc_eoe.c ****       if(EOE_HDR_TIME_APPEND_GET(frameinfo1))
 808:Drivers/SOES/Src/esc_eoe.c ****       {
 809:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.rxframeoffset -= 4;
 810:Drivers/SOES/Src/esc_eoe.c ****       }
 811:Drivers/SOES/Src/esc_eoe.c ****       EOEvar.rxebuf.len =  EOEvar.rxframeoffset;
 812:Drivers/SOES/Src/esc_eoe.c ****       eoe_cfg->handle_recv_buffer(EOE_HDR_FRAME_PORT_GET(frameinfo1),
 813:Drivers/SOES/Src/esc_eoe.c ****             &EOEvar.rxebuf);
ARM GAS  /tmp/ccUj1Zdj.s 			page 17


 814:Drivers/SOES/Src/esc_eoe.c ****       /* Pass ownership of buf to receive function */
 815:Drivers/SOES/Src/esc_eoe.c ****       EOEvar.rxebuf.payload = NULL;
 816:Drivers/SOES/Src/esc_eoe.c ****       EOE_init_rx ();
 817:Drivers/SOES/Src/esc_eoe.c ****    }
 818:Drivers/SOES/Src/esc_eoe.c **** }
 819:Drivers/SOES/Src/esc_eoe.c **** 
 820:Drivers/SOES/Src/esc_eoe.c **** /** EoE send fragment handler.
 821:Drivers/SOES/Src/esc_eoe.c ****  */
 822:Drivers/SOES/Src/esc_eoe.c **** static void EOE_send_fragment ()
 823:Drivers/SOES/Src/esc_eoe.c **** {
 824:Drivers/SOES/Src/esc_eoe.c ****    _EOE *eoembx;
 825:Drivers/SOES/Src/esc_eoe.c ****    uint8_t mbxhandle;
 826:Drivers/SOES/Src/esc_eoe.c ****    int len;
 827:Drivers/SOES/Src/esc_eoe.c ****    int len_to_send;
 828:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo1;
 829:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo2;
 830:Drivers/SOES/Src/esc_eoe.c ****    static uint8_t frameno = 0;
 831:Drivers/SOES/Src/esc_eoe.c **** 
 832:Drivers/SOES/Src/esc_eoe.c ****    /* Do we have a current transfer on-going */
 833:Drivers/SOES/Src/esc_eoe.c ****    if(EOEvar.txebuf.payload == NULL)
 834:Drivers/SOES/Src/esc_eoe.c ****    {
 835:Drivers/SOES/Src/esc_eoe.c ****       /* Fetch a buffer if available */
 836:Drivers/SOES/Src/esc_eoe.c ****       len = eoe_cfg->fetch_send_buffer(0, &EOEvar.txebuf);
 837:Drivers/SOES/Src/esc_eoe.c ****       if(len > 0)
 838:Drivers/SOES/Src/esc_eoe.c ****       {
 839:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.txframesize = len;
 840:Drivers/SOES/Src/esc_eoe.c ****       }
 841:Drivers/SOES/Src/esc_eoe.c ****       else
 842:Drivers/SOES/Src/esc_eoe.c ****       {
 843:Drivers/SOES/Src/esc_eoe.c ****          return;
 844:Drivers/SOES/Src/esc_eoe.c ****       }
 845:Drivers/SOES/Src/esc_eoe.c ****    }
 846:Drivers/SOES/Src/esc_eoe.c **** 
 847:Drivers/SOES/Src/esc_eoe.c ****    /* Process the frame if we can get a free mailbox */
 848:Drivers/SOES/Src/esc_eoe.c ****    mbxhandle = ESC_claimbuffer ();
 849:Drivers/SOES/Src/esc_eoe.c ****    if (mbxhandle)
 850:Drivers/SOES/Src/esc_eoe.c ****    {
 851:Drivers/SOES/Src/esc_eoe.c ****       len_to_send = EOEvar.txframesize - EOEvar.txframeoffset;
 852:Drivers/SOES/Src/esc_eoe.c ****       if((len_to_send + ESC_EOEHSIZE + ESC_MBXHSIZE) > ESC_MBXSIZE)
 853:Drivers/SOES/Src/esc_eoe.c ****       {
 854:Drivers/SOES/Src/esc_eoe.c ****          /* Adjust to len in whole 32 octet blocks to fit specification*/
 855:Drivers/SOES/Src/esc_eoe.c ****          len_to_send =
 856:Drivers/SOES/Src/esc_eoe.c ****                (((ESC_MBXSIZE - ESC_EOEHSIZE - ESC_MBXHSIZE) >> 5) << 5);
 857:Drivers/SOES/Src/esc_eoe.c ****       }
 858:Drivers/SOES/Src/esc_eoe.c **** 
 859:Drivers/SOES/Src/esc_eoe.c ****       /* TODO: port handling? */
 860:Drivers/SOES/Src/esc_eoe.c ****       if(len_to_send == (EOEvar.txframesize - EOEvar.txframeoffset))
 861:Drivers/SOES/Src/esc_eoe.c ****       {
 862:Drivers/SOES/Src/esc_eoe.c ****          frameinfo1 = EOE_HDR_LAST_FRAGMENT_SET(1);
 863:Drivers/SOES/Src/esc_eoe.c ****       }
 864:Drivers/SOES/Src/esc_eoe.c ****       else
 865:Drivers/SOES/Src/esc_eoe.c ****       {
 866:Drivers/SOES/Src/esc_eoe.c ****          frameinfo1 = 0;
 867:Drivers/SOES/Src/esc_eoe.c ****       }
 868:Drivers/SOES/Src/esc_eoe.c **** 
 869:Drivers/SOES/Src/esc_eoe.c ****       /* Set fragment number */
 870:Drivers/SOES/Src/esc_eoe.c ****       frameinfo2 = EOE_HDR_FRAG_NO_SET(EOEvar.txfragmentno);
ARM GAS  /tmp/ccUj1Zdj.s 			page 18


 871:Drivers/SOES/Src/esc_eoe.c **** 
 872:Drivers/SOES/Src/esc_eoe.c ****       /* Set complete size for fragment 0 or offset for in frame fragments */
 873:Drivers/SOES/Src/esc_eoe.c ****       if(EOEvar.txfragmentno > 0)
 874:Drivers/SOES/Src/esc_eoe.c ****       {
 875:Drivers/SOES/Src/esc_eoe.c ****          frameinfo2 |= (EOE_HDR_FRAME_OFFSET_SET((EOEvar.txframeoffset >> 5)));
 876:Drivers/SOES/Src/esc_eoe.c ****       }
 877:Drivers/SOES/Src/esc_eoe.c ****       else
 878:Drivers/SOES/Src/esc_eoe.c ****       {
 879:Drivers/SOES/Src/esc_eoe.c ****          frameinfo2 |=
 880:Drivers/SOES/Src/esc_eoe.c ****                (EOE_HDR_FRAME_OFFSET_SET(((EOEvar.txframesize + 31) >> 5)));
 881:Drivers/SOES/Src/esc_eoe.c ****          frameno++;
 882:Drivers/SOES/Src/esc_eoe.c ****       }
 883:Drivers/SOES/Src/esc_eoe.c **** 
 884:Drivers/SOES/Src/esc_eoe.c ****       /* Set frame number */
 885:Drivers/SOES/Src/esc_eoe.c ****       frameinfo2 = frameinfo2 | EOE_HDR_FRAME_NO_SET(frameno);
 886:Drivers/SOES/Src/esc_eoe.c **** 
 887:Drivers/SOES/Src/esc_eoe.c ****       eoembx = (_EOE *) &MBX[mbxhandle * ESC_MBXSIZE];
 888:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (len_to_send + ESC_EOEHSIZE);
 889:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 890:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 891:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.frameinfo2 = htoes(frameinfo2);
 892:Drivers/SOES/Src/esc_eoe.c **** 
 893:Drivers/SOES/Src/esc_eoe.c ****       /* Copy data to mailbox */
 894:Drivers/SOES/Src/esc_eoe.c ****       memcpy(eoembx->data,
 895:Drivers/SOES/Src/esc_eoe.c ****             &EOEvar.txebuf.payload[EOEvar.txframeoffset],
 896:Drivers/SOES/Src/esc_eoe.c ****             len_to_send);
 897:Drivers/SOES/Src/esc_eoe.c ****       MBXcontrol[mbxhandle].state = MBXstate_outreq;
 898:Drivers/SOES/Src/esc_eoe.c **** 
 899:Drivers/SOES/Src/esc_eoe.c ****       /* Did we complete the frame? */
 900:Drivers/SOES/Src/esc_eoe.c ****       if(len_to_send == (EOEvar.txframesize - EOEvar.txframeoffset))
 901:Drivers/SOES/Src/esc_eoe.c ****       {
 902:Drivers/SOES/Src/esc_eoe.c ****          EOE_init_tx ();
 903:Drivers/SOES/Src/esc_eoe.c ****       }
 904:Drivers/SOES/Src/esc_eoe.c ****       else
 905:Drivers/SOES/Src/esc_eoe.c ****       {
 906:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.txframeoffset += len_to_send;
 907:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.txfragmentno += 1;
 908:Drivers/SOES/Src/esc_eoe.c ****       }
 909:Drivers/SOES/Src/esc_eoe.c ****       if(eoe_cfg->fragment_sent_event != NULL)
 910:Drivers/SOES/Src/esc_eoe.c ****       {
 911:Drivers/SOES/Src/esc_eoe.c ****          eoe_cfg->fragment_sent_event();
 912:Drivers/SOES/Src/esc_eoe.c ****       }
 913:Drivers/SOES/Src/esc_eoe.c ****    }
 914:Drivers/SOES/Src/esc_eoe.c **** }
 915:Drivers/SOES/Src/esc_eoe.c **** 
 916:Drivers/SOES/Src/esc_eoe.c **** /** Initialize by clearing all current status variables and fetch new buffer.
 917:Drivers/SOES/Src/esc_eoe.c ****  */
 918:Drivers/SOES/Src/esc_eoe.c **** static void EOE_init_rx ()
 919:Drivers/SOES/Src/esc_eoe.c **** {
 105              		.loc 1 919 1 is_stmt 1 view -0
 106              		.cfi_startproc
 107              		@ args = 0, pretend = 0, frame = 0
 108              		@ frame_needed = 0, uses_anonymous_args = 0
 109 0000 08B5     		push	{r3, lr}
 110              		.cfi_def_cfa_offset 8
 111              		.cfi_offset 3, -8
 112              		.cfi_offset 14, -4
ARM GAS  /tmp/ccUj1Zdj.s 			page 19


 920:Drivers/SOES/Src/esc_eoe.c ****    /* Reset RX transfer status variables */
 921:Drivers/SOES/Src/esc_eoe.c ****    EOEvar.rxfragmentno = 0;
 113              		.loc 1 921 4 view .LVU19
 114              		.loc 1 921 24 is_stmt 0 view .LVU20
 115 0002 084B     		ldr	r3, .L7
 116 0004 0022     		movs	r2, #0
 117 0006 1A76     		strb	r2, [r3, #24]
 922:Drivers/SOES/Src/esc_eoe.c ****    EOEvar.rxframesize = 0;
 118              		.loc 1 922 4 is_stmt 1 view .LVU21
 119              		.loc 1 922 23 is_stmt 0 view .LVU22
 120 0008 5A83     		strh	r2, [r3, #26]	@ movhi
 923:Drivers/SOES/Src/esc_eoe.c ****    EOEvar.rxframeoffset = 0;
 121              		.loc 1 923 4 is_stmt 1 view .LVU23
 122              		.loc 1 923 25 is_stmt 0 view .LVU24
 123 000a 9A83     		strh	r2, [r3, #28]	@ movhi
 924:Drivers/SOES/Src/esc_eoe.c ****    EOEvar.rxframeno = 0;
 124              		.loc 1 924 4 is_stmt 1 view .LVU25
 125              		.loc 1 924 21 is_stmt 0 view .LVU26
 126 000c DA83     		strh	r2, [r3, #30]	@ movhi
 925:Drivers/SOES/Src/esc_eoe.c **** 
 926:Drivers/SOES/Src/esc_eoe.c ****    /* Fetch buffer */
 927:Drivers/SOES/Src/esc_eoe.c ****    if(EOEvar.rxebuf.payload == NULL)
 127              		.loc 1 927 4 is_stmt 1 view .LVU27
 128              		.loc 1 927 20 is_stmt 0 view .LVU28
 129 000e 5B68     		ldr	r3, [r3, #4]
 130              		.loc 1 927 6 view .LVU29
 131 0010 03B1     		cbz	r3, .L6
 132              	.L3:
 928:Drivers/SOES/Src/esc_eoe.c ****    {
 929:Drivers/SOES/Src/esc_eoe.c ****       if(eoe_cfg->get_buffer != NULL)
 930:Drivers/SOES/Src/esc_eoe.c ****       {
 931:Drivers/SOES/Src/esc_eoe.c ****          /* TODO: verify size VS buffer size */
 932:Drivers/SOES/Src/esc_eoe.c ****          eoe_cfg->get_buffer(&EOEvar.rxebuf);
 933:Drivers/SOES/Src/esc_eoe.c ****       }
 934:Drivers/SOES/Src/esc_eoe.c ****    }
 935:Drivers/SOES/Src/esc_eoe.c **** }
 133              		.loc 1 935 1 view .LVU30
 134 0012 08BD     		pop	{r3, pc}
 135              	.L6:
 929:Drivers/SOES/Src/esc_eoe.c ****       {
 136              		.loc 1 929 7 is_stmt 1 view .LVU31
 929:Drivers/SOES/Src/esc_eoe.c ****       {
 137              		.loc 1 929 17 is_stmt 0 view .LVU32
 138 0014 044B     		ldr	r3, .L7+4
 139 0016 1B68     		ldr	r3, [r3]
 140 0018 1B68     		ldr	r3, [r3]
 929:Drivers/SOES/Src/esc_eoe.c ****       {
 141              		.loc 1 929 9 view .LVU33
 142 001a 002B     		cmp	r3, #0
 143 001c F9D0     		beq	.L3
 932:Drivers/SOES/Src/esc_eoe.c ****       }
 144              		.loc 1 932 10 is_stmt 1 view .LVU34
 145 001e 0148     		ldr	r0, .L7
 146 0020 9847     		blx	r3
 147              	.LVL3:
 148              		.loc 1 935 1 is_stmt 0 view .LVU35
 149 0022 F6E7     		b	.L3
ARM GAS  /tmp/ccUj1Zdj.s 			page 20


 150              	.L8:
 151              		.align	2
 152              	.L7:
 153 0024 00000000 		.word	EOEvar
 154 0028 00000000 		.word	eoe_cfg
 155              		.cfi_endproc
 156              	.LFE19:
 158              		.section	.text.EOE_init_tx,"ax",%progbits
 159              		.align	1
 160              		.syntax unified
 161              		.thumb
 162              		.thumb_func
 164              	EOE_init_tx:
 165              	.LFB20:
 936:Drivers/SOES/Src/esc_eoe.c **** 
 937:Drivers/SOES/Src/esc_eoe.c **** /** Initialize by clearing all current status variables and release old buffer.
 938:Drivers/SOES/Src/esc_eoe.c ****  */
 939:Drivers/SOES/Src/esc_eoe.c **** static void EOE_init_tx ()
 940:Drivers/SOES/Src/esc_eoe.c **** {
 166              		.loc 1 940 1 is_stmt 1 view -0
 167              		.cfi_startproc
 168              		@ args = 0, pretend = 0, frame = 0
 169              		@ frame_needed = 0, uses_anonymous_args = 0
 941:Drivers/SOES/Src/esc_eoe.c ****    /* Reset TX transfer status variables */
 942:Drivers/SOES/Src/esc_eoe.c ****    EOEvar.txfragmentno = 0;
 170              		.loc 1 942 4 view .LVU37
 171              		.loc 1 942 24 is_stmt 0 view .LVU38
 172 0000 0B4B     		ldr	r3, .L15
 173 0002 0022     		movs	r2, #0
 174 0004 83F82020 		strb	r2, [r3, #32]
 943:Drivers/SOES/Src/esc_eoe.c ****    EOEvar.txframesize = 0;
 175              		.loc 1 943 4 is_stmt 1 view .LVU39
 176              		.loc 1 943 23 is_stmt 0 view .LVU40
 177 0008 5A84     		strh	r2, [r3, #34]	@ movhi
 944:Drivers/SOES/Src/esc_eoe.c ****    EOEvar.txframeoffset = 0;
 178              		.loc 1 944 4 is_stmt 1 view .LVU41
 179              		.loc 1 944 25 is_stmt 0 view .LVU42
 180 000a 9A84     		strh	r2, [r3, #36]	@ movhi
 945:Drivers/SOES/Src/esc_eoe.c **** 
 946:Drivers/SOES/Src/esc_eoe.c ****    /* Release what seems as an abandoned buffer */
 947:Drivers/SOES/Src/esc_eoe.c ****    if((EOEvar.txebuf.payload != NULL))
 181              		.loc 1 947 4 is_stmt 1 view .LVU43
 182              		.loc 1 947 21 is_stmt 0 view .LVU44
 183 000c 1B69     		ldr	r3, [r3, #16]
 184              		.loc 1 947 6 view .LVU45
 185 000e 73B1     		cbz	r3, .L12
 948:Drivers/SOES/Src/esc_eoe.c ****    {
 949:Drivers/SOES/Src/esc_eoe.c ****       if(eoe_cfg->free_buffer != NULL)
 186              		.loc 1 949 7 is_stmt 1 view .LVU46
 187              		.loc 1 949 17 is_stmt 0 view .LVU47
 188 0010 084B     		ldr	r3, .L15+4
 189 0012 1B68     		ldr	r3, [r3]
 190 0014 5B68     		ldr	r3, [r3, #4]
 191              		.loc 1 949 9 view .LVU48
 192 0016 53B1     		cbz	r3, .L12
 940:Drivers/SOES/Src/esc_eoe.c ****    /* Reset TX transfer status variables */
 193              		.loc 1 940 1 view .LVU49
ARM GAS  /tmp/ccUj1Zdj.s 			page 21


 194 0018 10B5     		push	{r4, lr}
 195              		.cfi_def_cfa_offset 8
 196              		.cfi_offset 4, -8
 197              		.cfi_offset 14, -4
 950:Drivers/SOES/Src/esc_eoe.c ****       {
 951:Drivers/SOES/Src/esc_eoe.c ****          eoe_cfg->free_buffer(&EOEvar.txebuf);
 198              		.loc 1 951 10 is_stmt 1 view .LVU50
 199 001a 074C     		ldr	r4, .L15+8
 200 001c 2046     		mov	r0, r4
 201 001e 9847     		blx	r3
 202              	.LVL4:
 952:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.txebuf.pbuf = NULL;
 203              		.loc 1 952 10 view .LVU51
 204              		.loc 1 952 29 is_stmt 0 view .LVU52
 205 0020 2046     		mov	r0, r4
 206 0022 0023     		movs	r3, #0
 207 0024 40F80C39 		str	r3, [r0], #-12
 953:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.txebuf.payload = NULL;
 208              		.loc 1 953 10 is_stmt 1 view .LVU53
 209              		.loc 1 953 32 is_stmt 0 view .LVU54
 210 0028 0361     		str	r3, [r0, #16]
 954:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.txebuf.len = 0;
 211              		.loc 1 954 10 is_stmt 1 view .LVU55
 212              		.loc 1 954 28 is_stmt 0 view .LVU56
 213 002a 4361     		str	r3, [r0, #20]
 955:Drivers/SOES/Src/esc_eoe.c ****       }
 956:Drivers/SOES/Src/esc_eoe.c ****    }
 957:Drivers/SOES/Src/esc_eoe.c **** }
 214              		.loc 1 957 1 view .LVU57
 215 002c 10BD     		pop	{r4, pc}
 216              	.L12:
 217              		.cfi_def_cfa_offset 0
 218              		.cfi_restore 4
 219              		.cfi_restore 14
 220 002e 7047     		bx	lr
 221              	.L16:
 222              		.align	2
 223              	.L15:
 224 0030 00000000 		.word	EOEvar
 225 0034 00000000 		.word	eoe_cfg
 226 0038 0C000000 		.word	EOEvar+12
 227              		.cfi_endproc
 228              	.LFE20:
 230              		.section	.text.EOE_receive_fragment,"ax",%progbits
 231              		.align	1
 232              		.syntax unified
 233              		.thumb
 234              		.thumb_func
 236              	EOE_receive_fragment:
 237              	.LFB17:
 731:Drivers/SOES/Src/esc_eoe.c ****    _EOE *eoembx;
 238              		.loc 1 731 1 is_stmt 1 view -0
 239              		.cfi_startproc
 240              		@ args = 0, pretend = 0, frame = 0
 241              		@ frame_needed = 0, uses_anonymous_args = 0
 242 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 243              		.cfi_def_cfa_offset 24
ARM GAS  /tmp/ccUj1Zdj.s 			page 22


 244              		.cfi_offset 3, -24
 245              		.cfi_offset 4, -20
 246              		.cfi_offset 5, -16
 247              		.cfi_offset 6, -12
 248              		.cfi_offset 7, -8
 249              		.cfi_offset 14, -4
 732:Drivers/SOES/Src/esc_eoe.c ****    eoembx = (_EOE *) &MBX[0];
 250              		.loc 1 732 4 view .LVU59
 733:Drivers/SOES/Src/esc_eoe.c ****    uint16_t eoedatasize = etohs(eoembx->mbxheader.length) - ESC_EOEHSIZE;
 251              		.loc 1 733 4 view .LVU60
 252              	.LVL5:
 734:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
 253              		.loc 1 734 4 view .LVU61
 734:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
 254              		.loc 1 734 27 is_stmt 0 view .LVU62
 255 0002 334B     		ldr	r3, .L30
 256 0004 1C88     		ldrh	r4, [r3]	@ unaligned
 734:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
 257              		.loc 1 734 13 view .LVU63
 258 0006 043C     		subs	r4, r4, #4
 259 0008 A4B2     		uxth	r4, r4
 260              	.LVL6:
 735:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo2 = etohs(eoembx->eoeheader.frameinfo2);
 261              		.loc 1 735 4 is_stmt 1 view .LVU64
 735:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo2 = etohs(eoembx->eoeheader.frameinfo2);
 262              		.loc 1 735 13 is_stmt 0 view .LVU65
 263 000a DF88     		ldrh	r7, [r3, #6]	@ unaligned
 264              	.LVL7:
 736:Drivers/SOES/Src/esc_eoe.c **** 
 265              		.loc 1 736 4 is_stmt 1 view .LVU66
 736:Drivers/SOES/Src/esc_eoe.c **** 
 266              		.loc 1 736 13 is_stmt 0 view .LVU67
 267 000c 1D89     		ldrh	r5, [r3, #8]	@ unaligned
 268              	.LVL8:
 739:Drivers/SOES/Src/esc_eoe.c ****    {
 269              		.loc 1 739 4 is_stmt 1 view .LVU68
 739:Drivers/SOES/Src/esc_eoe.c ****    {
 270              		.loc 1 739 13 is_stmt 0 view .LVU69
 271 000e 314B     		ldr	r3, .L30+4
 272              	.LVL9:
 739:Drivers/SOES/Src/esc_eoe.c ****    {
 273              		.loc 1 739 13 view .LVU70
 274 0010 1B7E     		ldrb	r3, [r3, #24]	@ zero_extendqisi2
 275 0012 05F03F06 		and	r6, r5, #63
 739:Drivers/SOES/Src/esc_eoe.c ****    {
 276              		.loc 1 739 6 view .LVU71
 277 0016 B342     		cmp	r3, r6
 278 0018 03D0     		beq	.L18
 742:Drivers/SOES/Src/esc_eoe.c ****       /* Clean up existing saved data */
 279              		.loc 1 742 66 is_stmt 1 view .LVU72
 744:Drivers/SOES/Src/esc_eoe.c ****       {
 280              		.loc 1 744 7 view .LVU73
 744:Drivers/SOES/Src/esc_eoe.c ****       {
 281              		.loc 1 744 9 is_stmt 0 view .LVU74
 282 001a 002B     		cmp	r3, #0
 283 001c 3FD1     		bne	.L28
 284              	.LVL10:
ARM GAS  /tmp/ccUj1Zdj.s 			page 23


 285              	.L19:
 749:Drivers/SOES/Src/esc_eoe.c ****       {
 286              		.loc 1 749 7 is_stmt 1 view .LVU75
 749:Drivers/SOES/Src/esc_eoe.c ****       {
 287              		.loc 1 749 9 is_stmt 0 view .LVU76
 288 001e 002E     		cmp	r6, #0
 289 0020 55D1     		bne	.L17
 290              	.L18:
 756:Drivers/SOES/Src/esc_eoe.c ****    {
 291              		.loc 1 756 4 is_stmt 1 view .LVU77
 756:Drivers/SOES/Src/esc_eoe.c ****    {
 292              		.loc 1 756 13 is_stmt 0 view .LVU78
 293 0022 2C4B     		ldr	r3, .L30+4
 294 0024 1B7E     		ldrb	r3, [r3, #24]	@ zero_extendqisi2
 756:Drivers/SOES/Src/esc_eoe.c ****    {
 295              		.loc 1 756 6 view .LVU79
 296 0026 002B     		cmp	r3, #0
 297 0028 3CD1     		bne	.L21
 758:Drivers/SOES/Src/esc_eoe.c **** 
 298              		.loc 1 758 7 is_stmt 1 view .LVU80
 758:Drivers/SOES/Src/esc_eoe.c **** 
 299              		.loc 1 758 66 is_stmt 0 view .LVU81
 300 002a AB09     		lsrs	r3, r5, #6
 301 002c 5B01     		lsls	r3, r3, #5
 302 002e 03F4FC63 		and	r3, r3, #2016
 758:Drivers/SOES/Src/esc_eoe.c **** 
 303              		.loc 1 758 26 view .LVU82
 304 0032 284A     		ldr	r2, .L30+4
 305 0034 5383     		strh	r3, [r2, #26]	@ movhi
 760:Drivers/SOES/Src/esc_eoe.c ****       {
 306              		.loc 1 760 7 is_stmt 1 view .LVU83
 760:Drivers/SOES/Src/esc_eoe.c ****       {
 307              		.loc 1 760 23 is_stmt 0 view .LVU84
 308 0036 5268     		ldr	r2, [r2, #4]
 760:Drivers/SOES/Src/esc_eoe.c ****       {
 309              		.loc 1 760 9 view .LVU85
 310 0038 2AB1     		cbz	r2, .L22
 762:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.rxframeoffset = 0;
 311              		.loc 1 762 10 is_stmt 1 view .LVU86
 762:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.rxframeoffset = 0;
 312              		.loc 1 762 28 is_stmt 0 view .LVU87
 313 003a 264A     		ldr	r2, .L30+4
 314 003c 9360     		str	r3, [r2, #8]
 763:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.rxframeno = EOE_HDR_FRAME_NO_GET(frameinfo2);
 315              		.loc 1 763 10 is_stmt 1 view .LVU88
 763:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.rxframeno = EOE_HDR_FRAME_NO_GET(frameinfo2);
 316              		.loc 1 763 31 is_stmt 0 view .LVU89
 317 003e 0023     		movs	r3, #0
 318 0040 9383     		strh	r3, [r2, #28]	@ movhi
 764:Drivers/SOES/Src/esc_eoe.c ****       }
 319              		.loc 1 764 10 is_stmt 1 view .LVU90
 764:Drivers/SOES/Src/esc_eoe.c ****       }
 320              		.loc 1 764 27 is_stmt 0 view .LVU91
 321 0042 2D0B     		lsrs	r5, r5, #12
 322 0044 D583     		strh	r5, [r2, #30]	@ movhi
 323              	.L22:
 789:Drivers/SOES/Src/esc_eoe.c ****    {
ARM GAS  /tmp/ccUj1Zdj.s 			page 24


 324              		.loc 1 789 4 is_stmt 1 view .LVU92
 789:Drivers/SOES/Src/esc_eoe.c ****    {
 325              		.loc 1 789 15 is_stmt 0 view .LVU93
 326 0046 234B     		ldr	r3, .L30+4
 327 0048 988B     		ldrh	r0, [r3, #28]
 789:Drivers/SOES/Src/esc_eoe.c ****    {
 328              		.loc 1 789 30 view .LVU94
 329 004a 2218     		adds	r2, r4, r0
 789:Drivers/SOES/Src/esc_eoe.c ****    {
 330              		.loc 1 789 54 view .LVU95
 331 004c 5B8B     		ldrh	r3, [r3, #26]
 789:Drivers/SOES/Src/esc_eoe.c ****    {
 332              		.loc 1 789 7 view .LVU96
 333 004e 9A42     		cmp	r2, r3
 334 0050 3BDC     		bgt	.L24
 791:Drivers/SOES/Src/esc_eoe.c ****             eoembx->data,
 335              		.loc 1 791 7 is_stmt 1 view .LVU97
 791:Drivers/SOES/Src/esc_eoe.c ****             eoembx->data,
 336              		.loc 1 791 39 is_stmt 0 view .LVU98
 337 0052 204D     		ldr	r5, .L30+4
 338 0054 6B68     		ldr	r3, [r5, #4]
 791:Drivers/SOES/Src/esc_eoe.c ****             eoembx->data,
 339              		.loc 1 791 7 view .LVU99
 340 0056 2246     		mov	r2, r4
 341 0058 1F49     		ldr	r1, .L30+8
 342 005a 1844     		add	r0, r0, r3
 343 005c FFF7FEFF 		bl	memcpy
 344              	.LVL11:
 794:Drivers/SOES/Src/esc_eoe.c ****       EOEvar.rxfragmentno++;
 345              		.loc 1 794 7 is_stmt 1 view .LVU100
 794:Drivers/SOES/Src/esc_eoe.c ****       EOEvar.rxfragmentno++;
 346              		.loc 1 794 13 is_stmt 0 view .LVU101
 347 0060 AB8B     		ldrh	r3, [r5, #28]
 794:Drivers/SOES/Src/esc_eoe.c ****       EOEvar.rxfragmentno++;
 348              		.loc 1 794 28 view .LVU102
 349 0062 2344     		add	r3, r3, r4
 350 0064 9BB2     		uxth	r3, r3
 351 0066 AB83     		strh	r3, [r5, #28]	@ movhi
 795:Drivers/SOES/Src/esc_eoe.c ****    }
 352              		.loc 1 795 7 is_stmt 1 view .LVU103
 795:Drivers/SOES/Src/esc_eoe.c ****    }
 353              		.loc 1 795 13 is_stmt 0 view .LVU104
 354 0068 2A7E     		ldrb	r2, [r5, #24]	@ zero_extendqisi2
 795:Drivers/SOES/Src/esc_eoe.c ****    }
 355              		.loc 1 795 26 view .LVU105
 356 006a 0132     		adds	r2, r2, #1
 357 006c 2A76     		strb	r2, [r5, #24]
 804:Drivers/SOES/Src/esc_eoe.c ****    {
 358              		.loc 1 804 4 is_stmt 1 view .LVU106
 804:Drivers/SOES/Src/esc_eoe.c ****    {
 359              		.loc 1 804 6 is_stmt 0 view .LVU107
 360 006e 17F4807F 		tst	r7, #256
 361 0072 2CD0     		beq	.L17
 807:Drivers/SOES/Src/esc_eoe.c ****       {
 362              		.loc 1 807 7 is_stmt 1 view .LVU108
 807:Drivers/SOES/Src/esc_eoe.c ****       {
 363              		.loc 1 807 9 is_stmt 0 view .LVU109
ARM GAS  /tmp/ccUj1Zdj.s 			page 25


 364 0074 17F4007F 		tst	r7, #512
 365 0078 02D0     		beq	.L26
 809:Drivers/SOES/Src/esc_eoe.c ****       }
 366              		.loc 1 809 10 is_stmt 1 view .LVU110
 809:Drivers/SOES/Src/esc_eoe.c ****       }
 367              		.loc 1 809 31 is_stmt 0 view .LVU111
 368 007a 043B     		subs	r3, r3, #4
 369 007c 154A     		ldr	r2, .L30+4
 370 007e 9383     		strh	r3, [r2, #28]	@ movhi
 371              	.L26:
 811:Drivers/SOES/Src/esc_eoe.c ****       eoe_cfg->handle_recv_buffer(EOE_HDR_FRAME_PORT_GET(frameinfo1),
 372              		.loc 1 811 7 is_stmt 1 view .LVU112
 811:Drivers/SOES/Src/esc_eoe.c ****       eoe_cfg->handle_recv_buffer(EOE_HDR_FRAME_PORT_GET(frameinfo1),
 373              		.loc 1 811 34 is_stmt 0 view .LVU113
 374 0080 144C     		ldr	r4, .L30+4
 375              	.LVL12:
 811:Drivers/SOES/Src/esc_eoe.c ****       eoe_cfg->handle_recv_buffer(EOE_HDR_FRAME_PORT_GET(frameinfo1),
 376              		.loc 1 811 34 view .LVU114
 377 0082 A38B     		ldrh	r3, [r4, #28]
 811:Drivers/SOES/Src/esc_eoe.c ****       eoe_cfg->handle_recv_buffer(EOE_HDR_FRAME_PORT_GET(frameinfo1),
 378              		.loc 1 811 25 view .LVU115
 379 0084 A360     		str	r3, [r4, #8]
 812:Drivers/SOES/Src/esc_eoe.c ****             &EOEvar.rxebuf);
 380              		.loc 1 812 7 is_stmt 1 view .LVU116
 812:Drivers/SOES/Src/esc_eoe.c ****             &EOEvar.rxebuf);
 381              		.loc 1 812 14 is_stmt 0 view .LVU117
 382 0086 154B     		ldr	r3, .L30+12
 383 0088 1B68     		ldr	r3, [r3]
 384 008a 1B69     		ldr	r3, [r3, #16]
 812:Drivers/SOES/Src/esc_eoe.c ****             &EOEvar.rxebuf);
 385              		.loc 1 812 7 view .LVU118
 386 008c 2146     		mov	r1, r4
 387 008e C7F30310 		ubfx	r0, r7, #4, #4
 388 0092 9847     		blx	r3
 389              	.LVL13:
 815:Drivers/SOES/Src/esc_eoe.c ****       EOE_init_rx ();
 390              		.loc 1 815 7 is_stmt 1 view .LVU119
 815:Drivers/SOES/Src/esc_eoe.c ****       EOE_init_rx ();
 391              		.loc 1 815 29 is_stmt 0 view .LVU120
 392 0094 0023     		movs	r3, #0
 393 0096 6360     		str	r3, [r4, #4]
 816:Drivers/SOES/Src/esc_eoe.c ****    }
 394              		.loc 1 816 7 is_stmt 1 view .LVU121
 395 0098 FFF7FEFF 		bl	EOE_init_rx
 396              	.LVL14:
 397 009c 17E0     		b	.L17
 398              	.LVL15:
 399              	.L28:
 746:Drivers/SOES/Src/esc_eoe.c ****       }
 400              		.loc 1 746 10 view .LVU122
 401 009e FFF7FEFF 		bl	EOE_init_rx
 402              	.LVL16:
 746:Drivers/SOES/Src/esc_eoe.c ****       }
 403              		.loc 1 746 10 is_stmt 0 view .LVU123
 404 00a2 BCE7     		b	.L19
 405              	.L21:
 406              	.LBB2:
ARM GAS  /tmp/ccUj1Zdj.s 			page 26


 770:Drivers/SOES/Src/esc_eoe.c ****       /* Validate received fragment */
 407              		.loc 1 770 7 is_stmt 1 view .LVU124
 770:Drivers/SOES/Src/esc_eoe.c ****       /* Validate received fragment */
 408              		.loc 1 770 63 is_stmt 0 view .LVU125
 409 00a4 AB09     		lsrs	r3, r5, #6
 410 00a6 5B01     		lsls	r3, r3, #5
 770:Drivers/SOES/Src/esc_eoe.c ****       /* Validate received fragment */
 411              		.loc 1 770 16 view .LVU126
 412 00a8 03F4FC63 		and	r3, r3, #2016
 413              	.LVL17:
 772:Drivers/SOES/Src/esc_eoe.c ****       {
 414              		.loc 1 772 7 is_stmt 1 view .LVU127
 772:Drivers/SOES/Src/esc_eoe.c ****       {
 415              		.loc 1 772 16 is_stmt 0 view .LVU128
 416 00ac 094A     		ldr	r2, .L30+4
 417 00ae D28B     		ldrh	r2, [r2, #30]
 772:Drivers/SOES/Src/esc_eoe.c ****       {
 418              		.loc 1 772 9 view .LVU129
 419 00b0 B2EB153F 		cmp	r2, r5, lsr #12
 420 00b4 06D1     		bne	.L29
 779:Drivers/SOES/Src/esc_eoe.c ****       {
 421              		.loc 1 779 12 is_stmt 1 view .LVU130
 779:Drivers/SOES/Src/esc_eoe.c ****       {
 422              		.loc 1 779 21 is_stmt 0 view .LVU131
 423 00b6 074A     		ldr	r2, .L30+4
 424 00b8 928B     		ldrh	r2, [r2, #28]
 779:Drivers/SOES/Src/esc_eoe.c ****       {
 425              		.loc 1 779 14 view .LVU132
 426 00ba 9A42     		cmp	r2, r3
 427 00bc C3D0     		beq	.L22
 782:Drivers/SOES/Src/esc_eoe.c ****          EOE_init_rx ();
 428              		.loc 1 782 45 is_stmt 1 view .LVU133
 783:Drivers/SOES/Src/esc_eoe.c ****          return;
 429              		.loc 1 783 10 view .LVU134
 430 00be FFF7FEFF 		bl	EOE_init_rx
 431              	.LVL18:
 784:Drivers/SOES/Src/esc_eoe.c ****       }
 432              		.loc 1 784 10 view .LVU135
 433 00c2 04E0     		b	.L17
 434              	.LVL19:
 435              	.L29:
 775:Drivers/SOES/Src/esc_eoe.c ****          EOE_init_rx ();
 436              		.loc 1 775 67 view .LVU136
 776:Drivers/SOES/Src/esc_eoe.c ****          return;
 437              		.loc 1 776 10 view .LVU137
 438 00c4 FFF7FEFF 		bl	EOE_init_rx
 439              	.LVL20:
 777:Drivers/SOES/Src/esc_eoe.c ****       }
 440              		.loc 1 777 10 view .LVU138
 441 00c8 01E0     		b	.L17
 442              	.LVL21:
 443              	.L24:
 777:Drivers/SOES/Src/esc_eoe.c ****       }
 444              		.loc 1 777 10 is_stmt 0 view .LVU139
 445              	.LBE2:
 799:Drivers/SOES/Src/esc_eoe.c ****       EOE_init_rx ();
 446              		.loc 1 799 60 is_stmt 1 view .LVU140
ARM GAS  /tmp/ccUj1Zdj.s 			page 27


 800:Drivers/SOES/Src/esc_eoe.c ****       return;
 447              		.loc 1 800 7 view .LVU141
 448 00ca FFF7FEFF 		bl	EOE_init_rx
 449              	.LVL22:
 801:Drivers/SOES/Src/esc_eoe.c ****    }
 450              		.loc 1 801 7 view .LVU142
 451              	.L17:
 818:Drivers/SOES/Src/esc_eoe.c **** 
 452              		.loc 1 818 1 is_stmt 0 view .LVU143
 453 00ce F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 454              	.L31:
 455              		.align	2
 456              	.L30:
 457 00d0 00000000 		.word	MBX
 458 00d4 00000000 		.word	EOEvar
 459 00d8 0A000000 		.word	MBX+10
 460 00dc 00000000 		.word	eoe_cfg
 461              		.cfi_endproc
 462              	.LFE17:
 464              		.section	.text.EOE_no_data_response,"ax",%progbits
 465              		.align	1
 466              		.syntax unified
 467              		.thumb
 468              		.thumb_func
 470              	EOE_no_data_response:
 471              	.LVL23:
 472              	.LFB14:
 482:Drivers/SOES/Src/esc_eoe.c ****    _EOE *eoembx;
 473              		.loc 1 482 1 is_stmt 1 view -0
 474              		.cfi_startproc
 475              		@ args = 0, pretend = 0, frame = 0
 476              		@ frame_needed = 0, uses_anonymous_args = 0
 482:Drivers/SOES/Src/esc_eoe.c ****    _EOE *eoembx;
 477              		.loc 1 482 1 is_stmt 0 view .LVU145
 478 0000 38B5     		push	{r3, r4, r5, lr}
 479              		.cfi_def_cfa_offset 16
 480              		.cfi_offset 3, -16
 481              		.cfi_offset 4, -12
 482              		.cfi_offset 5, -8
 483              		.cfi_offset 14, -4
 484 0002 0546     		mov	r5, r0
 485 0004 0C46     		mov	r4, r1
 483:Drivers/SOES/Src/esc_eoe.c ****    uint8_t mbxhandle;
 486              		.loc 1 483 4 is_stmt 1 view .LVU146
 484:Drivers/SOES/Src/esc_eoe.c **** 
 487              		.loc 1 484 4 view .LVU147
 487:Drivers/SOES/Src/esc_eoe.c ****    if (mbxhandle)
 488              		.loc 1 487 4 view .LVU148
 487:Drivers/SOES/Src/esc_eoe.c ****    if (mbxhandle)
 489              		.loc 1 487 16 is_stmt 0 view .LVU149
 490 0006 FFF7FEFF 		bl	ESC_claimbuffer
 491              	.LVL24:
 488:Drivers/SOES/Src/esc_eoe.c ****    {
 492              		.loc 1 488 4 is_stmt 1 view .LVU150
 488:Drivers/SOES/Src/esc_eoe.c ****    {
 493              		.loc 1 488 7 is_stmt 0 view .LVU151
 494 000a A8B1     		cbz	r0, .L32
ARM GAS  /tmp/ccUj1Zdj.s 			page 28


 495 000c 8446     		mov	ip, r0
 490:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE);
 496              		.loc 1 490 7 is_stmt 1 view .LVU152
 490:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE);
 497              		.loc 1 490 42 is_stmt 0 view .LVU153
 498 000e 0B4B     		ldr	r3, .L35
 499 0010 9A6E     		ldr	r2, [r3, #104]
 490:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE);
 500              		.loc 1 490 40 view .LVU154
 501 0012 02FB00F2 		mul	r2, r2, r0
 490:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE);
 502              		.loc 1 490 14 view .LVU155
 503 0016 0A49     		ldr	r1, .L35+4
 504 0018 5318     		adds	r3, r2, r1
 505              	.LVL25:
 491:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 506              		.loc 1 491 7 is_stmt 1 view .LVU156
 491:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 507              		.loc 1 491 32 is_stmt 0 view .LVU157
 508 001a 0420     		movs	r0, #4
 509              	.LVL26:
 491:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 510              		.loc 1 491 32 view .LVU158
 511 001c 8854     		strb	r0, [r1, r2]
 512 001e 0022     		movs	r2, #0
 513 0020 5A70     		strb	r2, [r3, #1]
 492:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 514              		.loc 1 492 7 is_stmt 1 view .LVU159
 492:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 515              		.loc 1 492 33 is_stmt 0 view .LVU160
 516 0022 5A79     		ldrb	r2, [r3, #5]	@ zero_extendqisi2
 517 0024 0221     		movs	r1, #2
 518 0026 61F30302 		bfi	r2, r1, #0, #4
 519 002a 5A71     		strb	r2, [r3, #5]
 493:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.result = htoes(result);
 520              		.loc 1 493 7 is_stmt 1 view .LVU161
 493:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.result = htoes(result);
 521              		.loc 1 493 36 is_stmt 0 view .LVU162
 522 002c DD80     		strh	r5, [r3, #6]	@ unaligned
 494:Drivers/SOES/Src/esc_eoe.c ****       MBXcontrol[mbxhandle].state = MBXstate_outreq;
 523              		.loc 1 494 7 is_stmt 1 view .LVU163
 494:Drivers/SOES/Src/esc_eoe.c ****       MBXcontrol[mbxhandle].state = MBXstate_outreq;
 524              		.loc 1 494 32 is_stmt 0 view .LVU164
 525 002e 1C81     		strh	r4, [r3, #8]	@ unaligned
 495:Drivers/SOES/Src/esc_eoe.c ****    }
 526              		.loc 1 495 7 is_stmt 1 view .LVU165
 495:Drivers/SOES/Src/esc_eoe.c ****    }
 527              		.loc 1 495 35 is_stmt 0 view .LVU166
 528 0030 044B     		ldr	r3, .L35+8
 529              	.LVL27:
 495:Drivers/SOES/Src/esc_eoe.c ****    }
 530              		.loc 1 495 35 view .LVU167
 531 0032 0322     		movs	r2, #3
 532 0034 03F80C20 		strb	r2, [r3, ip]
 533              	.LVL28:
 534              	.L32:
 497:Drivers/SOES/Src/esc_eoe.c **** 
ARM GAS  /tmp/ccUj1Zdj.s 			page 29


 535              		.loc 1 497 1 view .LVU168
 536 0038 38BD     		pop	{r3, r4, r5, pc}
 537              	.L36:
 538 003a 00BF     		.align	2
 539              	.L35:
 540 003c 00000000 		.word	ESCvar
 541 0040 00000000 		.word	MBX
 542 0044 00000000 		.word	MBXcontrol
 543              		.cfi_endproc
 544              	.LFE14:
 546              		.section	.text.EOE_set_ip,"ax",%progbits
 547              		.align	1
 548              		.syntax unified
 549              		.thumb
 550              		.thumb_func
 552              	EOE_set_ip:
 553              	.LFB16:
 619:Drivers/SOES/Src/esc_eoe.c ****    _EOE *eoembx;
 554              		.loc 1 619 1 is_stmt 1 view -0
 555              		.cfi_startproc
 556              		@ args = 0, pretend = 0, frame = 0
 557              		@ frame_needed = 0, uses_anonymous_args = 0
 558 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 559              		.cfi_def_cfa_offset 32
 560              		.cfi_offset 4, -32
 561              		.cfi_offset 5, -28
 562              		.cfi_offset 6, -24
 563              		.cfi_offset 7, -20
 564              		.cfi_offset 8, -16
 565              		.cfi_offset 9, -12
 566              		.cfi_offset 10, -8
 567              		.cfi_offset 14, -4
 620:Drivers/SOES/Src/esc_eoe.c ****    uint16_t eoedatasize;
 568              		.loc 1 620 4 view .LVU170
 621:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo1;
 569              		.loc 1 621 4 view .LVU171
 622:Drivers/SOES/Src/esc_eoe.c ****    uint8_t port;
 570              		.loc 1 622 4 view .LVU172
 623:Drivers/SOES/Src/esc_eoe.c ****    uint8_t  flags;
 571              		.loc 1 623 4 view .LVU173
 624:Drivers/SOES/Src/esc_eoe.c ****    uint8_t  data_offset;
 572              		.loc 1 624 4 view .LVU174
 625:Drivers/SOES/Src/esc_eoe.c ****    uint16_t result;
 573              		.loc 1 625 4 view .LVU175
 626:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 574              		.loc 1 626 4 view .LVU176
 627:Drivers/SOES/Src/esc_eoe.c **** 
 575              		.loc 1 627 4 view .LVU177
 629:Drivers/SOES/Src/esc_eoe.c ****    eoedatasize = etohs(eoembx->mbxheader.length) - ESC_EOEHSIZE;
 576              		.loc 1 629 4 view .LVU178
 577              	.LVL29:
 630:Drivers/SOES/Src/esc_eoe.c ****    frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
 578              		.loc 1 630 4 view .LVU179
 630:Drivers/SOES/Src/esc_eoe.c ****    frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
 579              		.loc 1 630 18 is_stmt 0 view .LVU180
 580 0004 764B     		ldr	r3, .L60
 581 0006 1F88     		ldrh	r7, [r3]	@ unaligned
ARM GAS  /tmp/ccUj1Zdj.s 			page 30


 582              	.LVL30:
 631:Drivers/SOES/Src/esc_eoe.c ****    port = EOE_HDR_FRAME_PORT_GET(frameinfo1);
 583              		.loc 1 631 4 is_stmt 1 view .LVU181
 631:Drivers/SOES/Src/esc_eoe.c ****    port = EOE_HDR_FRAME_PORT_GET(frameinfo1);
 584              		.loc 1 631 15 is_stmt 0 view .LVU182
 585 0008 DE88     		ldrh	r6, [r3, #6]	@ unaligned
 586              	.LVL31:
 632:Drivers/SOES/Src/esc_eoe.c ****    flags = eoembx->data[0];
 587              		.loc 1 632 4 is_stmt 1 view .LVU183
 632:Drivers/SOES/Src/esc_eoe.c ****    flags = eoembx->data[0];
 588              		.loc 1 632 11 is_stmt 0 view .LVU184
 589 000a C6F30712 		ubfx	r2, r6, #4, #8
 632:Drivers/SOES/Src/esc_eoe.c ****    flags = eoembx->data[0];
 590              		.loc 1 632 9 view .LVU185
 591 000e C6F30316 		ubfx	r6, r6, #4, #4
 592              	.LVL32:
 633:Drivers/SOES/Src/esc_eoe.c ****    data_offset = EOE_PARAM_OFFSET;
 593              		.loc 1 633 4 is_stmt 1 view .LVU186
 633:Drivers/SOES/Src/esc_eoe.c ****    data_offset = EOE_PARAM_OFFSET;
 594              		.loc 1 633 10 is_stmt 0 view .LVU187
 595 0012 93F80A80 		ldrb	r8, [r3, #10]	@ zero_extendqisi2
 596              	.LVL33:
 634:Drivers/SOES/Src/esc_eoe.c **** 
 597              		.loc 1 634 4 is_stmt 1 view .LVU188
 636:Drivers/SOES/Src/esc_eoe.c ****    {
 598              		.loc 1 636 4 view .LVU189
 636:Drivers/SOES/Src/esc_eoe.c ****    {
 599              		.loc 1 636 6 is_stmt 0 view .LVU190
 600 0016 12F00E0F 		tst	r2, #14
 601 001a 04D1     		bne	.L53
 602 001c 043F     		subs	r7, r7, #4
 603              	.LVL34:
 636:Drivers/SOES/Src/esc_eoe.c ****    {
 604              		.loc 1 636 6 view .LVU191
 605 001e BFB2     		uxth	r7, r7
 606              	.LVL35:
 648:Drivers/SOES/Src/esc_eoe.c ****    if(flags & EOE_PARAM_MAC_INCLUDE)
 607              		.loc 1 648 4 is_stmt 1 view .LVU192
 648:Drivers/SOES/Src/esc_eoe.c ****    if(flags & EOE_PARAM_MAC_INCLUDE)
 608              		.loc 1 648 14 is_stmt 0 view .LVU193
 609 0020 4EB1     		cbz	r6, .L48
 648:Drivers/SOES/Src/esc_eoe.c ****    if(flags & EOE_PARAM_MAC_INCLUDE)
 610              		.loc 1 648 14 discriminator 1 view .LVU194
 611 0022 751E     		subs	r5, r6, #1
 612 0024 08E0     		b	.L40
 613              	.LVL36:
 614              	.L53:
 638:Drivers/SOES/Src/esc_eoe.c ****       /* Return error response on given port */
 615              		.loc 1 638 31 is_stmt 1 view .LVU195
 640:Drivers/SOES/Src/esc_eoe.c ****             EOE_INIT_RESP |
 616              		.loc 1 640 7 view .LVU196
 617 0026 0121     		movs	r1, #1
 618 0028 40F20310 		movw	r0, #259
 619 002c 40EA0610 		orr	r0, r0, r6, lsl #4
 620 0030 FFF7FEFF 		bl	EOE_no_data_response
 621              	.LVL37:
 644:Drivers/SOES/Src/esc_eoe.c ****    }
ARM GAS  /tmp/ccUj1Zdj.s 			page 31


 622              		.loc 1 644 7 view .LVU197
 623 0034 CEE0     		b	.L37
 624              	.LVL38:
 625              	.L48:
 648:Drivers/SOES/Src/esc_eoe.c ****    if(flags & EOE_PARAM_MAC_INCLUDE)
 626              		.loc 1 648 14 is_stmt 0 view .LVU198
 627 0036 0025     		movs	r5, #0
 628              	.L40:
 629              	.LVL39:
 649:Drivers/SOES/Src/esc_eoe.c ****    {
 630              		.loc 1 649 4 is_stmt 1 discriminator 4 view .LVU199
 649:Drivers/SOES/Src/esc_eoe.c ****    {
 631              		.loc 1 649 6 is_stmt 0 discriminator 4 view .LVU200
 632 0038 18F0010F 		tst	r8, #1
 633 003c 1CD1     		bne	.L54
 634:Drivers/SOES/Src/esc_eoe.c **** 
 634              		.loc 1 634 16 view .LVU201
 635 003e 0424     		movs	r4, #4
 636              	.LVL40:
 637              	.L41:
 659:Drivers/SOES/Src/esc_eoe.c ****    {
 638              		.loc 1 659 4 is_stmt 1 view .LVU202
 659:Drivers/SOES/Src/esc_eoe.c ****    {
 639              		.loc 1 659 6 is_stmt 0 view .LVU203
 640 0040 18F0020F 		tst	r8, #2
 641 0044 2CD1     		bne	.L55
 642              	.LVL41:
 643              	.L42:
 668:Drivers/SOES/Src/esc_eoe.c ****    {
 644              		.loc 1 668 4 is_stmt 1 view .LVU204
 668:Drivers/SOES/Src/esc_eoe.c ****    {
 645              		.loc 1 668 6 is_stmt 0 view .LVU205
 646 0046 18F0040F 		tst	r8, #4
 647 004a 44D1     		bne	.L56
 648              	.L43:
 677:Drivers/SOES/Src/esc_eoe.c ****    {
 649              		.loc 1 677 4 is_stmt 1 view .LVU206
 677:Drivers/SOES/Src/esc_eoe.c ****    {
 650              		.loc 1 677 6 is_stmt 0 view .LVU207
 651 004c 18F0080F 		tst	r8, #8
 652 0050 5DD1     		bne	.L57
 653              	.L44:
 686:Drivers/SOES/Src/esc_eoe.c ****    {
 654              		.loc 1 686 4 is_stmt 1 view .LVU208
 686:Drivers/SOES/Src/esc_eoe.c ****    {
 655              		.loc 1 686 6 is_stmt 0 view .LVU209
 656 0052 18F0100F 		tst	r8, #16
 657 0056 75D1     		bne	.L58
 658              	.L45:
 695:Drivers/SOES/Src/esc_eoe.c ****    {
 659              		.loc 1 695 4 is_stmt 1 view .LVU210
 695:Drivers/SOES/Src/esc_eoe.c ****    {
 660              		.loc 1 695 6 is_stmt 0 view .LVU211
 661 0058 18F0200F 		tst	r8, #32
 662 005c 40F08E80 		bne	.L59
 663              	.LVL42:
 664              	.L46:
ARM GAS  /tmp/ccUj1Zdj.s 			page 32


 705:Drivers/SOES/Src/esc_eoe.c ****    {
 665              		.loc 1 705 4 is_stmt 1 view .LVU212
 705:Drivers/SOES/Src/esc_eoe.c ****    {
 666              		.loc 1 705 6 is_stmt 0 view .LVU213
 667 0060 BC42     		cmp	r4, r7
 668 0062 00F2B080 		bhi	.L50
 713:Drivers/SOES/Src/esc_eoe.c ****       {
 669              		.loc 1 713 7 is_stmt 1 view .LVU214
 713:Drivers/SOES/Src/esc_eoe.c ****       {
 670              		.loc 1 713 17 is_stmt 0 view .LVU215
 671 0066 5F4B     		ldr	r3, .L60+4
 672 0068 1B68     		ldr	r3, [r3]
 673 006a DB68     		ldr	r3, [r3, #12]
 713:Drivers/SOES/Src/esc_eoe.c ****       {
 674              		.loc 1 713 9 view .LVU216
 675 006c 002B     		cmp	r3, #0
 676 006e 00F0B380 		beq	.L51
 715:Drivers/SOES/Src/esc_eoe.c ****       }
 677              		.loc 1 715 10 is_stmt 1 view .LVU217
 715:Drivers/SOES/Src/esc_eoe.c ****       }
 678              		.loc 1 715 19 is_stmt 0 view .LVU218
 679 0072 9847     		blx	r3
 680              	.LVL43:
 715:Drivers/SOES/Src/esc_eoe.c ****       }
 681              		.loc 1 715 17 view .LVU219
 682 0074 81B2     		uxth	r1, r0
 683              	.LVL44:
 715:Drivers/SOES/Src/esc_eoe.c ****       }
 684              		.loc 1 715 17 view .LVU220
 685 0076 A7E0     		b	.L47
 686              	.LVL45:
 687              	.L54:
 651:Drivers/SOES/Src/esc_eoe.c ****             &eoembx->data[data_offset],
 688              		.loc 1 651 7 is_stmt 1 view .LVU221
 651:Drivers/SOES/Src/esc_eoe.c ****             &eoembx->data[data_offset],
 689              		.loc 1 651 14 is_stmt 0 view .LVU222
 690 0078 C5EBC503 		rsb	r3, r5, r5, lsl #3
 691              	.LVL46:
 651:Drivers/SOES/Src/esc_eoe.c ****             &eoembx->data[data_offset],
 692              		.loc 1 651 14 view .LVU223
 693 007c 5A4A     		ldr	r2, .L60+8
 694 007e 02EBC301 		add	r1, r2, r3, lsl #3
 651:Drivers/SOES/Src/esc_eoe.c ****             &eoembx->data[data_offset],
 695              		.loc 1 651 7 view .LVU224
 696 0082 5A48     		ldr	r0, .L60+12
 697 0084 0468     		ldr	r4, [r0]	@ unaligned
 698 0086 C1F80140 		str	r4, [r1, #1]	@ unaligned
 699 008a 8088     		ldrh	r0, [r0, #4]	@ unaligned
 700 008c A1F80500 		strh	r0, [r1, #5]	@ unaligned
 654:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of mac address */
 701              		.loc 1 654 7 is_stmt 1 view .LVU225
 654:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of mac address */
 702              		.loc 1 654 34 is_stmt 0 view .LVU226
 703 0090 12F83310 		ldrb	r1, [r2, r3, lsl #3]	@ zero_extendqisi2
 704 0094 41F00101 		orr	r1, r1, #1
 705 0098 02F83310 		strb	r1, [r2, r3, lsl #3]
 656:Drivers/SOES/Src/esc_eoe.c ****    }
ARM GAS  /tmp/ccUj1Zdj.s 			page 33


 706              		.loc 1 656 7 is_stmt 1 view .LVU227
 707              	.LVL47:
 656:Drivers/SOES/Src/esc_eoe.c ****    }
 708              		.loc 1 656 19 is_stmt 0 view .LVU228
 709 009c 0A24     		movs	r4, #10
 710 009e CFE7     		b	.L41
 711              	.LVL48:
 712              	.L55:
 661:Drivers/SOES/Src/esc_eoe.c ****             &nic_ports[port_ix].ip);
 713              		.loc 1 661 7 is_stmt 1 view .LVU229
 714 00a0 4FEAC509 		lsl	r9, r5, #3
 715 00a4 C5EBC501 		rsb	r1, r5, r5, lsl #3
 716 00a8 C900     		lsls	r1, r1, #3
 717 00aa 0831     		adds	r1, r1, #8
 718 00ac DFF838A1 		ldr	r10, .L60+8
 719 00b0 04F10800 		add	r0, r4, #8
 720 00b4 4A4B     		ldr	r3, .L60
 721              	.LVL49:
 661:Drivers/SOES/Src/esc_eoe.c ****             &nic_ports[port_ix].ip);
 722              		.loc 1 661 7 is_stmt 0 view .LVU230
 723 00b6 1844     		add	r0, r0, r3
 724 00b8 5144     		add	r1, r1, r10
 725 00ba 0230     		adds	r0, r0, #2
 726 00bc FFF7FEFF 		bl	EOE_ip_byte_to_uint32
 727              	.LVL50:
 663:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of uint32 IP address */
 728              		.loc 1 663 7 is_stmt 1 view .LVU231
 663:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of uint32 IP address */
 729              		.loc 1 663 33 is_stmt 0 view .LVU232
 730 00c0 A9EB0503 		sub	r3, r9, r5
 731 00c4 1AF83320 		ldrb	r2, [r10, r3, lsl #3]	@ zero_extendqisi2
 732 00c8 42F00202 		orr	r2, r2, #2
 733 00cc 0AF83320 		strb	r2, [r10, r3, lsl #3]
 665:Drivers/SOES/Src/esc_eoe.c ****    }
 734              		.loc 1 665 7 is_stmt 1 view .LVU233
 665:Drivers/SOES/Src/esc_eoe.c ****    }
 735              		.loc 1 665 19 is_stmt 0 view .LVU234
 736 00d0 0434     		adds	r4, r4, #4
 737              	.LVL51:
 665:Drivers/SOES/Src/esc_eoe.c ****    }
 738              		.loc 1 665 19 view .LVU235
 739 00d2 E4B2     		uxtb	r4, r4
 740              	.LVL52:
 665:Drivers/SOES/Src/esc_eoe.c ****    }
 741              		.loc 1 665 19 view .LVU236
 742 00d4 B7E7     		b	.L42
 743              	.L56:
 670:Drivers/SOES/Src/esc_eoe.c ****             &nic_ports[port_ix].subnet);
 744              		.loc 1 670 7 is_stmt 1 view .LVU237
 745 00d6 4FEAC509 		lsl	r9, r5, #3
 746 00da C5EBC501 		rsb	r1, r5, r5, lsl #3
 747 00de C900     		lsls	r1, r1, #3
 748 00e0 0831     		adds	r1, r1, #8
 749 00e2 DFF804A1 		ldr	r10, .L60+8
 750 00e6 5144     		add	r1, r1, r10
 751 00e8 04F10800 		add	r0, r4, #8
 752 00ec 3C4B     		ldr	r3, .L60
ARM GAS  /tmp/ccUj1Zdj.s 			page 34


 753 00ee 1844     		add	r0, r0, r3
 754 00f0 0431     		adds	r1, r1, #4
 755 00f2 0230     		adds	r0, r0, #2
 756 00f4 FFF7FEFF 		bl	EOE_ip_byte_to_uint32
 757              	.LVL53:
 672:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of uint32 IP address */
 758              		.loc 1 672 7 view .LVU238
 672:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of uint32 IP address */
 759              		.loc 1 672 37 is_stmt 0 view .LVU239
 760 00f8 A9EB0509 		sub	r9, r9, r5
 761 00fc 1AF83930 		ldrb	r3, [r10, r9, lsl #3]	@ zero_extendqisi2
 762 0100 43F00403 		orr	r3, r3, #4
 763 0104 0AF83930 		strb	r3, [r10, r9, lsl #3]
 674:Drivers/SOES/Src/esc_eoe.c ****    }
 764              		.loc 1 674 7 is_stmt 1 view .LVU240
 674:Drivers/SOES/Src/esc_eoe.c ****    }
 765              		.loc 1 674 19 is_stmt 0 view .LVU241
 766 0108 0434     		adds	r4, r4, #4
 767              	.LVL54:
 674:Drivers/SOES/Src/esc_eoe.c ****    }
 768              		.loc 1 674 19 view .LVU242
 769 010a E4B2     		uxtb	r4, r4
 770              	.LVL55:
 674:Drivers/SOES/Src/esc_eoe.c ****    }
 771              		.loc 1 674 19 view .LVU243
 772 010c 9EE7     		b	.L43
 773              	.L57:
 679:Drivers/SOES/Src/esc_eoe.c ****             &nic_ports[port_ix].default_gateway);
 774              		.loc 1 679 7 is_stmt 1 view .LVU244
 775 010e 4FEAC509 		lsl	r9, r5, #3
 776 0112 C5EBC501 		rsb	r1, r5, r5, lsl #3
 777 0116 C900     		lsls	r1, r1, #3
 778 0118 1031     		adds	r1, r1, #16
 779 011a DFF8CCA0 		ldr	r10, .L60+8
 780 011e 04F10800 		add	r0, r4, #8
 781 0122 2F4B     		ldr	r3, .L60
 782 0124 1844     		add	r0, r0, r3
 783 0126 5144     		add	r1, r1, r10
 784 0128 0230     		adds	r0, r0, #2
 785 012a FFF7FEFF 		bl	EOE_ip_byte_to_uint32
 786              	.LVL56:
 681:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of uint32 IP address */
 787              		.loc 1 681 7 view .LVU245
 681:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of uint32 IP address */
 788              		.loc 1 681 46 is_stmt 0 view .LVU246
 789 012e A9EB0503 		sub	r3, r9, r5
 790 0132 1AF83320 		ldrb	r2, [r10, r3, lsl #3]	@ zero_extendqisi2
 791 0136 42F00802 		orr	r2, r2, #8
 792 013a 0AF83320 		strb	r2, [r10, r3, lsl #3]
 683:Drivers/SOES/Src/esc_eoe.c ****    }
 793              		.loc 1 683 7 is_stmt 1 view .LVU247
 683:Drivers/SOES/Src/esc_eoe.c ****    }
 794              		.loc 1 683 19 is_stmt 0 view .LVU248
 795 013e 0434     		adds	r4, r4, #4
 796              	.LVL57:
 683:Drivers/SOES/Src/esc_eoe.c ****    }
 797              		.loc 1 683 19 view .LVU249
ARM GAS  /tmp/ccUj1Zdj.s 			page 35


 798 0140 E4B2     		uxtb	r4, r4
 799              	.LVL58:
 683:Drivers/SOES/Src/esc_eoe.c ****    }
 800              		.loc 1 683 19 view .LVU250
 801 0142 86E7     		b	.L44
 802              	.L58:
 688:Drivers/SOES/Src/esc_eoe.c ****             &nic_ports[port_ix].dns_ip);
 803              		.loc 1 688 7 is_stmt 1 view .LVU251
 804 0144 4FEAC509 		lsl	r9, r5, #3
 805 0148 C5EBC501 		rsb	r1, r5, r5, lsl #3
 806 014c C900     		lsls	r1, r1, #3
 807 014e 1031     		adds	r1, r1, #16
 808 0150 DFF894A0 		ldr	r10, .L60+8
 809 0154 5144     		add	r1, r1, r10
 810 0156 04F10800 		add	r0, r4, #8
 811 015a 214B     		ldr	r3, .L60
 812 015c 1844     		add	r0, r0, r3
 813 015e 0431     		adds	r1, r1, #4
 814 0160 0230     		adds	r0, r0, #2
 815 0162 FFF7FEFF 		bl	EOE_ip_byte_to_uint32
 816              	.LVL59:
 690:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of uint32 IP address */
 817              		.loc 1 690 7 view .LVU252
 690:Drivers/SOES/Src/esc_eoe.c ****       /* Add size of uint32 IP address */
 818              		.loc 1 690 37 is_stmt 0 view .LVU253
 819 0166 A9EB0509 		sub	r9, r9, r5
 820 016a 1AF83930 		ldrb	r3, [r10, r9, lsl #3]	@ zero_extendqisi2
 821 016e 43F01003 		orr	r3, r3, #16
 822 0172 0AF83930 		strb	r3, [r10, r9, lsl #3]
 692:Drivers/SOES/Src/esc_eoe.c ****    }
 823              		.loc 1 692 7 is_stmt 1 view .LVU254
 692:Drivers/SOES/Src/esc_eoe.c ****    }
 824              		.loc 1 692 19 is_stmt 0 view .LVU255
 825 0176 0434     		adds	r4, r4, #4
 826              	.LVL60:
 692:Drivers/SOES/Src/esc_eoe.c ****    }
 827              		.loc 1 692 19 view .LVU256
 828 0178 E4B2     		uxtb	r4, r4
 829              	.LVL61:
 692:Drivers/SOES/Src/esc_eoe.c ****    }
 830              		.loc 1 692 19 view .LVU257
 831 017a 6DE7     		b	.L45
 832              	.L59:
 833              	.LBB3:
 697:Drivers/SOES/Src/esc_eoe.c ****       memcpy(nic_ports[port_ix].dns_name,
 834              		.loc 1 697 7 is_stmt 1 view .LVU258
 697:Drivers/SOES/Src/esc_eoe.c ****       memcpy(nic_ports[port_ix].dns_name,
 835              		.loc 1 697 26 is_stmt 0 view .LVU259
 836 017c A7EB0408 		sub	r8, r7, r4
 837              	.LVL62:
 697:Drivers/SOES/Src/esc_eoe.c ****       memcpy(nic_ports[port_ix].dns_name,
 838              		.loc 1 697 26 view .LVU260
 839 0180 B8F1200F 		cmp	r8, #32
 840 0184 A8BF     		it	ge
 841 0186 4FF02008 		movge	r8, #32
 842              	.LVL63:
 698:Drivers/SOES/Src/esc_eoe.c ****             &eoembx->data[data_offset],
ARM GAS  /tmp/ccUj1Zdj.s 			page 36


 843              		.loc 1 698 7 is_stmt 1 view .LVU261
 698:Drivers/SOES/Src/esc_eoe.c ****             &eoembx->data[data_offset],
 844              		.loc 1 698 32 is_stmt 0 view .LVU262
 845 018a 4FEAC509 		lsl	r9, r5, #3
 846 018e C5EBC500 		rsb	r0, r5, r5, lsl #3
 847 0192 C000     		lsls	r0, r0, #3
 848 0194 1830     		adds	r0, r0, #24
 849 0196 DFF850A0 		ldr	r10, .L60+8
 699:Drivers/SOES/Src/esc_eoe.c ****             dns_len);
 850              		.loc 1 699 13 view .LVU263
 851 019a 04F10801 		add	r1, r4, #8
 852 019e 104B     		ldr	r3, .L60
 853 01a0 1944     		add	r1, r1, r3
 698:Drivers/SOES/Src/esc_eoe.c ****             &eoembx->data[data_offset],
 854              		.loc 1 698 7 view .LVU264
 855 01a2 1FFA88F2 		uxth	r2, r8
 856 01a6 0231     		adds	r1, r1, #2
 857 01a8 5044     		add	r0, r0, r10
 858 01aa FFF7FEFF 		bl	memcpy
 859              	.LVL64:
 701:Drivers/SOES/Src/esc_eoe.c ****       data_offset += dns_len; /* expected 1- EOE_DNS_NAME_LENGTH; */
 860              		.loc 1 701 7 is_stmt 1 view .LVU265
 701:Drivers/SOES/Src/esc_eoe.c ****       data_offset += dns_len; /* expected 1- EOE_DNS_NAME_LENGTH; */
 861              		.loc 1 701 39 is_stmt 0 view .LVU266
 862 01ae A9EB0509 		sub	r9, r9, r5
 863 01b2 1AF83930 		ldrb	r3, [r10, r9, lsl #3]	@ zero_extendqisi2
 864 01b6 43F02003 		orr	r3, r3, #32
 865 01ba 0AF83930 		strb	r3, [r10, r9, lsl #3]
 702:Drivers/SOES/Src/esc_eoe.c ****    }
 866              		.loc 1 702 7 is_stmt 1 view .LVU267
 702:Drivers/SOES/Src/esc_eoe.c ****    }
 867              		.loc 1 702 19 is_stmt 0 view .LVU268
 868 01be A044     		add	r8, r8, r4
 869              	.LVL65:
 702:Drivers/SOES/Src/esc_eoe.c ****    }
 870              		.loc 1 702 19 view .LVU269
 871 01c0 5FFA88F4 		uxtb	r4, r8
 872              	.LVL66:
 702:Drivers/SOES/Src/esc_eoe.c ****    }
 873              		.loc 1 702 19 view .LVU270
 874 01c4 4CE7     		b	.L46
 875              	.LVL67:
 876              	.L50:
 702:Drivers/SOES/Src/esc_eoe.c ****    }
 877              		.loc 1 702 19 view .LVU271
 878              	.LBE3:
 707:Drivers/SOES/Src/esc_eoe.c ****    }
 879              		.loc 1 707 14 view .LVU272
 880 01c6 0621     		movs	r1, #6
 881              	.L47:
 882              	.LVL68:
 722:Drivers/SOES/Src/esc_eoe.c ****          EOE_INIT_RESP |
 883              		.loc 1 722 4 is_stmt 1 view .LVU273
 884 01c8 40F20310 		movw	r0, #259
 885 01cc 40EA0610 		orr	r0, r0, r6, lsl #4
 886 01d0 FFF7FEFF 		bl	EOE_no_data_response
 887              	.LVL69:
ARM GAS  /tmp/ccUj1Zdj.s 			page 37


 888              	.L37:
 726:Drivers/SOES/Src/esc_eoe.c **** 
 889              		.loc 1 726 1 is_stmt 0 view .LVU274
 890 01d4 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 891              	.LVL70:
 892              	.L51:
 719:Drivers/SOES/Src/esc_eoe.c ****       }
 893              		.loc 1 719 17 view .LVU275
 894 01d8 40F20121 		movw	r1, #513
 895 01dc F4E7     		b	.L47
 896              	.L61:
 897 01de 00BF     		.align	2
 898              	.L60:
 899 01e0 00000000 		.word	MBX
 900 01e4 00000000 		.word	eoe_cfg
 901 01e8 00000000 		.word	nic_ports
 902 01ec 0E000000 		.word	MBX+14
 903              		.cfi_endproc
 904              	.LFE16:
 906              		.section	.text.EOE_get_ip,"ax",%progbits
 907              		.align	1
 908              		.syntax unified
 909              		.thumb
 910              		.thumb_func
 912              	EOE_get_ip:
 913              	.LFB15:
 502:Drivers/SOES/Src/esc_eoe.c ****    _EOE *req_eoembx;
 914              		.loc 1 502 1 is_stmt 1 view -0
 915              		.cfi_startproc
 916              		@ args = 0, pretend = 0, frame = 0
 917              		@ frame_needed = 0, uses_anonymous_args = 0
 918 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 919              		.cfi_def_cfa_offset 32
 920              		.cfi_offset 3, -32
 921              		.cfi_offset 4, -28
 922              		.cfi_offset 5, -24
 923              		.cfi_offset 6, -20
 924              		.cfi_offset 7, -16
 925              		.cfi_offset 8, -12
 926              		.cfi_offset 9, -8
 927              		.cfi_offset 14, -4
 503:Drivers/SOES/Src/esc_eoe.c ****    _EOE *eoembx;
 928              		.loc 1 503 4 view .LVU277
 504:Drivers/SOES/Src/esc_eoe.c ****    uint8_t mbxhandle;
 929              		.loc 1 504 4 view .LVU278
 505:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo1;
 930              		.loc 1 505 4 view .LVU279
 506:Drivers/SOES/Src/esc_eoe.c ****    uint8_t port;
 931              		.loc 1 506 4 view .LVU280
 507:Drivers/SOES/Src/esc_eoe.c ****    uint8_t  flags;
 932              		.loc 1 507 4 view .LVU281
 508:Drivers/SOES/Src/esc_eoe.c ****    uint8_t  data_offset;
 933              		.loc 1 508 4 view .LVU282
 509:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 934              		.loc 1 509 4 view .LVU283
 510:Drivers/SOES/Src/esc_eoe.c **** 
 935              		.loc 1 510 4 view .LVU284
ARM GAS  /tmp/ccUj1Zdj.s 			page 38


 512:Drivers/SOES/Src/esc_eoe.c ****    frameinfo1 = etohs(req_eoembx->eoeheader.frameinfo1);
 936              		.loc 1 512 4 view .LVU285
 937              	.LVL71:
 513:Drivers/SOES/Src/esc_eoe.c ****    port = EOE_HDR_FRAME_PORT_GET(frameinfo1);
 938              		.loc 1 513 4 view .LVU286
 513:Drivers/SOES/Src/esc_eoe.c ****    port = EOE_HDR_FRAME_PORT_GET(frameinfo1);
 939              		.loc 1 513 15 is_stmt 0 view .LVU287
 940 0004 744B     		ldr	r3, .L83
 941 0006 DC88     		ldrh	r4, [r3, #6]	@ unaligned
 942              	.LVL72:
 514:Drivers/SOES/Src/esc_eoe.c ****    data_offset = EOE_PARAM_OFFSET;
 943              		.loc 1 514 4 is_stmt 1 view .LVU288
 514:Drivers/SOES/Src/esc_eoe.c ****    data_offset = EOE_PARAM_OFFSET;
 944              		.loc 1 514 11 is_stmt 0 view .LVU289
 945 0008 C4F30715 		ubfx	r5, r4, #4, #8
 514:Drivers/SOES/Src/esc_eoe.c ****    data_offset = EOE_PARAM_OFFSET;
 946              		.loc 1 514 9 view .LVU290
 947 000c C4F30314 		ubfx	r4, r4, #4, #4
 948              	.LVL73:
 515:Drivers/SOES/Src/esc_eoe.c ****    flags = 0;
 949              		.loc 1 515 4 is_stmt 1 view .LVU291
 516:Drivers/SOES/Src/esc_eoe.c **** 
 950              		.loc 1 516 4 view .LVU292
 518:Drivers/SOES/Src/esc_eoe.c ****    {
 951              		.loc 1 518 4 view .LVU293
 518:Drivers/SOES/Src/esc_eoe.c ****    {
 952              		.loc 1 518 6 is_stmt 0 view .LVU294
 953 0010 15F00E05 		ands	r5, r5, #14
 954 0014 5AD1     		bne	.L76
 530:Drivers/SOES/Src/esc_eoe.c ****    {
 955              		.loc 1 530 4 is_stmt 1 view .LVU295
 530:Drivers/SOES/Src/esc_eoe.c ****    {
 956              		.loc 1 530 14 is_stmt 0 view .LVU296
 957 0016 714B     		ldr	r3, .L83+4
 958 0018 1B68     		ldr	r3, [r3]
 959 001a 9B68     		ldr	r3, [r3, #8]
 530:Drivers/SOES/Src/esc_eoe.c ****    {
 960              		.loc 1 530 6 view .LVU297
 961 001c 03B1     		cbz	r3, .L65
 532:Drivers/SOES/Src/esc_eoe.c ****    }
 962              		.loc 1 532 7 is_stmt 1 view .LVU298
 532:Drivers/SOES/Src/esc_eoe.c ****    }
 963              		.loc 1 532 13 is_stmt 0 view .LVU299
 964 001e 9847     		blx	r3
 965              	.LVL74:
 966              	.L65:
 536:Drivers/SOES/Src/esc_eoe.c ****    if (mbxhandle)
 967              		.loc 1 536 4 is_stmt 1 view .LVU300
 536:Drivers/SOES/Src/esc_eoe.c ****    if (mbxhandle)
 968              		.loc 1 536 16 is_stmt 0 view .LVU301
 969 0020 FFF7FEFF 		bl	ESC_claimbuffer
 970              	.LVL75:
 537:Drivers/SOES/Src/esc_eoe.c ****    {
 971              		.loc 1 537 4 is_stmt 1 view .LVU302
 537:Drivers/SOES/Src/esc_eoe.c ****    {
 972              		.loc 1 537 7 is_stmt 0 view .LVU303
 973 0024 0028     		cmp	r0, #0
ARM GAS  /tmp/ccUj1Zdj.s 			page 39


 974 0026 4FD0     		beq	.L62
 539:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 975              		.loc 1 539 7 is_stmt 1 view .LVU304
 539:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 976              		.loc 1 539 42 is_stmt 0 view .LVU305
 977 0028 6D4A     		ldr	r2, .L83+8
 978 002a 926E     		ldr	r2, [r2, #104]
 539:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 979              		.loc 1 539 40 view .LVU306
 980 002c 02FB00F8 		mul	r8, r2, r0
 539:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 981              		.loc 1 539 14 view .LVU307
 982 0030 DFF8A491 		ldr	r9, .L83
 983 0034 08EB0907 		add	r7, r8, r9
 984              	.LVL76:
 540:Drivers/SOES/Src/esc_eoe.c ****       MBXcontrol[mbxhandle].state = MBXstate_outreq;
 985              		.loc 1 540 7 is_stmt 1 view .LVU308
 540:Drivers/SOES/Src/esc_eoe.c ****       MBXcontrol[mbxhandle].state = MBXstate_outreq;
 986              		.loc 1 540 33 is_stmt 0 view .LVU309
 987 0038 7A79     		ldrb	r2, [r7, #5]	@ zero_extendqisi2
 988 003a 0221     		movs	r1, #2
 989 003c 61F30302 		bfi	r2, r1, #0, #4
 990 0040 7A71     		strb	r2, [r7, #5]
 541:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 =
 991              		.loc 1 541 7 is_stmt 1 view .LVU310
 541:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 =
 992              		.loc 1 541 35 is_stmt 0 view .LVU311
 993 0042 684A     		ldr	r2, .L83+12
 994 0044 0321     		movs	r1, #3
 995 0046 1154     		strb	r1, [r2, r0]
 542:Drivers/SOES/Src/esc_eoe.c ****             htoes(EOE_HDR_FRAME_TYPE_SET(EOE_GET_IP_PARAM_RESP) |
 996              		.loc 1 542 7 is_stmt 1 view .LVU312
 543:Drivers/SOES/Src/esc_eoe.c ****                   EOE_HDR_FRAME_PORT_SET(port) |
 997              		.loc 1 543 13 is_stmt 0 view .LVU313
 998 0048 40F20713 		movw	r3, #263
 999 004c 43EA0413 		orr	r3, r3, r4, lsl #4
 542:Drivers/SOES/Src/esc_eoe.c ****             htoes(EOE_HDR_FRAME_TYPE_SET(EOE_GET_IP_PARAM_RESP) |
 1000              		.loc 1 542 36 view .LVU314
 1001 0050 FB80     		strh	r3, [r7, #6]	@ unaligned
 546:Drivers/SOES/Src/esc_eoe.c **** 
 1002              		.loc 1 546 7 is_stmt 1 view .LVU315
 546:Drivers/SOES/Src/esc_eoe.c **** 
 1003              		.loc 1 546 36 is_stmt 0 view .LVU316
 1004 0052 0023     		movs	r3, #0
 1005 0054 3B72     		strb	r3, [r7, #8]
 1006 0056 7B72     		strb	r3, [r7, #9]
 549:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 1007              		.loc 1 549 7 is_stmt 1 view .LVU317
 549:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 1008              		.loc 1 549 17 is_stmt 0 view .LVU318
 1009 0058 002C     		cmp	r4, #0
 1010 005a 3FD0     		beq	.L73
 549:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 1011              		.loc 1 549 17 discriminator 1 view .LVU319
 1012 005c 013C     		subs	r4, r4, #1
 1013              	.LVL77:
 1014              	.L66:
ARM GAS  /tmp/ccUj1Zdj.s 			page 40


 550:Drivers/SOES/Src/esc_eoe.c ****       {
 1015              		.loc 1 550 7 is_stmt 1 discriminator 4 view .LVU320
 550:Drivers/SOES/Src/esc_eoe.c ****       {
 1016              		.loc 1 550 28 is_stmt 0 discriminator 4 view .LVU321
 1017 005e C4EBC403 		rsb	r3, r4, r4, lsl #3
 1018 0062 614A     		ldr	r2, .L83+16
 1019 0064 12F83330 		ldrb	r3, [r2, r3, lsl #3]	@ zero_extendqisi2
 550:Drivers/SOES/Src/esc_eoe.c ****       {
 1020              		.loc 1 550 9 discriminator 4 view .LVU322
 1021 0068 13F0010F 		tst	r3, #1
 1022 006c 38D1     		bne	.L77
 515:Drivers/SOES/Src/esc_eoe.c ****    flags = 0;
 1023              		.loc 1 515 16 view .LVU323
 1024 006e 0426     		movs	r6, #4
 1025              	.LVL78:
 1026              	.L67:
 561:Drivers/SOES/Src/esc_eoe.c ****       {
 1027              		.loc 1 561 7 is_stmt 1 view .LVU324
 561:Drivers/SOES/Src/esc_eoe.c ****       {
 1028              		.loc 1 561 28 is_stmt 0 view .LVU325
 1029 0070 C4EBC403 		rsb	r3, r4, r4, lsl #3
 1030 0074 5C4A     		ldr	r2, .L83+16
 1031 0076 12F83330 		ldrb	r3, [r2, r3, lsl #3]	@ zero_extendqisi2
 561:Drivers/SOES/Src/esc_eoe.c ****       {
 1032              		.loc 1 561 9 view .LVU326
 1033 007a 13F0020F 		tst	r3, #2
 1034 007e 3ED1     		bne	.L78
 1035              	.LVL79:
 1036              	.L68:
 571:Drivers/SOES/Src/esc_eoe.c ****       {
 1037              		.loc 1 571 7 is_stmt 1 view .LVU327
 571:Drivers/SOES/Src/esc_eoe.c ****       {
 1038              		.loc 1 571 28 is_stmt 0 view .LVU328
 1039 0080 C4EBC403 		rsb	r3, r4, r4, lsl #3
 1040 0084 584A     		ldr	r2, .L83+16
 1041 0086 12F83330 		ldrb	r3, [r2, r3, lsl #3]	@ zero_extendqisi2
 571:Drivers/SOES/Src/esc_eoe.c ****       {
 1042              		.loc 1 571 9 view .LVU329
 1043 008a 13F0040F 		tst	r3, #4
 1044 008e 47D1     		bne	.L79
 1045              	.L69:
 581:Drivers/SOES/Src/esc_eoe.c ****       {
 1046              		.loc 1 581 7 is_stmt 1 view .LVU330
 581:Drivers/SOES/Src/esc_eoe.c ****       {
 1047              		.loc 1 581 28 is_stmt 0 view .LVU331
 1048 0090 C4EBC403 		rsb	r3, r4, r4, lsl #3
 1049 0094 544A     		ldr	r2, .L83+16
 1050 0096 12F83330 		ldrb	r3, [r2, r3, lsl #3]	@ zero_extendqisi2
 581:Drivers/SOES/Src/esc_eoe.c ****       {
 1051              		.loc 1 581 9 view .LVU332
 1052 009a 13F0080F 		tst	r3, #8
 1053 009e 50D1     		bne	.L80
 1054              	.L70:
 590:Drivers/SOES/Src/esc_eoe.c ****       {
 1055              		.loc 1 590 7 is_stmt 1 view .LVU333
 590:Drivers/SOES/Src/esc_eoe.c ****       {
 1056              		.loc 1 590 28 is_stmt 0 view .LVU334
ARM GAS  /tmp/ccUj1Zdj.s 			page 41


 1057 00a0 C4EBC403 		rsb	r3, r4, r4, lsl #3
 1058 00a4 504A     		ldr	r2, .L83+16
 1059 00a6 12F83330 		ldrb	r3, [r2, r3, lsl #3]	@ zero_extendqisi2
 590:Drivers/SOES/Src/esc_eoe.c ****       {
 1060              		.loc 1 590 9 view .LVU335
 1061 00aa 13F0100F 		tst	r3, #16
 1062 00ae 59D1     		bne	.L81
 1063              	.L71:
 600:Drivers/SOES/Src/esc_eoe.c ****       {
 1064              		.loc 1 600 7 is_stmt 1 view .LVU336
 600:Drivers/SOES/Src/esc_eoe.c ****       {
 1065              		.loc 1 600 28 is_stmt 0 view .LVU337
 1066 00b0 C4EBC403 		rsb	r3, r4, r4, lsl #3
 1067 00b4 4C4A     		ldr	r2, .L83+16
 1068 00b6 12F83330 		ldrb	r3, [r2, r3, lsl #3]	@ zero_extendqisi2
 600:Drivers/SOES/Src/esc_eoe.c ****       {
 1069              		.loc 1 600 9 view .LVU338
 1070 00ba 13F0200F 		tst	r3, #32
 1071 00be 62D1     		bne	.L82
 1072              	.LVL80:
 1073              	.L72:
 611:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE + data_offset);
 1074              		.loc 1 611 7 is_stmt 1 view .LVU339
 611:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (ESC_EOEHSIZE + data_offset);
 1075              		.loc 1 611 23 is_stmt 0 view .LVU340
 1076 00c0 BD72     		strb	r5, [r7, #10]
 612:Drivers/SOES/Src/esc_eoe.c ****    }
 1077              		.loc 1 612 7 is_stmt 1 view .LVU341
 612:Drivers/SOES/Src/esc_eoe.c ****    }
 1078              		.loc 1 612 34 is_stmt 0 view .LVU342
 1079 00c2 0436     		adds	r6, r6, #4
 1080              	.LVL81:
 612:Drivers/SOES/Src/esc_eoe.c ****    }
 1081              		.loc 1 612 32 view .LVU343
 1082 00c4 29F80860 		strh	r6, [r9, r8]	@ unaligned
 1083              	.LVL82:
 1084              	.L62:
 614:Drivers/SOES/Src/esc_eoe.c **** 
 1085              		.loc 1 614 1 view .LVU344
 1086 00c8 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1087              	.LVL83:
 1088              	.L76:
 520:Drivers/SOES/Src/esc_eoe.c ****       /* Return error response on given port */
 1089              		.loc 1 520 31 is_stmt 1 view .LVU345
 522:Drivers/SOES/Src/esc_eoe.c ****             EOE_INIT_RESP |
 1090              		.loc 1 522 7 view .LVU346
 1091 00cc 0121     		movs	r1, #1
 1092 00ce 40F20310 		movw	r0, #259
 1093 00d2 40EA0410 		orr	r0, r0, r4, lsl #4
 1094 00d6 FFF7FEFF 		bl	EOE_no_data_response
 1095              	.LVL84:
 526:Drivers/SOES/Src/esc_eoe.c ****    }
 1096              		.loc 1 526 7 view .LVU347
 1097 00da F5E7     		b	.L62
 1098              	.LVL85:
 1099              	.L73:
 549:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
ARM GAS  /tmp/ccUj1Zdj.s 			page 42


 1100              		.loc 1 549 17 is_stmt 0 view .LVU348
 1101 00dc 0024     		movs	r4, #0
 1102              	.LVL86:
 549:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 1103              		.loc 1 549 17 view .LVU349
 1104 00de BEE7     		b	.L66
 1105              	.LVL87:
 1106              	.L77:
 552:Drivers/SOES/Src/esc_eoe.c ****          memcpy(&eoembx->data[data_offset] ,
 1107              		.loc 1 552 10 is_stmt 1 view .LVU350
 553:Drivers/SOES/Src/esc_eoe.c ****                nic_ports[port_ix].mac.addr,
 1108              		.loc 1 553 10 view .LVU351
 554:Drivers/SOES/Src/esc_eoe.c ****                EOE_ETHADDR_LENGTH);
 1109              		.loc 1 554 38 is_stmt 0 view .LVU352
 1110 00e0 C4EBC402 		rsb	r2, r4, r4, lsl #3
 1111 00e4 404B     		ldr	r3, .L83+16
 1112 00e6 03EBC203 		add	r3, r3, r2, lsl #3
 553:Drivers/SOES/Src/esc_eoe.c ****                nic_ports[port_ix].mac.addr,
 1113              		.loc 1 553 10 view .LVU353
 1114 00ea D3F80120 		ldr	r2, [r3, #1]	@ unaligned
 1115 00ee C7F80E20 		str	r2, [r7, #14]	@ unaligned
 1116 00f2 B3F80530 		ldrh	r3, [r3, #5]	@ unaligned
 1117 00f6 7B82     		strh	r3, [r7, #18]	@ unaligned
 557:Drivers/SOES/Src/esc_eoe.c **** 
 1118              		.loc 1 557 10 is_stmt 1 view .LVU354
 1119              	.LVL88:
 557:Drivers/SOES/Src/esc_eoe.c **** 
 1120              		.loc 1 557 22 is_stmt 0 view .LVU355
 1121 00f8 0A26     		movs	r6, #10
 552:Drivers/SOES/Src/esc_eoe.c ****          memcpy(&eoembx->data[data_offset] ,
 1122              		.loc 1 552 16 view .LVU356
 1123 00fa 0125     		movs	r5, #1
 1124 00fc B8E7     		b	.L67
 1125              	.LVL89:
 1126              	.L78:
 563:Drivers/SOES/Src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].ip,
 1127              		.loc 1 563 10 is_stmt 1 view .LVU357
 563:Drivers/SOES/Src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].ip,
 1128              		.loc 1 563 16 is_stmt 0 view .LVU358
 1129 00fe 45F00205 		orr	r5, r5, #2
 1130              	.LVL90:
 564:Drivers/SOES/Src/esc_eoe.c ****                &eoembx->data[data_offset]);
 1131              		.loc 1 564 10 is_stmt 1 view .LVU359
 1132 0102 06F10801 		add	r1, r6, #8
 1133 0106 3944     		add	r1, r1, r7
 1134 0108 C4EBC403 		rsb	r3, r4, r4, lsl #3
 1135 010c DB00     		lsls	r3, r3, #3
 1136 010e 0833     		adds	r3, r3, #8
 1137 0110 0231     		adds	r1, r1, #2
 1138 0112 1046     		mov	r0, r2
 1139              	.LVL91:
 564:Drivers/SOES/Src/esc_eoe.c ****                &eoembx->data[data_offset]);
 1140              		.loc 1 564 10 is_stmt 0 view .LVU360
 1141 0114 1844     		add	r0, r0, r3
 1142 0116 FFF7FEFF 		bl	EOE_ip_uint32_to_byte
 1143              	.LVL92:
 567:Drivers/SOES/Src/esc_eoe.c ****       }
ARM GAS  /tmp/ccUj1Zdj.s 			page 43


 1144              		.loc 1 567 10 is_stmt 1 view .LVU361
 567:Drivers/SOES/Src/esc_eoe.c ****       }
 1145              		.loc 1 567 22 is_stmt 0 view .LVU362
 1146 011a 0436     		adds	r6, r6, #4
 1147              	.LVL93:
 567:Drivers/SOES/Src/esc_eoe.c ****       }
 1148              		.loc 1 567 22 view .LVU363
 1149 011c F6B2     		uxtb	r6, r6
 1150              	.LVL94:
 567:Drivers/SOES/Src/esc_eoe.c ****       }
 1151              		.loc 1 567 22 view .LVU364
 1152 011e AFE7     		b	.L68
 1153              	.L79:
 573:Drivers/SOES/Src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].subnet,
 1154              		.loc 1 573 10 is_stmt 1 view .LVU365
 573:Drivers/SOES/Src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].subnet,
 1155              		.loc 1 573 16 is_stmt 0 view .LVU366
 1156 0120 45F00405 		orr	r5, r5, #4
 1157              	.LVL95:
 574:Drivers/SOES/Src/esc_eoe.c ****                &eoembx->data[data_offset]);
 1158              		.loc 1 574 10 is_stmt 1 view .LVU367
 1159 0124 06F10801 		add	r1, r6, #8
 1160 0128 3944     		add	r1, r1, r7
 1161 012a C4EBC400 		rsb	r0, r4, r4, lsl #3
 1162 012e C000     		lsls	r0, r0, #3
 1163 0130 0830     		adds	r0, r0, #8
 1164 0132 1044     		add	r0, r0, r2
 1165 0134 0231     		adds	r1, r1, #2
 1166 0136 0430     		adds	r0, r0, #4
 1167 0138 FFF7FEFF 		bl	EOE_ip_uint32_to_byte
 1168              	.LVL96:
 577:Drivers/SOES/Src/esc_eoe.c ****       }
 1169              		.loc 1 577 10 view .LVU368
 577:Drivers/SOES/Src/esc_eoe.c ****       }
 1170              		.loc 1 577 22 is_stmt 0 view .LVU369
 1171 013c 0436     		adds	r6, r6, #4
 1172              	.LVL97:
 577:Drivers/SOES/Src/esc_eoe.c ****       }
 1173              		.loc 1 577 22 view .LVU370
 1174 013e F6B2     		uxtb	r6, r6
 1175              	.LVL98:
 577:Drivers/SOES/Src/esc_eoe.c ****       }
 1176              		.loc 1 577 22 view .LVU371
 1177 0140 A6E7     		b	.L69
 1178              	.L80:
 583:Drivers/SOES/Src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].default_gateway,
 1179              		.loc 1 583 10 is_stmt 1 view .LVU372
 583:Drivers/SOES/Src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].default_gateway,
 1180              		.loc 1 583 16 is_stmt 0 view .LVU373
 1181 0142 45F00805 		orr	r5, r5, #8
 1182              	.LVL99:
 584:Drivers/SOES/Src/esc_eoe.c ****                &eoembx->data[data_offset]);
 1183              		.loc 1 584 10 is_stmt 1 view .LVU374
 1184 0146 06F10801 		add	r1, r6, #8
 1185 014a 3944     		add	r1, r1, r7
 1186 014c C4EBC403 		rsb	r3, r4, r4, lsl #3
 1187 0150 DB00     		lsls	r3, r3, #3
ARM GAS  /tmp/ccUj1Zdj.s 			page 44


 1188 0152 1033     		adds	r3, r3, #16
 1189 0154 0231     		adds	r1, r1, #2
 1190 0156 1046     		mov	r0, r2
 1191 0158 1844     		add	r0, r0, r3
 1192 015a FFF7FEFF 		bl	EOE_ip_uint32_to_byte
 1193              	.LVL100:
 587:Drivers/SOES/Src/esc_eoe.c ****       }
 1194              		.loc 1 587 10 view .LVU375
 587:Drivers/SOES/Src/esc_eoe.c ****       }
 1195              		.loc 1 587 22 is_stmt 0 view .LVU376
 1196 015e 0436     		adds	r6, r6, #4
 1197              	.LVL101:
 587:Drivers/SOES/Src/esc_eoe.c ****       }
 1198              		.loc 1 587 22 view .LVU377
 1199 0160 F6B2     		uxtb	r6, r6
 1200              	.LVL102:
 587:Drivers/SOES/Src/esc_eoe.c ****       }
 1201              		.loc 1 587 22 view .LVU378
 1202 0162 9DE7     		b	.L70
 1203              	.L81:
 592:Drivers/SOES/Src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].dns_ip,
 1204              		.loc 1 592 10 is_stmt 1 view .LVU379
 592:Drivers/SOES/Src/esc_eoe.c ****          EOE_ip_uint32_to_byte(&nic_ports[port_ix].dns_ip,
 1205              		.loc 1 592 16 is_stmt 0 view .LVU380
 1206 0164 45F01005 		orr	r5, r5, #16
 1207              	.LVL103:
 593:Drivers/SOES/Src/esc_eoe.c ****                &eoembx->data[data_offset]);
 1208              		.loc 1 593 10 is_stmt 1 view .LVU381
 1209 0168 06F10801 		add	r1, r6, #8
 1210 016c 3944     		add	r1, r1, r7
 1211 016e C4EBC400 		rsb	r0, r4, r4, lsl #3
 1212 0172 C000     		lsls	r0, r0, #3
 1213 0174 1030     		adds	r0, r0, #16
 1214 0176 1044     		add	r0, r0, r2
 1215 0178 0231     		adds	r1, r1, #2
 1216 017a 0430     		adds	r0, r0, #4
 1217 017c FFF7FEFF 		bl	EOE_ip_uint32_to_byte
 1218              	.LVL104:
 596:Drivers/SOES/Src/esc_eoe.c ****       }
 1219              		.loc 1 596 10 view .LVU382
 596:Drivers/SOES/Src/esc_eoe.c ****       }
 1220              		.loc 1 596 22 is_stmt 0 view .LVU383
 1221 0180 0436     		adds	r6, r6, #4
 1222              	.LVL105:
 596:Drivers/SOES/Src/esc_eoe.c ****       }
 1223              		.loc 1 596 22 view .LVU384
 1224 0182 F6B2     		uxtb	r6, r6
 1225              	.LVL106:
 596:Drivers/SOES/Src/esc_eoe.c ****       }
 1226              		.loc 1 596 22 view .LVU385
 1227 0184 94E7     		b	.L71
 1228              	.L82:
 603:Drivers/SOES/Src/esc_eoe.c ****          memcpy(&eoembx->data[data_offset],
 1229              		.loc 1 603 10 is_stmt 1 view .LVU386
 603:Drivers/SOES/Src/esc_eoe.c ****          memcpy(&eoembx->data[data_offset],
 1230              		.loc 1 603 16 is_stmt 0 view .LVU387
 1231 0186 45F02005 		orr	r5, r5, #32
ARM GAS  /tmp/ccUj1Zdj.s 			page 45


 1232              	.LVL107:
 604:Drivers/SOES/Src/esc_eoe.c ****                nic_ports[port_ix].dns_name,
 1233              		.loc 1 604 10 is_stmt 1 view .LVU388
 604:Drivers/SOES/Src/esc_eoe.c ****                nic_ports[port_ix].dns_name,
 1234              		.loc 1 604 17 is_stmt 0 view .LVU389
 1235 018a 06F10803 		add	r3, r6, #8
 1236 018e 3B44     		add	r3, r3, r7
 605:Drivers/SOES/Src/esc_eoe.c ****                EOE_DNS_NAME_LENGTH);
 1237              		.loc 1 605 34 view .LVU390
 1238 0190 C4EBC404 		rsb	r4, r4, r4, lsl #3
 1239              	.LVL108:
 605:Drivers/SOES/Src/esc_eoe.c ****                EOE_DNS_NAME_LENGTH);
 1240              		.loc 1 605 34 view .LVU391
 1241 0194 E400     		lsls	r4, r4, #3
 1242 0196 1834     		adds	r4, r4, #24
 1243 0198 1146     		mov	r1, r2
 1244 019a A218     		adds	r2, r4, r2
 604:Drivers/SOES/Src/esc_eoe.c ****                nic_ports[port_ix].dns_name,
 1245              		.loc 1 604 10 view .LVU392
 1246 019c 51F804C0 		ldr	ip, [r1, r4]	@ unaligned
 1247 01a0 5468     		ldr	r4, [r2, #4]	@ unaligned
 1248 01a2 9068     		ldr	r0, [r2, #8]	@ unaligned
 1249 01a4 D168     		ldr	r1, [r2, #12]	@ unaligned
 1250 01a6 C3F802C0 		str	ip, [r3, #2]	@ unaligned
 1251 01aa C3F80640 		str	r4, [r3, #6]	@ unaligned
 1252 01ae C3F80A00 		str	r0, [r3, #10]	@ unaligned
 1253 01b2 C3F80E10 		str	r1, [r3, #14]	@ unaligned
 1254 01b6 D2F810C0 		ldr	ip, [r2, #16]	@ unaligned
 1255 01ba 5469     		ldr	r4, [r2, #20]	@ unaligned
 1256 01bc 9069     		ldr	r0, [r2, #24]	@ unaligned
 1257 01be D169     		ldr	r1, [r2, #28]	@ unaligned
 1258 01c0 C3F812C0 		str	ip, [r3, #18]	@ unaligned
 1259 01c4 C3F81640 		str	r4, [r3, #22]	@ unaligned
 1260 01c8 C3F81A00 		str	r0, [r3, #26]	@ unaligned
 1261 01cc C3F81E10 		str	r1, [r3, #30]	@ unaligned
 608:Drivers/SOES/Src/esc_eoe.c ****       }
 1262              		.loc 1 608 10 is_stmt 1 view .LVU393
 608:Drivers/SOES/Src/esc_eoe.c ****       }
 1263              		.loc 1 608 22 is_stmt 0 view .LVU394
 1264 01d0 2036     		adds	r6, r6, #32
 1265              	.LVL109:
 608:Drivers/SOES/Src/esc_eoe.c ****       }
 1266              		.loc 1 608 22 view .LVU395
 1267 01d2 F6B2     		uxtb	r6, r6
 1268              	.LVL110:
 608:Drivers/SOES/Src/esc_eoe.c ****       }
 1269              		.loc 1 608 22 view .LVU396
 1270 01d4 74E7     		b	.L72
 1271              	.L84:
 1272 01d6 00BF     		.align	2
 1273              	.L83:
 1274 01d8 00000000 		.word	MBX
 1275 01dc 00000000 		.word	eoe_cfg
 1276 01e0 00000000 		.word	ESCvar
 1277 01e4 00000000 		.word	MBXcontrol
 1278 01e8 00000000 		.word	nic_ports
 1279              		.cfi_endproc
ARM GAS  /tmp/ccUj1Zdj.s 			page 46


 1280              	.LFE15:
 1282              		.section	.text.EOE_send_fragment,"ax",%progbits
 1283              		.align	1
 1284              		.syntax unified
 1285              		.thumb
 1286              		.thumb_func
 1288              	EOE_send_fragment:
 1289              	.LFB18:
 823:Drivers/SOES/Src/esc_eoe.c ****    _EOE *eoembx;
 1290              		.loc 1 823 1 is_stmt 1 view -0
 1291              		.cfi_startproc
 1292              		@ args = 0, pretend = 0, frame = 0
 1293              		@ frame_needed = 0, uses_anonymous_args = 0
 1294 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1295              		.cfi_def_cfa_offset 24
 1296              		.cfi_offset 3, -24
 1297              		.cfi_offset 4, -20
 1298              		.cfi_offset 5, -16
 1299              		.cfi_offset 6, -12
 1300              		.cfi_offset 7, -8
 1301              		.cfi_offset 14, -4
 824:Drivers/SOES/Src/esc_eoe.c ****    uint8_t mbxhandle;
 1302              		.loc 1 824 4 view .LVU398
 825:Drivers/SOES/Src/esc_eoe.c ****    int len;
 1303              		.loc 1 825 4 view .LVU399
 826:Drivers/SOES/Src/esc_eoe.c ****    int len_to_send;
 1304              		.loc 1 826 4 view .LVU400
 827:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo1;
 1305              		.loc 1 827 4 view .LVU401
 828:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo2;
 1306              		.loc 1 828 4 view .LVU402
 829:Drivers/SOES/Src/esc_eoe.c ****    static uint8_t frameno = 0;
 1307              		.loc 1 829 4 view .LVU403
 830:Drivers/SOES/Src/esc_eoe.c **** 
 1308              		.loc 1 830 4 view .LVU404
 833:Drivers/SOES/Src/esc_eoe.c ****    {
 1309              		.loc 1 833 4 view .LVU405
 833:Drivers/SOES/Src/esc_eoe.c ****    {
 1310              		.loc 1 833 20 is_stmt 0 view .LVU406
 1311 0002 3D4B     		ldr	r3, .L100
 1312 0004 1B69     		ldr	r3, [r3, #16]
 833:Drivers/SOES/Src/esc_eoe.c ****    {
 1313              		.loc 1 833 6 view .LVU407
 1314 0006 002B     		cmp	r3, #0
 1315 0008 55D0     		beq	.L97
 1316              	.L86:
 848:Drivers/SOES/Src/esc_eoe.c ****    if (mbxhandle)
 1317              		.loc 1 848 4 is_stmt 1 view .LVU408
 848:Drivers/SOES/Src/esc_eoe.c ****    if (mbxhandle)
 1318              		.loc 1 848 16 is_stmt 0 view .LVU409
 1319 000a FFF7FEFF 		bl	ESC_claimbuffer
 1320              	.LVL111:
 849:Drivers/SOES/Src/esc_eoe.c ****    {
 1321              		.loc 1 849 4 is_stmt 1 view .LVU410
 849:Drivers/SOES/Src/esc_eoe.c ****    {
 1322              		.loc 1 849 7 is_stmt 0 view .LVU411
 1323 000e 0546     		mov	r5, r0
ARM GAS  /tmp/ccUj1Zdj.s 			page 47


 1324 0010 0028     		cmp	r0, #0
 1325 0012 4FD0     		beq	.L85
 851:Drivers/SOES/Src/esc_eoe.c ****       if((len_to_send + ESC_EOEHSIZE + ESC_MBXHSIZE) > ESC_MBXSIZE)
 1326              		.loc 1 851 7 is_stmt 1 view .LVU412
 851:Drivers/SOES/Src/esc_eoe.c ****       if((len_to_send + ESC_EOEHSIZE + ESC_MBXHSIZE) > ESC_MBXSIZE)
 1327              		.loc 1 851 27 is_stmt 0 view .LVU413
 1328 0014 384B     		ldr	r3, .L100
 1329 0016 588C     		ldrh	r0, [r3, #34]
 1330              	.LVL112:
 851:Drivers/SOES/Src/esc_eoe.c ****       if((len_to_send + ESC_EOEHSIZE + ESC_MBXHSIZE) > ESC_MBXSIZE)
 1331              		.loc 1 851 48 view .LVU414
 1332 0018 998C     		ldrh	r1, [r3, #36]
 851:Drivers/SOES/Src/esc_eoe.c ****       if((len_to_send + ESC_EOEHSIZE + ESC_MBXHSIZE) > ESC_MBXSIZE)
 1333              		.loc 1 851 19 view .LVU415
 1334 001a 421A     		subs	r2, r0, r1
 1335              	.LVL113:
 852:Drivers/SOES/Src/esc_eoe.c ****       {
 1336              		.loc 1 852 7 is_stmt 1 view .LVU416
 852:Drivers/SOES/Src/esc_eoe.c ****       {
 1337              		.loc 1 852 38 is_stmt 0 view .LVU417
 1338 001c 02F10A04 		add	r4, r2, #10
 852:Drivers/SOES/Src/esc_eoe.c ****       {
 1339              		.loc 1 852 56 view .LVU418
 1340 0020 364B     		ldr	r3, .L100+4
 1341 0022 9B6E     		ldr	r3, [r3, #104]
 852:Drivers/SOES/Src/esc_eoe.c ****       {
 1342              		.loc 1 852 9 view .LVU419
 1343 0024 9C42     		cmp	r4, r3
 1344 0026 51D9     		bls	.L94
 855:Drivers/SOES/Src/esc_eoe.c ****                (((ESC_MBXSIZE - ESC_EOEHSIZE - ESC_MBXHSIZE) >> 5) << 5);
 1345              		.loc 1 855 10 is_stmt 1 view .LVU420
 856:Drivers/SOES/Src/esc_eoe.c ****       }
 1346              		.loc 1 856 46 is_stmt 0 view .LVU421
 1347 0028 A3F10A04 		sub	r4, r3, #10
 855:Drivers/SOES/Src/esc_eoe.c ****                (((ESC_MBXSIZE - ESC_EOEHSIZE - ESC_MBXHSIZE) >> 5) << 5);
 1348              		.loc 1 855 22 view .LVU422
 1349 002c 24F01F04 		bic	r4, r4, #31
 1350              	.LVL114:
 1351              	.L88:
 860:Drivers/SOES/Src/esc_eoe.c ****       {
 1352              		.loc 1 860 7 is_stmt 1 view .LVU423
 860:Drivers/SOES/Src/esc_eoe.c ****       {
 1353              		.loc 1 860 9 is_stmt 0 view .LVU424
 1354 0030 9442     		cmp	r4, r2
 1355 0032 4DD0     		beq	.L98
 866:Drivers/SOES/Src/esc_eoe.c ****       }
 1356              		.loc 1 866 21 view .LVU425
 1357 0034 4FF0000C 		mov	ip, #0
 1358              	.L89:
 1359              	.LVL115:
 870:Drivers/SOES/Src/esc_eoe.c **** 
 1360              		.loc 1 870 7 is_stmt 1 view .LVU426
 870:Drivers/SOES/Src/esc_eoe.c **** 
 1361              		.loc 1 870 20 is_stmt 0 view .LVU427
 1362 0038 2F4A     		ldr	r2, .L100
 1363 003a 92F82020 		ldrb	r2, [r2, #32]	@ zero_extendqisi2
 1364 003e 02F03F0E 		and	lr, r2, #63
ARM GAS  /tmp/ccUj1Zdj.s 			page 48


 1365              	.LVL116:
 873:Drivers/SOES/Src/esc_eoe.c ****       {
 1366              		.loc 1 873 7 is_stmt 1 view .LVU428
 873:Drivers/SOES/Src/esc_eoe.c ****       {
 1367              		.loc 1 873 9 is_stmt 0 view .LVU429
 1368 0042 002A     		cmp	r2, #0
 1369 0044 47D0     		beq	.L90
 875:Drivers/SOES/Src/esc_eoe.c ****       }
 1370              		.loc 1 875 10 is_stmt 1 view .LVU430
 875:Drivers/SOES/Src/esc_eoe.c ****       }
 1371              		.loc 1 875 25 is_stmt 0 view .LVU431
 1372 0046 4A09     		lsrs	r2, r1, #5
 1373 0048 9201     		lsls	r2, r2, #6
 1374 004a 02F47C62 		and	r2, r2, #4032
 875:Drivers/SOES/Src/esc_eoe.c ****       }
 1375              		.loc 1 875 21 view .LVU432
 1376 004e 42EA0E02 		orr	r2, r2, lr
 1377              	.LVL117:
 1378              	.L91:
 885:Drivers/SOES/Src/esc_eoe.c **** 
 1379              		.loc 1 885 7 is_stmt 1 view .LVU433
 885:Drivers/SOES/Src/esc_eoe.c **** 
 1380              		.loc 1 885 33 is_stmt 0 view .LVU434
 1381 0052 2B48     		ldr	r0, .L100+8
 1382 0054 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 885:Drivers/SOES/Src/esc_eoe.c **** 
 1383              		.loc 1 885 18 view .LVU435
 1384 0056 42EA0032 		orr	r2, r2, r0, lsl #12
 1385              	.LVL118:
 887:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (len_to_send + ESC_EOEHSIZE);
 1386              		.loc 1 887 7 is_stmt 1 view .LVU436
 887:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (len_to_send + ESC_EOEHSIZE);
 1387              		.loc 1 887 40 is_stmt 0 view .LVU437
 1388 005a 05FB03F3 		mul	r3, r5, r3
 887:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.length = htoes (len_to_send + ESC_EOEHSIZE);
 1389              		.loc 1 887 14 view .LVU438
 1390 005e 294F     		ldr	r7, .L100+12
 1391 0060 D819     		adds	r0, r3, r7
 1392              	.LVL119:
 888:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 1393              		.loc 1 888 7 is_stmt 1 view .LVU439
 888:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 1394              		.loc 1 888 34 is_stmt 0 view .LVU440
 1395 0062 A6B2     		uxth	r6, r4
 1396 0064 06F1040E 		add	lr, r6, #4
 888:Drivers/SOES/Src/esc_eoe.c ****       eoembx->mbxheader.mbxtype = MBXEOE;
 1397              		.loc 1 888 32 view .LVU441
 1398 0068 27F803E0 		strh	lr, [r7, r3]	@ unaligned
 889:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 1399              		.loc 1 889 7 is_stmt 1 view .LVU442
 889:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.frameinfo1 = htoes(frameinfo1);
 1400              		.loc 1 889 33 is_stmt 0 view .LVU443
 1401 006c 4379     		ldrb	r3, [r0, #5]	@ zero_extendqisi2
 1402 006e 0227     		movs	r7, #2
 1403 0070 67F30303 		bfi	r3, r7, #0, #4
 1404 0074 4371     		strb	r3, [r0, #5]
 890:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.frameinfo2 = htoes(frameinfo2);
ARM GAS  /tmp/ccUj1Zdj.s 			page 49


 1405              		.loc 1 890 7 is_stmt 1 view .LVU444
 890:Drivers/SOES/Src/esc_eoe.c ****       eoembx->eoeheader.frameinfo2 = htoes(frameinfo2);
 1406              		.loc 1 890 36 is_stmt 0 view .LVU445
 1407 0076 A0F806C0 		strh	ip, [r0, #6]	@ unaligned
 891:Drivers/SOES/Src/esc_eoe.c **** 
 1408              		.loc 1 891 7 is_stmt 1 view .LVU446
 891:Drivers/SOES/Src/esc_eoe.c **** 
 1409              		.loc 1 891 36 is_stmt 0 view .LVU447
 1410 007a 0281     		strh	r2, [r0, #8]	@ unaligned
 894:Drivers/SOES/Src/esc_eoe.c ****             &EOEvar.txebuf.payload[EOEvar.txframeoffset],
 1411              		.loc 1 894 7 is_stmt 1 view .LVU448
 895:Drivers/SOES/Src/esc_eoe.c ****             len_to_send);
 1412              		.loc 1 895 27 is_stmt 0 view .LVU449
 1413 007c 1E4F     		ldr	r7, .L100
 1414 007e 3B69     		ldr	r3, [r7, #16]
 894:Drivers/SOES/Src/esc_eoe.c ****             &EOEvar.txebuf.payload[EOEvar.txframeoffset],
 1415              		.loc 1 894 7 view .LVU450
 1416 0080 2246     		mov	r2, r4
 1417              	.LVL120:
 894:Drivers/SOES/Src/esc_eoe.c ****             &EOEvar.txebuf.payload[EOEvar.txframeoffset],
 1418              		.loc 1 894 7 view .LVU451
 1419 0082 1944     		add	r1, r1, r3
 1420 0084 0A30     		adds	r0, r0, #10
 1421              	.LVL121:
 894:Drivers/SOES/Src/esc_eoe.c ****             &EOEvar.txebuf.payload[EOEvar.txframeoffset],
 1422              		.loc 1 894 7 view .LVU452
 1423 0086 FFF7FEFF 		bl	memcpy
 1424              	.LVL122:
 897:Drivers/SOES/Src/esc_eoe.c **** 
 1425              		.loc 1 897 7 is_stmt 1 view .LVU453
 897:Drivers/SOES/Src/esc_eoe.c **** 
 1426              		.loc 1 897 35 is_stmt 0 view .LVU454
 1427 008a 1F4B     		ldr	r3, .L100+16
 1428 008c 0322     		movs	r2, #3
 1429 008e 5A55     		strb	r2, [r3, r5]
 900:Drivers/SOES/Src/esc_eoe.c ****       {
 1430              		.loc 1 900 7 is_stmt 1 view .LVU455
 900:Drivers/SOES/Src/esc_eoe.c ****       {
 1431              		.loc 1 900 32 is_stmt 0 view .LVU456
 1432 0090 7B8C     		ldrh	r3, [r7, #34]
 900:Drivers/SOES/Src/esc_eoe.c ****       {
 1433              		.loc 1 900 53 view .LVU457
 1434 0092 BA8C     		ldrh	r2, [r7, #36]
 900:Drivers/SOES/Src/esc_eoe.c ****       {
 1435              		.loc 1 900 45 view .LVU458
 1436 0094 9B1A     		subs	r3, r3, r2
 900:Drivers/SOES/Src/esc_eoe.c ****       {
 1437              		.loc 1 900 9 view .LVU459
 1438 0096 A342     		cmp	r3, r4
 1439 0098 2AD0     		beq	.L99
 906:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.txfragmentno += 1;
 1440              		.loc 1 906 10 is_stmt 1 view .LVU460
 906:Drivers/SOES/Src/esc_eoe.c ****          EOEvar.txfragmentno += 1;
 1441              		.loc 1 906 31 is_stmt 0 view .LVU461
 1442 009a 174B     		ldr	r3, .L100
 1443 009c 1644     		add	r6, r6, r2
 1444 009e 9E84     		strh	r6, [r3, #36]	@ movhi
ARM GAS  /tmp/ccUj1Zdj.s 			page 50


 907:Drivers/SOES/Src/esc_eoe.c ****       }
 1445              		.loc 1 907 10 is_stmt 1 view .LVU462
 907:Drivers/SOES/Src/esc_eoe.c ****       }
 1446              		.loc 1 907 16 is_stmt 0 view .LVU463
 1447 00a0 93F82020 		ldrb	r2, [r3, #32]	@ zero_extendqisi2
 907:Drivers/SOES/Src/esc_eoe.c ****       }
 1448              		.loc 1 907 30 view .LVU464
 1449 00a4 0132     		adds	r2, r2, #1
 1450 00a6 83F82020 		strb	r2, [r3, #32]
 1451              	.L93:
 909:Drivers/SOES/Src/esc_eoe.c ****       {
 1452              		.loc 1 909 7 is_stmt 1 view .LVU465
 909:Drivers/SOES/Src/esc_eoe.c ****       {
 1453              		.loc 1 909 17 is_stmt 0 view .LVU466
 1454 00aa 184B     		ldr	r3, .L100+20
 1455 00ac 1B68     		ldr	r3, [r3]
 1456 00ae 9B69     		ldr	r3, [r3, #24]
 909:Drivers/SOES/Src/esc_eoe.c ****       {
 1457              		.loc 1 909 9 view .LVU467
 1458 00b0 03B1     		cbz	r3, .L85
 911:Drivers/SOES/Src/esc_eoe.c ****       }
 1459              		.loc 1 911 10 is_stmt 1 view .LVU468
 1460 00b2 9847     		blx	r3
 1461              	.LVL123:
 1462              	.L85:
 914:Drivers/SOES/Src/esc_eoe.c **** 
 1463              		.loc 1 914 1 is_stmt 0 view .LVU469
 1464 00b4 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1465              	.L97:
 836:Drivers/SOES/Src/esc_eoe.c ****       if(len > 0)
 1466              		.loc 1 836 7 is_stmt 1 view .LVU470
 836:Drivers/SOES/Src/esc_eoe.c ****       if(len > 0)
 1467              		.loc 1 836 20 is_stmt 0 view .LVU471
 1468 00b6 154B     		ldr	r3, .L100+20
 1469 00b8 1B68     		ldr	r3, [r3]
 1470 00ba 5B69     		ldr	r3, [r3, #20]
 836:Drivers/SOES/Src/esc_eoe.c ****       if(len > 0)
 1471              		.loc 1 836 13 view .LVU472
 1472 00bc 1449     		ldr	r1, .L100+24
 1473 00be 0020     		movs	r0, #0
 1474 00c0 9847     		blx	r3
 1475              	.LVL124:
 837:Drivers/SOES/Src/esc_eoe.c ****       {
 1476              		.loc 1 837 7 is_stmt 1 view .LVU473
 837:Drivers/SOES/Src/esc_eoe.c ****       {
 1477              		.loc 1 837 9 is_stmt 0 view .LVU474
 1478 00c2 0028     		cmp	r0, #0
 837:Drivers/SOES/Src/esc_eoe.c ****       {
 1479              		.loc 1 837 9 view .LVU475
 1480 00c4 F6DD     		ble	.L85
 839:Drivers/SOES/Src/esc_eoe.c ****       }
 1481              		.loc 1 839 10 is_stmt 1 view .LVU476
 839:Drivers/SOES/Src/esc_eoe.c ****       }
 1482              		.loc 1 839 29 is_stmt 0 view .LVU477
 1483 00c6 0C4B     		ldr	r3, .L100
 1484 00c8 5884     		strh	r0, [r3, #34]	@ movhi
 1485 00ca 9EE7     		b	.L86
ARM GAS  /tmp/ccUj1Zdj.s 			page 51


 1486              	.LVL125:
 1487              	.L94:
 851:Drivers/SOES/Src/esc_eoe.c ****       if((len_to_send + ESC_EOEHSIZE + ESC_MBXHSIZE) > ESC_MBXSIZE)
 1488              		.loc 1 851 19 view .LVU478
 1489 00cc 1446     		mov	r4, r2
 1490 00ce AFE7     		b	.L88
 1491              	.LVL126:
 1492              	.L98:
 862:Drivers/SOES/Src/esc_eoe.c ****       }
 1493              		.loc 1 862 21 view .LVU479
 1494 00d0 4FF4807C 		mov	ip, #256
 1495 00d4 B0E7     		b	.L89
 1496              	.LVL127:
 1497              	.L90:
 879:Drivers/SOES/Src/esc_eoe.c ****                (EOE_HDR_FRAME_OFFSET_SET(((EOEvar.txframesize + 31) >> 5)));
 1498              		.loc 1 879 10 is_stmt 1 view .LVU480
 880:Drivers/SOES/Src/esc_eoe.c ****          frameno++;
 1499              		.loc 1 880 17 is_stmt 0 view .LVU481
 1500 00d6 00F11F02 		add	r2, r0, #31
 1501 00da 5211     		asrs	r2, r2, #5
 1502 00dc 9201     		lsls	r2, r2, #6
 1503 00de 02F47C62 		and	r2, r2, #4032
 879:Drivers/SOES/Src/esc_eoe.c ****                (EOE_HDR_FRAME_OFFSET_SET(((EOEvar.txframesize + 31) >> 5)));
 1504              		.loc 1 879 21 view .LVU482
 1505 00e2 42EA0E02 		orr	r2, r2, lr
 1506              	.LVL128:
 881:Drivers/SOES/Src/esc_eoe.c ****       }
 1507              		.loc 1 881 10 is_stmt 1 view .LVU483
 881:Drivers/SOES/Src/esc_eoe.c ****       }
 1508              		.loc 1 881 17 is_stmt 0 view .LVU484
 1509 00e6 064E     		ldr	r6, .L100+8
 1510 00e8 3078     		ldrb	r0, [r6]	@ zero_extendqisi2
 1511 00ea 0130     		adds	r0, r0, #1
 1512 00ec 3070     		strb	r0, [r6]
 1513 00ee B0E7     		b	.L91
 1514              	.LVL129:
 1515              	.L99:
 902:Drivers/SOES/Src/esc_eoe.c ****       }
 1516              		.loc 1 902 10 is_stmt 1 view .LVU485
 1517 00f0 FFF7FEFF 		bl	EOE_init_tx
 1518              	.LVL130:
 1519 00f4 D9E7     		b	.L93
 1520              	.L101:
 1521 00f6 00BF     		.align	2
 1522              	.L100:
 1523 00f8 00000000 		.word	EOEvar
 1524 00fc 00000000 		.word	ESCvar
 1525 0100 00000000 		.word	frameno.0
 1526 0104 00000000 		.word	MBX
 1527 0108 00000000 		.word	MBXcontrol
 1528 010c 00000000 		.word	eoe_cfg
 1529 0110 0C000000 		.word	EOEvar+12
 1530              		.cfi_endproc
 1531              	.LFE18:
 1533              		.section	.text.EOE_get_mac,"ax",%progbits
 1534              		.align	1
 1535              		.global	EOE_get_mac
ARM GAS  /tmp/ccUj1Zdj.s 			page 52


 1536              		.syntax unified
 1537              		.thumb
 1538              		.thumb_func
 1540              	EOE_get_mac:
 1541              	.LVL131:
 1542              	.LFB2:
 221:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 1543              		.loc 1 221 1 view -0
 1544              		.cfi_startproc
 1545              		@ args = 0, pretend = 0, frame = 0
 1546              		@ frame_needed = 0, uses_anonymous_args = 0
 1547              		@ link register save eliminated.
 222:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1548              		.loc 1 222 4 view .LVU487
 223:Drivers/SOES/Src/esc_eoe.c **** 
 1549              		.loc 1 223 4 view .LVU488
 225:Drivers/SOES/Src/esc_eoe.c ****    {
 1550              		.loc 1 225 4 view .LVU489
 225:Drivers/SOES/Src/esc_eoe.c ****    {
 1551              		.loc 1 225 6 is_stmt 0 view .LVU490
 1552 0000 80B9     		cbnz	r0, .L104
 227:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].mac_set)
 1553              		.loc 1 227 7 is_stmt 1 discriminator 4 view .LVU491
 1554              	.LVL132:
 228:Drivers/SOES/Src/esc_eoe.c ****       {
 1555              		.loc 1 228 7 discriminator 4 view .LVU492
 228:Drivers/SOES/Src/esc_eoe.c ****       {
 1556              		.loc 1 228 28 is_stmt 0 discriminator 4 view .LVU493
 1557 0002 0B4B     		ldr	r3, .L106
 1558 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 228:Drivers/SOES/Src/esc_eoe.c ****       {
 1559              		.loc 1 228 9 discriminator 4 view .LVU494
 1560 0006 13F0010F 		tst	r3, #1
 1561 000a 0ED0     		beq	.L105
 230:Drivers/SOES/Src/esc_eoe.c ****                sizeof(nic_ports[port_ix].mac));
 1562              		.loc 1 230 10 is_stmt 1 view .LVU495
 1563 000c 084B     		ldr	r3, .L106
 1564 000e D3F80120 		ldr	r2, [r3, #1]	@ unaligned
 1565 0012 0A60     		str	r2, [r1]	@ unaligned
 1566 0014 B3F80520 		ldrh	r2, [r3, #5]	@ unaligned
 1567 0018 8A80     		strh	r2, [r1, #4]	@ unaligned
 232:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 1568              		.loc 1 232 10 view .LVU496
 232:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 1569              		.loc 1 232 37 is_stmt 0 view .LVU497
 1570 001a 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 1571 001c 42F00102 		orr	r2, r2, #1
 1572 0020 1A70     		strb	r2, [r3]
 233:Drivers/SOES/Src/esc_eoe.c ****       }
 1573              		.loc 1 233 10 is_stmt 1 view .LVU498
 1574              	.LVL133:
 233:Drivers/SOES/Src/esc_eoe.c ****       }
 1575              		.loc 1 233 10 is_stmt 0 view .LVU499
 1576 0022 7047     		bx	lr
 1577              	.LVL134:
 1578              	.L104:
 222:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
ARM GAS  /tmp/ccUj1Zdj.s 			page 53


 1579              		.loc 1 222 8 view .LVU500
 1580 0024 4FF0FF30 		mov	r0, #-1
 1581              	.LVL135:
 222:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1582              		.loc 1 222 8 view .LVU501
 1583 0028 7047     		bx	lr
 1584              	.LVL136:
 1585              	.L105:
 222:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1586              		.loc 1 222 8 view .LVU502
 1587 002a 4FF0FF30 		mov	r0, #-1
 1588              	.LVL137:
 236:Drivers/SOES/Src/esc_eoe.c **** }
 1589              		.loc 1 236 4 is_stmt 1 view .LVU503
 237:Drivers/SOES/Src/esc_eoe.c **** 
 1590              		.loc 1 237 1 is_stmt 0 view .LVU504
 1591 002e 7047     		bx	lr
 1592              	.L107:
 1593              		.align	2
 1594              	.L106:
 1595 0030 00000000 		.word	nic_ports
 1596              		.cfi_endproc
 1597              	.LFE2:
 1599              		.section	.text.EOE_ecat_set_mac,"ax",%progbits
 1600              		.align	1
 1601              		.global	EOE_ecat_set_mac
 1602              		.syntax unified
 1603              		.thumb
 1604              		.thumb_func
 1606              	EOE_ecat_set_mac:
 1607              	.LVL138:
 1608              	.LFB3:
 246:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 1609              		.loc 1 246 1 is_stmt 1 view -0
 1610              		.cfi_startproc
 1611              		@ args = 0, pretend = 0, frame = 0
 1612              		@ frame_needed = 0, uses_anonymous_args = 0
 1613              		@ link register save eliminated.
 247:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1614              		.loc 1 247 4 view .LVU506
 248:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 1615              		.loc 1 248 4 view .LVU507
 249:Drivers/SOES/Src/esc_eoe.c ****    {
 1616              		.loc 1 249 4 view .LVU508
 249:Drivers/SOES/Src/esc_eoe.c ****    {
 1617              		.loc 1 249 6 is_stmt 0 view .LVU509
 1618 0000 38B9     		cbnz	r0, .L110
 251:Drivers/SOES/Src/esc_eoe.c ****       memcpy(nic_ports[port_ix].mac.addr, mac,
 1619              		.loc 1 251 7 is_stmt 1 discriminator 4 view .LVU510
 1620              	.LVL139:
 252:Drivers/SOES/Src/esc_eoe.c ****             sizeof(nic_ports[port_ix].mac));
 1621              		.loc 1 252 7 discriminator 4 view .LVU511
 1622 0002 054B     		ldr	r3, .L111
 1623 0004 0A68     		ldr	r2, [r1]	@ unaligned
 1624 0006 C3F80120 		str	r2, [r3, #1]	@ unaligned
 1625 000a 8A88     		ldrh	r2, [r1, #4]	@ unaligned
 1626 000c A3F80520 		strh	r2, [r3, #5]	@ unaligned
ARM GAS  /tmp/ccUj1Zdj.s 			page 54


 254:Drivers/SOES/Src/esc_eoe.c ****    }
 1627              		.loc 1 254 7 discriminator 4 view .LVU512
 1628              	.LVL140:
 254:Drivers/SOES/Src/esc_eoe.c ****    }
 1629              		.loc 1 254 7 is_stmt 0 discriminator 4 view .LVU513
 1630 0010 7047     		bx	lr
 1631              	.LVL141:
 1632              	.L110:
 247:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1633              		.loc 1 247 8 view .LVU514
 1634 0012 4FF0FF30 		mov	r0, #-1
 1635              	.LVL142:
 256:Drivers/SOES/Src/esc_eoe.c **** }
 1636              		.loc 1 256 4 is_stmt 1 view .LVU515
 257:Drivers/SOES/Src/esc_eoe.c **** 
 1637              		.loc 1 257 1 is_stmt 0 view .LVU516
 1638 0016 7047     		bx	lr
 1639              	.L112:
 1640              		.align	2
 1641              	.L111:
 1642 0018 00000000 		.word	nic_ports
 1643              		.cfi_endproc
 1644              	.LFE3:
 1646              		.section	.text.EOE_ecat_get_ip,"ax",%progbits
 1647              		.align	1
 1648              		.global	EOE_ecat_get_ip
 1649              		.syntax unified
 1650              		.thumb
 1651              		.thumb_func
 1653              	EOE_ecat_get_ip:
 1654              	.LVL143:
 1655              	.LFB4:
 266:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 1656              		.loc 1 266 1 is_stmt 1 view -0
 1657              		.cfi_startproc
 1658              		@ args = 0, pretend = 0, frame = 0
 1659              		@ frame_needed = 0, uses_anonymous_args = 0
 1660              		@ link register save eliminated.
 267:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1661              		.loc 1 267 4 view .LVU518
 268:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 1662              		.loc 1 268 4 view .LVU519
 269:Drivers/SOES/Src/esc_eoe.c ****    {
 1663              		.loc 1 269 4 view .LVU520
 269:Drivers/SOES/Src/esc_eoe.c ****    {
 1664              		.loc 1 269 6 is_stmt 0 view .LVU521
 1665 0000 A0B9     		cbnz	r0, .L115
 271:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].ip_set)
 1666              		.loc 1 271 7 is_stmt 1 discriminator 4 view .LVU522
 1667              	.LVL144:
 272:Drivers/SOES/Src/esc_eoe.c ****       {
 1668              		.loc 1 272 7 discriminator 4 view .LVU523
 272:Drivers/SOES/Src/esc_eoe.c ****       {
 1669              		.loc 1 272 28 is_stmt 0 discriminator 4 view .LVU524
 1670 0002 0D4B     		ldr	r3, .L117
 1671 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 272:Drivers/SOES/Src/esc_eoe.c ****       {
ARM GAS  /tmp/ccUj1Zdj.s 			page 55


 1672              		.loc 1 272 9 discriminator 4 view .LVU525
 1673 0006 13F0020F 		tst	r3, #2
 1674 000a 12D0     		beq	.L116
 274:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 1675              		.loc 1 274 10 is_stmt 1 view .LVU526
 274:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 1676              		.loc 1 274 16 is_stmt 0 view .LVU527
 1677 000c 0A4B     		ldr	r3, .L117
 1678 000e 9A68     		ldr	r2, [r3, #8]
 1679 0010 1302     		lsls	r3, r2, #8
 1680 0012 03F47F03 		and	r3, r3, #16711680
 1681 0016 43EA0263 		orr	r3, r3, r2, lsl #24
 1682 001a 100A     		lsrs	r0, r2, #8
 1683              	.LVL145:
 274:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 1684              		.loc 1 274 16 view .LVU528
 1685 001c 00F47F40 		and	r0, r0, #65280
 1686 0020 0343     		orrs	r3, r3, r0
 1687 0022 43EA1263 		orr	r3, r3, r2, lsr #24
 274:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 1688              		.loc 1 274 14 view .LVU529
 1689 0026 0B60     		str	r3, [r1]
 275:Drivers/SOES/Src/esc_eoe.c ****       }
 1690              		.loc 1 275 10 is_stmt 1 view .LVU530
 1691              	.LVL146:
 275:Drivers/SOES/Src/esc_eoe.c ****       }
 1692              		.loc 1 275 14 is_stmt 0 view .LVU531
 1693 0028 0020     		movs	r0, #0
 1694 002a 7047     		bx	lr
 1695              	.LVL147:
 1696              	.L115:
 267:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1697              		.loc 1 267 8 view .LVU532
 1698 002c 4FF0FF30 		mov	r0, #-1
 1699              	.LVL148:
 267:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1700              		.loc 1 267 8 view .LVU533
 1701 0030 7047     		bx	lr
 1702              	.LVL149:
 1703              	.L116:
 267:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1704              		.loc 1 267 8 view .LVU534
 1705 0032 4FF0FF30 		mov	r0, #-1
 1706              	.LVL150:
 278:Drivers/SOES/Src/esc_eoe.c **** }
 1707              		.loc 1 278 4 is_stmt 1 view .LVU535
 279:Drivers/SOES/Src/esc_eoe.c **** 
 1708              		.loc 1 279 1 is_stmt 0 view .LVU536
 1709 0036 7047     		bx	lr
 1710              	.L118:
 1711              		.align	2
 1712              	.L117:
 1713 0038 00000000 		.word	nic_ports
 1714              		.cfi_endproc
 1715              	.LFE4:
 1717              		.section	.text.EOE_ecat_set_ip,"ax",%progbits
 1718              		.align	1
ARM GAS  /tmp/ccUj1Zdj.s 			page 56


 1719              		.global	EOE_ecat_set_ip
 1720              		.syntax unified
 1721              		.thumb
 1722              		.thumb_func
 1724              	EOE_ecat_set_ip:
 1725              	.LVL151:
 1726              	.LFB5:
 288:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 1727              		.loc 1 288 1 is_stmt 1 view -0
 1728              		.cfi_startproc
 1729              		@ args = 0, pretend = 0, frame = 0
 1730              		@ frame_needed = 0, uses_anonymous_args = 0
 1731              		@ link register save eliminated.
 289:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1732              		.loc 1 289 4 view .LVU538
 290:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 1733              		.loc 1 290 4 view .LVU539
 291:Drivers/SOES/Src/esc_eoe.c ****    {
 1734              		.loc 1 291 4 view .LVU540
 291:Drivers/SOES/Src/esc_eoe.c ****    {
 1735              		.loc 1 291 6 is_stmt 0 view .LVU541
 1736 0000 88B9     		cbnz	r0, .L121
 293:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].ip.addr = EOE_HTONL(ip);
 1737              		.loc 1 293 7 is_stmt 1 discriminator 4 view .LVU542
 1738              	.LVL152:
 294:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].ip_set = 1;
 1739              		.loc 1 294 7 discriminator 4 view .LVU543
 294:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].ip_set = 1;
 1740              		.loc 1 294 36 is_stmt 0 discriminator 4 view .LVU544
 1741 0002 0B02     		lsls	r3, r1, #8
 1742 0004 03F47F03 		and	r3, r3, #16711680
 1743 0008 43EA0163 		orr	r3, r3, r1, lsl #24
 1744 000c 0A0A     		lsrs	r2, r1, #8
 1745 000e 02F47F42 		and	r2, r2, #65280
 1746 0012 1343     		orrs	r3, r3, r2
 1747 0014 43EA1161 		orr	r1, r3, r1, lsr #24
 1748              	.LVL153:
 294:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].ip_set = 1;
 1749              		.loc 1 294 34 discriminator 4 view .LVU545
 1750 0018 044B     		ldr	r3, .L122
 1751 001a 9960     		str	r1, [r3, #8]
 295:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 1752              		.loc 1 295 7 is_stmt 1 discriminator 4 view .LVU546
 295:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 1753              		.loc 1 295 33 is_stmt 0 discriminator 4 view .LVU547
 1754 001c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 1755 001e 42F00202 		orr	r2, r2, #2
 1756 0022 1A70     		strb	r2, [r3]
 296:Drivers/SOES/Src/esc_eoe.c ****    }
 1757              		.loc 1 296 7 is_stmt 1 discriminator 4 view .LVU548
 1758              	.LVL154:
 296:Drivers/SOES/Src/esc_eoe.c ****    }
 1759              		.loc 1 296 7 is_stmt 0 discriminator 4 view .LVU549
 1760 0024 7047     		bx	lr
 1761              	.LVL155:
 1762              	.L121:
 289:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
ARM GAS  /tmp/ccUj1Zdj.s 			page 57


 1763              		.loc 1 289 8 view .LVU550
 1764 0026 4FF0FF30 		mov	r0, #-1
 1765              	.LVL156:
 298:Drivers/SOES/Src/esc_eoe.c **** }
 1766              		.loc 1 298 4 is_stmt 1 view .LVU551
 299:Drivers/SOES/Src/esc_eoe.c **** 
 1767              		.loc 1 299 1 is_stmt 0 view .LVU552
 1768 002a 7047     		bx	lr
 1769              	.L123:
 1770              		.align	2
 1771              	.L122:
 1772 002c 00000000 		.word	nic_ports
 1773              		.cfi_endproc
 1774              	.LFE5:
 1776              		.section	.text.EOE_ecat_get_subnet,"ax",%progbits
 1777              		.align	1
 1778              		.global	EOE_ecat_get_subnet
 1779              		.syntax unified
 1780              		.thumb
 1781              		.thumb_func
 1783              	EOE_ecat_get_subnet:
 1784              	.LVL157:
 1785              	.LFB6:
 308:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 1786              		.loc 1 308 1 is_stmt 1 view -0
 1787              		.cfi_startproc
 1788              		@ args = 0, pretend = 0, frame = 0
 1789              		@ frame_needed = 0, uses_anonymous_args = 0
 1790              		@ link register save eliminated.
 309:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1791              		.loc 1 309 4 view .LVU554
 310:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 1792              		.loc 1 310 4 view .LVU555
 311:Drivers/SOES/Src/esc_eoe.c ****    {
 1793              		.loc 1 311 4 view .LVU556
 311:Drivers/SOES/Src/esc_eoe.c ****    {
 1794              		.loc 1 311 6 is_stmt 0 view .LVU557
 1795 0000 A0B9     		cbnz	r0, .L126
 313:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].subnet_set)
 1796              		.loc 1 313 7 is_stmt 1 discriminator 4 view .LVU558
 1797              	.LVL158:
 314:Drivers/SOES/Src/esc_eoe.c ****       {
 1798              		.loc 1 314 7 discriminator 4 view .LVU559
 314:Drivers/SOES/Src/esc_eoe.c ****       {
 1799              		.loc 1 314 28 is_stmt 0 discriminator 4 view .LVU560
 1800 0002 0D4B     		ldr	r3, .L128
 1801 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 314:Drivers/SOES/Src/esc_eoe.c ****       {
 1802              		.loc 1 314 9 discriminator 4 view .LVU561
 1803 0006 13F0040F 		tst	r3, #4
 1804 000a 12D0     		beq	.L127
 316:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 1805              		.loc 1 316 10 is_stmt 1 view .LVU562
 316:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 1806              		.loc 1 316 20 is_stmt 0 view .LVU563
 1807 000c 0A4B     		ldr	r3, .L128
 1808 000e DA68     		ldr	r2, [r3, #12]
ARM GAS  /tmp/ccUj1Zdj.s 			page 58


 1809 0010 1302     		lsls	r3, r2, #8
 1810 0012 03F47F03 		and	r3, r3, #16711680
 1811 0016 43EA0263 		orr	r3, r3, r2, lsl #24
 1812 001a 100A     		lsrs	r0, r2, #8
 1813              	.LVL159:
 316:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 1814              		.loc 1 316 20 view .LVU564
 1815 001c 00F47F40 		and	r0, r0, #65280
 1816 0020 0343     		orrs	r3, r3, r0
 1817 0022 43EA1263 		orr	r3, r3, r2, lsr #24
 316:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 1818              		.loc 1 316 18 view .LVU565
 1819 0026 0B60     		str	r3, [r1]
 317:Drivers/SOES/Src/esc_eoe.c ****       }
 1820              		.loc 1 317 10 is_stmt 1 view .LVU566
 1821              	.LVL160:
 317:Drivers/SOES/Src/esc_eoe.c ****       }
 1822              		.loc 1 317 14 is_stmt 0 view .LVU567
 1823 0028 0020     		movs	r0, #0
 1824 002a 7047     		bx	lr
 1825              	.LVL161:
 1826              	.L126:
 309:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1827              		.loc 1 309 8 view .LVU568
 1828 002c 4FF0FF30 		mov	r0, #-1
 1829              	.LVL162:
 309:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1830              		.loc 1 309 8 view .LVU569
 1831 0030 7047     		bx	lr
 1832              	.LVL163:
 1833              	.L127:
 309:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1834              		.loc 1 309 8 view .LVU570
 1835 0032 4FF0FF30 		mov	r0, #-1
 1836              	.LVL164:
 320:Drivers/SOES/Src/esc_eoe.c **** }
 1837              		.loc 1 320 4 is_stmt 1 view .LVU571
 321:Drivers/SOES/Src/esc_eoe.c **** 
 1838              		.loc 1 321 1 is_stmt 0 view .LVU572
 1839 0036 7047     		bx	lr
 1840              	.L129:
 1841              		.align	2
 1842              	.L128:
 1843 0038 00000000 		.word	nic_ports
 1844              		.cfi_endproc
 1845              	.LFE6:
 1847              		.section	.text.EOE_ecat_set_subnet,"ax",%progbits
 1848              		.align	1
 1849              		.global	EOE_ecat_set_subnet
 1850              		.syntax unified
 1851              		.thumb
 1852              		.thumb_func
 1854              	EOE_ecat_set_subnet:
 1855              	.LVL165:
 1856              	.LFB7:
 330:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 1857              		.loc 1 330 1 is_stmt 1 view -0
ARM GAS  /tmp/ccUj1Zdj.s 			page 59


 1858              		.cfi_startproc
 1859              		@ args = 0, pretend = 0, frame = 0
 1860              		@ frame_needed = 0, uses_anonymous_args = 0
 1861              		@ link register save eliminated.
 331:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1862              		.loc 1 331 4 view .LVU574
 332:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 1863              		.loc 1 332 4 view .LVU575
 333:Drivers/SOES/Src/esc_eoe.c ****    {
 1864              		.loc 1 333 4 view .LVU576
 333:Drivers/SOES/Src/esc_eoe.c ****    {
 1865              		.loc 1 333 6 is_stmt 0 view .LVU577
 1866 0000 88B9     		cbnz	r0, .L132
 335:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].subnet.addr = EOE_HTONL(subnet);
 1867              		.loc 1 335 7 is_stmt 1 discriminator 4 view .LVU578
 1868              	.LVL166:
 336:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].subnet_set = 1;
 1869              		.loc 1 336 7 discriminator 4 view .LVU579
 336:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].subnet_set = 1;
 1870              		.loc 1 336 40 is_stmt 0 discriminator 4 view .LVU580
 1871 0002 0B02     		lsls	r3, r1, #8
 1872 0004 03F47F03 		and	r3, r3, #16711680
 1873 0008 43EA0163 		orr	r3, r3, r1, lsl #24
 1874 000c 0A0A     		lsrs	r2, r1, #8
 1875 000e 02F47F42 		and	r2, r2, #65280
 1876 0012 1343     		orrs	r3, r3, r2
 1877 0014 43EA1161 		orr	r1, r3, r1, lsr #24
 1878              	.LVL167:
 336:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].subnet_set = 1;
 1879              		.loc 1 336 38 discriminator 4 view .LVU581
 1880 0018 044B     		ldr	r3, .L133
 1881 001a D960     		str	r1, [r3, #12]
 337:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 1882              		.loc 1 337 7 is_stmt 1 discriminator 4 view .LVU582
 337:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 1883              		.loc 1 337 37 is_stmt 0 discriminator 4 view .LVU583
 1884 001c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 1885 001e 42F00402 		orr	r2, r2, #4
 1886 0022 1A70     		strb	r2, [r3]
 338:Drivers/SOES/Src/esc_eoe.c ****    }
 1887              		.loc 1 338 7 is_stmt 1 discriminator 4 view .LVU584
 1888              	.LVL168:
 338:Drivers/SOES/Src/esc_eoe.c ****    }
 1889              		.loc 1 338 7 is_stmt 0 discriminator 4 view .LVU585
 1890 0024 7047     		bx	lr
 1891              	.LVL169:
 1892              	.L132:
 331:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1893              		.loc 1 331 8 view .LVU586
 1894 0026 4FF0FF30 		mov	r0, #-1
 1895              	.LVL170:
 340:Drivers/SOES/Src/esc_eoe.c **** }
 1896              		.loc 1 340 4 is_stmt 1 view .LVU587
 341:Drivers/SOES/Src/esc_eoe.c **** 
 1897              		.loc 1 341 1 is_stmt 0 view .LVU588
 1898 002a 7047     		bx	lr
 1899              	.L134:
ARM GAS  /tmp/ccUj1Zdj.s 			page 60


 1900              		.align	2
 1901              	.L133:
 1902 002c 00000000 		.word	nic_ports
 1903              		.cfi_endproc
 1904              	.LFE7:
 1906              		.section	.text.EOE_ecat_get_gateway,"ax",%progbits
 1907              		.align	1
 1908              		.global	EOE_ecat_get_gateway
 1909              		.syntax unified
 1910              		.thumb
 1911              		.thumb_func
 1913              	EOE_ecat_get_gateway:
 1914              	.LVL171:
 1915              	.LFB8:
 350:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 1916              		.loc 1 350 1 is_stmt 1 view -0
 1917              		.cfi_startproc
 1918              		@ args = 0, pretend = 0, frame = 0
 1919              		@ frame_needed = 0, uses_anonymous_args = 0
 1920              		@ link register save eliminated.
 351:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1921              		.loc 1 351 4 view .LVU590
 352:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 1922              		.loc 1 352 4 view .LVU591
 353:Drivers/SOES/Src/esc_eoe.c ****    {
 1923              		.loc 1 353 4 view .LVU592
 353:Drivers/SOES/Src/esc_eoe.c ****    {
 1924              		.loc 1 353 6 is_stmt 0 view .LVU593
 1925 0000 A0B9     		cbnz	r0, .L137
 355:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].default_gateway_set)
 1926              		.loc 1 355 7 is_stmt 1 discriminator 4 view .LVU594
 1927              	.LVL172:
 356:Drivers/SOES/Src/esc_eoe.c ****       {
 1928              		.loc 1 356 7 discriminator 4 view .LVU595
 356:Drivers/SOES/Src/esc_eoe.c ****       {
 1929              		.loc 1 356 28 is_stmt 0 discriminator 4 view .LVU596
 1930 0002 0D4B     		ldr	r3, .L139
 1931 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 356:Drivers/SOES/Src/esc_eoe.c ****       {
 1932              		.loc 1 356 9 discriminator 4 view .LVU597
 1933 0006 13F0080F 		tst	r3, #8
 1934 000a 12D0     		beq	.L138
 358:Drivers/SOES/Src/esc_eoe.c ****                EOE_NTOHL(nic_ports[port_ix].default_gateway.addr);
 1935              		.loc 1 358 10 is_stmt 1 view .LVU598
 359:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 1936              		.loc 1 359 16 is_stmt 0 view .LVU599
 1937 000c 0A4B     		ldr	r3, .L139
 1938 000e 1A69     		ldr	r2, [r3, #16]
 1939 0010 1302     		lsls	r3, r2, #8
 1940 0012 03F47F03 		and	r3, r3, #16711680
 1941 0016 43EA0263 		orr	r3, r3, r2, lsl #24
 1942 001a 100A     		lsrs	r0, r2, #8
 1943              	.LVL173:
 359:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 1944              		.loc 1 359 16 view .LVU600
 1945 001c 00F47F40 		and	r0, r0, #65280
 1946 0020 0343     		orrs	r3, r3, r0
ARM GAS  /tmp/ccUj1Zdj.s 			page 61


 1947 0022 43EA1263 		orr	r3, r3, r2, lsr #24
 358:Drivers/SOES/Src/esc_eoe.c ****                EOE_NTOHL(nic_ports[port_ix].default_gateway.addr);
 1948              		.loc 1 358 27 view .LVU601
 1949 0026 0B60     		str	r3, [r1]
 360:Drivers/SOES/Src/esc_eoe.c ****       }
 1950              		.loc 1 360 10 is_stmt 1 view .LVU602
 1951              	.LVL174:
 360:Drivers/SOES/Src/esc_eoe.c ****       }
 1952              		.loc 1 360 14 is_stmt 0 view .LVU603
 1953 0028 0020     		movs	r0, #0
 1954 002a 7047     		bx	lr
 1955              	.LVL175:
 1956              	.L137:
 351:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1957              		.loc 1 351 8 view .LVU604
 1958 002c 4FF0FF30 		mov	r0, #-1
 1959              	.LVL176:
 351:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1960              		.loc 1 351 8 view .LVU605
 1961 0030 7047     		bx	lr
 1962              	.LVL177:
 1963              	.L138:
 351:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1964              		.loc 1 351 8 view .LVU606
 1965 0032 4FF0FF30 		mov	r0, #-1
 1966              	.LVL178:
 363:Drivers/SOES/Src/esc_eoe.c **** }
 1967              		.loc 1 363 4 is_stmt 1 view .LVU607
 364:Drivers/SOES/Src/esc_eoe.c **** 
 1968              		.loc 1 364 1 is_stmt 0 view .LVU608
 1969 0036 7047     		bx	lr
 1970              	.L140:
 1971              		.align	2
 1972              	.L139:
 1973 0038 00000000 		.word	nic_ports
 1974              		.cfi_endproc
 1975              	.LFE8:
 1977              		.section	.text.EOE_ecat_set_gateway,"ax",%progbits
 1978              		.align	1
 1979              		.global	EOE_ecat_set_gateway
 1980              		.syntax unified
 1981              		.thumb
 1982              		.thumb_func
 1984              	EOE_ecat_set_gateway:
 1985              	.LVL179:
 1986              	.LFB9:
 373:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 1987              		.loc 1 373 1 is_stmt 1 view -0
 1988              		.cfi_startproc
 1989              		@ args = 0, pretend = 0, frame = 0
 1990              		@ frame_needed = 0, uses_anonymous_args = 0
 1991              		@ link register save eliminated.
 374:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 1992              		.loc 1 374 4 view .LVU610
 375:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 1993              		.loc 1 375 4 view .LVU611
 376:Drivers/SOES/Src/esc_eoe.c ****    {
ARM GAS  /tmp/ccUj1Zdj.s 			page 62


 1994              		.loc 1 376 4 view .LVU612
 376:Drivers/SOES/Src/esc_eoe.c ****    {
 1995              		.loc 1 376 6 is_stmt 0 view .LVU613
 1996 0000 88B9     		cbnz	r0, .L143
 378:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].default_gateway.addr =
 1997              		.loc 1 378 7 is_stmt 1 discriminator 4 view .LVU614
 1998              	.LVL180:
 379:Drivers/SOES/Src/esc_eoe.c ****             EOE_HTONL(default_gateway);
 1999              		.loc 1 379 7 discriminator 4 view .LVU615
 380:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].default_gateway_set = 1;
 2000              		.loc 1 380 13 is_stmt 0 discriminator 4 view .LVU616
 2001 0002 0B02     		lsls	r3, r1, #8
 2002 0004 03F47F03 		and	r3, r3, #16711680
 2003 0008 43EA0163 		orr	r3, r3, r1, lsl #24
 2004 000c 0A0A     		lsrs	r2, r1, #8
 2005 000e 02F47F42 		and	r2, r2, #65280
 2006 0012 1343     		orrs	r3, r3, r2
 2007 0014 43EA1161 		orr	r1, r3, r1, lsr #24
 2008              	.LVL181:
 379:Drivers/SOES/Src/esc_eoe.c ****             EOE_HTONL(default_gateway);
 2009              		.loc 1 379 47 discriminator 4 view .LVU617
 2010 0018 044B     		ldr	r3, .L144
 2011 001a 1961     		str	r1, [r3, #16]
 381:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 2012              		.loc 1 381 7 is_stmt 1 discriminator 4 view .LVU618
 381:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 2013              		.loc 1 381 46 is_stmt 0 discriminator 4 view .LVU619
 2014 001c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2015 001e 42F00802 		orr	r2, r2, #8
 2016 0022 1A70     		strb	r2, [r3]
 382:Drivers/SOES/Src/esc_eoe.c ****    }
 2017              		.loc 1 382 7 is_stmt 1 discriminator 4 view .LVU620
 2018              	.LVL182:
 382:Drivers/SOES/Src/esc_eoe.c ****    }
 2019              		.loc 1 382 7 is_stmt 0 discriminator 4 view .LVU621
 2020 0024 7047     		bx	lr
 2021              	.LVL183:
 2022              	.L143:
 374:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 2023              		.loc 1 374 8 view .LVU622
 2024 0026 4FF0FF30 		mov	r0, #-1
 2025              	.LVL184:
 384:Drivers/SOES/Src/esc_eoe.c **** }
 2026              		.loc 1 384 4 is_stmt 1 view .LVU623
 385:Drivers/SOES/Src/esc_eoe.c **** 
 2027              		.loc 1 385 1 is_stmt 0 view .LVU624
 2028 002a 7047     		bx	lr
 2029              	.L145:
 2030              		.align	2
 2031              	.L144:
 2032 002c 00000000 		.word	nic_ports
 2033              		.cfi_endproc
 2034              	.LFE9:
 2036              		.section	.text.EOE_ecat_get_dns_ip,"ax",%progbits
 2037              		.align	1
 2038              		.global	EOE_ecat_get_dns_ip
 2039              		.syntax unified
ARM GAS  /tmp/ccUj1Zdj.s 			page 63


 2040              		.thumb
 2041              		.thumb_func
 2043              	EOE_ecat_get_dns_ip:
 2044              	.LVL185:
 2045              	.LFB10:
 394:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 2046              		.loc 1 394 1 is_stmt 1 view -0
 2047              		.cfi_startproc
 2048              		@ args = 0, pretend = 0, frame = 0
 2049              		@ frame_needed = 0, uses_anonymous_args = 0
 2050              		@ link register save eliminated.
 395:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 2051              		.loc 1 395 4 view .LVU626
 396:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 2052              		.loc 1 396 4 view .LVU627
 397:Drivers/SOES/Src/esc_eoe.c ****    {
 2053              		.loc 1 397 4 view .LVU628
 397:Drivers/SOES/Src/esc_eoe.c ****    {
 2054              		.loc 1 397 6 is_stmt 0 view .LVU629
 2055 0000 A0B9     		cbnz	r0, .L148
 399:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].dns_ip_set)
 2056              		.loc 1 399 7 is_stmt 1 discriminator 4 view .LVU630
 2057              	.LVL186:
 400:Drivers/SOES/Src/esc_eoe.c ****       {
 2058              		.loc 1 400 7 discriminator 4 view .LVU631
 400:Drivers/SOES/Src/esc_eoe.c ****       {
 2059              		.loc 1 400 28 is_stmt 0 discriminator 4 view .LVU632
 2060 0002 0D4B     		ldr	r3, .L150
 2061 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 400:Drivers/SOES/Src/esc_eoe.c ****       {
 2062              		.loc 1 400 9 discriminator 4 view .LVU633
 2063 0006 13F0100F 		tst	r3, #16
 2064 000a 12D0     		beq	.L149
 402:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 2065              		.loc 1 402 10 is_stmt 1 view .LVU634
 402:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 2066              		.loc 1 402 20 is_stmt 0 view .LVU635
 2067 000c 0A4B     		ldr	r3, .L150
 2068 000e 5A69     		ldr	r2, [r3, #20]
 2069 0010 1302     		lsls	r3, r2, #8
 2070 0012 03F47F03 		and	r3, r3, #16711680
 2071 0016 43EA0263 		orr	r3, r3, r2, lsl #24
 2072 001a 100A     		lsrs	r0, r2, #8
 2073              	.LVL187:
 402:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 2074              		.loc 1 402 20 view .LVU636
 2075 001c 00F47F40 		and	r0, r0, #65280
 2076 0020 0343     		orrs	r3, r3, r0
 2077 0022 43EA1263 		orr	r3, r3, r2, lsr #24
 402:Drivers/SOES/Src/esc_eoe.c ****          ret = 0;
 2078              		.loc 1 402 18 view .LVU637
 2079 0026 0B60     		str	r3, [r1]
 403:Drivers/SOES/Src/esc_eoe.c ****       }
 2080              		.loc 1 403 10 is_stmt 1 view .LVU638
 2081              	.LVL188:
 403:Drivers/SOES/Src/esc_eoe.c ****       }
 2082              		.loc 1 403 14 is_stmt 0 view .LVU639
ARM GAS  /tmp/ccUj1Zdj.s 			page 64


 2083 0028 0020     		movs	r0, #0
 2084 002a 7047     		bx	lr
 2085              	.LVL189:
 2086              	.L148:
 395:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 2087              		.loc 1 395 8 view .LVU640
 2088 002c 4FF0FF30 		mov	r0, #-1
 2089              	.LVL190:
 395:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 2090              		.loc 1 395 8 view .LVU641
 2091 0030 7047     		bx	lr
 2092              	.LVL191:
 2093              	.L149:
 395:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 2094              		.loc 1 395 8 view .LVU642
 2095 0032 4FF0FF30 		mov	r0, #-1
 2096              	.LVL192:
 406:Drivers/SOES/Src/esc_eoe.c **** }
 2097              		.loc 1 406 4 is_stmt 1 view .LVU643
 407:Drivers/SOES/Src/esc_eoe.c **** 
 2098              		.loc 1 407 1 is_stmt 0 view .LVU644
 2099 0036 7047     		bx	lr
 2100              	.L151:
 2101              		.align	2
 2102              	.L150:
 2103 0038 00000000 		.word	nic_ports
 2104              		.cfi_endproc
 2105              	.LFE10:
 2107              		.section	.text.EOE_ecat_set_dns_ip,"ax",%progbits
 2108              		.align	1
 2109              		.global	EOE_ecat_set_dns_ip
 2110              		.syntax unified
 2111              		.thumb
 2112              		.thumb_func
 2114              	EOE_ecat_set_dns_ip:
 2115              	.LVL193:
 2116              	.LFB11:
 416:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 2117              		.loc 1 416 1 is_stmt 1 view -0
 2118              		.cfi_startproc
 2119              		@ args = 0, pretend = 0, frame = 0
 2120              		@ frame_needed = 0, uses_anonymous_args = 0
 2121              		@ link register save eliminated.
 417:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 2122              		.loc 1 417 4 view .LVU646
 418:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 2123              		.loc 1 418 4 view .LVU647
 419:Drivers/SOES/Src/esc_eoe.c ****    {
 2124              		.loc 1 419 4 view .LVU648
 419:Drivers/SOES/Src/esc_eoe.c ****    {
 2125              		.loc 1 419 6 is_stmt 0 view .LVU649
 2126 0000 88B9     		cbnz	r0, .L154
 421:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].dns_ip.addr = EOE_HTONL(dns_ip);
 2127              		.loc 1 421 7 is_stmt 1 discriminator 4 view .LVU650
 2128              	.LVL194:
 422:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].dns_ip_set = 1;
 2129              		.loc 1 422 7 discriminator 4 view .LVU651
ARM GAS  /tmp/ccUj1Zdj.s 			page 65


 422:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].dns_ip_set = 1;
 2130              		.loc 1 422 40 is_stmt 0 discriminator 4 view .LVU652
 2131 0002 0B02     		lsls	r3, r1, #8
 2132 0004 03F47F03 		and	r3, r3, #16711680
 2133 0008 43EA0163 		orr	r3, r3, r1, lsl #24
 2134 000c 0A0A     		lsrs	r2, r1, #8
 2135 000e 02F47F42 		and	r2, r2, #65280
 2136 0012 1343     		orrs	r3, r3, r2
 2137 0014 43EA1161 		orr	r1, r3, r1, lsr #24
 2138              	.LVL195:
 422:Drivers/SOES/Src/esc_eoe.c ****       nic_ports[port_ix].dns_ip_set = 1;
 2139              		.loc 1 422 38 discriminator 4 view .LVU653
 2140 0018 044B     		ldr	r3, .L155
 2141 001a 5961     		str	r1, [r3, #20]
 423:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 2142              		.loc 1 423 7 is_stmt 1 discriminator 4 view .LVU654
 423:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 2143              		.loc 1 423 37 is_stmt 0 discriminator 4 view .LVU655
 2144 001c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2145 001e 42F01002 		orr	r2, r2, #16
 2146 0022 1A70     		strb	r2, [r3]
 424:Drivers/SOES/Src/esc_eoe.c ****    }
 2147              		.loc 1 424 7 is_stmt 1 discriminator 4 view .LVU656
 2148              	.LVL196:
 424:Drivers/SOES/Src/esc_eoe.c ****    }
 2149              		.loc 1 424 7 is_stmt 0 discriminator 4 view .LVU657
 2150 0024 7047     		bx	lr
 2151              	.LVL197:
 2152              	.L154:
 417:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 2153              		.loc 1 417 8 view .LVU658
 2154 0026 4FF0FF30 		mov	r0, #-1
 2155              	.LVL198:
 426:Drivers/SOES/Src/esc_eoe.c **** }
 2156              		.loc 1 426 4 is_stmt 1 view .LVU659
 427:Drivers/SOES/Src/esc_eoe.c **** 
 2157              		.loc 1 427 1 is_stmt 0 view .LVU660
 2158 002a 7047     		bx	lr
 2159              	.L156:
 2160              		.align	2
 2161              	.L155:
 2162 002c 00000000 		.word	nic_ports
 2163              		.cfi_endproc
 2164              	.LFE11:
 2166              		.section	.text.EOE_ecat_get_dns_name,"ax",%progbits
 2167              		.align	1
 2168              		.global	EOE_ecat_get_dns_name
 2169              		.syntax unified
 2170              		.thumb
 2171              		.thumb_func
 2173              	EOE_ecat_get_dns_name:
 2174              	.LVL199:
 2175              	.LFB12:
 436:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 2176              		.loc 1 436 1 is_stmt 1 view -0
 2177              		.cfi_startproc
 2178              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccUj1Zdj.s 			page 66


 2179              		@ frame_needed = 0, uses_anonymous_args = 0
 2180              		@ link register save eliminated.
 437:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 2181              		.loc 1 437 4 view .LVU662
 438:Drivers/SOES/Src/esc_eoe.c ****    if(port < EOE_NUMBER_OF_PORTS)
 2182              		.loc 1 438 4 view .LVU663
 439:Drivers/SOES/Src/esc_eoe.c ****    {
 2183              		.loc 1 439 4 view .LVU664
 439:Drivers/SOES/Src/esc_eoe.c ****    {
 2184              		.loc 1 439 6 is_stmt 0 view .LVU665
 2185 0000 E8B9     		cbnz	r0, .L159
 2186 0002 8C46     		mov	ip, r1
 441:Drivers/SOES/Src/esc_eoe.c ****       if(nic_ports[port_ix].dns_name_set)
 2187              		.loc 1 441 7 is_stmt 1 discriminator 4 view .LVU666
 2188              	.LVL200:
 442:Drivers/SOES/Src/esc_eoe.c ****       {
 2189              		.loc 1 442 7 discriminator 4 view .LVU667
 442:Drivers/SOES/Src/esc_eoe.c ****       {
 2190              		.loc 1 442 28 is_stmt 0 discriminator 4 view .LVU668
 2191 0004 114B     		ldr	r3, .L165
 2192 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 442:Drivers/SOES/Src/esc_eoe.c ****       {
 2193              		.loc 1 442 9 discriminator 4 view .LVU669
 2194 0008 13F0200F 		tst	r3, #32
 2195 000c 1AD0     		beq	.L160
 436:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 2196              		.loc 1 436 1 view .LVU670
 2197 000e 10B4     		push	{r4}
 2198              		.cfi_def_cfa_offset 4
 2199              		.cfi_offset 4, -4
 444:Drivers/SOES/Src/esc_eoe.c ****                nic_ports[port_ix].dns_name,
 2200              		.loc 1 444 10 is_stmt 1 view .LVU671
 2201 0010 0F4C     		ldr	r4, .L165+4
 2202 0012 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 2203              	.LVL201:
 444:Drivers/SOES/Src/esc_eoe.c ****                nic_ports[port_ix].dns_name,
 2204              		.loc 1 444 10 is_stmt 0 view .LVU672
 2205 0014 CCF80000 		str	r0, [ip]	@ unaligned
 2206 0018 CCF80410 		str	r1, [ip, #4]	@ unaligned
 2207 001c CCF80820 		str	r2, [ip, #8]	@ unaligned
 2208 0020 CCF80C30 		str	r3, [ip, #12]	@ unaligned
 2209 0024 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 2210 0026 CCF81000 		str	r0, [ip, #16]	@ unaligned
 2211 002a CCF81410 		str	r1, [ip, #20]	@ unaligned
 2212 002e CCF81820 		str	r2, [ip, #24]	@ unaligned
 2213 0032 CCF81C30 		str	r3, [ip, #28]	@ unaligned
 447:Drivers/SOES/Src/esc_eoe.c ****       }
 2214              		.loc 1 447 10 is_stmt 1 view .LVU673
 2215              	.LVL202:
 447:Drivers/SOES/Src/esc_eoe.c ****       }
 2216              		.loc 1 447 14 is_stmt 0 view .LVU674
 2217 0036 0020     		movs	r0, #0
 451:Drivers/SOES/Src/esc_eoe.c **** 
 2218              		.loc 1 451 1 view .LVU675
 2219 0038 5DF8044B 		ldr	r4, [sp], #4
 2220              		.cfi_restore 4
 2221              		.cfi_def_cfa_offset 0
ARM GAS  /tmp/ccUj1Zdj.s 			page 67


 2222 003c 7047     		bx	lr
 2223              	.LVL203:
 2224              	.L159:
 437:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 2225              		.loc 1 437 8 view .LVU676
 2226 003e 4FF0FF30 		mov	r0, #-1
 2227              	.LVL204:
 437:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 2228              		.loc 1 437 8 view .LVU677
 2229 0042 7047     		bx	lr
 2230              	.LVL205:
 2231              	.L160:
 437:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 2232              		.loc 1 437 8 view .LVU678
 2233 0044 4FF0FF30 		mov	r0, #-1
 2234              	.LVL206:
 450:Drivers/SOES/Src/esc_eoe.c **** }
 2235              		.loc 1 450 4 is_stmt 1 view .LVU679
 451:Drivers/SOES/Src/esc_eoe.c **** 
 2236              		.loc 1 451 1 is_stmt 0 view .LVU680
 2237 0048 7047     		bx	lr
 2238              	.L166:
 2239 004a 00BF     		.align	2
 2240              	.L165:
 2241 004c 00000000 		.word	nic_ports
 2242 0050 18000000 		.word	nic_ports+24
 2243              		.cfi_endproc
 2244              	.LFE12:
 2246              		.section	.text.EOE_ecat_set_dns_name,"ax",%progbits
 2247              		.align	1
 2248              		.global	EOE_ecat_set_dns_name
 2249              		.syntax unified
 2250              		.thumb
 2251              		.thumb_func
 2253              	EOE_ecat_set_dns_name:
 2254              	.LVL207:
 2255              	.LFB13:
 460:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 2256              		.loc 1 460 1 is_stmt 1 view -0
 2257              		.cfi_startproc
 2258              		@ args = 0, pretend = 0, frame = 0
 2259              		@ frame_needed = 0, uses_anonymous_args = 0
 461:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 2260              		.loc 1 461 4 view .LVU682
 462:Drivers/SOES/Src/esc_eoe.c **** 
 2261              		.loc 1 462 4 view .LVU683
 464:Drivers/SOES/Src/esc_eoe.c ****    {
 2262              		.loc 1 464 4 view .LVU684
 464:Drivers/SOES/Src/esc_eoe.c ****    {
 2263              		.loc 1 464 6 is_stmt 0 view .LVU685
 2264 0000 E0B9     		cbnz	r0, .L169
 460:Drivers/SOES/Src/esc_eoe.c ****    int ret = -1;
 2265              		.loc 1 460 1 discriminator 4 view .LVU686
 2266 0002 10B5     		push	{r4, lr}
 2267              		.cfi_def_cfa_offset 8
 2268              		.cfi_offset 4, -8
 2269              		.cfi_offset 14, -4
ARM GAS  /tmp/ccUj1Zdj.s 			page 68


 2270 0004 8E46     		mov	lr, r1
 466:Drivers/SOES/Src/esc_eoe.c ****       memcpy(nic_ports[port_ix].dns_name,
 2271              		.loc 1 466 7 is_stmt 1 discriminator 4 view .LVU687
 2272              	.LVL208:
 467:Drivers/SOES/Src/esc_eoe.c ****             dns_name,
 2273              		.loc 1 467 7 discriminator 4 view .LVU688
 2274 0006 0F4C     		ldr	r4, .L174
 2275 0008 04F1180C 		add	ip, r4, #24
 2276 000c 0868     		ldr	r0, [r1]	@ unaligned
 2277              	.LVL209:
 467:Drivers/SOES/Src/esc_eoe.c ****             dns_name,
 2278              		.loc 1 467 7 is_stmt 0 discriminator 4 view .LVU689
 2279 000e 4968     		ldr	r1, [r1, #4]	@ unaligned
 2280              	.LVL210:
 467:Drivers/SOES/Src/esc_eoe.c ****             dns_name,
 2281              		.loc 1 467 7 discriminator 4 view .LVU690
 2282 0010 DEF80820 		ldr	r2, [lr, #8]	@ unaligned
 2283 0014 DEF80C30 		ldr	r3, [lr, #12]	@ unaligned
 2284 0018 ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 2285 001c DEF81000 		ldr	r0, [lr, #16]	@ unaligned
 2286 0020 DEF81410 		ldr	r1, [lr, #20]	@ unaligned
 2287 0024 DEF81820 		ldr	r2, [lr, #24]	@ unaligned
 2288 0028 DEF81C30 		ldr	r3, [lr, #28]	@ unaligned
 2289 002c ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 470:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 2290              		.loc 1 470 7 is_stmt 1 discriminator 4 view .LVU691
 470:Drivers/SOES/Src/esc_eoe.c ****       ret = 0;
 2291              		.loc 1 470 39 is_stmt 0 discriminator 4 view .LVU692
 2292 0030 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 2293 0032 43F02003 		orr	r3, r3, #32
 2294 0036 2370     		strb	r3, [r4]
 471:Drivers/SOES/Src/esc_eoe.c ****    }
 2295              		.loc 1 471 7 is_stmt 1 discriminator 4 view .LVU693
 2296              	.LVL211:
 471:Drivers/SOES/Src/esc_eoe.c ****    }
 2297              		.loc 1 471 11 is_stmt 0 discriminator 4 view .LVU694
 2298 0038 0020     		movs	r0, #0
 474:Drivers/SOES/Src/esc_eoe.c **** 
 2299              		.loc 1 474 1 discriminator 4 view .LVU695
 2300 003a 10BD     		pop	{r4, pc}
 2301              	.LVL212:
 2302              	.L169:
 2303              		.cfi_def_cfa_offset 0
 2304              		.cfi_restore 4
 2305              		.cfi_restore 14
 461:Drivers/SOES/Src/esc_eoe.c ****    int port_ix;
 2306              		.loc 1 461 8 view .LVU696
 2307 003c 4FF0FF30 		mov	r0, #-1
 2308              	.LVL213:
 473:Drivers/SOES/Src/esc_eoe.c **** }
 2309              		.loc 1 473 4 is_stmt 1 view .LVU697
 474:Drivers/SOES/Src/esc_eoe.c **** 
 2310              		.loc 1 474 1 is_stmt 0 view .LVU698
 2311 0040 7047     		bx	lr
 2312              	.L175:
 2313 0042 00BF     		.align	2
 2314              	.L174:
ARM GAS  /tmp/ccUj1Zdj.s 			page 69


 2315 0044 00000000 		.word	nic_ports
 2316              		.cfi_endproc
 2317              	.LFE13:
 2319              		.section	.text.EOE_init,"ax",%progbits
 2320              		.align	1
 2321              		.global	EOE_init
 2322              		.syntax unified
 2323              		.thumb
 2324              		.thumb_func
 2326              	EOE_init:
 2327              	.LFB21:
 958:Drivers/SOES/Src/esc_eoe.c **** 
 959:Drivers/SOES/Src/esc_eoe.c **** /** Initialize by clearing all current status variables.
 960:Drivers/SOES/Src/esc_eoe.c ****  */
 961:Drivers/SOES/Src/esc_eoe.c **** void EOE_init ()
 962:Drivers/SOES/Src/esc_eoe.c **** {
 2328              		.loc 1 962 1 is_stmt 1 view -0
 2329              		.cfi_startproc
 2330              		@ args = 0, pretend = 0, frame = 0
 2331              		@ frame_needed = 0, uses_anonymous_args = 0
 2332 0000 08B5     		push	{r3, lr}
 2333              		.cfi_def_cfa_offset 8
 2334              		.cfi_offset 3, -8
 2335              		.cfi_offset 14, -4
 963:Drivers/SOES/Src/esc_eoe.c ****    DPRINT("EOE_init\n");
 2336              		.loc 1 963 24 view .LVU700
 964:Drivers/SOES/Src/esc_eoe.c ****    EOE_init_tx ();
 2337              		.loc 1 964 4 view .LVU701
 2338 0002 FFF7FEFF 		bl	EOE_init_tx
 2339              	.LVL214:
 965:Drivers/SOES/Src/esc_eoe.c ****    EOE_init_rx ();
 2340              		.loc 1 965 4 view .LVU702
 2341 0006 FFF7FEFF 		bl	EOE_init_rx
 2342              	.LVL215:
 966:Drivers/SOES/Src/esc_eoe.c **** }
 2343              		.loc 1 966 1 is_stmt 0 view .LVU703
 2344 000a 08BD     		pop	{r3, pc}
 2345              		.cfi_endproc
 2346              	.LFE21:
 2348              		.section	.text.EOE_config,"ax",%progbits
 2349              		.align	1
 2350              		.global	EOE_config
 2351              		.syntax unified
 2352              		.thumb
 2353              		.thumb_func
 2355              	EOE_config:
 2356              	.LVL216:
 2357              	.LFB22:
 967:Drivers/SOES/Src/esc_eoe.c **** 
 968:Drivers/SOES/Src/esc_eoe.c **** /** Function copying the application configuration variable
 969:Drivers/SOES/Src/esc_eoe.c ****  * to the EoE module local pointer variable.
 970:Drivers/SOES/Src/esc_eoe.c ****  *
 971:Drivers/SOES/Src/esc_eoe.c ****  * @param[in] cfg       = Pointer to by the Application static declared
 972:Drivers/SOES/Src/esc_eoe.c ****  * configuration variable holding application specific details.
 973:Drivers/SOES/Src/esc_eoe.c ****  */
 974:Drivers/SOES/Src/esc_eoe.c **** void EOE_config (eoe_cfg_t * cfg)
 975:Drivers/SOES/Src/esc_eoe.c **** {
ARM GAS  /tmp/ccUj1Zdj.s 			page 70


 2358              		.loc 1 975 1 is_stmt 1 view -0
 2359              		.cfi_startproc
 2360              		@ args = 0, pretend = 0, frame = 0
 2361              		@ frame_needed = 0, uses_anonymous_args = 0
 2362              		@ link register save eliminated.
 976:Drivers/SOES/Src/esc_eoe.c ****    eoe_cfg = cfg;
 2363              		.loc 1 976 4 view .LVU705
 2364              		.loc 1 976 12 is_stmt 0 view .LVU706
 2365 0000 014B     		ldr	r3, .L179
 2366 0002 1860     		str	r0, [r3]
 977:Drivers/SOES/Src/esc_eoe.c **** }
 2367              		.loc 1 977 1 view .LVU707
 2368 0004 7047     		bx	lr
 2369              	.L180:
 2370 0006 00BF     		.align	2
 2371              	.L179:
 2372 0008 00000000 		.word	eoe_cfg
 2373              		.cfi_endproc
 2374              	.LFE22:
 2376              		.section	.text.ESC_eoeprocess,"ax",%progbits
 2377              		.align	1
 2378              		.global	ESC_eoeprocess
 2379              		.syntax unified
 2380              		.thumb
 2381              		.thumb_func
 2383              	ESC_eoeprocess:
 2384              	.LFB23:
 978:Drivers/SOES/Src/esc_eoe.c **** 
 979:Drivers/SOES/Src/esc_eoe.c **** /** Main EoE receive function checking the status on current mailbox buffers
 980:Drivers/SOES/Src/esc_eoe.c ****  * carrying data, distributing the mailboxes to appropriate EOE functions
 981:Drivers/SOES/Src/esc_eoe.c ****  * depending on requested frametype.
 982:Drivers/SOES/Src/esc_eoe.c ****  */
 983:Drivers/SOES/Src/esc_eoe.c **** void ESC_eoeprocess (void)
 984:Drivers/SOES/Src/esc_eoe.c **** {
 2385              		.loc 1 984 1 is_stmt 1 view -0
 2386              		.cfi_startproc
 2387              		@ args = 0, pretend = 0, frame = 0
 2388              		@ frame_needed = 0, uses_anonymous_args = 0
 2389 0000 08B5     		push	{r3, lr}
 2390              		.cfi_def_cfa_offset 8
 2391              		.cfi_offset 3, -8
 2392              		.cfi_offset 14, -4
 985:Drivers/SOES/Src/esc_eoe.c ****    _MBXh *mbh;
 2393              		.loc 1 985 4 view .LVU709
 986:Drivers/SOES/Src/esc_eoe.c ****    _EOE *eoembx;
 2394              		.loc 1 986 4 view .LVU710
 987:Drivers/SOES/Src/esc_eoe.c ****    uint16_t frameinfo1;
 2395              		.loc 1 987 4 view .LVU711
 988:Drivers/SOES/Src/esc_eoe.c **** 
 989:Drivers/SOES/Src/esc_eoe.c ****    if (ESCvar.MBXrun == 0)
 2396              		.loc 1 989 4 view .LVU712
 2397              		.loc 1 989 14 is_stmt 0 view .LVU713
 2398 0002 234B     		ldr	r3, .L194
 2399 0004 93F86430 		ldrb	r3, [r3, #100]	@ zero_extendqisi2
 2400              		.loc 1 989 7 view .LVU714
 2401 0008 63B1     		cbz	r3, .L181
 990:Drivers/SOES/Src/esc_eoe.c ****    {
ARM GAS  /tmp/ccUj1Zdj.s 			page 71


 991:Drivers/SOES/Src/esc_eoe.c ****       return;
 992:Drivers/SOES/Src/esc_eoe.c ****    }
 993:Drivers/SOES/Src/esc_eoe.c ****    if (!ESCvar.xoe && (MBXcontrol[0].state == MBXstate_inclaim))
 2402              		.loc 1 993 4 is_stmt 1 view .LVU715
 2403              		.loc 1 993 15 is_stmt 0 view .LVU716
 2404 000a 214B     		ldr	r3, .L194
 2405 000c 93F88A30 		ldrb	r3, [r3, #138]	@ zero_extendqisi2
 2406              		.loc 1 993 7 view .LVU717
 2407 0010 1BB9     		cbnz	r3, .L183
 2408              		.loc 1 993 37 discriminator 1 view .LVU718
 2409 0012 204B     		ldr	r3, .L194+4
 2410 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2411              		.loc 1 993 20 discriminator 1 view .LVU719
 2412 0016 012B     		cmp	r3, #1
 2413 0018 05D0     		beq	.L190
 2414              	.L183:
 994:Drivers/SOES/Src/esc_eoe.c ****    {
 995:Drivers/SOES/Src/esc_eoe.c ****       mbh = (_MBXh *) &MBX[0];
 996:Drivers/SOES/Src/esc_eoe.c ****       if (mbh->mbxtype == MBXEOE)
 997:Drivers/SOES/Src/esc_eoe.c ****       {
 998:Drivers/SOES/Src/esc_eoe.c ****          ESCvar.xoe = MBXEOE;
 999:Drivers/SOES/Src/esc_eoe.c ****       }
1000:Drivers/SOES/Src/esc_eoe.c ****    }
1001:Drivers/SOES/Src/esc_eoe.c ****    if (ESCvar.xoe == MBXEOE)
 2415              		.loc 1 1001 4 is_stmt 1 view .LVU720
 2416              		.loc 1 1001 14 is_stmt 0 view .LVU721
 2417 001a 1D4B     		ldr	r3, .L194
 2418 001c 93F88A30 		ldrb	r3, [r3, #138]	@ zero_extendqisi2
 2419              		.loc 1 1001 7 view .LVU722
 2420 0020 022B     		cmp	r3, #2
 2421 0022 0BD0     		beq	.L191
 2422              	.L181:
1002:Drivers/SOES/Src/esc_eoe.c ****    {
1003:Drivers/SOES/Src/esc_eoe.c ****       eoembx = (_EOE *) &MBX[0];
1004:Drivers/SOES/Src/esc_eoe.c ****       /* Verify the size of the file data. */
1005:Drivers/SOES/Src/esc_eoe.c ****       if (etohs (eoembx->mbxheader.length) < ESC_EOEHSIZE)
1006:Drivers/SOES/Src/esc_eoe.c ****       {
1007:Drivers/SOES/Src/esc_eoe.c ****          EOE_no_data_response (
1008:Drivers/SOES/Src/esc_eoe.c ****                EOE_INIT_RESP | EOE_HDR_LAST_FRAGMENT,
1009:Drivers/SOES/Src/esc_eoe.c ****                MBXERR_SIZETOOSHORT);
1010:Drivers/SOES/Src/esc_eoe.c ****       }
1011:Drivers/SOES/Src/esc_eoe.c ****       else
1012:Drivers/SOES/Src/esc_eoe.c ****       {
1013:Drivers/SOES/Src/esc_eoe.c ****          frameinfo1 = etohs(eoembx->eoeheader.frameinfo1);
1014:Drivers/SOES/Src/esc_eoe.c ****          switch (EOE_HDR_FRAME_TYPE_GET(frameinfo1))
1015:Drivers/SOES/Src/esc_eoe.c ****          {
1016:Drivers/SOES/Src/esc_eoe.c ****             case EOE_FRAG_DATA:
1017:Drivers/SOES/Src/esc_eoe.c ****             {
1018:Drivers/SOES/Src/esc_eoe.c ****                EOE_receive_fragment ();
1019:Drivers/SOES/Src/esc_eoe.c ****                break;
1020:Drivers/SOES/Src/esc_eoe.c ****             }
1021:Drivers/SOES/Src/esc_eoe.c ****             case EOE_INIT_REQ:
1022:Drivers/SOES/Src/esc_eoe.c ****             {
1023:Drivers/SOES/Src/esc_eoe.c ****                EOE_set_ip ();
1024:Drivers/SOES/Src/esc_eoe.c ****                break;
1025:Drivers/SOES/Src/esc_eoe.c ****             }
1026:Drivers/SOES/Src/esc_eoe.c ****             case EOE_GET_IP_PARAM_REQ:
ARM GAS  /tmp/ccUj1Zdj.s 			page 72


1027:Drivers/SOES/Src/esc_eoe.c ****             {
1028:Drivers/SOES/Src/esc_eoe.c ****                EOE_get_ip ();
1029:Drivers/SOES/Src/esc_eoe.c ****                break;
1030:Drivers/SOES/Src/esc_eoe.c ****             }
1031:Drivers/SOES/Src/esc_eoe.c ****             case EOE_INIT_RESP_TIMESTAMP:
1032:Drivers/SOES/Src/esc_eoe.c ****             case EOE_INIT_RESP:
1033:Drivers/SOES/Src/esc_eoe.c ****             case EOE_SET_ADDR_FILTER_REQ:
1034:Drivers/SOES/Src/esc_eoe.c ****             case EOE_SET_ADDR_FILTER_RESP:
1035:Drivers/SOES/Src/esc_eoe.c ****             case EOE_GET_IP_PARAM_RESP:
1036:Drivers/SOES/Src/esc_eoe.c ****             case EOE_GET_ADDR_FILTER_REQ:
1037:Drivers/SOES/Src/esc_eoe.c ****             case EOE_GET_ADDR_FILTER_RESP:
1038:Drivers/SOES/Src/esc_eoe.c ****             default:
1039:Drivers/SOES/Src/esc_eoe.c ****             {
1040:Drivers/SOES/Src/esc_eoe.c ****                DPRINT("EOE_RESULT_UNSUPPORTED_TYPE\n");
1041:Drivers/SOES/Src/esc_eoe.c ****                EOE_no_data_response ((EOE_HDR_FRAME_PORT & frameinfo1) |
1042:Drivers/SOES/Src/esc_eoe.c ****                      (EOE_HDR_FRAME_TYPE & frameinfo1) |
1043:Drivers/SOES/Src/esc_eoe.c ****                      EOE_HDR_LAST_FRAGMENT,
1044:Drivers/SOES/Src/esc_eoe.c ****                      EOE_RESULT_UNSUPPORTED_FRAME_TYPE);
1045:Drivers/SOES/Src/esc_eoe.c ****                break;
1046:Drivers/SOES/Src/esc_eoe.c ****             }
1047:Drivers/SOES/Src/esc_eoe.c ****          }
1048:Drivers/SOES/Src/esc_eoe.c ****       }
1049:Drivers/SOES/Src/esc_eoe.c ****       MBXcontrol[0].state = MBXstate_idle;
1050:Drivers/SOES/Src/esc_eoe.c ****       ESCvar.xoe = 0;
1051:Drivers/SOES/Src/esc_eoe.c ****    }
1052:Drivers/SOES/Src/esc_eoe.c **** }
 2423              		.loc 1 1052 1 view .LVU723
 2424 0024 08BD     		pop	{r3, pc}
 2425              	.L190:
 995:Drivers/SOES/Src/esc_eoe.c ****       if (mbh->mbxtype == MBXEOE)
 2426              		.loc 1 995 7 is_stmt 1 view .LVU724
 2427              	.LVL217:
 996:Drivers/SOES/Src/esc_eoe.c ****       {
 2428              		.loc 1 996 7 view .LVU725
 996:Drivers/SOES/Src/esc_eoe.c ****       {
 2429              		.loc 1 996 24 is_stmt 0 view .LVU726
 2430 0026 1C4B     		ldr	r3, .L194+8
 2431 0028 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 2432 002a 03F00F03 		and	r3, r3, #15
 996:Drivers/SOES/Src/esc_eoe.c ****       {
 2433              		.loc 1 996 10 view .LVU727
 2434 002e 022B     		cmp	r3, #2
 2435 0030 F3D1     		bne	.L183
 998:Drivers/SOES/Src/esc_eoe.c ****       }
 2436              		.loc 1 998 10 is_stmt 1 view .LVU728
 998:Drivers/SOES/Src/esc_eoe.c ****       }
 2437              		.loc 1 998 21 is_stmt 0 view .LVU729
 2438 0032 174B     		ldr	r3, .L194
 2439 0034 0222     		movs	r2, #2
 2440 0036 83F88A20 		strb	r2, [r3, #138]
 2441 003a EEE7     		b	.L183
 2442              	.LVL218:
 2443              	.L191:
1003:Drivers/SOES/Src/esc_eoe.c ****       /* Verify the size of the file data. */
 2444              		.loc 1 1003 7 is_stmt 1 view .LVU730
1005:Drivers/SOES/Src/esc_eoe.c ****       {
 2445              		.loc 1 1005 7 view .LVU731
ARM GAS  /tmp/ccUj1Zdj.s 			page 73


1005:Drivers/SOES/Src/esc_eoe.c ****       {
 2446              		.loc 1 1005 11 is_stmt 0 view .LVU732
 2447 003c 164B     		ldr	r3, .L194+8
 2448 003e 1B88     		ldrh	r3, [r3]	@ unaligned
1005:Drivers/SOES/Src/esc_eoe.c ****       {
 2449              		.loc 1 1005 10 view .LVU733
 2450 0040 032B     		cmp	r3, #3
 2451 0042 0FD9     		bls	.L192
1013:Drivers/SOES/Src/esc_eoe.c ****          switch (EOE_HDR_FRAME_TYPE_GET(frameinfo1))
 2452              		.loc 1 1013 10 is_stmt 1 view .LVU734
1013:Drivers/SOES/Src/esc_eoe.c ****          switch (EOE_HDR_FRAME_TYPE_GET(frameinfo1))
 2453              		.loc 1 1013 21 is_stmt 0 view .LVU735
 2454 0044 144B     		ldr	r3, .L194+8
 2455 0046 D888     		ldrh	r0, [r3, #6]	@ unaligned
 2456              	.LVL219:
1014:Drivers/SOES/Src/esc_eoe.c ****          {
 2457              		.loc 1 1014 10 is_stmt 1 view .LVU736
 2458 0048 00F00F03 		and	r3, r0, #15
 2459 004c 022B     		cmp	r3, #2
 2460 004e 18D0     		beq	.L186
 2461 0050 062B     		cmp	r3, #6
 2462 0052 19D0     		beq	.L187
 2463 0054 93B1     		cbz	r3, .L193
1040:Drivers/SOES/Src/esc_eoe.c ****                EOE_no_data_response ((EOE_HDR_FRAME_PORT & frameinfo1) |
 2464              		.loc 1 1040 55 view .LVU737
1041:Drivers/SOES/Src/esc_eoe.c ****                      (EOE_HDR_FRAME_TYPE & frameinfo1) |
 2465              		.loc 1 1041 16 view .LVU738
 2466 0056 C0B2     		uxtb	r0, r0
 2467 0058 0221     		movs	r1, #2
 2468 005a 40F48070 		orr	r0, r0, #256
 2469 005e FFF7FEFF 		bl	EOE_no_data_response
 2470              	.LVL220:
1045:Drivers/SOES/Src/esc_eoe.c ****             }
 2471              		.loc 1 1045 16 view .LVU739
 2472 0062 04E0     		b	.L185
 2473              	.LVL221:
 2474              	.L192:
1007:Drivers/SOES/Src/esc_eoe.c ****                EOE_INIT_RESP | EOE_HDR_LAST_FRAGMENT,
 2475              		.loc 1 1007 10 view .LVU740
 2476 0064 0621     		movs	r1, #6
 2477 0066 40F20310 		movw	r0, #259
 2478 006a FFF7FEFF 		bl	EOE_no_data_response
 2479              	.LVL222:
 2480              	.L185:
1049:Drivers/SOES/Src/esc_eoe.c ****       ESCvar.xoe = 0;
 2481              		.loc 1 1049 7 view .LVU741
1049:Drivers/SOES/Src/esc_eoe.c ****       ESCvar.xoe = 0;
 2482              		.loc 1 1049 27 is_stmt 0 view .LVU742
 2483 006e 0023     		movs	r3, #0
 2484 0070 084A     		ldr	r2, .L194+4
 2485 0072 1370     		strb	r3, [r2]
1050:Drivers/SOES/Src/esc_eoe.c ****    }
 2486              		.loc 1 1050 7 is_stmt 1 view .LVU743
1050:Drivers/SOES/Src/esc_eoe.c ****    }
 2487              		.loc 1 1050 18 is_stmt 0 view .LVU744
 2488 0074 064A     		ldr	r2, .L194
 2489 0076 82F88A30 		strb	r3, [r2, #138]
ARM GAS  /tmp/ccUj1Zdj.s 			page 74


 2490 007a D3E7     		b	.L181
 2491              	.LVL223:
 2492              	.L193:
1018:Drivers/SOES/Src/esc_eoe.c ****                break;
 2493              		.loc 1 1018 16 is_stmt 1 view .LVU745
 2494 007c FFF7FEFF 		bl	EOE_receive_fragment
 2495              	.LVL224:
1019:Drivers/SOES/Src/esc_eoe.c ****             }
 2496              		.loc 1 1019 16 view .LVU746
 2497 0080 F5E7     		b	.L185
 2498              	.LVL225:
 2499              	.L186:
1023:Drivers/SOES/Src/esc_eoe.c ****                break;
 2500              		.loc 1 1023 16 view .LVU747
 2501 0082 FFF7FEFF 		bl	EOE_set_ip
 2502              	.LVL226:
1024:Drivers/SOES/Src/esc_eoe.c ****             }
 2503              		.loc 1 1024 16 view .LVU748
 2504 0086 F2E7     		b	.L185
 2505              	.LVL227:
 2506              	.L187:
1028:Drivers/SOES/Src/esc_eoe.c ****                break;
 2507              		.loc 1 1028 16 view .LVU749
 2508 0088 FFF7FEFF 		bl	EOE_get_ip
 2509              	.LVL228:
1029:Drivers/SOES/Src/esc_eoe.c ****             }
 2510              		.loc 1 1029 16 view .LVU750
 2511 008c EFE7     		b	.L185
 2512              	.L195:
 2513 008e 00BF     		.align	2
 2514              	.L194:
 2515 0090 00000000 		.word	ESCvar
 2516 0094 00000000 		.word	MBXcontrol
 2517 0098 00000000 		.word	MBX
 2518              		.cfi_endproc
 2519              	.LFE23:
 2521              		.section	.text.ESC_eoeprocess_tx,"ax",%progbits
 2522              		.align	1
 2523              		.global	ESC_eoeprocess_tx
 2524              		.syntax unified
 2525              		.thumb
 2526              		.thumb_func
 2528              	ESC_eoeprocess_tx:
 2529              	.LFB24:
1053:Drivers/SOES/Src/esc_eoe.c **** /** EoE function to send a fragment.
1054:Drivers/SOES/Src/esc_eoe.c ****  * NOTE: Not thread safe, should be called from the SOES task sequential
1055:Drivers/SOES/Src/esc_eoe.c ****  * with other mailbox functions. Add support for threading by adding
1056:Drivers/SOES/Src/esc_eoe.c ****  * a thread safe application fetch function, example a mailbox with buffers
1057:Drivers/SOES/Src/esc_eoe.c ****  * to send, posted by TCP/IP stack and fetched by SOES task.
1058:Drivers/SOES/Src/esc_eoe.c ****  */
1059:Drivers/SOES/Src/esc_eoe.c **** void ESC_eoeprocess_tx (void)
1060:Drivers/SOES/Src/esc_eoe.c **** {
 2530              		.loc 1 1060 1 view -0
 2531              		.cfi_startproc
 2532              		@ args = 0, pretend = 0, frame = 0
 2533              		@ frame_needed = 0, uses_anonymous_args = 0
 2534 0000 08B5     		push	{r3, lr}
ARM GAS  /tmp/ccUj1Zdj.s 			page 75


 2535              		.cfi_def_cfa_offset 8
 2536              		.cfi_offset 3, -8
 2537              		.cfi_offset 14, -4
1061:Drivers/SOES/Src/esc_eoe.c ****    if (ESCvar.MBXrun == 0)
 2538              		.loc 1 1061 4 view .LVU752
 2539              		.loc 1 1061 14 is_stmt 0 view .LVU753
 2540 0002 044B     		ldr	r3, .L200
 2541 0004 93F86430 		ldrb	r3, [r3, #100]	@ zero_extendqisi2
 2542              		.loc 1 1061 7 view .LVU754
 2543 0008 03B9     		cbnz	r3, .L199
 2544              	.L196:
1062:Drivers/SOES/Src/esc_eoe.c ****    {
1063:Drivers/SOES/Src/esc_eoe.c ****       return;
1064:Drivers/SOES/Src/esc_eoe.c ****    }
1065:Drivers/SOES/Src/esc_eoe.c ****    EOE_send_fragment ();
1066:Drivers/SOES/Src/esc_eoe.c **** }
 2545              		.loc 1 1066 1 view .LVU755
 2546 000a 08BD     		pop	{r3, pc}
 2547              	.L199:
1065:Drivers/SOES/Src/esc_eoe.c **** }
 2548              		.loc 1 1065 4 is_stmt 1 view .LVU756
 2549 000c FFF7FEFF 		bl	EOE_send_fragment
 2550              	.LVL229:
 2551 0010 FBE7     		b	.L196
 2552              	.L201:
 2553 0012 00BF     		.align	2
 2554              	.L200:
 2555 0014 00000000 		.word	ESCvar
 2556              		.cfi_endproc
 2557              	.LFE24:
 2559              		.section	.bss.frameno.0,"aw",%nobits
 2562              	frameno.0:
 2563 0000 00       		.space	1
 2564              		.section	.bss.nic_ports,"aw",%nobits
 2565              		.align	2
 2568              	nic_ports:
 2569 0000 00000000 		.space	56
 2569      00000000 
 2569      00000000 
 2569      00000000 
 2569      00000000 
 2570              		.section	.bss.eoe_cfg,"aw",%nobits
 2571              		.align	2
 2574              	eoe_cfg:
 2575 0000 00000000 		.space	4
 2576              		.section	.bss.EOEvar,"aw",%nobits
 2577              		.align	2
 2580              	EOEvar:
 2581 0000 00000000 		.space	40
 2581      00000000 
 2581      00000000 
 2581      00000000 
 2581      00000000 
 2582              		.text
 2583              	.Letext0:
 2584              		.file 2 "/home/evence/.config/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-tools/arm-no
 2585              		.file 3 "/home/evence/.config/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-tools/arm-no
ARM GAS  /tmp/ccUj1Zdj.s 			page 76


 2586              		.file 4 "/home/evence/.config/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-tools/arm-no
 2587              		.file 5 "Drivers/SOES/Inc/esc.h"
 2588              		.file 6 "Drivers/SOES/Inc/esc_eoe.h"
 2589              		.file 7 "/home/evence/.config/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-tools/arm-no
 2590              		.file 8 "<built-in>"
ARM GAS  /tmp/ccUj1Zdj.s 			page 77


DEFINED SYMBOLS
                            *ABS*:0000000000000000 esc_eoe.c
     /tmp/ccUj1Zdj.s:21     .text.EOE_ip_uint32_to_byte:0000000000000000 $t
     /tmp/ccUj1Zdj.s:26     .text.EOE_ip_uint32_to_byte:0000000000000000 EOE_ip_uint32_to_byte
     /tmp/ccUj1Zdj.s:60     .text.EOE_ip_byte_to_uint32:0000000000000000 $t
     /tmp/ccUj1Zdj.s:65     .text.EOE_ip_byte_to_uint32:0000000000000000 EOE_ip_byte_to_uint32
     /tmp/ccUj1Zdj.s:98     .text.EOE_init_rx:0000000000000000 $t
     /tmp/ccUj1Zdj.s:103    .text.EOE_init_rx:0000000000000000 EOE_init_rx
     /tmp/ccUj1Zdj.s:153    .text.EOE_init_rx:0000000000000024 $d
     /tmp/ccUj1Zdj.s:2580   .bss.EOEvar:0000000000000000 EOEvar
     /tmp/ccUj1Zdj.s:2574   .bss.eoe_cfg:0000000000000000 eoe_cfg
     /tmp/ccUj1Zdj.s:159    .text.EOE_init_tx:0000000000000000 $t
     /tmp/ccUj1Zdj.s:164    .text.EOE_init_tx:0000000000000000 EOE_init_tx
     /tmp/ccUj1Zdj.s:224    .text.EOE_init_tx:0000000000000030 $d
     /tmp/ccUj1Zdj.s:231    .text.EOE_receive_fragment:0000000000000000 $t
     /tmp/ccUj1Zdj.s:236    .text.EOE_receive_fragment:0000000000000000 EOE_receive_fragment
     /tmp/ccUj1Zdj.s:457    .text.EOE_receive_fragment:00000000000000d0 $d
     /tmp/ccUj1Zdj.s:465    .text.EOE_no_data_response:0000000000000000 $t
     /tmp/ccUj1Zdj.s:470    .text.EOE_no_data_response:0000000000000000 EOE_no_data_response
     /tmp/ccUj1Zdj.s:540    .text.EOE_no_data_response:000000000000003c $d
     /tmp/ccUj1Zdj.s:547    .text.EOE_set_ip:0000000000000000 $t
     /tmp/ccUj1Zdj.s:552    .text.EOE_set_ip:0000000000000000 EOE_set_ip
     /tmp/ccUj1Zdj.s:899    .text.EOE_set_ip:00000000000001e0 $d
     /tmp/ccUj1Zdj.s:2568   .bss.nic_ports:0000000000000000 nic_ports
     /tmp/ccUj1Zdj.s:907    .text.EOE_get_ip:0000000000000000 $t
     /tmp/ccUj1Zdj.s:912    .text.EOE_get_ip:0000000000000000 EOE_get_ip
     /tmp/ccUj1Zdj.s:1274   .text.EOE_get_ip:00000000000001d8 $d
     /tmp/ccUj1Zdj.s:1283   .text.EOE_send_fragment:0000000000000000 $t
     /tmp/ccUj1Zdj.s:1288   .text.EOE_send_fragment:0000000000000000 EOE_send_fragment
     /tmp/ccUj1Zdj.s:1523   .text.EOE_send_fragment:00000000000000f8 $d
     /tmp/ccUj1Zdj.s:2562   .bss.frameno.0:0000000000000000 frameno.0
     /tmp/ccUj1Zdj.s:1534   .text.EOE_get_mac:0000000000000000 $t
     /tmp/ccUj1Zdj.s:1540   .text.EOE_get_mac:0000000000000000 EOE_get_mac
     /tmp/ccUj1Zdj.s:1595   .text.EOE_get_mac:0000000000000030 $d
     /tmp/ccUj1Zdj.s:1600   .text.EOE_ecat_set_mac:0000000000000000 $t
     /tmp/ccUj1Zdj.s:1606   .text.EOE_ecat_set_mac:0000000000000000 EOE_ecat_set_mac
     /tmp/ccUj1Zdj.s:1642   .text.EOE_ecat_set_mac:0000000000000018 $d
     /tmp/ccUj1Zdj.s:1647   .text.EOE_ecat_get_ip:0000000000000000 $t
     /tmp/ccUj1Zdj.s:1653   .text.EOE_ecat_get_ip:0000000000000000 EOE_ecat_get_ip
     /tmp/ccUj1Zdj.s:1713   .text.EOE_ecat_get_ip:0000000000000038 $d
     /tmp/ccUj1Zdj.s:1718   .text.EOE_ecat_set_ip:0000000000000000 $t
     /tmp/ccUj1Zdj.s:1724   .text.EOE_ecat_set_ip:0000000000000000 EOE_ecat_set_ip
     /tmp/ccUj1Zdj.s:1772   .text.EOE_ecat_set_ip:000000000000002c $d
     /tmp/ccUj1Zdj.s:1777   .text.EOE_ecat_get_subnet:0000000000000000 $t
     /tmp/ccUj1Zdj.s:1783   .text.EOE_ecat_get_subnet:0000000000000000 EOE_ecat_get_subnet
     /tmp/ccUj1Zdj.s:1843   .text.EOE_ecat_get_subnet:0000000000000038 $d
     /tmp/ccUj1Zdj.s:1848   .text.EOE_ecat_set_subnet:0000000000000000 $t
     /tmp/ccUj1Zdj.s:1854   .text.EOE_ecat_set_subnet:0000000000000000 EOE_ecat_set_subnet
     /tmp/ccUj1Zdj.s:1902   .text.EOE_ecat_set_subnet:000000000000002c $d
     /tmp/ccUj1Zdj.s:1907   .text.EOE_ecat_get_gateway:0000000000000000 $t
     /tmp/ccUj1Zdj.s:1913   .text.EOE_ecat_get_gateway:0000000000000000 EOE_ecat_get_gateway
     /tmp/ccUj1Zdj.s:1973   .text.EOE_ecat_get_gateway:0000000000000038 $d
     /tmp/ccUj1Zdj.s:1978   .text.EOE_ecat_set_gateway:0000000000000000 $t
     /tmp/ccUj1Zdj.s:1984   .text.EOE_ecat_set_gateway:0000000000000000 EOE_ecat_set_gateway
     /tmp/ccUj1Zdj.s:2032   .text.EOE_ecat_set_gateway:000000000000002c $d
     /tmp/ccUj1Zdj.s:2037   .text.EOE_ecat_get_dns_ip:0000000000000000 $t
     /tmp/ccUj1Zdj.s:2043   .text.EOE_ecat_get_dns_ip:0000000000000000 EOE_ecat_get_dns_ip
ARM GAS  /tmp/ccUj1Zdj.s 			page 78


     /tmp/ccUj1Zdj.s:2103   .text.EOE_ecat_get_dns_ip:0000000000000038 $d
     /tmp/ccUj1Zdj.s:2108   .text.EOE_ecat_set_dns_ip:0000000000000000 $t
     /tmp/ccUj1Zdj.s:2114   .text.EOE_ecat_set_dns_ip:0000000000000000 EOE_ecat_set_dns_ip
     /tmp/ccUj1Zdj.s:2162   .text.EOE_ecat_set_dns_ip:000000000000002c $d
     /tmp/ccUj1Zdj.s:2167   .text.EOE_ecat_get_dns_name:0000000000000000 $t
     /tmp/ccUj1Zdj.s:2173   .text.EOE_ecat_get_dns_name:0000000000000000 EOE_ecat_get_dns_name
     /tmp/ccUj1Zdj.s:2241   .text.EOE_ecat_get_dns_name:000000000000004c $d
     /tmp/ccUj1Zdj.s:2247   .text.EOE_ecat_set_dns_name:0000000000000000 $t
     /tmp/ccUj1Zdj.s:2253   .text.EOE_ecat_set_dns_name:0000000000000000 EOE_ecat_set_dns_name
     /tmp/ccUj1Zdj.s:2315   .text.EOE_ecat_set_dns_name:0000000000000044 $d
     /tmp/ccUj1Zdj.s:2320   .text.EOE_init:0000000000000000 $t
     /tmp/ccUj1Zdj.s:2326   .text.EOE_init:0000000000000000 EOE_init
     /tmp/ccUj1Zdj.s:2349   .text.EOE_config:0000000000000000 $t
     /tmp/ccUj1Zdj.s:2355   .text.EOE_config:0000000000000000 EOE_config
     /tmp/ccUj1Zdj.s:2372   .text.EOE_config:0000000000000008 $d
     /tmp/ccUj1Zdj.s:2377   .text.ESC_eoeprocess:0000000000000000 $t
     /tmp/ccUj1Zdj.s:2383   .text.ESC_eoeprocess:0000000000000000 ESC_eoeprocess
     /tmp/ccUj1Zdj.s:2515   .text.ESC_eoeprocess:0000000000000090 $d
     /tmp/ccUj1Zdj.s:2522   .text.ESC_eoeprocess_tx:0000000000000000 $t
     /tmp/ccUj1Zdj.s:2528   .text.ESC_eoeprocess_tx:0000000000000000 ESC_eoeprocess_tx
     /tmp/ccUj1Zdj.s:2555   .text.ESC_eoeprocess_tx:0000000000000014 $d
     /tmp/ccUj1Zdj.s:2563   .bss.frameno.0:0000000000000000 $d
     /tmp/ccUj1Zdj.s:2565   .bss.nic_ports:0000000000000000 $d
     /tmp/ccUj1Zdj.s:2571   .bss.eoe_cfg:0000000000000000 $d
     /tmp/ccUj1Zdj.s:2577   .bss.EOEvar:0000000000000000 $d

UNDEFINED SYMBOLS
memcpy
MBX
ESC_claimbuffer
ESCvar
MBXcontrol
