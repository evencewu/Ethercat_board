ARM GAS  /tmp/ccFH4wf5.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"esc_coe.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Drivers/SOES/Src/esc_coe.c"
  20              		.section	.text.init_coesdo,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	init_coesdo:
  27              	.LVL0:
  28              	.LFB9:
   1:Drivers/SOES/Src/esc_coe.c **** /*
   2:Drivers/SOES/Src/esc_coe.c ****  * Licensed under the GNU General Public License version 2 with exceptions. See
   3:Drivers/SOES/Src/esc_coe.c ****  * LICENSE file in the project root for full license information
   4:Drivers/SOES/Src/esc_coe.c ****  */
   5:Drivers/SOES/Src/esc_coe.c **** 
   6:Drivers/SOES/Src/esc_coe.c ****  /** \file
   7:Drivers/SOES/Src/esc_coe.c ****  * \brief
   8:Drivers/SOES/Src/esc_coe.c ****  * CAN over EtherCAT (CoE) module.
   9:Drivers/SOES/Src/esc_coe.c ****  *
  10:Drivers/SOES/Src/esc_coe.c ****  * SDO read / write and SDO service functions
  11:Drivers/SOES/Src/esc_coe.c ****  */
  12:Drivers/SOES/Src/esc_coe.c **** 
  13:Drivers/SOES/Src/esc_coe.c **** #include <stdlib.h>
  14:Drivers/SOES/Src/esc_coe.c **** #include <stddef.h>
  15:Drivers/SOES/Src/esc_coe.c **** #include <stdbool.h>
  16:Drivers/SOES/Src/esc_coe.c **** #include <string.h>
  17:Drivers/SOES/Src/esc_coe.c **** #include <cc.h>
  18:Drivers/SOES/Src/esc_coe.c **** #include "esc.h"
  19:Drivers/SOES/Src/esc_coe.c **** #include "esc_coe.h"
  20:Drivers/SOES/Src/esc_coe.c **** 
  21:Drivers/SOES/Src/esc_coe.c **** #define BITS2BYTES(b) ((b + 7) >> 3)
  22:Drivers/SOES/Src/esc_coe.c **** 
  23:Drivers/SOES/Src/esc_coe.c **** /* Fetch value from object dictionary */
  24:Drivers/SOES/Src/esc_coe.c **** #define OBJ_VALUE_FETCH(v, o) \
  25:Drivers/SOES/Src/esc_coe.c ****    ((o).data ? *(__typeof__ (v) *)(o).data : (__typeof__ (v))(o).value)
  26:Drivers/SOES/Src/esc_coe.c **** 
  27:Drivers/SOES/Src/esc_coe.c **** #define SDO_COMMAND(byte)         \
  28:Drivers/SOES/Src/esc_coe.c ****    (byte & 0xe0)
  29:Drivers/SOES/Src/esc_coe.c **** #define SDO_COMPLETE_ACCESS(byte) \
  30:Drivers/SOES/Src/esc_coe.c ****    ((byte & COE_COMPLETEACCESS) == COE_COMPLETEACCESS)
ARM GAS  /tmp/ccFH4wf5.s 			page 2


  31:Drivers/SOES/Src/esc_coe.c **** 
  32:Drivers/SOES/Src/esc_coe.c **** #define READ_ACCESS(access, state) \
  33:Drivers/SOES/Src/esc_coe.c ****       (((access & ATYPE_Rpre) && (state == ESCpreop))   || \
  34:Drivers/SOES/Src/esc_coe.c ****        ((access & ATYPE_Rsafe) && (state == ESCsafeop)) || \
  35:Drivers/SOES/Src/esc_coe.c ****        ((access & ATYPE_Rop) && (state == ESCop)))
  36:Drivers/SOES/Src/esc_coe.c **** 
  37:Drivers/SOES/Src/esc_coe.c **** #define WRITE_ACCESS(access, state) \
  38:Drivers/SOES/Src/esc_coe.c ****       (((access & ATYPE_Wpre) && (state == ESCpreop))   || \
  39:Drivers/SOES/Src/esc_coe.c ****        ((access & ATYPE_Wsafe) && (state == ESCsafeop)) || \
  40:Drivers/SOES/Src/esc_coe.c ****        ((access & ATYPE_Wop) && (state == ESCop)))
  41:Drivers/SOES/Src/esc_coe.c **** 
  42:Drivers/SOES/Src/esc_coe.c **** typedef enum { UPLOAD, DOWNLOAD } load_t;
  43:Drivers/SOES/Src/esc_coe.c **** 
  44:Drivers/SOES/Src/esc_coe.c **** /** Search for an object sub-index.
  45:Drivers/SOES/Src/esc_coe.c ****  *
  46:Drivers/SOES/Src/esc_coe.c ****  * @param[in] nidx   = local array index of object we want to find sub-index to
  47:Drivers/SOES/Src/esc_coe.c ****  * @param[in] subindex   = value on sub-index of object we want to locate
  48:Drivers/SOES/Src/esc_coe.c ****  * @return local array index if we succeed, -1 if we didn't find the index.
  49:Drivers/SOES/Src/esc_coe.c ****  */
  50:Drivers/SOES/Src/esc_coe.c **** int16_t SDO_findsubindex (int16_t nidx, uint8_t subindex)
  51:Drivers/SOES/Src/esc_coe.c **** {
  52:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd;
  53:Drivers/SOES/Src/esc_coe.c ****    int16_t n = 0;
  54:Drivers/SOES/Src/esc_coe.c ****    uint8_t maxsub;
  55:Drivers/SOES/Src/esc_coe.c ****    objd = SDOobjects[nidx].objdesc;
  56:Drivers/SOES/Src/esc_coe.c ****    maxsub = SDOobjects[nidx].maxsub;
  57:Drivers/SOES/Src/esc_coe.c **** 
  58:Drivers/SOES/Src/esc_coe.c ****    /* Since most objects contain all subindexes (i.e. are not sparse),
  59:Drivers/SOES/Src/esc_coe.c ****     * check the most likely scenario first
  60:Drivers/SOES/Src/esc_coe.c ****     */
  61:Drivers/SOES/Src/esc_coe.c ****    if ((subindex <= maxsub) && ((objd + subindex)->subindex == subindex))
  62:Drivers/SOES/Src/esc_coe.c ****    {
  63:Drivers/SOES/Src/esc_coe.c ****       return subindex;
  64:Drivers/SOES/Src/esc_coe.c ****    }
  65:Drivers/SOES/Src/esc_coe.c **** 
  66:Drivers/SOES/Src/esc_coe.c ****    while (((objd + n)->subindex < subindex) && (n < maxsub))
  67:Drivers/SOES/Src/esc_coe.c ****    {
  68:Drivers/SOES/Src/esc_coe.c ****       n++;
  69:Drivers/SOES/Src/esc_coe.c ****    }
  70:Drivers/SOES/Src/esc_coe.c ****    if ((objd + n)->subindex != subindex)
  71:Drivers/SOES/Src/esc_coe.c ****    {
  72:Drivers/SOES/Src/esc_coe.c ****       return -1;
  73:Drivers/SOES/Src/esc_coe.c ****    }
  74:Drivers/SOES/Src/esc_coe.c ****    return n;
  75:Drivers/SOES/Src/esc_coe.c **** }
  76:Drivers/SOES/Src/esc_coe.c **** 
  77:Drivers/SOES/Src/esc_coe.c **** /** Search for an object index matching the wanted value in the Object List.
  78:Drivers/SOES/Src/esc_coe.c ****  *
  79:Drivers/SOES/Src/esc_coe.c ****  * @param[in] index   = value on index of object we want to locate
  80:Drivers/SOES/Src/esc_coe.c ****  * @return local array index if we succeed, -1 if we didn't find the index.
  81:Drivers/SOES/Src/esc_coe.c ****  */
  82:Drivers/SOES/Src/esc_coe.c **** int32_t SDO_findobject (uint16_t index)
  83:Drivers/SOES/Src/esc_coe.c **** {
  84:Drivers/SOES/Src/esc_coe.c ****    int32_t n = 0;
  85:Drivers/SOES/Src/esc_coe.c ****    while (SDOobjects[n].index < index)
  86:Drivers/SOES/Src/esc_coe.c ****    {
  87:Drivers/SOES/Src/esc_coe.c ****       n++;
ARM GAS  /tmp/ccFH4wf5.s 			page 3


  88:Drivers/SOES/Src/esc_coe.c ****    }
  89:Drivers/SOES/Src/esc_coe.c ****    if (SDOobjects[n].index != index)
  90:Drivers/SOES/Src/esc_coe.c ****    {
  91:Drivers/SOES/Src/esc_coe.c ****       return -1;
  92:Drivers/SOES/Src/esc_coe.c ****    }
  93:Drivers/SOES/Src/esc_coe.c ****    return n;
  94:Drivers/SOES/Src/esc_coe.c **** }
  95:Drivers/SOES/Src/esc_coe.c **** 
  96:Drivers/SOES/Src/esc_coe.c **** /**
  97:Drivers/SOES/Src/esc_coe.c ****  * Calculate the size in Bytes of RxPDO or TxPDOs by adding the
  98:Drivers/SOES/Src/esc_coe.c ****  * objects in SyncManager SDO 1C1x.
  99:Drivers/SOES/Src/esc_coe.c ****  *
 100:Drivers/SOES/Src/esc_coe.c ****  * A list of mapped objects is created for fast lookup of
 101:Drivers/SOES/Src/esc_coe.c ****  * dynamically mapped process data. The max size of the list (@a
 102:Drivers/SOES/Src/esc_coe.c ****  * max_mappings) can be set to 0 if dynamic processdata is not
 103:Drivers/SOES/Src/esc_coe.c ****  * supported.
 104:Drivers/SOES/Src/esc_coe.c ****  *
 105:Drivers/SOES/Src/esc_coe.c ****  * The output variable @a nmappings is set to 0 if dynamic processdata
 106:Drivers/SOES/Src/esc_coe.c ****  * is not supported. It is set to the number of mapped objects if
 107:Drivers/SOES/Src/esc_coe.c ****  * dynamic processdata is supported, or -1 if the mapping was
 108:Drivers/SOES/Src/esc_coe.c ****  * incorrect.
 109:Drivers/SOES/Src/esc_coe.c **** 
 110:Drivers/SOES/Src/esc_coe.c ****  * @param[in] index = SM index
 111:Drivers/SOES/Src/esc_coe.c ****  * @param[out] nmappings = number of mapped objects in SM, or -1 if
 112:Drivers/SOES/Src/esc_coe.c ****  *   mapping is invalid
 113:Drivers/SOES/Src/esc_coe.c ****  * @param[out] mappings = list of mapped objects in SM
 114:Drivers/SOES/Src/esc_coe.c ****  * @param[out] max_mappings = max number of mapped objects in SM
 115:Drivers/SOES/Src/esc_coe.c ****  * @return size of RxPDO or TxPDOs in Bytes.
 116:Drivers/SOES/Src/esc_coe.c ****  */
 117:Drivers/SOES/Src/esc_coe.c **** uint16_t sizeOfPDO (uint16_t index, int * nmappings, _SMmap * mappings,
 118:Drivers/SOES/Src/esc_coe.c ****                     int max_mappings)
 119:Drivers/SOES/Src/esc_coe.c **** {
 120:Drivers/SOES/Src/esc_coe.c ****    uint16_t offset = 0, hobj;
 121:Drivers/SOES/Src/esc_coe.c ****    uint8_t si, sic, c;
 122:Drivers/SOES/Src/esc_coe.c ****    int16_t nidx;
 123:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd;
 124:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd1c1x;
 125:Drivers/SOES/Src/esc_coe.c ****    int mapIx = 0;
 126:Drivers/SOES/Src/esc_coe.c **** 
 127:Drivers/SOES/Src/esc_coe.c ****    if ((index != RX_PDO_OBJIDX) && (index != TX_PDO_OBJIDX))
 128:Drivers/SOES/Src/esc_coe.c ****    {
 129:Drivers/SOES/Src/esc_coe.c ****       return 0;
 130:Drivers/SOES/Src/esc_coe.c ****    }
 131:Drivers/SOES/Src/esc_coe.c **** 
 132:Drivers/SOES/Src/esc_coe.c ****    nidx = SDO_findobject (index);
 133:Drivers/SOES/Src/esc_coe.c ****    if(nidx < 0)
 134:Drivers/SOES/Src/esc_coe.c ****    {
 135:Drivers/SOES/Src/esc_coe.c ****       return 0;
 136:Drivers/SOES/Src/esc_coe.c ****    }
 137:Drivers/SOES/Src/esc_coe.c **** 
 138:Drivers/SOES/Src/esc_coe.c ****    objd1c1x = SDOobjects[nidx].objdesc;
 139:Drivers/SOES/Src/esc_coe.c **** 
 140:Drivers/SOES/Src/esc_coe.c ****    si = OBJ_VALUE_FETCH (si, objd1c1x[0]);
 141:Drivers/SOES/Src/esc_coe.c ****    if (si)
 142:Drivers/SOES/Src/esc_coe.c ****    {
 143:Drivers/SOES/Src/esc_coe.c ****       for (sic = 1; sic <= si; sic++)
 144:Drivers/SOES/Src/esc_coe.c ****       {
ARM GAS  /tmp/ccFH4wf5.s 			page 4


 145:Drivers/SOES/Src/esc_coe.c ****          hobj = OBJ_VALUE_FETCH (hobj, objd1c1x[sic]);
 146:Drivers/SOES/Src/esc_coe.c ****          nidx = SDO_findobject (hobj);
 147:Drivers/SOES/Src/esc_coe.c ****          if (nidx >= 0)
 148:Drivers/SOES/Src/esc_coe.c ****          {
 149:Drivers/SOES/Src/esc_coe.c ****             uint8_t maxsub;
 150:Drivers/SOES/Src/esc_coe.c **** 
 151:Drivers/SOES/Src/esc_coe.c ****             objd = SDOobjects[nidx].objdesc;
 152:Drivers/SOES/Src/esc_coe.c ****             maxsub = OBJ_VALUE_FETCH (maxsub, objd[0]);
 153:Drivers/SOES/Src/esc_coe.c **** 
 154:Drivers/SOES/Src/esc_coe.c ****             for (c = 1; c <= maxsub; c++)
 155:Drivers/SOES/Src/esc_coe.c ****             {
 156:Drivers/SOES/Src/esc_coe.c ****                uint32_t value = OBJ_VALUE_FETCH (value, objd[c]);
 157:Drivers/SOES/Src/esc_coe.c ****                uint8_t bitlength = value & 0xFF;
 158:Drivers/SOES/Src/esc_coe.c **** 
 159:Drivers/SOES/Src/esc_coe.c ****                if (max_mappings > 0)
 160:Drivers/SOES/Src/esc_coe.c ****                {
 161:Drivers/SOES/Src/esc_coe.c ****                   uint16_t index = value >> 16;
 162:Drivers/SOES/Src/esc_coe.c ****                   uint8_t subindex = (value >> 8) & 0xFF;
 163:Drivers/SOES/Src/esc_coe.c ****                   const _objd * mapping;
 164:Drivers/SOES/Src/esc_coe.c **** 
 165:Drivers/SOES/Src/esc_coe.c ****                   if (mapIx == max_mappings)
 166:Drivers/SOES/Src/esc_coe.c ****                   {
 167:Drivers/SOES/Src/esc_coe.c ****                      /* Too many mapped objects */
 168:Drivers/SOES/Src/esc_coe.c ****                      *nmappings = -1;
 169:Drivers/SOES/Src/esc_coe.c ****                      return 0;
 170:Drivers/SOES/Src/esc_coe.c ****                   }
 171:Drivers/SOES/Src/esc_coe.c **** 
 172:Drivers/SOES/Src/esc_coe.c ****                   DPRINT ("%04x:%02x @ %d\n", index, subindex, offset);
 173:Drivers/SOES/Src/esc_coe.c **** 
 174:Drivers/SOES/Src/esc_coe.c ****                   if (index == 0 && subindex == 0)
 175:Drivers/SOES/Src/esc_coe.c ****                   {
 176:Drivers/SOES/Src/esc_coe.c ****                      /* Padding element */
 177:Drivers/SOES/Src/esc_coe.c ****                      mapping = NULL;
 178:Drivers/SOES/Src/esc_coe.c ****                   }
 179:Drivers/SOES/Src/esc_coe.c ****                   else
 180:Drivers/SOES/Src/esc_coe.c ****                   {
 181:Drivers/SOES/Src/esc_coe.c ****                      nidx = SDO_findobject (index);
 182:Drivers/SOES/Src/esc_coe.c ****                      if (nidx >= 0)
 183:Drivers/SOES/Src/esc_coe.c ****                      {
 184:Drivers/SOES/Src/esc_coe.c ****                         int16_t nsub;
 185:Drivers/SOES/Src/esc_coe.c **** 
 186:Drivers/SOES/Src/esc_coe.c ****                         nsub = SDO_findsubindex (nidx, subindex);
 187:Drivers/SOES/Src/esc_coe.c ****                         if (nsub < 0)
 188:Drivers/SOES/Src/esc_coe.c ****                         {
 189:Drivers/SOES/Src/esc_coe.c ****                            /* Mapped subindex does not exist */
 190:Drivers/SOES/Src/esc_coe.c ****                            *nmappings = -1;
 191:Drivers/SOES/Src/esc_coe.c ****                            return 0;
 192:Drivers/SOES/Src/esc_coe.c ****                         }
 193:Drivers/SOES/Src/esc_coe.c **** 
 194:Drivers/SOES/Src/esc_coe.c ****                         mapping = &SDOobjects[nidx].objdesc[nsub];
 195:Drivers/SOES/Src/esc_coe.c ****                      }
 196:Drivers/SOES/Src/esc_coe.c ****                      else
 197:Drivers/SOES/Src/esc_coe.c ****                      {
 198:Drivers/SOES/Src/esc_coe.c ****                         /* Mapped index does not exist */
 199:Drivers/SOES/Src/esc_coe.c ****                         *nmappings = -1;
 200:Drivers/SOES/Src/esc_coe.c ****                         return 0;
 201:Drivers/SOES/Src/esc_coe.c ****                      }
ARM GAS  /tmp/ccFH4wf5.s 			page 5


 202:Drivers/SOES/Src/esc_coe.c ****                   }
 203:Drivers/SOES/Src/esc_coe.c **** 
 204:Drivers/SOES/Src/esc_coe.c ****                   mappings[mapIx].obj = mapping;
 205:Drivers/SOES/Src/esc_coe.c ****                   mappings[mapIx++].offset = offset;
 206:Drivers/SOES/Src/esc_coe.c ****                }
 207:Drivers/SOES/Src/esc_coe.c **** 
 208:Drivers/SOES/Src/esc_coe.c ****                offset += bitlength;
 209:Drivers/SOES/Src/esc_coe.c ****             }
 210:Drivers/SOES/Src/esc_coe.c ****          }
 211:Drivers/SOES/Src/esc_coe.c ****       }
 212:Drivers/SOES/Src/esc_coe.c ****    }
 213:Drivers/SOES/Src/esc_coe.c **** 
 214:Drivers/SOES/Src/esc_coe.c ****    if (max_mappings > 0)
 215:Drivers/SOES/Src/esc_coe.c ****    {
 216:Drivers/SOES/Src/esc_coe.c ****       *nmappings = mapIx;
 217:Drivers/SOES/Src/esc_coe.c ****    }
 218:Drivers/SOES/Src/esc_coe.c ****    else
 219:Drivers/SOES/Src/esc_coe.c ****    {
 220:Drivers/SOES/Src/esc_coe.c ****       *nmappings = 0;
 221:Drivers/SOES/Src/esc_coe.c ****    }
 222:Drivers/SOES/Src/esc_coe.c **** 
 223:Drivers/SOES/Src/esc_coe.c ****    return BITS2BYTES (offset);
 224:Drivers/SOES/Src/esc_coe.c **** }
 225:Drivers/SOES/Src/esc_coe.c **** 
 226:Drivers/SOES/Src/esc_coe.c **** /** Copy to mailbox.
 227:Drivers/SOES/Src/esc_coe.c ****  *
 228:Drivers/SOES/Src/esc_coe.c ****  * @param[in] source = pointer to source
 229:Drivers/SOES/Src/esc_coe.c ****  * @param[in] dest   = pointer to destination
 230:Drivers/SOES/Src/esc_coe.c ****  * @param[in] size   = Size to copy
 231:Drivers/SOES/Src/esc_coe.c ****  */
 232:Drivers/SOES/Src/esc_coe.c **** static void copy2mbx (void *source, void *dest, uint16_t size)
 233:Drivers/SOES/Src/esc_coe.c **** {
 234:Drivers/SOES/Src/esc_coe.c ****    memcpy (dest, source, size);
 235:Drivers/SOES/Src/esc_coe.c **** }
 236:Drivers/SOES/Src/esc_coe.c **** 
 237:Drivers/SOES/Src/esc_coe.c **** /** Function for sending an SDO Abort reply.
 238:Drivers/SOES/Src/esc_coe.c ****  *
 239:Drivers/SOES/Src/esc_coe.c ****  * @param[in] reusembx   = mailbox buffer to use (if 0 then claim a new buffer)
 240:Drivers/SOES/Src/esc_coe.c ****  * @param[in] index      = index of object causing abort reply
 241:Drivers/SOES/Src/esc_coe.c ****  * @param[in] sub-index  = sub-index of object causing abort reply
 242:Drivers/SOES/Src/esc_coe.c ****  * @param[in] abortcode  = abort code to send in reply
 243:Drivers/SOES/Src/esc_coe.c ****  */
 244:Drivers/SOES/Src/esc_coe.c **** static void SDO_abort (uint8_t reusembx, uint16_t index, uint8_t subindex, uint32_t abortcode)
 245:Drivers/SOES/Src/esc_coe.c **** {
 246:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
 247:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coeres;
 248:Drivers/SOES/Src/esc_coe.c ****    if (reusembx)
 249:Drivers/SOES/Src/esc_coe.c ****       MBXout = reusembx;
 250:Drivers/SOES/Src/esc_coe.c ****    else
 251:Drivers/SOES/Src/esc_coe.c ****       MBXout = ESC_claimbuffer ();
 252:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
 253:Drivers/SOES/Src/esc_coe.c ****    {
 254:Drivers/SOES/Src/esc_coe.c ****       coeres = (_COEsdo *) &MBX[MBXout * ESC_MBXSIZE];
 255:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 256:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.mbxtype = MBXCOE;
 257:Drivers/SOES/Src/esc_coe.c ****       coeres->coeheader.numberservice =
 258:Drivers/SOES/Src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOREQUEST << 12));
ARM GAS  /tmp/ccFH4wf5.s 			page 6


 259:Drivers/SOES/Src/esc_coe.c ****       coeres->index = htoes (index);
 260:Drivers/SOES/Src/esc_coe.c ****       coeres->subindex = subindex;
 261:Drivers/SOES/Src/esc_coe.c ****       coeres->command = COE_COMMAND_SDOABORT;
 262:Drivers/SOES/Src/esc_coe.c ****       coeres->size = htoel (abortcode);
 263:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 264:Drivers/SOES/Src/esc_coe.c ****    }
 265:Drivers/SOES/Src/esc_coe.c **** }
 266:Drivers/SOES/Src/esc_coe.c **** 
 267:Drivers/SOES/Src/esc_coe.c **** static void set_state_idle (uint8_t reusembx,
 268:Drivers/SOES/Src/esc_coe.c ****                            uint16_t index,
 269:Drivers/SOES/Src/esc_coe.c ****                            uint8_t subindex,
 270:Drivers/SOES/Src/esc_coe.c ****                            uint32_t abortcode)
 271:Drivers/SOES/Src/esc_coe.c **** {
 272:Drivers/SOES/Src/esc_coe.c ****    if (abortcode != 0)
 273:Drivers/SOES/Src/esc_coe.c ****    {
 274:Drivers/SOES/Src/esc_coe.c ****       SDO_abort (reusembx, index, subindex, abortcode);
 275:Drivers/SOES/Src/esc_coe.c ****    }
 276:Drivers/SOES/Src/esc_coe.c **** 
 277:Drivers/SOES/Src/esc_coe.c ****    MBXcontrol[0].state = MBXstate_idle;
 278:Drivers/SOES/Src/esc_coe.c ****    ESCvar.xoe = 0;
 279:Drivers/SOES/Src/esc_coe.c **** }
 280:Drivers/SOES/Src/esc_coe.c **** 
 281:Drivers/SOES/Src/esc_coe.c **** /** Function for responding on requested SDO Upload, sending the content
 282:Drivers/SOES/Src/esc_coe.c ****  *  requested in a free Mailbox buffer. Depending of size of data expedited,
 283:Drivers/SOES/Src/esc_coe.c ****  *  normal or segmented transfer is used. On error an SDO Abort will be sent.
 284:Drivers/SOES/Src/esc_coe.c ****  */
 285:Drivers/SOES/Src/esc_coe.c **** static void SDO_upload (void)
 286:Drivers/SOES/Src/esc_coe.c **** {
 287:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coesdo, *coeres;
 288:Drivers/SOES/Src/esc_coe.c ****    uint16_t index;
 289:Drivers/SOES/Src/esc_coe.c ****    uint8_t subindex;
 290:Drivers/SOES/Src/esc_coe.c ****    int16_t nidx, nsub;
 291:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
 292:Drivers/SOES/Src/esc_coe.c ****    uint32_t size;
 293:Drivers/SOES/Src/esc_coe.c ****    uint8_t dss;
 294:Drivers/SOES/Src/esc_coe.c ****    uint32_t abort = 1;
 295:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd;
 296:Drivers/SOES/Src/esc_coe.c ****    coesdo = (_COEsdo *) &MBX[0];
 297:Drivers/SOES/Src/esc_coe.c ****    index = etohs (coesdo->index);
 298:Drivers/SOES/Src/esc_coe.c ****    subindex = coesdo->subindex;
 299:Drivers/SOES/Src/esc_coe.c ****    nidx = SDO_findobject (index);
 300:Drivers/SOES/Src/esc_coe.c ****    if (nidx >= 0)
 301:Drivers/SOES/Src/esc_coe.c ****    {
 302:Drivers/SOES/Src/esc_coe.c ****       nsub = SDO_findsubindex (nidx, subindex);
 303:Drivers/SOES/Src/esc_coe.c ****       if (nsub >= 0)
 304:Drivers/SOES/Src/esc_coe.c ****       {
 305:Drivers/SOES/Src/esc_coe.c ****          objd = SDOobjects[nidx].objdesc;
 306:Drivers/SOES/Src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 307:Drivers/SOES/Src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 308:Drivers/SOES/Src/esc_coe.c ****          if (!READ_ACCESS(access, state))
 309:Drivers/SOES/Src/esc_coe.c ****          {
 310:Drivers/SOES/Src/esc_coe.c ****             set_state_idle (0, index, subindex, ABORT_WRITEONLY);
 311:Drivers/SOES/Src/esc_coe.c ****             return;
 312:Drivers/SOES/Src/esc_coe.c ****          }
 313:Drivers/SOES/Src/esc_coe.c ****          MBXout = ESC_claimbuffer ();
 314:Drivers/SOES/Src/esc_coe.c ****          if (MBXout)
 315:Drivers/SOES/Src/esc_coe.c ****          {
ARM GAS  /tmp/ccFH4wf5.s 			page 7


 316:Drivers/SOES/Src/esc_coe.c ****             coeres = (_COEsdo *) &MBX[MBXout * ESC_MBXSIZE];
 317:Drivers/SOES/Src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 318:Drivers/SOES/Src/esc_coe.c ****             coeres->mbxheader.mbxtype = MBXCOE;
 319:Drivers/SOES/Src/esc_coe.c ****             coeres->coeheader.numberservice =
 320:Drivers/SOES/Src/esc_coe.c ****                htoes ((0 & 0x01f) | (COE_SDORESPONSE << 12));
 321:Drivers/SOES/Src/esc_coe.c ****             size = (objd + nsub)->bitlength;
 322:Drivers/SOES/Src/esc_coe.c ****             /* expedited bits used calculation */
 323:Drivers/SOES/Src/esc_coe.c ****             dss = 0x0c;
 324:Drivers/SOES/Src/esc_coe.c ****             if (size > 8)
 325:Drivers/SOES/Src/esc_coe.c ****             {
 326:Drivers/SOES/Src/esc_coe.c ****                dss = 0x08;
 327:Drivers/SOES/Src/esc_coe.c ****             }
 328:Drivers/SOES/Src/esc_coe.c ****             if (size > 16)
 329:Drivers/SOES/Src/esc_coe.c ****             {
 330:Drivers/SOES/Src/esc_coe.c ****                dss = 0x04;
 331:Drivers/SOES/Src/esc_coe.c ****             }
 332:Drivers/SOES/Src/esc_coe.c ****             if (size > 24)
 333:Drivers/SOES/Src/esc_coe.c ****             {
 334:Drivers/SOES/Src/esc_coe.c ****                dss = 0x00;
 335:Drivers/SOES/Src/esc_coe.c ****             }
 336:Drivers/SOES/Src/esc_coe.c ****             coeres->index = htoes (index);
 337:Drivers/SOES/Src/esc_coe.c ****             coeres->subindex = subindex;
 338:Drivers/SOES/Src/esc_coe.c ****             coeres->command = COE_COMMAND_UPLOADRESPONSE +
 339:Drivers/SOES/Src/esc_coe.c ****                COE_SIZE_INDICATOR;
 340:Drivers/SOES/Src/esc_coe.c ****             /* convert bits to bytes */
 341:Drivers/SOES/Src/esc_coe.c ****             size = BITS2BYTES(size);
 342:Drivers/SOES/Src/esc_coe.c ****             if (size <= 4)
 343:Drivers/SOES/Src/esc_coe.c ****             {
 344:Drivers/SOES/Src/esc_coe.c ****                /* expedited response i.e. length<=4 bytes */
 345:Drivers/SOES/Src/esc_coe.c ****                coeres->command += COE_EXPEDITED_INDICATOR + dss;
 346:Drivers/SOES/Src/esc_coe.c ****                void *dataptr = ((objd + nsub)->data) ?
 347:Drivers/SOES/Src/esc_coe.c ****                      (objd + nsub)->data : (void *)&((objd + nsub)->value);
 348:Drivers/SOES/Src/esc_coe.c ****                abort = ESC_upload_pre_objecthandler (index, subindex,
 349:Drivers/SOES/Src/esc_coe.c ****                      dataptr, (size_t *)&size, (objd + nsub)->flags);
 350:Drivers/SOES/Src/esc_coe.c ****                if (abort == 0)
 351:Drivers/SOES/Src/esc_coe.c ****                {
 352:Drivers/SOES/Src/esc_coe.c ****                   if ((objd + nsub)->data == NULL)
 353:Drivers/SOES/Src/esc_coe.c ****                   {
 354:Drivers/SOES/Src/esc_coe.c ****                      /* use constant value */
 355:Drivers/SOES/Src/esc_coe.c ****                      coeres->size = htoel ((objd + nsub)->value);
 356:Drivers/SOES/Src/esc_coe.c ****                   }
 357:Drivers/SOES/Src/esc_coe.c ****                   else
 358:Drivers/SOES/Src/esc_coe.c ****                   {
 359:Drivers/SOES/Src/esc_coe.c ****                      /* use dynamic data */
 360:Drivers/SOES/Src/esc_coe.c ****                      copy2mbx ((objd + nsub)->data, &(coeres->size), size);
 361:Drivers/SOES/Src/esc_coe.c ****                   }
 362:Drivers/SOES/Src/esc_coe.c ****                }
 363:Drivers/SOES/Src/esc_coe.c ****                else
 364:Drivers/SOES/Src/esc_coe.c ****                {
 365:Drivers/SOES/Src/esc_coe.c ****                   set_state_idle (MBXout, index, subindex, abort);
 366:Drivers/SOES/Src/esc_coe.c ****                   return;
 367:Drivers/SOES/Src/esc_coe.c ****                }
 368:Drivers/SOES/Src/esc_coe.c ****             }
 369:Drivers/SOES/Src/esc_coe.c ****             else
 370:Drivers/SOES/Src/esc_coe.c ****             {
 371:Drivers/SOES/Src/esc_coe.c ****                /* normal response i.e. length>4 bytes */
 372:Drivers/SOES/Src/esc_coe.c ****                abort = ESC_upload_pre_objecthandler (index, subindex,
ARM GAS  /tmp/ccFH4wf5.s 			page 8


 373:Drivers/SOES/Src/esc_coe.c ****                      (objd + nsub)->data, (size_t *)&size, (objd + nsub)->flags);
 374:Drivers/SOES/Src/esc_coe.c ****                if (abort == 0)
 375:Drivers/SOES/Src/esc_coe.c ****                {
 376:Drivers/SOES/Src/esc_coe.c ****                   /* set total size in bytes */
 377:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.frags = size;
 378:Drivers/SOES/Src/esc_coe.c ****                   coeres->size = htoel (size);
 379:Drivers/SOES/Src/esc_coe.c ****                   if ((size + COE_HEADERSIZE) > ESC_MBXDSIZE)
 380:Drivers/SOES/Src/esc_coe.c ****                   {
 381:Drivers/SOES/Src/esc_coe.c ****                      /* segmented transfer needed */
 382:Drivers/SOES/Src/esc_coe.c ****                      /* limit to mailbox size */
 383:Drivers/SOES/Src/esc_coe.c ****                      size = ESC_MBXDSIZE - COE_HEADERSIZE;
 384:Drivers/SOES/Src/esc_coe.c ****                      /* number of bytes done */
 385:Drivers/SOES/Src/esc_coe.c ****                      ESCvar.fragsleft = size;
 386:Drivers/SOES/Src/esc_coe.c ****                      /* signal segmented transfer */
 387:Drivers/SOES/Src/esc_coe.c ****                      ESCvar.segmented = MBXSEU;
 388:Drivers/SOES/Src/esc_coe.c ****                      ESCvar.data = (objd + nsub)->data;
 389:Drivers/SOES/Src/esc_coe.c ****                      ESCvar.flags = (objd + nsub)->flags;
 390:Drivers/SOES/Src/esc_coe.c ****                   }
 391:Drivers/SOES/Src/esc_coe.c ****                   else
 392:Drivers/SOES/Src/esc_coe.c ****                   {
 393:Drivers/SOES/Src/esc_coe.c ****                      ESCvar.segmented = 0;
 394:Drivers/SOES/Src/esc_coe.c ****                   }
 395:Drivers/SOES/Src/esc_coe.c ****                   coeres->mbxheader.length = htoes (COE_HEADERSIZE + size);
 396:Drivers/SOES/Src/esc_coe.c **** 
 397:Drivers/SOES/Src/esc_coe.c ****                   /* use dynamic data */
 398:Drivers/SOES/Src/esc_coe.c ****                   copy2mbx ((objd + nsub)->data, (&(coeres->size)) + 1, size);
 399:Drivers/SOES/Src/esc_coe.c ****                }
 400:Drivers/SOES/Src/esc_coe.c ****                else
 401:Drivers/SOES/Src/esc_coe.c ****                {
 402:Drivers/SOES/Src/esc_coe.c ****                   set_state_idle (MBXout, index, subindex, abort);
 403:Drivers/SOES/Src/esc_coe.c ****                   return;
 404:Drivers/SOES/Src/esc_coe.c ****                }
 405:Drivers/SOES/Src/esc_coe.c ****             }
 406:Drivers/SOES/Src/esc_coe.c ****             if ((abort == 0) && (ESCvar.segmented == 0))
 407:Drivers/SOES/Src/esc_coe.c ****             {
 408:Drivers/SOES/Src/esc_coe.c ****                abort = ESC_upload_post_objecthandler (index, subindex,
 409:Drivers/SOES/Src/esc_coe.c ****                                                       (objd + nsub)->flags);
 410:Drivers/SOES/Src/esc_coe.c ****                if (abort != 0)
 411:Drivers/SOES/Src/esc_coe.c ****                {
 412:Drivers/SOES/Src/esc_coe.c ****                   set_state_idle (MBXout, index, subindex, abort);
 413:Drivers/SOES/Src/esc_coe.c ****                   return;
 414:Drivers/SOES/Src/esc_coe.c ****                }
 415:Drivers/SOES/Src/esc_coe.c ****             }
 416:Drivers/SOES/Src/esc_coe.c ****             MBXcontrol[MBXout].state = MBXstate_outreq;
 417:Drivers/SOES/Src/esc_coe.c ****          }
 418:Drivers/SOES/Src/esc_coe.c ****       }
 419:Drivers/SOES/Src/esc_coe.c ****       else
 420:Drivers/SOES/Src/esc_coe.c ****       {
 421:Drivers/SOES/Src/esc_coe.c ****          SDO_abort (0, index, subindex, ABORT_NOSUBINDEX);
 422:Drivers/SOES/Src/esc_coe.c ****       }
 423:Drivers/SOES/Src/esc_coe.c ****    }
 424:Drivers/SOES/Src/esc_coe.c ****    else
 425:Drivers/SOES/Src/esc_coe.c ****    {
 426:Drivers/SOES/Src/esc_coe.c ****       SDO_abort (0, index, subindex, ABORT_NOOBJECT);
 427:Drivers/SOES/Src/esc_coe.c ****    }
 428:Drivers/SOES/Src/esc_coe.c ****    MBXcontrol[0].state = MBXstate_idle;
 429:Drivers/SOES/Src/esc_coe.c ****    ESCvar.xoe = 0;
ARM GAS  /tmp/ccFH4wf5.s 			page 9


 430:Drivers/SOES/Src/esc_coe.c **** }
 431:Drivers/SOES/Src/esc_coe.c **** 
 432:Drivers/SOES/Src/esc_coe.c **** static uint32_t complete_access_get_variables(_COEsdo *coesdo, uint16_t *index,
 433:Drivers/SOES/Src/esc_coe.c ****                                               uint8_t *subindex, int16_t *nidx,
 434:Drivers/SOES/Src/esc_coe.c ****                                               int16_t *nsub)
 435:Drivers/SOES/Src/esc_coe.c **** {
 436:Drivers/SOES/Src/esc_coe.c ****    *index = etohs (coesdo->index);
 437:Drivers/SOES/Src/esc_coe.c ****    *subindex = coesdo->subindex;
 438:Drivers/SOES/Src/esc_coe.c **** 
 439:Drivers/SOES/Src/esc_coe.c ****    /* A Complete Access must start with Subindex 0 or Subindex 1 */
 440:Drivers/SOES/Src/esc_coe.c ****    if (*subindex > 1)
 441:Drivers/SOES/Src/esc_coe.c ****    {
 442:Drivers/SOES/Src/esc_coe.c ****       return ABORT_UNSUPPORTED;
 443:Drivers/SOES/Src/esc_coe.c ****    }
 444:Drivers/SOES/Src/esc_coe.c **** 
 445:Drivers/SOES/Src/esc_coe.c ****    *nidx = SDO_findobject (*index);
 446:Drivers/SOES/Src/esc_coe.c ****    if (*nidx < 0)
 447:Drivers/SOES/Src/esc_coe.c ****    {
 448:Drivers/SOES/Src/esc_coe.c ****       return ABORT_NOOBJECT;
 449:Drivers/SOES/Src/esc_coe.c ****    }
 450:Drivers/SOES/Src/esc_coe.c **** 
 451:Drivers/SOES/Src/esc_coe.c ****    *nsub = SDO_findsubindex (*nidx, *subindex);
 452:Drivers/SOES/Src/esc_coe.c ****    if (*nsub < 0)
 453:Drivers/SOES/Src/esc_coe.c ****    {
 454:Drivers/SOES/Src/esc_coe.c ****       return ABORT_NOSUBINDEX;
 455:Drivers/SOES/Src/esc_coe.c ****    }
 456:Drivers/SOES/Src/esc_coe.c **** 
 457:Drivers/SOES/Src/esc_coe.c ****    return 0;
 458:Drivers/SOES/Src/esc_coe.c **** }
 459:Drivers/SOES/Src/esc_coe.c **** 
 460:Drivers/SOES/Src/esc_coe.c **** static uint32_t complete_access_subindex_loop(const _objd *objd,
 461:Drivers/SOES/Src/esc_coe.c ****                                               int16_t nidx,
 462:Drivers/SOES/Src/esc_coe.c ****                                               int16_t nsub,
 463:Drivers/SOES/Src/esc_coe.c ****                                               uint8_t *mbxdata,
 464:Drivers/SOES/Src/esc_coe.c ****                                               load_t load_type,
 465:Drivers/SOES/Src/esc_coe.c ****                                               uint16_t max_bytes)
 466:Drivers/SOES/Src/esc_coe.c **** {
 467:Drivers/SOES/Src/esc_coe.c ****    /* Objects with dynamic entries cannot be accessed with Complete Access */
 468:Drivers/SOES/Src/esc_coe.c ****    if ((objd->datatype == DTYPE_VISIBLE_STRING) ||
 469:Drivers/SOES/Src/esc_coe.c ****        (objd->datatype == DTYPE_OCTET_STRING)   ||
 470:Drivers/SOES/Src/esc_coe.c ****        (objd->datatype == DTYPE_UNICODE_STRING))
 471:Drivers/SOES/Src/esc_coe.c ****    {
 472:Drivers/SOES/Src/esc_coe.c ****       return ABORT_CA_NOT_SUPPORTED;
 473:Drivers/SOES/Src/esc_coe.c ****    }
 474:Drivers/SOES/Src/esc_coe.c **** 
 475:Drivers/SOES/Src/esc_coe.c ****    uint32_t size = 0;
 476:Drivers/SOES/Src/esc_coe.c **** 
 477:Drivers/SOES/Src/esc_coe.c ****    while (nsub <= SDOobjects[nidx].maxsub)
 478:Drivers/SOES/Src/esc_coe.c ****    {
 479:Drivers/SOES/Src/esc_coe.c ****       uint16_t bitlen = (objd + nsub)->bitlength;
 480:Drivers/SOES/Src/esc_coe.c ****       void *ul_source = ((objd + nsub)->data != NULL) ?
 481:Drivers/SOES/Src/esc_coe.c ****             (objd + nsub)->data : (void *)&((objd + nsub)->value);
 482:Drivers/SOES/Src/esc_coe.c ****       uint8_t bitoffset = size % 8;
 483:Drivers/SOES/Src/esc_coe.c ****       uint8_t access = (objd + nsub)->flags & 0x3f;
 484:Drivers/SOES/Src/esc_coe.c ****       uint8_t state = ESCvar.ALstatus & 0x0f;
 485:Drivers/SOES/Src/esc_coe.c **** 
 486:Drivers/SOES/Src/esc_coe.c ****       if ((bitlen % 8) == 0)
ARM GAS  /tmp/ccFH4wf5.s 			page 10


 487:Drivers/SOES/Src/esc_coe.c ****       {
 488:Drivers/SOES/Src/esc_coe.c ****          if (bitoffset != 0)
 489:Drivers/SOES/Src/esc_coe.c ****          {
 490:Drivers/SOES/Src/esc_coe.c ****             /* move on to next byte boundary */
 491:Drivers/SOES/Src/esc_coe.c ****             size += (8 - bitoffset);
 492:Drivers/SOES/Src/esc_coe.c ****          }
 493:Drivers/SOES/Src/esc_coe.c ****          if (mbxdata != NULL)
 494:Drivers/SOES/Src/esc_coe.c ****          {
 495:Drivers/SOES/Src/esc_coe.c ****             /* copy a non-bit data type to a byte boundary */
 496:Drivers/SOES/Src/esc_coe.c ****             if (load_type == UPLOAD)
 497:Drivers/SOES/Src/esc_coe.c ****             {
 498:Drivers/SOES/Src/esc_coe.c ****                if (READ_ACCESS(access, state))
 499:Drivers/SOES/Src/esc_coe.c ****                {
 500:Drivers/SOES/Src/esc_coe.c ****                   memcpy(&mbxdata[BITS2BYTES(size)], ul_source,
 501:Drivers/SOES/Src/esc_coe.c ****                         BITS2BYTES(bitlen));
 502:Drivers/SOES/Src/esc_coe.c ****                }
 503:Drivers/SOES/Src/esc_coe.c ****                else
 504:Drivers/SOES/Src/esc_coe.c ****                {
 505:Drivers/SOES/Src/esc_coe.c ****                   /* return zeroes for upload of WO objects */
 506:Drivers/SOES/Src/esc_coe.c ****                   memset(&mbxdata[BITS2BYTES(size)], 0, BITS2BYTES(bitlen));
 507:Drivers/SOES/Src/esc_coe.c ****                }
 508:Drivers/SOES/Src/esc_coe.c ****             }
 509:Drivers/SOES/Src/esc_coe.c ****             /* download of RO objects shall be ignored */
 510:Drivers/SOES/Src/esc_coe.c ****             else if (WRITE_ACCESS(access, state))
 511:Drivers/SOES/Src/esc_coe.c ****             {
 512:Drivers/SOES/Src/esc_coe.c ****                memcpy((objd + nsub)->data, &mbxdata[BITS2BYTES(size)],
 513:Drivers/SOES/Src/esc_coe.c ****                      BITS2BYTES(bitlen));
 514:Drivers/SOES/Src/esc_coe.c ****             }
 515:Drivers/SOES/Src/esc_coe.c ****          }
 516:Drivers/SOES/Src/esc_coe.c ****       }
 517:Drivers/SOES/Src/esc_coe.c ****       else if ((load_type == UPLOAD) && (mbxdata != NULL))
 518:Drivers/SOES/Src/esc_coe.c ****       {
 519:Drivers/SOES/Src/esc_coe.c ****          /* copy a bit data type into correct position */
 520:Drivers/SOES/Src/esc_coe.c ****          uint8_t bitmask = (1 << bitlen) - 1;
 521:Drivers/SOES/Src/esc_coe.c ****          if (READ_ACCESS(access, state))
 522:Drivers/SOES/Src/esc_coe.c ****          {
 523:Drivers/SOES/Src/esc_coe.c ****             if (bitoffset == 0)
 524:Drivers/SOES/Src/esc_coe.c ****             {
 525:Drivers/SOES/Src/esc_coe.c ****                mbxdata[BITS2BYTES(size)] = 0;
 526:Drivers/SOES/Src/esc_coe.c ****             }
 527:Drivers/SOES/Src/esc_coe.c ****             mbxdata[BITS2BYTES(size)] |=
 528:Drivers/SOES/Src/esc_coe.c ****                   (*(uint8_t *)ul_source & bitmask) << bitoffset;
 529:Drivers/SOES/Src/esc_coe.c ****          }
 530:Drivers/SOES/Src/esc_coe.c ****          else
 531:Drivers/SOES/Src/esc_coe.c ****          {
 532:Drivers/SOES/Src/esc_coe.c ****             mbxdata[BITS2BYTES(size)] &= ~(bitmask << bitoffset);
 533:Drivers/SOES/Src/esc_coe.c ****          }
 534:Drivers/SOES/Src/esc_coe.c ****       }
 535:Drivers/SOES/Src/esc_coe.c **** 
 536:Drivers/SOES/Src/esc_coe.c ****       /* Subindex 0 is padded to 16 bit */
 537:Drivers/SOES/Src/esc_coe.c ****       size += (nsub == 0) ? 16 : bitlen;
 538:Drivers/SOES/Src/esc_coe.c ****       nsub++;
 539:Drivers/SOES/Src/esc_coe.c **** 
 540:Drivers/SOES/Src/esc_coe.c ****       if ((max_bytes > 0) && (BITS2BYTES(size) >= max_bytes))
 541:Drivers/SOES/Src/esc_coe.c ****       {
 542:Drivers/SOES/Src/esc_coe.c ****          break;
 543:Drivers/SOES/Src/esc_coe.c ****       }
ARM GAS  /tmp/ccFH4wf5.s 			page 11


 544:Drivers/SOES/Src/esc_coe.c ****    }
 545:Drivers/SOES/Src/esc_coe.c **** 
 546:Drivers/SOES/Src/esc_coe.c ****    return size;
 547:Drivers/SOES/Src/esc_coe.c **** }
 548:Drivers/SOES/Src/esc_coe.c **** 
 549:Drivers/SOES/Src/esc_coe.c **** static void init_coesdo(_COEsdo *coesdo,
 550:Drivers/SOES/Src/esc_coe.c ****                         uint8_t sdoservice,
 551:Drivers/SOES/Src/esc_coe.c ****                         uint8_t command,
 552:Drivers/SOES/Src/esc_coe.c ****                         uint16_t index,
 553:Drivers/SOES/Src/esc_coe.c ****                         uint8_t subindex)
 554:Drivers/SOES/Src/esc_coe.c **** {
  29              		.loc 1 554 1 view -0
  30              		.cfi_startproc
  31              		@ args = 4, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 554 1 is_stmt 0 view .LVU1
  34 0000 00B5     		push	{lr}
  35              		.cfi_def_cfa_offset 4
  36              		.cfi_offset 14, -4
 555:Drivers/SOES/Src/esc_coe.c ****    coesdo->mbxheader.length = htoes(COE_DEFAULTLENGTH);
  37              		.loc 1 555 4 is_stmt 1 view .LVU2
  38              		.loc 1 555 29 is_stmt 0 view .LVU3
  39 0002 4FF00A0C 		mov	ip, #10
  40 0006 80F800C0 		strb	ip, [r0]
  41 000a 4FF0000C 		mov	ip, #0
  42 000e 80F801C0 		strb	ip, [r0, #1]
 556:Drivers/SOES/Src/esc_coe.c ****    coesdo->mbxheader.mbxtype = MBXCOE;
  43              		.loc 1 556 4 is_stmt 1 view .LVU4
  44              		.loc 1 556 30 is_stmt 0 view .LVU5
  45 0012 90F805C0 		ldrb	ip, [r0, #5]	@ zero_extendqisi2
  46 0016 4FF0030E 		mov	lr, #3
  47 001a 6EF3030C 		bfi	ip, lr, #0, #4
  48 001e 80F805C0 		strb	ip, [r0, #5]
  49              	.LVL1:
 557:Drivers/SOES/Src/esc_coe.c ****    coesdo->coeheader.numberservice = htoes(sdoservice << 12);
  50              		.loc 1 557 4 is_stmt 1 view .LVU6
  51              		.loc 1 557 38 is_stmt 0 view .LVU7
  52 0022 0903     		lsls	r1, r1, #12
  53              	.LVL2:
  54              		.loc 1 557 36 view .LVU8
  55 0024 C180     		strh	r1, [r0, #6]	@ unaligned
 558:Drivers/SOES/Src/esc_coe.c ****    coesdo->command = command;
  56              		.loc 1 558 4 is_stmt 1 view .LVU9
  57              		.loc 1 558 20 is_stmt 0 view .LVU10
  58 0026 0272     		strb	r2, [r0, #8]
 559:Drivers/SOES/Src/esc_coe.c ****    coesdo->index = htoes(index);
  59              		.loc 1 559 4 is_stmt 1 view .LVU11
  60              		.loc 1 559 18 is_stmt 0 view .LVU12
  61 0028 A0F80930 		strh	r3, [r0, #9]	@ unaligned
 560:Drivers/SOES/Src/esc_coe.c ****    coesdo->subindex = subindex;
  62              		.loc 1 560 4 is_stmt 1 view .LVU13
  63              		.loc 1 560 21 is_stmt 0 view .LVU14
  64 002c 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
  65              	.LVL3:
  66              		.loc 1 560 21 view .LVU15
  67 0030 C372     		strb	r3, [r0, #11]
 561:Drivers/SOES/Src/esc_coe.c **** }
ARM GAS  /tmp/ccFH4wf5.s 			page 12


  68              		.loc 1 561 1 view .LVU16
  69 0032 5DF804FB 		ldr	pc, [sp], #4
  70              		.cfi_endproc
  71              	.LFE9:
  73              		.section	.text.COE_bitsliceGet,"ax",%progbits
  74              		.align	1
  75              		.syntax unified
  76              		.thumb
  77              		.thumb_func
  79              	COE_bitsliceGet:
  80              	.LVL4:
  81              	.LFB21:
 562:Drivers/SOES/Src/esc_coe.c **** 
 563:Drivers/SOES/Src/esc_coe.c **** /** Function for responding on requested SDO Upload with Complete Access,
 564:Drivers/SOES/Src/esc_coe.c ****  *  sending the content requested in a free Mailbox buffer. Depending of
 565:Drivers/SOES/Src/esc_coe.c ****  *  size of data expedited, normal or segmented transfer is used.
 566:Drivers/SOES/Src/esc_coe.c ****  *  On error an SDO Abort will be sent.
 567:Drivers/SOES/Src/esc_coe.c ****  */
 568:Drivers/SOES/Src/esc_coe.c **** static void SDO_upload_complete_access (void)
 569:Drivers/SOES/Src/esc_coe.c **** {
 570:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coesdo = (_COEsdo *) &MBX[0];
 571:Drivers/SOES/Src/esc_coe.c ****    uint16_t index;
 572:Drivers/SOES/Src/esc_coe.c ****    uint8_t subindex;
 573:Drivers/SOES/Src/esc_coe.c ****    int16_t nidx, nsub;
 574:Drivers/SOES/Src/esc_coe.c ****    uint32_t abortcode = complete_access_get_variables
 575:Drivers/SOES/Src/esc_coe.c ****                            (coesdo, &index, &subindex, &nidx, &nsub);
 576:Drivers/SOES/Src/esc_coe.c ****    if (abortcode != 0)
 577:Drivers/SOES/Src/esc_coe.c ****    {
 578:Drivers/SOES/Src/esc_coe.c ****       set_state_idle (0, index, subindex, abortcode);
 579:Drivers/SOES/Src/esc_coe.c ****       return;
 580:Drivers/SOES/Src/esc_coe.c ****    }
 581:Drivers/SOES/Src/esc_coe.c **** 
 582:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout = ESC_claimbuffer ();
 583:Drivers/SOES/Src/esc_coe.c ****    if (MBXout == 0)
 584:Drivers/SOES/Src/esc_coe.c ****    {
 585:Drivers/SOES/Src/esc_coe.c ****       /* It is a bad idea to call SDO_abort when ESC_claimbuffer fails,
 586:Drivers/SOES/Src/esc_coe.c ****        * because SDO_abort will also call ESC_claimbuffer ...
 587:Drivers/SOES/Src/esc_coe.c ****        */
 588:Drivers/SOES/Src/esc_coe.c ****       set_state_idle (0, index, subindex, 0);
 589:Drivers/SOES/Src/esc_coe.c ****       return;
 590:Drivers/SOES/Src/esc_coe.c ****    }
 591:Drivers/SOES/Src/esc_coe.c **** 
 592:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd = SDOobjects[nidx].objdesc;
 593:Drivers/SOES/Src/esc_coe.c **** 
 594:Drivers/SOES/Src/esc_coe.c ****    /* loop through the subindexes to get the total size */
 595:Drivers/SOES/Src/esc_coe.c ****    uint32_t size = complete_access_subindex_loop(objd, nidx, nsub, NULL, UPLOAD, 0);
 596:Drivers/SOES/Src/esc_coe.c **** 
 597:Drivers/SOES/Src/esc_coe.c ****    /* expedited bits used calculation */
 598:Drivers/SOES/Src/esc_coe.c ****    uint8_t dss = (size > 24) ? 0 : (4 * (3 - ((size - 1) >> 3)));
 599:Drivers/SOES/Src/esc_coe.c **** 
 600:Drivers/SOES/Src/esc_coe.c ****    /* convert bits to bytes */
 601:Drivers/SOES/Src/esc_coe.c ****    size = BITS2BYTES(size);
 602:Drivers/SOES/Src/esc_coe.c **** 
 603:Drivers/SOES/Src/esc_coe.c ****    if (size > 0xffff)
 604:Drivers/SOES/Src/esc_coe.c ****    {
 605:Drivers/SOES/Src/esc_coe.c ****       /* 'size' is in this case actually an abort code */
 606:Drivers/SOES/Src/esc_coe.c ****       set_state_idle (MBXout, index, subindex, size);
ARM GAS  /tmp/ccFH4wf5.s 			page 13


 607:Drivers/SOES/Src/esc_coe.c ****       return;
 608:Drivers/SOES/Src/esc_coe.c ****    }
 609:Drivers/SOES/Src/esc_coe.c **** 
 610:Drivers/SOES/Src/esc_coe.c ****    /* check that upload data fits in the preallocated buffer */
 611:Drivers/SOES/Src/esc_coe.c ****    if ((size + PREALLOC_FACTOR * COE_HEADERSIZE) > PREALLOC_BUFFER_SIZE)
 612:Drivers/SOES/Src/esc_coe.c ****    {
 613:Drivers/SOES/Src/esc_coe.c ****       set_state_idle (MBXout, index, subindex, ABORT_CA_NOT_SUPPORTED);
 614:Drivers/SOES/Src/esc_coe.c ****       return;
 615:Drivers/SOES/Src/esc_coe.c ****    }
 616:Drivers/SOES/Src/esc_coe.c ****    abortcode = ESC_upload_pre_objecthandler(index, subindex,
 617:Drivers/SOES/Src/esc_coe.c ****          objd->data, (size_t *)&size, objd->flags | COMPLETE_ACCESS_FLAG);
 618:Drivers/SOES/Src/esc_coe.c ****    if (abortcode != 0)
 619:Drivers/SOES/Src/esc_coe.c ****    {
 620:Drivers/SOES/Src/esc_coe.c ****       set_state_idle (MBXout, index, subindex, abortcode);
 621:Drivers/SOES/Src/esc_coe.c ****       return;
 622:Drivers/SOES/Src/esc_coe.c ****    }
 623:Drivers/SOES/Src/esc_coe.c **** 
 624:Drivers/SOES/Src/esc_coe.c ****    /* copy subindex data into the preallocated buffer */
 625:Drivers/SOES/Src/esc_coe.c ****    complete_access_subindex_loop(objd, nidx, nsub, ESCvar.mbxdata, UPLOAD, 0);
 626:Drivers/SOES/Src/esc_coe.c **** 
 627:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coeres = (_COEsdo *) &MBX[MBXout * ESC_MBXSIZE];
 628:Drivers/SOES/Src/esc_coe.c ****    init_coesdo(coeres, COE_SDORESPONSE,
 629:Drivers/SOES/Src/esc_coe.c ****          COE_COMMAND_UPLOADRESPONSE | COE_COMPLETEACCESS | COE_SIZE_INDICATOR,
 630:Drivers/SOES/Src/esc_coe.c ****          index, subindex);
 631:Drivers/SOES/Src/esc_coe.c **** 
 632:Drivers/SOES/Src/esc_coe.c ****    ESCvar.segmented = 0;
 633:Drivers/SOES/Src/esc_coe.c **** 
 634:Drivers/SOES/Src/esc_coe.c ****    if (size <= 4)
 635:Drivers/SOES/Src/esc_coe.c ****    {
 636:Drivers/SOES/Src/esc_coe.c ****       /* expedited response, i.e. length <= 4 bytes */
 637:Drivers/SOES/Src/esc_coe.c ****       coeres->command |= (COE_EXPEDITED_INDICATOR | dss);
 638:Drivers/SOES/Src/esc_coe.c ****       memcpy(&(coeres->size), ESCvar.mbxdata, size);
 639:Drivers/SOES/Src/esc_coe.c ****    }
 640:Drivers/SOES/Src/esc_coe.c ****    else
 641:Drivers/SOES/Src/esc_coe.c ****    {
 642:Drivers/SOES/Src/esc_coe.c ****       /* normal response, i.e. length > 4 bytes */
 643:Drivers/SOES/Src/esc_coe.c ****       coeres->size = htoel (size);
 644:Drivers/SOES/Src/esc_coe.c **** 
 645:Drivers/SOES/Src/esc_coe.c ****       if ((size + COE_HEADERSIZE) > ESC_MBXDSIZE)
 646:Drivers/SOES/Src/esc_coe.c ****       {
 647:Drivers/SOES/Src/esc_coe.c ****          /* segmented transfer needed */
 648:Drivers/SOES/Src/esc_coe.c ****          /* set total size in bytes */
 649:Drivers/SOES/Src/esc_coe.c ****          ESCvar.frags = size;
 650:Drivers/SOES/Src/esc_coe.c ****          /* limit to mailbox size */
 651:Drivers/SOES/Src/esc_coe.c ****          size = ESC_MBXDSIZE - COE_HEADERSIZE;
 652:Drivers/SOES/Src/esc_coe.c ****          /* number of bytes done */
 653:Drivers/SOES/Src/esc_coe.c ****          ESCvar.fragsleft = size;
 654:Drivers/SOES/Src/esc_coe.c ****          /* signal segmented transfer */
 655:Drivers/SOES/Src/esc_coe.c ****          ESCvar.segmented = MBXSEU;
 656:Drivers/SOES/Src/esc_coe.c ****          ESCvar.data = ESCvar.mbxdata;
 657:Drivers/SOES/Src/esc_coe.c ****          ESCvar.flags = COMPLETE_ACCESS_FLAG;
 658:Drivers/SOES/Src/esc_coe.c ****       }
 659:Drivers/SOES/Src/esc_coe.c **** 
 660:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_HEADERSIZE + size);
 661:Drivers/SOES/Src/esc_coe.c ****       memcpy((&(coeres->size)) + 1, ESCvar.mbxdata, size);
 662:Drivers/SOES/Src/esc_coe.c ****    }
 663:Drivers/SOES/Src/esc_coe.c **** 
ARM GAS  /tmp/ccFH4wf5.s 			page 14


 664:Drivers/SOES/Src/esc_coe.c ****    if (ESCvar.segmented == 0)
 665:Drivers/SOES/Src/esc_coe.c ****    {
 666:Drivers/SOES/Src/esc_coe.c ****       abortcode = ESC_upload_post_objecthandler (index, subindex,
 667:Drivers/SOES/Src/esc_coe.c ****             objd->flags | COMPLETE_ACCESS_FLAG);
 668:Drivers/SOES/Src/esc_coe.c **** 
 669:Drivers/SOES/Src/esc_coe.c ****       if (abortcode != 0)
 670:Drivers/SOES/Src/esc_coe.c ****       {
 671:Drivers/SOES/Src/esc_coe.c ****          set_state_idle (MBXout, index, subindex, abortcode);
 672:Drivers/SOES/Src/esc_coe.c ****          return;
 673:Drivers/SOES/Src/esc_coe.c ****       }
 674:Drivers/SOES/Src/esc_coe.c ****    }
 675:Drivers/SOES/Src/esc_coe.c **** 
 676:Drivers/SOES/Src/esc_coe.c ****    MBXcontrol[MBXout].state = MBXstate_outreq;
 677:Drivers/SOES/Src/esc_coe.c **** 
 678:Drivers/SOES/Src/esc_coe.c ****    set_state_idle (MBXout, index, subindex, 0);
 679:Drivers/SOES/Src/esc_coe.c **** }
 680:Drivers/SOES/Src/esc_coe.c **** 
 681:Drivers/SOES/Src/esc_coe.c **** /** Function for handling the following SDO Upload if previous SDOUpload
 682:Drivers/SOES/Src/esc_coe.c ****  * response was flagged it needed to be segmented.
 683:Drivers/SOES/Src/esc_coe.c ****  */
 684:Drivers/SOES/Src/esc_coe.c **** static void SDO_uploadsegment (void)
 685:Drivers/SOES/Src/esc_coe.c **** {
 686:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coesdo, *coeres;
 687:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
 688:Drivers/SOES/Src/esc_coe.c ****    uint32_t size, offset, abort;
 689:Drivers/SOES/Src/esc_coe.c ****    coesdo = (_COEsdo *) &MBX[0];
 690:Drivers/SOES/Src/esc_coe.c ****    MBXout = ESC_claimbuffer ();
 691:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
 692:Drivers/SOES/Src/esc_coe.c ****    {
 693:Drivers/SOES/Src/esc_coe.c ****       coeres = (_COEsdo *) &MBX[MBXout * ESC_MBXSIZE];
 694:Drivers/SOES/Src/esc_coe.c ****       offset = ESCvar.fragsleft;
 695:Drivers/SOES/Src/esc_coe.c ****       size = ESCvar.frags - ESCvar.fragsleft;
 696:Drivers/SOES/Src/esc_coe.c ****       uint8_t command = COE_COMMAND_UPLOADSEGMENT +
 697:Drivers/SOES/Src/esc_coe.c ****             (coesdo->command & COE_TOGGLEBIT);  /* copy toggle bit */
 698:Drivers/SOES/Src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE, command,
 699:Drivers/SOES/Src/esc_coe.c ****             coesdo->index, coesdo->subindex);
 700:Drivers/SOES/Src/esc_coe.c ****       if ((size + COE_SEGMENTHEADERSIZE) > ESC_MBXDSIZE)
 701:Drivers/SOES/Src/esc_coe.c ****       {
 702:Drivers/SOES/Src/esc_coe.c ****          /* more segmented transfer needed */
 703:Drivers/SOES/Src/esc_coe.c ****          /* limit to mailbox size */
 704:Drivers/SOES/Src/esc_coe.c ****          size = ESC_MBXDSIZE - COE_SEGMENTHEADERSIZE;
 705:Drivers/SOES/Src/esc_coe.c ****          /* number of bytes done */
 706:Drivers/SOES/Src/esc_coe.c ****          ESCvar.fragsleft += size;
 707:Drivers/SOES/Src/esc_coe.c ****          coeres->mbxheader.length = htoes (COE_SEGMENTHEADERSIZE + size);
 708:Drivers/SOES/Src/esc_coe.c ****       }
 709:Drivers/SOES/Src/esc_coe.c ****       else
 710:Drivers/SOES/Src/esc_coe.c ****       {
 711:Drivers/SOES/Src/esc_coe.c ****          /* last segment */
 712:Drivers/SOES/Src/esc_coe.c ****          ESCvar.segmented = 0;
 713:Drivers/SOES/Src/esc_coe.c ****          ESCvar.frags = 0;
 714:Drivers/SOES/Src/esc_coe.c ****          ESCvar.fragsleft = 0;
 715:Drivers/SOES/Src/esc_coe.c ****          coeres->command += COE_COMMAND_LASTSEGMENTBIT;
 716:Drivers/SOES/Src/esc_coe.c ****          if (size >= 7)
 717:Drivers/SOES/Src/esc_coe.c ****          {
 718:Drivers/SOES/Src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_SEGMENTHEADERSIZE + size);
 719:Drivers/SOES/Src/esc_coe.c ****          }
 720:Drivers/SOES/Src/esc_coe.c ****          else
ARM GAS  /tmp/ccFH4wf5.s 			page 15


 721:Drivers/SOES/Src/esc_coe.c ****          {
 722:Drivers/SOES/Src/esc_coe.c ****             coeres->command += (7 - size) << 1;
 723:Drivers/SOES/Src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 724:Drivers/SOES/Src/esc_coe.c ****          }
 725:Drivers/SOES/Src/esc_coe.c ****       }
 726:Drivers/SOES/Src/esc_coe.c ****       copy2mbx ((uint8_t *) ESCvar.data + offset, (&(coeres->command)) + 1,
 727:Drivers/SOES/Src/esc_coe.c ****             size);        /* copy to mailbox */
 728:Drivers/SOES/Src/esc_coe.c **** 
 729:Drivers/SOES/Src/esc_coe.c ****       if (ESCvar.segmented == 0)
 730:Drivers/SOES/Src/esc_coe.c ****       {
 731:Drivers/SOES/Src/esc_coe.c ****          abort = ESC_upload_post_objecthandler (etohs (coesdo->index),
 732:Drivers/SOES/Src/esc_coe.c ****                coesdo->subindex, ESCvar.flags);
 733:Drivers/SOES/Src/esc_coe.c ****          if (abort != 0)
 734:Drivers/SOES/Src/esc_coe.c ****          {
 735:Drivers/SOES/Src/esc_coe.c ****             set_state_idle (MBXout, etohs (coesdo->index), coesdo->subindex, abort);
 736:Drivers/SOES/Src/esc_coe.c ****             return;
 737:Drivers/SOES/Src/esc_coe.c ****          }
 738:Drivers/SOES/Src/esc_coe.c ****       }
 739:Drivers/SOES/Src/esc_coe.c **** 
 740:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 741:Drivers/SOES/Src/esc_coe.c ****    }
 742:Drivers/SOES/Src/esc_coe.c ****    MBXcontrol[0].state = MBXstate_idle;
 743:Drivers/SOES/Src/esc_coe.c ****    ESCvar.xoe = 0;
 744:Drivers/SOES/Src/esc_coe.c **** }
 745:Drivers/SOES/Src/esc_coe.c **** 
 746:Drivers/SOES/Src/esc_coe.c **** 
 747:Drivers/SOES/Src/esc_coe.c **** /** Function for handling incoming requested SDO Download, validating the
 748:Drivers/SOES/Src/esc_coe.c ****  * request and sending an response. On error an SDO Abort will be sent.
 749:Drivers/SOES/Src/esc_coe.c ****  */
 750:Drivers/SOES/Src/esc_coe.c **** static void SDO_download (void)
 751:Drivers/SOES/Src/esc_coe.c **** {
 752:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coesdo, *coeres;
 753:Drivers/SOES/Src/esc_coe.c ****    uint16_t index;
 754:Drivers/SOES/Src/esc_coe.c ****    uint8_t subindex;
 755:Drivers/SOES/Src/esc_coe.c ****    int16_t nidx, nsub;
 756:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
 757:Drivers/SOES/Src/esc_coe.c ****    uint16_t size, actsize;
 758:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd;
 759:Drivers/SOES/Src/esc_coe.c ****    uint32_t *mbxdata;
 760:Drivers/SOES/Src/esc_coe.c ****    uint32_t abort;
 761:Drivers/SOES/Src/esc_coe.c **** 
 762:Drivers/SOES/Src/esc_coe.c ****    coesdo = (_COEsdo *) &MBX[0];
 763:Drivers/SOES/Src/esc_coe.c ****    index = etohs (coesdo->index);
 764:Drivers/SOES/Src/esc_coe.c ****    subindex = coesdo->subindex;
 765:Drivers/SOES/Src/esc_coe.c ****    nidx = SDO_findobject (index);
 766:Drivers/SOES/Src/esc_coe.c ****    if (nidx >= 0)
 767:Drivers/SOES/Src/esc_coe.c ****    {
 768:Drivers/SOES/Src/esc_coe.c ****       nsub = SDO_findsubindex (nidx, subindex);
 769:Drivers/SOES/Src/esc_coe.c ****       if (nsub >= 0)
 770:Drivers/SOES/Src/esc_coe.c ****       {
 771:Drivers/SOES/Src/esc_coe.c ****          objd = SDOobjects[nidx].objdesc;
 772:Drivers/SOES/Src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 773:Drivers/SOES/Src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 774:Drivers/SOES/Src/esc_coe.c ****          if (WRITE_ACCESS(access, state))
 775:Drivers/SOES/Src/esc_coe.c ****          {
 776:Drivers/SOES/Src/esc_coe.c ****             /* expedited? */
 777:Drivers/SOES/Src/esc_coe.c ****             if (coesdo->command & COE_EXPEDITED_INDICATOR)
ARM GAS  /tmp/ccFH4wf5.s 			page 16


 778:Drivers/SOES/Src/esc_coe.c ****             {
 779:Drivers/SOES/Src/esc_coe.c ****                size = 4 - ((coesdo->command & 0x0c) >> 2);
 780:Drivers/SOES/Src/esc_coe.c ****                mbxdata = &(coesdo->size);
 781:Drivers/SOES/Src/esc_coe.c ****             }
 782:Drivers/SOES/Src/esc_coe.c ****             else
 783:Drivers/SOES/Src/esc_coe.c ****             {
 784:Drivers/SOES/Src/esc_coe.c ****                /* normal download */
 785:Drivers/SOES/Src/esc_coe.c ****                size = (etohl (coesdo->size) & 0xffff);
 786:Drivers/SOES/Src/esc_coe.c ****                mbxdata = (&(coesdo->size)) + 1;
 787:Drivers/SOES/Src/esc_coe.c ****             }
 788:Drivers/SOES/Src/esc_coe.c ****             actsize = BITS2BYTES((objd + nsub)->bitlength);
 789:Drivers/SOES/Src/esc_coe.c ****             if (actsize != size)
 790:Drivers/SOES/Src/esc_coe.c ****             {
 791:Drivers/SOES/Src/esc_coe.c ****                /* entries with data types VISIBLE_STRING, OCTET_STRING,
 792:Drivers/SOES/Src/esc_coe.c ****                 * UNICODE_STRING, ARRAY_OF_INT, ARRAY_OF_SINT,
 793:Drivers/SOES/Src/esc_coe.c ****                 * ARRAY_OF_DINT, and ARRAY_OF_UDINT may have flexible length
 794:Drivers/SOES/Src/esc_coe.c ****                 */
 795:Drivers/SOES/Src/esc_coe.c ****                uint16_t type = (objd + nsub)->datatype;
 796:Drivers/SOES/Src/esc_coe.c ****                if (type == DTYPE_VISIBLE_STRING)
 797:Drivers/SOES/Src/esc_coe.c ****                {
 798:Drivers/SOES/Src/esc_coe.c ****                   /* pad with zeroes up to the maximum size of the entry */
 799:Drivers/SOES/Src/esc_coe.c ****                   memset((objd + nsub)->data + size, 0, actsize - size);
 800:Drivers/SOES/Src/esc_coe.c ****                }
 801:Drivers/SOES/Src/esc_coe.c ****                else if ((type != DTYPE_OCTET_STRING) &&
 802:Drivers/SOES/Src/esc_coe.c ****                         (type != DTYPE_UNICODE_STRING) &&
 803:Drivers/SOES/Src/esc_coe.c ****                         (type != DTYPE_ARRAY_OF_INT) &&
 804:Drivers/SOES/Src/esc_coe.c ****                         (type != DTYPE_ARRAY_OF_SINT) &&
 805:Drivers/SOES/Src/esc_coe.c ****                         (type != DTYPE_ARRAY_OF_DINT) &&
 806:Drivers/SOES/Src/esc_coe.c ****                         (type != DTYPE_ARRAY_OF_UDINT))
 807:Drivers/SOES/Src/esc_coe.c ****                {
 808:Drivers/SOES/Src/esc_coe.c ****                   set_state_idle (0, index, subindex, ABORT_TYPEMISMATCH);
 809:Drivers/SOES/Src/esc_coe.c ****                   return;
 810:Drivers/SOES/Src/esc_coe.c ****                }
 811:Drivers/SOES/Src/esc_coe.c ****             }
 812:Drivers/SOES/Src/esc_coe.c ****             abort = ESC_download_pre_objecthandler (
 813:Drivers/SOES/Src/esc_coe.c ****                   index,
 814:Drivers/SOES/Src/esc_coe.c ****                   subindex,
 815:Drivers/SOES/Src/esc_coe.c ****                   mbxdata,
 816:Drivers/SOES/Src/esc_coe.c ****                   size,
 817:Drivers/SOES/Src/esc_coe.c ****                   (objd + nsub)->flags
 818:Drivers/SOES/Src/esc_coe.c ****             );
 819:Drivers/SOES/Src/esc_coe.c ****             if (abort == 0)
 820:Drivers/SOES/Src/esc_coe.c ****             {
 821:Drivers/SOES/Src/esc_coe.c ****                if ((size > 4) &&
 822:Drivers/SOES/Src/esc_coe.c ****                      (size > (coesdo->mbxheader.length - COE_HEADERSIZE)))
 823:Drivers/SOES/Src/esc_coe.c ****                {
 824:Drivers/SOES/Src/esc_coe.c ****                   size = coesdo->mbxheader.length - COE_HEADERSIZE;
 825:Drivers/SOES/Src/esc_coe.c ****                   /* signal segmented transfer */
 826:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.segmented = MBXSED;
 827:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.data = (objd + nsub)->data + size;
 828:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.index = index;
 829:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.subindex = subindex;
 830:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.flags = (objd + nsub)->flags;
 831:Drivers/SOES/Src/esc_coe.c ****                }
 832:Drivers/SOES/Src/esc_coe.c ****                else
 833:Drivers/SOES/Src/esc_coe.c ****                {
 834:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.segmented = 0;
ARM GAS  /tmp/ccFH4wf5.s 			page 17


 835:Drivers/SOES/Src/esc_coe.c ****                }
 836:Drivers/SOES/Src/esc_coe.c ****                copy2mbx (mbxdata, (objd + nsub)->data, size);
 837:Drivers/SOES/Src/esc_coe.c ****                MBXout = ESC_claimbuffer ();
 838:Drivers/SOES/Src/esc_coe.c ****                if (MBXout)
 839:Drivers/SOES/Src/esc_coe.c ****                {
 840:Drivers/SOES/Src/esc_coe.c ****                   coeres = (_COEsdo *) &MBX[MBXout * ESC_MBXSIZE];
 841:Drivers/SOES/Src/esc_coe.c ****                   coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 842:Drivers/SOES/Src/esc_coe.c ****                   coeres->mbxheader.mbxtype = MBXCOE;
 843:Drivers/SOES/Src/esc_coe.c ****                   coeres->coeheader.numberservice =
 844:Drivers/SOES/Src/esc_coe.c ****                         htoes ((0 & 0x01f) | (COE_SDORESPONSE << 12));
 845:Drivers/SOES/Src/esc_coe.c ****                   coeres->index = htoes (index);
 846:Drivers/SOES/Src/esc_coe.c ****                   coeres->subindex = subindex;
 847:Drivers/SOES/Src/esc_coe.c ****                   coeres->command = COE_COMMAND_DOWNLOADRESPONSE;
 848:Drivers/SOES/Src/esc_coe.c ****                   coeres->size = htoel (0);
 849:Drivers/SOES/Src/esc_coe.c ****                   MBXcontrol[MBXout].state = MBXstate_outreq;
 850:Drivers/SOES/Src/esc_coe.c ****                }
 851:Drivers/SOES/Src/esc_coe.c ****                if (ESCvar.segmented == 0)
 852:Drivers/SOES/Src/esc_coe.c ****                {
 853:Drivers/SOES/Src/esc_coe.c ****                   /* external object write handler */
 854:Drivers/SOES/Src/esc_coe.c ****                   abort = ESC_download_post_objecthandler (index, subindex, (objd + nsub)->flags);
 855:Drivers/SOES/Src/esc_coe.c ****                   if (abort != 0)
 856:Drivers/SOES/Src/esc_coe.c ****                   {
 857:Drivers/SOES/Src/esc_coe.c ****                      SDO_abort (MBXout, index, subindex, abort);
 858:Drivers/SOES/Src/esc_coe.c ****                   }
 859:Drivers/SOES/Src/esc_coe.c ****                }
 860:Drivers/SOES/Src/esc_coe.c ****             }
 861:Drivers/SOES/Src/esc_coe.c ****             else
 862:Drivers/SOES/Src/esc_coe.c ****             {
 863:Drivers/SOES/Src/esc_coe.c ****                SDO_abort (0, index, subindex, abort);
 864:Drivers/SOES/Src/esc_coe.c ****             }
 865:Drivers/SOES/Src/esc_coe.c ****          }
 866:Drivers/SOES/Src/esc_coe.c ****          else
 867:Drivers/SOES/Src/esc_coe.c ****          {
 868:Drivers/SOES/Src/esc_coe.c ****             if (access == ATYPE_RWpre)
 869:Drivers/SOES/Src/esc_coe.c ****             {
 870:Drivers/SOES/Src/esc_coe.c ****                SDO_abort (0, index, subindex, ABORT_NOTINTHISSTATE);
 871:Drivers/SOES/Src/esc_coe.c ****             }
 872:Drivers/SOES/Src/esc_coe.c ****             else
 873:Drivers/SOES/Src/esc_coe.c ****             {
 874:Drivers/SOES/Src/esc_coe.c ****                SDO_abort (0, index, subindex, ABORT_READONLY);
 875:Drivers/SOES/Src/esc_coe.c ****             }
 876:Drivers/SOES/Src/esc_coe.c ****          }
 877:Drivers/SOES/Src/esc_coe.c ****       }
 878:Drivers/SOES/Src/esc_coe.c ****       else
 879:Drivers/SOES/Src/esc_coe.c ****       {
 880:Drivers/SOES/Src/esc_coe.c ****          SDO_abort (0, index, subindex, ABORT_NOSUBINDEX);
 881:Drivers/SOES/Src/esc_coe.c ****       }
 882:Drivers/SOES/Src/esc_coe.c ****    }
 883:Drivers/SOES/Src/esc_coe.c ****    else
 884:Drivers/SOES/Src/esc_coe.c ****    {
 885:Drivers/SOES/Src/esc_coe.c ****       SDO_abort (0, index, subindex, ABORT_NOOBJECT);
 886:Drivers/SOES/Src/esc_coe.c ****    }
 887:Drivers/SOES/Src/esc_coe.c ****    MBXcontrol[0].state = MBXstate_idle;
 888:Drivers/SOES/Src/esc_coe.c ****    ESCvar.xoe = 0;
 889:Drivers/SOES/Src/esc_coe.c **** }
 890:Drivers/SOES/Src/esc_coe.c **** 
 891:Drivers/SOES/Src/esc_coe.c **** /** Function for handling incoming requested SDO Download with Complete Access,
ARM GAS  /tmp/ccFH4wf5.s 			page 18


 892:Drivers/SOES/Src/esc_coe.c ****  *  validating the request and sending a response. On error an SDO Abort will
 893:Drivers/SOES/Src/esc_coe.c ****  *  be sent.
 894:Drivers/SOES/Src/esc_coe.c ****  */
 895:Drivers/SOES/Src/esc_coe.c **** static void SDO_download_complete_access (void)
 896:Drivers/SOES/Src/esc_coe.c **** {
 897:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coesdo = (_COEsdo *) &MBX[0];
 898:Drivers/SOES/Src/esc_coe.c ****    uint16_t index;
 899:Drivers/SOES/Src/esc_coe.c ****    uint8_t subindex;
 900:Drivers/SOES/Src/esc_coe.c ****    int16_t nidx, nsub;
 901:Drivers/SOES/Src/esc_coe.c ****    uint32_t abortcode = complete_access_get_variables
 902:Drivers/SOES/Src/esc_coe.c ****                            (coesdo, &index, &subindex, &nidx, &nsub);
 903:Drivers/SOES/Src/esc_coe.c ****    if (abortcode != 0)
 904:Drivers/SOES/Src/esc_coe.c ****    {
 905:Drivers/SOES/Src/esc_coe.c ****       set_state_idle (0, index, subindex, abortcode);
 906:Drivers/SOES/Src/esc_coe.c ****       return;
 907:Drivers/SOES/Src/esc_coe.c ****    }
 908:Drivers/SOES/Src/esc_coe.c **** 
 909:Drivers/SOES/Src/esc_coe.c ****    uint16_t bytes;
 910:Drivers/SOES/Src/esc_coe.c ****    uint32_t *mbxdata = &(coesdo->size);
 911:Drivers/SOES/Src/esc_coe.c **** 
 912:Drivers/SOES/Src/esc_coe.c ****    if (coesdo->command & COE_EXPEDITED_INDICATOR)
 913:Drivers/SOES/Src/esc_coe.c ****    {
 914:Drivers/SOES/Src/esc_coe.c ****       /* expedited download */
 915:Drivers/SOES/Src/esc_coe.c ****       bytes = 4 - ((coesdo->command & 0x0c) >> 2);
 916:Drivers/SOES/Src/esc_coe.c ****    }
 917:Drivers/SOES/Src/esc_coe.c ****    else
 918:Drivers/SOES/Src/esc_coe.c ****    {
 919:Drivers/SOES/Src/esc_coe.c ****       /* normal download */
 920:Drivers/SOES/Src/esc_coe.c ****       bytes = (etohl (coesdo->size) & 0xffff);
 921:Drivers/SOES/Src/esc_coe.c ****       mbxdata++;
 922:Drivers/SOES/Src/esc_coe.c ****    }
 923:Drivers/SOES/Src/esc_coe.c **** 
 924:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd = SDOobjects[nidx].objdesc;
 925:Drivers/SOES/Src/esc_coe.c **** 
 926:Drivers/SOES/Src/esc_coe.c ****    /* loop through the subindexes to get the total size */
 927:Drivers/SOES/Src/esc_coe.c ****    uint32_t size = complete_access_subindex_loop(objd, nidx, nsub, NULL, DOWNLOAD, 0);
 928:Drivers/SOES/Src/esc_coe.c ****    if (BITS2BYTES(size) > 0xffff)
 929:Drivers/SOES/Src/esc_coe.c ****    {
 930:Drivers/SOES/Src/esc_coe.c ****       /* 'size' is in this case actually an abort code */
 931:Drivers/SOES/Src/esc_coe.c ****       set_state_idle (0, index, subindex, size);
 932:Drivers/SOES/Src/esc_coe.c ****       return;
 933:Drivers/SOES/Src/esc_coe.c ****    }
 934:Drivers/SOES/Src/esc_coe.c ****    /* The document ETG.1020 S (R) V1.3.0, chapter 12.2, states that
 935:Drivers/SOES/Src/esc_coe.c ****     * "The SDO Download Complete Access data length shall always match
 936:Drivers/SOES/Src/esc_coe.c ****     * the full current object size (defined by SubIndex0)".
 937:Drivers/SOES/Src/esc_coe.c ****     * But EtherCAT Conformance Test Tool doesn't follow this rule for some test
 938:Drivers/SOES/Src/esc_coe.c ****     * cases, which is the reason to here only check for 'less than or equal'.
 939:Drivers/SOES/Src/esc_coe.c ****     */
 940:Drivers/SOES/Src/esc_coe.c ****    else if (bytes <= BITS2BYTES(size))
 941:Drivers/SOES/Src/esc_coe.c ****    {
 942:Drivers/SOES/Src/esc_coe.c ****       abortcode = ESC_download_pre_objecthandler(index, subindex, mbxdata,
 943:Drivers/SOES/Src/esc_coe.c ****             size, objd->flags | COMPLETE_ACCESS_FLAG);
 944:Drivers/SOES/Src/esc_coe.c ****       if (abortcode != 0)
 945:Drivers/SOES/Src/esc_coe.c ****       {
 946:Drivers/SOES/Src/esc_coe.c ****          set_state_idle (0, index, subindex, abortcode);
 947:Drivers/SOES/Src/esc_coe.c ****          return;
 948:Drivers/SOES/Src/esc_coe.c ****       }
ARM GAS  /tmp/ccFH4wf5.s 			page 19


 949:Drivers/SOES/Src/esc_coe.c **** 
 950:Drivers/SOES/Src/esc_coe.c ****       /* copy download data to subindexes */
 951:Drivers/SOES/Src/esc_coe.c ****       complete_access_subindex_loop(objd, nidx, nsub, (uint8_t *)mbxdata, DOWNLOAD, bytes);
 952:Drivers/SOES/Src/esc_coe.c **** 
 953:Drivers/SOES/Src/esc_coe.c ****       abortcode = ESC_download_post_objecthandler(index, subindex,
 954:Drivers/SOES/Src/esc_coe.c ****             objd->flags | COMPLETE_ACCESS_FLAG);
 955:Drivers/SOES/Src/esc_coe.c ****       if (abortcode != 0)
 956:Drivers/SOES/Src/esc_coe.c ****       {
 957:Drivers/SOES/Src/esc_coe.c ****          set_state_idle (0, index, subindex, abortcode);
 958:Drivers/SOES/Src/esc_coe.c ****          return;
 959:Drivers/SOES/Src/esc_coe.c ****       }
 960:Drivers/SOES/Src/esc_coe.c ****    }
 961:Drivers/SOES/Src/esc_coe.c ****    else
 962:Drivers/SOES/Src/esc_coe.c ****    {
 963:Drivers/SOES/Src/esc_coe.c ****       set_state_idle (0, index, subindex, ABORT_TYPEMISMATCH);
 964:Drivers/SOES/Src/esc_coe.c ****       return;
 965:Drivers/SOES/Src/esc_coe.c ****    }
 966:Drivers/SOES/Src/esc_coe.c **** 
 967:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout = ESC_claimbuffer ();
 968:Drivers/SOES/Src/esc_coe.c ****    if (MBXout > 0)
 969:Drivers/SOES/Src/esc_coe.c ****    {
 970:Drivers/SOES/Src/esc_coe.c ****       _COEsdo *coeres = (_COEsdo *) &MBX[MBXout * ESC_MBXSIZE];
 971:Drivers/SOES/Src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE,
 972:Drivers/SOES/Src/esc_coe.c ****                   COE_COMMAND_DOWNLOADRESPONSE | COE_COMPLETEACCESS,
 973:Drivers/SOES/Src/esc_coe.c ****                   index, subindex);
 974:Drivers/SOES/Src/esc_coe.c **** 
 975:Drivers/SOES/Src/esc_coe.c ****       coeres->size = 0;
 976:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 977:Drivers/SOES/Src/esc_coe.c ****    }
 978:Drivers/SOES/Src/esc_coe.c **** 
 979:Drivers/SOES/Src/esc_coe.c ****    set_state_idle (MBXout, index, subindex, 0);
 980:Drivers/SOES/Src/esc_coe.c **** }
 981:Drivers/SOES/Src/esc_coe.c **** 
 982:Drivers/SOES/Src/esc_coe.c **** static void SDO_downloadsegment (void)
 983:Drivers/SOES/Src/esc_coe.c **** {
 984:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coesdo = (_COEsdo *) &MBX[0];
 985:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout = ESC_claimbuffer ();
 986:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
 987:Drivers/SOES/Src/esc_coe.c ****    {
 988:Drivers/SOES/Src/esc_coe.c ****       _COEsdo *coeres = (_COEsdo *) &MBX[MBXout * ESC_MBXSIZE];
 989:Drivers/SOES/Src/esc_coe.c ****       uint32_t size = coesdo->mbxheader.length - 3;
 990:Drivers/SOES/Src/esc_coe.c ****       if (size == 7)
 991:Drivers/SOES/Src/esc_coe.c ****       {
 992:Drivers/SOES/Src/esc_coe.c ****          size = 7 - ((coesdo->command >> 1) & 7);
 993:Drivers/SOES/Src/esc_coe.c ****       }
 994:Drivers/SOES/Src/esc_coe.c ****       uint8_t command = COE_COMMAND_DOWNLOADSEGRESP +
 995:Drivers/SOES/Src/esc_coe.c ****             (coesdo->command & COE_TOGGLEBIT);  /* copy toggle bit */
 996:Drivers/SOES/Src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE, command, 0, 0);
 997:Drivers/SOES/Src/esc_coe.c **** 
 998:Drivers/SOES/Src/esc_coe.c ****       uint32_t *mbxdata = (uint32_t *)&(coesdo->index);  /* data pointer */
 999:Drivers/SOES/Src/esc_coe.c ****       copy2mbx (mbxdata, (uint8_t *)ESCvar.data, size);
1000:Drivers/SOES/Src/esc_coe.c **** 
1001:Drivers/SOES/Src/esc_coe.c ****       if (coesdo->command & COE_COMMAND_LASTSEGMENTBIT)
1002:Drivers/SOES/Src/esc_coe.c ****       {
1003:Drivers/SOES/Src/esc_coe.c ****          /* last segment */
1004:Drivers/SOES/Src/esc_coe.c ****          ESCvar.segmented = 0;
1005:Drivers/SOES/Src/esc_coe.c **** 
ARM GAS  /tmp/ccFH4wf5.s 			page 20


1006:Drivers/SOES/Src/esc_coe.c ****          /* external object write handler */
1007:Drivers/SOES/Src/esc_coe.c ****          uint32_t abort = ESC_download_post_objecthandler
1008:Drivers/SOES/Src/esc_coe.c ****                (ESCvar.index, ESCvar.subindex, ESCvar.flags);
1009:Drivers/SOES/Src/esc_coe.c ****          if (abort != 0)
1010:Drivers/SOES/Src/esc_coe.c ****          {
1011:Drivers/SOES/Src/esc_coe.c ****             set_state_idle (MBXout, ESCvar.index, ESCvar.subindex, abort);
1012:Drivers/SOES/Src/esc_coe.c ****             return;
1013:Drivers/SOES/Src/esc_coe.c ****          }
1014:Drivers/SOES/Src/esc_coe.c ****       }
1015:Drivers/SOES/Src/esc_coe.c ****       else
1016:Drivers/SOES/Src/esc_coe.c ****       {
1017:Drivers/SOES/Src/esc_coe.c ****          /* more segmented transfer needed: increase offset */
1018:Drivers/SOES/Src/esc_coe.c ****          ESCvar.data += size;
1019:Drivers/SOES/Src/esc_coe.c ****       }
1020:Drivers/SOES/Src/esc_coe.c **** 
1021:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
1022:Drivers/SOES/Src/esc_coe.c ****    }
1023:Drivers/SOES/Src/esc_coe.c **** 
1024:Drivers/SOES/Src/esc_coe.c ****    set_state_idle (0, 0, 0, 0);
1025:Drivers/SOES/Src/esc_coe.c **** }
1026:Drivers/SOES/Src/esc_coe.c **** 
1027:Drivers/SOES/Src/esc_coe.c **** /** Function for sending an SDO Info Error reply.
1028:Drivers/SOES/Src/esc_coe.c ****  *
1029:Drivers/SOES/Src/esc_coe.c ****  * @param[in] abortcode  = = abort code to send in reply
1030:Drivers/SOES/Src/esc_coe.c ****  */
1031:Drivers/SOES/Src/esc_coe.c **** static void SDO_infoerror (uint32_t abortcode)
1032:Drivers/SOES/Src/esc_coe.c **** {
1033:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
1034:Drivers/SOES/Src/esc_coe.c ****    _COEobjdesc *coeres;
1035:Drivers/SOES/Src/esc_coe.c ****    MBXout = ESC_claimbuffer ();
1036:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
1037:Drivers/SOES/Src/esc_coe.c ****    {
1038:Drivers/SOES/Src/esc_coe.c ****       coeres = (_COEobjdesc *) &MBX[MBXout * ESC_MBXSIZE];
1039:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.length = htoes ((uint16_t) COE_HEADERSIZE);
1040:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.mbxtype = MBXCOE;
1041:Drivers/SOES/Src/esc_coe.c ****       coeres->coeheader.numberservice =
1042:Drivers/SOES/Src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
1043:Drivers/SOES/Src/esc_coe.c ****       /* SDO info error request */
1044:Drivers/SOES/Src/esc_coe.c ****       coeres->infoheader.opcode = COE_INFOERROR;
1045:Drivers/SOES/Src/esc_coe.c ****       coeres->infoheader.incomplete = 0;
1046:Drivers/SOES/Src/esc_coe.c ****       coeres->infoheader.reserved = 0x00;
1047:Drivers/SOES/Src/esc_coe.c ****       coeres->infoheader.fragmentsleft = 0;
1048:Drivers/SOES/Src/esc_coe.c ****       coeres->index = (uint16_t)htoel (abortcode);
1049:Drivers/SOES/Src/esc_coe.c ****       coeres->datatype = (uint16_t)(htoel (abortcode) >> 16);
1050:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
1051:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[0].state = MBXstate_idle;
1052:Drivers/SOES/Src/esc_coe.c ****       ESCvar.xoe = 0;
1053:Drivers/SOES/Src/esc_coe.c ****    }
1054:Drivers/SOES/Src/esc_coe.c **** }
1055:Drivers/SOES/Src/esc_coe.c **** 
1056:Drivers/SOES/Src/esc_coe.c **** #define ODLISTSIZE  ((ESC_MBX1_sml - ESC_MBXHSIZE - sizeof(_COEh) - sizeof(_INFOh) - 2) & 0xfffe)
1057:Drivers/SOES/Src/esc_coe.c **** 
1058:Drivers/SOES/Src/esc_coe.c **** /** Function for handling incoming requested SDO Get OD List, validating the
1059:Drivers/SOES/Src/esc_coe.c ****  * request and sending an response. On error an SDO Info Error will be sent.
1060:Drivers/SOES/Src/esc_coe.c ****  */
1061:Drivers/SOES/Src/esc_coe.c **** static void SDO_getodlist (void)
1062:Drivers/SOES/Src/esc_coe.c **** {
ARM GAS  /tmp/ccFH4wf5.s 			page 21


1063:Drivers/SOES/Src/esc_coe.c ****    uint16_t frags;
1064:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout = 0;
1065:Drivers/SOES/Src/esc_coe.c ****    uint16_t entries = 0;
1066:Drivers/SOES/Src/esc_coe.c ****    uint16_t i, n;
1067:Drivers/SOES/Src/esc_coe.c ****    uint16_t *p;
1068:Drivers/SOES/Src/esc_coe.c ****    _COEobjdesc *coel, *coer;
1069:Drivers/SOES/Src/esc_coe.c **** 
1070:Drivers/SOES/Src/esc_coe.c ****    while (SDOobjects[entries].index != 0xffff)
1071:Drivers/SOES/Src/esc_coe.c ****    {
1072:Drivers/SOES/Src/esc_coe.c ****       entries++;
1073:Drivers/SOES/Src/esc_coe.c ****    }
1074:Drivers/SOES/Src/esc_coe.c ****    ESCvar.entries = entries;
1075:Drivers/SOES/Src/esc_coe.c ****    frags = ((entries << 1) + ODLISTSIZE - 1);
1076:Drivers/SOES/Src/esc_coe.c ****    frags /= ODLISTSIZE;
1077:Drivers/SOES/Src/esc_coe.c ****    coer = (_COEobjdesc *) &MBX[0];
1078:Drivers/SOES/Src/esc_coe.c ****    /* check for unsupported opcodes */
1079:Drivers/SOES/Src/esc_coe.c ****    if (etohs (coer->index) > 0x01)
1080:Drivers/SOES/Src/esc_coe.c ****    {
1081:Drivers/SOES/Src/esc_coe.c ****       SDO_infoerror (ABORT_UNSUPPORTED);
1082:Drivers/SOES/Src/esc_coe.c ****    }
1083:Drivers/SOES/Src/esc_coe.c ****    else
1084:Drivers/SOES/Src/esc_coe.c ****    {
1085:Drivers/SOES/Src/esc_coe.c ****       MBXout = ESC_claimbuffer ();
1086:Drivers/SOES/Src/esc_coe.c ****    }
1087:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
1088:Drivers/SOES/Src/esc_coe.c ****    {
1089:Drivers/SOES/Src/esc_coe.c ****       coel = (_COEobjdesc *) &MBX[MBXout * ESC_MBXSIZE];
1090:Drivers/SOES/Src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
1091:Drivers/SOES/Src/esc_coe.c ****       coel->coeheader.numberservice =
1092:Drivers/SOES/Src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
1093:Drivers/SOES/Src/esc_coe.c ****       coel->infoheader.opcode = COE_GETODLISTRESPONSE;
1094:Drivers/SOES/Src/esc_coe.c ****       /* number of objects request */
1095:Drivers/SOES/Src/esc_coe.c ****       if (etohs (coer->index) == 0x00)
1096:Drivers/SOES/Src/esc_coe.c ****       {
1097:Drivers/SOES/Src/esc_coe.c ****          coel->index = htoes ((uint16_t) 0x00);
1098:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.incomplete = 0;
1099:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.reserved = 0x00;
1100:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes ((uint16_t) 0);
1101:Drivers/SOES/Src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
1102:Drivers/SOES/Src/esc_coe.c ****          ESCvar.xoe = 0;
1103:Drivers/SOES/Src/esc_coe.c ****          ESCvar.frags = frags;
1104:Drivers/SOES/Src/esc_coe.c ****          ESCvar.fragsleft = frags - 1;
1105:Drivers/SOES/Src/esc_coe.c ****          p = &(coel->datatype);
1106:Drivers/SOES/Src/esc_coe.c ****          *p = htoes (entries);
1107:Drivers/SOES/Src/esc_coe.c ****          p++;
1108:Drivers/SOES/Src/esc_coe.c ****          *p = 0;
1109:Drivers/SOES/Src/esc_coe.c ****          p++;
1110:Drivers/SOES/Src/esc_coe.c ****          *p = 0;
1111:Drivers/SOES/Src/esc_coe.c ****          p++;
1112:Drivers/SOES/Src/esc_coe.c ****          *p = 0;
1113:Drivers/SOES/Src/esc_coe.c ****          p++;
1114:Drivers/SOES/Src/esc_coe.c ****          *p = 0;
1115:Drivers/SOES/Src/esc_coe.c ****          coel->mbxheader.length = htoes (0x08 + (5 << 1));
1116:Drivers/SOES/Src/esc_coe.c ****       }
1117:Drivers/SOES/Src/esc_coe.c ****       /* only return all objects */
1118:Drivers/SOES/Src/esc_coe.c ****       if (etohs (coer->index) == 0x01)
1119:Drivers/SOES/Src/esc_coe.c ****       {
ARM GAS  /tmp/ccFH4wf5.s 			page 22


1120:Drivers/SOES/Src/esc_coe.c ****          if (frags > 1)
1121:Drivers/SOES/Src/esc_coe.c ****          {
1122:Drivers/SOES/Src/esc_coe.c ****             coel->infoheader.incomplete = 1;
1123:Drivers/SOES/Src/esc_coe.c ****             ESCvar.xoe = MBXCOE + MBXODL;
1124:Drivers/SOES/Src/esc_coe.c ****             n = ODLISTSIZE >> 1;
1125:Drivers/SOES/Src/esc_coe.c ****          }
1126:Drivers/SOES/Src/esc_coe.c ****          else
1127:Drivers/SOES/Src/esc_coe.c ****          {
1128:Drivers/SOES/Src/esc_coe.c ****             coel->infoheader.incomplete = 0;
1129:Drivers/SOES/Src/esc_coe.c ****             MBXcontrol[0].state = MBXstate_idle;
1130:Drivers/SOES/Src/esc_coe.c ****             ESCvar.xoe = 0;
1131:Drivers/SOES/Src/esc_coe.c ****             n = entries;
1132:Drivers/SOES/Src/esc_coe.c ****          }
1133:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.reserved = 0x00;
1134:Drivers/SOES/Src/esc_coe.c ****          ESCvar.frags = frags;
1135:Drivers/SOES/Src/esc_coe.c ****          ESCvar.fragsleft = frags - 1;
1136:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (ESCvar.fragsleft);
1137:Drivers/SOES/Src/esc_coe.c ****          coel->index = htoes ((uint16_t) 0x01);
1138:Drivers/SOES/Src/esc_coe.c **** 
1139:Drivers/SOES/Src/esc_coe.c ****          p = &(coel->datatype);
1140:Drivers/SOES/Src/esc_coe.c ****          for (i = 0; i < n; i++)
1141:Drivers/SOES/Src/esc_coe.c ****          {
1142:Drivers/SOES/Src/esc_coe.c ****             *p = htoes (SDOobjects[i].index);
1143:Drivers/SOES/Src/esc_coe.c ****             p++;
1144:Drivers/SOES/Src/esc_coe.c ****          }
1145:Drivers/SOES/Src/esc_coe.c **** 
1146:Drivers/SOES/Src/esc_coe.c ****          coel->mbxheader.length = htoes (0x08 + (n << 1));
1147:Drivers/SOES/Src/esc_coe.c ****       }
1148:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
1149:Drivers/SOES/Src/esc_coe.c ****    }
1150:Drivers/SOES/Src/esc_coe.c **** }
1151:Drivers/SOES/Src/esc_coe.c **** /** Function for continuing sending left overs from previous requested
1152:Drivers/SOES/Src/esc_coe.c ****  * SDO Get OD List, validating the request and sending an response.
1153:Drivers/SOES/Src/esc_coe.c ****  */
1154:Drivers/SOES/Src/esc_coe.c **** static void SDO_getodlistcont (void)
1155:Drivers/SOES/Src/esc_coe.c **** {
1156:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
1157:Drivers/SOES/Src/esc_coe.c ****    uint16_t i, n, s;
1158:Drivers/SOES/Src/esc_coe.c ****    uint16_t *p;
1159:Drivers/SOES/Src/esc_coe.c ****    _COEobjdesc *coel;
1160:Drivers/SOES/Src/esc_coe.c **** 
1161:Drivers/SOES/Src/esc_coe.c ****    MBXout = ESC_claimbuffer ();
1162:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
1163:Drivers/SOES/Src/esc_coe.c ****    {
1164:Drivers/SOES/Src/esc_coe.c ****       coel = (_COEobjdesc *) &MBX[MBXout * ESC_MBXSIZE];
1165:Drivers/SOES/Src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
1166:Drivers/SOES/Src/esc_coe.c ****       coel->coeheader.numberservice =
1167:Drivers/SOES/Src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
1168:Drivers/SOES/Src/esc_coe.c ****       coel->infoheader.opcode = COE_GETODLISTRESPONSE;
1169:Drivers/SOES/Src/esc_coe.c ****       s = (ESCvar.frags - ESCvar.fragsleft) * (ODLISTSIZE >> 1);
1170:Drivers/SOES/Src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
1171:Drivers/SOES/Src/esc_coe.c ****       {
1172:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.incomplete = 1;
1173:Drivers/SOES/Src/esc_coe.c ****          n = s + (ODLISTSIZE >> 1);
1174:Drivers/SOES/Src/esc_coe.c ****       }
1175:Drivers/SOES/Src/esc_coe.c ****       else
1176:Drivers/SOES/Src/esc_coe.c ****       {
ARM GAS  /tmp/ccFH4wf5.s 			page 23


1177:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.incomplete = 0;
1178:Drivers/SOES/Src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
1179:Drivers/SOES/Src/esc_coe.c ****          ESCvar.xoe = 0;
1180:Drivers/SOES/Src/esc_coe.c ****          n = ESCvar.entries;
1181:Drivers/SOES/Src/esc_coe.c ****       }
1182:Drivers/SOES/Src/esc_coe.c ****       coel->infoheader.reserved = 0x00;
1183:Drivers/SOES/Src/esc_coe.c ****       ESCvar.fragsleft--;
1184:Drivers/SOES/Src/esc_coe.c ****       coel->infoheader.fragmentsleft = htoes (ESCvar.fragsleft);
1185:Drivers/SOES/Src/esc_coe.c ****       /* pointer 2 bytes back to exclude index */
1186:Drivers/SOES/Src/esc_coe.c ****       p = &(coel->index);
1187:Drivers/SOES/Src/esc_coe.c ****       for (i = s; i < n; i++)
1188:Drivers/SOES/Src/esc_coe.c ****       {
1189:Drivers/SOES/Src/esc_coe.c ****          *p = htoes (SDOobjects[i].index);
1190:Drivers/SOES/Src/esc_coe.c ****          p++;
1191:Drivers/SOES/Src/esc_coe.c ****       }
1192:Drivers/SOES/Src/esc_coe.c ****       coel->mbxheader.length = htoes (0x06 + ((n - s) << 1));
1193:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
1194:Drivers/SOES/Src/esc_coe.c ****    }
1195:Drivers/SOES/Src/esc_coe.c **** }
1196:Drivers/SOES/Src/esc_coe.c **** 
1197:Drivers/SOES/Src/esc_coe.c **** /** Function for handling incoming requested SDO Get Object Description,
1198:Drivers/SOES/Src/esc_coe.c ****  * validating the request and sending an response. On error an
1199:Drivers/SOES/Src/esc_coe.c ****  * SDO Info Error will be sent.
1200:Drivers/SOES/Src/esc_coe.c ****  */
1201:Drivers/SOES/Src/esc_coe.c **** static void SDO_getod (void)
1202:Drivers/SOES/Src/esc_coe.c **** {
1203:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
1204:Drivers/SOES/Src/esc_coe.c ****    uint16_t index;
1205:Drivers/SOES/Src/esc_coe.c ****    int32_t nidx;
1206:Drivers/SOES/Src/esc_coe.c ****    uint8_t *d;
1207:Drivers/SOES/Src/esc_coe.c ****    const uint8_t *s;
1208:Drivers/SOES/Src/esc_coe.c ****    uint8_t n = 0;
1209:Drivers/SOES/Src/esc_coe.c ****    _COEobjdesc *coer, *coel;
1210:Drivers/SOES/Src/esc_coe.c ****    coer = (_COEobjdesc *) &MBX[0];
1211:Drivers/SOES/Src/esc_coe.c ****    index = etohs (coer->index);
1212:Drivers/SOES/Src/esc_coe.c ****    nidx = SDO_findobject (index);
1213:Drivers/SOES/Src/esc_coe.c ****    if (nidx >= 0)
1214:Drivers/SOES/Src/esc_coe.c ****    {
1215:Drivers/SOES/Src/esc_coe.c ****       MBXout = ESC_claimbuffer ();
1216:Drivers/SOES/Src/esc_coe.c ****       if (MBXout)
1217:Drivers/SOES/Src/esc_coe.c ****       {
1218:Drivers/SOES/Src/esc_coe.c ****          coel = (_COEobjdesc *) &MBX[MBXout * ESC_MBXSIZE];
1219:Drivers/SOES/Src/esc_coe.c ****          coel->mbxheader.mbxtype = MBXCOE;
1220:Drivers/SOES/Src/esc_coe.c ****          coel->coeheader.numberservice =
1221:Drivers/SOES/Src/esc_coe.c ****             htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
1222:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.opcode = COE_GETODRESPONSE;
1223:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.incomplete = 0;
1224:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.reserved = 0x00;
1225:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (0);
1226:Drivers/SOES/Src/esc_coe.c ****          coel->index = htoes (index);
1227:Drivers/SOES/Src/esc_coe.c ****          if (SDOobjects[nidx].objtype == OTYPE_VAR)
1228:Drivers/SOES/Src/esc_coe.c ****          {
1229:Drivers/SOES/Src/esc_coe.c ****             int32_t nsub = SDO_findsubindex (nidx, 0);
1230:Drivers/SOES/Src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
1231:Drivers/SOES/Src/esc_coe.c ****             coel->datatype = htoes ((objd + nsub)->datatype);
1232:Drivers/SOES/Src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].maxsub;
1233:Drivers/SOES/Src/esc_coe.c ****          }
ARM GAS  /tmp/ccFH4wf5.s 			page 24


1234:Drivers/SOES/Src/esc_coe.c ****          else if (SDOobjects[nidx].objtype == OTYPE_ARRAY)
1235:Drivers/SOES/Src/esc_coe.c ****          {
1236:Drivers/SOES/Src/esc_coe.c ****             int32_t nsub = SDO_findsubindex (nidx, 0);
1237:Drivers/SOES/Src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
1238:Drivers/SOES/Src/esc_coe.c ****             coel->datatype = htoes ((objd + nsub)->datatype);
1239:Drivers/SOES/Src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].objdesc->value;
1240:Drivers/SOES/Src/esc_coe.c ****          }
1241:Drivers/SOES/Src/esc_coe.c ****          else
1242:Drivers/SOES/Src/esc_coe.c ****          {
1243:Drivers/SOES/Src/esc_coe.c ****             coel->datatype = htoes (0);
1244:Drivers/SOES/Src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].objdesc->value;
1245:Drivers/SOES/Src/esc_coe.c ****          }
1246:Drivers/SOES/Src/esc_coe.c ****          coel->objectcode = SDOobjects[nidx].objtype;
1247:Drivers/SOES/Src/esc_coe.c ****          s = (uint8_t *) SDOobjects[nidx].name;
1248:Drivers/SOES/Src/esc_coe.c ****          d = (uint8_t *) &(coel->name);
1249:Drivers/SOES/Src/esc_coe.c ****          while (*s && (n < (ESC_MBXDSIZE - 0x0c)))
1250:Drivers/SOES/Src/esc_coe.c ****          {
1251:Drivers/SOES/Src/esc_coe.c ****             *d = *s;
1252:Drivers/SOES/Src/esc_coe.c ****             n++;
1253:Drivers/SOES/Src/esc_coe.c ****             s++;
1254:Drivers/SOES/Src/esc_coe.c ****             d++;
1255:Drivers/SOES/Src/esc_coe.c ****          }
1256:Drivers/SOES/Src/esc_coe.c ****          *d = *s;
1257:Drivers/SOES/Src/esc_coe.c ****          coel->mbxheader.length = htoes ((uint16_t) 0x0c + n);
1258:Drivers/SOES/Src/esc_coe.c ****          MBXcontrol[MBXout].state = MBXstate_outreq;
1259:Drivers/SOES/Src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
1260:Drivers/SOES/Src/esc_coe.c ****          ESCvar.xoe = 0;
1261:Drivers/SOES/Src/esc_coe.c ****       }
1262:Drivers/SOES/Src/esc_coe.c ****    }
1263:Drivers/SOES/Src/esc_coe.c ****    else
1264:Drivers/SOES/Src/esc_coe.c ****    {
1265:Drivers/SOES/Src/esc_coe.c ****       SDO_infoerror (ABORT_NOOBJECT);
1266:Drivers/SOES/Src/esc_coe.c ****    }
1267:Drivers/SOES/Src/esc_coe.c **** }
1268:Drivers/SOES/Src/esc_coe.c **** 
1269:Drivers/SOES/Src/esc_coe.c **** /** Function for handling incoming requested SDO Get Entry Description,
1270:Drivers/SOES/Src/esc_coe.c ****  * validating the request and sending an response. On error an
1271:Drivers/SOES/Src/esc_coe.c ****  * SDO Info Error will be sent.
1272:Drivers/SOES/Src/esc_coe.c ****  */
1273:Drivers/SOES/Src/esc_coe.c **** static void SDO_geted (void)
1274:Drivers/SOES/Src/esc_coe.c **** {
1275:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
1276:Drivers/SOES/Src/esc_coe.c ****    uint16_t index;
1277:Drivers/SOES/Src/esc_coe.c ****    int32_t nidx, nsub;
1278:Drivers/SOES/Src/esc_coe.c ****    uint8_t subindex;
1279:Drivers/SOES/Src/esc_coe.c ****    uint8_t *d;
1280:Drivers/SOES/Src/esc_coe.c ****    const uint8_t *s;
1281:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd;
1282:Drivers/SOES/Src/esc_coe.c ****    uint8_t n = 0;
1283:Drivers/SOES/Src/esc_coe.c ****    _COEentdesc *coer, *coel;
1284:Drivers/SOES/Src/esc_coe.c ****    coer = (_COEentdesc *) &MBX[0];
1285:Drivers/SOES/Src/esc_coe.c ****    index = etohs (coer->index);
1286:Drivers/SOES/Src/esc_coe.c ****    subindex = coer->subindex;
1287:Drivers/SOES/Src/esc_coe.c ****    nidx = SDO_findobject (index);
1288:Drivers/SOES/Src/esc_coe.c ****    if (nidx >= 0)
1289:Drivers/SOES/Src/esc_coe.c ****    {
1290:Drivers/SOES/Src/esc_coe.c ****       nsub = SDO_findsubindex (nidx, subindex);
ARM GAS  /tmp/ccFH4wf5.s 			page 25


1291:Drivers/SOES/Src/esc_coe.c ****       if (nsub >= 0)
1292:Drivers/SOES/Src/esc_coe.c ****       {
1293:Drivers/SOES/Src/esc_coe.c ****          objd = SDOobjects[nidx].objdesc;
1294:Drivers/SOES/Src/esc_coe.c ****          MBXout = ESC_claimbuffer ();
1295:Drivers/SOES/Src/esc_coe.c ****          if (MBXout)
1296:Drivers/SOES/Src/esc_coe.c ****          {
1297:Drivers/SOES/Src/esc_coe.c ****             coel = (_COEentdesc *) &MBX[MBXout * ESC_MBXSIZE];
1298:Drivers/SOES/Src/esc_coe.c ****             coel->mbxheader.mbxtype = MBXCOE;
1299:Drivers/SOES/Src/esc_coe.c ****             coel->coeheader.numberservice =
1300:Drivers/SOES/Src/esc_coe.c ****                htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
1301:Drivers/SOES/Src/esc_coe.c ****             coel->infoheader.opcode = COE_ENTRYDESCRIPTIONRESPONSE;
1302:Drivers/SOES/Src/esc_coe.c ****             coel->infoheader.incomplete = 0;
1303:Drivers/SOES/Src/esc_coe.c ****             coel->infoheader.reserved = 0x00;
1304:Drivers/SOES/Src/esc_coe.c ****             coel->infoheader.fragmentsleft = htoes ((uint16_t) 0);
1305:Drivers/SOES/Src/esc_coe.c ****             coel->index = htoes (index);
1306:Drivers/SOES/Src/esc_coe.c ****             coel->subindex = subindex;
1307:Drivers/SOES/Src/esc_coe.c ****             coel->valueinfo = COE_VALUEINFO_ACCESS +
1308:Drivers/SOES/Src/esc_coe.c ****                COE_VALUEINFO_OBJECT + COE_VALUEINFO_MAPPABLE;
1309:Drivers/SOES/Src/esc_coe.c ****             coel->datatype = htoes ((objd + nsub)->datatype);
1310:Drivers/SOES/Src/esc_coe.c ****             coel->bitlength = htoes ((objd + nsub)->bitlength);
1311:Drivers/SOES/Src/esc_coe.c ****             coel->access = htoes ((objd + nsub)->flags);
1312:Drivers/SOES/Src/esc_coe.c ****             s = (uint8_t *) (objd + nsub)->name;
1313:Drivers/SOES/Src/esc_coe.c ****             d = (uint8_t *) &(coel->name);
1314:Drivers/SOES/Src/esc_coe.c ****             while (*s && (n < (ESC_MBXDSIZE - 0x10)))
1315:Drivers/SOES/Src/esc_coe.c ****             {
1316:Drivers/SOES/Src/esc_coe.c ****                *d = *s;
1317:Drivers/SOES/Src/esc_coe.c ****                n++;
1318:Drivers/SOES/Src/esc_coe.c ****                s++;
1319:Drivers/SOES/Src/esc_coe.c ****                d++;
1320:Drivers/SOES/Src/esc_coe.c ****             }
1321:Drivers/SOES/Src/esc_coe.c ****             *d = *s;
1322:Drivers/SOES/Src/esc_coe.c ****             coel->mbxheader.length = htoes ((uint16_t) 0x10 + n);
1323:Drivers/SOES/Src/esc_coe.c ****             MBXcontrol[MBXout].state = MBXstate_outreq;
1324:Drivers/SOES/Src/esc_coe.c ****             MBXcontrol[0].state = MBXstate_idle;
1325:Drivers/SOES/Src/esc_coe.c ****             ESCvar.xoe = 0;
1326:Drivers/SOES/Src/esc_coe.c ****          }
1327:Drivers/SOES/Src/esc_coe.c ****       }
1328:Drivers/SOES/Src/esc_coe.c ****       else
1329:Drivers/SOES/Src/esc_coe.c ****       {
1330:Drivers/SOES/Src/esc_coe.c ****          SDO_infoerror (ABORT_NOSUBINDEX);
1331:Drivers/SOES/Src/esc_coe.c ****       }
1332:Drivers/SOES/Src/esc_coe.c ****    }
1333:Drivers/SOES/Src/esc_coe.c ****    else
1334:Drivers/SOES/Src/esc_coe.c ****    {
1335:Drivers/SOES/Src/esc_coe.c ****       SDO_infoerror (ABORT_NOOBJECT);
1336:Drivers/SOES/Src/esc_coe.c ****    }
1337:Drivers/SOES/Src/esc_coe.c **** }
1338:Drivers/SOES/Src/esc_coe.c **** 
1339:Drivers/SOES/Src/esc_coe.c **** /** Main CoE function checking the status on current mailbox buffers carrying
1340:Drivers/SOES/Src/esc_coe.c ****  * data, distributing the mailboxes to appropriate CoE functions.
1341:Drivers/SOES/Src/esc_coe.c ****  * On Error an MBX_error or SDO Abort will be sent depending on error cause.
1342:Drivers/SOES/Src/esc_coe.c ****  */
1343:Drivers/SOES/Src/esc_coe.c **** void ESC_coeprocess (void)
1344:Drivers/SOES/Src/esc_coe.c **** {
1345:Drivers/SOES/Src/esc_coe.c ****    _MBXh *mbh;
1346:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coesdo;
1347:Drivers/SOES/Src/esc_coe.c ****    _COEobjdesc *coeobjdesc;
ARM GAS  /tmp/ccFH4wf5.s 			page 26


1348:Drivers/SOES/Src/esc_coe.c ****    uint8_t service;
1349:Drivers/SOES/Src/esc_coe.c ****    if (ESCvar.MBXrun == 0)
1350:Drivers/SOES/Src/esc_coe.c ****    {
1351:Drivers/SOES/Src/esc_coe.c ****       return;
1352:Drivers/SOES/Src/esc_coe.c ****    }
1353:Drivers/SOES/Src/esc_coe.c ****    if (!ESCvar.xoe && (MBXcontrol[0].state == MBXstate_inclaim))
1354:Drivers/SOES/Src/esc_coe.c ****    {
1355:Drivers/SOES/Src/esc_coe.c ****       mbh = (_MBXh *) &MBX[0];
1356:Drivers/SOES/Src/esc_coe.c ****       if (mbh->mbxtype == MBXCOE)
1357:Drivers/SOES/Src/esc_coe.c ****       {
1358:Drivers/SOES/Src/esc_coe.c ****          if (etohs (mbh->length) < COE_MINIMUM_LENGTH)
1359:Drivers/SOES/Src/esc_coe.c ****          {
1360:Drivers/SOES/Src/esc_coe.c ****             MBX_error (MBXERR_INVALIDSIZE);
1361:Drivers/SOES/Src/esc_coe.c ****          }
1362:Drivers/SOES/Src/esc_coe.c ****          else
1363:Drivers/SOES/Src/esc_coe.c ****          {
1364:Drivers/SOES/Src/esc_coe.c ****             ESCvar.xoe = MBXCOE;
1365:Drivers/SOES/Src/esc_coe.c ****          }
1366:Drivers/SOES/Src/esc_coe.c ****       }
1367:Drivers/SOES/Src/esc_coe.c ****    }
1368:Drivers/SOES/Src/esc_coe.c ****    if ((ESCvar.xoe == (MBXCOE + MBXODL)) && (!ESCvar.mbxoutpost))
1369:Drivers/SOES/Src/esc_coe.c ****    {
1370:Drivers/SOES/Src/esc_coe.c ****       /* continue get OD list */
1371:Drivers/SOES/Src/esc_coe.c ****       SDO_getodlistcont ();
1372:Drivers/SOES/Src/esc_coe.c ****    }
1373:Drivers/SOES/Src/esc_coe.c ****    if (ESCvar.xoe == MBXCOE)
1374:Drivers/SOES/Src/esc_coe.c ****    {
1375:Drivers/SOES/Src/esc_coe.c ****       coesdo = (_COEsdo *) &MBX[0];
1376:Drivers/SOES/Src/esc_coe.c ****       coeobjdesc = (_COEobjdesc *) &MBX[0];
1377:Drivers/SOES/Src/esc_coe.c ****       service = etohs (coesdo->coeheader.numberservice) >> 12;
1378:Drivers/SOES/Src/esc_coe.c ****       if (service == COE_SDOREQUEST)
1379:Drivers/SOES/Src/esc_coe.c ****       {
1380:Drivers/SOES/Src/esc_coe.c ****          if ((SDO_COMMAND(coesdo->command) == COE_COMMAND_UPLOADREQUEST)
1381:Drivers/SOES/Src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE))
1382:Drivers/SOES/Src/esc_coe.c ****          {
1383:Drivers/SOES/Src/esc_coe.c ****             /* initiate SDO upload request */
1384:Drivers/SOES/Src/esc_coe.c ****             if (SDO_COMPLETE_ACCESS(coesdo->command))
1385:Drivers/SOES/Src/esc_coe.c ****             {
1386:Drivers/SOES/Src/esc_coe.c ****                SDO_upload_complete_access ();
1387:Drivers/SOES/Src/esc_coe.c ****             }
1388:Drivers/SOES/Src/esc_coe.c ****             else
1389:Drivers/SOES/Src/esc_coe.c ****             {
1390:Drivers/SOES/Src/esc_coe.c ****                SDO_upload ();
1391:Drivers/SOES/Src/esc_coe.c ****             }
1392:Drivers/SOES/Src/esc_coe.c ****          }
1393:Drivers/SOES/Src/esc_coe.c ****          else if (((coesdo->command & 0xef) == COE_COMMAND_UPLOADSEGREQ)
1394:Drivers/SOES/Src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE)
1395:Drivers/SOES/Src/esc_coe.c ****                && (ESCvar.segmented == MBXSEU))
1396:Drivers/SOES/Src/esc_coe.c ****          {
1397:Drivers/SOES/Src/esc_coe.c ****             /* SDO upload segment request */
1398:Drivers/SOES/Src/esc_coe.c ****             SDO_uploadsegment ();
1399:Drivers/SOES/Src/esc_coe.c ****          }
1400:Drivers/SOES/Src/esc_coe.c ****          else if (SDO_COMMAND(coesdo->command) == COE_COMMAND_DOWNLOADREQUEST)
1401:Drivers/SOES/Src/esc_coe.c ****          {
1402:Drivers/SOES/Src/esc_coe.c ****             /* initiate SDO download request */
1403:Drivers/SOES/Src/esc_coe.c ****             if (SDO_COMPLETE_ACCESS(coesdo->command))
1404:Drivers/SOES/Src/esc_coe.c ****             {
ARM GAS  /tmp/ccFH4wf5.s 			page 27


1405:Drivers/SOES/Src/esc_coe.c ****                SDO_download_complete_access ();
1406:Drivers/SOES/Src/esc_coe.c ****             }
1407:Drivers/SOES/Src/esc_coe.c ****             else
1408:Drivers/SOES/Src/esc_coe.c ****             {
1409:Drivers/SOES/Src/esc_coe.c ****                SDO_download ();
1410:Drivers/SOES/Src/esc_coe.c ****             }
1411:Drivers/SOES/Src/esc_coe.c ****          }
1412:Drivers/SOES/Src/esc_coe.c ****          else if (SDO_COMMAND(coesdo->command) == COE_COMMAND_DOWNLOADSEGREQ)
1413:Drivers/SOES/Src/esc_coe.c ****          {
1414:Drivers/SOES/Src/esc_coe.c ****             /* SDO download segment request */
1415:Drivers/SOES/Src/esc_coe.c ****             SDO_downloadsegment ();
1416:Drivers/SOES/Src/esc_coe.c ****          }
1417:Drivers/SOES/Src/esc_coe.c ****       }
1418:Drivers/SOES/Src/esc_coe.c ****       /* initiate SDO get OD list */
1419:Drivers/SOES/Src/esc_coe.c ****       else
1420:Drivers/SOES/Src/esc_coe.c ****       {
1421:Drivers/SOES/Src/esc_coe.c ****          if ((service == COE_SDOINFORMATION)
1422:Drivers/SOES/Src/esc_coe.c ****                && (coeobjdesc->infoheader.opcode == 0x01))
1423:Drivers/SOES/Src/esc_coe.c ****          {
1424:Drivers/SOES/Src/esc_coe.c ****             SDO_getodlist ();
1425:Drivers/SOES/Src/esc_coe.c ****          }
1426:Drivers/SOES/Src/esc_coe.c ****          /* initiate SDO get OD */
1427:Drivers/SOES/Src/esc_coe.c ****          else
1428:Drivers/SOES/Src/esc_coe.c ****          {
1429:Drivers/SOES/Src/esc_coe.c ****             if ((service == COE_SDOINFORMATION)
1430:Drivers/SOES/Src/esc_coe.c ****                   && (coeobjdesc->infoheader.opcode == 0x03))
1431:Drivers/SOES/Src/esc_coe.c ****             {
1432:Drivers/SOES/Src/esc_coe.c ****                SDO_getod ();
1433:Drivers/SOES/Src/esc_coe.c ****             }
1434:Drivers/SOES/Src/esc_coe.c ****             /* initiate SDO get ED */
1435:Drivers/SOES/Src/esc_coe.c ****             else
1436:Drivers/SOES/Src/esc_coe.c ****             {
1437:Drivers/SOES/Src/esc_coe.c ****                if ((service == COE_SDOINFORMATION)
1438:Drivers/SOES/Src/esc_coe.c ****                      && (coeobjdesc->infoheader.opcode == 0x05))
1439:Drivers/SOES/Src/esc_coe.c ****                {
1440:Drivers/SOES/Src/esc_coe.c ****                   SDO_geted ();
1441:Drivers/SOES/Src/esc_coe.c ****                }
1442:Drivers/SOES/Src/esc_coe.c ****                else
1443:Drivers/SOES/Src/esc_coe.c ****                {
1444:Drivers/SOES/Src/esc_coe.c ****                   /* COE not recognised above */
1445:Drivers/SOES/Src/esc_coe.c ****                   if (ESCvar.xoe == MBXCOE)
1446:Drivers/SOES/Src/esc_coe.c ****                   {
1447:Drivers/SOES/Src/esc_coe.c ****                      if (service == 0)
1448:Drivers/SOES/Src/esc_coe.c ****                      {
1449:Drivers/SOES/Src/esc_coe.c ****                         MBX_error (MBXERR_INVALIDHEADER);
1450:Drivers/SOES/Src/esc_coe.c ****                      }
1451:Drivers/SOES/Src/esc_coe.c ****                      else
1452:Drivers/SOES/Src/esc_coe.c ****                      {
1453:Drivers/SOES/Src/esc_coe.c ****                         SDO_abort (0, etohs (coesdo->index), coesdo->subindex, ABORT_UNSUPPORTED);
1454:Drivers/SOES/Src/esc_coe.c ****                      }
1455:Drivers/SOES/Src/esc_coe.c ****                      MBXcontrol[0].state = MBXstate_idle;
1456:Drivers/SOES/Src/esc_coe.c ****                      ESCvar.xoe = 0;
1457:Drivers/SOES/Src/esc_coe.c ****                   }
1458:Drivers/SOES/Src/esc_coe.c ****                }
1459:Drivers/SOES/Src/esc_coe.c ****             }
1460:Drivers/SOES/Src/esc_coe.c ****          }
1461:Drivers/SOES/Src/esc_coe.c ****       }
ARM GAS  /tmp/ccFH4wf5.s 			page 28


1462:Drivers/SOES/Src/esc_coe.c ****    }
1463:Drivers/SOES/Src/esc_coe.c **** }
1464:Drivers/SOES/Src/esc_coe.c **** 
1465:Drivers/SOES/Src/esc_coe.c **** /**
1466:Drivers/SOES/Src/esc_coe.c ****  * Get value from bitmap
1467:Drivers/SOES/Src/esc_coe.c ****  *
1468:Drivers/SOES/Src/esc_coe.c ****  * This function gets a value from a bitmap.
1469:Drivers/SOES/Src/esc_coe.c ****  *
1470:Drivers/SOES/Src/esc_coe.c ****  * @param[in] bitmap = bitmap containing value
1471:Drivers/SOES/Src/esc_coe.c ****  * @param[in] offset = start offset
1472:Drivers/SOES/Src/esc_coe.c ****  * @param[in] length = number of bits to get
1473:Drivers/SOES/Src/esc_coe.c ****  * @return bitslice value
1474:Drivers/SOES/Src/esc_coe.c ****  */
1475:Drivers/SOES/Src/esc_coe.c **** static uint64_t COE_bitsliceGet (uint64_t * bitmap, int offset, int length)
1476:Drivers/SOES/Src/esc_coe.c **** {
  82              		.loc 1 1476 1 is_stmt 1 view -0
  83              		.cfi_startproc
  84              		@ args = 0, pretend = 0, frame = 0
  85              		@ frame_needed = 0, uses_anonymous_args = 0
  86              		.loc 1 1476 1 is_stmt 0 view .LVU18
  87 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
  88              		.cfi_def_cfa_offset 24
  89              		.cfi_offset 4, -24
  90              		.cfi_offset 5, -20
  91              		.cfi_offset 6, -16
  92              		.cfi_offset 7, -12
  93              		.cfi_offset 8, -8
  94              		.cfi_offset 14, -4
1477:Drivers/SOES/Src/esc_coe.c ****    const int word_offset = offset / 64;
  95              		.loc 1 1477 4 is_stmt 1 view .LVU19
  96              		.loc 1 1477 14 is_stmt 0 view .LVU20
  97 0004 0C46     		mov	r4, r1
  98 0006 0029     		cmp	r1, #0
  99 0008 4EDB     		blt	.L10
 100              	.L4:
 101              		.loc 1 1477 14 view .LVU21
 102 000a A411     		asrs	r4, r4, #6
 103              	.LVL5:
1478:Drivers/SOES/Src/esc_coe.c ****    const int bit_offset = offset % 64;
 104              		.loc 1 1478 4 is_stmt 1 view .LVU22
 105              		.loc 1 1478 14 is_stmt 0 view .LVU23
 106 000c 4B42     		rsbs	r3, r1, #0
 107 000e 01F03F0E 		and	lr, r1, #63
 108 0012 03F03F03 		and	r3, r3, #63
 109 0016 58BF     		it	pl
 110 0018 C3F1000E 		rsbpl	lr, r3, #0
 111              	.LVL6:
1479:Drivers/SOES/Src/esc_coe.c ****    const uint64_t mask = (length == 64) ? UINT64_MAX : (1ULL << length) - 1;
 112              		.loc 1 1479 4 is_stmt 1 view .LVU24
 113              		.loc 1 1479 54 is_stmt 0 view .LVU25
 114 001c 402A     		cmp	r2, #64
 115 001e 46D0     		beq	.L7
 116              		.loc 1 1479 62 discriminator 1 view .LVU26
 117 0020 4FF0010C 		mov	ip, #1
 118 0024 A2F12005 		sub	r5, r2, #32
 119 0028 C2F12003 		rsb	r3, r2, #32
 120 002c 0CFA05F5 		lsl	r5, ip, r5
ARM GAS  /tmp/ccFH4wf5.s 			page 29


 121 0030 2CFA03F3 		lsr	r3, ip, r3
 122 0034 1D43     		orrs	r5, r5, r3
 123 0036 0CFA02FC 		lsl	ip, ip, r2
 124              		.loc 1 1479 54 discriminator 1 view .LVU27
 125 003a 1CF1FF3C 		adds	ip, ip, #-1
 126 003e 45F1FF35 		adc	r5, r5, #-1
 127              	.L5:
 128              	.LVL7:
1480:Drivers/SOES/Src/esc_coe.c ****    uint64_t w0;
 129              		.loc 1 1480 4 is_stmt 1 discriminator 4 view .LVU28
1481:Drivers/SOES/Src/esc_coe.c ****    uint64_t w1 = 0;
 130              		.loc 1 1481 4 discriminator 4 view .LVU29
1482:Drivers/SOES/Src/esc_coe.c **** 
1483:Drivers/SOES/Src/esc_coe.c ****    /* Get the least significant word */
1484:Drivers/SOES/Src/esc_coe.c ****    w0 = bitmap[word_offset];
 131              		.loc 1 1484 4 discriminator 4 view .LVU30
 132              		.loc 1 1484 15 is_stmt 0 discriminator 4 view .LVU31
 133 0042 00EBC403 		add	r3, r0, r4, lsl #3
 134              		.loc 1 1484 7 discriminator 4 view .LVU32
 135 0046 50F83460 		ldr	r6, [r0, r4, lsl #3]
 136 004a 5F68     		ldr	r7, [r3, #4]
 137              	.LVL8:
1485:Drivers/SOES/Src/esc_coe.c ****    w0 = w0 >> bit_offset;
 138              		.loc 1 1485 4 is_stmt 1 discriminator 4 view .LVU33
 139              		.loc 1 1485 7 is_stmt 0 discriminator 4 view .LVU34
 140 004c 01F03F03 		and	r3, r1, #63
 141 0050 C3F12008 		rsb	r8, r3, #32
 142 0054 A3F12001 		sub	r1, r3, #32
 143              	.LVL9:
 144              		.loc 1 1485 7 discriminator 4 view .LVU35
 145 0058 DE40     		lsrs	r6, r6, r3
 146              	.LVL10:
 147              		.loc 1 1485 7 discriminator 4 view .LVU36
 148 005a 07FA08F8 		lsl	r8, r7, r8
 149 005e 46EA0806 		orr	r6, r6, r8
 150 0062 27FA01F1 		lsr	r1, r7, r1
 151 0066 0E43     		orrs	r6, r6, r1
 152 0068 27FA03F1 		lsr	r1, r7, r3
 153              	.LVL11:
1486:Drivers/SOES/Src/esc_coe.c **** 
1487:Drivers/SOES/Src/esc_coe.c ****    /* Get the most significant word, if required */
1488:Drivers/SOES/Src/esc_coe.c ****    if (length + bit_offset > 64)
 154              		.loc 1 1488 4 is_stmt 1 discriminator 4 view .LVU37
 155              		.loc 1 1488 15 is_stmt 0 discriminator 4 view .LVU38
 156 006c 7244     		add	r2, r2, lr
 157              	.LVL12:
 158              		.loc 1 1488 7 discriminator 4 view .LVU39
 159 006e 402A     		cmp	r2, #64
 160 0070 21DD     		ble	.L8
1489:Drivers/SOES/Src/esc_coe.c ****    {
1490:Drivers/SOES/Src/esc_coe.c ****       w1 = bitmap[word_offset + 1];
 161              		.loc 1 1490 7 is_stmt 1 view .LVU40
 162              		.loc 1 1490 18 is_stmt 0 view .LVU41
 163 0072 0134     		adds	r4, r4, #1
 164              	.LVL13:
 165              		.loc 1 1490 18 view .LVU42
 166 0074 00EBC403 		add	r3, r0, r4, lsl #3
ARM GAS  /tmp/ccFH4wf5.s 			page 30


 167              		.loc 1 1490 10 view .LVU43
 168 0078 50F83400 		ldr	r0, [r0, r4, lsl #3]
 169              	.LVL14:
 170              		.loc 1 1490 10 view .LVU44
 171 007c 5A68     		ldr	r2, [r3, #4]
 172              	.LVL15:
1491:Drivers/SOES/Src/esc_coe.c ****       w1 = w1 << (64 - bit_offset);
 173              		.loc 1 1491 7 is_stmt 1 view .LVU45
 174              		.loc 1 1491 22 is_stmt 0 view .LVU46
 175 007e CEF14007 		rsb	r7, lr, #64
 176              		.loc 1 1491 10 view .LVU47
 177 0082 CEF12004 		rsb	r4, lr, #32
 178              	.LVL16:
 179              		.loc 1 1491 10 view .LVU48
 180 0086 AEF12003 		sub	r3, lr, #32
 181 008a BA40     		lsls	r2, r2, r7
 182              	.LVL17:
 183              		.loc 1 1491 10 view .LVU49
 184 008c 00FA04F4 		lsl	r4, r0, r4
 185 0090 2243     		orrs	r2, r2, r4
 186 0092 20FA03F3 		lsr	r3, r0, r3
 187 0096 1A43     		orrs	r2, r2, r3
 188 0098 B840     		lsls	r0, r0, r7
 189              	.LVL18:
 190              	.L6:
1492:Drivers/SOES/Src/esc_coe.c ****    }
1493:Drivers/SOES/Src/esc_coe.c **** 
1494:Drivers/SOES/Src/esc_coe.c ****    w0 = (w1 | w0);
 191              		.loc 1 1494 4 is_stmt 1 view .LVU50
 192              		.loc 1 1494 7 is_stmt 0 view .LVU51
 193 009a 3043     		orrs	r0, r0, r6
 194              	.LVL19:
 195              		.loc 1 1494 7 view .LVU52
 196 009c 1143     		orrs	r1, r1, r2
 197              	.LVL20:
1495:Drivers/SOES/Src/esc_coe.c ****    return (w0 & mask);
 198              		.loc 1 1495 4 is_stmt 1 view .LVU53
1496:Drivers/SOES/Src/esc_coe.c **** }
 199              		.loc 1 1496 1 is_stmt 0 view .LVU54
 200 009e 0CEA0000 		and	r0, ip, r0
 201              	.LVL21:
 202              		.loc 1 1496 1 view .LVU55
 203 00a2 2940     		ands	r1, r1, r5
 204 00a4 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 205              	.LVL22:
 206              	.L10:
1477:Drivers/SOES/Src/esc_coe.c ****    const int bit_offset = offset % 64;
 207              		.loc 1 1477 14 view .LVU56
 208 00a8 01F13F04 		add	r4, r1, #63
 209 00ac ADE7     		b	.L4
 210              	.LVL23:
 211              	.L7:
1479:Drivers/SOES/Src/esc_coe.c ****    uint64_t w0;
 212              		.loc 1 1479 54 view .LVU57
 213 00ae 4FF0FF3C 		mov	ip, #-1
 214 00b2 6546     		mov	r5, ip
 215 00b4 C5E7     		b	.L5
ARM GAS  /tmp/ccFH4wf5.s 			page 31


 216              	.LVL24:
 217              	.L8:
1481:Drivers/SOES/Src/esc_coe.c **** 
 218              		.loc 1 1481 13 view .LVU58
 219 00b6 0020     		movs	r0, #0
 220              	.LVL25:
1481:Drivers/SOES/Src/esc_coe.c **** 
 221              		.loc 1 1481 13 view .LVU59
 222 00b8 0246     		mov	r2, r0
 223 00ba EEE7     		b	.L6
 224              		.cfi_endproc
 225              	.LFE21:
 227              		.section	.text.COE_bitsliceSet,"ax",%progbits
 228              		.align	1
 229              		.syntax unified
 230              		.thumb
 231              		.thumb_func
 233              	COE_bitsliceSet:
 234              	.LVL26:
 235              	.LFB22:
1497:Drivers/SOES/Src/esc_coe.c **** 
1498:Drivers/SOES/Src/esc_coe.c **** /**
1499:Drivers/SOES/Src/esc_coe.c ****  * Set value in bitmap
1500:Drivers/SOES/Src/esc_coe.c ****  *
1501:Drivers/SOES/Src/esc_coe.c ****  * This function sets a value in a bitmap.
1502:Drivers/SOES/Src/esc_coe.c ****  *
1503:Drivers/SOES/Src/esc_coe.c ****  * @param[in] bitmap = bitmap to contain value
1504:Drivers/SOES/Src/esc_coe.c ****  * @param[in] offset = start offset
1505:Drivers/SOES/Src/esc_coe.c ****  * @param[in] length = number of bits to set
1506:Drivers/SOES/Src/esc_coe.c ****  * @param[in] value  = value to set
1507:Drivers/SOES/Src/esc_coe.c ****  */
1508:Drivers/SOES/Src/esc_coe.c **** static void COE_bitsliceSet (uint64_t * bitmap, int offset, int length,
1509:Drivers/SOES/Src/esc_coe.c ****                              uint64_t value)
1510:Drivers/SOES/Src/esc_coe.c **** {
 236              		.loc 1 1510 1 is_stmt 1 view -0
 237              		.cfi_startproc
 238              		@ args = 8, pretend = 0, frame = 8
 239              		@ frame_needed = 0, uses_anonymous_args = 0
 240              		.loc 1 1510 1 is_stmt 0 view .LVU61
 241 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 242              		.cfi_def_cfa_offset 36
 243              		.cfi_offset 4, -36
 244              		.cfi_offset 5, -32
 245              		.cfi_offset 6, -28
 246              		.cfi_offset 7, -24
 247              		.cfi_offset 8, -20
 248              		.cfi_offset 9, -16
 249              		.cfi_offset 10, -12
 250              		.cfi_offset 11, -8
 251              		.cfi_offset 14, -4
 252 0004 83B0     		sub	sp, sp, #12
 253              		.cfi_def_cfa_offset 48
 254 0006 0C9C     		ldr	r4, [sp, #48]
 255 0008 0D9F     		ldr	r7, [sp, #52]
1511:Drivers/SOES/Src/esc_coe.c ****    const int word_offset = offset / 64;
 256              		.loc 1 1511 4 is_stmt 1 view .LVU62
 257              		.loc 1 1511 14 is_stmt 0 view .LVU63
ARM GAS  /tmp/ccFH4wf5.s 			page 32


 258 000a 8E46     		mov	lr, r1
 259 000c 0029     		cmp	r1, #0
 260 000e C0F28680 		blt	.L17
 261              	.L12:
 262              		.loc 1 1511 14 view .LVU64
 263 0012 4FEAAE1E 		asr	lr, lr, #6
 264              	.LVL27:
1512:Drivers/SOES/Src/esc_coe.c ****    const int bit_offset = offset % 64;
 265              		.loc 1 1512 4 is_stmt 1 view .LVU65
 266              		.loc 1 1512 14 is_stmt 0 view .LVU66
 267 0016 4B42     		rsbs	r3, r1, #0
 268 0018 01F03F06 		and	r6, r1, #63
 269 001c 03F03F03 		and	r3, r3, #63
 270 0020 58BF     		it	pl
 271 0022 5E42     		rsbpl	r6, r3, #0
 272              	.LVL28:
1513:Drivers/SOES/Src/esc_coe.c ****    const uint64_t mask = (length == 64) ? UINT64_MAX : (1ULL << length) - 1;
 273              		.loc 1 1513 4 is_stmt 1 view .LVU67
 274              		.loc 1 1513 54 is_stmt 0 view .LVU68
 275 0024 402A     		cmp	r2, #64
 276 0026 7DD0     		beq	.L15
 277              		.loc 1 1513 62 discriminator 1 view .LVU69
 278 0028 0123     		movs	r3, #1
 279 002a A2F12005 		sub	r5, r2, #32
 280 002e C2F1200C 		rsb	ip, r2, #32
 281 0032 03FA05F5 		lsl	r5, r3, r5
 282 0036 23FA0CFC 		lsr	ip, r3, ip
 283 003a 45EA0C05 		orr	r5, r5, ip
 284 003e 9340     		lsls	r3, r3, r2
 285              		.loc 1 1513 54 discriminator 1 view .LVU70
 286 0040 013B     		subs	r3, r3, #1
 287 0042 45F1FF35 		adc	r5, r5, #-1
 288              	.L13:
 289              	.LVL29:
1514:Drivers/SOES/Src/esc_coe.c ****    const uint64_t mask0 = mask << bit_offset;
 290              		.loc 1 1514 4 is_stmt 1 discriminator 4 view .LVU71
 291 0046 01F03F01 		and	r1, r1, #63
 292              	.LVL30:
 293              		.loc 1 1514 19 is_stmt 0 discriminator 4 view .LVU72
 294 004a A1F12009 		sub	r9, r1, #32
 295 004e C1F1200C 		rsb	ip, r1, #32
 296 0052 05FA01F8 		lsl	r8, r5, r1
 297 0056 03FA09F9 		lsl	r9, r3, r9
 298 005a 48EA0908 		orr	r8, r8, r9
 299 005e 23FA0CFC 		lsr	ip, r3, ip
 300 0062 48EA0C08 		orr	r8, r8, ip
 301 0066 03FA01FB 		lsl	fp, r3, r1
 302              	.LVL31:
1515:Drivers/SOES/Src/esc_coe.c ****    uint64_t v0 = value << bit_offset;
 303              		.loc 1 1515 4 is_stmt 1 discriminator 4 view .LVU73
 304              		.loc 1 1515 13 is_stmt 0 discriminator 4 view .LVU74
 305 006a A1F1200A 		sub	r10, r1, #32
 306 006e C1F12009 		rsb	r9, r1, #32
 307 0072 07FA01FC 		lsl	ip, r7, r1
 308 0076 04FA0AFA 		lsl	r10, r4, r10
 309 007a 4CEA0A0C 		orr	ip, ip, r10
 310 007e 24FA09F9 		lsr	r9, r4, r9
ARM GAS  /tmp/ccFH4wf5.s 			page 33


 311 0082 4CEA090C 		orr	ip, ip, r9
 312 0086 04FA01F1 		lsl	r1, r4, r1
 313              	.LVL32:
1516:Drivers/SOES/Src/esc_coe.c ****    uint64_t w0 = bitmap[word_offset];
 314              		.loc 1 1516 4 is_stmt 1 discriminator 4 view .LVU75
 315              		.loc 1 1516 24 is_stmt 0 discriminator 4 view .LVU76
 316 008a 00EBCE0A 		add	r10, r0, lr, lsl #3
 317              		.loc 1 1516 13 discriminator 4 view .LVU77
 318 008e 50F83E90 		ldr	r9, [r0, lr, lsl #3]
 319              	.LVL33:
1517:Drivers/SOES/Src/esc_coe.c **** 
1518:Drivers/SOES/Src/esc_coe.c ****    /* Set the least significant word */
1519:Drivers/SOES/Src/esc_coe.c ****    w0 = (w0 & ~mask0) | (v0 & mask0);
 320              		.loc 1 1519 4 is_stmt 1 discriminator 4 view .LVU78
 321 0092 81EA0901 		eor	r1, r1, r9
 322              	.LVL34:
 323              		.loc 1 1519 4 is_stmt 0 discriminator 4 view .LVU79
 324 0096 0191     		str	r1, [sp, #4]
 325 0098 DAF80410 		ldr	r1, [r10, #4]
 326 009c 8CEA010C 		eor	ip, ip, r1
 327              	.LVL35:
 328              		.loc 1 1519 4 discriminator 4 view .LVU80
 329 00a0 0199     		ldr	r1, [sp, #4]
 330 00a2 01EA0B01 		and	r1, r1, fp
 331 00a6 0CEA080C 		and	ip, ip, r8
 332              		.loc 1 1519 7 discriminator 4 view .LVU81
 333 00aa 89EA0109 		eor	r9, r9, r1
 334              	.LVL36:
 335              		.loc 1 1519 7 discriminator 4 view .LVU82
 336 00ae DAF80410 		ldr	r1, [r10, #4]
 337 00b2 81EA0C01 		eor	r1, r1, ip
 338              	.LVL37:
1520:Drivers/SOES/Src/esc_coe.c ****    bitmap[word_offset] = w0;
 339              		.loc 1 1520 4 is_stmt 1 discriminator 4 view .LVU83
 340              		.loc 1 1520 24 is_stmt 0 discriminator 4 view .LVU84
 341 00b6 40F83E90 		str	r9, [r0, lr, lsl #3]
 342 00ba CAF80410 		str	r1, [r10, #4]
1521:Drivers/SOES/Src/esc_coe.c **** 
1522:Drivers/SOES/Src/esc_coe.c ****    /* Set the most significant word, if required */
1523:Drivers/SOES/Src/esc_coe.c ****    if (length + bit_offset > 64)
 343              		.loc 1 1523 4 is_stmt 1 discriminator 4 view .LVU85
 344              		.loc 1 1523 15 is_stmt 0 discriminator 4 view .LVU86
 345 00be 3244     		add	r2, r2, r6
 346              	.LVL38:
 347              		.loc 1 1523 7 discriminator 4 view .LVU87
 348 00c0 402A     		cmp	r2, #64
 349 00c2 29DD     		ble	.L11
 350              	.LBB2:
1524:Drivers/SOES/Src/esc_coe.c ****    {
1525:Drivers/SOES/Src/esc_coe.c ****       const uint64_t mask1 = mask >> (64 - bit_offset);
 351              		.loc 1 1525 7 is_stmt 1 view .LVU88
 352              		.loc 1 1525 42 is_stmt 0 view .LVU89
 353 00c4 C6F14002 		rsb	r2, r6, #64
 354              		.loc 1 1525 22 view .LVU90
 355 00c8 A6F12001 		sub	r1, r6, #32
 356              	.LVL39:
 357              		.loc 1 1525 22 view .LVU91
ARM GAS  /tmp/ccFH4wf5.s 			page 34


 358 00cc C6F12006 		rsb	r6, r6, #32
 359              	.LVL40:
 360              		.loc 1 1525 22 view .LVU92
 361 00d0 D340     		lsrs	r3, r3, r2
 362              	.LVL41:
 363              		.loc 1 1525 22 view .LVU93
 364 00d2 05FA01F1 		lsl	r1, r5, r1
 365              	.LVL42:
 366              		.loc 1 1525 22 view .LVU94
 367 00d6 0B43     		orrs	r3, r3, r1
 368 00d8 25FA06F6 		lsr	r6, r5, r6
 369 00dc 3343     		orrs	r3, r3, r6
 370 00de D540     		lsrs	r5, r5, r2
 371              	.LVL43:
1526:Drivers/SOES/Src/esc_coe.c ****       uint64_t v1 = value >> (64 - bit_offset);
 372              		.loc 1 1526 7 is_stmt 1 view .LVU95
 373              		.loc 1 1526 16 is_stmt 0 view .LVU96
 374 00e0 C2F12006 		rsb	r6, r2, #32
 375 00e4 A2F12001 		sub	r1, r2, #32
 376 00e8 D440     		lsrs	r4, r4, r2
 377              	.LVL44:
 378              		.loc 1 1526 16 view .LVU97
 379 00ea 07FA06F6 		lsl	r6, r7, r6
 380 00ee 3443     		orrs	r4, r4, r6
 381 00f0 27FA01F1 		lsr	r1, r7, r1
 382 00f4 0C43     		orrs	r4, r4, r1
 383 00f6 D740     		lsrs	r7, r7, r2
 384              	.LVL45:
1527:Drivers/SOES/Src/esc_coe.c ****       uint64_t w1 = bitmap[word_offset + 1];
 385              		.loc 1 1527 7 is_stmt 1 view .LVU98
 386              		.loc 1 1527 27 is_stmt 0 view .LVU99
 387 00f8 0EF1010E 		add	lr, lr, #1
 388              	.LVL46:
 389              		.loc 1 1527 27 view .LVU100
 390 00fc 00EBCE06 		add	r6, r0, lr, lsl #3
 391              		.loc 1 1527 16 view .LVU101
 392 0100 50F83E10 		ldr	r1, [r0, lr, lsl #3]
 393 0104 7268     		ldr	r2, [r6, #4]
 394              	.LVL47:
1528:Drivers/SOES/Src/esc_coe.c **** 
1529:Drivers/SOES/Src/esc_coe.c ****       w1 = (w1 & ~mask1) | (v1 & mask1);
 395              		.loc 1 1529 7 is_stmt 1 view .LVU102
 396 0106 4C40     		eors	r4, r4, r1
 397              	.LVL48:
 398              		.loc 1 1529 7 is_stmt 0 view .LVU103
 399 0108 5740     		eors	r7, r7, r2
 400              	.LVL49:
 401              		.loc 1 1529 7 view .LVU104
 402 010a 1C40     		ands	r4, r4, r3
 403 010c 2F40     		ands	r7, r7, r5
 404              		.loc 1 1529 10 view .LVU105
 405 010e 6140     		eors	r1, r1, r4
 406              	.LVL50:
 407              		.loc 1 1529 10 view .LVU106
 408 0110 7A40     		eors	r2, r2, r7
 409              	.LVL51:
1530:Drivers/SOES/Src/esc_coe.c ****       bitmap[word_offset + 1] = w1;
ARM GAS  /tmp/ccFH4wf5.s 			page 35


 410              		.loc 1 1530 7 is_stmt 1 view .LVU107
 411              		.loc 1 1530 31 is_stmt 0 view .LVU108
 412 0112 40F83E10 		str	r1, [r0, lr, lsl #3]
 413              	.LVL52:
 414              		.loc 1 1530 31 view .LVU109
 415 0116 7260     		str	r2, [r6, #4]
 416              	.LVL53:
 417              	.L11:
 418              		.loc 1 1530 31 view .LVU110
 419              	.LBE2:
1531:Drivers/SOES/Src/esc_coe.c ****    }
1532:Drivers/SOES/Src/esc_coe.c **** }
 420              		.loc 1 1532 1 view .LVU111
 421 0118 03B0     		add	sp, sp, #12
 422              		.cfi_remember_state
 423              		.cfi_def_cfa_offset 36
 424              		@ sp needed
 425 011a BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 426              	.LVL54:
 427              	.L17:
 428              		.cfi_restore_state
1511:Drivers/SOES/Src/esc_coe.c ****    const int bit_offset = offset % 64;
 429              		.loc 1 1511 14 view .LVU112
 430 011e 01F13F0E 		add	lr, r1, #63
 431 0122 76E7     		b	.L12
 432              	.LVL55:
 433              	.L15:
1513:Drivers/SOES/Src/esc_coe.c ****    const uint64_t mask0 = mask << bit_offset;
 434              		.loc 1 1513 54 view .LVU113
 435 0124 4FF0FF33 		mov	r3, #-1
 436 0128 1D46     		mov	r5, r3
 437 012a 8CE7     		b	.L13
 438              		.cfi_endproc
 439              	.LFE22:
 441              		.section	.text.COE_setValue,"ax",%progbits
 442              		.align	1
 443              		.syntax unified
 444              		.thumb
 445              		.thumb_func
 447              	COE_setValue:
 448              	.LVL56:
 449              	.LFB24:
1533:Drivers/SOES/Src/esc_coe.c **** 
1534:Drivers/SOES/Src/esc_coe.c **** /**
1535:Drivers/SOES/Src/esc_coe.c ****  * Get object value
1536:Drivers/SOES/Src/esc_coe.c ****  *
1537:Drivers/SOES/Src/esc_coe.c ****  * This function atomically gets an object value.
1538:Drivers/SOES/Src/esc_coe.c ****  *
1539:Drivers/SOES/Src/esc_coe.c ****  * @param[in] obj   = object description
1540:Drivers/SOES/Src/esc_coe.c ****  * @return object value
1541:Drivers/SOES/Src/esc_coe.c ****  */
1542:Drivers/SOES/Src/esc_coe.c **** static uint64_t COE_getValue (const _objd * obj)
1543:Drivers/SOES/Src/esc_coe.c **** {
1544:Drivers/SOES/Src/esc_coe.c ****    uint64_t value = 0;
1545:Drivers/SOES/Src/esc_coe.c **** 
1546:Drivers/SOES/Src/esc_coe.c ****    /* TODO: const data */
1547:Drivers/SOES/Src/esc_coe.c **** 
ARM GAS  /tmp/ccFH4wf5.s 			page 36


1548:Drivers/SOES/Src/esc_coe.c ****    switch(obj->datatype)
1549:Drivers/SOES/Src/esc_coe.c ****    {
1550:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT1:
1551:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT2:
1552:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT3:
1553:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT4:
1554:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT5:
1555:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT6:
1556:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT7:
1557:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT8:
1558:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BOOLEAN:
1559:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_UNSIGNED8:
1560:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_INTEGER8:
1561:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BITARR8:
1562:Drivers/SOES/Src/esc_coe.c ****       value = *(uint8_t *)obj->data;
1563:Drivers/SOES/Src/esc_coe.c ****       break;
1564:Drivers/SOES/Src/esc_coe.c **** 
1565:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_UNSIGNED16:
1566:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_INTEGER16:
1567:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BITARR16:
1568:Drivers/SOES/Src/esc_coe.c ****       value = *(uint16_t *)obj->data;
1569:Drivers/SOES/Src/esc_coe.c ****       break;
1570:Drivers/SOES/Src/esc_coe.c **** 
1571:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_REAL32:
1572:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_UNSIGNED32:
1573:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_INTEGER32:
1574:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BITARR32:
1575:Drivers/SOES/Src/esc_coe.c ****       value = *(uint32_t *)obj->data;
1576:Drivers/SOES/Src/esc_coe.c ****       break;
1577:Drivers/SOES/Src/esc_coe.c **** 
1578:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_REAL64:
1579:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_UNSIGNED64:
1580:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_INTEGER64:
1581:Drivers/SOES/Src/esc_coe.c ****       /* FIXME: must be atomic */
1582:Drivers/SOES/Src/esc_coe.c ****       value = *(uint64_t *)obj->data;
1583:Drivers/SOES/Src/esc_coe.c ****       break;
1584:Drivers/SOES/Src/esc_coe.c **** 
1585:Drivers/SOES/Src/esc_coe.c ****    default:
1586:Drivers/SOES/Src/esc_coe.c ****       CC_ASSERT (0);
1587:Drivers/SOES/Src/esc_coe.c ****    }
1588:Drivers/SOES/Src/esc_coe.c **** 
1589:Drivers/SOES/Src/esc_coe.c ****    return value;
1590:Drivers/SOES/Src/esc_coe.c **** }
1591:Drivers/SOES/Src/esc_coe.c **** 
1592:Drivers/SOES/Src/esc_coe.c **** /**
1593:Drivers/SOES/Src/esc_coe.c ****  * Set object value
1594:Drivers/SOES/Src/esc_coe.c ****  *
1595:Drivers/SOES/Src/esc_coe.c ****  * This function atomically sets an object value.
1596:Drivers/SOES/Src/esc_coe.c ****  *
1597:Drivers/SOES/Src/esc_coe.c ****  * @param[in] obj   = object description
1598:Drivers/SOES/Src/esc_coe.c ****  * @param[in] value = new value
1599:Drivers/SOES/Src/esc_coe.c ****  */
1600:Drivers/SOES/Src/esc_coe.c **** static void COE_setValue (const _objd * obj, uint64_t value)
1601:Drivers/SOES/Src/esc_coe.c **** {
 450              		.loc 1 1601 1 is_stmt 1 view -0
 451              		.cfi_startproc
 452              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccFH4wf5.s 			page 37


 453              		@ frame_needed = 0, uses_anonymous_args = 0
 454              		@ link register save eliminated.
1602:Drivers/SOES/Src/esc_coe.c ****    switch(obj->datatype)
 455              		.loc 1 1602 4 view .LVU115
 456              		.loc 1 1602 14 is_stmt 0 view .LVU116
 457 0000 4188     		ldrh	r1, [r0, #2]	@ unaligned
 458              		.loc 1 1602 4 view .LVU117
 459 0002 0139     		subs	r1, r1, #1
 460 0004 3629     		cmp	r1, #54
 461 0006 29D8     		bhi	.L18
 462 0008 DFE801F0 		tbb	[pc, r1]
 463              	.L21:
 464 000c 1C       		.byte	(.L20-.L21)/2
 465 000d 1C       		.byte	(.L20-.L21)/2
 466 000e 1F       		.byte	(.L23-.L21)/2
 467 000f 22       		.byte	(.L22-.L21)/2
 468 0010 1C       		.byte	(.L20-.L21)/2
 469 0011 1F       		.byte	(.L23-.L21)/2
 470 0012 22       		.byte	(.L22-.L21)/2
 471 0013 22       		.byte	(.L22-.L21)/2
 472 0014 28       		.byte	(.L18-.L21)/2
 473 0015 28       		.byte	(.L18-.L21)/2
 474 0016 28       		.byte	(.L18-.L21)/2
 475 0017 28       		.byte	(.L18-.L21)/2
 476 0018 28       		.byte	(.L18-.L21)/2
 477 0019 28       		.byte	(.L18-.L21)/2
 478 001a 28       		.byte	(.L18-.L21)/2
 479 001b 28       		.byte	(.L18-.L21)/2
 480 001c 25       		.byte	(.L24-.L21)/2
 481 001d 28       		.byte	(.L18-.L21)/2
 482 001e 28       		.byte	(.L18-.L21)/2
 483 001f 28       		.byte	(.L18-.L21)/2
 484 0020 25       		.byte	(.L24-.L21)/2
 485 0021 28       		.byte	(.L18-.L21)/2
 486 0022 28       		.byte	(.L18-.L21)/2
 487 0023 28       		.byte	(.L18-.L21)/2
 488 0024 28       		.byte	(.L18-.L21)/2
 489 0025 28       		.byte	(.L18-.L21)/2
 490 0026 25       		.byte	(.L24-.L21)/2
 491 0027 28       		.byte	(.L18-.L21)/2
 492 0028 28       		.byte	(.L18-.L21)/2
 493 0029 28       		.byte	(.L18-.L21)/2
 494 002a 28       		.byte	(.L18-.L21)/2
 495 002b 28       		.byte	(.L18-.L21)/2
 496 002c 28       		.byte	(.L18-.L21)/2
 497 002d 28       		.byte	(.L18-.L21)/2
 498 002e 28       		.byte	(.L18-.L21)/2
 499 002f 28       		.byte	(.L18-.L21)/2
 500 0030 28       		.byte	(.L18-.L21)/2
 501 0031 28       		.byte	(.L18-.L21)/2
 502 0032 28       		.byte	(.L18-.L21)/2
 503 0033 28       		.byte	(.L18-.L21)/2
 504 0034 28       		.byte	(.L18-.L21)/2
 505 0035 28       		.byte	(.L18-.L21)/2
 506 0036 28       		.byte	(.L18-.L21)/2
 507 0037 28       		.byte	(.L18-.L21)/2
 508 0038 1C       		.byte	(.L20-.L21)/2
ARM GAS  /tmp/ccFH4wf5.s 			page 38


 509 0039 1F       		.byte	(.L23-.L21)/2
 510 003a 22       		.byte	(.L22-.L21)/2
 511 003b 1C       		.byte	(.L20-.L21)/2
 512 003c 1C       		.byte	(.L20-.L21)/2
 513 003d 1C       		.byte	(.L20-.L21)/2
 514 003e 1C       		.byte	(.L20-.L21)/2
 515 003f 1C       		.byte	(.L20-.L21)/2
 516 0040 1C       		.byte	(.L20-.L21)/2
 517 0041 1C       		.byte	(.L20-.L21)/2
 518 0042 1C       		.byte	(.L20-.L21)/2
 519 0043 00       		.p2align 1
 520              	.L20:
1603:Drivers/SOES/Src/esc_coe.c ****    {
1604:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT1:
1605:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT2:
1606:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT3:
1607:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT4:
1608:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT5:
1609:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT6:
1610:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT7:
1611:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT8:
1612:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BOOLEAN:
1613:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_UNSIGNED8:
1614:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_INTEGER8:
1615:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BITARR8:
1616:Drivers/SOES/Src/esc_coe.c ****       *(uint8_t *)obj->data = value & UINT8_MAX;
 521              		.loc 1 1616 7 is_stmt 1 view .LVU118
 522              		.loc 1 1616 22 is_stmt 0 view .LVU119
 523 0044 0369     		ldr	r3, [r0, #16]	@ unaligned
 524              		.loc 1 1616 29 view .LVU120
 525 0046 1A70     		strb	r2, [r3]
1617:Drivers/SOES/Src/esc_coe.c ****       break;
 526              		.loc 1 1617 7 is_stmt 1 view .LVU121
 527 0048 7047     		bx	lr
 528              	.L23:
1618:Drivers/SOES/Src/esc_coe.c **** 
1619:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_UNSIGNED16:
1620:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_INTEGER16:
1621:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BITARR16:
1622:Drivers/SOES/Src/esc_coe.c ****       *(uint16_t *)obj->data = value & UINT16_MAX;
 529              		.loc 1 1622 7 view .LVU122
 530              		.loc 1 1622 23 is_stmt 0 view .LVU123
 531 004a 0369     		ldr	r3, [r0, #16]	@ unaligned
 532              		.loc 1 1622 30 view .LVU124
 533 004c 1A80     		strh	r2, [r3]	@ movhi
1623:Drivers/SOES/Src/esc_coe.c ****       break;
 534              		.loc 1 1623 7 is_stmt 1 view .LVU125
 535 004e 7047     		bx	lr
 536              	.L22:
1624:Drivers/SOES/Src/esc_coe.c **** 
1625:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_REAL32:
1626:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_UNSIGNED32:
1627:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_INTEGER32:
1628:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BITARR32:
1629:Drivers/SOES/Src/esc_coe.c ****       *(uint32_t *)obj->data = value & UINT32_MAX;
 537              		.loc 1 1629 7 view .LVU126
 538              		.loc 1 1629 23 is_stmt 0 view .LVU127
ARM GAS  /tmp/ccFH4wf5.s 			page 39


 539 0050 0369     		ldr	r3, [r0, #16]	@ unaligned
 540              		.loc 1 1629 30 view .LVU128
 541 0052 1A60     		str	r2, [r3]
1630:Drivers/SOES/Src/esc_coe.c ****       break;
 542              		.loc 1 1630 7 is_stmt 1 view .LVU129
 543 0054 7047     		bx	lr
 544              	.L24:
1631:Drivers/SOES/Src/esc_coe.c **** 
1632:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_REAL64:
1633:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_UNSIGNED64:
1634:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_INTEGER64:
1635:Drivers/SOES/Src/esc_coe.c ****       /* FIXME: must be atomic */
1636:Drivers/SOES/Src/esc_coe.c ****       *(uint64_t *)obj->data = value;
 545              		.loc 1 1636 7 view .LVU130
 546              		.loc 1 1636 23 is_stmt 0 view .LVU131
 547 0056 0169     		ldr	r1, [r0, #16]	@ unaligned
 548              		.loc 1 1636 30 view .LVU132
 549 0058 0A60     		str	r2, [r1]
 550 005a 4B60     		str	r3, [r1, #4]
1637:Drivers/SOES/Src/esc_coe.c ****       break;
 551              		.loc 1 1637 7 is_stmt 1 view .LVU133
 552              	.L18:
1638:Drivers/SOES/Src/esc_coe.c **** 
1639:Drivers/SOES/Src/esc_coe.c ****    default:
1640:Drivers/SOES/Src/esc_coe.c ****       DPRINT ("ignored\n");
1641:Drivers/SOES/Src/esc_coe.c ****       break;
1642:Drivers/SOES/Src/esc_coe.c ****    }
1643:Drivers/SOES/Src/esc_coe.c **** }
 553              		.loc 1 1643 1 is_stmt 0 view .LVU134
 554 005c 7047     		bx	lr
 555              		.cfi_endproc
 556              	.LFE24:
 558              		.section	.text.SDO_getodlistcont,"ax",%progbits
 559              		.align	1
 560              		.syntax unified
 561              		.thumb
 562              		.thumb_func
 564              	SDO_getodlistcont:
 565              	.LFB17:
1155:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
 566              		.loc 1 1155 1 is_stmt 1 view -0
 567              		.cfi_startproc
 568              		@ args = 0, pretend = 0, frame = 0
 569              		@ frame_needed = 0, uses_anonymous_args = 0
 570 0000 70B5     		push	{r4, r5, r6, lr}
 571              		.cfi_def_cfa_offset 16
 572              		.cfi_offset 4, -16
 573              		.cfi_offset 5, -12
 574              		.cfi_offset 6, -8
 575              		.cfi_offset 14, -4
1156:Drivers/SOES/Src/esc_coe.c ****    uint16_t i, n, s;
 576              		.loc 1 1156 4 view .LVU136
1157:Drivers/SOES/Src/esc_coe.c ****    uint16_t *p;
 577              		.loc 1 1157 4 view .LVU137
1158:Drivers/SOES/Src/esc_coe.c ****    _COEobjdesc *coel;
 578              		.loc 1 1158 4 view .LVU138
1159:Drivers/SOES/Src/esc_coe.c **** 
ARM GAS  /tmp/ccFH4wf5.s 			page 40


 579              		.loc 1 1159 4 view .LVU139
1161:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
 580              		.loc 1 1161 4 view .LVU140
1161:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
 581              		.loc 1 1161 13 is_stmt 0 view .LVU141
 582 0002 FFF7FEFF 		bl	ESC_claimbuffer
 583              	.LVL57:
1162:Drivers/SOES/Src/esc_coe.c ****    {
 584              		.loc 1 1162 4 is_stmt 1 view .LVU142
1162:Drivers/SOES/Src/esc_coe.c ****    {
 585              		.loc 1 1162 7 is_stmt 0 view .LVU143
 586 0006 0028     		cmp	r0, #0
 587 0008 5DD0     		beq	.L26
 588 000a 8646     		mov	lr, r0
1164:Drivers/SOES/Src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 589              		.loc 1 1164 7 is_stmt 1 view .LVU144
1164:Drivers/SOES/Src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 590              		.loc 1 1164 44 is_stmt 0 view .LVU145
 591 000c 2E49     		ldr	r1, .L33
 592 000e 8B6E     		ldr	r3, [r1, #104]
1164:Drivers/SOES/Src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 593              		.loc 1 1164 42 view .LVU146
 594 0010 03FB00FC 		mul	ip, r3, r0
1164:Drivers/SOES/Src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 595              		.loc 1 1164 12 view .LVU147
 596 0014 2D4C     		ldr	r4, .L33+4
 597 0016 0CEB0402 		add	r2, ip, r4
 598              	.LVL58:
1165:Drivers/SOES/Src/esc_coe.c ****       coel->coeheader.numberservice =
 599              		.loc 1 1165 7 is_stmt 1 view .LVU148
1165:Drivers/SOES/Src/esc_coe.c ****       coel->coeheader.numberservice =
 600              		.loc 1 1165 31 is_stmt 0 view .LVU149
 601 001a 5379     		ldrb	r3, [r2, #5]	@ zero_extendqisi2
 602 001c 0320     		movs	r0, #3
 603              	.LVL59:
1165:Drivers/SOES/Src/esc_coe.c ****       coel->coeheader.numberservice =
 604              		.loc 1 1165 31 view .LVU150
 605 001e 60F30303 		bfi	r3, r0, #0, #4
 606 0022 5371     		strb	r3, [r2, #5]
1166:Drivers/SOES/Src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 607              		.loc 1 1166 7 is_stmt 1 view .LVU151
1166:Drivers/SOES/Src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 608              		.loc 1 1166 37 is_stmt 0 view .LVU152
 609 0024 0023     		movs	r3, #0
 610 0026 9371     		strb	r3, [r2, #6]
 611 0028 6FF07F03 		mvn	r3, #127
 612 002c D371     		strb	r3, [r2, #7]
1168:Drivers/SOES/Src/esc_coe.c ****       s = (ESCvar.frags - ESCvar.fragsleft) * (ODLISTSIZE >> 1);
 613              		.loc 1 1168 7 is_stmt 1 view .LVU153
1168:Drivers/SOES/Src/esc_coe.c ****       s = (ESCvar.frags - ESCvar.fragsleft) * (ODLISTSIZE >> 1);
 614              		.loc 1 1168 31 is_stmt 0 view .LVU154
 615 002e 137A     		ldrb	r3, [r2, #8]	@ zero_extendqisi2
 616 0030 0220     		movs	r0, #2
 617 0032 60F30603 		bfi	r3, r0, #0, #7
 618 0036 1372     		strb	r3, [r2, #8]
1169:Drivers/SOES/Src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
 619              		.loc 1 1169 7 is_stmt 1 view .LVU155
ARM GAS  /tmp/ccFH4wf5.s 			page 41


1169:Drivers/SOES/Src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
 620              		.loc 1 1169 18 is_stmt 0 view .LVU156
 621 0038 B1F89660 		ldrh	r6, [r1, #150]
1169:Drivers/SOES/Src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
 622              		.loc 1 1169 33 view .LVU157
 623 003c B1F89830 		ldrh	r3, [r1, #152]
1169:Drivers/SOES/Src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
 624              		.loc 1 1169 48 view .LVU158
 625 0040 086F     		ldr	r0, [r1, #112]
 626 0042 4188     		ldrh	r1, [r0, #2]
 627 0044 0E39     		subs	r1, r1, #14
1169:Drivers/SOES/Src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
 628              		.loc 1 1169 9 view .LVU159
 629 0046 F61A     		subs	r6, r6, r3
 630 0048 C1F34E01 		ubfx	r1, r1, #1, #15
 631 004c 16FB01F6 		smulbb	r6, r6, r1
 632 0050 B6B2     		uxth	r6, r6
 633              	.LVL60:
1170:Drivers/SOES/Src/esc_coe.c ****       {
 634              		.loc 1 1170 7 is_stmt 1 view .LVU160
1170:Drivers/SOES/Src/esc_coe.c ****       {
 635              		.loc 1 1170 10 is_stmt 0 view .LVU161
 636 0052 012B     		cmp	r3, #1
 637 0054 14D9     		bls	.L28
1172:Drivers/SOES/Src/esc_coe.c ****          n = s + (ODLISTSIZE >> 1);
 638              		.loc 1 1172 10 is_stmt 1 view .LVU162
1172:Drivers/SOES/Src/esc_coe.c ****          n = s + (ODLISTSIZE >> 1);
 639              		.loc 1 1172 38 is_stmt 0 view .LVU163
 640 0056 117A     		ldrb	r1, [r2, #8]	@ zero_extendqisi2
 641 0058 41F08001 		orr	r1, r1, #128
 642 005c 1172     		strb	r1, [r2, #8]
1173:Drivers/SOES/Src/esc_coe.c ****       }
 643              		.loc 1 1173 10 is_stmt 1 view .LVU164
1173:Drivers/SOES/Src/esc_coe.c ****       }
 644              		.loc 1 1173 19 is_stmt 0 view .LVU165
 645 005e 4188     		ldrh	r1, [r0, #2]
 646 0060 0E39     		subs	r1, r1, #14
1173:Drivers/SOES/Src/esc_coe.c ****       }
 647              		.loc 1 1173 30 view .LVU166
 648 0062 C1F34E01 		ubfx	r1, r1, #1, #15
1173:Drivers/SOES/Src/esc_coe.c ****       }
 649              		.loc 1 1173 12 view .LVU167
 650 0066 3144     		add	r1, r1, r6
 651 0068 89B2     		uxth	r1, r1
 652              	.LVL61:
 653              	.L29:
1182:Drivers/SOES/Src/esc_coe.c ****       ESCvar.fragsleft--;
 654              		.loc 1 1182 7 is_stmt 1 view .LVU168
1182:Drivers/SOES/Src/esc_coe.c ****       ESCvar.fragsleft--;
 655              		.loc 1 1182 33 is_stmt 0 view .LVU169
 656 006a 0020     		movs	r0, #0
 657 006c 5072     		strb	r0, [r2, #9]
1183:Drivers/SOES/Src/esc_coe.c ****       coel->infoheader.fragmentsleft = htoes (ESCvar.fragsleft);
 658              		.loc 1 1183 7 is_stmt 1 view .LVU170
1183:Drivers/SOES/Src/esc_coe.c ****       coel->infoheader.fragmentsleft = htoes (ESCvar.fragsleft);
 659              		.loc 1 1183 23 is_stmt 0 view .LVU171
 660 006e 013B     		subs	r3, r3, #1
ARM GAS  /tmp/ccFH4wf5.s 			page 42


 661 0070 9BB2     		uxth	r3, r3
 662 0072 1548     		ldr	r0, .L33
 663 0074 A0F89830 		strh	r3, [r0, #152]	@ movhi
1184:Drivers/SOES/Src/esc_coe.c ****       /* pointer 2 bytes back to exclude index */
 664              		.loc 1 1184 7 is_stmt 1 view .LVU172
1184:Drivers/SOES/Src/esc_coe.c ****       /* pointer 2 bytes back to exclude index */
 665              		.loc 1 1184 38 is_stmt 0 view .LVU173
 666 0078 5381     		strh	r3, [r2, #10]	@ unaligned
1186:Drivers/SOES/Src/esc_coe.c ****       for (i = s; i < n; i++)
 667              		.loc 1 1186 7 is_stmt 1 view .LVU174
1186:Drivers/SOES/Src/esc_coe.c ****       for (i = s; i < n; i++)
 668              		.loc 1 1186 9 is_stmt 0 view .LVU175
 669 007a 0C32     		adds	r2, r2, #12
 670              	.LVL62:
1187:Drivers/SOES/Src/esc_coe.c ****       {
 671              		.loc 1 1187 7 is_stmt 1 view .LVU176
1187:Drivers/SOES/Src/esc_coe.c ****       {
 672              		.loc 1 1187 14 is_stmt 0 view .LVU177
 673 007c 3346     		mov	r3, r6
1187:Drivers/SOES/Src/esc_coe.c ****       {
 674              		.loc 1 1187 7 view .LVU178
 675 007e 15E0     		b	.L30
 676              	.LVL63:
 677              	.L28:
1177:Drivers/SOES/Src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
 678              		.loc 1 1177 10 is_stmt 1 view .LVU179
1177:Drivers/SOES/Src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
 679              		.loc 1 1177 38 is_stmt 0 view .LVU180
 680 0080 117A     		ldrb	r1, [r2, #8]	@ zero_extendqisi2
 681 0082 6FF3C711 		bfc	r1, #7, #1
 682 0086 1172     		strb	r1, [r2, #8]
1178:Drivers/SOES/Src/esc_coe.c ****          ESCvar.xoe = 0;
 683              		.loc 1 1178 10 is_stmt 1 view .LVU181
1178:Drivers/SOES/Src/esc_coe.c ****          ESCvar.xoe = 0;
 684              		.loc 1 1178 30 is_stmt 0 view .LVU182
 685 0088 0020     		movs	r0, #0
 686 008a 1149     		ldr	r1, .L33+8
 687 008c 0870     		strb	r0, [r1]
1179:Drivers/SOES/Src/esc_coe.c ****          n = ESCvar.entries;
 688              		.loc 1 1179 10 is_stmt 1 view .LVU183
1179:Drivers/SOES/Src/esc_coe.c ****          n = ESCvar.entries;
 689              		.loc 1 1179 21 is_stmt 0 view .LVU184
 690 008e 0E49     		ldr	r1, .L33
 691 0090 81F88A00 		strb	r0, [r1, #138]
1180:Drivers/SOES/Src/esc_coe.c ****       }
 692              		.loc 1 1180 10 is_stmt 1 view .LVU185
1180:Drivers/SOES/Src/esc_coe.c ****       }
 693              		.loc 1 1180 12 is_stmt 0 view .LVU186
 694 0094 B1F89410 		ldrh	r1, [r1, #148]
 695              	.LVL64:
1180:Drivers/SOES/Src/esc_coe.c ****       }
 696              		.loc 1 1180 12 view .LVU187
 697 0098 E7E7     		b	.L29
 698              	.LVL65:
 699              	.L31:
1189:Drivers/SOES/Src/esc_coe.c ****          p++;
 700              		.loc 1 1189 10 is_stmt 1 discriminator 3 view .LVU188
ARM GAS  /tmp/ccFH4wf5.s 			page 43


1189:Drivers/SOES/Src/esc_coe.c ****          p++;
 701              		.loc 1 1189 15 is_stmt 0 discriminator 3 view .LVU189
 702 009a C3EBC305 		rsb	r5, r3, r3, lsl #3
 703 009e 0D48     		ldr	r0, .L33+12
 704 00a0 30F81500 		ldrh	r0, [r0, r5, lsl #1]	@ unaligned
1189:Drivers/SOES/Src/esc_coe.c ****          p++;
 705              		.loc 1 1189 13 discriminator 3 view .LVU190
 706 00a4 22F8020B 		strh	r0, [r2], #2	@ movhi
 707              	.LVL66:
1190:Drivers/SOES/Src/esc_coe.c ****       }
 708              		.loc 1 1190 10 is_stmt 1 discriminator 3 view .LVU191
1187:Drivers/SOES/Src/esc_coe.c ****       {
 709              		.loc 1 1187 27 discriminator 3 view .LVU192
 710 00a8 0133     		adds	r3, r3, #1
 711              	.LVL67:
1187:Drivers/SOES/Src/esc_coe.c ****       {
 712              		.loc 1 1187 27 is_stmt 0 discriminator 3 view .LVU193
 713 00aa 9BB2     		uxth	r3, r3
 714              	.LVL68:
 715              	.L30:
1187:Drivers/SOES/Src/esc_coe.c ****       {
 716              		.loc 1 1187 21 is_stmt 1 discriminator 1 view .LVU194
 717 00ac 8B42     		cmp	r3, r1
 718 00ae F4D3     		bcc	.L31
1192:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 719              		.loc 1 1192 7 view .LVU195
1192:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 720              		.loc 1 1192 32 is_stmt 0 view .LVU196
 721 00b0 8B1B     		subs	r3, r1, r6
 722              	.LVL69:
1192:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 723              		.loc 1 1192 32 view .LVU197
 724 00b2 9BB2     		uxth	r3, r3
 725 00b4 5B00     		lsls	r3, r3, #1
 726 00b6 9BB2     		uxth	r3, r3
 727 00b8 0633     		adds	r3, r3, #6
1192:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 728              		.loc 1 1192 30 view .LVU198
 729 00ba 24F80C30 		strh	r3, [r4, ip]	@ unaligned
1193:Drivers/SOES/Src/esc_coe.c ****    }
 730              		.loc 1 1193 7 is_stmt 1 view .LVU199
1193:Drivers/SOES/Src/esc_coe.c ****    }
 731              		.loc 1 1193 32 is_stmt 0 view .LVU200
 732 00be 044B     		ldr	r3, .L33+8
 733 00c0 0322     		movs	r2, #3
 734              	.LVL70:
1193:Drivers/SOES/Src/esc_coe.c ****    }
 735              		.loc 1 1193 32 view .LVU201
 736 00c2 03F80E20 		strb	r2, [r3, lr]
 737              	.LVL71:
 738              	.L26:
1195:Drivers/SOES/Src/esc_coe.c **** 
 739              		.loc 1 1195 1 view .LVU202
 740 00c6 70BD     		pop	{r4, r5, r6, pc}
 741              	.L34:
 742              		.align	2
 743              	.L33:
ARM GAS  /tmp/ccFH4wf5.s 			page 44


 744 00c8 00000000 		.word	ESCvar
 745 00cc 00000000 		.word	MBX
 746 00d0 00000000 		.word	MBXcontrol
 747 00d4 00000000 		.word	SDOobjects
 748              		.cfi_endproc
 749              	.LFE17:
 751              		.section	.text.SDO_infoerror,"ax",%progbits
 752              		.align	1
 753              		.syntax unified
 754              		.thumb
 755              		.thumb_func
 757              	SDO_infoerror:
 758              	.LVL72:
 759              	.LFB15:
1032:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
 760              		.loc 1 1032 1 is_stmt 1 view -0
 761              		.cfi_startproc
 762              		@ args = 0, pretend = 0, frame = 0
 763              		@ frame_needed = 0, uses_anonymous_args = 0
1032:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
 764              		.loc 1 1032 1 is_stmt 0 view .LVU204
 765 0000 38B5     		push	{r3, r4, r5, lr}
 766              		.cfi_def_cfa_offset 16
 767              		.cfi_offset 3, -16
 768              		.cfi_offset 4, -12
 769              		.cfi_offset 5, -8
 770              		.cfi_offset 14, -4
 771 0002 0446     		mov	r4, r0
1033:Drivers/SOES/Src/esc_coe.c ****    _COEobjdesc *coeres;
 772              		.loc 1 1033 4 is_stmt 1 view .LVU205
1034:Drivers/SOES/Src/esc_coe.c ****    MBXout = ESC_claimbuffer ();
 773              		.loc 1 1034 4 view .LVU206
1035:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
 774              		.loc 1 1035 4 view .LVU207
1035:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
 775              		.loc 1 1035 13 is_stmt 0 view .LVU208
 776 0004 FFF7FEFF 		bl	ESC_claimbuffer
 777              	.LVL73:
1036:Drivers/SOES/Src/esc_coe.c ****    {
 778              		.loc 1 1036 4 is_stmt 1 view .LVU209
1036:Drivers/SOES/Src/esc_coe.c ****    {
 779              		.loc 1 1036 7 is_stmt 0 view .LVU210
 780 0008 80B3     		cbz	r0, .L35
 781 000a 8446     		mov	ip, r0
1038:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.length = htoes ((uint16_t) COE_HEADERSIZE);
 782              		.loc 1 1038 7 is_stmt 1 view .LVU211
1038:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.length = htoes ((uint16_t) COE_HEADERSIZE);
 783              		.loc 1 1038 46 is_stmt 0 view .LVU212
 784 000c 1848     		ldr	r0, .L38
 785              	.LVL74:
1038:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.length = htoes ((uint16_t) COE_HEADERSIZE);
 786              		.loc 1 1038 46 view .LVU213
 787 000e 816E     		ldr	r1, [r0, #104]
1038:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.length = htoes ((uint16_t) COE_HEADERSIZE);
 788              		.loc 1 1038 44 view .LVU214
 789 0010 01FB0CF1 		mul	r1, r1, ip
1038:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.length = htoes ((uint16_t) COE_HEADERSIZE);
ARM GAS  /tmp/ccFH4wf5.s 			page 45


 790              		.loc 1 1038 14 view .LVU215
 791 0014 174D     		ldr	r5, .L38+4
 792 0016 4B19     		adds	r3, r1, r5
 793              	.LVL75:
1039:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.mbxtype = MBXCOE;
 794              		.loc 1 1039 7 is_stmt 1 view .LVU216
1039:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.mbxtype = MBXCOE;
 795              		.loc 1 1039 32 is_stmt 0 view .LVU217
 796 0018 0022     		movs	r2, #0
 797 001a 4FF00A0E 		mov	lr, #10
 798 001e 05F801E0 		strb	lr, [r5, r1]
 799 0022 5A70     		strb	r2, [r3, #1]
1040:Drivers/SOES/Src/esc_coe.c ****       coeres->coeheader.numberservice =
 800              		.loc 1 1040 7 is_stmt 1 view .LVU218
1040:Drivers/SOES/Src/esc_coe.c ****       coeres->coeheader.numberservice =
 801              		.loc 1 1040 33 is_stmt 0 view .LVU219
 802 0024 93F805E0 		ldrb	lr, [r3, #5]	@ zero_extendqisi2
 803 0028 0321     		movs	r1, #3
 804 002a 61F3030E 		bfi	lr, r1, #0, #4
 805 002e 83F805E0 		strb	lr, [r3, #5]
1041:Drivers/SOES/Src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 806              		.loc 1 1041 7 is_stmt 1 view .LVU220
1041:Drivers/SOES/Src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 807              		.loc 1 1041 39 is_stmt 0 view .LVU221
 808 0032 9A71     		strb	r2, [r3, #6]
 809 0034 6FF07F05 		mvn	r5, #127
 810 0038 DD71     		strb	r5, [r3, #7]
1044:Drivers/SOES/Src/esc_coe.c ****       coeres->infoheader.incomplete = 0;
 811              		.loc 1 1044 7 is_stmt 1 view .LVU222
1044:Drivers/SOES/Src/esc_coe.c ****       coeres->infoheader.incomplete = 0;
 812              		.loc 1 1044 33 is_stmt 0 view .LVU223
 813 003a 93F808E0 		ldrb	lr, [r3, #8]	@ zero_extendqisi2
 814 003e 0725     		movs	r5, #7
 815 0040 65F3060E 		bfi	lr, r5, #0, #7
 816 0044 83F808E0 		strb	lr, [r3, #8]
1045:Drivers/SOES/Src/esc_coe.c ****       coeres->infoheader.reserved = 0x00;
 817              		.loc 1 1045 7 is_stmt 1 view .LVU224
1045:Drivers/SOES/Src/esc_coe.c ****       coeres->infoheader.reserved = 0x00;
 818              		.loc 1 1045 37 is_stmt 0 view .LVU225
 819 0048 5FFA8EFE 		uxtb	lr, lr
 820 004c 62F3C71E 		bfi	lr, r2, #7, #1
 821 0050 83F808E0 		strb	lr, [r3, #8]
1046:Drivers/SOES/Src/esc_coe.c ****       coeres->infoheader.fragmentsleft = 0;
 822              		.loc 1 1046 7 is_stmt 1 view .LVU226
1046:Drivers/SOES/Src/esc_coe.c ****       coeres->infoheader.fragmentsleft = 0;
 823              		.loc 1 1046 35 is_stmt 0 view .LVU227
 824 0054 5A72     		strb	r2, [r3, #9]
1047:Drivers/SOES/Src/esc_coe.c ****       coeres->index = (uint16_t)htoel (abortcode);
 825              		.loc 1 1047 7 is_stmt 1 view .LVU228
1047:Drivers/SOES/Src/esc_coe.c ****       coeres->index = (uint16_t)htoel (abortcode);
 826              		.loc 1 1047 40 is_stmt 0 view .LVU229
 827 0056 9A72     		strb	r2, [r3, #10]
 828 0058 DA72     		strb	r2, [r3, #11]
1048:Drivers/SOES/Src/esc_coe.c ****       coeres->datatype = (uint16_t)(htoel (abortcode) >> 16);
 829              		.loc 1 1048 7 is_stmt 1 view .LVU230
1048:Drivers/SOES/Src/esc_coe.c ****       coeres->datatype = (uint16_t)(htoel (abortcode) >> 16);
 830              		.loc 1 1048 21 is_stmt 0 view .LVU231
ARM GAS  /tmp/ccFH4wf5.s 			page 46


 831 005a 9C81     		strh	r4, [r3, #12]	@ unaligned
1049:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 832              		.loc 1 1049 7 is_stmt 1 view .LVU232
1049:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 833              		.loc 1 1049 26 is_stmt 0 view .LVU233
 834 005c 240C     		lsrs	r4, r4, #16
 835              	.LVL76:
1049:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 836              		.loc 1 1049 24 view .LVU234
 837 005e DC81     		strh	r4, [r3, #14]	@ unaligned
1050:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[0].state = MBXstate_idle;
 838              		.loc 1 1050 7 is_stmt 1 view .LVU235
1050:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[0].state = MBXstate_idle;
 839              		.loc 1 1050 32 is_stmt 0 view .LVU236
 840 0060 054B     		ldr	r3, .L38+8
 841              	.LVL77:
1050:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[0].state = MBXstate_idle;
 842              		.loc 1 1050 32 view .LVU237
 843 0062 03F80C10 		strb	r1, [r3, ip]
1051:Drivers/SOES/Src/esc_coe.c ****       ESCvar.xoe = 0;
 844              		.loc 1 1051 7 is_stmt 1 view .LVU238
1051:Drivers/SOES/Src/esc_coe.c ****       ESCvar.xoe = 0;
 845              		.loc 1 1051 27 is_stmt 0 view .LVU239
 846 0066 1A70     		strb	r2, [r3]
1052:Drivers/SOES/Src/esc_coe.c ****    }
 847              		.loc 1 1052 7 is_stmt 1 view .LVU240
1052:Drivers/SOES/Src/esc_coe.c ****    }
 848              		.loc 1 1052 18 is_stmt 0 view .LVU241
 849 0068 80F88A20 		strb	r2, [r0, #138]
 850              	.LVL78:
 851              	.L35:
1054:Drivers/SOES/Src/esc_coe.c **** 
 852              		.loc 1 1054 1 view .LVU242
 853 006c 38BD     		pop	{r3, r4, r5, pc}
 854              	.L39:
 855 006e 00BF     		.align	2
 856              	.L38:
 857 0070 00000000 		.word	ESCvar
 858 0074 00000000 		.word	MBX
 859 0078 00000000 		.word	MBXcontrol
 860              		.cfi_endproc
 861              	.LFE15:
 863              		.section	.text.SDO_getodlist,"ax",%progbits
 864              		.align	1
 865              		.syntax unified
 866              		.thumb
 867              		.thumb_func
 869              	SDO_getodlist:
 870              	.LFB16:
1062:Drivers/SOES/Src/esc_coe.c ****    uint16_t frags;
 871              		.loc 1 1062 1 is_stmt 1 view -0
 872              		.cfi_startproc
 873              		@ args = 0, pretend = 0, frame = 0
 874              		@ frame_needed = 0, uses_anonymous_args = 0
 875 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 876              		.cfi_def_cfa_offset 24
 877              		.cfi_offset 3, -24
ARM GAS  /tmp/ccFH4wf5.s 			page 47


 878              		.cfi_offset 4, -20
 879              		.cfi_offset 5, -16
 880              		.cfi_offset 6, -12
 881              		.cfi_offset 7, -8
 882              		.cfi_offset 14, -4
1063:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout = 0;
 883              		.loc 1 1063 4 view .LVU244
1064:Drivers/SOES/Src/esc_coe.c ****    uint16_t entries = 0;
 884              		.loc 1 1064 4 view .LVU245
 885              	.LVL79:
1065:Drivers/SOES/Src/esc_coe.c ****    uint16_t i, n;
 886              		.loc 1 1065 4 view .LVU246
1066:Drivers/SOES/Src/esc_coe.c ****    uint16_t *p;
 887              		.loc 1 1066 4 view .LVU247
1067:Drivers/SOES/Src/esc_coe.c ****    _COEobjdesc *coel, *coer;
 888              		.loc 1 1067 4 view .LVU248
1068:Drivers/SOES/Src/esc_coe.c **** 
 889              		.loc 1 1068 4 view .LVU249
1070:Drivers/SOES/Src/esc_coe.c ****    {
 890              		.loc 1 1070 4 view .LVU250
1065:Drivers/SOES/Src/esc_coe.c ****    uint16_t i, n;
 891              		.loc 1 1065 13 is_stmt 0 view .LVU251
 892 0002 0024     		movs	r4, #0
1070:Drivers/SOES/Src/esc_coe.c ****    {
 893              		.loc 1 1070 10 view .LVU252
 894 0004 01E0     		b	.L41
 895              	.LVL80:
 896              	.L42:
1072:Drivers/SOES/Src/esc_coe.c ****    }
 897              		.loc 1 1072 7 is_stmt 1 view .LVU253
1072:Drivers/SOES/Src/esc_coe.c ****    }
 898              		.loc 1 1072 14 is_stmt 0 view .LVU254
 899 0006 0134     		adds	r4, r4, #1
 900              	.LVL81:
1072:Drivers/SOES/Src/esc_coe.c ****    }
 901              		.loc 1 1072 14 view .LVU255
 902 0008 A4B2     		uxth	r4, r4
 903              	.LVL82:
 904              	.L41:
1070:Drivers/SOES/Src/esc_coe.c ****    {
 905              		.loc 1 1070 37 is_stmt 1 view .LVU256
1070:Drivers/SOES/Src/esc_coe.c ****    {
 906              		.loc 1 1070 30 is_stmt 0 view .LVU257
 907 000a C4EBC403 		rsb	r3, r4, r4, lsl #3
 908 000e 4F4A     		ldr	r2, .L53
 909 0010 32F81320 		ldrh	r2, [r2, r3, lsl #1]	@ unaligned
1070:Drivers/SOES/Src/esc_coe.c ****    {
 910              		.loc 1 1070 37 view .LVU258
 911 0014 4FF6FF73 		movw	r3, #65535
 912 0018 9A42     		cmp	r2, r3
 913 001a F4D1     		bne	.L42
1074:Drivers/SOES/Src/esc_coe.c ****    frags = ((entries << 1) + ODLISTSIZE - 1);
 914              		.loc 1 1074 4 is_stmt 1 view .LVU259
1074:Drivers/SOES/Src/esc_coe.c ****    frags = ((entries << 1) + ODLISTSIZE - 1);
 915              		.loc 1 1074 19 is_stmt 0 view .LVU260
 916 001c 4C4B     		ldr	r3, .L53+4
 917 001e A3F89440 		strh	r4, [r3, #148]	@ movhi
ARM GAS  /tmp/ccFH4wf5.s 			page 48


1075:Drivers/SOES/Src/esc_coe.c ****    frags /= ODLISTSIZE;
 918              		.loc 1 1075 4 is_stmt 1 view .LVU261
1075:Drivers/SOES/Src/esc_coe.c ****    frags /= ODLISTSIZE;
 919              		.loc 1 1075 22 is_stmt 0 view .LVU262
 920 0022 6100     		lsls	r1, r4, #1
 921 0024 89B2     		uxth	r1, r1
1075:Drivers/SOES/Src/esc_coe.c ****    frags /= ODLISTSIZE;
 922              		.loc 1 1075 30 view .LVU263
 923 0026 1B6F     		ldr	r3, [r3, #112]
 924 0028 5A88     		ldrh	r2, [r3, #2]
 925 002a 0E3A     		subs	r2, r2, #14
 926 002c 93B2     		uxth	r3, r2
 927 002e 23F00103 		bic	r3, r3, #1
1075:Drivers/SOES/Src/esc_coe.c ****    frags /= ODLISTSIZE;
 928              		.loc 1 1075 28 view .LVU264
 929 0032 0B44     		add	r3, r3, r1
 930 0034 9BB2     		uxth	r3, r3
1075:Drivers/SOES/Src/esc_coe.c ****    frags /= ODLISTSIZE;
 931              		.loc 1 1075 10 view .LVU265
 932 0036 013B     		subs	r3, r3, #1
 933 0038 9BB2     		uxth	r3, r3
 934              	.LVL83:
1076:Drivers/SOES/Src/esc_coe.c ****    coer = (_COEobjdesc *) &MBX[0];
 935              		.loc 1 1076 4 is_stmt 1 view .LVU266
1076:Drivers/SOES/Src/esc_coe.c ****    coer = (_COEobjdesc *) &MBX[0];
 936              		.loc 1 1076 13 is_stmt 0 view .LVU267
 937 003a 22F00102 		bic	r2, r2, #1
 938 003e 1204     		lsls	r2, r2, #16
 939 0040 120C     		lsrs	r2, r2, #16
1076:Drivers/SOES/Src/esc_coe.c ****    coer = (_COEobjdesc *) &MBX[0];
 940              		.loc 1 1076 10 view .LVU268
 941 0042 B3FBF2F5 		udiv	r5, r3, r2
 942              	.LVL84:
1077:Drivers/SOES/Src/esc_coe.c ****    /* check for unsupported opcodes */
 943              		.loc 1 1077 4 is_stmt 1 view .LVU269
1079:Drivers/SOES/Src/esc_coe.c ****    {
 944              		.loc 1 1079 4 view .LVU270
1079:Drivers/SOES/Src/esc_coe.c ****    {
 945              		.loc 1 1079 8 is_stmt 0 view .LVU271
 946 0046 434B     		ldr	r3, .L53+8
 947 0048 9B89     		ldrh	r3, [r3, #12]	@ unaligned
1079:Drivers/SOES/Src/esc_coe.c ****    {
 948              		.loc 1 1079 7 view .LVU272
 949 004a 012B     		cmp	r3, #1
 950 004c 03D9     		bls	.L43
1081:Drivers/SOES/Src/esc_coe.c ****    }
 951              		.loc 1 1081 7 is_stmt 1 view .LVU273
 952 004e 4248     		ldr	r0, .L53+12
 953 0050 FFF7FEFF 		bl	SDO_infoerror
 954              	.LVL85:
1087:Drivers/SOES/Src/esc_coe.c ****    {
 955              		.loc 1 1087 4 view .LVU274
 956              	.L40:
1150:Drivers/SOES/Src/esc_coe.c **** /** Function for continuing sending left overs from previous requested
 957              		.loc 1 1150 1 is_stmt 0 view .LVU275
 958 0054 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 959              	.LVL86:
ARM GAS  /tmp/ccFH4wf5.s 			page 49


 960              	.L43:
1085:Drivers/SOES/Src/esc_coe.c ****    }
 961              		.loc 1 1085 7 is_stmt 1 view .LVU276
1085:Drivers/SOES/Src/esc_coe.c ****    }
 962              		.loc 1 1085 16 is_stmt 0 view .LVU277
 963 0056 FFF7FEFF 		bl	ESC_claimbuffer
 964              	.LVL87:
1087:Drivers/SOES/Src/esc_coe.c ****    {
 965              		.loc 1 1087 4 is_stmt 1 view .LVU278
1087:Drivers/SOES/Src/esc_coe.c ****    {
 966              		.loc 1 1087 7 is_stmt 0 view .LVU279
 967 005a 8446     		mov	ip, r0
 968 005c 0028     		cmp	r0, #0
 969 005e F9D0     		beq	.L40
1089:Drivers/SOES/Src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 970              		.loc 1 1089 7 is_stmt 1 view .LVU280
1089:Drivers/SOES/Src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 971              		.loc 1 1089 44 is_stmt 0 view .LVU281
 972 0060 3B4B     		ldr	r3, .L53+4
 973 0062 986E     		ldr	r0, [r3, #104]
 974              	.LVL88:
1089:Drivers/SOES/Src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 975              		.loc 1 1089 42 view .LVU282
 976 0064 00FB0CF0 		mul	r0, r0, ip
1089:Drivers/SOES/Src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 977              		.loc 1 1089 12 view .LVU283
 978 0068 3A4E     		ldr	r6, .L53+8
 979 006a 8219     		adds	r2, r0, r6
 980              	.LVL89:
1090:Drivers/SOES/Src/esc_coe.c ****       coel->coeheader.numberservice =
 981              		.loc 1 1090 7 is_stmt 1 view .LVU284
1090:Drivers/SOES/Src/esc_coe.c ****       coel->coeheader.numberservice =
 982              		.loc 1 1090 31 is_stmt 0 view .LVU285
 983 006c 5379     		ldrb	r3, [r2, #5]	@ zero_extendqisi2
 984 006e 0321     		movs	r1, #3
 985 0070 61F30303 		bfi	r3, r1, #0, #4
 986 0074 5371     		strb	r3, [r2, #5]
1091:Drivers/SOES/Src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 987              		.loc 1 1091 7 is_stmt 1 view .LVU286
1091:Drivers/SOES/Src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 988              		.loc 1 1091 37 is_stmt 0 view .LVU287
 989 0076 0023     		movs	r3, #0
 990 0078 9371     		strb	r3, [r2, #6]
 991 007a 6FF07F03 		mvn	r3, #127
 992 007e D371     		strb	r3, [r2, #7]
1093:Drivers/SOES/Src/esc_coe.c ****       /* number of objects request */
 993              		.loc 1 1093 7 is_stmt 1 view .LVU288
1093:Drivers/SOES/Src/esc_coe.c ****       /* number of objects request */
 994              		.loc 1 1093 31 is_stmt 0 view .LVU289
 995 0080 137A     		ldrb	r3, [r2, #8]	@ zero_extendqisi2
 996 0082 0221     		movs	r1, #2
 997 0084 61F30603 		bfi	r3, r1, #0, #7
 998 0088 1372     		strb	r3, [r2, #8]
1095:Drivers/SOES/Src/esc_coe.c ****       {
 999              		.loc 1 1095 7 is_stmt 1 view .LVU290
1095:Drivers/SOES/Src/esc_coe.c ****       {
 1000              		.loc 1 1095 11 is_stmt 0 view .LVU291
ARM GAS  /tmp/ccFH4wf5.s 			page 50


 1001 008a B389     		ldrh	r3, [r6, #12]	@ unaligned
1095:Drivers/SOES/Src/esc_coe.c ****       {
 1002              		.loc 1 1095 10 view .LVU292
 1003 008c DBB9     		cbnz	r3, .L45
1097:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.incomplete = 0;
 1004              		.loc 1 1097 10 is_stmt 1 view .LVU293
1097:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.incomplete = 0;
 1005              		.loc 1 1097 22 is_stmt 0 view .LVU294
 1006 008e 1373     		strb	r3, [r2, #12]
 1007 0090 5373     		strb	r3, [r2, #13]
1098:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.reserved = 0x00;
 1008              		.loc 1 1098 10 is_stmt 1 view .LVU295
1098:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.reserved = 0x00;
 1009              		.loc 1 1098 38 is_stmt 0 view .LVU296
 1010 0092 117A     		ldrb	r1, [r2, #8]	@ zero_extendqisi2
 1011 0094 63F3C711 		bfi	r1, r3, #7, #1
 1012 0098 1172     		strb	r1, [r2, #8]
1099:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes ((uint16_t) 0);
 1013              		.loc 1 1099 10 is_stmt 1 view .LVU297
1099:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes ((uint16_t) 0);
 1014              		.loc 1 1099 36 is_stmt 0 view .LVU298
 1015 009a 5372     		strb	r3, [r2, #9]
1100:Drivers/SOES/Src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
 1016              		.loc 1 1100 10 is_stmt 1 view .LVU299
1100:Drivers/SOES/Src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
 1017              		.loc 1 1100 41 is_stmt 0 view .LVU300
 1018 009c 9372     		strb	r3, [r2, #10]
 1019 009e D372     		strb	r3, [r2, #11]
1101:Drivers/SOES/Src/esc_coe.c ****          ESCvar.xoe = 0;
 1020              		.loc 1 1101 10 is_stmt 1 view .LVU301
1101:Drivers/SOES/Src/esc_coe.c ****          ESCvar.xoe = 0;
 1021              		.loc 1 1101 30 is_stmt 0 view .LVU302
 1022 00a0 2E49     		ldr	r1, .L53+16
 1023 00a2 0B70     		strb	r3, [r1]
1102:Drivers/SOES/Src/esc_coe.c ****          ESCvar.frags = frags;
 1024              		.loc 1 1102 10 is_stmt 1 view .LVU303
1102:Drivers/SOES/Src/esc_coe.c ****          ESCvar.frags = frags;
 1025              		.loc 1 1102 21 is_stmt 0 view .LVU304
 1026 00a4 2A49     		ldr	r1, .L53+4
 1027 00a6 81F88A30 		strb	r3, [r1, #138]
1103:Drivers/SOES/Src/esc_coe.c ****          ESCvar.fragsleft = frags - 1;
 1028              		.loc 1 1103 10 is_stmt 1 view .LVU305
1103:Drivers/SOES/Src/esc_coe.c ****          ESCvar.fragsleft = frags - 1;
 1029              		.loc 1 1103 23 is_stmt 0 view .LVU306
 1030 00aa A1F89650 		strh	r5, [r1, #150]	@ movhi
1104:Drivers/SOES/Src/esc_coe.c ****          p = &(coel->datatype);
 1031              		.loc 1 1104 10 is_stmt 1 view .LVU307
1104:Drivers/SOES/Src/esc_coe.c ****          p = &(coel->datatype);
 1032              		.loc 1 1104 35 is_stmt 0 view .LVU308
 1033 00ae 05F1FF3E 		add	lr, r5, #-1
1104:Drivers/SOES/Src/esc_coe.c ****          p = &(coel->datatype);
 1034              		.loc 1 1104 27 view .LVU309
 1035 00b2 A1F898E0 		strh	lr, [r1, #152]	@ movhi
1105:Drivers/SOES/Src/esc_coe.c ****          *p = htoes (entries);
 1036              		.loc 1 1105 10 is_stmt 1 view .LVU310
 1037              	.LVL90:
1106:Drivers/SOES/Src/esc_coe.c ****          p++;
ARM GAS  /tmp/ccFH4wf5.s 			page 51


 1038              		.loc 1 1106 10 view .LVU311
1106:Drivers/SOES/Src/esc_coe.c ****          p++;
 1039              		.loc 1 1106 13 is_stmt 0 view .LVU312
 1040 00b6 D481     		strh	r4, [r2, #14]	@ movhi
1107:Drivers/SOES/Src/esc_coe.c ****          *p = 0;
 1041              		.loc 1 1107 10 is_stmt 1 view .LVU313
 1042              	.LVL91:
1108:Drivers/SOES/Src/esc_coe.c ****          p++;
 1043              		.loc 1 1108 10 view .LVU314
1108:Drivers/SOES/Src/esc_coe.c ****          p++;
 1044              		.loc 1 1108 13 is_stmt 0 view .LVU315
 1045 00b8 1382     		strh	r3, [r2, #16]	@ movhi
1109:Drivers/SOES/Src/esc_coe.c ****          *p = 0;
 1046              		.loc 1 1109 10 is_stmt 1 view .LVU316
 1047              	.LVL92:
1110:Drivers/SOES/Src/esc_coe.c ****          p++;
 1048              		.loc 1 1110 10 view .LVU317
1110:Drivers/SOES/Src/esc_coe.c ****          p++;
 1049              		.loc 1 1110 13 is_stmt 0 view .LVU318
 1050 00ba 5382     		strh	r3, [r2, #18]	@ movhi
1111:Drivers/SOES/Src/esc_coe.c ****          *p = 0;
 1051              		.loc 1 1111 10 is_stmt 1 view .LVU319
 1052              	.LVL93:
1112:Drivers/SOES/Src/esc_coe.c ****          p++;
 1053              		.loc 1 1112 10 view .LVU320
1112:Drivers/SOES/Src/esc_coe.c ****          p++;
 1054              		.loc 1 1112 13 is_stmt 0 view .LVU321
 1055 00bc 9382     		strh	r3, [r2, #20]	@ movhi
1113:Drivers/SOES/Src/esc_coe.c ****          *p = 0;
 1056              		.loc 1 1113 10 is_stmt 1 view .LVU322
 1057              	.LVL94:
1114:Drivers/SOES/Src/esc_coe.c ****          coel->mbxheader.length = htoes (0x08 + (5 << 1));
 1058              		.loc 1 1114 10 view .LVU323
1114:Drivers/SOES/Src/esc_coe.c ****          coel->mbxheader.length = htoes (0x08 + (5 << 1));
 1059              		.loc 1 1114 13 is_stmt 0 view .LVU324
 1060 00be D382     		strh	r3, [r2, #22]	@ movhi
1115:Drivers/SOES/Src/esc_coe.c ****       }
 1061              		.loc 1 1115 10 is_stmt 1 view .LVU325
1115:Drivers/SOES/Src/esc_coe.c ****       }
 1062              		.loc 1 1115 33 is_stmt 0 view .LVU326
 1063 00c0 1221     		movs	r1, #18
 1064 00c2 3154     		strb	r1, [r6, r0]
 1065 00c4 5370     		strb	r3, [r2, #1]
 1066              	.LVL95:
 1067              	.L45:
1118:Drivers/SOES/Src/esc_coe.c ****       {
 1068              		.loc 1 1118 7 is_stmt 1 view .LVU327
1118:Drivers/SOES/Src/esc_coe.c ****       {
 1069              		.loc 1 1118 11 is_stmt 0 view .LVU328
 1070 00c6 234B     		ldr	r3, .L53+8
 1071 00c8 9B89     		ldrh	r3, [r3, #12]	@ unaligned
1118:Drivers/SOES/Src/esc_coe.c ****       {
 1072              		.loc 1 1118 10 view .LVU329
 1073 00ca 012B     		cmp	r3, #1
 1074 00cc 04D0     		beq	.L52
 1075              	.LVL96:
 1076              	.L46:
ARM GAS  /tmp/ccFH4wf5.s 			page 52


1148:Drivers/SOES/Src/esc_coe.c ****    }
 1077              		.loc 1 1148 7 is_stmt 1 view .LVU330
1148:Drivers/SOES/Src/esc_coe.c ****    }
 1078              		.loc 1 1148 32 is_stmt 0 view .LVU331
 1079 00ce 234B     		ldr	r3, .L53+16
 1080 00d0 0322     		movs	r2, #3
 1081 00d2 03F80C20 		strb	r2, [r3, ip]
1150:Drivers/SOES/Src/esc_coe.c **** /** Function for continuing sending left overs from previous requested
 1082              		.loc 1 1150 1 view .LVU332
 1083 00d6 BDE7     		b	.L40
 1084              	.LVL97:
 1085              	.L52:
1120:Drivers/SOES/Src/esc_coe.c ****          {
 1086              		.loc 1 1120 10 is_stmt 1 view .LVU333
1120:Drivers/SOES/Src/esc_coe.c ****          {
 1087              		.loc 1 1120 13 is_stmt 0 view .LVU334
 1088 00d8 012D     		cmp	r5, #1
 1089 00da 1BD9     		bls	.L47
1122:Drivers/SOES/Src/esc_coe.c ****             ESCvar.xoe = MBXCOE + MBXODL;
 1090              		.loc 1 1122 13 is_stmt 1 view .LVU335
1122:Drivers/SOES/Src/esc_coe.c ****             ESCvar.xoe = MBXCOE + MBXODL;
 1091              		.loc 1 1122 41 is_stmt 0 view .LVU336
 1092 00dc 137A     		ldrb	r3, [r2, #8]	@ zero_extendqisi2
 1093 00de 43F08003 		orr	r3, r3, #128
 1094 00e2 1372     		strb	r3, [r2, #8]
1123:Drivers/SOES/Src/esc_coe.c ****             n = ODLISTSIZE >> 1;
 1095              		.loc 1 1123 13 is_stmt 1 view .LVU337
1123:Drivers/SOES/Src/esc_coe.c ****             n = ODLISTSIZE >> 1;
 1096              		.loc 1 1123 24 is_stmt 0 view .LVU338
 1097 00e4 1A4B     		ldr	r3, .L53+4
 1098 00e6 1321     		movs	r1, #19
 1099 00e8 83F88A10 		strb	r1, [r3, #138]
1124:Drivers/SOES/Src/esc_coe.c ****          }
 1100              		.loc 1 1124 13 is_stmt 1 view .LVU339
1124:Drivers/SOES/Src/esc_coe.c ****          }
 1101              		.loc 1 1124 17 is_stmt 0 view .LVU340
 1102 00ec 1B6F     		ldr	r3, [r3, #112]
 1103 00ee 5C88     		ldrh	r4, [r3, #2]
 1104              	.LVL98:
1124:Drivers/SOES/Src/esc_coe.c ****          }
 1105              		.loc 1 1124 17 view .LVU341
 1106 00f0 0E3C     		subs	r4, r4, #14
1124:Drivers/SOES/Src/esc_coe.c ****          }
 1107              		.loc 1 1124 15 view .LVU342
 1108 00f2 C4F34E04 		ubfx	r4, r4, #1, #15
 1109              	.LVL99:
 1110              	.L48:
1133:Drivers/SOES/Src/esc_coe.c ****          ESCvar.frags = frags;
 1111              		.loc 1 1133 10 is_stmt 1 view .LVU343
1133:Drivers/SOES/Src/esc_coe.c ****          ESCvar.frags = frags;
 1112              		.loc 1 1133 36 is_stmt 0 view .LVU344
 1113 00f6 0023     		movs	r3, #0
 1114 00f8 5372     		strb	r3, [r2, #9]
1134:Drivers/SOES/Src/esc_coe.c ****          ESCvar.fragsleft = frags - 1;
 1115              		.loc 1 1134 10 is_stmt 1 view .LVU345
1134:Drivers/SOES/Src/esc_coe.c ****          ESCvar.fragsleft = frags - 1;
 1116              		.loc 1 1134 23 is_stmt 0 view .LVU346
ARM GAS  /tmp/ccFH4wf5.s 			page 53


 1117 00fa 154F     		ldr	r7, .L53+4
 1118 00fc A7F89650 		strh	r5, [r7, #150]	@ movhi
1135:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (ESCvar.fragsleft);
 1119              		.loc 1 1135 10 is_stmt 1 view .LVU347
1135:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (ESCvar.fragsleft);
 1120              		.loc 1 1135 35 is_stmt 0 view .LVU348
 1121 0100 691E     		subs	r1, r5, #1
 1122 0102 89B2     		uxth	r1, r1
1135:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (ESCvar.fragsleft);
 1123              		.loc 1 1135 27 view .LVU349
 1124 0104 A7F89810 		strh	r1, [r7, #152]	@ movhi
1136:Drivers/SOES/Src/esc_coe.c ****          coel->index = htoes ((uint16_t) 0x01);
 1125              		.loc 1 1136 10 is_stmt 1 view .LVU350
1136:Drivers/SOES/Src/esc_coe.c ****          coel->index = htoes ((uint16_t) 0x01);
 1126              		.loc 1 1136 41 is_stmt 0 view .LVU351
 1127 0108 5181     		strh	r1, [r2, #10]	@ unaligned
1137:Drivers/SOES/Src/esc_coe.c **** 
 1128              		.loc 1 1137 10 is_stmt 1 view .LVU352
1137:Drivers/SOES/Src/esc_coe.c **** 
 1129              		.loc 1 1137 22 is_stmt 0 view .LVU353
 1130 010a 0121     		movs	r1, #1
 1131 010c 1173     		strb	r1, [r2, #12]
 1132 010e 5373     		strb	r3, [r2, #13]
1139:Drivers/SOES/Src/esc_coe.c ****          for (i = 0; i < n; i++)
 1133              		.loc 1 1139 10 is_stmt 1 view .LVU354
1139:Drivers/SOES/Src/esc_coe.c ****          for (i = 0; i < n; i++)
 1134              		.loc 1 1139 12 is_stmt 0 view .LVU355
 1135 0110 0E32     		adds	r2, r2, #14
 1136              	.LVL100:
1140:Drivers/SOES/Src/esc_coe.c ****          {
 1137              		.loc 1 1140 10 is_stmt 1 view .LVU356
1140:Drivers/SOES/Src/esc_coe.c ****          {
 1138              		.loc 1 1140 10 is_stmt 0 view .LVU357
 1139 0112 13E0     		b	.L49
 1140              	.LVL101:
 1141              	.L47:
1128:Drivers/SOES/Src/esc_coe.c ****             MBXcontrol[0].state = MBXstate_idle;
 1142              		.loc 1 1128 13 is_stmt 1 view .LVU358
1128:Drivers/SOES/Src/esc_coe.c ****             MBXcontrol[0].state = MBXstate_idle;
 1143              		.loc 1 1128 41 is_stmt 0 view .LVU359
 1144 0114 137A     		ldrb	r3, [r2, #8]	@ zero_extendqisi2
 1145 0116 6FF3C713 		bfc	r3, #7, #1
 1146 011a 1372     		strb	r3, [r2, #8]
1129:Drivers/SOES/Src/esc_coe.c ****             ESCvar.xoe = 0;
 1147              		.loc 1 1129 13 is_stmt 1 view .LVU360
1129:Drivers/SOES/Src/esc_coe.c ****             ESCvar.xoe = 0;
 1148              		.loc 1 1129 33 is_stmt 0 view .LVU361
 1149 011c 0023     		movs	r3, #0
 1150 011e 0F49     		ldr	r1, .L53+16
 1151 0120 0B70     		strb	r3, [r1]
1130:Drivers/SOES/Src/esc_coe.c ****             n = entries;
 1152              		.loc 1 1130 13 is_stmt 1 view .LVU362
1130:Drivers/SOES/Src/esc_coe.c ****             n = entries;
 1153              		.loc 1 1130 24 is_stmt 0 view .LVU363
 1154 0122 0B49     		ldr	r1, .L53+4
 1155 0124 81F88A30 		strb	r3, [r1, #138]
1131:Drivers/SOES/Src/esc_coe.c ****          }
ARM GAS  /tmp/ccFH4wf5.s 			page 54


 1156              		.loc 1 1131 13 is_stmt 1 view .LVU364
 1157              	.LVL102:
1131:Drivers/SOES/Src/esc_coe.c ****          }
 1158              		.loc 1 1131 13 is_stmt 0 view .LVU365
 1159 0128 E5E7     		b	.L48
 1160              	.LVL103:
 1161              	.L50:
1142:Drivers/SOES/Src/esc_coe.c ****             p++;
 1162              		.loc 1 1142 13 is_stmt 1 discriminator 3 view .LVU366
1142:Drivers/SOES/Src/esc_coe.c ****             p++;
 1163              		.loc 1 1142 18 is_stmt 0 discriminator 3 view .LVU367
 1164 012a C3EBC305 		rsb	r5, r3, r3, lsl #3
 1165 012e 0749     		ldr	r1, .L53
 1166 0130 31F81510 		ldrh	r1, [r1, r5, lsl #1]	@ unaligned
1142:Drivers/SOES/Src/esc_coe.c ****             p++;
 1167              		.loc 1 1142 16 discriminator 3 view .LVU368
 1168 0134 22F8021B 		strh	r1, [r2], #2	@ movhi
 1169              	.LVL104:
1143:Drivers/SOES/Src/esc_coe.c ****          }
 1170              		.loc 1 1143 13 is_stmt 1 discriminator 3 view .LVU369
1140:Drivers/SOES/Src/esc_coe.c ****          {
 1171              		.loc 1 1140 30 discriminator 3 view .LVU370
 1172 0138 0133     		adds	r3, r3, #1
 1173              	.LVL105:
1140:Drivers/SOES/Src/esc_coe.c ****          {
 1174              		.loc 1 1140 30 is_stmt 0 discriminator 3 view .LVU371
 1175 013a 9BB2     		uxth	r3, r3
 1176              	.LVL106:
 1177              	.L49:
1140:Drivers/SOES/Src/esc_coe.c ****          {
 1178              		.loc 1 1140 24 is_stmt 1 discriminator 1 view .LVU372
 1179 013c A342     		cmp	r3, r4
 1180 013e F4D3     		bcc	.L50
1146:Drivers/SOES/Src/esc_coe.c ****       }
 1181              		.loc 1 1146 10 view .LVU373
1146:Drivers/SOES/Src/esc_coe.c ****       }
 1182              		.loc 1 1146 35 is_stmt 0 view .LVU374
 1183 0140 6300     		lsls	r3, r4, #1
 1184              	.LVL107:
1146:Drivers/SOES/Src/esc_coe.c ****       }
 1185              		.loc 1 1146 35 view .LVU375
 1186 0142 9BB2     		uxth	r3, r3
 1187 0144 0833     		adds	r3, r3, #8
1146:Drivers/SOES/Src/esc_coe.c ****       }
 1188              		.loc 1 1146 33 view .LVU376
 1189 0146 3352     		strh	r3, [r6, r0]	@ unaligned
 1190 0148 C1E7     		b	.L46
 1191              	.L54:
 1192 014a 00BF     		.align	2
 1193              	.L53:
 1194 014c 00000000 		.word	SDOobjects
 1195 0150 00000000 		.word	ESCvar
 1196 0154 00000000 		.word	MBX
 1197 0158 00000106 		.word	100728832
 1198 015c 00000000 		.word	MBXcontrol
 1199              		.cfi_endproc
 1200              	.LFE16:
ARM GAS  /tmp/ccFH4wf5.s 			page 55


 1202              		.section	.text.SDO_abort,"ax",%progbits
 1203              		.align	1
 1204              		.syntax unified
 1205              		.thumb
 1206              		.thumb_func
 1208              	SDO_abort:
 1209              	.LVL108:
 1210              	.LFB4:
 245:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
 1211              		.loc 1 245 1 is_stmt 1 view -0
 1212              		.cfi_startproc
 1213              		@ args = 0, pretend = 0, frame = 0
 1214              		@ frame_needed = 0, uses_anonymous_args = 0
 245:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
 1215              		.loc 1 245 1 is_stmt 0 view .LVU378
 1216 0000 70B5     		push	{r4, r5, r6, lr}
 1217              		.cfi_def_cfa_offset 16
 1218              		.cfi_offset 4, -16
 1219              		.cfi_offset 5, -12
 1220              		.cfi_offset 6, -8
 1221              		.cfi_offset 14, -4
 1222 0002 0E46     		mov	r6, r1
 1223 0004 1546     		mov	r5, r2
 1224 0006 1C46     		mov	r4, r3
 246:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coeres;
 1225              		.loc 1 246 4 is_stmt 1 view .LVU379
 247:Drivers/SOES/Src/esc_coe.c ****    if (reusembx)
 1226              		.loc 1 247 4 view .LVU380
 248:Drivers/SOES/Src/esc_coe.c ****       MBXout = reusembx;
 1227              		.loc 1 248 4 view .LVU381
 248:Drivers/SOES/Src/esc_coe.c ****       MBXout = reusembx;
 1228              		.loc 1 248 7 is_stmt 0 view .LVU382
 1229 0008 0346     		mov	r3, r0
 1230              	.LVL109:
 248:Drivers/SOES/Src/esc_coe.c ****       MBXout = reusembx;
 1231              		.loc 1 248 7 view .LVU383
 1232 000a F8B1     		cbz	r0, .L59
 1233              	.LVL110:
 1234              	.L56:
 254:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1235              		.loc 1 254 7 is_stmt 1 view .LVU384
 254:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1236              		.loc 1 254 42 is_stmt 0 view .LVU385
 1237 000c 124A     		ldr	r2, .L60
 1238 000e 906E     		ldr	r0, [r2, #104]
 254:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1239              		.loc 1 254 40 view .LVU386
 1240 0010 00FB03FC 		mul	ip, r0, r3
 254:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1241              		.loc 1 254 14 view .LVU387
 1242 0014 114A     		ldr	r2, .L60+4
 1243 0016 0CEB0200 		add	r0, ip, r2
 1244              	.LVL111:
 255:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.mbxtype = MBXCOE;
 1245              		.loc 1 255 7 is_stmt 1 view .LVU388
 255:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.mbxtype = MBXCOE;
 1246              		.loc 1 255 32 is_stmt 0 view .LVU389
ARM GAS  /tmp/ccFH4wf5.s 			page 56


 1247 001a 0021     		movs	r1, #0
 1248 001c 4FF00A0E 		mov	lr, #10
 1249 0020 02F80CE0 		strb	lr, [r2, ip]
 1250 0024 4170     		strb	r1, [r0, #1]
 256:Drivers/SOES/Src/esc_coe.c ****       coeres->coeheader.numberservice =
 1251              		.loc 1 256 7 is_stmt 1 view .LVU390
 256:Drivers/SOES/Src/esc_coe.c ****       coeres->coeheader.numberservice =
 1252              		.loc 1 256 33 is_stmt 0 view .LVU391
 1253 0026 90F805C0 		ldrb	ip, [r0, #5]	@ zero_extendqisi2
 1254 002a 0322     		movs	r2, #3
 1255 002c 62F3030C 		bfi	ip, r2, #0, #4
 1256 0030 80F805C0 		strb	ip, [r0, #5]
 257:Drivers/SOES/Src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOREQUEST << 12));
 1257              		.loc 1 257 7 is_stmt 1 view .LVU392
 257:Drivers/SOES/Src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOREQUEST << 12));
 1258              		.loc 1 257 39 is_stmt 0 view .LVU393
 1259 0034 8171     		strb	r1, [r0, #6]
 1260 0036 2021     		movs	r1, #32
 1261 0038 C171     		strb	r1, [r0, #7]
 259:Drivers/SOES/Src/esc_coe.c ****       coeres->subindex = subindex;
 1262              		.loc 1 259 7 is_stmt 1 view .LVU394
 259:Drivers/SOES/Src/esc_coe.c ****       coeres->subindex = subindex;
 1263              		.loc 1 259 21 is_stmt 0 view .LVU395
 1264 003a A0F80960 		strh	r6, [r0, #9]	@ unaligned
 260:Drivers/SOES/Src/esc_coe.c ****       coeres->command = COE_COMMAND_SDOABORT;
 1265              		.loc 1 260 7 is_stmt 1 view .LVU396
 260:Drivers/SOES/Src/esc_coe.c ****       coeres->command = COE_COMMAND_SDOABORT;
 1266              		.loc 1 260 24 is_stmt 0 view .LVU397
 1267 003e C572     		strb	r5, [r0, #11]
 261:Drivers/SOES/Src/esc_coe.c ****       coeres->size = htoel (abortcode);
 1268              		.loc 1 261 7 is_stmt 1 view .LVU398
 261:Drivers/SOES/Src/esc_coe.c ****       coeres->size = htoel (abortcode);
 1269              		.loc 1 261 23 is_stmt 0 view .LVU399
 1270 0040 8021     		movs	r1, #128
 1271 0042 0172     		strb	r1, [r0, #8]
 262:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 1272              		.loc 1 262 7 is_stmt 1 view .LVU400
 262:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 1273              		.loc 1 262 20 is_stmt 0 view .LVU401
 1274 0044 C460     		str	r4, [r0, #12]	@ unaligned
 263:Drivers/SOES/Src/esc_coe.c ****    }
 1275              		.loc 1 263 7 is_stmt 1 view .LVU402
 263:Drivers/SOES/Src/esc_coe.c ****    }
 1276              		.loc 1 263 32 is_stmt 0 view .LVU403
 1277 0046 0649     		ldr	r1, .L60+8
 1278 0048 CA54     		strb	r2, [r1, r3]
 1279              	.LVL112:
 1280              	.L55:
 265:Drivers/SOES/Src/esc_coe.c **** 
 1281              		.loc 1 265 1 view .LVU404
 1282 004a 70BD     		pop	{r4, r5, r6, pc}
 1283              	.LVL113:
 1284              	.L59:
 251:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
 1285              		.loc 1 251 7 is_stmt 1 view .LVU405
 251:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
 1286              		.loc 1 251 16 is_stmt 0 view .LVU406
ARM GAS  /tmp/ccFH4wf5.s 			page 57


 1287 004c FFF7FEFF 		bl	ESC_claimbuffer
 1288              	.LVL114:
 252:Drivers/SOES/Src/esc_coe.c ****    {
 1289              		.loc 1 252 4 is_stmt 1 view .LVU407
 252:Drivers/SOES/Src/esc_coe.c ****    {
 1290              		.loc 1 252 7 is_stmt 0 view .LVU408
 1291 0050 0346     		mov	r3, r0
 1292 0052 0028     		cmp	r0, #0
 1293 0054 F9D0     		beq	.L55
 1294 0056 D9E7     		b	.L56
 1295              	.L61:
 1296              		.align	2
 1297              	.L60:
 1298 0058 00000000 		.word	ESCvar
 1299 005c 00000000 		.word	MBX
 1300 0060 00000000 		.word	MBXcontrol
 1301              		.cfi_endproc
 1302              	.LFE4:
 1304              		.section	.text.set_state_idle,"ax",%progbits
 1305              		.align	1
 1306              		.syntax unified
 1307              		.thumb
 1308              		.thumb_func
 1310              	set_state_idle:
 1311              	.LVL115:
 1312              	.LFB5:
 271:Drivers/SOES/Src/esc_coe.c ****    if (abortcode != 0)
 1313              		.loc 1 271 1 is_stmt 1 view -0
 1314              		.cfi_startproc
 1315              		@ args = 0, pretend = 0, frame = 0
 1316              		@ frame_needed = 0, uses_anonymous_args = 0
 271:Drivers/SOES/Src/esc_coe.c ****    if (abortcode != 0)
 1317              		.loc 1 271 1 is_stmt 0 view .LVU410
 1318 0000 08B5     		push	{r3, lr}
 1319              		.cfi_def_cfa_offset 8
 1320              		.cfi_offset 3, -8
 1321              		.cfi_offset 14, -4
 272:Drivers/SOES/Src/esc_coe.c ****    {
 1322              		.loc 1 272 4 is_stmt 1 view .LVU411
 272:Drivers/SOES/Src/esc_coe.c ****    {
 1323              		.loc 1 272 7 is_stmt 0 view .LVU412
 1324 0002 33B9     		cbnz	r3, .L65
 1325              	.LVL116:
 1326              	.L63:
 277:Drivers/SOES/Src/esc_coe.c ****    ESCvar.xoe = 0;
 1327              		.loc 1 277 4 is_stmt 1 view .LVU413
 277:Drivers/SOES/Src/esc_coe.c ****    ESCvar.xoe = 0;
 1328              		.loc 1 277 24 is_stmt 0 view .LVU414
 1329 0004 0023     		movs	r3, #0
 1330 0006 044A     		ldr	r2, .L66
 1331 0008 1370     		strb	r3, [r2]
 278:Drivers/SOES/Src/esc_coe.c **** }
 1332              		.loc 1 278 4 is_stmt 1 view .LVU415
 278:Drivers/SOES/Src/esc_coe.c **** }
 1333              		.loc 1 278 15 is_stmt 0 view .LVU416
 1334 000a 044A     		ldr	r2, .L66+4
 1335 000c 82F88A30 		strb	r3, [r2, #138]
ARM GAS  /tmp/ccFH4wf5.s 			page 58


 279:Drivers/SOES/Src/esc_coe.c **** 
 1336              		.loc 1 279 1 view .LVU417
 1337 0010 08BD     		pop	{r3, pc}
 1338              	.LVL117:
 1339              	.L65:
 274:Drivers/SOES/Src/esc_coe.c ****    }
 1340              		.loc 1 274 7 is_stmt 1 view .LVU418
 1341 0012 FFF7FEFF 		bl	SDO_abort
 1342              	.LVL118:
 274:Drivers/SOES/Src/esc_coe.c ****    }
 1343              		.loc 1 274 7 is_stmt 0 view .LVU419
 1344 0016 F5E7     		b	.L63
 1345              	.L67:
 1346              		.align	2
 1347              	.L66:
 1348 0018 00000000 		.word	MBXcontrol
 1349 001c 00000000 		.word	ESCvar
 1350              		.cfi_endproc
 1351              	.LFE5:
 1353              		.section	.text.copy2mbx,"ax",%progbits
 1354              		.align	1
 1355              		.syntax unified
 1356              		.thumb
 1357              		.thumb_func
 1359              	copy2mbx:
 1360              	.LVL119:
 1361              	.LFB3:
 233:Drivers/SOES/Src/esc_coe.c ****    memcpy (dest, source, size);
 1362              		.loc 1 233 1 is_stmt 1 view -0
 1363              		.cfi_startproc
 1364              		@ args = 0, pretend = 0, frame = 0
 1365              		@ frame_needed = 0, uses_anonymous_args = 0
 233:Drivers/SOES/Src/esc_coe.c ****    memcpy (dest, source, size);
 1366              		.loc 1 233 1 is_stmt 0 view .LVU421
 1367 0000 08B5     		push	{r3, lr}
 1368              		.cfi_def_cfa_offset 8
 1369              		.cfi_offset 3, -8
 1370              		.cfi_offset 14, -4
 1371 0002 0B46     		mov	r3, r1
 234:Drivers/SOES/Src/esc_coe.c **** }
 1372              		.loc 1 234 4 is_stmt 1 view .LVU422
 1373 0004 0146     		mov	r1, r0
 1374              	.LVL120:
 234:Drivers/SOES/Src/esc_coe.c **** }
 1375              		.loc 1 234 4 is_stmt 0 view .LVU423
 1376 0006 1846     		mov	r0, r3
 1377              	.LVL121:
 234:Drivers/SOES/Src/esc_coe.c **** }
 1378              		.loc 1 234 4 view .LVU424
 1379 0008 FFF7FEFF 		bl	memcpy
 1380              	.LVL122:
 235:Drivers/SOES/Src/esc_coe.c **** 
 1381              		.loc 1 235 1 view .LVU425
 1382 000c 08BD     		pop	{r3, pc}
 1383              		.cfi_endproc
 1384              	.LFE3:
 1386              		.section	.text.SDO_uploadsegment,"ax",%progbits
ARM GAS  /tmp/ccFH4wf5.s 			page 59


 1387              		.align	1
 1388              		.syntax unified
 1389              		.thumb
 1390              		.thumb_func
 1392              	SDO_uploadsegment:
 1393              	.LFB11:
 685:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coesdo, *coeres;
 1394              		.loc 1 685 1 is_stmt 1 view -0
 1395              		.cfi_startproc
 1396              		@ args = 0, pretend = 0, frame = 8
 1397              		@ frame_needed = 0, uses_anonymous_args = 0
 1398 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1399              		.cfi_def_cfa_offset 36
 1400              		.cfi_offset 4, -36
 1401              		.cfi_offset 5, -32
 1402              		.cfi_offset 6, -28
 1403              		.cfi_offset 7, -24
 1404              		.cfi_offset 8, -20
 1405              		.cfi_offset 9, -16
 1406              		.cfi_offset 10, -12
 1407              		.cfi_offset 11, -8
 1408              		.cfi_offset 14, -4
 1409 0004 85B0     		sub	sp, sp, #20
 1410              		.cfi_def_cfa_offset 56
 686:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
 1411              		.loc 1 686 4 view .LVU427
 687:Drivers/SOES/Src/esc_coe.c ****    uint32_t size, offset, abort;
 1412              		.loc 1 687 4 view .LVU428
 688:Drivers/SOES/Src/esc_coe.c ****    coesdo = (_COEsdo *) &MBX[0];
 1413              		.loc 1 688 4 view .LVU429
 689:Drivers/SOES/Src/esc_coe.c ****    MBXout = ESC_claimbuffer ();
 1414              		.loc 1 689 4 view .LVU430
 1415              	.LVL123:
 690:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
 1416              		.loc 1 690 4 view .LVU431
 690:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
 1417              		.loc 1 690 13 is_stmt 0 view .LVU432
 1418 0006 FFF7FEFF 		bl	ESC_claimbuffer
 1419              	.LVL124:
 691:Drivers/SOES/Src/esc_coe.c ****    {
 1420              		.loc 1 691 4 is_stmt 1 view .LVU433
 691:Drivers/SOES/Src/esc_coe.c ****    {
 1421              		.loc 1 691 7 is_stmt 0 view .LVU434
 1422 000a 40B9     		cbnz	r0, .L78
 1423              	.LVL125:
 1424              	.L71:
 742:Drivers/SOES/Src/esc_coe.c ****    ESCvar.xoe = 0;
 1425              		.loc 1 742 4 is_stmt 1 view .LVU435
 742:Drivers/SOES/Src/esc_coe.c ****    ESCvar.xoe = 0;
 1426              		.loc 1 742 24 is_stmt 0 view .LVU436
 1427 000c 0023     		movs	r3, #0
 1428 000e 3E4A     		ldr	r2, .L80
 1429 0010 1370     		strb	r3, [r2]
 743:Drivers/SOES/Src/esc_coe.c **** }
 1430              		.loc 1 743 4 is_stmt 1 view .LVU437
 743:Drivers/SOES/Src/esc_coe.c **** }
 1431              		.loc 1 743 15 is_stmt 0 view .LVU438
ARM GAS  /tmp/ccFH4wf5.s 			page 60


 1432 0012 3E4A     		ldr	r2, .L80+4
 1433 0014 82F88A30 		strb	r3, [r2, #138]
 1434              	.L70:
 744:Drivers/SOES/Src/esc_coe.c **** 
 1435              		.loc 1 744 1 view .LVU439
 1436 0018 05B0     		add	sp, sp, #20
 1437              		.cfi_remember_state
 1438              		.cfi_def_cfa_offset 36
 1439              		@ sp needed
 1440 001a BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1441              	.LVL126:
 1442              	.L78:
 1443              		.cfi_restore_state
 744:Drivers/SOES/Src/esc_coe.c **** 
 1444              		.loc 1 744 1 view .LVU440
 1445 001e 0646     		mov	r6, r0
 1446              	.LBB3:
 693:Drivers/SOES/Src/esc_coe.c ****       offset = ESCvar.fragsleft;
 1447              		.loc 1 693 7 is_stmt 1 view .LVU441
 693:Drivers/SOES/Src/esc_coe.c ****       offset = ESCvar.fragsleft;
 1448              		.loc 1 693 42 is_stmt 0 view .LVU442
 1449 0020 3A4F     		ldr	r7, .L80+4
 1450 0022 BB6E     		ldr	r3, [r7, #104]
 693:Drivers/SOES/Src/esc_coe.c ****       offset = ESCvar.fragsleft;
 1451              		.loc 1 693 40 view .LVU443
 1452 0024 03FB00F8 		mul	r8, r3, r0
 693:Drivers/SOES/Src/esc_coe.c ****       offset = ESCvar.fragsleft;
 1453              		.loc 1 693 14 view .LVU444
 1454 0028 394C     		ldr	r4, .L80+8
 1455 002a 08EB0409 		add	r9, r8, r4
 1456              	.LVL127:
 694:Drivers/SOES/Src/esc_coe.c ****       size = ESCvar.frags - ESCvar.fragsleft;
 1457              		.loc 1 694 7 is_stmt 1 view .LVU445
 694:Drivers/SOES/Src/esc_coe.c ****       size = ESCvar.frags - ESCvar.fragsleft;
 1458              		.loc 1 694 22 is_stmt 0 view .LVU446
 1459 002e B7F898A0 		ldrh	r10, [r7, #152]
 1460              	.LVL128:
 695:Drivers/SOES/Src/esc_coe.c ****       uint8_t command = COE_COMMAND_UPLOADSEGMENT +
 1461              		.loc 1 695 7 is_stmt 1 view .LVU447
 695:Drivers/SOES/Src/esc_coe.c ****       uint8_t command = COE_COMMAND_UPLOADSEGMENT +
 1462              		.loc 1 695 20 is_stmt 0 view .LVU448
 1463 0032 B7F896B0 		ldrh	fp, [r7, #150]
 695:Drivers/SOES/Src/esc_coe.c ****       uint8_t command = COE_COMMAND_UPLOADSEGMENT +
 1464              		.loc 1 695 27 view .LVU449
 1465 0036 ABEB0A05 		sub	r5, fp, r10
 695:Drivers/SOES/Src/esc_coe.c ****       uint8_t command = COE_COMMAND_UPLOADSEGMENT +
 1466              		.loc 1 695 12 view .LVU450
 1467 003a 0395     		str	r5, [sp, #12]
 1468              	.LVL129:
 696:Drivers/SOES/Src/esc_coe.c ****             (coesdo->command & COE_TOGGLEBIT);  /* copy toggle bit */
 1469              		.loc 1 696 7 is_stmt 1 view .LVU451
 697:Drivers/SOES/Src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE, command,
 1470              		.loc 1 697 20 is_stmt 0 view .LVU452
 1471 003c 227A     		ldrb	r2, [r4, #8]	@ zero_extendqisi2
 1472              	.LVL130:
 698:Drivers/SOES/Src/esc_coe.c ****             coesdo->index, coesdo->subindex);
 1473              		.loc 1 698 7 is_stmt 1 view .LVU453
ARM GAS  /tmp/ccFH4wf5.s 			page 61


 1474 003e E37A     		ldrb	r3, [r4, #11]	@ zero_extendqisi2
 1475 0040 0093     		str	r3, [sp]
 1476 0042 B4F80930 		ldrh	r3, [r4, #9]	@ unaligned
 1477 0046 02F01002 		and	r2, r2, #16
 1478              	.LVL131:
 698:Drivers/SOES/Src/esc_coe.c ****             coesdo->index, coesdo->subindex);
 1479              		.loc 1 698 7 is_stmt 0 view .LVU454
 1480 004a 0321     		movs	r1, #3
 1481 004c 4846     		mov	r0, r9
 1482              	.LVL132:
 698:Drivers/SOES/Src/esc_coe.c ****             coesdo->index, coesdo->subindex);
 1483              		.loc 1 698 7 view .LVU455
 1484 004e FFF7FEFF 		bl	init_coesdo
 1485              	.LVL133:
 700:Drivers/SOES/Src/esc_coe.c ****       {
 1486              		.loc 1 700 7 is_stmt 1 view .LVU456
 700:Drivers/SOES/Src/esc_coe.c ****       {
 1487              		.loc 1 700 17 is_stmt 0 view .LVU457
 1488 0052 E91C     		adds	r1, r5, #3
 700:Drivers/SOES/Src/esc_coe.c ****       {
 1489              		.loc 1 700 44 view .LVU458
 1490 0054 BB6E     		ldr	r3, [r7, #104]
 1491 0056 9A1F     		subs	r2, r3, #6
 700:Drivers/SOES/Src/esc_coe.c ****       {
 1492              		.loc 1 700 10 view .LVU459
 1493 0058 9142     		cmp	r1, r2
 1494 005a 1BD9     		bls	.L72
 704:Drivers/SOES/Src/esc_coe.c ****          /* number of bytes done */
 1495              		.loc 1 704 10 is_stmt 1 view .LVU460
 704:Drivers/SOES/Src/esc_coe.c ****          /* number of bytes done */
 1496              		.loc 1 704 15 is_stmt 0 view .LVU461
 1497 005c 093B     		subs	r3, r3, #9
 1498 005e 0393     		str	r3, [sp, #12]
 1499              	.LVL134:
 706:Drivers/SOES/Src/esc_coe.c ****          coeres->mbxheader.length = htoes (COE_SEGMENTHEADERSIZE + size);
 1500              		.loc 1 706 10 is_stmt 1 view .LVU462
 706:Drivers/SOES/Src/esc_coe.c ****          coeres->mbxheader.length = htoes (COE_SEGMENTHEADERSIZE + size);
 1501              		.loc 1 706 16 is_stmt 0 view .LVU463
 1502 0060 B7F89820 		ldrh	r2, [r7, #152]
 706:Drivers/SOES/Src/esc_coe.c ****          coeres->mbxheader.length = htoes (COE_SEGMENTHEADERSIZE + size);
 1503              		.loc 1 706 27 view .LVU464
 1504 0064 9BB2     		uxth	r3, r3
 1505              	.LVL135:
 706:Drivers/SOES/Src/esc_coe.c ****          coeres->mbxheader.length = htoes (COE_SEGMENTHEADERSIZE + size);
 1506              		.loc 1 706 27 view .LVU465
 1507 0066 1A44     		add	r2, r2, r3
 1508 0068 A7F89820 		strh	r2, [r7, #152]	@ movhi
 707:Drivers/SOES/Src/esc_coe.c ****       }
 1509              		.loc 1 707 10 is_stmt 1 view .LVU466
 707:Drivers/SOES/Src/esc_coe.c ****       }
 1510              		.loc 1 707 37 is_stmt 0 view .LVU467
 1511 006c 0333     		adds	r3, r3, #3
 707:Drivers/SOES/Src/esc_coe.c ****       }
 1512              		.loc 1 707 35 view .LVU468
 1513 006e 24F80830 		strh	r3, [r4, r8]	@ unaligned
 1514              	.L73:
 726:Drivers/SOES/Src/esc_coe.c ****             size);        /* copy to mailbox */
ARM GAS  /tmp/ccFH4wf5.s 			page 62


 1515              		.loc 1 726 7 is_stmt 1 view .LVU469
 726:Drivers/SOES/Src/esc_coe.c ****             size);        /* copy to mailbox */
 1516              		.loc 1 726 35 is_stmt 0 view .LVU470
 1517 0072 264C     		ldr	r4, .L80+4
 1518 0074 D4F89000 		ldr	r0, [r4, #144]
 726:Drivers/SOES/Src/esc_coe.c ****             size);        /* copy to mailbox */
 1519              		.loc 1 726 7 view .LVU471
 1520 0078 BDF80C20 		ldrh	r2, [sp, #12]
 1521 007c 09F10901 		add	r1, r9, #9
 1522 0080 5044     		add	r0, r0, r10
 1523 0082 FFF7FEFF 		bl	copy2mbx
 1524              	.LVL136:
 729:Drivers/SOES/Src/esc_coe.c ****       {
 1525              		.loc 1 729 7 is_stmt 1 view .LVU472
 729:Drivers/SOES/Src/esc_coe.c ****       {
 1526              		.loc 1 729 17 is_stmt 0 view .LVU473
 1527 0086 94F88D30 		ldrb	r3, [r4, #141]	@ zero_extendqisi2
 729:Drivers/SOES/Src/esc_coe.c ****       {
 1528              		.loc 1 729 10 view .LVU474
 1529 008a 4BB3     		cbz	r3, .L79
 1530              	.L75:
 740:Drivers/SOES/Src/esc_coe.c ****    }
 1531              		.loc 1 740 7 is_stmt 1 view .LVU475
 740:Drivers/SOES/Src/esc_coe.c ****    }
 1532              		.loc 1 740 32 is_stmt 0 view .LVU476
 1533 008c 1E4B     		ldr	r3, .L80
 1534 008e 0322     		movs	r2, #3
 1535 0090 9A55     		strb	r2, [r3, r6]
 1536 0092 BBE7     		b	.L71
 1537              	.LVL137:
 1538              	.L72:
 712:Drivers/SOES/Src/esc_coe.c ****          ESCvar.frags = 0;
 1539              		.loc 1 712 10 is_stmt 1 view .LVU477
 712:Drivers/SOES/Src/esc_coe.c ****          ESCvar.frags = 0;
 1540              		.loc 1 712 27 is_stmt 0 view .LVU478
 1541 0094 1D4B     		ldr	r3, .L80+4
 1542 0096 0022     		movs	r2, #0
 1543 0098 83F88D20 		strb	r2, [r3, #141]
 713:Drivers/SOES/Src/esc_coe.c ****          ESCvar.fragsleft = 0;
 1544              		.loc 1 713 10 is_stmt 1 view .LVU479
 713:Drivers/SOES/Src/esc_coe.c ****          ESCvar.fragsleft = 0;
 1545              		.loc 1 713 23 is_stmt 0 view .LVU480
 1546 009c A3F89620 		strh	r2, [r3, #150]	@ movhi
 714:Drivers/SOES/Src/esc_coe.c ****          coeres->command += COE_COMMAND_LASTSEGMENTBIT;
 1547              		.loc 1 714 10 is_stmt 1 view .LVU481
 714:Drivers/SOES/Src/esc_coe.c ****          coeres->command += COE_COMMAND_LASTSEGMENTBIT;
 1548              		.loc 1 714 27 is_stmt 0 view .LVU482
 1549 00a0 A3F89820 		strh	r2, [r3, #152]	@ movhi
 715:Drivers/SOES/Src/esc_coe.c ****          if (size >= 7)
 1550              		.loc 1 715 10 is_stmt 1 view .LVU483
 715:Drivers/SOES/Src/esc_coe.c ****          if (size >= 7)
 1551              		.loc 1 715 16 is_stmt 0 view .LVU484
 1552 00a4 99F80820 		ldrb	r2, [r9, #8]	@ zero_extendqisi2
 715:Drivers/SOES/Src/esc_coe.c ****          if (size >= 7)
 1553              		.loc 1 715 26 view .LVU485
 1554 00a8 0132     		adds	r2, r2, #1
 1555 00aa D2B2     		uxtb	r2, r2
ARM GAS  /tmp/ccFH4wf5.s 			page 63


 1556 00ac 89F80820 		strb	r2, [r9, #8]
 716:Drivers/SOES/Src/esc_coe.c ****          {
 1557              		.loc 1 716 10 is_stmt 1 view .LVU486
 716:Drivers/SOES/Src/esc_coe.c ****          {
 1558              		.loc 1 716 13 is_stmt 0 view .LVU487
 1559 00b0 062D     		cmp	r5, #6
 1560 00b2 06D9     		bls	.L74
 718:Drivers/SOES/Src/esc_coe.c ****          }
 1561              		.loc 1 718 13 is_stmt 1 view .LVU488
 718:Drivers/SOES/Src/esc_coe.c ****          }
 1562              		.loc 1 718 40 is_stmt 0 view .LVU489
 1563 00b4 ABEB0A0B 		sub	fp, fp, r10
 1564 00b8 0BF1030B 		add	fp, fp, #3
 718:Drivers/SOES/Src/esc_coe.c ****          }
 1565              		.loc 1 718 38 view .LVU490
 1566 00bc 24F808B0 		strh	fp, [r4, r8]	@ unaligned
 1567 00c0 D7E7     		b	.L73
 1568              	.L74:
 722:Drivers/SOES/Src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1569              		.loc 1 722 13 is_stmt 1 view .LVU491
 722:Drivers/SOES/Src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1570              		.loc 1 722 35 is_stmt 0 view .LVU492
 1571 00c2 C5F10703 		rsb	r3, r5, #7
 1572 00c6 DBB2     		uxtb	r3, r3
 722:Drivers/SOES/Src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1573              		.loc 1 722 43 view .LVU493
 1574 00c8 5B00     		lsls	r3, r3, #1
 1575 00ca DBB2     		uxtb	r3, r3
 722:Drivers/SOES/Src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1576              		.loc 1 722 29 view .LVU494
 1577 00cc 1A44     		add	r2, r2, r3
 1578 00ce 89F80820 		strb	r2, [r9, #8]
 723:Drivers/SOES/Src/esc_coe.c ****          }
 1579              		.loc 1 723 13 is_stmt 1 view .LVU495
 723:Drivers/SOES/Src/esc_coe.c ****          }
 1580              		.loc 1 723 38 is_stmt 0 view .LVU496
 1581 00d2 0A23     		movs	r3, #10
 1582 00d4 04F80830 		strb	r3, [r4, r8]
 1583 00d8 0023     		movs	r3, #0
 1584 00da 89F80130 		strb	r3, [r9, #1]
 1585 00de C8E7     		b	.L73
 1586              	.LVL138:
 1587              	.L79:
 731:Drivers/SOES/Src/esc_coe.c ****                coesdo->subindex, ESCvar.flags);
 1588              		.loc 1 731 10 is_stmt 1 view .LVU497
 731:Drivers/SOES/Src/esc_coe.c ****                coesdo->subindex, ESCvar.flags);
 1589              		.loc 1 731 18 is_stmt 0 view .LVU498
 1590 00e0 0B4B     		ldr	r3, .L80+8
 1591 00e2 B4F89E20 		ldrh	r2, [r4, #158]
 1592 00e6 D97A     		ldrb	r1, [r3, #11]	@ zero_extendqisi2
 1593 00e8 B3F80900 		ldrh	r0, [r3, #9]	@ unaligned
 1594 00ec FFF7FEFF 		bl	ESC_upload_post_objecthandler
 1595              	.LVL139:
 733:Drivers/SOES/Src/esc_coe.c ****          {
 1596              		.loc 1 733 10 is_stmt 1 view .LVU499
 733:Drivers/SOES/Src/esc_coe.c ****          {
 1597              		.loc 1 733 13 is_stmt 0 view .LVU500
ARM GAS  /tmp/ccFH4wf5.s 			page 64


 1598 00f0 0346     		mov	r3, r0
 1599 00f2 0028     		cmp	r0, #0
 1600 00f4 CAD0     		beq	.L75
 735:Drivers/SOES/Src/esc_coe.c ****             return;
 1601              		.loc 1 735 13 is_stmt 1 view .LVU501
 1602 00f6 0649     		ldr	r1, .L80+8
 1603 00f8 CA7A     		ldrb	r2, [r1, #11]	@ zero_extendqisi2
 1604 00fa B1F80910 		ldrh	r1, [r1, #9]	@ unaligned
 1605 00fe 3046     		mov	r0, r6
 1606              	.LVL140:
 735:Drivers/SOES/Src/esc_coe.c ****             return;
 1607              		.loc 1 735 13 is_stmt 0 view .LVU502
 1608 0100 FFF7FEFF 		bl	set_state_idle
 1609              	.LVL141:
 736:Drivers/SOES/Src/esc_coe.c ****          }
 1610              		.loc 1 736 13 is_stmt 1 view .LVU503
 1611 0104 88E7     		b	.L70
 1612              	.L81:
 1613 0106 00BF     		.align	2
 1614              	.L80:
 1615 0108 00000000 		.word	MBXcontrol
 1616 010c 00000000 		.word	ESCvar
 1617 0110 00000000 		.word	MBX
 1618              	.LBE3:
 1619              		.cfi_endproc
 1620              	.LFE11:
 1622              		.section	.text.complete_access_subindex_loop,"ax",%progbits
 1623              		.align	1
 1624              		.syntax unified
 1625              		.thumb
 1626              		.thumb_func
 1628              	complete_access_subindex_loop:
 1629              	.LVL142:
 1630              	.LFB8:
 466:Drivers/SOES/Src/esc_coe.c ****    /* Objects with dynamic entries cannot be accessed with Complete Access */
 1631              		.loc 1 466 1 view -0
 1632              		.cfi_startproc
 1633              		@ args = 8, pretend = 0, frame = 0
 1634              		@ frame_needed = 0, uses_anonymous_args = 0
 466:Drivers/SOES/Src/esc_coe.c ****    /* Objects with dynamic entries cannot be accessed with Complete Access */
 1635              		.loc 1 466 1 is_stmt 0 view .LVU505
 1636 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1637              		.cfi_def_cfa_offset 40
 1638              		.cfi_offset 3, -40
 1639              		.cfi_offset 4, -36
 1640              		.cfi_offset 5, -32
 1641              		.cfi_offset 6, -28
 1642              		.cfi_offset 7, -24
 1643              		.cfi_offset 8, -20
 1644              		.cfi_offset 9, -16
 1645              		.cfi_offset 10, -12
 1646              		.cfi_offset 11, -8
 1647              		.cfi_offset 14, -4
 1648 0004 9846     		mov	r8, r3
 1649 0006 9DF828B0 		ldrb	fp, [sp, #40]	@ zero_extendqisi2
 1650 000a BDF82C90 		ldrh	r9, [sp, #44]
 468:Drivers/SOES/Src/esc_coe.c ****        (objd->datatype == DTYPE_OCTET_STRING)   ||
ARM GAS  /tmp/ccFH4wf5.s 			page 65


 1651              		.loc 1 468 4 is_stmt 1 view .LVU506
 468:Drivers/SOES/Src/esc_coe.c ****        (objd->datatype == DTYPE_OCTET_STRING)   ||
 1652              		.loc 1 468 13 is_stmt 0 view .LVU507
 1653 000e 4388     		ldrh	r3, [r0, #2]	@ unaligned
 1654              	.LVL143:
 469:Drivers/SOES/Src/esc_coe.c ****        (objd->datatype == DTYPE_UNICODE_STRING))
 1655              		.loc 1 469 49 view .LVU508
 1656 0010 093B     		subs	r3, r3, #9
 1657 0012 9BB2     		uxth	r3, r3
 468:Drivers/SOES/Src/esc_coe.c ****        (objd->datatype == DTYPE_OCTET_STRING)   ||
 1658              		.loc 1 468 7 view .LVU509
 1659 0014 022B     		cmp	r3, #2
 1660 0016 40F2B180 		bls	.L104
 1661 001a 8246     		mov	r10, r0
 1662 001c 0F46     		mov	r7, r1
 1663 001e 1446     		mov	r4, r2
 475:Drivers/SOES/Src/esc_coe.c **** 
 1664              		.loc 1 475 13 view .LVU510
 1665 0020 0026     		movs	r6, #0
 1666 0022 52E0     		b	.L84
 1667              	.LVL144:
 1668              	.L108:
 1669              	.LBB4:
 481:Drivers/SOES/Src/esc_coe.c ****       uint8_t bitoffset = size % 8;
 1670              		.loc 1 481 33 discriminator 2 view .LVU511
 1671 0024 03F10C01 		add	r1, r3, #12
 1672 0028 60E0     		b	.L85
 1673              	.LVL145:
 1674              	.L91:
 500:Drivers/SOES/Src/esc_coe.c ****                         BITS2BYTES(bitlen));
 1675              		.loc 1 500 19 is_stmt 1 view .LVU512
 500:Drivers/SOES/Src/esc_coe.c ****                         BITS2BYTES(bitlen));
 1676              		.loc 1 500 35 is_stmt 0 view .LVU513
 1677 002a F01D     		adds	r0, r6, #7
 501:Drivers/SOES/Src/esc_coe.c ****                }
 1678              		.loc 1 501 25 view .LVU514
 1679 002c EA1D     		adds	r2, r5, #7
 1680              	.LVL146:
 500:Drivers/SOES/Src/esc_coe.c ****                         BITS2BYTES(bitlen));
 1681              		.loc 1 500 19 view .LVU515
 1682 002e D210     		asrs	r2, r2, #3
 1683 0030 08EBD000 		add	r0, r8, r0, lsr #3
 1684 0034 FFF7FEFF 		bl	memcpy
 1685              	.LVL147:
 500:Drivers/SOES/Src/esc_coe.c ****                         BITS2BYTES(bitlen));
 1686              		.loc 1 500 19 view .LVU516
 1687 0038 3BE0     		b	.L88
 1688              	.LVL148:
 1689              	.L89:
 510:Drivers/SOES/Src/esc_coe.c ****             {
 1690              		.loc 1 510 18 is_stmt 1 view .LVU517
 510:Drivers/SOES/Src/esc_coe.c ****             {
 1691              		.loc 1 510 21 is_stmt 0 view .LVU518
 1692 003a 13F0080F 		tst	r3, #8
 1693 003e 01D0     		beq	.L94
 510:Drivers/SOES/Src/esc_coe.c ****             {
 1694              		.loc 1 510 22 discriminator 1 view .LVU519
ARM GAS  /tmp/ccFH4wf5.s 			page 66


 1695 0040 022A     		cmp	r2, #2
 1696 0042 09D0     		beq	.L95
 1697              	.L94:
 510:Drivers/SOES/Src/esc_coe.c ****             {
 1698              		.loc 1 510 22 discriminator 3 view .LVU520
 1699 0044 13F0100F 		tst	r3, #16
 1700 0048 01D0     		beq	.L96
 510:Drivers/SOES/Src/esc_coe.c ****             {
 1701              		.loc 1 510 22 discriminator 4 view .LVU521
 1702 004a 042A     		cmp	r2, #4
 1703 004c 04D0     		beq	.L95
 1704              	.L96:
 510:Drivers/SOES/Src/esc_coe.c ****             {
 1705              		.loc 1 510 22 discriminator 6 view .LVU522
 1706 004e 13F0200F 		tst	r3, #32
 1707 0052 2ED0     		beq	.L88
 510:Drivers/SOES/Src/esc_coe.c ****             {
 1708              		.loc 1 510 22 discriminator 7 view .LVU523
 1709 0054 082A     		cmp	r2, #8
 1710 0056 2CD1     		bne	.L88
 1711              	.L95:
 512:Drivers/SOES/Src/esc_coe.c ****                      BITS2BYTES(bitlen));
 1712              		.loc 1 512 16 is_stmt 1 view .LVU524
 512:Drivers/SOES/Src/esc_coe.c ****                      BITS2BYTES(bitlen));
 1713              		.loc 1 512 53 is_stmt 0 view .LVU525
 1714 0058 F11D     		adds	r1, r6, #7
 1715              	.LVL149:
 513:Drivers/SOES/Src/esc_coe.c ****             }
 1716              		.loc 1 513 22 view .LVU526
 1717 005a EA1D     		adds	r2, r5, #7
 1718              	.LVL150:
 512:Drivers/SOES/Src/esc_coe.c ****                      BITS2BYTES(bitlen));
 1719              		.loc 1 512 16 view .LVU527
 1720 005c D210     		asrs	r2, r2, #3
 1721 005e 08EBD101 		add	r1, r8, r1, lsr #3
 1722 0062 FFF7FEFF 		bl	memcpy
 1723              	.LVL151:
 512:Drivers/SOES/Src/esc_coe.c ****                      BITS2BYTES(bitlen));
 1724              		.loc 1 512 16 view .LVU528
 1725 0066 24E0     		b	.L88
 1726              	.LVL152:
 1727              	.L86:
 517:Drivers/SOES/Src/esc_coe.c ****       {
 1728              		.loc 1 517 12 is_stmt 1 view .LVU529
 517:Drivers/SOES/Src/esc_coe.c ****       {
 1729              		.loc 1 517 15 is_stmt 0 view .LVU530
 1730 0068 BBF1000F 		cmp	fp, #0
 1731 006c 21D1     		bne	.L88
 517:Drivers/SOES/Src/esc_coe.c ****       {
 1732              		.loc 1 517 38 discriminator 1 view .LVU531
 1733 006e B8F1000F 		cmp	r8, #0
 1734 0072 1ED0     		beq	.L88
 1735              	.LBB5:
 520:Drivers/SOES/Src/esc_coe.c ****          if (READ_ACCESS(access, state))
 1736              		.loc 1 520 10 is_stmt 1 view .LVU532
 520:Drivers/SOES/Src/esc_coe.c ****          if (READ_ACCESS(access, state))
 1737              		.loc 1 520 31 is_stmt 0 view .LVU533
ARM GAS  /tmp/ccFH4wf5.s 			page 67


 1738 0074 0120     		movs	r0, #1
 1739 0076 A840     		lsls	r0, r0, r5
 520:Drivers/SOES/Src/esc_coe.c ****          if (READ_ACCESS(access, state))
 1740              		.loc 1 520 42 view .LVU534
 1741 0078 C0B2     		uxtb	r0, r0
 520:Drivers/SOES/Src/esc_coe.c ****          if (READ_ACCESS(access, state))
 1742              		.loc 1 520 18 view .LVU535
 1743 007a 0138     		subs	r0, r0, #1
 1744 007c C0B2     		uxtb	r0, r0
 1745              	.LVL153:
 521:Drivers/SOES/Src/esc_coe.c ****          {
 1746              		.loc 1 521 10 is_stmt 1 view .LVU536
 521:Drivers/SOES/Src/esc_coe.c ****          {
 1747              		.loc 1 521 13 is_stmt 0 view .LVU537
 1748 007e 13F0010F 		tst	r3, #1
 1749 0082 01D0     		beq	.L97
 521:Drivers/SOES/Src/esc_coe.c ****          {
 1750              		.loc 1 521 14 discriminator 1 view .LVU538
 1751 0084 022A     		cmp	r2, #2
 1752 0086 64D0     		beq	.L98
 1753              	.L97:
 521:Drivers/SOES/Src/esc_coe.c ****          {
 1754              		.loc 1 521 14 discriminator 3 view .LVU539
 1755 0088 13F0020F 		tst	r3, #2
 1756 008c 01D0     		beq	.L99
 521:Drivers/SOES/Src/esc_coe.c ****          {
 1757              		.loc 1 521 14 discriminator 4 view .LVU540
 1758 008e 042A     		cmp	r2, #4
 1759 0090 5FD0     		beq	.L98
 1760              	.L99:
 521:Drivers/SOES/Src/esc_coe.c ****          {
 1761              		.loc 1 521 14 discriminator 6 view .LVU541
 1762 0092 13F0040F 		tst	r3, #4
 1763 0096 01D0     		beq	.L100
 521:Drivers/SOES/Src/esc_coe.c ****          {
 1764              		.loc 1 521 14 discriminator 7 view .LVU542
 1765 0098 082A     		cmp	r2, #8
 1766 009a 5AD0     		beq	.L98
 1767              	.L100:
 532:Drivers/SOES/Src/esc_coe.c ****          }
 1768              		.loc 1 532 13 is_stmt 1 view .LVU543
 532:Drivers/SOES/Src/esc_coe.c ****          }
 1769              		.loc 1 532 20 is_stmt 0 view .LVU544
 1770 009c F31D     		adds	r3, r6, #7
 1771              	.LVL154:
 532:Drivers/SOES/Src/esc_coe.c ****          }
 1772              		.loc 1 532 20 view .LVU545
 1773 009e DB08     		lsrs	r3, r3, #3
 1774 00a0 18F80320 		ldrb	r2, [r8, r3]	@ zero_extendqisi2
 1775              	.LVL155:
 532:Drivers/SOES/Src/esc_coe.c ****          }
 1776              		.loc 1 532 52 view .LVU546
 1777 00a4 00FA0CF0 		lsl	r0, r0, ip
 1778              	.LVL156:
 532:Drivers/SOES/Src/esc_coe.c ****          }
 1779              		.loc 1 532 39 view .LVU547
 1780 00a8 C043     		mvns	r0, r0
ARM GAS  /tmp/ccFH4wf5.s 			page 68


 1781 00aa 40B2     		sxtb	r0, r0
 1782 00ac 0240     		ands	r2, r2, r0
 1783 00ae 08F80320 		strb	r2, [r8, r3]
 1784              	.LVL157:
 1785              	.L88:
 532:Drivers/SOES/Src/esc_coe.c ****          }
 1786              		.loc 1 532 39 view .LVU548
 1787              	.LBE5:
 537:Drivers/SOES/Src/esc_coe.c ****       nsub++;
 1788              		.loc 1 537 7 is_stmt 1 view .LVU549
 537:Drivers/SOES/Src/esc_coe.c ****       nsub++;
 1789              		.loc 1 537 32 is_stmt 0 view .LVU550
 1790 00b2 04B9     		cbnz	r4, .L102
 537:Drivers/SOES/Src/esc_coe.c ****       nsub++;
 1791              		.loc 1 537 32 view .LVU551
 1792 00b4 1025     		movs	r5, #16
 1793              	.L102:
 537:Drivers/SOES/Src/esc_coe.c ****       nsub++;
 1794              		.loc 1 537 12 discriminator 4 view .LVU552
 1795 00b6 2E44     		add	r6, r6, r5
 1796              	.LVL158:
 538:Drivers/SOES/Src/esc_coe.c **** 
 1797              		.loc 1 538 7 is_stmt 1 discriminator 4 view .LVU553
 538:Drivers/SOES/Src/esc_coe.c **** 
 1798              		.loc 1 538 11 is_stmt 0 discriminator 4 view .LVU554
 1799 00b8 0134     		adds	r4, r4, #1
 1800              	.LVL159:
 538:Drivers/SOES/Src/esc_coe.c **** 
 1801              		.loc 1 538 11 discriminator 4 view .LVU555
 1802 00ba 24B2     		sxth	r4, r4
 1803              	.LVL160:
 540:Drivers/SOES/Src/esc_coe.c ****       {
 1804              		.loc 1 540 7 is_stmt 1 discriminator 4 view .LVU556
 540:Drivers/SOES/Src/esc_coe.c ****       {
 1805              		.loc 1 540 10 is_stmt 0 discriminator 4 view .LVU557
 1806 00bc B9F1000F 		cmp	r9, #0
 1807 00c0 03D0     		beq	.L84
 540:Drivers/SOES/Src/esc_coe.c ****       {
 1808              		.loc 1 540 31 discriminator 1 view .LVU558
 1809 00c2 F31D     		adds	r3, r6, #7
 540:Drivers/SOES/Src/esc_coe.c ****       {
 1810              		.loc 1 540 27 discriminator 1 view .LVU559
 1811 00c4 B9EBD30F 		cmp	r9, r3, lsr #3
 1812 00c8 59D9     		bls	.L82
 1813              	.LVL161:
 1814              	.L84:
 540:Drivers/SOES/Src/esc_coe.c ****       {
 1815              		.loc 1 540 27 discriminator 1 view .LVU560
 1816              	.LBE4:
 477:Drivers/SOES/Src/esc_coe.c ****    {
 1817              		.loc 1 477 16 is_stmt 1 view .LVU561
 477:Drivers/SOES/Src/esc_coe.c ****    {
 1818              		.loc 1 477 35 is_stmt 0 view .LVU562
 1819 00ca C7EBC702 		rsb	r2, r7, r7, lsl #3
 1820 00ce 2D4B     		ldr	r3, .L109
 1821 00d0 03EB4203 		add	r3, r3, r2, lsl #1
 1822 00d4 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
ARM GAS  /tmp/ccFH4wf5.s 			page 69


 477:Drivers/SOES/Src/esc_coe.c ****    {
 1823              		.loc 1 477 16 view .LVU563
 1824 00d6 9C42     		cmp	r4, r3
 1825 00d8 51DC     		bgt	.L82
 1826              	.LBB7:
 479:Drivers/SOES/Src/esc_coe.c ****       void *ul_source = ((objd + nsub)->data != NULL) ?
 1827              		.loc 1 479 7 is_stmt 1 view .LVU564
 479:Drivers/SOES/Src/esc_coe.c ****       void *ul_source = ((objd + nsub)->data != NULL) ?
 1828              		.loc 1 479 31 is_stmt 0 view .LVU565
 1829 00da 04EB8403 		add	r3, r4, r4, lsl #2
 1830 00de 0AEB8303 		add	r3, r10, r3, lsl #2
 479:Drivers/SOES/Src/esc_coe.c ****       void *ul_source = ((objd + nsub)->data != NULL) ?
 1831              		.loc 1 479 16 view .LVU566
 1832 00e2 9D88     		ldrh	r5, [r3, #4]	@ unaligned
 1833              	.LVL162:
 480:Drivers/SOES/Src/esc_coe.c ****             (objd + nsub)->data : (void *)&((objd + nsub)->value);
 1834              		.loc 1 480 7 is_stmt 1 view .LVU567
 480:Drivers/SOES/Src/esc_coe.c ****             (objd + nsub)->data : (void *)&((objd + nsub)->value);
 1835              		.loc 1 480 39 is_stmt 0 view .LVU568
 1836 00e4 1869     		ldr	r0, [r3, #16]	@ unaligned
 481:Drivers/SOES/Src/esc_coe.c ****       uint8_t bitoffset = size % 8;
 1837              		.loc 1 481 33 view .LVU569
 1838 00e6 0028     		cmp	r0, #0
 1839 00e8 9CD0     		beq	.L108
 1840 00ea 0146     		mov	r1, r0
 1841              	.L85:
 1842              	.LVL163:
 482:Drivers/SOES/Src/esc_coe.c ****       uint8_t access = (objd + nsub)->flags & 0x3f;
 1843              		.loc 1 482 7 is_stmt 1 view .LVU570
 482:Drivers/SOES/Src/esc_coe.c ****       uint8_t access = (objd + nsub)->flags & 0x3f;
 1844              		.loc 1 482 15 is_stmt 0 view .LVU571
 1845 00ec 06F0070C 		and	ip, r6, #7
 1846              	.LVL164:
 483:Drivers/SOES/Src/esc_coe.c ****       uint8_t state = ESCvar.ALstatus & 0x0f;
 1847              		.loc 1 483 7 is_stmt 1 view .LVU572
 483:Drivers/SOES/Src/esc_coe.c ****       uint8_t state = ESCvar.ALstatus & 0x0f;
 1848              		.loc 1 483 37 is_stmt 0 view .LVU573
 1849 00f0 DB88     		ldrh	r3, [r3, #6]	@ unaligned
 1850              	.LVL165:
 483:Drivers/SOES/Src/esc_coe.c ****       uint8_t state = ESCvar.ALstatus & 0x0f;
 1851              		.loc 1 483 45 view .LVU574
 1852 00f2 DBB2     		uxtb	r3, r3
 1853              	.LVL166:
 484:Drivers/SOES/Src/esc_coe.c **** 
 1854              		.loc 1 484 7 is_stmt 1 view .LVU575
 484:Drivers/SOES/Src/esc_coe.c **** 
 1855              		.loc 1 484 39 is_stmt 0 view .LVU576
 1856 00f4 244A     		ldr	r2, .L109+4
 1857 00f6 92F87C20 		ldrb	r2, [r2, #124]	@ zero_extendqisi2
 484:Drivers/SOES/Src/esc_coe.c **** 
 1858              		.loc 1 484 15 view .LVU577
 1859 00fa 02F00F02 		and	r2, r2, #15
 1860              	.LVL167:
 486:Drivers/SOES/Src/esc_coe.c ****       {
 1861              		.loc 1 486 7 is_stmt 1 view .LVU578
 486:Drivers/SOES/Src/esc_coe.c ****       {
 1862              		.loc 1 486 10 is_stmt 0 view .LVU579
ARM GAS  /tmp/ccFH4wf5.s 			page 70


 1863 00fe 15F0070F 		tst	r5, #7
 1864 0102 B1D1     		bne	.L86
 488:Drivers/SOES/Src/esc_coe.c ****          {
 1865              		.loc 1 488 10 is_stmt 1 view .LVU580
 488:Drivers/SOES/Src/esc_coe.c ****          {
 1866              		.loc 1 488 13 is_stmt 0 view .LVU581
 1867 0104 BCF1000F 		cmp	ip, #0
 1868 0108 03D0     		beq	.L87
 491:Drivers/SOES/Src/esc_coe.c ****          }
 1869              		.loc 1 491 13 is_stmt 1 view .LVU582
 491:Drivers/SOES/Src/esc_coe.c ****          }
 1870              		.loc 1 491 18 is_stmt 0 view .LVU583
 1871 010a A6EB0C0C 		sub	ip, r6, ip
 1872              	.LVL168:
 491:Drivers/SOES/Src/esc_coe.c ****          }
 1873              		.loc 1 491 18 view .LVU584
 1874 010e 0CF10806 		add	r6, ip, #8
 1875              	.LVL169:
 1876              	.L87:
 493:Drivers/SOES/Src/esc_coe.c ****          {
 1877              		.loc 1 493 10 is_stmt 1 view .LVU585
 493:Drivers/SOES/Src/esc_coe.c ****          {
 1878              		.loc 1 493 13 is_stmt 0 view .LVU586
 1879 0112 B8F1000F 		cmp	r8, #0
 1880 0116 CCD0     		beq	.L88
 496:Drivers/SOES/Src/esc_coe.c ****             {
 1881              		.loc 1 496 13 is_stmt 1 view .LVU587
 496:Drivers/SOES/Src/esc_coe.c ****             {
 1882              		.loc 1 496 16 is_stmt 0 view .LVU588
 1883 0118 BBF1000F 		cmp	fp, #0
 1884 011c 8DD1     		bne	.L89
 498:Drivers/SOES/Src/esc_coe.c ****                {
 1885              		.loc 1 498 16 is_stmt 1 view .LVU589
 498:Drivers/SOES/Src/esc_coe.c ****                {
 1886              		.loc 1 498 19 is_stmt 0 view .LVU590
 1887 011e 13F0010F 		tst	r3, #1
 1888 0122 01D0     		beq	.L90
 498:Drivers/SOES/Src/esc_coe.c ****                {
 1889              		.loc 1 498 20 discriminator 1 view .LVU591
 1890 0124 022A     		cmp	r2, #2
 1891 0126 80D0     		beq	.L91
 1892              	.L90:
 498:Drivers/SOES/Src/esc_coe.c ****                {
 1893              		.loc 1 498 20 discriminator 3 view .LVU592
 1894 0128 13F0020F 		tst	r3, #2
 1895 012c 02D0     		beq	.L92
 498:Drivers/SOES/Src/esc_coe.c ****                {
 1896              		.loc 1 498 20 discriminator 4 view .LVU593
 1897 012e 042A     		cmp	r2, #4
 1898 0130 3FF47BAF 		beq	.L91
 1899              	.L92:
 498:Drivers/SOES/Src/esc_coe.c ****                {
 1900              		.loc 1 498 20 discriminator 6 view .LVU594
 1901 0134 13F0040F 		tst	r3, #4
 1902 0138 02D0     		beq	.L93
 498:Drivers/SOES/Src/esc_coe.c ****                {
 1903              		.loc 1 498 20 discriminator 7 view .LVU595
ARM GAS  /tmp/ccFH4wf5.s 			page 71


 1904 013a 082A     		cmp	r2, #8
 1905 013c 3FF475AF 		beq	.L91
 1906              	.L93:
 506:Drivers/SOES/Src/esc_coe.c ****                }
 1907              		.loc 1 506 19 is_stmt 1 view .LVU596
 506:Drivers/SOES/Src/esc_coe.c ****                }
 1908              		.loc 1 506 35 is_stmt 0 view .LVU597
 1909 0140 F01D     		adds	r0, r6, #7
 506:Drivers/SOES/Src/esc_coe.c ****                }
 1910              		.loc 1 506 57 view .LVU598
 1911 0142 EA1D     		adds	r2, r5, #7
 1912              	.LVL170:
 506:Drivers/SOES/Src/esc_coe.c ****                }
 1913              		.loc 1 506 19 view .LVU599
 1914 0144 D210     		asrs	r2, r2, #3
 1915 0146 0021     		movs	r1, #0
 1916              	.LVL171:
 506:Drivers/SOES/Src/esc_coe.c ****                }
 1917              		.loc 1 506 19 view .LVU600
 1918 0148 08EBD000 		add	r0, r8, r0, lsr #3
 1919 014c FFF7FEFF 		bl	memset
 1920              	.LVL172:
 506:Drivers/SOES/Src/esc_coe.c ****                }
 1921              		.loc 1 506 19 view .LVU601
 1922 0150 AFE7     		b	.L88
 1923              	.LVL173:
 1924              	.L98:
 1925              	.LBB6:
 523:Drivers/SOES/Src/esc_coe.c ****             {
 1926              		.loc 1 523 13 is_stmt 1 view .LVU602
 523:Drivers/SOES/Src/esc_coe.c ****             {
 1927              		.loc 1 523 16 is_stmt 0 view .LVU603
 1928 0152 BCF1000F 		cmp	ip, #0
 1929 0156 04D1     		bne	.L101
 525:Drivers/SOES/Src/esc_coe.c ****             }
 1930              		.loc 1 525 16 is_stmt 1 view .LVU604
 525:Drivers/SOES/Src/esc_coe.c ****             }
 1931              		.loc 1 525 24 is_stmt 0 view .LVU605
 1932 0158 F31D     		adds	r3, r6, #7
 1933              	.LVL174:
 525:Drivers/SOES/Src/esc_coe.c ****             }
 1934              		.loc 1 525 24 view .LVU606
 1935 015a DB08     		lsrs	r3, r3, #3
 525:Drivers/SOES/Src/esc_coe.c ****             }
 1936              		.loc 1 525 42 view .LVU607
 1937 015c 0022     		movs	r2, #0
 1938              	.LVL175:
 525:Drivers/SOES/Src/esc_coe.c ****             }
 1939              		.loc 1 525 42 view .LVU608
 1940 015e 08F80320 		strb	r2, [r8, r3]
 1941              	.LVL176:
 1942              	.L101:
 527:Drivers/SOES/Src/esc_coe.c ****                   (*(uint8_t *)ul_source & bitmask) << bitoffset;
 1943              		.loc 1 527 13 is_stmt 1 view .LVU609
 527:Drivers/SOES/Src/esc_coe.c ****                   (*(uint8_t *)ul_source & bitmask) << bitoffset;
 1944              		.loc 1 527 20 is_stmt 0 view .LVU610
 1945 0162 F21D     		adds	r2, r6, #7
ARM GAS  /tmp/ccFH4wf5.s 			page 72


 1946 0164 D208     		lsrs	r2, r2, #3
 1947 0166 18F802E0 		ldrb	lr, [r8, r2]	@ zero_extendqisi2
 528:Drivers/SOES/Src/esc_coe.c ****          }
 1948              		.loc 1 528 20 view .LVU611
 1949 016a 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 528:Drivers/SOES/Src/esc_coe.c ****          }
 1950              		.loc 1 528 42 view .LVU612
 1951 016c 0340     		ands	r3, r3, r0
 528:Drivers/SOES/Src/esc_coe.c ****          }
 1952              		.loc 1 528 53 view .LVU613
 1953 016e 03FA0CF3 		lsl	r3, r3, ip
 527:Drivers/SOES/Src/esc_coe.c ****                   (*(uint8_t *)ul_source & bitmask) << bitoffset;
 1954              		.loc 1 527 39 view .LVU614
 1955 0172 4EEA030E 		orr	lr, lr, r3
 1956 0176 08F802E0 		strb	lr, [r8, r2]
 1957 017a 9AE7     		b	.L88
 1958              	.LVL177:
 1959              	.L104:
 527:Drivers/SOES/Src/esc_coe.c ****                   (*(uint8_t *)ul_source & bitmask) << bitoffset;
 1960              		.loc 1 527 39 view .LVU615
 1961              	.LBE6:
 1962              	.LBE7:
 472:Drivers/SOES/Src/esc_coe.c ****    }
 1963              		.loc 1 472 14 view .LVU616
 1964 017c 034E     		ldr	r6, .L109+8
 1965              	.LVL178:
 1966              	.L82:
 547:Drivers/SOES/Src/esc_coe.c **** 
 1967              		.loc 1 547 1 view .LVU617
 1968 017e 3046     		mov	r0, r6
 1969 0180 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1970              	.LVL179:
 1971              	.L110:
 547:Drivers/SOES/Src/esc_coe.c **** 
 1972              		.loc 1 547 1 view .LVU618
 1973              		.align	2
 1974              	.L109:
 1975 0184 00000000 		.word	SDOobjects
 1976 0188 00000000 		.word	ESCvar
 1977 018c 04000106 		.word	100728836
 1978              		.cfi_endproc
 1979              	.LFE8:
 1981              		.section	.text.SDO_downloadsegment,"ax",%progbits
 1982              		.align	1
 1983              		.syntax unified
 1984              		.thumb
 1985              		.thumb_func
 1987              	SDO_downloadsegment:
 1988              	.LFB14:
 983:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coesdo = (_COEsdo *) &MBX[0];
 1989              		.loc 1 983 1 is_stmt 1 view -0
 1990              		.cfi_startproc
 1991              		@ args = 0, pretend = 0, frame = 0
 1992              		@ frame_needed = 0, uses_anonymous_args = 0
 1993 0000 70B5     		push	{r4, r5, r6, lr}
 1994              		.cfi_def_cfa_offset 16
 1995              		.cfi_offset 4, -16
ARM GAS  /tmp/ccFH4wf5.s 			page 73


 1996              		.cfi_offset 5, -12
 1997              		.cfi_offset 6, -8
 1998              		.cfi_offset 14, -4
 1999 0002 82B0     		sub	sp, sp, #8
 2000              		.cfi_def_cfa_offset 24
 984:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout = ESC_claimbuffer ();
 2001              		.loc 1 984 4 view .LVU620
 2002              	.LVL180:
 985:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
 2003              		.loc 1 985 4 view .LVU621
 985:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
 2004              		.loc 1 985 21 is_stmt 0 view .LVU622
 2005 0004 FFF7FEFF 		bl	ESC_claimbuffer
 2006              	.LVL181:
 986:Drivers/SOES/Src/esc_coe.c ****    {
 2007              		.loc 1 986 4 is_stmt 1 view .LVU623
 986:Drivers/SOES/Src/esc_coe.c ****    {
 2008              		.loc 1 986 7 is_stmt 0 view .LVU624
 2009 0008 40B3     		cbz	r0, .L112
 2010 000a 0646     		mov	r6, r0
 2011              	.LBB8:
 988:Drivers/SOES/Src/esc_coe.c ****       uint32_t size = coesdo->mbxheader.length - 3;
 2012              		.loc 1 988 7 is_stmt 1 view .LVU625
 988:Drivers/SOES/Src/esc_coe.c ****       uint32_t size = coesdo->mbxheader.length - 3;
 2013              		.loc 1 988 51 is_stmt 0 view .LVU626
 2014 000c 274B     		ldr	r3, .L120
 2015 000e 986E     		ldr	r0, [r3, #104]
 2016              	.LVL182:
 988:Drivers/SOES/Src/esc_coe.c ****       uint32_t size = coesdo->mbxheader.length - 3;
 2017              		.loc 1 988 16 view .LVU627
 2018 0010 274B     		ldr	r3, .L120+4
 2019 0012 00FB0630 		mla	r0, r0, r6, r3
 2020              	.LVL183:
 989:Drivers/SOES/Src/esc_coe.c ****       if (size == 7)
 2021              		.loc 1 989 7 is_stmt 1 view .LVU628
 989:Drivers/SOES/Src/esc_coe.c ****       if (size == 7)
 2022              		.loc 1 989 40 is_stmt 0 view .LVU629
 2023 0016 1B88     		ldrh	r3, [r3]	@ unaligned
 989:Drivers/SOES/Src/esc_coe.c ****       if (size == 7)
 2024              		.loc 1 989 48 view .LVU630
 2025 0018 DC1E     		subs	r4, r3, #3
 2026              	.LVL184:
 990:Drivers/SOES/Src/esc_coe.c ****       {
 2027              		.loc 1 990 7 is_stmt 1 view .LVU631
 990:Drivers/SOES/Src/esc_coe.c ****       {
 2028              		.loc 1 990 10 is_stmt 0 view .LVU632
 2029 001a 0A2B     		cmp	r3, #10
 2030 001c 26D0     		beq	.L118
 2031              	.L113:
 994:Drivers/SOES/Src/esc_coe.c ****             (coesdo->command & COE_TOGGLEBIT);  /* copy toggle bit */
 2032              		.loc 1 994 7 is_stmt 1 view .LVU633
 995:Drivers/SOES/Src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE, command, 0, 0);
 2033              		.loc 1 995 20 is_stmt 0 view .LVU634
 2034 001e 244D     		ldr	r5, .L120+4
 2035 0020 2A7A     		ldrb	r2, [r5, #8]	@ zero_extendqisi2
 995:Drivers/SOES/Src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE, command, 0, 0);
 2036              		.loc 1 995 30 view .LVU635
ARM GAS  /tmp/ccFH4wf5.s 			page 74


 2037 0022 02F01002 		and	r2, r2, #16
 2038              	.LVL185:
 996:Drivers/SOES/Src/esc_coe.c **** 
 2039              		.loc 1 996 7 is_stmt 1 view .LVU636
 2040 0026 0023     		movs	r3, #0
 2041 0028 0093     		str	r3, [sp]
 2042 002a 2032     		adds	r2, r2, #32
 2043              	.LVL186:
 996:Drivers/SOES/Src/esc_coe.c **** 
 2044              		.loc 1 996 7 is_stmt 0 view .LVU637
 2045 002c 0321     		movs	r1, #3
 2046 002e FFF7FEFF 		bl	init_coesdo
 2047              	.LVL187:
 998:Drivers/SOES/Src/esc_coe.c ****       copy2mbx (mbxdata, (uint8_t *)ESCvar.data, size);
 2048              		.loc 1 998 7 is_stmt 1 view .LVU638
 999:Drivers/SOES/Src/esc_coe.c **** 
 2049              		.loc 1 999 7 view .LVU639
 2050 0032 A2B2     		uxth	r2, r4
 2051 0034 1D4B     		ldr	r3, .L120
 2052 0036 D3F89010 		ldr	r1, [r3, #144]
 2053 003a 05F10900 		add	r0, r5, #9
 2054 003e FFF7FEFF 		bl	copy2mbx
 2055              	.LVL188:
1001:Drivers/SOES/Src/esc_coe.c ****       {
 2056              		.loc 1 1001 7 view .LVU640
1001:Drivers/SOES/Src/esc_coe.c ****       {
 2057              		.loc 1 1001 17 is_stmt 0 view .LVU641
 2058 0042 2B7A     		ldrb	r3, [r5, #8]	@ zero_extendqisi2
1001:Drivers/SOES/Src/esc_coe.c ****       {
 2059              		.loc 1 1001 10 view .LVU642
 2060 0044 13F0010F 		tst	r3, #1
 2061 0048 17D1     		bne	.L119
1018:Drivers/SOES/Src/esc_coe.c ****       }
 2062              		.loc 1 1018 10 is_stmt 1 view .LVU643
1018:Drivers/SOES/Src/esc_coe.c ****       }
 2063              		.loc 1 1018 16 is_stmt 0 view .LVU644
 2064 004a 184A     		ldr	r2, .L120
 2065 004c D2F89030 		ldr	r3, [r2, #144]
1018:Drivers/SOES/Src/esc_coe.c ****       }
 2066              		.loc 1 1018 22 view .LVU645
 2067 0050 2344     		add	r3, r3, r4
 2068 0052 C2F89030 		str	r3, [r2, #144]
 2069              	.L115:
1021:Drivers/SOES/Src/esc_coe.c ****    }
 2070              		.loc 1 1021 7 is_stmt 1 view .LVU646
1021:Drivers/SOES/Src/esc_coe.c ****    }
 2071              		.loc 1 1021 32 is_stmt 0 view .LVU647
 2072 0056 174B     		ldr	r3, .L120+8
 2073 0058 0322     		movs	r2, #3
 2074 005a 9A55     		strb	r2, [r3, r6]
 2075              	.LVL189:
 2076              	.L112:
1021:Drivers/SOES/Src/esc_coe.c ****    }
 2077              		.loc 1 1021 32 view .LVU648
 2078              	.LBE8:
1024:Drivers/SOES/Src/esc_coe.c **** }
 2079              		.loc 1 1024 4 is_stmt 1 view .LVU649
ARM GAS  /tmp/ccFH4wf5.s 			page 75


 2080 005c 0023     		movs	r3, #0
 2081 005e 1A46     		mov	r2, r3
 2082 0060 1946     		mov	r1, r3
 2083 0062 1846     		mov	r0, r3
 2084 0064 FFF7FEFF 		bl	set_state_idle
 2085              	.LVL190:
 2086              	.L111:
1025:Drivers/SOES/Src/esc_coe.c **** 
 2087              		.loc 1 1025 1 is_stmt 0 view .LVU650
 2088 0068 02B0     		add	sp, sp, #8
 2089              		.cfi_remember_state
 2090              		.cfi_def_cfa_offset 16
 2091              		@ sp needed
 2092 006a 70BD     		pop	{r4, r5, r6, pc}
 2093              	.LVL191:
 2094              	.L118:
 2095              		.cfi_restore_state
 2096              	.LBB10:
 992:Drivers/SOES/Src/esc_coe.c ****       }
 2097              		.loc 1 992 10 is_stmt 1 view .LVU651
 992:Drivers/SOES/Src/esc_coe.c ****       }
 2098              		.loc 1 992 29 is_stmt 0 view .LVU652
 2099 006c 104B     		ldr	r3, .L120+4
 2100 006e 1C7A     		ldrb	r4, [r3, #8]	@ zero_extendqisi2
 2101              	.LVL192:
 992:Drivers/SOES/Src/esc_coe.c ****       }
 2102              		.loc 1 992 19 view .LVU653
 2103 0070 6FEA5404 		mvn	r4, r4, lsr #1
 992:Drivers/SOES/Src/esc_coe.c ****       }
 2104              		.loc 1 992 15 view .LVU654
 2105 0074 04F00704 		and	r4, r4, #7
 2106              	.LVL193:
 992:Drivers/SOES/Src/esc_coe.c ****       }
 2107              		.loc 1 992 15 view .LVU655
 2108 0078 D1E7     		b	.L113
 2109              	.LVL194:
 2110              	.L119:
 2111              	.LBB9:
1004:Drivers/SOES/Src/esc_coe.c **** 
 2112              		.loc 1 1004 10 is_stmt 1 view .LVU656
1004:Drivers/SOES/Src/esc_coe.c **** 
 2113              		.loc 1 1004 27 is_stmt 0 view .LVU657
 2114 007a 0C4B     		ldr	r3, .L120
 2115 007c 0022     		movs	r2, #0
 2116 007e 83F88D20 		strb	r2, [r3, #141]
1007:Drivers/SOES/Src/esc_coe.c ****                (ESCvar.index, ESCvar.subindex, ESCvar.flags);
 2117              		.loc 1 1007 10 is_stmt 1 view .LVU658
1007:Drivers/SOES/Src/esc_coe.c ****                (ESCvar.index, ESCvar.subindex, ESCvar.flags);
 2118              		.loc 1 1007 27 is_stmt 0 view .LVU659
 2119 0082 B3F89E20 		ldrh	r2, [r3, #158]
 2120 0086 93F89C10 		ldrb	r1, [r3, #156]	@ zero_extendqisi2
 2121 008a B3F89A00 		ldrh	r0, [r3, #154]
 2122 008e FFF7FEFF 		bl	ESC_download_post_objecthandler
 2123              	.LVL195:
1009:Drivers/SOES/Src/esc_coe.c ****          {
 2124              		.loc 1 1009 10 is_stmt 1 view .LVU660
1009:Drivers/SOES/Src/esc_coe.c ****          {
ARM GAS  /tmp/ccFH4wf5.s 			page 76


 2125              		.loc 1 1009 13 is_stmt 0 view .LVU661
 2126 0092 0346     		mov	r3, r0
 2127 0094 0028     		cmp	r0, #0
 2128 0096 DED0     		beq	.L115
1011:Drivers/SOES/Src/esc_coe.c ****             return;
 2129              		.loc 1 1011 13 is_stmt 1 view .LVU662
 2130 0098 0449     		ldr	r1, .L120
 2131 009a 91F89C20 		ldrb	r2, [r1, #156]	@ zero_extendqisi2
 2132 009e B1F89A10 		ldrh	r1, [r1, #154]
 2133 00a2 3046     		mov	r0, r6
 2134              	.LVL196:
1011:Drivers/SOES/Src/esc_coe.c ****             return;
 2135              		.loc 1 1011 13 is_stmt 0 view .LVU663
 2136 00a4 FFF7FEFF 		bl	set_state_idle
 2137              	.LVL197:
1012:Drivers/SOES/Src/esc_coe.c ****          }
 2138              		.loc 1 1012 13 is_stmt 1 view .LVU664
 2139 00a8 DEE7     		b	.L111
 2140              	.L121:
 2141 00aa 00BF     		.align	2
 2142              	.L120:
 2143 00ac 00000000 		.word	ESCvar
 2144 00b0 00000000 		.word	MBX
 2145 00b4 00000000 		.word	MBXcontrol
 2146              	.LBE9:
 2147              	.LBE10:
 2148              		.cfi_endproc
 2149              	.LFE14:
 2151              		.section	.rodata.COE_getValue.str1.4,"aMS",%progbits,1
 2152              		.align	2
 2153              	.LC0:
 2154 0000 3000     		.ascii	"0\000"
 2155 0002 0000     		.align	2
 2156              	.LC1:
 2157 0004 44726976 		.ascii	"Drivers/SOES/Src/esc_coe.c\000"
 2157      6572732F 
 2157      534F4553 
 2157      2F537263 
 2157      2F657363 
 2158              		.section	.text.COE_getValue,"ax",%progbits
 2159              		.align	1
 2160              		.syntax unified
 2161              		.thumb
 2162              		.thumb_func
 2164              	COE_getValue:
 2165              	.LVL198:
 2166              	.LFB23:
1543:Drivers/SOES/Src/esc_coe.c ****    uint64_t value = 0;
 2167              		.loc 1 1543 1 view -0
 2168              		.cfi_startproc
 2169              		@ args = 0, pretend = 0, frame = 0
 2170              		@ frame_needed = 0, uses_anonymous_args = 0
1543:Drivers/SOES/Src/esc_coe.c ****    uint64_t value = 0;
 2171              		.loc 1 1543 1 is_stmt 0 view .LVU666
 2172 0000 08B5     		push	{r3, lr}
 2173              		.cfi_def_cfa_offset 8
 2174              		.cfi_offset 3, -8
ARM GAS  /tmp/ccFH4wf5.s 			page 77


 2175              		.cfi_offset 14, -4
1544:Drivers/SOES/Src/esc_coe.c **** 
 2176              		.loc 1 1544 4 is_stmt 1 view .LVU667
 2177              	.LVL199:
1548:Drivers/SOES/Src/esc_coe.c ****    {
 2178              		.loc 1 1548 4 view .LVU668
1548:Drivers/SOES/Src/esc_coe.c ****    {
 2179              		.loc 1 1548 14 is_stmt 0 view .LVU669
 2180 0002 4388     		ldrh	r3, [r0, #2]	@ unaligned
1548:Drivers/SOES/Src/esc_coe.c ****    {
 2181              		.loc 1 1548 4 view .LVU670
 2182 0004 013B     		subs	r3, r3, #1
 2183 0006 362B     		cmp	r3, #54
 2184 0008 2DD8     		bhi	.L123
 2185 000a DFE803F0 		tbb	[pc, r3]
 2186              	.L125:
 2187 000e 1C       		.byte	(.L124-.L125)/2
 2188 000f 1C       		.byte	(.L124-.L125)/2
 2189 0010 20       		.byte	(.L127-.L125)/2
 2190 0011 24       		.byte	(.L126-.L125)/2
 2191 0012 1C       		.byte	(.L124-.L125)/2
 2192 0013 20       		.byte	(.L127-.L125)/2
 2193 0014 24       		.byte	(.L126-.L125)/2
 2194 0015 24       		.byte	(.L126-.L125)/2
 2195 0016 2C       		.byte	(.L123-.L125)/2
 2196 0017 2C       		.byte	(.L123-.L125)/2
 2197 0018 2C       		.byte	(.L123-.L125)/2
 2198 0019 2C       		.byte	(.L123-.L125)/2
 2199 001a 2C       		.byte	(.L123-.L125)/2
 2200 001b 2C       		.byte	(.L123-.L125)/2
 2201 001c 2C       		.byte	(.L123-.L125)/2
 2202 001d 2C       		.byte	(.L123-.L125)/2
 2203 001e 28       		.byte	(.L128-.L125)/2
 2204 001f 2C       		.byte	(.L123-.L125)/2
 2205 0020 2C       		.byte	(.L123-.L125)/2
 2206 0021 2C       		.byte	(.L123-.L125)/2
 2207 0022 28       		.byte	(.L128-.L125)/2
 2208 0023 2C       		.byte	(.L123-.L125)/2
 2209 0024 2C       		.byte	(.L123-.L125)/2
 2210 0025 2C       		.byte	(.L123-.L125)/2
 2211 0026 2C       		.byte	(.L123-.L125)/2
 2212 0027 2C       		.byte	(.L123-.L125)/2
 2213 0028 28       		.byte	(.L128-.L125)/2
 2214 0029 2C       		.byte	(.L123-.L125)/2
 2215 002a 2C       		.byte	(.L123-.L125)/2
 2216 002b 2C       		.byte	(.L123-.L125)/2
 2217 002c 2C       		.byte	(.L123-.L125)/2
 2218 002d 2C       		.byte	(.L123-.L125)/2
 2219 002e 2C       		.byte	(.L123-.L125)/2
 2220 002f 2C       		.byte	(.L123-.L125)/2
 2221 0030 2C       		.byte	(.L123-.L125)/2
 2222 0031 2C       		.byte	(.L123-.L125)/2
 2223 0032 2C       		.byte	(.L123-.L125)/2
 2224 0033 2C       		.byte	(.L123-.L125)/2
 2225 0034 2C       		.byte	(.L123-.L125)/2
 2226 0035 2C       		.byte	(.L123-.L125)/2
 2227 0036 2C       		.byte	(.L123-.L125)/2
ARM GAS  /tmp/ccFH4wf5.s 			page 78


 2228 0037 2C       		.byte	(.L123-.L125)/2
 2229 0038 2C       		.byte	(.L123-.L125)/2
 2230 0039 2C       		.byte	(.L123-.L125)/2
 2231 003a 1C       		.byte	(.L124-.L125)/2
 2232 003b 20       		.byte	(.L127-.L125)/2
 2233 003c 24       		.byte	(.L126-.L125)/2
 2234 003d 1C       		.byte	(.L124-.L125)/2
 2235 003e 1C       		.byte	(.L124-.L125)/2
 2236 003f 1C       		.byte	(.L124-.L125)/2
 2237 0040 1C       		.byte	(.L124-.L125)/2
 2238 0041 1C       		.byte	(.L124-.L125)/2
 2239 0042 1C       		.byte	(.L124-.L125)/2
 2240 0043 1C       		.byte	(.L124-.L125)/2
 2241 0044 1C       		.byte	(.L124-.L125)/2
 2242 0045 00       		.p2align 1
 2243              	.L124:
1562:Drivers/SOES/Src/esc_coe.c ****       break;
 2244              		.loc 1 1562 7 is_stmt 1 view .LVU671
1562:Drivers/SOES/Src/esc_coe.c ****       break;
 2245              		.loc 1 1562 30 is_stmt 0 view .LVU672
 2246 0046 0369     		ldr	r3, [r0, #16]	@ unaligned
1562:Drivers/SOES/Src/esc_coe.c ****       break;
 2247              		.loc 1 1562 13 view .LVU673
 2248 0048 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 2249              	.LVL200:
1562:Drivers/SOES/Src/esc_coe.c ****       break;
 2250              		.loc 1 1562 13 view .LVU674
 2251 004a 0021     		movs	r1, #0
 2252              	.LVL201:
1563:Drivers/SOES/Src/esc_coe.c **** 
 2253              		.loc 1 1563 7 is_stmt 1 view .LVU675
 2254              	.L122:
1590:Drivers/SOES/Src/esc_coe.c **** 
 2255              		.loc 1 1590 1 is_stmt 0 view .LVU676
 2256 004c 08BD     		pop	{r3, pc}
 2257              	.LVL202:
 2258              	.L127:
1568:Drivers/SOES/Src/esc_coe.c ****       break;
 2259              		.loc 1 1568 7 is_stmt 1 view .LVU677
1568:Drivers/SOES/Src/esc_coe.c ****       break;
 2260              		.loc 1 1568 31 is_stmt 0 view .LVU678
 2261 004e 0369     		ldr	r3, [r0, #16]	@ unaligned
1568:Drivers/SOES/Src/esc_coe.c ****       break;
 2262              		.loc 1 1568 13 view .LVU679
 2263 0050 1888     		ldrh	r0, [r3]
 2264              	.LVL203:
1568:Drivers/SOES/Src/esc_coe.c ****       break;
 2265              		.loc 1 1568 13 view .LVU680
 2266 0052 0021     		movs	r1, #0
 2267              	.LVL204:
1569:Drivers/SOES/Src/esc_coe.c **** 
 2268              		.loc 1 1569 7 is_stmt 1 view .LVU681
 2269 0054 FAE7     		b	.L122
 2270              	.LVL205:
 2271              	.L126:
1575:Drivers/SOES/Src/esc_coe.c ****       break;
 2272              		.loc 1 1575 7 view .LVU682
ARM GAS  /tmp/ccFH4wf5.s 			page 79


1575:Drivers/SOES/Src/esc_coe.c ****       break;
 2273              		.loc 1 1575 31 is_stmt 0 view .LVU683
 2274 0056 0369     		ldr	r3, [r0, #16]	@ unaligned
1575:Drivers/SOES/Src/esc_coe.c ****       break;
 2275              		.loc 1 1575 13 view .LVU684
 2276 0058 1868     		ldr	r0, [r3]
 2277              	.LVL206:
1575:Drivers/SOES/Src/esc_coe.c ****       break;
 2278              		.loc 1 1575 13 view .LVU685
 2279 005a 0021     		movs	r1, #0
 2280              	.LVL207:
1576:Drivers/SOES/Src/esc_coe.c **** 
 2281              		.loc 1 1576 7 is_stmt 1 view .LVU686
 2282 005c F6E7     		b	.L122
 2283              	.LVL208:
 2284              	.L128:
1582:Drivers/SOES/Src/esc_coe.c ****       break;
 2285              		.loc 1 1582 7 view .LVU687
1582:Drivers/SOES/Src/esc_coe.c ****       break;
 2286              		.loc 1 1582 31 is_stmt 0 view .LVU688
 2287 005e 0369     		ldr	r3, [r0, #16]	@ unaligned
1582:Drivers/SOES/Src/esc_coe.c ****       break;
 2288              		.loc 1 1582 13 view .LVU689
 2289 0060 1868     		ldr	r0, [r3]
 2290              	.LVL209:
1582:Drivers/SOES/Src/esc_coe.c ****       break;
 2291              		.loc 1 1582 13 view .LVU690
 2292 0062 5968     		ldr	r1, [r3, #4]
 2293              	.LVL210:
1583:Drivers/SOES/Src/esc_coe.c **** 
 2294              		.loc 1 1583 7 is_stmt 1 view .LVU691
 2295 0064 F2E7     		b	.L122
 2296              	.LVL211:
 2297              	.L123:
1586:Drivers/SOES/Src/esc_coe.c ****    }
 2298              		.loc 1 1586 7 view .LVU692
 2299 0066 034B     		ldr	r3, .L131
 2300 0068 034A     		ldr	r2, .L131+4
 2301 006a 40F23261 		movw	r1, #1586
 2302 006e 0348     		ldr	r0, .L131+8
 2303              	.LVL212:
1586:Drivers/SOES/Src/esc_coe.c ****    }
 2304              		.loc 1 1586 7 is_stmt 0 view .LVU693
 2305 0070 FFF7FEFF 		bl	__assert_func
 2306              	.LVL213:
 2307              	.L132:
 2308              		.align	2
 2309              	.L131:
 2310 0074 00000000 		.word	.LC0
 2311 0078 00000000 		.word	__func__.1
 2312 007c 04000000 		.word	.LC1
 2313              		.cfi_endproc
 2314              	.LFE23:
 2316              		.section	.text.SDO_findsubindex,"ax",%progbits
 2317              		.align	1
 2318              		.global	SDO_findsubindex
 2319              		.syntax unified
ARM GAS  /tmp/ccFH4wf5.s 			page 80


 2320              		.thumb
 2321              		.thumb_func
 2323              	SDO_findsubindex:
 2324              	.LVL214:
 2325              	.LFB0:
  51:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd;
 2326              		.loc 1 51 1 is_stmt 1 view -0
 2327              		.cfi_startproc
 2328              		@ args = 0, pretend = 0, frame = 0
 2329              		@ frame_needed = 0, uses_anonymous_args = 0
 2330              		@ link register save eliminated.
  52:Drivers/SOES/Src/esc_coe.c ****    int16_t n = 0;
 2331              		.loc 1 52 4 view .LVU695
  53:Drivers/SOES/Src/esc_coe.c ****    uint8_t maxsub;
 2332              		.loc 1 53 4 view .LVU696
  54:Drivers/SOES/Src/esc_coe.c ****    objd = SDOobjects[nidx].objdesc;
 2333              		.loc 1 54 4 view .LVU697
  55:Drivers/SOES/Src/esc_coe.c ****    maxsub = SDOobjects[nidx].maxsub;
 2334              		.loc 1 55 4 view .LVU698
  55:Drivers/SOES/Src/esc_coe.c ****    maxsub = SDOobjects[nidx].maxsub;
 2335              		.loc 1 55 9 is_stmt 0 view .LVU699
 2336 0000 124B     		ldr	r3, .L144
 2337 0002 C0EBC002 		rsb	r2, r0, r0, lsl #3
 2338 0006 03EB4202 		add	r2, r3, r2, lsl #1
 2339 000a D2F80AC0 		ldr	ip, [r2, #10]	@ unaligned
 2340              	.LVL215:
  56:Drivers/SOES/Src/esc_coe.c **** 
 2341              		.loc 1 56 4 is_stmt 1 view .LVU700
  56:Drivers/SOES/Src/esc_coe.c **** 
 2342              		.loc 1 56 11 is_stmt 0 view .LVU701
 2343 000e 1279     		ldrb	r2, [r2, #4]	@ zero_extendqisi2
 2344              	.LVL216:
  61:Drivers/SOES/Src/esc_coe.c ****    {
 2345              		.loc 1 61 4 is_stmt 1 view .LVU702
  61:Drivers/SOES/Src/esc_coe.c ****    {
 2346              		.loc 1 61 7 is_stmt 0 view .LVU703
 2347 0010 8A42     		cmp	r2, r1
 2348 0012 09D3     		bcc	.L139
  61:Drivers/SOES/Src/esc_coe.c ****    {
 2349              		.loc 1 61 39 discriminator 1 view .LVU704
 2350 0014 01EB8103 		add	r3, r1, r1, lsl #2
  61:Drivers/SOES/Src/esc_coe.c ****    {
 2351              		.loc 1 61 50 discriminator 1 view .LVU705
 2352 0018 3CF82330 		ldrh	r3, [ip, r3, lsl #2]	@ unaligned
  61:Drivers/SOES/Src/esc_coe.c ****    {
 2353              		.loc 1 61 29 discriminator 1 view .LVU706
 2354 001c 8B42     		cmp	r3, r1
 2355 001e 01D0     		beq	.L142
 2356 0020 0020     		movs	r0, #0
 2357              	.LVL217:
  61:Drivers/SOES/Src/esc_coe.c ****    {
 2358              		.loc 1 61 29 discriminator 1 view .LVU707
 2359 0022 02E0     		b	.L136
 2360              	.LVL218:
 2361              	.L142:
  63:Drivers/SOES/Src/esc_coe.c ****    }
 2362              		.loc 1 63 7 is_stmt 1 view .LVU708
ARM GAS  /tmp/ccFH4wf5.s 			page 81


  63:Drivers/SOES/Src/esc_coe.c ****    }
 2363              		.loc 1 63 14 is_stmt 0 view .LVU709
 2364 0024 08B2     		sxth	r0, r1
 2365              	.LVL219:
  63:Drivers/SOES/Src/esc_coe.c ****    }
 2366              		.loc 1 63 14 view .LVU710
 2367 0026 7047     		bx	lr
 2368              	.LVL220:
 2369              	.L139:
  63:Drivers/SOES/Src/esc_coe.c ****    }
 2370              		.loc 1 63 14 view .LVU711
 2371 0028 0020     		movs	r0, #0
 2372              	.LVL221:
 2373              	.L136:
  66:Drivers/SOES/Src/esc_coe.c ****    {
 2374              		.loc 1 66 45 is_stmt 1 view .LVU712
  66:Drivers/SOES/Src/esc_coe.c ****    {
 2375              		.loc 1 66 18 is_stmt 0 view .LVU713
 2376 002a 00EB8003 		add	r3, r0, r0, lsl #2
  66:Drivers/SOES/Src/esc_coe.c ****    {
 2377              		.loc 1 66 22 view .LVU714
 2378 002e 3CF82330 		ldrh	r3, [ip, r3, lsl #2]	@ unaligned
  66:Drivers/SOES/Src/esc_coe.c ****    {
 2379              		.loc 1 66 45 view .LVU715
 2380 0032 8B42     		cmp	r3, r1
 2381 0034 04D2     		bcs	.L137
  66:Drivers/SOES/Src/esc_coe.c ****    {
 2382              		.loc 1 66 45 discriminator 1 view .LVU716
 2383 0036 9042     		cmp	r0, r2
 2384 0038 02DA     		bge	.L137
  68:Drivers/SOES/Src/esc_coe.c ****    }
 2385              		.loc 1 68 7 is_stmt 1 view .LVU717
  68:Drivers/SOES/Src/esc_coe.c ****    }
 2386              		.loc 1 68 8 is_stmt 0 view .LVU718
 2387 003a 0130     		adds	r0, r0, #1
 2388              	.LVL222:
  68:Drivers/SOES/Src/esc_coe.c ****    }
 2389              		.loc 1 68 8 view .LVU719
 2390 003c 00B2     		sxth	r0, r0
 2391              	.LVL223:
  68:Drivers/SOES/Src/esc_coe.c ****    }
 2392              		.loc 1 68 8 view .LVU720
 2393 003e F4E7     		b	.L136
 2394              	.L137:
  70:Drivers/SOES/Src/esc_coe.c ****    {
 2395              		.loc 1 70 4 is_stmt 1 view .LVU721
  70:Drivers/SOES/Src/esc_coe.c ****    {
 2396              		.loc 1 70 7 is_stmt 0 view .LVU722
 2397 0040 8B42     		cmp	r3, r1
 2398 0042 00D1     		bne	.L143
 2399              	.LVL224:
 2400              	.L135:
  75:Drivers/SOES/Src/esc_coe.c **** 
 2401              		.loc 1 75 1 view .LVU723
 2402 0044 7047     		bx	lr
 2403              	.LVL225:
 2404              	.L143:
ARM GAS  /tmp/ccFH4wf5.s 			page 82


  72:Drivers/SOES/Src/esc_coe.c ****    }
 2405              		.loc 1 72 14 view .LVU724
 2406 0046 4FF0FF30 		mov	r0, #-1
 2407              	.LVL226:
  72:Drivers/SOES/Src/esc_coe.c ****    }
 2408              		.loc 1 72 14 view .LVU725
 2409 004a FBE7     		b	.L135
 2410              	.L145:
 2411              		.align	2
 2412              	.L144:
 2413 004c 00000000 		.word	SDOobjects
 2414              		.cfi_endproc
 2415              	.LFE0:
 2417              		.section	.text.SDO_findobject,"ax",%progbits
 2418              		.align	1
 2419              		.global	SDO_findobject
 2420              		.syntax unified
 2421              		.thumb
 2422              		.thumb_func
 2424              	SDO_findobject:
 2425              	.LVL227:
 2426              	.LFB1:
  83:Drivers/SOES/Src/esc_coe.c ****    int32_t n = 0;
 2427              		.loc 1 83 1 is_stmt 1 view -0
 2428              		.cfi_startproc
 2429              		@ args = 0, pretend = 0, frame = 0
 2430              		@ frame_needed = 0, uses_anonymous_args = 0
 2431              		@ link register save eliminated.
  83:Drivers/SOES/Src/esc_coe.c ****    int32_t n = 0;
 2432              		.loc 1 83 1 is_stmt 0 view .LVU727
 2433 0000 0146     		mov	r1, r0
  84:Drivers/SOES/Src/esc_coe.c ****    while (SDOobjects[n].index < index)
 2434              		.loc 1 84 4 is_stmt 1 view .LVU728
 2435              	.LVL228:
  85:Drivers/SOES/Src/esc_coe.c ****    {
 2436              		.loc 1 85 4 view .LVU729
  84:Drivers/SOES/Src/esc_coe.c ****    while (SDOobjects[n].index < index)
 2437              		.loc 1 84 12 is_stmt 0 view .LVU730
 2438 0002 0020     		movs	r0, #0
 2439              	.LVL229:
  85:Drivers/SOES/Src/esc_coe.c ****    {
 2440              		.loc 1 85 10 view .LVU731
 2441 0004 00E0     		b	.L147
 2442              	.LVL230:
 2443              	.L148:
  87:Drivers/SOES/Src/esc_coe.c ****    }
 2444              		.loc 1 87 7 is_stmt 1 view .LVU732
  87:Drivers/SOES/Src/esc_coe.c ****    }
 2445              		.loc 1 87 8 is_stmt 0 view .LVU733
 2446 0006 0130     		adds	r0, r0, #1
 2447              	.LVL231:
 2448              	.L147:
  85:Drivers/SOES/Src/esc_coe.c ****    {
 2449              		.loc 1 85 31 is_stmt 1 view .LVU734
  85:Drivers/SOES/Src/esc_coe.c ****    {
 2450              		.loc 1 85 24 is_stmt 0 view .LVU735
 2451 0008 C0EBC003 		rsb	r3, r0, r0, lsl #3
ARM GAS  /tmp/ccFH4wf5.s 			page 83


 2452 000c 044A     		ldr	r2, .L152
 2453 000e 32F81330 		ldrh	r3, [r2, r3, lsl #1]	@ unaligned
  85:Drivers/SOES/Src/esc_coe.c ****    {
 2454              		.loc 1 85 31 view .LVU736
 2455 0012 8B42     		cmp	r3, r1
 2456 0014 F7D3     		bcc	.L148
  89:Drivers/SOES/Src/esc_coe.c ****    {
 2457              		.loc 1 89 4 is_stmt 1 view .LVU737
  89:Drivers/SOES/Src/esc_coe.c ****    {
 2458              		.loc 1 89 7 is_stmt 0 view .LVU738
 2459 0016 00D1     		bne	.L151
 2460              	.LVL232:
 2461              	.L146:
  94:Drivers/SOES/Src/esc_coe.c **** 
 2462              		.loc 1 94 1 view .LVU739
 2463 0018 7047     		bx	lr
 2464              	.LVL233:
 2465              	.L151:
  91:Drivers/SOES/Src/esc_coe.c ****    }
 2466              		.loc 1 91 14 view .LVU740
 2467 001a 4FF0FF30 		mov	r0, #-1
 2468              	.LVL234:
  91:Drivers/SOES/Src/esc_coe.c ****    }
 2469              		.loc 1 91 14 view .LVU741
 2470 001e FBE7     		b	.L146
 2471              	.L153:
 2472              		.align	2
 2473              	.L152:
 2474 0020 00000000 		.word	SDOobjects
 2475              		.cfi_endproc
 2476              	.LFE1:
 2478              		.section	.text.complete_access_get_variables,"ax",%progbits
 2479              		.align	1
 2480              		.syntax unified
 2481              		.thumb
 2482              		.thumb_func
 2484              	complete_access_get_variables:
 2485              	.LVL235:
 2486              	.LFB7:
 435:Drivers/SOES/Src/esc_coe.c ****    *index = etohs (coesdo->index);
 2487              		.loc 1 435 1 is_stmt 1 view -0
 2488              		.cfi_startproc
 2489              		@ args = 4, pretend = 0, frame = 0
 2490              		@ frame_needed = 0, uses_anonymous_args = 0
 435:Drivers/SOES/Src/esc_coe.c ****    *index = etohs (coesdo->index);
 2491              		.loc 1 435 1 is_stmt 0 view .LVU743
 2492 0000 38B5     		push	{r3, r4, r5, lr}
 2493              		.cfi_def_cfa_offset 16
 2494              		.cfi_offset 3, -16
 2495              		.cfi_offset 4, -12
 2496              		.cfi_offset 5, -8
 2497              		.cfi_offset 14, -4
 2498 0002 1D46     		mov	r5, r3
 436:Drivers/SOES/Src/esc_coe.c ****    *subindex = coesdo->subindex;
 2499              		.loc 1 436 4 is_stmt 1 view .LVU744
 436:Drivers/SOES/Src/esc_coe.c ****    *subindex = coesdo->subindex;
 2500              		.loc 1 436 13 is_stmt 0 view .LVU745
ARM GAS  /tmp/ccFH4wf5.s 			page 84


 2501 0004 B0F80930 		ldrh	r3, [r0, #9]	@ unaligned
 2502              	.LVL236:
 436:Drivers/SOES/Src/esc_coe.c ****    *subindex = coesdo->subindex;
 2503              		.loc 1 436 11 view .LVU746
 2504 0008 0B80     		strh	r3, [r1]	@ movhi
 437:Drivers/SOES/Src/esc_coe.c **** 
 2505              		.loc 1 437 4 is_stmt 1 view .LVU747
 437:Drivers/SOES/Src/esc_coe.c **** 
 2506              		.loc 1 437 22 is_stmt 0 view .LVU748
 2507 000a C37A     		ldrb	r3, [r0, #11]	@ zero_extendqisi2
 437:Drivers/SOES/Src/esc_coe.c **** 
 2508              		.loc 1 437 14 view .LVU749
 2509 000c 1370     		strb	r3, [r2]
 440:Drivers/SOES/Src/esc_coe.c ****    {
 2510              		.loc 1 440 4 is_stmt 1 view .LVU750
 440:Drivers/SOES/Src/esc_coe.c ****    {
 2511              		.loc 1 440 7 is_stmt 0 view .LVU751
 2512 000e 012B     		cmp	r3, #1
 2513 0010 10D8     		bhi	.L156
 2514 0012 1446     		mov	r4, r2
 445:Drivers/SOES/Src/esc_coe.c ****    if (*nidx < 0)
 2515              		.loc 1 445 4 is_stmt 1 view .LVU752
 445:Drivers/SOES/Src/esc_coe.c ****    if (*nidx < 0)
 2516              		.loc 1 445 12 is_stmt 0 view .LVU753
 2517 0014 0888     		ldrh	r0, [r1]
 2518              	.LVL237:
 445:Drivers/SOES/Src/esc_coe.c ****    if (*nidx < 0)
 2519              		.loc 1 445 12 view .LVU754
 2520 0016 FFF7FEFF 		bl	SDO_findobject
 2521              	.LVL238:
 445:Drivers/SOES/Src/esc_coe.c ****    if (*nidx < 0)
 2522              		.loc 1 445 10 view .LVU755
 2523 001a 00B2     		sxth	r0, r0
 2524 001c 2880     		strh	r0, [r5]	@ movhi
 446:Drivers/SOES/Src/esc_coe.c ****    {
 2525              		.loc 1 446 4 is_stmt 1 view .LVU756
 446:Drivers/SOES/Src/esc_coe.c ****    {
 2526              		.loc 1 446 7 is_stmt 0 view .LVU757
 2527 001e 0028     		cmp	r0, #0
 2528 0020 0ADB     		blt	.L157
 451:Drivers/SOES/Src/esc_coe.c ****    if (*nsub < 0)
 2529              		.loc 1 451 4 is_stmt 1 view .LVU758
 451:Drivers/SOES/Src/esc_coe.c ****    if (*nsub < 0)
 2530              		.loc 1 451 12 is_stmt 0 view .LVU759
 2531 0022 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 2532 0024 FFF7FEFF 		bl	SDO_findsubindex
 2533              	.LVL239:
 451:Drivers/SOES/Src/esc_coe.c ****    if (*nsub < 0)
 2534              		.loc 1 451 10 view .LVU760
 2535 0028 049B     		ldr	r3, [sp, #16]
 2536 002a 1880     		strh	r0, [r3]	@ movhi
 452:Drivers/SOES/Src/esc_coe.c ****    {
 2537              		.loc 1 452 4 is_stmt 1 view .LVU761
 452:Drivers/SOES/Src/esc_coe.c ****    {
 2538              		.loc 1 452 7 is_stmt 0 view .LVU762
 2539 002c 0028     		cmp	r0, #0
 2540 002e 05DB     		blt	.L158
ARM GAS  /tmp/ccFH4wf5.s 			page 85


 457:Drivers/SOES/Src/esc_coe.c **** }
 2541              		.loc 1 457 11 view .LVU763
 2542 0030 0020     		movs	r0, #0
 2543              	.LVL240:
 2544              	.L154:
 458:Drivers/SOES/Src/esc_coe.c **** 
 2545              		.loc 1 458 1 view .LVU764
 2546 0032 38BD     		pop	{r3, r4, r5, pc}
 2547              	.LVL241:
 2548              	.L156:
 442:Drivers/SOES/Src/esc_coe.c ****    }
 2549              		.loc 1 442 14 view .LVU765
 2550 0034 0248     		ldr	r0, .L160
 2551              	.LVL242:
 442:Drivers/SOES/Src/esc_coe.c ****    }
 2552              		.loc 1 442 14 view .LVU766
 2553 0036 FCE7     		b	.L154
 2554              	.LVL243:
 2555              	.L157:
 448:Drivers/SOES/Src/esc_coe.c ****    }
 2556              		.loc 1 448 14 view .LVU767
 2557 0038 0248     		ldr	r0, .L160+4
 2558 003a FAE7     		b	.L154
 2559              	.L158:
 454:Drivers/SOES/Src/esc_coe.c ****    }
 2560              		.loc 1 454 14 view .LVU768
 2561 003c 0248     		ldr	r0, .L160+8
 2562 003e F8E7     		b	.L154
 2563              	.L161:
 2564              		.align	2
 2565              	.L160:
 2566 0040 00000106 		.word	100728832
 2567 0044 00000206 		.word	100794368
 2568 0048 11000906 		.word	101253137
 2569              		.cfi_endproc
 2570              	.LFE7:
 2572              		.section	.text.SDO_upload_complete_access,"ax",%progbits
 2573              		.align	1
 2574              		.syntax unified
 2575              		.thumb
 2576              		.thumb_func
 2578              	SDO_upload_complete_access:
 2579              	.LFB10:
 569:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coesdo = (_COEsdo *) &MBX[0];
 2580              		.loc 1 569 1 is_stmt 1 view -0
 2581              		.cfi_startproc
 2582              		@ args = 0, pretend = 0, frame = 16
 2583              		@ frame_needed = 0, uses_anonymous_args = 0
 2584 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2585              		.cfi_def_cfa_offset 36
 2586              		.cfi_offset 4, -36
 2587              		.cfi_offset 5, -32
 2588              		.cfi_offset 6, -28
 2589              		.cfi_offset 7, -24
 2590              		.cfi_offset 8, -20
 2591              		.cfi_offset 9, -16
 2592              		.cfi_offset 10, -12
ARM GAS  /tmp/ccFH4wf5.s 			page 86


 2593              		.cfi_offset 11, -8
 2594              		.cfi_offset 14, -4
 2595 0004 87B0     		sub	sp, sp, #28
 2596              		.cfi_def_cfa_offset 64
 570:Drivers/SOES/Src/esc_coe.c ****    uint16_t index;
 2597              		.loc 1 570 4 view .LVU770
 2598              	.LVL244:
 571:Drivers/SOES/Src/esc_coe.c ****    uint8_t subindex;
 2599              		.loc 1 571 4 view .LVU771
 572:Drivers/SOES/Src/esc_coe.c ****    int16_t nidx, nsub;
 2600              		.loc 1 572 4 view .LVU772
 573:Drivers/SOES/Src/esc_coe.c ****    uint32_t abortcode = complete_access_get_variables
 2601              		.loc 1 573 4 view .LVU773
 574:Drivers/SOES/Src/esc_coe.c ****                            (coesdo, &index, &subindex, &nidx, &nsub);
 2602              		.loc 1 574 4 view .LVU774
 574:Drivers/SOES/Src/esc_coe.c ****                            (coesdo, &index, &subindex, &nidx, &nsub);
 2603              		.loc 1 574 25 is_stmt 0 view .LVU775
 2604 0006 04AB     		add	r3, sp, #16
 2605 0008 0093     		str	r3, [sp]
 2606 000a 0DF11203 		add	r3, sp, #18
 2607 000e 0DF11502 		add	r2, sp, #21
 2608 0012 0DF11601 		add	r1, sp, #22
 2609 0016 7848     		ldr	r0, .L184
 2610 0018 FFF7FEFF 		bl	complete_access_get_variables
 2611              	.LVL245:
 576:Drivers/SOES/Src/esc_coe.c ****    {
 2612              		.loc 1 576 4 is_stmt 1 view .LVU776
 576:Drivers/SOES/Src/esc_coe.c ****    {
 2613              		.loc 1 576 7 is_stmt 0 view .LVU777
 2614 001c 0028     		cmp	r0, #0
 2615 001e 40F0A580 		bne	.L177
 582:Drivers/SOES/Src/esc_coe.c ****    if (MBXout == 0)
 2616              		.loc 1 582 4 is_stmt 1 view .LVU778
 582:Drivers/SOES/Src/esc_coe.c ****    if (MBXout == 0)
 2617              		.loc 1 582 21 is_stmt 0 view .LVU779
 2618 0022 FFF7FEFF 		bl	ESC_claimbuffer
 2619              	.LVL246:
 583:Drivers/SOES/Src/esc_coe.c ****    {
 2620              		.loc 1 583 4 is_stmt 1 view .LVU780
 583:Drivers/SOES/Src/esc_coe.c ****    {
 2621              		.loc 1 583 7 is_stmt 0 view .LVU781
 2622 0026 0546     		mov	r5, r0
 2623 0028 0028     		cmp	r0, #0
 2624 002a 00F0AA80 		beq	.L178
 592:Drivers/SOES/Src/esc_coe.c **** 
 2625              		.loc 1 592 4 is_stmt 1 view .LVU782
 592:Drivers/SOES/Src/esc_coe.c **** 
 2626              		.loc 1 592 40 is_stmt 0 view .LVU783
 2627 002e BDF91210 		ldrsh	r1, [sp, #18]
 592:Drivers/SOES/Src/esc_coe.c **** 
 2628              		.loc 1 592 17 view .LVU784
 2629 0032 C1EBC102 		rsb	r2, r1, r1, lsl #3
 2630 0036 714B     		ldr	r3, .L184+4
 2631 0038 03EB4203 		add	r3, r3, r2, lsl #1
 2632 003c D3F80A60 		ldr	r6, [r3, #10]	@ unaligned
 2633              	.LVL247:
 595:Drivers/SOES/Src/esc_coe.c **** 
ARM GAS  /tmp/ccFH4wf5.s 			page 87


 2634              		.loc 1 595 4 is_stmt 1 view .LVU785
 595:Drivers/SOES/Src/esc_coe.c **** 
 2635              		.loc 1 595 20 is_stmt 0 view .LVU786
 2636 0040 0023     		movs	r3, #0
 2637 0042 0193     		str	r3, [sp, #4]
 2638 0044 0093     		str	r3, [sp]
 2639 0046 BDF91020 		ldrsh	r2, [sp, #16]
 2640 004a 3046     		mov	r0, r6
 2641              	.LVL248:
 595:Drivers/SOES/Src/esc_coe.c **** 
 2642              		.loc 1 595 20 view .LVU787
 2643 004c FFF7FEFF 		bl	complete_access_subindex_loop
 2644              	.LVL249:
 595:Drivers/SOES/Src/esc_coe.c **** 
 2645              		.loc 1 595 13 view .LVU788
 2646 0050 0390     		str	r0, [sp, #12]
 598:Drivers/SOES/Src/esc_coe.c **** 
 2647              		.loc 1 598 4 is_stmt 1 view .LVU789
 598:Drivers/SOES/Src/esc_coe.c **** 
 2648              		.loc 1 598 12 is_stmt 0 view .LVU790
 2649 0052 1828     		cmp	r0, #24
 2650 0054 00F29E80 		bhi	.L175
 598:Drivers/SOES/Src/esc_coe.c **** 
 2651              		.loc 1 598 53 discriminator 1 view .LVU791
 2652 0058 441E     		subs	r4, r0, #1
 598:Drivers/SOES/Src/esc_coe.c **** 
 2653              		.loc 1 598 58 discriminator 1 view .LVU792
 2654 005a E408     		lsrs	r4, r4, #3
 598:Drivers/SOES/Src/esc_coe.c **** 
 2655              		.loc 1 598 44 discriminator 1 view .LVU793
 2656 005c C4F10304 		rsb	r4, r4, #3
 598:Drivers/SOES/Src/esc_coe.c **** 
 2657              		.loc 1 598 12 discriminator 1 view .LVU794
 2658 0060 A400     		lsls	r4, r4, #2
 2659 0062 E4B2     		uxtb	r4, r4
 2660              	.L166:
 2661              	.LVL250:
 601:Drivers/SOES/Src/esc_coe.c **** 
 2662              		.loc 1 601 4 is_stmt 1 discriminator 4 view .LVU795
 601:Drivers/SOES/Src/esc_coe.c **** 
 2663              		.loc 1 601 11 is_stmt 0 discriminator 4 view .LVU796
 2664 0064 0730     		adds	r0, r0, #7
 2665 0066 C308     		lsrs	r3, r0, #3
 601:Drivers/SOES/Src/esc_coe.c **** 
 2666              		.loc 1 601 9 discriminator 4 view .LVU797
 2667 0068 0393     		str	r3, [sp, #12]
 603:Drivers/SOES/Src/esc_coe.c ****    {
 2668              		.loc 1 603 4 is_stmt 1 discriminator 4 view .LVU798
 603:Drivers/SOES/Src/esc_coe.c ****    {
 2669              		.loc 1 603 7 is_stmt 0 discriminator 4 view .LVU799
 2670 006a B3F5803F 		cmp	r3, #65536
 2671 006e 80F09380 		bcs	.L179
 611:Drivers/SOES/Src/esc_coe.c ****    {
 2672              		.loc 1 611 4 is_stmt 1 view .LVU800
 611:Drivers/SOES/Src/esc_coe.c ****    {
 2673              		.loc 1 611 14 is_stmt 0 view .LVU801
 2674 0072 1E33     		adds	r3, r3, #30
ARM GAS  /tmp/ccFH4wf5.s 			page 88


 611:Drivers/SOES/Src/esc_coe.c ****    {
 2675              		.loc 1 611 7 view .LVU802
 2676 0074 B3F5C06F 		cmp	r3, #1536
 2677 0078 00F29680 		bhi	.L180
 616:Drivers/SOES/Src/esc_coe.c ****          objd->data, (size_t *)&size, objd->flags | COMPLETE_ACCESS_FLAG);
 2678              		.loc 1 616 4 is_stmt 1 view .LVU803
 617:Drivers/SOES/Src/esc_coe.c ****    if (abortcode != 0)
 2679              		.loc 1 617 14 is_stmt 0 view .LVU804
 2680 007c 3269     		ldr	r2, [r6, #16]	@ unaligned
 617:Drivers/SOES/Src/esc_coe.c ****    if (abortcode != 0)
 2681              		.loc 1 617 43 view .LVU805
 2682 007e F388     		ldrh	r3, [r6, #6]	@ unaligned
 616:Drivers/SOES/Src/esc_coe.c ****          objd->data, (size_t *)&size, objd->flags | COMPLETE_ACCESS_FLAG);
 2683              		.loc 1 616 16 view .LVU806
 2684 0080 43F40043 		orr	r3, r3, #32768
 2685 0084 0093     		str	r3, [sp]
 2686 0086 03AB     		add	r3, sp, #12
 2687 0088 9DF81510 		ldrb	r1, [sp, #21]	@ zero_extendqisi2
 2688 008c BDF81600 		ldrh	r0, [sp, #22]
 2689 0090 FFF7FEFF 		bl	ESC_upload_pre_objecthandler
 2690              	.LVL251:
 618:Drivers/SOES/Src/esc_coe.c ****    {
 2691              		.loc 1 618 4 is_stmt 1 view .LVU807
 618:Drivers/SOES/Src/esc_coe.c ****    {
 2692              		.loc 1 618 7 is_stmt 0 view .LVU808
 2693 0094 0346     		mov	r3, r0
 2694 0096 0028     		cmp	r0, #0
 2695 0098 40F08F80 		bne	.L181
 625:Drivers/SOES/Src/esc_coe.c **** 
 2696              		.loc 1 625 4 is_stmt 1 view .LVU809
 2697 009c 584F     		ldr	r7, .L184+8
 2698 009e 4FF0000A 		mov	r10, #0
 2699 00a2 CDF804A0 		str	r10, [sp, #4]
 2700 00a6 CDF800A0 		str	r10, [sp]
 2701 00aa 3B46     		mov	r3, r7
 2702 00ac BDF91020 		ldrsh	r2, [sp, #16]
 2703 00b0 BDF91210 		ldrsh	r1, [sp, #18]
 2704 00b4 3046     		mov	r0, r6
 2705              	.LVL252:
 625:Drivers/SOES/Src/esc_coe.c **** 
 2706              		.loc 1 625 4 is_stmt 0 view .LVU810
 2707 00b6 FFF7FEFF 		bl	complete_access_subindex_loop
 2708              	.LVL253:
 627:Drivers/SOES/Src/esc_coe.c ****    init_coesdo(coeres, COE_SDORESPONSE,
 2709              		.loc 1 627 4 is_stmt 1 view .LVU811
 627:Drivers/SOES/Src/esc_coe.c ****    init_coesdo(coeres, COE_SDORESPONSE,
 2710              		.loc 1 627 48 is_stmt 0 view .LVU812
 2711 00ba 57F8783C 		ldr	r3, [r7, #-120]
 627:Drivers/SOES/Src/esc_coe.c ****    init_coesdo(coeres, COE_SDORESPONSE,
 2712              		.loc 1 627 46 view .LVU813
 2713 00be 03FB05F8 		mul	r8, r3, r5
 627:Drivers/SOES/Src/esc_coe.c ****    init_coesdo(coeres, COE_SDORESPONSE,
 2714              		.loc 1 627 13 view .LVU814
 2715 00c2 DFF834B1 		ldr	fp, .L184
 2716 00c6 08EB0B09 		add	r9, r8, fp
 2717              	.LVL254:
 628:Drivers/SOES/Src/esc_coe.c ****          COE_COMMAND_UPLOADRESPONSE | COE_COMPLETEACCESS | COE_SIZE_INDICATOR,
ARM GAS  /tmp/ccFH4wf5.s 			page 89


 2718              		.loc 1 628 4 is_stmt 1 view .LVU815
 2719 00ca 9DF81530 		ldrb	r3, [sp, #21]	@ zero_extendqisi2
 2720 00ce 0093     		str	r3, [sp]
 2721 00d0 BDF81630 		ldrh	r3, [sp, #22]
 2722 00d4 5122     		movs	r2, #81
 2723 00d6 0321     		movs	r1, #3
 2724 00d8 4846     		mov	r0, r9
 2725 00da FFF7FEFF 		bl	init_coesdo
 2726              	.LVL255:
 632:Drivers/SOES/Src/esc_coe.c **** 
 2727              		.loc 1 632 4 view .LVU816
 632:Drivers/SOES/Src/esc_coe.c **** 
 2728              		.loc 1 632 21 is_stmt 0 view .LVU817
 2729 00de 07F853AC 		strb	r10, [r7, #-83]
 627:Drivers/SOES/Src/esc_coe.c ****    init_coesdo(coeres, COE_SDORESPONSE,
 2730              		.loc 1 627 48 view .LVU818
 2731 00e2 E03F     		subs	r7, r7, #224
 634:Drivers/SOES/Src/esc_coe.c ****    {
 2732              		.loc 1 634 4 is_stmt 1 view .LVU819
 634:Drivers/SOES/Src/esc_coe.c ****    {
 2733              		.loc 1 634 13 is_stmt 0 view .LVU820
 2734 00e4 039A     		ldr	r2, [sp, #12]
 634:Drivers/SOES/Src/esc_coe.c ****    {
 2735              		.loc 1 634 7 view .LVU821
 2736 00e6 042A     		cmp	r2, #4
 2737 00e8 6FD9     		bls	.L182
 643:Drivers/SOES/Src/esc_coe.c **** 
 2738              		.loc 1 643 7 is_stmt 1 view .LVU822
 643:Drivers/SOES/Src/esc_coe.c **** 
 2739              		.loc 1 643 20 is_stmt 0 view .LVU823
 2740 00ea C9F80C20 		str	r2, [r9, #12]	@ unaligned
 645:Drivers/SOES/Src/esc_coe.c ****       {
 2741              		.loc 1 645 7 is_stmt 1 view .LVU824
 645:Drivers/SOES/Src/esc_coe.c ****       {
 2742              		.loc 1 645 17 is_stmt 0 view .LVU825
 2743 00ee 02F10A03 		add	r3, r2, #10
 645:Drivers/SOES/Src/esc_coe.c ****       {
 2744              		.loc 1 645 37 view .LVU826
 2745 00f2 4449     		ldr	r1, .L184+12
 2746 00f4 896E     		ldr	r1, [r1, #104]
 2747 00f6 881F     		subs	r0, r1, #6
 645:Drivers/SOES/Src/esc_coe.c ****       {
 2748              		.loc 1 645 10 view .LVU827
 2749 00f8 8342     		cmp	r3, r0
 2750 00fa 11D9     		bls	.L172
 649:Drivers/SOES/Src/esc_coe.c ****          /* limit to mailbox size */
 2751              		.loc 1 649 10 is_stmt 1 view .LVU828
 649:Drivers/SOES/Src/esc_coe.c ****          /* limit to mailbox size */
 2752              		.loc 1 649 23 is_stmt 0 view .LVU829
 2753 00fc 414B     		ldr	r3, .L184+12
 2754 00fe A3F89620 		strh	r2, [r3, #150]	@ movhi
 651:Drivers/SOES/Src/esc_coe.c ****          /* number of bytes done */
 2755              		.loc 1 651 10 is_stmt 1 view .LVU830
 651:Drivers/SOES/Src/esc_coe.c ****          /* number of bytes done */
 2756              		.loc 1 651 30 is_stmt 0 view .LVU831
 2757 0102 1039     		subs	r1, r1, #16
 651:Drivers/SOES/Src/esc_coe.c ****          /* number of bytes done */
ARM GAS  /tmp/ccFH4wf5.s 			page 90


 2758              		.loc 1 651 15 view .LVU832
 2759 0104 0391     		str	r1, [sp, #12]
 653:Drivers/SOES/Src/esc_coe.c ****          /* signal segmented transfer */
 2760              		.loc 1 653 10 is_stmt 1 view .LVU833
 653:Drivers/SOES/Src/esc_coe.c ****          /* signal segmented transfer */
 2761              		.loc 1 653 27 is_stmt 0 view .LVU834
 2762 0106 A3F89810 		strh	r1, [r3, #152]	@ movhi
 655:Drivers/SOES/Src/esc_coe.c ****          ESCvar.data = ESCvar.mbxdata;
 2763              		.loc 1 655 10 is_stmt 1 view .LVU835
 655:Drivers/SOES/Src/esc_coe.c ****          ESCvar.data = ESCvar.mbxdata;
 2764              		.loc 1 655 27 is_stmt 0 view .LVU836
 2765 010a 4022     		movs	r2, #64
 2766 010c 83F88D20 		strb	r2, [r3, #141]
 656:Drivers/SOES/Src/esc_coe.c ****          ESCvar.flags = COMPLETE_ACCESS_FLAG;
 2767              		.loc 1 656 10 is_stmt 1 view .LVU837
 656:Drivers/SOES/Src/esc_coe.c ****          ESCvar.flags = COMPLETE_ACCESS_FLAG;
 2768              		.loc 1 656 22 is_stmt 0 view .LVU838
 2769 0110 03F1E002 		add	r2, r3, #224
 2770 0114 C3F89020 		str	r2, [r3, #144]
 657:Drivers/SOES/Src/esc_coe.c ****       }
 2771              		.loc 1 657 10 is_stmt 1 view .LVU839
 657:Drivers/SOES/Src/esc_coe.c ****       }
 2772              		.loc 1 657 23 is_stmt 0 view .LVU840
 2773 0118 4FF40042 		mov	r2, #32768
 2774 011c A3F89E20 		strh	r2, [r3, #158]	@ movhi
 2775              	.L172:
 660:Drivers/SOES/Src/esc_coe.c ****       memcpy((&(coeres->size)) + 1, ESCvar.mbxdata, size);
 2776              		.loc 1 660 7 is_stmt 1 view .LVU841
 660:Drivers/SOES/Src/esc_coe.c ****       memcpy((&(coeres->size)) + 1, ESCvar.mbxdata, size);
 2777              		.loc 1 660 34 is_stmt 0 view .LVU842
 2778 0120 039A     		ldr	r2, [sp, #12]
 2779 0122 02F10A03 		add	r3, r2, #10
 660:Drivers/SOES/Src/esc_coe.c ****       memcpy((&(coeres->size)) + 1, ESCvar.mbxdata, size);
 2780              		.loc 1 660 32 view .LVU843
 2781 0126 2BF80830 		strh	r3, [fp, r8]	@ unaligned
 661:Drivers/SOES/Src/esc_coe.c ****    }
 2782              		.loc 1 661 7 is_stmt 1 view .LVU844
 2783 012a 3549     		ldr	r1, .L184+8
 2784 012c 09F11000 		add	r0, r9, #16
 2785 0130 FFF7FEFF 		bl	memcpy
 2786              	.LVL256:
 2787              	.L171:
 664:Drivers/SOES/Src/esc_coe.c ****    {
 2788              		.loc 1 664 4 view .LVU845
 664:Drivers/SOES/Src/esc_coe.c ****    {
 2789              		.loc 1 664 14 is_stmt 0 view .LVU846
 2790 0134 334B     		ldr	r3, .L184+12
 2791 0136 93F88D30 		ldrb	r3, [r3, #141]	@ zero_extendqisi2
 664:Drivers/SOES/Src/esc_coe.c ****    {
 2792              		.loc 1 664 7 view .LVU847
 2793 013a 5BB9     		cbnz	r3, .L173
 666:Drivers/SOES/Src/esc_coe.c ****             objd->flags | COMPLETE_ACCESS_FLAG);
 2794              		.loc 1 666 7 is_stmt 1 view .LVU848
 667:Drivers/SOES/Src/esc_coe.c **** 
 2795              		.loc 1 667 17 is_stmt 0 view .LVU849
 2796 013c F288     		ldrh	r2, [r6, #6]	@ unaligned
 666:Drivers/SOES/Src/esc_coe.c ****             objd->flags | COMPLETE_ACCESS_FLAG);
ARM GAS  /tmp/ccFH4wf5.s 			page 91


 2797              		.loc 1 666 19 view .LVU850
 2798 013e 42F40042 		orr	r2, r2, #32768
 2799 0142 9DF81510 		ldrb	r1, [sp, #21]	@ zero_extendqisi2
 2800 0146 BDF81600 		ldrh	r0, [sp, #22]
 2801 014a FFF7FEFF 		bl	ESC_upload_post_objecthandler
 2802              	.LVL257:
 669:Drivers/SOES/Src/esc_coe.c ****       {
 2803              		.loc 1 669 7 is_stmt 1 view .LVU851
 669:Drivers/SOES/Src/esc_coe.c ****       {
 2804              		.loc 1 669 10 is_stmt 0 view .LVU852
 2805 014e 0346     		mov	r3, r0
 2806 0150 0028     		cmp	r0, #0
 2807 0152 48D1     		bne	.L183
 2808              	.LVL258:
 2809              	.L173:
 676:Drivers/SOES/Src/esc_coe.c **** 
 2810              		.loc 1 676 4 is_stmt 1 view .LVU853
 676:Drivers/SOES/Src/esc_coe.c **** 
 2811              		.loc 1 676 29 is_stmt 0 view .LVU854
 2812 0154 2C4B     		ldr	r3, .L184+16
 2813 0156 0322     		movs	r2, #3
 2814 0158 5A55     		strb	r2, [r3, r5]
 678:Drivers/SOES/Src/esc_coe.c **** }
 2815              		.loc 1 678 4 is_stmt 1 view .LVU855
 2816 015a 0023     		movs	r3, #0
 2817 015c 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2818 0160 BDF81610 		ldrh	r1, [sp, #22]
 2819 0164 2846     		mov	r0, r5
 2820 0166 FFF7FEFF 		bl	set_state_idle
 2821              	.LVL259:
 2822 016a 07E0     		b	.L162
 2823              	.LVL260:
 2824              	.L177:
 678:Drivers/SOES/Src/esc_coe.c **** }
 2825              		.loc 1 678 4 is_stmt 0 view .LVU856
 2826 016c 0346     		mov	r3, r0
 578:Drivers/SOES/Src/esc_coe.c ****       return;
 2827              		.loc 1 578 7 is_stmt 1 view .LVU857
 2828 016e 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2829 0172 BDF81610 		ldrh	r1, [sp, #22]
 2830 0176 0020     		movs	r0, #0
 2831              	.LVL261:
 578:Drivers/SOES/Src/esc_coe.c ****       return;
 2832              		.loc 1 578 7 is_stmt 0 view .LVU858
 2833 0178 FFF7FEFF 		bl	set_state_idle
 2834              	.LVL262:
 579:Drivers/SOES/Src/esc_coe.c ****    }
 2835              		.loc 1 579 7 is_stmt 1 view .LVU859
 2836              	.L162:
 679:Drivers/SOES/Src/esc_coe.c **** 
 2837              		.loc 1 679 1 is_stmt 0 view .LVU860
 2838 017c 07B0     		add	sp, sp, #28
 2839              		.cfi_remember_state
 2840              		.cfi_def_cfa_offset 36
 2841              		@ sp needed
 2842 017e BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2843              	.LVL263:
ARM GAS  /tmp/ccFH4wf5.s 			page 92


 2844              	.L178:
 2845              		.cfi_restore_state
 588:Drivers/SOES/Src/esc_coe.c ****       return;
 2846              		.loc 1 588 7 is_stmt 1 view .LVU861
 2847 0182 0023     		movs	r3, #0
 2848 0184 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2849 0188 BDF81610 		ldrh	r1, [sp, #22]
 2850 018c 1846     		mov	r0, r3
 2851              	.LVL264:
 588:Drivers/SOES/Src/esc_coe.c ****       return;
 2852              		.loc 1 588 7 is_stmt 0 view .LVU862
 2853 018e FFF7FEFF 		bl	set_state_idle
 2854              	.LVL265:
 589:Drivers/SOES/Src/esc_coe.c ****    }
 2855              		.loc 1 589 7 is_stmt 1 view .LVU863
 2856 0192 F3E7     		b	.L162
 2857              	.LVL266:
 2858              	.L175:
 598:Drivers/SOES/Src/esc_coe.c **** 
 2859              		.loc 1 598 12 is_stmt 0 view .LVU864
 2860 0194 0024     		movs	r4, #0
 2861 0196 65E7     		b	.L166
 2862              	.LVL267:
 2863              	.L179:
 606:Drivers/SOES/Src/esc_coe.c ****       return;
 2864              		.loc 1 606 7 is_stmt 1 view .LVU865
 2865 0198 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2866 019c BDF81610 		ldrh	r1, [sp, #22]
 2867 01a0 2846     		mov	r0, r5
 2868 01a2 FFF7FEFF 		bl	set_state_idle
 2869              	.LVL268:
 607:Drivers/SOES/Src/esc_coe.c ****    }
 2870              		.loc 1 607 7 view .LVU866
 2871 01a6 E9E7     		b	.L162
 2872              	.L180:
 613:Drivers/SOES/Src/esc_coe.c ****       return;
 2873              		.loc 1 613 7 view .LVU867
 2874 01a8 184B     		ldr	r3, .L184+20
 2875 01aa 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2876 01ae BDF81610 		ldrh	r1, [sp, #22]
 2877 01b2 2846     		mov	r0, r5
 2878 01b4 FFF7FEFF 		bl	set_state_idle
 2879              	.LVL269:
 614:Drivers/SOES/Src/esc_coe.c ****    }
 2880              		.loc 1 614 7 view .LVU868
 2881 01b8 E0E7     		b	.L162
 2882              	.LVL270:
 2883              	.L181:
 620:Drivers/SOES/Src/esc_coe.c ****       return;
 2884              		.loc 1 620 7 view .LVU869
 2885 01ba 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2886 01be BDF81610 		ldrh	r1, [sp, #22]
 2887 01c2 2846     		mov	r0, r5
 2888              	.LVL271:
 620:Drivers/SOES/Src/esc_coe.c ****       return;
 2889              		.loc 1 620 7 is_stmt 0 view .LVU870
 2890 01c4 FFF7FEFF 		bl	set_state_idle
ARM GAS  /tmp/ccFH4wf5.s 			page 93


 2891              	.LVL272:
 621:Drivers/SOES/Src/esc_coe.c ****    }
 2892              		.loc 1 621 7 is_stmt 1 view .LVU871
 2893 01c8 D8E7     		b	.L162
 2894              	.LVL273:
 2895              	.L182:
 637:Drivers/SOES/Src/esc_coe.c ****       memcpy(&(coeres->size), ESCvar.mbxdata, size);
 2896              		.loc 1 637 7 view .LVU872
 637:Drivers/SOES/Src/esc_coe.c ****       memcpy(&(coeres->size), ESCvar.mbxdata, size);
 2897              		.loc 1 637 13 is_stmt 0 view .LVU873
 2898 01ca 99F80830 		ldrb	r3, [r9, #8]	@ zero_extendqisi2
 637:Drivers/SOES/Src/esc_coe.c ****       memcpy(&(coeres->size), ESCvar.mbxdata, size);
 2899              		.loc 1 637 23 view .LVU874
 2900 01ce 2343     		orrs	r3, r3, r4
 2901 01d0 43F00203 		orr	r3, r3, #2
 2902 01d4 89F80830 		strb	r3, [r9, #8]
 638:Drivers/SOES/Src/esc_coe.c ****    }
 2903              		.loc 1 638 7 is_stmt 1 view .LVU875
 2904 01d8 07F1E001 		add	r1, r7, #224
 2905 01dc 09F10C00 		add	r0, r9, #12
 2906 01e0 FFF7FEFF 		bl	memcpy
 2907              	.LVL274:
 2908 01e4 A6E7     		b	.L171
 2909              	.LVL275:
 2910              	.L183:
 671:Drivers/SOES/Src/esc_coe.c ****          return;
 2911              		.loc 1 671 10 view .LVU876
 2912 01e6 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2913 01ea BDF81610 		ldrh	r1, [sp, #22]
 2914 01ee 2846     		mov	r0, r5
 2915              	.LVL276:
 671:Drivers/SOES/Src/esc_coe.c ****          return;
 2916              		.loc 1 671 10 is_stmt 0 view .LVU877
 2917 01f0 FFF7FEFF 		bl	set_state_idle
 2918              	.LVL277:
 672:Drivers/SOES/Src/esc_coe.c ****       }
 2919              		.loc 1 672 10 is_stmt 1 view .LVU878
 2920 01f4 C2E7     		b	.L162
 2921              	.L185:
 2922 01f6 00BF     		.align	2
 2923              	.L184:
 2924 01f8 00000000 		.word	MBX
 2925 01fc 00000000 		.word	SDOobjects
 2926 0200 E0000000 		.word	ESCvar+224
 2927 0204 00000000 		.word	ESCvar
 2928 0208 00000000 		.word	MBXcontrol
 2929 020c 04000106 		.word	100728836
 2930              		.cfi_endproc
 2931              	.LFE10:
 2933              		.section	.text.SDO_download_complete_access,"ax",%progbits
 2934              		.align	1
 2935              		.syntax unified
 2936              		.thumb
 2937              		.thumb_func
 2939              	SDO_download_complete_access:
 2940              	.LFB13:
 896:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coesdo = (_COEsdo *) &MBX[0];
ARM GAS  /tmp/ccFH4wf5.s 			page 94


 2941              		.loc 1 896 1 view -0
 2942              		.cfi_startproc
 2943              		@ args = 0, pretend = 0, frame = 8
 2944              		@ frame_needed = 0, uses_anonymous_args = 0
 2945 0000 70B5     		push	{r4, r5, r6, lr}
 2946              		.cfi_def_cfa_offset 16
 2947              		.cfi_offset 4, -16
 2948              		.cfi_offset 5, -12
 2949              		.cfi_offset 6, -8
 2950              		.cfi_offset 14, -4
 2951 0002 84B0     		sub	sp, sp, #16
 2952              		.cfi_def_cfa_offset 32
 897:Drivers/SOES/Src/esc_coe.c ****    uint16_t index;
 2953              		.loc 1 897 4 view .LVU880
 2954              	.LVL278:
 898:Drivers/SOES/Src/esc_coe.c ****    uint8_t subindex;
 2955              		.loc 1 898 4 view .LVU881
 899:Drivers/SOES/Src/esc_coe.c ****    int16_t nidx, nsub;
 2956              		.loc 1 899 4 view .LVU882
 900:Drivers/SOES/Src/esc_coe.c ****    uint32_t abortcode = complete_access_get_variables
 2957              		.loc 1 900 4 view .LVU883
 901:Drivers/SOES/Src/esc_coe.c ****                            (coesdo, &index, &subindex, &nidx, &nsub);
 2958              		.loc 1 901 4 view .LVU884
 901:Drivers/SOES/Src/esc_coe.c ****                            (coesdo, &index, &subindex, &nidx, &nsub);
 2959              		.loc 1 901 25 is_stmt 0 view .LVU885
 2960 0004 02AB     		add	r3, sp, #8
 2961 0006 0093     		str	r3, [sp]
 2962 0008 0DF10A03 		add	r3, sp, #10
 2963 000c 0DF10D02 		add	r2, sp, #13
 2964 0010 0DF10E01 		add	r1, sp, #14
 2965 0014 5048     		ldr	r0, .L203
 2966 0016 FFF7FEFF 		bl	complete_access_get_variables
 2967              	.LVL279:
 903:Drivers/SOES/Src/esc_coe.c ****    {
 2968              		.loc 1 903 4 is_stmt 1 view .LVU886
 903:Drivers/SOES/Src/esc_coe.c ****    {
 2969              		.loc 1 903 7 is_stmt 0 view .LVU887
 2970 001a 0028     		cmp	r0, #0
 2971 001c 54D1     		bne	.L198
 909:Drivers/SOES/Src/esc_coe.c ****    uint32_t *mbxdata = &(coesdo->size);
 2972              		.loc 1 909 4 is_stmt 1 view .LVU888
 910:Drivers/SOES/Src/esc_coe.c **** 
 2973              		.loc 1 910 4 view .LVU889
 2974              	.LVL280:
 912:Drivers/SOES/Src/esc_coe.c ****    {
 2975              		.loc 1 912 4 view .LVU890
 912:Drivers/SOES/Src/esc_coe.c ****    {
 2976              		.loc 1 912 14 is_stmt 0 view .LVU891
 2977 001e 4E4B     		ldr	r3, .L203
 2978 0020 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 912:Drivers/SOES/Src/esc_coe.c ****    {
 2979              		.loc 1 912 7 view .LVU892
 2980 0022 13F0020F 		tst	r3, #2
 2981 0026 58D0     		beq	.L189
 915:Drivers/SOES/Src/esc_coe.c ****    }
 2982              		.loc 1 915 7 is_stmt 1 view .LVU893
 915:Drivers/SOES/Src/esc_coe.c ****    }
ARM GAS  /tmp/ccFH4wf5.s 			page 95


 2983              		.loc 1 915 45 is_stmt 0 view .LVU894
 2984 0028 C3F38104 		ubfx	r4, r3, #2, #2
 915:Drivers/SOES/Src/esc_coe.c ****    }
 2985              		.loc 1 915 13 view .LVU895
 2986 002c C4F10404 		rsb	r4, r4, #4
 2987 0030 A4B2     		uxth	r4, r4
 2988              	.LVL281:
 910:Drivers/SOES/Src/esc_coe.c **** 
 2989              		.loc 1 910 14 view .LVU896
 2990 0032 4A4D     		ldr	r5, .L203+4
 2991              	.LVL282:
 2992              	.L190:
 924:Drivers/SOES/Src/esc_coe.c **** 
 2993              		.loc 1 924 4 is_stmt 1 view .LVU897
 924:Drivers/SOES/Src/esc_coe.c **** 
 2994              		.loc 1 924 40 is_stmt 0 view .LVU898
 2995 0034 BDF90A10 		ldrsh	r1, [sp, #10]
 924:Drivers/SOES/Src/esc_coe.c **** 
 2996              		.loc 1 924 17 view .LVU899
 2997 0038 C1EBC103 		rsb	r3, r1, r1, lsl #3
 2998 003c 4848     		ldr	r0, .L203+8
 2999              	.LVL283:
 924:Drivers/SOES/Src/esc_coe.c **** 
 3000              		.loc 1 924 17 view .LVU900
 3001 003e 00EB4300 		add	r0, r0, r3, lsl #1
 3002 0042 D0F80A60 		ldr	r6, [r0, #10]	@ unaligned
 3003              	.LVL284:
 927:Drivers/SOES/Src/esc_coe.c ****    if (BITS2BYTES(size) > 0xffff)
 3004              		.loc 1 927 4 is_stmt 1 view .LVU901
 927:Drivers/SOES/Src/esc_coe.c ****    if (BITS2BYTES(size) > 0xffff)
 3005              		.loc 1 927 20 is_stmt 0 view .LVU902
 3006 0046 0023     		movs	r3, #0
 3007 0048 0193     		str	r3, [sp, #4]
 3008 004a 0122     		movs	r2, #1
 3009 004c 0092     		str	r2, [sp]
 3010 004e BDF90820 		ldrsh	r2, [sp, #8]
 3011 0052 3046     		mov	r0, r6
 3012 0054 FFF7FEFF 		bl	complete_access_subindex_loop
 3013              	.LVL285:
 3014 0058 0346     		mov	r3, r0
 3015              	.LVL286:
 928:Drivers/SOES/Src/esc_coe.c ****    {
 3016              		.loc 1 928 4 is_stmt 1 view .LVU903
 928:Drivers/SOES/Src/esc_coe.c ****    {
 3017              		.loc 1 928 8 is_stmt 0 view .LVU904
 3018 005a C21D     		adds	r2, r0, #7
 3019 005c D108     		lsrs	r1, r2, #3
 928:Drivers/SOES/Src/esc_coe.c ****    {
 3020              		.loc 1 928 7 view .LVU905
 3021 005e B2F5002F 		cmp	r2, #524288
 3022 0062 3FD2     		bcs	.L199
 940:Drivers/SOES/Src/esc_coe.c ****    {
 3023              		.loc 1 940 9 is_stmt 1 view .LVU906
 940:Drivers/SOES/Src/esc_coe.c ****    {
 3024              		.loc 1 940 12 is_stmt 0 view .LVU907
 3025 0064 A142     		cmp	r1, r4
 3026 0066 55D3     		bcc	.L192
ARM GAS  /tmp/ccFH4wf5.s 			page 96


 942:Drivers/SOES/Src/esc_coe.c ****             size, objd->flags | COMPLETE_ACCESS_FLAG);
 3027              		.loc 1 942 7 is_stmt 1 view .LVU908
 943:Drivers/SOES/Src/esc_coe.c ****       if (abortcode != 0)
 3028              		.loc 1 943 23 is_stmt 0 view .LVU909
 3029 0068 F288     		ldrh	r2, [r6, #6]	@ unaligned
 942:Drivers/SOES/Src/esc_coe.c ****             size, objd->flags | COMPLETE_ACCESS_FLAG);
 3030              		.loc 1 942 19 view .LVU910
 3031 006a 42F40042 		orr	r2, r2, #32768
 3032 006e 0092     		str	r2, [sp]
 3033 0070 2A46     		mov	r2, r5
 3034 0072 9DF80D10 		ldrb	r1, [sp, #13]	@ zero_extendqisi2
 3035 0076 BDF80E00 		ldrh	r0, [sp, #14]
 3036              	.LVL287:
 942:Drivers/SOES/Src/esc_coe.c ****             size, objd->flags | COMPLETE_ACCESS_FLAG);
 3037              		.loc 1 942 19 view .LVU911
 3038 007a FFF7FEFF 		bl	ESC_download_pre_objecthandler
 3039              	.LVL288:
 944:Drivers/SOES/Src/esc_coe.c ****       {
 3040              		.loc 1 944 7 is_stmt 1 view .LVU912
 944:Drivers/SOES/Src/esc_coe.c ****       {
 3041              		.loc 1 944 10 is_stmt 0 view .LVU913
 3042 007e 0346     		mov	r3, r0
 3043 0080 C0BB     		cbnz	r0, .L200
 951:Drivers/SOES/Src/esc_coe.c **** 
 3044              		.loc 1 951 7 is_stmt 1 view .LVU914
 3045 0082 0194     		str	r4, [sp, #4]
 3046 0084 0123     		movs	r3, #1
 3047 0086 0093     		str	r3, [sp]
 3048 0088 2B46     		mov	r3, r5
 3049 008a BDF90820 		ldrsh	r2, [sp, #8]
 3050 008e BDF90A10 		ldrsh	r1, [sp, #10]
 3051 0092 3046     		mov	r0, r6
 3052              	.LVL289:
 951:Drivers/SOES/Src/esc_coe.c **** 
 3053              		.loc 1 951 7 is_stmt 0 view .LVU915
 3054 0094 FFF7FEFF 		bl	complete_access_subindex_loop
 3055              	.LVL290:
 953:Drivers/SOES/Src/esc_coe.c ****             objd->flags | COMPLETE_ACCESS_FLAG);
 3056              		.loc 1 953 7 is_stmt 1 view .LVU916
 954:Drivers/SOES/Src/esc_coe.c ****       if (abortcode != 0)
 3057              		.loc 1 954 17 is_stmt 0 view .LVU917
 3058 0098 F288     		ldrh	r2, [r6, #6]	@ unaligned
 953:Drivers/SOES/Src/esc_coe.c ****             objd->flags | COMPLETE_ACCESS_FLAG);
 3059              		.loc 1 953 19 view .LVU918
 3060 009a 42F40042 		orr	r2, r2, #32768
 3061 009e 9DF80D10 		ldrb	r1, [sp, #13]	@ zero_extendqisi2
 3062 00a2 BDF80E00 		ldrh	r0, [sp, #14]
 3063 00a6 FFF7FEFF 		bl	ESC_download_post_objecthandler
 3064              	.LVL291:
 955:Drivers/SOES/Src/esc_coe.c ****       {
 3065              		.loc 1 955 7 is_stmt 1 view .LVU919
 955:Drivers/SOES/Src/esc_coe.c ****       {
 3066              		.loc 1 955 10 is_stmt 0 view .LVU920
 3067 00aa 0346     		mov	r3, r0
 3068 00ac 50BB     		cbnz	r0, .L201
 967:Drivers/SOES/Src/esc_coe.c ****    if (MBXout > 0)
 3069              		.loc 1 967 4 is_stmt 1 view .LVU921
ARM GAS  /tmp/ccFH4wf5.s 			page 97


 967:Drivers/SOES/Src/esc_coe.c ****    if (MBXout > 0)
 3070              		.loc 1 967 21 is_stmt 0 view .LVU922
 3071 00ae FFF7FEFF 		bl	ESC_claimbuffer
 3072              	.LVL292:
 968:Drivers/SOES/Src/esc_coe.c ****    {
 3073              		.loc 1 968 4 is_stmt 1 view .LVU923
 968:Drivers/SOES/Src/esc_coe.c ****    {
 3074              		.loc 1 968 7 is_stmt 0 view .LVU924
 3075 00b2 0446     		mov	r4, r0
 3076              	.LVL293:
 968:Drivers/SOES/Src/esc_coe.c ****    {
 3077              		.loc 1 968 7 view .LVU925
 3078 00b4 C0BB     		cbnz	r0, .L202
 3079              	.LVL294:
 3080              	.L195:
 979:Drivers/SOES/Src/esc_coe.c **** }
 3081              		.loc 1 979 4 is_stmt 1 view .LVU926
 3082 00b6 0023     		movs	r3, #0
 3083 00b8 9DF80D20 		ldrb	r2, [sp, #13]	@ zero_extendqisi2
 3084 00bc BDF80E10 		ldrh	r1, [sp, #14]
 3085 00c0 2046     		mov	r0, r4
 3086 00c2 FFF7FEFF 		bl	set_state_idle
 3087              	.LVL295:
 3088 00c6 2DE0     		b	.L186
 3089              	.LVL296:
 3090              	.L198:
 979:Drivers/SOES/Src/esc_coe.c **** }
 3091              		.loc 1 979 4 is_stmt 0 view .LVU927
 3092 00c8 0346     		mov	r3, r0
 905:Drivers/SOES/Src/esc_coe.c ****       return;
 3093              		.loc 1 905 7 is_stmt 1 view .LVU928
 3094 00ca 9DF80D20 		ldrb	r2, [sp, #13]	@ zero_extendqisi2
 3095 00ce BDF80E10 		ldrh	r1, [sp, #14]
 3096 00d2 0020     		movs	r0, #0
 3097              	.LVL297:
 905:Drivers/SOES/Src/esc_coe.c ****       return;
 3098              		.loc 1 905 7 is_stmt 0 view .LVU929
 3099 00d4 FFF7FEFF 		bl	set_state_idle
 3100              	.LVL298:
 906:Drivers/SOES/Src/esc_coe.c ****    }
 3101              		.loc 1 906 7 is_stmt 1 view .LVU930
 3102 00d8 24E0     		b	.L186
 3103              	.LVL299:
 3104              	.L189:
 920:Drivers/SOES/Src/esc_coe.c ****       mbxdata++;
 3105              		.loc 1 920 7 view .LVU931
 920:Drivers/SOES/Src/esc_coe.c ****       mbxdata++;
 3106              		.loc 1 920 16 is_stmt 0 view .LVU932
 3107 00da 1F4D     		ldr	r5, .L203
 3108 00dc EC68     		ldr	r4, [r5, #12]	@ unaligned
 920:Drivers/SOES/Src/esc_coe.c ****       mbxdata++;
 3109              		.loc 1 920 13 view .LVU933
 3110 00de A4B2     		uxth	r4, r4
 3111              	.LVL300:
 921:Drivers/SOES/Src/esc_coe.c ****    }
 3112              		.loc 1 921 7 is_stmt 1 view .LVU934
 921:Drivers/SOES/Src/esc_coe.c ****    }
ARM GAS  /tmp/ccFH4wf5.s 			page 98


 3113              		.loc 1 921 14 is_stmt 0 view .LVU935
 3114 00e0 1035     		adds	r5, r5, #16
 3115 00e2 A7E7     		b	.L190
 3116              	.LVL301:
 3117              	.L199:
 931:Drivers/SOES/Src/esc_coe.c ****       return;
 3118              		.loc 1 931 7 is_stmt 1 view .LVU936
 3119 00e4 9DF80D20 		ldrb	r2, [sp, #13]	@ zero_extendqisi2
 3120 00e8 BDF80E10 		ldrh	r1, [sp, #14]
 3121 00ec 0020     		movs	r0, #0
 3122              	.LVL302:
 931:Drivers/SOES/Src/esc_coe.c ****       return;
 3123              		.loc 1 931 7 is_stmt 0 view .LVU937
 3124 00ee FFF7FEFF 		bl	set_state_idle
 3125              	.LVL303:
 932:Drivers/SOES/Src/esc_coe.c ****    }
 3126              		.loc 1 932 7 is_stmt 1 view .LVU938
 3127 00f2 17E0     		b	.L186
 3128              	.LVL304:
 3129              	.L200:
 946:Drivers/SOES/Src/esc_coe.c ****          return;
 3130              		.loc 1 946 10 view .LVU939
 3131 00f4 9DF80D20 		ldrb	r2, [sp, #13]	@ zero_extendqisi2
 3132 00f8 BDF80E10 		ldrh	r1, [sp, #14]
 3133 00fc 0020     		movs	r0, #0
 3134              	.LVL305:
 946:Drivers/SOES/Src/esc_coe.c ****          return;
 3135              		.loc 1 946 10 is_stmt 0 view .LVU940
 3136 00fe FFF7FEFF 		bl	set_state_idle
 3137              	.LVL306:
 947:Drivers/SOES/Src/esc_coe.c ****       }
 3138              		.loc 1 947 10 is_stmt 1 view .LVU941
 3139 0102 0FE0     		b	.L186
 3140              	.LVL307:
 3141              	.L201:
 957:Drivers/SOES/Src/esc_coe.c ****          return;
 3142              		.loc 1 957 10 view .LVU942
 3143 0104 9DF80D20 		ldrb	r2, [sp, #13]	@ zero_extendqisi2
 3144 0108 BDF80E10 		ldrh	r1, [sp, #14]
 3145 010c 0020     		movs	r0, #0
 3146              	.LVL308:
 957:Drivers/SOES/Src/esc_coe.c ****          return;
 3147              		.loc 1 957 10 is_stmt 0 view .LVU943
 3148 010e FFF7FEFF 		bl	set_state_idle
 3149              	.LVL309:
 958:Drivers/SOES/Src/esc_coe.c ****       }
 3150              		.loc 1 958 10 is_stmt 1 view .LVU944
 3151 0112 07E0     		b	.L186
 3152              	.LVL310:
 3153              	.L192:
 963:Drivers/SOES/Src/esc_coe.c ****       return;
 3154              		.loc 1 963 7 view .LVU945
 3155 0114 134B     		ldr	r3, .L203+12
 3156 0116 9DF80D20 		ldrb	r2, [sp, #13]	@ zero_extendqisi2
 3157 011a BDF80E10 		ldrh	r1, [sp, #14]
 3158 011e 0020     		movs	r0, #0
 3159              	.LVL311:
ARM GAS  /tmp/ccFH4wf5.s 			page 99


 963:Drivers/SOES/Src/esc_coe.c ****       return;
 3160              		.loc 1 963 7 is_stmt 0 view .LVU946
 3161 0120 FFF7FEFF 		bl	set_state_idle
 3162              	.LVL312:
 964:Drivers/SOES/Src/esc_coe.c ****    }
 3163              		.loc 1 964 7 is_stmt 1 view .LVU947
 3164              	.L186:
 980:Drivers/SOES/Src/esc_coe.c **** 
 3165              		.loc 1 980 1 is_stmt 0 view .LVU948
 3166 0124 04B0     		add	sp, sp, #16
 3167              		.cfi_remember_state
 3168              		.cfi_def_cfa_offset 16
 3169              		@ sp needed
 3170 0126 70BD     		pop	{r4, r5, r6, pc}
 3171              	.LVL313:
 3172              	.L202:
 3173              		.cfi_restore_state
 3174              	.LBB11:
 970:Drivers/SOES/Src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE,
 3175              		.loc 1 970 7 is_stmt 1 view .LVU949
 970:Drivers/SOES/Src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE,
 3176              		.loc 1 970 51 is_stmt 0 view .LVU950
 3177 0128 0F4B     		ldr	r3, .L203+16
 3178 012a 9B6E     		ldr	r3, [r3, #104]
 970:Drivers/SOES/Src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE,
 3179              		.loc 1 970 16 view .LVU951
 3180 012c 0A4D     		ldr	r5, .L203
 3181              	.LVL314:
 970:Drivers/SOES/Src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE,
 3182              		.loc 1 970 16 view .LVU952
 3183 012e 03FB0055 		mla	r5, r3, r0, r5
 3184              	.LVL315:
 971:Drivers/SOES/Src/esc_coe.c ****                   COE_COMMAND_DOWNLOADRESPONSE | COE_COMPLETEACCESS,
 3185              		.loc 1 971 7 is_stmt 1 view .LVU953
 3186 0132 9DF80D30 		ldrb	r3, [sp, #13]	@ zero_extendqisi2
 3187 0136 0093     		str	r3, [sp]
 3188 0138 BDF80E30 		ldrh	r3, [sp, #14]
 3189 013c 7022     		movs	r2, #112
 3190 013e 0321     		movs	r1, #3
 3191 0140 2846     		mov	r0, r5
 3192              	.LVL316:
 971:Drivers/SOES/Src/esc_coe.c ****                   COE_COMMAND_DOWNLOADRESPONSE | COE_COMPLETEACCESS,
 3193              		.loc 1 971 7 is_stmt 0 view .LVU954
 3194 0142 FFF7FEFF 		bl	init_coesdo
 3195              	.LVL317:
 975:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 3196              		.loc 1 975 7 is_stmt 1 view .LVU955
 975:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 3197              		.loc 1 975 20 is_stmt 0 view .LVU956
 3198 0146 0023     		movs	r3, #0
 3199 0148 2B73     		strb	r3, [r5, #12]
 3200 014a 6B73     		strb	r3, [r5, #13]
 3201 014c AB73     		strb	r3, [r5, #14]
 3202 014e EB73     		strb	r3, [r5, #15]
 976:Drivers/SOES/Src/esc_coe.c ****    }
 3203              		.loc 1 976 7 is_stmt 1 view .LVU957
 976:Drivers/SOES/Src/esc_coe.c ****    }
ARM GAS  /tmp/ccFH4wf5.s 			page 100


 3204              		.loc 1 976 32 is_stmt 0 view .LVU958
 3205 0150 064B     		ldr	r3, .L203+20
 3206 0152 0322     		movs	r2, #3
 3207 0154 1A55     		strb	r2, [r3, r4]
 3208 0156 AEE7     		b	.L195
 3209              	.L204:
 3210              		.align	2
 3211              	.L203:
 3212 0158 00000000 		.word	MBX
 3213 015c 0C000000 		.word	MBX+12
 3214 0160 00000000 		.word	SDOobjects
 3215 0164 10000706 		.word	101122064
 3216 0168 00000000 		.word	ESCvar
 3217 016c 00000000 		.word	MBXcontrol
 3218              	.LBE11:
 3219              		.cfi_endproc
 3220              	.LFE13:
 3222              		.section	.text.SDO_upload,"ax",%progbits
 3223              		.align	1
 3224              		.syntax unified
 3225              		.thumb
 3226              		.thumb_func
 3228              	SDO_upload:
 3229              	.LFB6:
 286:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coesdo, *coeres;
 3230              		.loc 1 286 1 is_stmt 1 view -0
 3231              		.cfi_startproc
 3232              		@ args = 0, pretend = 0, frame = 8
 3233              		@ frame_needed = 0, uses_anonymous_args = 0
 3234 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 3235              		.cfi_def_cfa_offset 36
 3236              		.cfi_offset 4, -36
 3237              		.cfi_offset 5, -32
 3238              		.cfi_offset 6, -28
 3239              		.cfi_offset 7, -24
 3240              		.cfi_offset 8, -20
 3241              		.cfi_offset 9, -16
 3242              		.cfi_offset 10, -12
 3243              		.cfi_offset 11, -8
 3244              		.cfi_offset 14, -4
 3245 0004 85B0     		sub	sp, sp, #20
 3246              		.cfi_def_cfa_offset 56
 287:Drivers/SOES/Src/esc_coe.c ****    uint16_t index;
 3247              		.loc 1 287 4 view .LVU960
 288:Drivers/SOES/Src/esc_coe.c ****    uint8_t subindex;
 3248              		.loc 1 288 4 view .LVU961
 289:Drivers/SOES/Src/esc_coe.c ****    int16_t nidx, nsub;
 3249              		.loc 1 289 4 view .LVU962
 290:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
 3250              		.loc 1 290 4 view .LVU963
 291:Drivers/SOES/Src/esc_coe.c ****    uint32_t size;
 3251              		.loc 1 291 4 view .LVU964
 292:Drivers/SOES/Src/esc_coe.c ****    uint8_t dss;
 3252              		.loc 1 292 4 view .LVU965
 293:Drivers/SOES/Src/esc_coe.c ****    uint32_t abort = 1;
 3253              		.loc 1 293 4 view .LVU966
 294:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd;
ARM GAS  /tmp/ccFH4wf5.s 			page 101


 3254              		.loc 1 294 4 view .LVU967
 3255              	.LVL318:
 295:Drivers/SOES/Src/esc_coe.c ****    coesdo = (_COEsdo *) &MBX[0];
 3256              		.loc 1 295 4 view .LVU968
 296:Drivers/SOES/Src/esc_coe.c ****    index = etohs (coesdo->index);
 3257              		.loc 1 296 4 view .LVU969
 297:Drivers/SOES/Src/esc_coe.c ****    subindex = coesdo->subindex;
 3258              		.loc 1 297 4 view .LVU970
 297:Drivers/SOES/Src/esc_coe.c ****    subindex = coesdo->subindex;
 3259              		.loc 1 297 10 is_stmt 0 view .LVU971
 3260 0006 814B     		ldr	r3, .L234
 3261 0008 B3F80970 		ldrh	r7, [r3, #9]	@ unaligned
 3262 000c BDB2     		uxth	r5, r7
 3263              	.LVL319:
 298:Drivers/SOES/Src/esc_coe.c ****    nidx = SDO_findobject (index);
 3264              		.loc 1 298 4 is_stmt 1 view .LVU972
 298:Drivers/SOES/Src/esc_coe.c ****    nidx = SDO_findobject (index);
 3265              		.loc 1 298 13 is_stmt 0 view .LVU973
 3266 000e DE7A     		ldrb	r6, [r3, #11]	@ zero_extendqisi2
 3267              	.LVL320:
 299:Drivers/SOES/Src/esc_coe.c ****    if (nidx >= 0)
 3268              		.loc 1 299 4 is_stmt 1 view .LVU974
 299:Drivers/SOES/Src/esc_coe.c ****    if (nidx >= 0)
 3269              		.loc 1 299 11 is_stmt 0 view .LVU975
 3270 0010 2846     		mov	r0, r5
 3271 0012 FFF7FEFF 		bl	SDO_findobject
 3272              	.LVL321:
 299:Drivers/SOES/Src/esc_coe.c ****    if (nidx >= 0)
 3273              		.loc 1 299 9 view .LVU976
 3274 0016 04B2     		sxth	r4, r0
 3275              	.LVL322:
 300:Drivers/SOES/Src/esc_coe.c ****    {
 3276              		.loc 1 300 4 is_stmt 1 view .LVU977
 300:Drivers/SOES/Src/esc_coe.c ****    {
 3277              		.loc 1 300 7 is_stmt 0 view .LVU978
 3278 0018 002C     		cmp	r4, #0
 3279 001a C0F2E780 		blt	.L206
 302:Drivers/SOES/Src/esc_coe.c ****       if (nsub >= 0)
 3280              		.loc 1 302 7 is_stmt 1 view .LVU979
 302:Drivers/SOES/Src/esc_coe.c ****       if (nsub >= 0)
 3281              		.loc 1 302 14 is_stmt 0 view .LVU980
 3282 001e 3146     		mov	r1, r6
 3283 0020 2046     		mov	r0, r4
 3284 0022 FFF7FEFF 		bl	SDO_findsubindex
 3285              	.LVL323:
 303:Drivers/SOES/Src/esc_coe.c ****       {
 3286              		.loc 1 303 7 is_stmt 1 view .LVU981
 303:Drivers/SOES/Src/esc_coe.c ****       {
 3287              		.loc 1 303 10 is_stmt 0 view .LVU982
 3288 0026 0028     		cmp	r0, #0
 3289              	.LVL324:
 303:Drivers/SOES/Src/esc_coe.c ****       {
 3290              		.loc 1 303 10 view .LVU983
 3291 0028 C0F2D980 		blt	.L207
 3292              	.LBB12:
 305:Drivers/SOES/Src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 3293              		.loc 1 305 10 is_stmt 1 view .LVU984
ARM GAS  /tmp/ccFH4wf5.s 			page 102


 305:Drivers/SOES/Src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 3294              		.loc 1 305 15 is_stmt 0 view .LVU985
 3295 002c C4EBC404 		rsb	r4, r4, r4, lsl #3
 3296              	.LVL325:
 305:Drivers/SOES/Src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 3297              		.loc 1 305 15 view .LVU986
 3298 0030 774B     		ldr	r3, .L234+4
 3299 0032 03EB4403 		add	r3, r3, r4, lsl #1
 3300 0036 D3F80A40 		ldr	r4, [r3, #10]	@ unaligned
 3301              	.LVL326:
 306:Drivers/SOES/Src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3302              		.loc 1 306 10 is_stmt 1 view .LVU987
 306:Drivers/SOES/Src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3303              		.loc 1 306 33 is_stmt 0 view .LVU988
 3304 003a 00EB8000 		add	r0, r0, r0, lsl #2
 3305 003e 04EB8004 		add	r4, r4, r0, lsl #2
 3306              	.LVL327:
 306:Drivers/SOES/Src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3307              		.loc 1 306 40 view .LVU989
 3308 0042 E288     		ldrh	r2, [r4, #6]	@ unaligned
 306:Drivers/SOES/Src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3309              		.loc 1 306 48 view .LVU990
 3310 0044 D1B2     		uxtb	r1, r2
 3311              	.LVL328:
 307:Drivers/SOES/Src/esc_coe.c ****          if (!READ_ACCESS(access, state))
 3312              		.loc 1 307 10 is_stmt 1 view .LVU991
 307:Drivers/SOES/Src/esc_coe.c ****          if (!READ_ACCESS(access, state))
 3313              		.loc 1 307 42 is_stmt 0 view .LVU992
 3314 0046 734B     		ldr	r3, .L234+8
 3315              	.LVL329:
 307:Drivers/SOES/Src/esc_coe.c ****          if (!READ_ACCESS(access, state))
 3316              		.loc 1 307 42 view .LVU993
 3317 0048 93F87C30 		ldrb	r3, [r3, #124]	@ zero_extendqisi2
 307:Drivers/SOES/Src/esc_coe.c ****          if (!READ_ACCESS(access, state))
 3318              		.loc 1 307 18 view .LVU994
 3319 004c 03F00F03 		and	r3, r3, #15
 3320              	.LVL330:
 308:Drivers/SOES/Src/esc_coe.c ****          {
 3321              		.loc 1 308 10 is_stmt 1 view .LVU995
 308:Drivers/SOES/Src/esc_coe.c ****          {
 3322              		.loc 1 308 13 is_stmt 0 view .LVU996
 3323 0050 12F0010F 		tst	r2, #1
 3324 0054 01D0     		beq	.L208
 308:Drivers/SOES/Src/esc_coe.c ****          {
 3325              		.loc 1 308 15 discriminator 2 view .LVU997
 3326 0056 022B     		cmp	r3, #2
 3327 0058 10D0     		beq	.L209
 3328              	.L208:
 308:Drivers/SOES/Src/esc_coe.c ****          {
 3329              		.loc 1 308 15 discriminator 3 view .LVU998
 3330 005a 11F0020F 		tst	r1, #2
 3331 005e 01D0     		beq	.L210
 308:Drivers/SOES/Src/esc_coe.c ****          {
 3332              		.loc 1 308 15 discriminator 5 view .LVU999
 3333 0060 042B     		cmp	r3, #4
 3334 0062 0BD0     		beq	.L209
 3335              	.L210:
ARM GAS  /tmp/ccFH4wf5.s 			page 103


 308:Drivers/SOES/Src/esc_coe.c ****          {
 3336              		.loc 1 308 14 discriminator 6 view .LVU1000
 3337 0064 11F0040F 		tst	r1, #4
 3338 0068 01D0     		beq	.L211
 308:Drivers/SOES/Src/esc_coe.c ****          {
 3339              		.loc 1 308 15 discriminator 7 view .LVU1001
 3340 006a 082B     		cmp	r3, #8
 3341 006c 06D0     		beq	.L209
 3342              	.L211:
 310:Drivers/SOES/Src/esc_coe.c ****             return;
 3343              		.loc 1 310 13 is_stmt 1 view .LVU1002
 3344 006e 6A4B     		ldr	r3, .L234+12
 3345              	.LVL331:
 310:Drivers/SOES/Src/esc_coe.c ****             return;
 3346              		.loc 1 310 13 is_stmt 0 view .LVU1003
 3347 0070 3246     		mov	r2, r6
 3348 0072 2946     		mov	r1, r5
 3349              	.LVL332:
 310:Drivers/SOES/Src/esc_coe.c ****             return;
 3350              		.loc 1 310 13 view .LVU1004
 3351 0074 0020     		movs	r0, #0
 3352 0076 FFF7FEFF 		bl	set_state_idle
 3353              	.LVL333:
 311:Drivers/SOES/Src/esc_coe.c ****          }
 3354              		.loc 1 311 13 is_stmt 1 view .LVU1005
 3355 007a C3E0     		b	.L205
 3356              	.LVL334:
 3357              	.L209:
 313:Drivers/SOES/Src/esc_coe.c ****          if (MBXout)
 3358              		.loc 1 313 10 view .LVU1006
 313:Drivers/SOES/Src/esc_coe.c ****          if (MBXout)
 3359              		.loc 1 313 19 is_stmt 0 view .LVU1007
 3360 007c FFF7FEFF 		bl	ESC_claimbuffer
 3361              	.LVL335:
 314:Drivers/SOES/Src/esc_coe.c ****          {
 3362              		.loc 1 314 10 is_stmt 1 view .LVU1008
 314:Drivers/SOES/Src/esc_coe.c ****          {
 3363              		.loc 1 314 13 is_stmt 0 view .LVU1009
 3364 0080 8246     		mov	r10, r0
 3365 0082 0028     		cmp	r0, #0
 3366 0084 00F0B880 		beq	.L213
 316:Drivers/SOES/Src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 3367              		.loc 1 316 13 is_stmt 1 view .LVU1010
 316:Drivers/SOES/Src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 3368              		.loc 1 316 48 is_stmt 0 view .LVU1011
 3369 0088 624B     		ldr	r3, .L234+8
 3370 008a 9B6E     		ldr	r3, [r3, #104]
 316:Drivers/SOES/Src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 3371              		.loc 1 316 46 view .LVU1012
 3372 008c 03FB00F9 		mul	r9, r3, r0
 316:Drivers/SOES/Src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 3373              		.loc 1 316 20 view .LVU1013
 3374 0090 DFF878B1 		ldr	fp, .L234
 3375 0094 09EB0B08 		add	r8, r9, fp
 3376              	.LVL336:
 317:Drivers/SOES/Src/esc_coe.c ****             coeres->mbxheader.mbxtype = MBXCOE;
 3377              		.loc 1 317 13 is_stmt 1 view .LVU1014
ARM GAS  /tmp/ccFH4wf5.s 			page 104


 317:Drivers/SOES/Src/esc_coe.c ****             coeres->mbxheader.mbxtype = MBXCOE;
 3378              		.loc 1 317 38 is_stmt 0 view .LVU1015
 3379 0098 0023     		movs	r3, #0
 3380 009a 0A22     		movs	r2, #10
 3381 009c 0BF80920 		strb	r2, [fp, r9]
 3382 00a0 88F80130 		strb	r3, [r8, #1]
 318:Drivers/SOES/Src/esc_coe.c ****             coeres->coeheader.numberservice =
 3383              		.loc 1 318 13 is_stmt 1 view .LVU1016
 318:Drivers/SOES/Src/esc_coe.c ****             coeres->coeheader.numberservice =
 3384              		.loc 1 318 39 is_stmt 0 view .LVU1017
 3385 00a4 98F80520 		ldrb	r2, [r8, #5]	@ zero_extendqisi2
 3386 00a8 0321     		movs	r1, #3
 3387 00aa 61F30302 		bfi	r2, r1, #0, #4
 3388 00ae 88F80520 		strb	r2, [r8, #5]
 319:Drivers/SOES/Src/esc_coe.c ****                htoes ((0 & 0x01f) | (COE_SDORESPONSE << 12));
 3389              		.loc 1 319 13 is_stmt 1 view .LVU1018
 319:Drivers/SOES/Src/esc_coe.c ****                htoes ((0 & 0x01f) | (COE_SDORESPONSE << 12));
 3390              		.loc 1 319 45 is_stmt 0 view .LVU1019
 3391 00b2 88F80630 		strb	r3, [r8, #6]
 3392 00b6 3023     		movs	r3, #48
 3393 00b8 88F80730 		strb	r3, [r8, #7]
 321:Drivers/SOES/Src/esc_coe.c ****             /* expedited bits used calculation */
 3394              		.loc 1 321 13 is_stmt 1 view .LVU1020
 321:Drivers/SOES/Src/esc_coe.c ****             /* expedited bits used calculation */
 3395              		.loc 1 321 33 is_stmt 0 view .LVU1021
 3396 00bc A388     		ldrh	r3, [r4, #4]	@ unaligned
 321:Drivers/SOES/Src/esc_coe.c ****             /* expedited bits used calculation */
 3397              		.loc 1 321 18 view .LVU1022
 3398 00be 0393     		str	r3, [sp, #12]
 323:Drivers/SOES/Src/esc_coe.c ****             if (size > 8)
 3399              		.loc 1 323 13 is_stmt 1 view .LVU1023
 3400              	.LVL337:
 324:Drivers/SOES/Src/esc_coe.c ****             {
 3401              		.loc 1 324 13 view .LVU1024
 324:Drivers/SOES/Src/esc_coe.c ****             {
 3402              		.loc 1 324 16 is_stmt 0 view .LVU1025
 3403 00c0 082B     		cmp	r3, #8
 3404 00c2 33D8     		bhi	.L227
 323:Drivers/SOES/Src/esc_coe.c ****             if (size > 8)
 3405              		.loc 1 323 17 view .LVU1026
 3406 00c4 0C22     		movs	r2, #12
 3407              	.L214:
 3408              	.LVL338:
 328:Drivers/SOES/Src/esc_coe.c ****             {
 3409              		.loc 1 328 13 is_stmt 1 view .LVU1027
 328:Drivers/SOES/Src/esc_coe.c ****             {
 3410              		.loc 1 328 16 is_stmt 0 view .LVU1028
 3411 00c6 102B     		cmp	r3, #16
 3412 00c8 00D9     		bls	.L215
 330:Drivers/SOES/Src/esc_coe.c ****             }
 3413              		.loc 1 330 20 view .LVU1029
 3414 00ca 0422     		movs	r2, #4
 3415              	.LVL339:
 3416              	.L215:
 332:Drivers/SOES/Src/esc_coe.c ****             {
 3417              		.loc 1 332 13 is_stmt 1 view .LVU1030
 332:Drivers/SOES/Src/esc_coe.c ****             {
ARM GAS  /tmp/ccFH4wf5.s 			page 105


 3418              		.loc 1 332 16 is_stmt 0 view .LVU1031
 3419 00cc 182B     		cmp	r3, #24
 3420 00ce 00D9     		bls	.L216
 334:Drivers/SOES/Src/esc_coe.c ****             }
 3421              		.loc 1 334 20 view .LVU1032
 3422 00d0 0022     		movs	r2, #0
 3423              	.LVL340:
 3424              	.L216:
 336:Drivers/SOES/Src/esc_coe.c ****             coeres->subindex = subindex;
 3425              		.loc 1 336 13 is_stmt 1 view .LVU1033
 336:Drivers/SOES/Src/esc_coe.c ****             coeres->subindex = subindex;
 3426              		.loc 1 336 27 is_stmt 0 view .LVU1034
 3427 00d2 A8F80970 		strh	r7, [r8, #9]	@ unaligned
 337:Drivers/SOES/Src/esc_coe.c ****             coeres->command = COE_COMMAND_UPLOADRESPONSE +
 3428              		.loc 1 337 13 is_stmt 1 view .LVU1035
 337:Drivers/SOES/Src/esc_coe.c ****             coeres->command = COE_COMMAND_UPLOADRESPONSE +
 3429              		.loc 1 337 30 is_stmt 0 view .LVU1036
 3430 00d6 88F80B60 		strb	r6, [r8, #11]
 338:Drivers/SOES/Src/esc_coe.c ****                COE_SIZE_INDICATOR;
 3431              		.loc 1 338 13 is_stmt 1 view .LVU1037
 338:Drivers/SOES/Src/esc_coe.c ****                COE_SIZE_INDICATOR;
 3432              		.loc 1 338 29 is_stmt 0 view .LVU1038
 3433 00da 4121     		movs	r1, #65
 3434 00dc 88F80810 		strb	r1, [r8, #8]
 341:Drivers/SOES/Src/esc_coe.c ****             if (size <= 4)
 3435              		.loc 1 341 13 is_stmt 1 view .LVU1039
 341:Drivers/SOES/Src/esc_coe.c ****             if (size <= 4)
 3436              		.loc 1 341 20 is_stmt 0 view .LVU1040
 3437 00e0 0733     		adds	r3, r3, #7
 3438 00e2 DB08     		lsrs	r3, r3, #3
 341:Drivers/SOES/Src/esc_coe.c ****             if (size <= 4)
 3439              		.loc 1 341 18 view .LVU1041
 3440 00e4 0393     		str	r3, [sp, #12]
 342:Drivers/SOES/Src/esc_coe.c ****             {
 3441              		.loc 1 342 13 is_stmt 1 view .LVU1042
 342:Drivers/SOES/Src/esc_coe.c ****             {
 3442              		.loc 1 342 16 is_stmt 0 view .LVU1043
 3443 00e6 042B     		cmp	r3, #4
 3444 00e8 30D8     		bhi	.L217
 3445              	.LBB13:
 345:Drivers/SOES/Src/esc_coe.c ****                void *dataptr = ((objd + nsub)->data) ?
 3446              		.loc 1 345 16 is_stmt 1 view .LVU1044
 345:Drivers/SOES/Src/esc_coe.c ****                void *dataptr = ((objd + nsub)->data) ?
 3447              		.loc 1 345 32 is_stmt 0 view .LVU1045
 3448 00ea 4332     		adds	r2, r2, #67
 3449              	.LVL341:
 345:Drivers/SOES/Src/esc_coe.c ****                void *dataptr = ((objd + nsub)->data) ?
 3450              		.loc 1 345 32 view .LVU1046
 3451 00ec 88F80820 		strb	r2, [r8, #8]
 346:Drivers/SOES/Src/esc_coe.c ****                      (objd + nsub)->data : (void *)&((objd + nsub)->value);
 3452              		.loc 1 346 16 is_stmt 1 view .LVU1047
 346:Drivers/SOES/Src/esc_coe.c ****                      (objd + nsub)->data : (void *)&((objd + nsub)->value);
 3453              		.loc 1 346 46 is_stmt 0 view .LVU1048
 3454 00f0 2269     		ldr	r2, [r4, #16]	@ unaligned
 347:Drivers/SOES/Src/esc_coe.c ****                abort = ESC_upload_pre_objecthandler (index, subindex,
 3455              		.loc 1 347 42 view .LVU1049
 3456 00f2 EAB1     		cbz	r2, .L231
ARM GAS  /tmp/ccFH4wf5.s 			page 106


 3457              	.L218:
 3458              	.LVL342:
 348:Drivers/SOES/Src/esc_coe.c ****                      dataptr, (size_t *)&size, (objd + nsub)->flags);
 3459              		.loc 1 348 16 is_stmt 1 view .LVU1050
 349:Drivers/SOES/Src/esc_coe.c ****                if (abort == 0)
 3460              		.loc 1 349 61 is_stmt 0 view .LVU1051
 3461 00f4 E388     		ldrh	r3, [r4, #6]	@ unaligned
 348:Drivers/SOES/Src/esc_coe.c ****                      dataptr, (size_t *)&size, (objd + nsub)->flags);
 3462              		.loc 1 348 24 view .LVU1052
 3463 00f6 0093     		str	r3, [sp]
 3464 00f8 03AB     		add	r3, sp, #12
 3465 00fa 3146     		mov	r1, r6
 3466 00fc 2846     		mov	r0, r5
 3467              	.LVL343:
 348:Drivers/SOES/Src/esc_coe.c ****                      dataptr, (size_t *)&size, (objd + nsub)->flags);
 3468              		.loc 1 348 24 view .LVU1053
 3469 00fe FFF7FEFF 		bl	ESC_upload_pre_objecthandler
 3470              	.LVL344:
 350:Drivers/SOES/Src/esc_coe.c ****                {
 3471              		.loc 1 350 16 is_stmt 1 view .LVU1054
 350:Drivers/SOES/Src/esc_coe.c ****                {
 3472              		.loc 1 350 19 is_stmt 0 view .LVU1055
 3473 0102 0746     		mov	r7, r0
 3474              	.LVL345:
 350:Drivers/SOES/Src/esc_coe.c ****                {
 3475              		.loc 1 350 19 view .LVU1056
 3476 0104 D8B9     		cbnz	r0, .L219
 352:Drivers/SOES/Src/esc_coe.c ****                   {
 3477              		.loc 1 352 19 is_stmt 1 view .LVU1057
 352:Drivers/SOES/Src/esc_coe.c ****                   {
 3478              		.loc 1 352 36 is_stmt 0 view .LVU1058
 3479 0106 2069     		ldr	r0, [r4, #16]	@ unaligned
 3480              	.LVL346:
 352:Drivers/SOES/Src/esc_coe.c ****                   {
 3481              		.loc 1 352 22 view .LVU1059
 3482 0108 A8B1     		cbz	r0, .L232
 360:Drivers/SOES/Src/esc_coe.c ****                   }
 3483              		.loc 1 360 22 is_stmt 1 view .LVU1060
 3484 010a BDF80C20 		ldrh	r2, [sp, #12]
 3485 010e 08F10C01 		add	r1, r8, #12
 3486 0112 FFF7FEFF 		bl	copy2mbx
 3487              	.LVL347:
 3488              	.L221:
 360:Drivers/SOES/Src/esc_coe.c ****                   }
 3489              		.loc 1 360 22 is_stmt 0 view .LVU1061
 3490              	.LBE13:
 406:Drivers/SOES/Src/esc_coe.c ****             {
 3491              		.loc 1 406 13 is_stmt 1 view .LVU1062
 406:Drivers/SOES/Src/esc_coe.c ****             {
 3492              		.loc 1 406 16 is_stmt 0 view .LVU1063
 3493 0116 27B9     		cbnz	r7, .L225
 406:Drivers/SOES/Src/esc_coe.c ****             {
 3494              		.loc 1 406 40 discriminator 1 view .LVU1064
 3495 0118 3E4B     		ldr	r3, .L234+8
 3496 011a 93F88D30 		ldrb	r3, [r3, #141]	@ zero_extendqisi2
 406:Drivers/SOES/Src/esc_coe.c ****             {
 3497              		.loc 1 406 30 discriminator 1 view .LVU1065
ARM GAS  /tmp/ccFH4wf5.s 			page 107


 3498 011e 002B     		cmp	r3, #0
 3499 0120 4FD0     		beq	.L233
 3500              	.LVL348:
 3501              	.L225:
 416:Drivers/SOES/Src/esc_coe.c ****          }
 3502              		.loc 1 416 13 is_stmt 1 view .LVU1066
 416:Drivers/SOES/Src/esc_coe.c ****          }
 3503              		.loc 1 416 38 is_stmt 0 view .LVU1067
 3504 0122 3E4B     		ldr	r3, .L234+16
 3505 0124 0322     		movs	r2, #3
 3506 0126 03F80A20 		strb	r2, [r3, r10]
 3507 012a 65E0     		b	.L213
 3508              	.LVL349:
 3509              	.L227:
 326:Drivers/SOES/Src/esc_coe.c ****             }
 3510              		.loc 1 326 20 view .LVU1068
 3511 012c 0822     		movs	r2, #8
 3512 012e CAE7     		b	.L214
 3513              	.LVL350:
 3514              	.L231:
 3515              	.LBB14:
 347:Drivers/SOES/Src/esc_coe.c ****                abort = ESC_upload_pre_objecthandler (index, subindex,
 3516              		.loc 1 347 42 discriminator 2 view .LVU1069
 3517 0130 04F10C02 		add	r2, r4, #12
 3518 0134 DEE7     		b	.L218
 3519              	.LVL351:
 3520              	.L232:
 355:Drivers/SOES/Src/esc_coe.c ****                   }
 3521              		.loc 1 355 22 is_stmt 1 view .LVU1070
 355:Drivers/SOES/Src/esc_coe.c ****                   }
 3522              		.loc 1 355 37 is_stmt 0 view .LVU1071
 3523 0136 E368     		ldr	r3, [r4, #12]	@ unaligned
 355:Drivers/SOES/Src/esc_coe.c ****                   }
 3524              		.loc 1 355 35 view .LVU1072
 3525 0138 C8F80C30 		str	r3, [r8, #12]	@ unaligned
 3526 013c EBE7     		b	.L221
 3527              	.LVL352:
 3528              	.L219:
 365:Drivers/SOES/Src/esc_coe.c ****                   return;
 3529              		.loc 1 365 19 is_stmt 1 view .LVU1073
 3530 013e 0346     		mov	r3, r0
 3531 0140 3246     		mov	r2, r6
 3532 0142 2946     		mov	r1, r5
 3533 0144 5046     		mov	r0, r10
 3534              	.LVL353:
 365:Drivers/SOES/Src/esc_coe.c ****                   return;
 3535              		.loc 1 365 19 is_stmt 0 view .LVU1074
 3536 0146 FFF7FEFF 		bl	set_state_idle
 3537              	.LVL354:
 366:Drivers/SOES/Src/esc_coe.c ****                }
 3538              		.loc 1 366 19 is_stmt 1 view .LVU1075
 3539 014a 5BE0     		b	.L205
 3540              	.LVL355:
 3541              	.L217:
 366:Drivers/SOES/Src/esc_coe.c ****                }
 3542              		.loc 1 366 19 is_stmt 0 view .LVU1076
 3543              	.LBE14:
ARM GAS  /tmp/ccFH4wf5.s 			page 108


 372:Drivers/SOES/Src/esc_coe.c ****                      (objd + nsub)->data, (size_t *)&size, (objd + nsub)->flags);
 3544              		.loc 1 372 16 is_stmt 1 view .LVU1077
 373:Drivers/SOES/Src/esc_coe.c ****                if (abort == 0)
 3545              		.loc 1 373 35 is_stmt 0 view .LVU1078
 3546 014c 2269     		ldr	r2, [r4, #16]	@ unaligned
 3547              	.LVL356:
 373:Drivers/SOES/Src/esc_coe.c ****                if (abort == 0)
 3548              		.loc 1 373 73 view .LVU1079
 3549 014e E388     		ldrh	r3, [r4, #6]	@ unaligned
 372:Drivers/SOES/Src/esc_coe.c ****                      (objd + nsub)->data, (size_t *)&size, (objd + nsub)->flags);
 3550              		.loc 1 372 24 view .LVU1080
 3551 0150 0093     		str	r3, [sp]
 3552 0152 03AB     		add	r3, sp, #12
 3553 0154 3146     		mov	r1, r6
 3554 0156 2846     		mov	r0, r5
 3555              	.LVL357:
 372:Drivers/SOES/Src/esc_coe.c ****                      (objd + nsub)->data, (size_t *)&size, (objd + nsub)->flags);
 3556              		.loc 1 372 24 view .LVU1081
 3557 0158 FFF7FEFF 		bl	ESC_upload_pre_objecthandler
 3558              	.LVL358:
 374:Drivers/SOES/Src/esc_coe.c ****                {
 3559              		.loc 1 374 16 is_stmt 1 view .LVU1082
 374:Drivers/SOES/Src/esc_coe.c ****                {
 3560              		.loc 1 374 19 is_stmt 0 view .LVU1083
 3561 015c 0746     		mov	r7, r0
 3562              	.LVL359:
 374:Drivers/SOES/Src/esc_coe.c ****                {
 3563              		.loc 1 374 19 view .LVU1084
 3564 015e 48BB     		cbnz	r0, .L222
 377:Drivers/SOES/Src/esc_coe.c ****                   coeres->size = htoel (size);
 3565              		.loc 1 377 19 is_stmt 1 view .LVU1085
 377:Drivers/SOES/Src/esc_coe.c ****                   coeres->size = htoel (size);
 3566              		.loc 1 377 32 is_stmt 0 view .LVU1086
 3567 0160 039B     		ldr	r3, [sp, #12]
 3568 0162 2C4A     		ldr	r2, .L234+8
 3569 0164 A2F89630 		strh	r3, [r2, #150]	@ movhi
 378:Drivers/SOES/Src/esc_coe.c ****                   if ((size + COE_HEADERSIZE) > ESC_MBXDSIZE)
 3570              		.loc 1 378 19 is_stmt 1 view .LVU1087
 378:Drivers/SOES/Src/esc_coe.c ****                   if ((size + COE_HEADERSIZE) > ESC_MBXDSIZE)
 3571              		.loc 1 378 32 is_stmt 0 view .LVU1088
 3572 0168 C8F80C30 		str	r3, [r8, #12]	@ unaligned
 379:Drivers/SOES/Src/esc_coe.c ****                   {
 3573              		.loc 1 379 19 is_stmt 1 view .LVU1089
 379:Drivers/SOES/Src/esc_coe.c ****                   {
 3574              		.loc 1 379 29 is_stmt 0 view .LVU1090
 3575 016c 0A33     		adds	r3, r3, #10
 379:Drivers/SOES/Src/esc_coe.c ****                   {
 3576              		.loc 1 379 49 view .LVU1091
 3577 016e 926E     		ldr	r2, [r2, #104]
 3578 0170 911F     		subs	r1, r2, #6
 379:Drivers/SOES/Src/esc_coe.c ****                   {
 3579              		.loc 1 379 22 view .LVU1092
 3580 0172 8B42     		cmp	r3, r1
 3581 0174 19D9     		bls	.L223
 383:Drivers/SOES/Src/esc_coe.c ****                      /* number of bytes done */
 3582              		.loc 1 383 22 is_stmt 1 view .LVU1093
 383:Drivers/SOES/Src/esc_coe.c ****                      /* number of bytes done */
ARM GAS  /tmp/ccFH4wf5.s 			page 109


 3583              		.loc 1 383 42 is_stmt 0 view .LVU1094
 3584 0176 103A     		subs	r2, r2, #16
 383:Drivers/SOES/Src/esc_coe.c ****                      /* number of bytes done */
 3585              		.loc 1 383 27 view .LVU1095
 3586 0178 0392     		str	r2, [sp, #12]
 385:Drivers/SOES/Src/esc_coe.c ****                      /* signal segmented transfer */
 3587              		.loc 1 385 22 is_stmt 1 view .LVU1096
 385:Drivers/SOES/Src/esc_coe.c ****                      /* signal segmented transfer */
 3588              		.loc 1 385 39 is_stmt 0 view .LVU1097
 3589 017a 264B     		ldr	r3, .L234+8
 3590 017c A3F89820 		strh	r2, [r3, #152]	@ movhi
 387:Drivers/SOES/Src/esc_coe.c ****                      ESCvar.data = (objd + nsub)->data;
 3591              		.loc 1 387 22 is_stmt 1 view .LVU1098
 387:Drivers/SOES/Src/esc_coe.c ****                      ESCvar.data = (objd + nsub)->data;
 3592              		.loc 1 387 39 is_stmt 0 view .LVU1099
 3593 0180 4022     		movs	r2, #64
 3594 0182 83F88D20 		strb	r2, [r3, #141]
 388:Drivers/SOES/Src/esc_coe.c ****                      ESCvar.flags = (objd + nsub)->flags;
 3595              		.loc 1 388 22 is_stmt 1 view .LVU1100
 388:Drivers/SOES/Src/esc_coe.c ****                      ESCvar.flags = (objd + nsub)->flags;
 3596              		.loc 1 388 49 is_stmt 0 view .LVU1101
 3597 0186 2269     		ldr	r2, [r4, #16]	@ unaligned
 388:Drivers/SOES/Src/esc_coe.c ****                      ESCvar.flags = (objd + nsub)->flags;
 3598              		.loc 1 388 34 view .LVU1102
 3599 0188 C3F89020 		str	r2, [r3, #144]
 389:Drivers/SOES/Src/esc_coe.c ****                   }
 3600              		.loc 1 389 22 is_stmt 1 view .LVU1103
 389:Drivers/SOES/Src/esc_coe.c ****                   }
 3601              		.loc 1 389 50 is_stmt 0 view .LVU1104
 3602 018c E288     		ldrh	r2, [r4, #6]	@ unaligned
 389:Drivers/SOES/Src/esc_coe.c ****                   }
 3603              		.loc 1 389 35 view .LVU1105
 3604 018e A3F89E20 		strh	r2, [r3, #158]	@ movhi
 3605              	.L224:
 395:Drivers/SOES/Src/esc_coe.c **** 
 3606              		.loc 1 395 19 is_stmt 1 view .LVU1106
 395:Drivers/SOES/Src/esc_coe.c **** 
 3607              		.loc 1 395 46 is_stmt 0 view .LVU1107
 3608 0192 BDF80C20 		ldrh	r2, [sp, #12]
 3609 0196 02F10A03 		add	r3, r2, #10
 395:Drivers/SOES/Src/esc_coe.c **** 
 3610              		.loc 1 395 44 view .LVU1108
 3611 019a 2BF80930 		strh	r3, [fp, r9]	@ unaligned
 398:Drivers/SOES/Src/esc_coe.c ****                }
 3612              		.loc 1 398 19 is_stmt 1 view .LVU1109
 3613 019e 08F11001 		add	r1, r8, #16
 3614 01a2 2069     		ldr	r0, [r4, #16]	@ unaligned
 3615              	.LVL360:
 398:Drivers/SOES/Src/esc_coe.c ****                }
 3616              		.loc 1 398 19 is_stmt 0 view .LVU1110
 3617 01a4 FFF7FEFF 		bl	copy2mbx
 3618              	.LVL361:
 3619 01a8 B5E7     		b	.L221
 3620              	.LVL362:
 3621              	.L223:
 393:Drivers/SOES/Src/esc_coe.c ****                   }
 3622              		.loc 1 393 22 is_stmt 1 view .LVU1111
ARM GAS  /tmp/ccFH4wf5.s 			page 110


 393:Drivers/SOES/Src/esc_coe.c ****                   }
 3623              		.loc 1 393 39 is_stmt 0 view .LVU1112
 3624 01aa 1A4B     		ldr	r3, .L234+8
 3625 01ac 0022     		movs	r2, #0
 3626 01ae 83F88D20 		strb	r2, [r3, #141]
 3627 01b2 EEE7     		b	.L224
 3628              	.L222:
 402:Drivers/SOES/Src/esc_coe.c ****                   return;
 3629              		.loc 1 402 19 is_stmt 1 view .LVU1113
 3630 01b4 0346     		mov	r3, r0
 3631 01b6 3246     		mov	r2, r6
 3632 01b8 2946     		mov	r1, r5
 3633 01ba 5046     		mov	r0, r10
 3634              	.LVL363:
 402:Drivers/SOES/Src/esc_coe.c ****                   return;
 3635              		.loc 1 402 19 is_stmt 0 view .LVU1114
 3636 01bc FFF7FEFF 		bl	set_state_idle
 3637              	.LVL364:
 403:Drivers/SOES/Src/esc_coe.c ****                }
 3638              		.loc 1 403 19 is_stmt 1 view .LVU1115
 3639 01c0 20E0     		b	.L205
 3640              	.L233:
 408:Drivers/SOES/Src/esc_coe.c ****                                                       (objd + nsub)->flags);
 3641              		.loc 1 408 16 view .LVU1116
 408:Drivers/SOES/Src/esc_coe.c ****                                                       (objd + nsub)->flags);
 3642              		.loc 1 408 24 is_stmt 0 view .LVU1117
 3643 01c2 E288     		ldrh	r2, [r4, #6]	@ unaligned
 3644 01c4 3146     		mov	r1, r6
 3645 01c6 2846     		mov	r0, r5
 3646 01c8 FFF7FEFF 		bl	ESC_upload_post_objecthandler
 3647              	.LVL365:
 410:Drivers/SOES/Src/esc_coe.c ****                {
 3648              		.loc 1 410 16 is_stmt 1 view .LVU1118
 410:Drivers/SOES/Src/esc_coe.c ****                {
 3649              		.loc 1 410 19 is_stmt 0 view .LVU1119
 3650 01cc 0346     		mov	r3, r0
 3651 01ce 0028     		cmp	r0, #0
 3652 01d0 A7D0     		beq	.L225
 412:Drivers/SOES/Src/esc_coe.c ****                   return;
 3653              		.loc 1 412 19 is_stmt 1 view .LVU1120
 3654 01d2 3246     		mov	r2, r6
 3655 01d4 2946     		mov	r1, r5
 3656 01d6 5046     		mov	r0, r10
 3657              	.LVL366:
 412:Drivers/SOES/Src/esc_coe.c ****                   return;
 3658              		.loc 1 412 19 is_stmt 0 view .LVU1121
 3659 01d8 FFF7FEFF 		bl	set_state_idle
 3660              	.LVL367:
 413:Drivers/SOES/Src/esc_coe.c ****                }
 3661              		.loc 1 413 19 is_stmt 1 view .LVU1122
 3662 01dc 12E0     		b	.L205
 3663              	.LVL368:
 3664              	.L207:
 413:Drivers/SOES/Src/esc_coe.c ****                }
 3665              		.loc 1 413 19 is_stmt 0 view .LVU1123
 3666              	.LBE12:
 421:Drivers/SOES/Src/esc_coe.c ****       }
ARM GAS  /tmp/ccFH4wf5.s 			page 111


 3667              		.loc 1 421 10 is_stmt 1 view .LVU1124
 3668 01de 104B     		ldr	r3, .L234+20
 3669 01e0 3246     		mov	r2, r6
 3670 01e2 2946     		mov	r1, r5
 3671 01e4 0020     		movs	r0, #0
 3672 01e6 FFF7FEFF 		bl	SDO_abort
 3673              	.LVL369:
 3674 01ea 05E0     		b	.L213
 3675              	.LVL370:
 3676              	.L206:
 426:Drivers/SOES/Src/esc_coe.c ****    }
 3677              		.loc 1 426 7 view .LVU1125
 3678 01ec 0D4B     		ldr	r3, .L234+24
 3679 01ee 3246     		mov	r2, r6
 3680 01f0 2946     		mov	r1, r5
 3681 01f2 0020     		movs	r0, #0
 3682 01f4 FFF7FEFF 		bl	SDO_abort
 3683              	.LVL371:
 3684              	.L213:
 428:Drivers/SOES/Src/esc_coe.c ****    ESCvar.xoe = 0;
 3685              		.loc 1 428 4 discriminator 3 view .LVU1126
 428:Drivers/SOES/Src/esc_coe.c ****    ESCvar.xoe = 0;
 3686              		.loc 1 428 24 is_stmt 0 discriminator 3 view .LVU1127
 3687 01f8 0023     		movs	r3, #0
 3688 01fa 084A     		ldr	r2, .L234+16
 3689 01fc 1370     		strb	r3, [r2]
 429:Drivers/SOES/Src/esc_coe.c **** }
 3690              		.loc 1 429 4 is_stmt 1 discriminator 3 view .LVU1128
 429:Drivers/SOES/Src/esc_coe.c **** }
 3691              		.loc 1 429 15 is_stmt 0 discriminator 3 view .LVU1129
 3692 01fe 054A     		ldr	r2, .L234+8
 3693 0200 82F88A30 		strb	r3, [r2, #138]
 3694              	.L205:
 430:Drivers/SOES/Src/esc_coe.c **** 
 3695              		.loc 1 430 1 view .LVU1130
 3696 0204 05B0     		add	sp, sp, #20
 3697              		.cfi_def_cfa_offset 36
 3698              		@ sp needed
 3699 0206 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 3700              	.LVL372:
 3701              	.L235:
 430:Drivers/SOES/Src/esc_coe.c **** 
 3702              		.loc 1 430 1 view .LVU1131
 3703 020a 00BF     		.align	2
 3704              	.L234:
 3705 020c 00000000 		.word	MBX
 3706 0210 00000000 		.word	SDOobjects
 3707 0214 00000000 		.word	ESCvar
 3708 0218 01000106 		.word	100728833
 3709 021c 00000000 		.word	MBXcontrol
 3710 0220 11000906 		.word	101253137
 3711 0224 00000206 		.word	100794368
 3712              		.cfi_endproc
 3713              	.LFE6:
 3715              		.section	.text.SDO_download,"ax",%progbits
 3716              		.align	1
 3717              		.syntax unified
ARM GAS  /tmp/ccFH4wf5.s 			page 112


 3718              		.thumb
 3719              		.thumb_func
 3721              	SDO_download:
 3722              	.LFB12:
 751:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coesdo, *coeres;
 3723              		.loc 1 751 1 is_stmt 1 view -0
 3724              		.cfi_startproc
 3725              		@ args = 0, pretend = 0, frame = 0
 3726              		@ frame_needed = 0, uses_anonymous_args = 0
 3727 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 3728              		.cfi_def_cfa_offset 28
 3729              		.cfi_offset 4, -28
 3730              		.cfi_offset 5, -24
 3731              		.cfi_offset 6, -20
 3732              		.cfi_offset 7, -16
 3733              		.cfi_offset 8, -12
 3734              		.cfi_offset 9, -8
 3735              		.cfi_offset 14, -4
 3736 0004 83B0     		sub	sp, sp, #12
 3737              		.cfi_def_cfa_offset 40
 752:Drivers/SOES/Src/esc_coe.c ****    uint16_t index;
 3738              		.loc 1 752 4 view .LVU1133
 753:Drivers/SOES/Src/esc_coe.c ****    uint8_t subindex;
 3739              		.loc 1 753 4 view .LVU1134
 754:Drivers/SOES/Src/esc_coe.c ****    int16_t nidx, nsub;
 3740              		.loc 1 754 4 view .LVU1135
 755:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
 3741              		.loc 1 755 4 view .LVU1136
 756:Drivers/SOES/Src/esc_coe.c ****    uint16_t size, actsize;
 3742              		.loc 1 756 4 view .LVU1137
 757:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd;
 3743              		.loc 1 757 4 view .LVU1138
 758:Drivers/SOES/Src/esc_coe.c ****    uint32_t *mbxdata;
 3744              		.loc 1 758 4 view .LVU1139
 759:Drivers/SOES/Src/esc_coe.c ****    uint32_t abort;
 3745              		.loc 1 759 4 view .LVU1140
 760:Drivers/SOES/Src/esc_coe.c **** 
 3746              		.loc 1 760 4 view .LVU1141
 762:Drivers/SOES/Src/esc_coe.c ****    index = etohs (coesdo->index);
 3747              		.loc 1 762 4 view .LVU1142
 3748              	.LVL373:
 763:Drivers/SOES/Src/esc_coe.c ****    subindex = coesdo->subindex;
 3749              		.loc 1 763 4 view .LVU1143
 763:Drivers/SOES/Src/esc_coe.c ****    subindex = coesdo->subindex;
 3750              		.loc 1 763 10 is_stmt 0 view .LVU1144
 3751 0006 7F4B     		ldr	r3, .L259
 3752 0008 B3F80970 		ldrh	r7, [r3, #9]	@ unaligned
 3753 000c BDB2     		uxth	r5, r7
 3754              	.LVL374:
 764:Drivers/SOES/Src/esc_coe.c ****    nidx = SDO_findobject (index);
 3755              		.loc 1 764 4 is_stmt 1 view .LVU1145
 764:Drivers/SOES/Src/esc_coe.c ****    nidx = SDO_findobject (index);
 3756              		.loc 1 764 13 is_stmt 0 view .LVU1146
 3757 000e DE7A     		ldrb	r6, [r3, #11]	@ zero_extendqisi2
 3758              	.LVL375:
 765:Drivers/SOES/Src/esc_coe.c ****    if (nidx >= 0)
 3759              		.loc 1 765 4 is_stmt 1 view .LVU1147
ARM GAS  /tmp/ccFH4wf5.s 			page 113


 765:Drivers/SOES/Src/esc_coe.c ****    if (nidx >= 0)
 3760              		.loc 1 765 11 is_stmt 0 view .LVU1148
 3761 0010 2846     		mov	r0, r5
 3762 0012 FFF7FEFF 		bl	SDO_findobject
 3763              	.LVL376:
 765:Drivers/SOES/Src/esc_coe.c ****    if (nidx >= 0)
 3764              		.loc 1 765 9 view .LVU1149
 3765 0016 04B2     		sxth	r4, r0
 3766              	.LVL377:
 766:Drivers/SOES/Src/esc_coe.c ****    {
 3767              		.loc 1 766 4 is_stmt 1 view .LVU1150
 766:Drivers/SOES/Src/esc_coe.c ****    {
 3768              		.loc 1 766 7 is_stmt 0 view .LVU1151
 3769 0018 002C     		cmp	r4, #0
 3770 001a C0F2E480 		blt	.L237
 768:Drivers/SOES/Src/esc_coe.c ****       if (nsub >= 0)
 3771              		.loc 1 768 7 is_stmt 1 view .LVU1152
 768:Drivers/SOES/Src/esc_coe.c ****       if (nsub >= 0)
 3772              		.loc 1 768 14 is_stmt 0 view .LVU1153
 3773 001e 3146     		mov	r1, r6
 3774 0020 2046     		mov	r0, r4
 3775 0022 FFF7FEFF 		bl	SDO_findsubindex
 3776              	.LVL378:
 769:Drivers/SOES/Src/esc_coe.c ****       {
 3777              		.loc 1 769 7 is_stmt 1 view .LVU1154
 769:Drivers/SOES/Src/esc_coe.c ****       {
 3778              		.loc 1 769 10 is_stmt 0 view .LVU1155
 3779 0026 0028     		cmp	r0, #0
 3780              	.LVL379:
 769:Drivers/SOES/Src/esc_coe.c ****       {
 3781              		.loc 1 769 10 view .LVU1156
 3782 0028 C0F2D680 		blt	.L238
 3783              	.LBB15:
 771:Drivers/SOES/Src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 3784              		.loc 1 771 10 is_stmt 1 view .LVU1157
 771:Drivers/SOES/Src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 3785              		.loc 1 771 15 is_stmt 0 view .LVU1158
 3786 002c C4EBC404 		rsb	r4, r4, r4, lsl #3
 3787              	.LVL380:
 771:Drivers/SOES/Src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 3788              		.loc 1 771 15 view .LVU1159
 3789 0030 754B     		ldr	r3, .L259+4
 3790 0032 03EB4403 		add	r3, r3, r4, lsl #1
 3791 0036 D3F80A40 		ldr	r4, [r3, #10]	@ unaligned
 3792              	.LVL381:
 772:Drivers/SOES/Src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3793              		.loc 1 772 10 is_stmt 1 view .LVU1160
 772:Drivers/SOES/Src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3794              		.loc 1 772 33 is_stmt 0 view .LVU1161
 3795 003a 00EB8000 		add	r0, r0, r0, lsl #2
 3796 003e 04EB8004 		add	r4, r4, r0, lsl #2
 3797              	.LVL382:
 772:Drivers/SOES/Src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3798              		.loc 1 772 40 view .LVU1162
 3799 0042 E288     		ldrh	r2, [r4, #6]	@ unaligned
 772:Drivers/SOES/Src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3800              		.loc 1 772 48 view .LVU1163
ARM GAS  /tmp/ccFH4wf5.s 			page 114


 3801 0044 D1B2     		uxtb	r1, r2
 772:Drivers/SOES/Src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3802              		.loc 1 772 18 view .LVU1164
 3803 0046 02F03F00 		and	r0, r2, #63
 3804              	.LVL383:
 773:Drivers/SOES/Src/esc_coe.c ****          if (WRITE_ACCESS(access, state))
 3805              		.loc 1 773 10 is_stmt 1 view .LVU1165
 773:Drivers/SOES/Src/esc_coe.c ****          if (WRITE_ACCESS(access, state))
 3806              		.loc 1 773 42 is_stmt 0 view .LVU1166
 3807 004a 704B     		ldr	r3, .L259+8
 3808              	.LVL384:
 773:Drivers/SOES/Src/esc_coe.c ****          if (WRITE_ACCESS(access, state))
 3809              		.loc 1 773 42 view .LVU1167
 3810 004c 93F87C30 		ldrb	r3, [r3, #124]	@ zero_extendqisi2
 773:Drivers/SOES/Src/esc_coe.c ****          if (WRITE_ACCESS(access, state))
 3811              		.loc 1 773 18 view .LVU1168
 3812 0050 03F00F03 		and	r3, r3, #15
 3813              	.LVL385:
 774:Drivers/SOES/Src/esc_coe.c ****          {
 3814              		.loc 1 774 10 is_stmt 1 view .LVU1169
 774:Drivers/SOES/Src/esc_coe.c ****          {
 3815              		.loc 1 774 13 is_stmt 0 view .LVU1170
 3816 0054 12F0080F 		tst	r2, #8
 3817 0058 01D0     		beq	.L239
 774:Drivers/SOES/Src/esc_coe.c ****          {
 3818              		.loc 1 774 14 discriminator 1 view .LVU1171
 3819 005a 022B     		cmp	r3, #2
 3820 005c 13D0     		beq	.L240
 3821              	.L239:
 774:Drivers/SOES/Src/esc_coe.c ****          {
 3822              		.loc 1 774 14 discriminator 3 view .LVU1172
 3823 005e 11F0100F 		tst	r1, #16
 3824 0062 01D0     		beq	.L241
 774:Drivers/SOES/Src/esc_coe.c ****          {
 3825              		.loc 1 774 14 discriminator 4 view .LVU1173
 3826 0064 042B     		cmp	r3, #4
 3827 0066 0ED0     		beq	.L240
 3828              	.L241:
 774:Drivers/SOES/Src/esc_coe.c ****          {
 3829              		.loc 1 774 14 discriminator 6 view .LVU1174
 3830 0068 11F0200F 		tst	r1, #32
 3831 006c 01D0     		beq	.L242
 774:Drivers/SOES/Src/esc_coe.c ****          {
 3832              		.loc 1 774 14 discriminator 7 view .LVU1175
 3833 006e 082B     		cmp	r3, #8
 3834 0070 09D0     		beq	.L240
 3835              	.L242:
 868:Drivers/SOES/Src/esc_coe.c ****             {
 3836              		.loc 1 868 13 is_stmt 1 view .LVU1176
 868:Drivers/SOES/Src/esc_coe.c ****             {
 3837              		.loc 1 868 16 is_stmt 0 view .LVU1177
 3838 0072 0F28     		cmp	r0, #15
 3839 0074 00F0A980 		beq	.L257
 874:Drivers/SOES/Src/esc_coe.c ****             }
 3840              		.loc 1 874 16 is_stmt 1 view .LVU1178
 3841 0078 654B     		ldr	r3, .L259+12
 3842              	.LVL386:
ARM GAS  /tmp/ccFH4wf5.s 			page 115


 874:Drivers/SOES/Src/esc_coe.c ****             }
 3843              		.loc 1 874 16 is_stmt 0 view .LVU1179
 3844 007a 3246     		mov	r2, r6
 3845 007c 2946     		mov	r1, r5
 3846 007e 0020     		movs	r0, #0
 3847              	.LVL387:
 874:Drivers/SOES/Src/esc_coe.c ****             }
 3848              		.loc 1 874 16 view .LVU1180
 3849 0080 FFF7FEFF 		bl	SDO_abort
 3850              	.LVL388:
 874:Drivers/SOES/Src/esc_coe.c ****             }
 3851              		.loc 1 874 16 view .LVU1181
 3852 0084 B5E0     		b	.L254
 3853              	.LVL389:
 3854              	.L240:
 777:Drivers/SOES/Src/esc_coe.c ****             {
 3855              		.loc 1 777 13 is_stmt 1 view .LVU1182
 777:Drivers/SOES/Src/esc_coe.c ****             {
 3856              		.loc 1 777 23 is_stmt 0 view .LVU1183
 3857 0086 5F4B     		ldr	r3, .L259
 3858              	.LVL390:
 777:Drivers/SOES/Src/esc_coe.c ****             {
 3859              		.loc 1 777 23 view .LVU1184
 3860 0088 93F80880 		ldrb	r8, [r3, #8]	@ zero_extendqisi2
 777:Drivers/SOES/Src/esc_coe.c ****             {
 3861              		.loc 1 777 16 view .LVU1185
 3862 008c 18F0020F 		tst	r8, #2
 3863 0090 1BD0     		beq	.L243
 779:Drivers/SOES/Src/esc_coe.c ****                mbxdata = &(coesdo->size);
 3864              		.loc 1 779 16 is_stmt 1 view .LVU1186
 779:Drivers/SOES/Src/esc_coe.c ****                mbxdata = &(coesdo->size);
 3865              		.loc 1 779 53 is_stmt 0 view .LVU1187
 3866 0092 C8F38108 		ubfx	r8, r8, #2, #2
 779:Drivers/SOES/Src/esc_coe.c ****                mbxdata = &(coesdo->size);
 3867              		.loc 1 779 21 view .LVU1188
 3868 0096 C8F10408 		rsb	r8, r8, #4
 3869 009a 1FFA88F8 		uxth	r8, r8
 3870              	.LVL391:
 780:Drivers/SOES/Src/esc_coe.c ****             }
 3871              		.loc 1 780 16 is_stmt 1 view .LVU1189
 780:Drivers/SOES/Src/esc_coe.c ****             }
 3872              		.loc 1 780 24 is_stmt 0 view .LVU1190
 3873 009e 03F10C09 		add	r9, r3, #12
 3874              	.LVL392:
 3875              	.L244:
 788:Drivers/SOES/Src/esc_coe.c ****             if (actsize != size)
 3876              		.loc 1 788 13 is_stmt 1 view .LVU1191
 788:Drivers/SOES/Src/esc_coe.c ****             if (actsize != size)
 3877              		.loc 1 788 23 is_stmt 0 view .LVU1192
 3878 00a2 A388     		ldrh	r3, [r4, #4]	@ unaligned
 3879 00a4 0733     		adds	r3, r3, #7
 3880 00a6 DA10     		asrs	r2, r3, #3
 3881              	.LVL393:
 789:Drivers/SOES/Src/esc_coe.c ****             {
 3882              		.loc 1 789 13 is_stmt 1 view .LVU1193
 789:Drivers/SOES/Src/esc_coe.c ****             {
 3883              		.loc 1 789 16 is_stmt 0 view .LVU1194
ARM GAS  /tmp/ccFH4wf5.s 			page 116


 3884 00a8 B8EBD30F 		cmp	r8, r3, lsr #3
 3885 00ac 22D0     		beq	.L245
 3886              	.LBB16:
 795:Drivers/SOES/Src/esc_coe.c ****                if (type == DTYPE_VISIBLE_STRING)
 3887              		.loc 1 795 16 is_stmt 1 view .LVU1195
 795:Drivers/SOES/Src/esc_coe.c ****                if (type == DTYPE_VISIBLE_STRING)
 3888              		.loc 1 795 25 is_stmt 0 view .LVU1196
 3889 00ae 6388     		ldrh	r3, [r4, #2]	@ unaligned
 3890              	.LVL394:
 796:Drivers/SOES/Src/esc_coe.c ****                {
 3891              		.loc 1 796 16 is_stmt 1 view .LVU1197
 796:Drivers/SOES/Src/esc_coe.c ****                {
 3892              		.loc 1 796 19 is_stmt 0 view .LVU1198
 3893 00b0 092B     		cmp	r3, #9
 3894 00b2 12D0     		beq	.L258
 801:Drivers/SOES/Src/esc_coe.c ****                         (type != DTYPE_UNICODE_STRING) &&
 3895              		.loc 1 801 21 is_stmt 1 view .LVU1199
 3896 00b4 0B2B     		cmp	r3, #11
 3897 00b6 18D8     		bhi	.L247
 3898 00b8 0A2B     		cmp	r3, #10
 3899 00ba 1BD2     		bcs	.L245
 3900              	.L248:
 808:Drivers/SOES/Src/esc_coe.c ****                   return;
 3901              		.loc 1 808 19 view .LVU1200
 3902 00bc 554B     		ldr	r3, .L259+16
 3903 00be 3246     		mov	r2, r6
 3904 00c0 2946     		mov	r1, r5
 3905 00c2 0020     		movs	r0, #0
 3906              	.LVL395:
 808:Drivers/SOES/Src/esc_coe.c ****                   return;
 3907              		.loc 1 808 19 is_stmt 0 view .LVU1201
 3908 00c4 FFF7FEFF 		bl	set_state_idle
 3909              	.LVL396:
 809:Drivers/SOES/Src/esc_coe.c ****                }
 3910              		.loc 1 809 19 is_stmt 1 view .LVU1202
 3911 00c8 99E0     		b	.L236
 3912              	.LVL397:
 3913              	.L243:
 809:Drivers/SOES/Src/esc_coe.c ****                }
 3914              		.loc 1 809 19 is_stmt 0 view .LVU1203
 3915              	.LBE16:
 785:Drivers/SOES/Src/esc_coe.c ****                mbxdata = (&(coesdo->size)) + 1;
 3916              		.loc 1 785 16 is_stmt 1 view .LVU1204
 785:Drivers/SOES/Src/esc_coe.c ****                mbxdata = (&(coesdo->size)) + 1;
 3917              		.loc 1 785 24 is_stmt 0 view .LVU1205
 3918 00ca 4E4B     		ldr	r3, .L259
 3919 00cc D3F80C80 		ldr	r8, [r3, #12]	@ unaligned
 785:Drivers/SOES/Src/esc_coe.c ****                mbxdata = (&(coesdo->size)) + 1;
 3920              		.loc 1 785 21 view .LVU1206
 3921 00d0 1FFA88F8 		uxth	r8, r8
 3922              	.LVL398:
 786:Drivers/SOES/Src/esc_coe.c ****             }
 3923              		.loc 1 786 16 is_stmt 1 view .LVU1207
 786:Drivers/SOES/Src/esc_coe.c ****             }
 3924              		.loc 1 786 24 is_stmt 0 view .LVU1208
 3925 00d4 03F11009 		add	r9, r3, #16
 3926 00d8 E3E7     		b	.L244
ARM GAS  /tmp/ccFH4wf5.s 			page 117


 3927              	.LVL399:
 3928              	.L258:
 3929              	.LBB17:
 799:Drivers/SOES/Src/esc_coe.c ****                }
 3930              		.loc 1 799 19 is_stmt 1 view .LVU1209
 799:Drivers/SOES/Src/esc_coe.c ****                }
 3931              		.loc 1 799 39 is_stmt 0 view .LVU1210
 3932 00da 2069     		ldr	r0, [r4, #16]	@ unaligned
 3933              	.LVL400:
 799:Drivers/SOES/Src/esc_coe.c ****                }
 3934              		.loc 1 799 19 view .LVU1211
 3935 00dc A2EB0802 		sub	r2, r2, r8
 3936 00e0 0021     		movs	r1, #0
 3937 00e2 4044     		add	r0, r0, r8
 3938 00e4 FFF7FEFF 		bl	memset
 3939              	.LVL401:
 799:Drivers/SOES/Src/esc_coe.c ****                }
 3940              		.loc 1 799 19 view .LVU1212
 3941 00e8 04E0     		b	.L245
 3942              	.LVL402:
 3943              	.L247:
 799:Drivers/SOES/Src/esc_coe.c ****                }
 3944              		.loc 1 799 19 view .LVU1213
 3945 00ea A3F51873 		sub	r3, r3, #608
 3946 00ee 9BB2     		uxth	r3, r3
 3947 00f0 032B     		cmp	r3, #3
 3948 00f2 E3D8     		bhi	.L248
 3949              	.LVL403:
 3950              	.L245:
 799:Drivers/SOES/Src/esc_coe.c ****                }
 3951              		.loc 1 799 19 view .LVU1214
 3952              	.LBE17:
 812:Drivers/SOES/Src/esc_coe.c ****                   index,
 3953              		.loc 1 812 13 is_stmt 1 view .LVU1215
 817:Drivers/SOES/Src/esc_coe.c ****             );
 3954              		.loc 1 817 32 is_stmt 0 view .LVU1216
 3955 00f4 E388     		ldrh	r3, [r4, #6]	@ unaligned
 812:Drivers/SOES/Src/esc_coe.c ****                   index,
 3956              		.loc 1 812 21 view .LVU1217
 3957 00f6 0093     		str	r3, [sp]
 3958 00f8 4346     		mov	r3, r8
 3959 00fa 4A46     		mov	r2, r9
 3960 00fc 3146     		mov	r1, r6
 3961 00fe 2846     		mov	r0, r5
 3962 0100 FFF7FEFF 		bl	ESC_download_pre_objecthandler
 3963              	.LVL404:
 819:Drivers/SOES/Src/esc_coe.c ****             {
 3964              		.loc 1 819 13 is_stmt 1 view .LVU1218
 819:Drivers/SOES/Src/esc_coe.c ****             {
 3965              		.loc 1 819 16 is_stmt 0 view .LVU1219
 3966 0104 0346     		mov	r3, r0
 3967 0106 0028     		cmp	r0, #0
 3968 0108 59D1     		bne	.L250
 821:Drivers/SOES/Src/esc_coe.c ****                      (size > (coesdo->mbxheader.length - COE_HEADERSIZE)))
 3969              		.loc 1 821 16 is_stmt 1 view .LVU1220
 821:Drivers/SOES/Src/esc_coe.c ****                      (size > (coesdo->mbxheader.length - COE_HEADERSIZE)))
 3970              		.loc 1 821 19 is_stmt 0 view .LVU1221
ARM GAS  /tmp/ccFH4wf5.s 			page 118


 3971 010a B8F1040F 		cmp	r8, #4
 3972 010e 18D9     		bls	.L251
 822:Drivers/SOES/Src/esc_coe.c ****                {
 3973              		.loc 1 822 48 discriminator 1 view .LVU1222
 3974 0110 3C4B     		ldr	r3, .L259
 3975 0112 1B88     		ldrh	r3, [r3]	@ unaligned
 822:Drivers/SOES/Src/esc_coe.c ****                {
 3976              		.loc 1 822 28 discriminator 1 view .LVU1223
 3977 0114 A3F10902 		sub	r2, r3, #9
 821:Drivers/SOES/Src/esc_coe.c ****                      (size > (coesdo->mbxheader.length - COE_HEADERSIZE)))
 3978              		.loc 1 821 31 discriminator 1 view .LVU1224
 3979 0118 4245     		cmp	r2, r8
 3980 011a 12DC     		bgt	.L251
 824:Drivers/SOES/Src/esc_coe.c ****                   /* signal segmented transfer */
 3981              		.loc 1 824 19 is_stmt 1 view .LVU1225
 824:Drivers/SOES/Src/esc_coe.c ****                   /* signal segmented transfer */
 3982              		.loc 1 824 24 is_stmt 0 view .LVU1226
 3983 011c 0A3B     		subs	r3, r3, #10
 3984 011e 1FFA83F8 		uxth	r8, r3
 3985              	.LVL405:
 826:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.data = (objd + nsub)->data + size;
 3986              		.loc 1 826 19 is_stmt 1 view .LVU1227
 826:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.data = (objd + nsub)->data + size;
 3987              		.loc 1 826 36 is_stmt 0 view .LVU1228
 3988 0122 3A4B     		ldr	r3, .L259+8
 3989 0124 5022     		movs	r2, #80
 3990 0126 83F88D20 		strb	r2, [r3, #141]
 827:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.index = index;
 3991              		.loc 1 827 19 is_stmt 1 view .LVU1229
 827:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.index = index;
 3992              		.loc 1 827 46 is_stmt 0 view .LVU1230
 3993 012a 2269     		ldr	r2, [r4, #16]	@ unaligned
 827:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.index = index;
 3994              		.loc 1 827 53 view .LVU1231
 3995 012c 4244     		add	r2, r2, r8
 827:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.index = index;
 3996              		.loc 1 827 31 view .LVU1232
 3997 012e C3F89020 		str	r2, [r3, #144]
 828:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.subindex = subindex;
 3998              		.loc 1 828 19 is_stmt 1 view .LVU1233
 828:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.subindex = subindex;
 3999              		.loc 1 828 32 is_stmt 0 view .LVU1234
 4000 0132 A3F89A70 		strh	r7, [r3, #154]	@ movhi
 829:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.flags = (objd + nsub)->flags;
 4001              		.loc 1 829 19 is_stmt 1 view .LVU1235
 829:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.flags = (objd + nsub)->flags;
 4002              		.loc 1 829 35 is_stmt 0 view .LVU1236
 4003 0136 83F89C60 		strb	r6, [r3, #156]
 830:Drivers/SOES/Src/esc_coe.c ****                }
 4004              		.loc 1 830 19 is_stmt 1 view .LVU1237
 830:Drivers/SOES/Src/esc_coe.c ****                }
 4005              		.loc 1 830 47 is_stmt 0 view .LVU1238
 4006 013a E288     		ldrh	r2, [r4, #6]	@ unaligned
 830:Drivers/SOES/Src/esc_coe.c ****                }
 4007              		.loc 1 830 32 view .LVU1239
 4008 013c A3F89E20 		strh	r2, [r3, #158]	@ movhi
 4009 0140 03E0     		b	.L252
ARM GAS  /tmp/ccFH4wf5.s 			page 119


 4010              	.L251:
 834:Drivers/SOES/Src/esc_coe.c ****                }
 4011              		.loc 1 834 19 is_stmt 1 view .LVU1240
 834:Drivers/SOES/Src/esc_coe.c ****                }
 4012              		.loc 1 834 36 is_stmt 0 view .LVU1241
 4013 0142 324B     		ldr	r3, .L259+8
 4014 0144 0022     		movs	r2, #0
 4015 0146 83F88D20 		strb	r2, [r3, #141]
 4016              	.L252:
 836:Drivers/SOES/Src/esc_coe.c ****                MBXout = ESC_claimbuffer ();
 4017              		.loc 1 836 16 is_stmt 1 view .LVU1242
 4018 014a 4246     		mov	r2, r8
 4019 014c 2169     		ldr	r1, [r4, #16]	@ unaligned
 4020 014e 4846     		mov	r0, r9
 4021              	.LVL406:
 836:Drivers/SOES/Src/esc_coe.c ****                MBXout = ESC_claimbuffer ();
 4022              		.loc 1 836 16 is_stmt 0 view .LVU1243
 4023 0150 FFF7FEFF 		bl	copy2mbx
 4024              	.LVL407:
 837:Drivers/SOES/Src/esc_coe.c ****                if (MBXout)
 4025              		.loc 1 837 16 is_stmt 1 view .LVU1244
 837:Drivers/SOES/Src/esc_coe.c ****                if (MBXout)
 4026              		.loc 1 837 25 is_stmt 0 view .LVU1245
 4027 0154 FFF7FEFF 		bl	ESC_claimbuffer
 4028              	.LVL408:
 838:Drivers/SOES/Src/esc_coe.c ****                {
 4029              		.loc 1 838 16 is_stmt 1 view .LVU1246
 838:Drivers/SOES/Src/esc_coe.c ****                {
 4030              		.loc 1 838 19 is_stmt 0 view .LVU1247
 4031 0158 8046     		mov	r8, r0
 4032              	.LVL409:
 838:Drivers/SOES/Src/esc_coe.c ****                {
 4033              		.loc 1 838 19 view .LVU1248
 4034 015a F8B1     		cbz	r0, .L253
 840:Drivers/SOES/Src/esc_coe.c ****                   coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 4035              		.loc 1 840 19 is_stmt 1 view .LVU1249
 840:Drivers/SOES/Src/esc_coe.c ****                   coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 4036              		.loc 1 840 54 is_stmt 0 view .LVU1250
 4037 015c 2B4B     		ldr	r3, .L259+8
 4038 015e 996E     		ldr	r1, [r3, #104]
 840:Drivers/SOES/Src/esc_coe.c ****                   coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 4039              		.loc 1 840 52 view .LVU1251
 4040 0160 01FB00F1 		mul	r1, r1, r0
 840:Drivers/SOES/Src/esc_coe.c ****                   coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 4041              		.loc 1 840 26 view .LVU1252
 4042 0164 2748     		ldr	r0, .L259
 4043              	.LVL410:
 840:Drivers/SOES/Src/esc_coe.c ****                   coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 4044              		.loc 1 840 26 view .LVU1253
 4045 0166 0B18     		adds	r3, r1, r0
 4046              	.LVL411:
 841:Drivers/SOES/Src/esc_coe.c ****                   coeres->mbxheader.mbxtype = MBXCOE;
 4047              		.loc 1 841 19 is_stmt 1 view .LVU1254
 841:Drivers/SOES/Src/esc_coe.c ****                   coeres->mbxheader.mbxtype = MBXCOE;
 4048              		.loc 1 841 44 is_stmt 0 view .LVU1255
 4049 0168 0022     		movs	r2, #0
 4050 016a 4FF00A0C 		mov	ip, #10
ARM GAS  /tmp/ccFH4wf5.s 			page 120


 4051 016e 00F801C0 		strb	ip, [r0, r1]
 4052 0172 5A70     		strb	r2, [r3, #1]
 842:Drivers/SOES/Src/esc_coe.c ****                   coeres->coeheader.numberservice =
 4053              		.loc 1 842 19 is_stmt 1 view .LVU1256
 842:Drivers/SOES/Src/esc_coe.c ****                   coeres->coeheader.numberservice =
 4054              		.loc 1 842 45 is_stmt 0 view .LVU1257
 4055 0174 5879     		ldrb	r0, [r3, #5]	@ zero_extendqisi2
 4056 0176 0321     		movs	r1, #3
 4057 0178 61F30300 		bfi	r0, r1, #0, #4
 4058 017c 5871     		strb	r0, [r3, #5]
 843:Drivers/SOES/Src/esc_coe.c ****                         htoes ((0 & 0x01f) | (COE_SDORESPONSE << 12));
 4059              		.loc 1 843 19 is_stmt 1 view .LVU1258
 843:Drivers/SOES/Src/esc_coe.c ****                         htoes ((0 & 0x01f) | (COE_SDORESPONSE << 12));
 4060              		.loc 1 843 51 is_stmt 0 view .LVU1259
 4061 017e 9A71     		strb	r2, [r3, #6]
 4062 0180 3020     		movs	r0, #48
 4063 0182 D871     		strb	r0, [r3, #7]
 845:Drivers/SOES/Src/esc_coe.c ****                   coeres->subindex = subindex;
 4064              		.loc 1 845 19 is_stmt 1 view .LVU1260
 845:Drivers/SOES/Src/esc_coe.c ****                   coeres->subindex = subindex;
 4065              		.loc 1 845 33 is_stmt 0 view .LVU1261
 4066 0184 A3F80970 		strh	r7, [r3, #9]	@ unaligned
 846:Drivers/SOES/Src/esc_coe.c ****                   coeres->command = COE_COMMAND_DOWNLOADRESPONSE;
 4067              		.loc 1 846 19 is_stmt 1 view .LVU1262
 846:Drivers/SOES/Src/esc_coe.c ****                   coeres->command = COE_COMMAND_DOWNLOADRESPONSE;
 4068              		.loc 1 846 36 is_stmt 0 view .LVU1263
 4069 0188 DE72     		strb	r6, [r3, #11]
 847:Drivers/SOES/Src/esc_coe.c ****                   coeres->size = htoel (0);
 4070              		.loc 1 847 19 is_stmt 1 view .LVU1264
 847:Drivers/SOES/Src/esc_coe.c ****                   coeres->size = htoel (0);
 4071              		.loc 1 847 35 is_stmt 0 view .LVU1265
 4072 018a 6020     		movs	r0, #96
 4073 018c 1872     		strb	r0, [r3, #8]
 848:Drivers/SOES/Src/esc_coe.c ****                   MBXcontrol[MBXout].state = MBXstate_outreq;
 4074              		.loc 1 848 19 is_stmt 1 view .LVU1266
 848:Drivers/SOES/Src/esc_coe.c ****                   MBXcontrol[MBXout].state = MBXstate_outreq;
 4075              		.loc 1 848 32 is_stmt 0 view .LVU1267
 4076 018e 1A73     		strb	r2, [r3, #12]
 4077 0190 5A73     		strb	r2, [r3, #13]
 4078 0192 9A73     		strb	r2, [r3, #14]
 4079 0194 DA73     		strb	r2, [r3, #15]
 849:Drivers/SOES/Src/esc_coe.c ****                }
 4080              		.loc 1 849 19 is_stmt 1 view .LVU1268
 849:Drivers/SOES/Src/esc_coe.c ****                }
 4081              		.loc 1 849 44 is_stmt 0 view .LVU1269
 4082 0196 204B     		ldr	r3, .L259+20
 4083              	.LVL412:
 849:Drivers/SOES/Src/esc_coe.c ****                }
 4084              		.loc 1 849 44 view .LVU1270
 4085 0198 03F80810 		strb	r1, [r3, r8]
 4086              	.LVL413:
 4087              	.L253:
 851:Drivers/SOES/Src/esc_coe.c ****                {
 4088              		.loc 1 851 16 is_stmt 1 view .LVU1271
 851:Drivers/SOES/Src/esc_coe.c ****                {
 4089              		.loc 1 851 26 is_stmt 0 view .LVU1272
 4090 019c 1B4B     		ldr	r3, .L259+8
ARM GAS  /tmp/ccFH4wf5.s 			page 121


 4091 019e 93F88D30 		ldrb	r3, [r3, #141]	@ zero_extendqisi2
 851:Drivers/SOES/Src/esc_coe.c ****                {
 4092              		.loc 1 851 19 view .LVU1273
 4093 01a2 33BB     		cbnz	r3, .L254
 854:Drivers/SOES/Src/esc_coe.c ****                   if (abort != 0)
 4094              		.loc 1 854 19 is_stmt 1 view .LVU1274
 854:Drivers/SOES/Src/esc_coe.c ****                   if (abort != 0)
 4095              		.loc 1 854 27 is_stmt 0 view .LVU1275
 4096 01a4 E288     		ldrh	r2, [r4, #6]	@ unaligned
 4097 01a6 3146     		mov	r1, r6
 4098 01a8 2846     		mov	r0, r5
 4099 01aa FFF7FEFF 		bl	ESC_download_post_objecthandler
 4100              	.LVL414:
 855:Drivers/SOES/Src/esc_coe.c ****                   {
 4101              		.loc 1 855 19 is_stmt 1 view .LVU1276
 855:Drivers/SOES/Src/esc_coe.c ****                   {
 4102              		.loc 1 855 22 is_stmt 0 view .LVU1277
 4103 01ae 0346     		mov	r3, r0
 4104 01b0 F8B1     		cbz	r0, .L254
 857:Drivers/SOES/Src/esc_coe.c ****                   }
 4105              		.loc 1 857 22 is_stmt 1 view .LVU1278
 4106 01b2 3246     		mov	r2, r6
 4107 01b4 2946     		mov	r1, r5
 4108 01b6 4046     		mov	r0, r8
 4109              	.LVL415:
 857:Drivers/SOES/Src/esc_coe.c ****                   }
 4110              		.loc 1 857 22 is_stmt 0 view .LVU1279
 4111 01b8 FFF7FEFF 		bl	SDO_abort
 4112              	.LVL416:
 857:Drivers/SOES/Src/esc_coe.c ****                   }
 4113              		.loc 1 857 22 view .LVU1280
 4114 01bc 19E0     		b	.L254
 4115              	.LVL417:
 4116              	.L250:
 863:Drivers/SOES/Src/esc_coe.c ****             }
 4117              		.loc 1 863 16 is_stmt 1 view .LVU1281
 4118 01be 3246     		mov	r2, r6
 4119 01c0 2946     		mov	r1, r5
 4120 01c2 0020     		movs	r0, #0
 4121              	.LVL418:
 863:Drivers/SOES/Src/esc_coe.c ****             }
 4122              		.loc 1 863 16 is_stmt 0 view .LVU1282
 4123 01c4 FFF7FEFF 		bl	SDO_abort
 4124              	.LVL419:
 863:Drivers/SOES/Src/esc_coe.c ****             }
 4125              		.loc 1 863 16 view .LVU1283
 4126 01c8 13E0     		b	.L254
 4127              	.LVL420:
 4128              	.L257:
 870:Drivers/SOES/Src/esc_coe.c ****             }
 4129              		.loc 1 870 16 is_stmt 1 view .LVU1284
 4130 01ca 144B     		ldr	r3, .L259+24
 4131              	.LVL421:
 870:Drivers/SOES/Src/esc_coe.c ****             }
 4132              		.loc 1 870 16 is_stmt 0 view .LVU1285
 4133 01cc 3246     		mov	r2, r6
 4134 01ce 2946     		mov	r1, r5
ARM GAS  /tmp/ccFH4wf5.s 			page 122


 4135 01d0 0020     		movs	r0, #0
 4136              	.LVL422:
 870:Drivers/SOES/Src/esc_coe.c ****             }
 4137              		.loc 1 870 16 view .LVU1286
 4138 01d2 FFF7FEFF 		bl	SDO_abort
 4139              	.LVL423:
 870:Drivers/SOES/Src/esc_coe.c ****             }
 4140              		.loc 1 870 16 view .LVU1287
 4141 01d6 0CE0     		b	.L254
 4142              	.LVL424:
 4143              	.L238:
 870:Drivers/SOES/Src/esc_coe.c ****             }
 4144              		.loc 1 870 16 view .LVU1288
 4145              	.LBE15:
 880:Drivers/SOES/Src/esc_coe.c ****       }
 4146              		.loc 1 880 10 is_stmt 1 view .LVU1289
 4147 01d8 114B     		ldr	r3, .L259+28
 4148 01da 3246     		mov	r2, r6
 4149 01dc 2946     		mov	r1, r5
 4150 01de 0020     		movs	r0, #0
 4151 01e0 FFF7FEFF 		bl	SDO_abort
 4152              	.LVL425:
 4153 01e4 05E0     		b	.L254
 4154              	.LVL426:
 4155              	.L237:
 885:Drivers/SOES/Src/esc_coe.c ****    }
 4156              		.loc 1 885 7 view .LVU1290
 4157 01e6 0F4B     		ldr	r3, .L259+32
 4158 01e8 3246     		mov	r2, r6
 4159 01ea 2946     		mov	r1, r5
 4160 01ec 0020     		movs	r0, #0
 4161 01ee FFF7FEFF 		bl	SDO_abort
 4162              	.LVL427:
 4163              	.L254:
 887:Drivers/SOES/Src/esc_coe.c ****    ESCvar.xoe = 0;
 4164              		.loc 1 887 4 view .LVU1291
 887:Drivers/SOES/Src/esc_coe.c ****    ESCvar.xoe = 0;
 4165              		.loc 1 887 24 is_stmt 0 view .LVU1292
 4166 01f2 0023     		movs	r3, #0
 4167 01f4 084A     		ldr	r2, .L259+20
 4168 01f6 1370     		strb	r3, [r2]
 888:Drivers/SOES/Src/esc_coe.c **** }
 4169              		.loc 1 888 4 is_stmt 1 view .LVU1293
 888:Drivers/SOES/Src/esc_coe.c **** }
 4170              		.loc 1 888 15 is_stmt 0 view .LVU1294
 4171 01f8 044A     		ldr	r2, .L259+8
 4172 01fa 82F88A30 		strb	r3, [r2, #138]
 4173              	.L236:
 889:Drivers/SOES/Src/esc_coe.c **** 
 4174              		.loc 1 889 1 view .LVU1295
 4175 01fe 03B0     		add	sp, sp, #12
 4176              		.cfi_def_cfa_offset 28
 4177              		@ sp needed
 4178 0200 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 4179              	.LVL428:
 4180              	.L260:
 889:Drivers/SOES/Src/esc_coe.c **** 
ARM GAS  /tmp/ccFH4wf5.s 			page 123


 4181              		.loc 1 889 1 view .LVU1296
 4182              		.align	2
 4183              	.L259:
 4184 0204 00000000 		.word	MBX
 4185 0208 00000000 		.word	SDOobjects
 4186 020c 00000000 		.word	ESCvar
 4187 0210 02000106 		.word	100728834
 4188 0214 10000706 		.word	101122064
 4189 0218 00000000 		.word	MBXcontrol
 4190 021c 22000008 		.word	134217762
 4191 0220 11000906 		.word	101253137
 4192 0224 00000206 		.word	100794368
 4193              		.cfi_endproc
 4194              	.LFE12:
 4196              		.section	.text.SDO_getod,"ax",%progbits
 4197              		.align	1
 4198              		.syntax unified
 4199              		.thumb
 4200              		.thumb_func
 4202              	SDO_getod:
 4203              	.LFB18:
1202:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
 4204              		.loc 1 1202 1 is_stmt 1 view -0
 4205              		.cfi_startproc
 4206              		@ args = 0, pretend = 0, frame = 0
 4207              		@ frame_needed = 0, uses_anonymous_args = 0
 4208 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 4209              		.cfi_def_cfa_offset 32
 4210              		.cfi_offset 3, -32
 4211              		.cfi_offset 4, -28
 4212              		.cfi_offset 5, -24
 4213              		.cfi_offset 6, -20
 4214              		.cfi_offset 7, -16
 4215              		.cfi_offset 8, -12
 4216              		.cfi_offset 9, -8
 4217              		.cfi_offset 14, -4
1203:Drivers/SOES/Src/esc_coe.c ****    uint16_t index;
 4218              		.loc 1 1203 4 view .LVU1298
1204:Drivers/SOES/Src/esc_coe.c ****    int32_t nidx;
 4219              		.loc 1 1204 4 view .LVU1299
1205:Drivers/SOES/Src/esc_coe.c ****    uint8_t *d;
 4220              		.loc 1 1205 4 view .LVU1300
1206:Drivers/SOES/Src/esc_coe.c ****    const uint8_t *s;
 4221              		.loc 1 1206 4 view .LVU1301
1207:Drivers/SOES/Src/esc_coe.c ****    uint8_t n = 0;
 4222              		.loc 1 1207 4 view .LVU1302
1208:Drivers/SOES/Src/esc_coe.c ****    _COEobjdesc *coer, *coel;
 4223              		.loc 1 1208 4 view .LVU1303
 4224              	.LVL429:
1209:Drivers/SOES/Src/esc_coe.c ****    coer = (_COEobjdesc *) &MBX[0];
 4225              		.loc 1 1209 4 view .LVU1304
1210:Drivers/SOES/Src/esc_coe.c ****    index = etohs (coer->index);
 4226              		.loc 1 1210 4 view .LVU1305
1211:Drivers/SOES/Src/esc_coe.c ****    nidx = SDO_findobject (index);
 4227              		.loc 1 1211 4 view .LVU1306
1211:Drivers/SOES/Src/esc_coe.c ****    nidx = SDO_findobject (index);
 4228              		.loc 1 1211 10 is_stmt 0 view .LVU1307
ARM GAS  /tmp/ccFH4wf5.s 			page 124


 4229 0004 4E4B     		ldr	r3, .L273
 4230 0006 B3F80C90 		ldrh	r9, [r3, #12]	@ unaligned
 4231              	.LVL430:
1212:Drivers/SOES/Src/esc_coe.c ****    if (nidx >= 0)
 4232              		.loc 1 1212 4 is_stmt 1 view .LVU1308
1212:Drivers/SOES/Src/esc_coe.c ****    if (nidx >= 0)
 4233              		.loc 1 1212 11 is_stmt 0 view .LVU1309
 4234 000a 1FFA89F0 		uxth	r0, r9
 4235 000e FFF7FEFF 		bl	SDO_findobject
 4236              	.LVL431:
1213:Drivers/SOES/Src/esc_coe.c ****    {
 4237              		.loc 1 1213 4 is_stmt 1 view .LVU1310
1213:Drivers/SOES/Src/esc_coe.c ****    {
 4238              		.loc 1 1213 7 is_stmt 0 view .LVU1311
 4239 0012 B0F10008 		subs	r8, r0, #0
 4240 0016 C0F28E80 		blt	.L262
1215:Drivers/SOES/Src/esc_coe.c ****       if (MBXout)
 4241              		.loc 1 1215 7 is_stmt 1 view .LVU1312
1215:Drivers/SOES/Src/esc_coe.c ****       if (MBXout)
 4242              		.loc 1 1215 16 is_stmt 0 view .LVU1313
 4243 001a FFF7FEFF 		bl	ESC_claimbuffer
 4244              	.LVL432:
1216:Drivers/SOES/Src/esc_coe.c ****       {
 4245              		.loc 1 1216 7 is_stmt 1 view .LVU1314
1216:Drivers/SOES/Src/esc_coe.c ****       {
 4246              		.loc 1 1216 10 is_stmt 0 view .LVU1315
 4247 001e 0646     		mov	r6, r0
 4248 0020 0028     		cmp	r0, #0
 4249 0022 00F08B80 		beq	.L261
1218:Drivers/SOES/Src/esc_coe.c ****          coel->mbxheader.mbxtype = MBXCOE;
 4250              		.loc 1 1218 10 is_stmt 1 view .LVU1316
1218:Drivers/SOES/Src/esc_coe.c ****          coel->mbxheader.mbxtype = MBXCOE;
 4251              		.loc 1 1218 47 is_stmt 0 view .LVU1317
 4252 0026 474B     		ldr	r3, .L273+4
 4253 0028 9D6E     		ldr	r5, [r3, #104]
1218:Drivers/SOES/Src/esc_coe.c ****          coel->mbxheader.mbxtype = MBXCOE;
 4254              		.loc 1 1218 45 view .LVU1318
 4255 002a 00FB05F5 		mul	r5, r0, r5
1218:Drivers/SOES/Src/esc_coe.c ****          coel->mbxheader.mbxtype = MBXCOE;
 4256              		.loc 1 1218 15 view .LVU1319
 4257 002e 444F     		ldr	r7, .L273
 4258 0030 EC19     		adds	r4, r5, r7
 4259              	.LVL433:
1219:Drivers/SOES/Src/esc_coe.c ****          coel->coeheader.numberservice =
 4260              		.loc 1 1219 10 is_stmt 1 view .LVU1320
1219:Drivers/SOES/Src/esc_coe.c ****          coel->coeheader.numberservice =
 4261              		.loc 1 1219 34 is_stmt 0 view .LVU1321
 4262 0032 6379     		ldrb	r3, [r4, #5]	@ zero_extendqisi2
 4263 0034 0322     		movs	r2, #3
 4264 0036 62F30303 		bfi	r3, r2, #0, #4
 4265 003a 6371     		strb	r3, [r4, #5]
1220:Drivers/SOES/Src/esc_coe.c ****             htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 4266              		.loc 1 1220 10 is_stmt 1 view .LVU1322
1220:Drivers/SOES/Src/esc_coe.c ****             htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 4267              		.loc 1 1220 40 is_stmt 0 view .LVU1323
 4268 003c 0023     		movs	r3, #0
 4269 003e A371     		strb	r3, [r4, #6]
ARM GAS  /tmp/ccFH4wf5.s 			page 125


 4270 0040 6FF07F02 		mvn	r2, #127
 4271 0044 E271     		strb	r2, [r4, #7]
1222:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.incomplete = 0;
 4272              		.loc 1 1222 10 is_stmt 1 view .LVU1324
1222:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.incomplete = 0;
 4273              		.loc 1 1222 34 is_stmt 0 view .LVU1325
 4274 0046 227A     		ldrb	r2, [r4, #8]	@ zero_extendqisi2
 4275 0048 0421     		movs	r1, #4
 4276 004a 61F30602 		bfi	r2, r1, #0, #7
 4277 004e 2272     		strb	r2, [r4, #8]
1223:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.reserved = 0x00;
 4278              		.loc 1 1223 10 is_stmt 1 view .LVU1326
1223:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.reserved = 0x00;
 4279              		.loc 1 1223 38 is_stmt 0 view .LVU1327
 4280 0050 D2B2     		uxtb	r2, r2
 4281 0052 63F3C712 		bfi	r2, r3, #7, #1
 4282 0056 2272     		strb	r2, [r4, #8]
1224:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (0);
 4283              		.loc 1 1224 10 is_stmt 1 view .LVU1328
1224:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (0);
 4284              		.loc 1 1224 36 is_stmt 0 view .LVU1329
 4285 0058 6372     		strb	r3, [r4, #9]
1225:Drivers/SOES/Src/esc_coe.c ****          coel->index = htoes (index);
 4286              		.loc 1 1225 10 is_stmt 1 view .LVU1330
1225:Drivers/SOES/Src/esc_coe.c ****          coel->index = htoes (index);
 4287              		.loc 1 1225 41 is_stmt 0 view .LVU1331
 4288 005a A372     		strb	r3, [r4, #10]
 4289 005c E372     		strb	r3, [r4, #11]
1226:Drivers/SOES/Src/esc_coe.c ****          if (SDOobjects[nidx].objtype == OTYPE_VAR)
 4290              		.loc 1 1226 10 is_stmt 1 view .LVU1332
1226:Drivers/SOES/Src/esc_coe.c ****          if (SDOobjects[nidx].objtype == OTYPE_VAR)
 4291              		.loc 1 1226 22 is_stmt 0 view .LVU1333
 4292 005e A4F80C90 		strh	r9, [r4, #12]	@ unaligned
1227:Drivers/SOES/Src/esc_coe.c ****          {
 4293              		.loc 1 1227 10 is_stmt 1 view .LVU1334
1227:Drivers/SOES/Src/esc_coe.c ****          {
 4294              		.loc 1 1227 30 is_stmt 0 view .LVU1335
 4295 0062 C8EBC802 		rsb	r2, r8, r8, lsl #3
 4296 0066 384B     		ldr	r3, .L273+8
 4297 0068 03EB4203 		add	r3, r3, r2, lsl #1
 4298 006c B3F80290 		ldrh	r9, [r3, #2]	@ unaligned
 4299              	.LVL434:
1227:Drivers/SOES/Src/esc_coe.c ****          {
 4300              		.loc 1 1227 13 view .LVU1336
 4301 0070 B9F1070F 		cmp	r9, #7
 4302 0074 1BD0     		beq	.L271
1234:Drivers/SOES/Src/esc_coe.c ****          {
 4303              		.loc 1 1234 15 is_stmt 1 view .LVU1337
1234:Drivers/SOES/Src/esc_coe.c ****          {
 4304              		.loc 1 1234 18 is_stmt 0 view .LVU1338
 4305 0076 B9F1080F 		cmp	r9, #8
 4306 007a 2DD0     		beq	.L272
1243:Drivers/SOES/Src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].objdesc->value;
 4307              		.loc 1 1243 13 is_stmt 1 view .LVU1339
1243:Drivers/SOES/Src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].objdesc->value;
 4308              		.loc 1 1243 28 is_stmt 0 view .LVU1340
 4309 007c 0023     		movs	r3, #0
ARM GAS  /tmp/ccFH4wf5.s 			page 126


 4310 007e A373     		strb	r3, [r4, #14]
 4311 0080 E373     		strb	r3, [r4, #15]
1244:Drivers/SOES/Src/esc_coe.c ****          }
 4312              		.loc 1 1244 13 is_stmt 1 view .LVU1341
1244:Drivers/SOES/Src/esc_coe.c ****          }
 4313              		.loc 1 1244 44 is_stmt 0 view .LVU1342
 4314 0082 C8EBC802 		rsb	r2, r8, r8, lsl #3
 4315 0086 304B     		ldr	r3, .L273+8
 4316 0088 03EB4203 		add	r3, r3, r2, lsl #1
 4317 008c D3F80A30 		ldr	r3, [r3, #10]	@ unaligned
1244:Drivers/SOES/Src/esc_coe.c ****          }
 4318              		.loc 1 1244 52 view .LVU1343
 4319 0090 DB68     		ldr	r3, [r3, #12]	@ unaligned
1244:Drivers/SOES/Src/esc_coe.c ****          }
 4320              		.loc 1 1244 26 view .LVU1344
 4321 0092 2374     		strb	r3, [r4, #16]
 4322              	.LVL435:
 4323              	.L265:
1246:Drivers/SOES/Src/esc_coe.c ****          s = (uint8_t *) SDOobjects[nidx].name;
 4324              		.loc 1 1246 10 is_stmt 1 view .LVU1345
1246:Drivers/SOES/Src/esc_coe.c ****          s = (uint8_t *) SDOobjects[nidx].name;
 4325              		.loc 1 1246 27 is_stmt 0 view .LVU1346
 4326 0094 84F81190 		strb	r9, [r4, #17]
1247:Drivers/SOES/Src/esc_coe.c ****          d = (uint8_t *) &(coel->name);
 4327              		.loc 1 1247 10 is_stmt 1 view .LVU1347
1247:Drivers/SOES/Src/esc_coe.c ****          d = (uint8_t *) &(coel->name);
 4328              		.loc 1 1247 12 is_stmt 0 view .LVU1348
 4329 0098 C8EBC800 		rsb	r0, r8, r8, lsl #3
 4330 009c 2A4B     		ldr	r3, .L273+8
 4331 009e 03EB4003 		add	r3, r3, r0, lsl #1
 4332 00a2 D3F806C0 		ldr	ip, [r3, #6]	@ unaligned
 4333              	.LVL436:
1248:Drivers/SOES/Src/esc_coe.c ****          while (*s && (n < (ESC_MBXDSIZE - 0x0c)))
 4334              		.loc 1 1248 10 is_stmt 1 view .LVU1349
1248:Drivers/SOES/Src/esc_coe.c ****          while (*s && (n < (ESC_MBXDSIZE - 0x0c)))
 4335              		.loc 1 1248 12 is_stmt 0 view .LVU1350
 4336 00a6 04F11202 		add	r2, r4, #18
 4337              	.LVL437:
1249:Drivers/SOES/Src/esc_coe.c ****          {
 4338              		.loc 1 1249 10 is_stmt 1 view .LVU1351
1208:Drivers/SOES/Src/esc_coe.c ****    _COEobjdesc *coer, *coel;
 4339              		.loc 1 1208 12 is_stmt 0 view .LVU1352
 4340 00aa 0023     		movs	r3, #0
1249:Drivers/SOES/Src/esc_coe.c ****          {
 4341              		.loc 1 1249 16 view .LVU1353
 4342 00ac 2FE0     		b	.L267
 4343              	.LVL438:
 4344              	.L271:
 4345              	.LBB18:
1229:Drivers/SOES/Src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
 4346              		.loc 1 1229 13 is_stmt 1 view .LVU1354
1229:Drivers/SOES/Src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
 4347              		.loc 1 1229 28 is_stmt 0 view .LVU1355
 4348 00ae 0021     		movs	r1, #0
 4349 00b0 0FFA88F0 		sxth	r0, r8
 4350              	.LVL439:
1229:Drivers/SOES/Src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
ARM GAS  /tmp/ccFH4wf5.s 			page 127


 4351              		.loc 1 1229 28 view .LVU1356
 4352 00b4 FFF7FEFF 		bl	SDO_findsubindex
 4353              	.LVL440:
1230:Drivers/SOES/Src/esc_coe.c ****             coel->datatype = htoes ((objd + nsub)->datatype);
 4354              		.loc 1 1230 13 is_stmt 1 view .LVU1357
1230:Drivers/SOES/Src/esc_coe.c ****             coel->datatype = htoes ((objd + nsub)->datatype);
 4355              		.loc 1 1230 26 is_stmt 0 view .LVU1358
 4356 00b8 C8EBC802 		rsb	r2, r8, r8, lsl #3
 4357 00bc 224B     		ldr	r3, .L273+8
 4358 00be 03EB4203 		add	r3, r3, r2, lsl #1
 4359 00c2 D3F80A20 		ldr	r2, [r3, #10]	@ unaligned
 4360              	.LVL441:
1231:Drivers/SOES/Src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].maxsub;
 4361              		.loc 1 1231 13 is_stmt 1 view .LVU1359
1231:Drivers/SOES/Src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].maxsub;
 4362              		.loc 1 1231 30 is_stmt 0 view .LVU1360
 4363 00c6 00EB8000 		add	r0, r0, r0, lsl #2
 4364              	.LVL442:
1231:Drivers/SOES/Src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].maxsub;
 4365              		.loc 1 1231 30 view .LVU1361
 4366 00ca 02EB8002 		add	r2, r2, r0, lsl #2
 4367              	.LVL443:
1231:Drivers/SOES/Src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].maxsub;
 4368              		.loc 1 1231 30 view .LVU1362
 4369 00ce 5288     		ldrh	r2, [r2, #2]	@ unaligned
1231:Drivers/SOES/Src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].maxsub;
 4370              		.loc 1 1231 28 view .LVU1363
 4371 00d0 E281     		strh	r2, [r4, #14]	@ unaligned
1232:Drivers/SOES/Src/esc_coe.c ****          }
 4372              		.loc 1 1232 13 is_stmt 1 view .LVU1364
1232:Drivers/SOES/Src/esc_coe.c ****          }
 4373              		.loc 1 1232 44 is_stmt 0 view .LVU1365
 4374 00d2 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 4375              	.LVL444:
1232:Drivers/SOES/Src/esc_coe.c ****          }
 4376              		.loc 1 1232 26 view .LVU1366
 4377 00d4 2374     		strb	r3, [r4, #16]
 4378              	.LBE18:
 4379 00d6 DDE7     		b	.L265
 4380              	.LVL445:
 4381              	.L272:
 4382              	.LBB19:
1236:Drivers/SOES/Src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
 4383              		.loc 1 1236 13 is_stmt 1 view .LVU1367
1236:Drivers/SOES/Src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
 4384              		.loc 1 1236 28 is_stmt 0 view .LVU1368
 4385 00d8 0021     		movs	r1, #0
 4386 00da 0FFA88F0 		sxth	r0, r8
 4387              	.LVL446:
1236:Drivers/SOES/Src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
 4388              		.loc 1 1236 28 view .LVU1369
 4389 00de FFF7FEFF 		bl	SDO_findsubindex
 4390              	.LVL447:
1237:Drivers/SOES/Src/esc_coe.c ****             coel->datatype = htoes ((objd + nsub)->datatype);
 4391              		.loc 1 1237 13 is_stmt 1 view .LVU1370
1237:Drivers/SOES/Src/esc_coe.c ****             coel->datatype = htoes ((objd + nsub)->datatype);
 4392              		.loc 1 1237 26 is_stmt 0 view .LVU1371
ARM GAS  /tmp/ccFH4wf5.s 			page 128


 4393 00e2 C8EBC802 		rsb	r2, r8, r8, lsl #3
 4394 00e6 184B     		ldr	r3, .L273+8
 4395 00e8 03EB4203 		add	r3, r3, r2, lsl #1
 4396 00ec D3F80A30 		ldr	r3, [r3, #10]	@ unaligned
 4397              	.LVL448:
1238:Drivers/SOES/Src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].objdesc->value;
 4398              		.loc 1 1238 13 is_stmt 1 view .LVU1372
1238:Drivers/SOES/Src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].objdesc->value;
 4399              		.loc 1 1238 30 is_stmt 0 view .LVU1373
 4400 00f0 00EB8000 		add	r0, r0, r0, lsl #2
 4401              	.LVL449:
1238:Drivers/SOES/Src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].objdesc->value;
 4402              		.loc 1 1238 30 view .LVU1374
 4403 00f4 03EB8000 		add	r0, r3, r0, lsl #2
 4404 00f8 4288     		ldrh	r2, [r0, #2]	@ unaligned
1238:Drivers/SOES/Src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].objdesc->value;
 4405              		.loc 1 1238 28 view .LVU1375
 4406 00fa E281     		strh	r2, [r4, #14]	@ unaligned
1239:Drivers/SOES/Src/esc_coe.c ****          }
 4407              		.loc 1 1239 13 is_stmt 1 view .LVU1376
1239:Drivers/SOES/Src/esc_coe.c ****          }
 4408              		.loc 1 1239 52 is_stmt 0 view .LVU1377
 4409 00fc DB68     		ldr	r3, [r3, #12]	@ unaligned
 4410              	.LVL450:
1239:Drivers/SOES/Src/esc_coe.c ****          }
 4411              		.loc 1 1239 26 view .LVU1378
 4412 00fe 2374     		strb	r3, [r4, #16]
 4413              	.LBE19:
 4414 0100 C8E7     		b	.L265
 4415              	.LVL451:
 4416              	.L269:
1251:Drivers/SOES/Src/esc_coe.c ****             n++;
 4417              		.loc 1 1251 13 is_stmt 1 view .LVU1379
1251:Drivers/SOES/Src/esc_coe.c ****             n++;
 4418              		.loc 1 1251 16 is_stmt 0 view .LVU1380
 4419 0102 02F8010B 		strb	r0, [r2], #1
 4420              	.LVL452:
1252:Drivers/SOES/Src/esc_coe.c ****             s++;
 4421              		.loc 1 1252 13 is_stmt 1 view .LVU1381
1252:Drivers/SOES/Src/esc_coe.c ****             s++;
 4422              		.loc 1 1252 14 is_stmt 0 view .LVU1382
 4423 0106 0133     		adds	r3, r3, #1
 4424              	.LVL453:
1252:Drivers/SOES/Src/esc_coe.c ****             s++;
 4425              		.loc 1 1252 14 view .LVU1383
 4426 0108 DBB2     		uxtb	r3, r3
 4427              	.LVL454:
1253:Drivers/SOES/Src/esc_coe.c ****             d++;
 4428              		.loc 1 1253 13 is_stmt 1 view .LVU1384
1253:Drivers/SOES/Src/esc_coe.c ****             d++;
 4429              		.loc 1 1253 14 is_stmt 0 view .LVU1385
 4430 010a 0CF1010C 		add	ip, ip, #1
 4431              	.LVL455:
1254:Drivers/SOES/Src/esc_coe.c ****          }
 4432              		.loc 1 1254 13 is_stmt 1 view .LVU1386
 4433              	.L267:
1249:Drivers/SOES/Src/esc_coe.c ****          {
ARM GAS  /tmp/ccFH4wf5.s 			page 129


 4434              		.loc 1 1249 20 view .LVU1387
1249:Drivers/SOES/Src/esc_coe.c ****          {
 4435              		.loc 1 1249 17 is_stmt 0 view .LVU1388
 4436 010e 9CF80000 		ldrb	r0, [ip]	@ zero_extendqisi2
1249:Drivers/SOES/Src/esc_coe.c ****          {
 4437              		.loc 1 1249 20 view .LVU1389
 4438 0112 20B1     		cbz	r0, .L268
1249:Drivers/SOES/Src/esc_coe.c ****          {
 4439              		.loc 1 1249 29 discriminator 1 view .LVU1390
 4440 0114 0B49     		ldr	r1, .L273+4
 4441 0116 896E     		ldr	r1, [r1, #104]
1249:Drivers/SOES/Src/esc_coe.c ****          {
 4442              		.loc 1 1249 42 discriminator 1 view .LVU1391
 4443 0118 1239     		subs	r1, r1, #18
1249:Drivers/SOES/Src/esc_coe.c ****          {
 4444              		.loc 1 1249 20 discriminator 1 view .LVU1392
 4445 011a 8B42     		cmp	r3, r1
 4446 011c F1D3     		bcc	.L269
 4447              	.L268:
1256:Drivers/SOES/Src/esc_coe.c ****          coel->mbxheader.length = htoes ((uint16_t) 0x0c + n);
 4448              		.loc 1 1256 10 is_stmt 1 view .LVU1393
1256:Drivers/SOES/Src/esc_coe.c ****          coel->mbxheader.length = htoes ((uint16_t) 0x0c + n);
 4449              		.loc 1 1256 13 is_stmt 0 view .LVU1394
 4450 011e 1070     		strb	r0, [r2]
1257:Drivers/SOES/Src/esc_coe.c ****          MBXcontrol[MBXout].state = MBXstate_outreq;
 4451              		.loc 1 1257 10 is_stmt 1 view .LVU1395
1257:Drivers/SOES/Src/esc_coe.c ****          MBXcontrol[MBXout].state = MBXstate_outreq;
 4452              		.loc 1 1257 35 is_stmt 0 view .LVU1396
 4453 0120 0C33     		adds	r3, r3, #12
 4454              	.LVL456:
1257:Drivers/SOES/Src/esc_coe.c ****          MBXcontrol[MBXout].state = MBXstate_outreq;
 4455              		.loc 1 1257 33 view .LVU1397
 4456 0122 7B53     		strh	r3, [r7, r5]	@ unaligned
1258:Drivers/SOES/Src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
 4457              		.loc 1 1258 10 is_stmt 1 view .LVU1398
1258:Drivers/SOES/Src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
 4458              		.loc 1 1258 35 is_stmt 0 view .LVU1399
 4459 0124 094A     		ldr	r2, .L273+12
 4460              	.LVL457:
1258:Drivers/SOES/Src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
 4461              		.loc 1 1258 35 view .LVU1400
 4462 0126 0323     		movs	r3, #3
 4463 0128 9355     		strb	r3, [r2, r6]
1259:Drivers/SOES/Src/esc_coe.c ****          ESCvar.xoe = 0;
 4464              		.loc 1 1259 10 is_stmt 1 view .LVU1401
1259:Drivers/SOES/Src/esc_coe.c ****          ESCvar.xoe = 0;
 4465              		.loc 1 1259 30 is_stmt 0 view .LVU1402
 4466 012a 0023     		movs	r3, #0
 4467 012c 1370     		strb	r3, [r2]
1260:Drivers/SOES/Src/esc_coe.c ****       }
 4468              		.loc 1 1260 10 is_stmt 1 view .LVU1403
1260:Drivers/SOES/Src/esc_coe.c ****       }
 4469              		.loc 1 1260 21 is_stmt 0 view .LVU1404
 4470 012e 054A     		ldr	r2, .L273+4
 4471 0130 82F88A30 		strb	r3, [r2, #138]
 4472 0134 02E0     		b	.L261
 4473              	.LVL458:
ARM GAS  /tmp/ccFH4wf5.s 			page 130


 4474              	.L262:
1265:Drivers/SOES/Src/esc_coe.c ****    }
 4475              		.loc 1 1265 7 is_stmt 1 view .LVU1405
 4476 0136 0648     		ldr	r0, .L273+16
 4477              	.LVL459:
1265:Drivers/SOES/Src/esc_coe.c ****    }
 4478              		.loc 1 1265 7 is_stmt 0 view .LVU1406
 4479 0138 FFF7FEFF 		bl	SDO_infoerror
 4480              	.LVL460:
 4481              	.L261:
1267:Drivers/SOES/Src/esc_coe.c **** 
 4482              		.loc 1 1267 1 view .LVU1407
 4483 013c BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 4484              	.LVL461:
 4485              	.L274:
1267:Drivers/SOES/Src/esc_coe.c **** 
 4486              		.loc 1 1267 1 view .LVU1408
 4487              		.align	2
 4488              	.L273:
 4489 0140 00000000 		.word	MBX
 4490 0144 00000000 		.word	ESCvar
 4491 0148 00000000 		.word	SDOobjects
 4492 014c 00000000 		.word	MBXcontrol
 4493 0150 00000206 		.word	100794368
 4494              		.cfi_endproc
 4495              	.LFE18:
 4497              		.section	.text.SDO_geted,"ax",%progbits
 4498              		.align	1
 4499              		.syntax unified
 4500              		.thumb
 4501              		.thumb_func
 4503              	SDO_geted:
 4504              	.LFB19:
1274:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
 4505              		.loc 1 1274 1 is_stmt 1 view -0
 4506              		.cfi_startproc
 4507              		@ args = 0, pretend = 0, frame = 0
 4508              		@ frame_needed = 0, uses_anonymous_args = 0
 4509 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 4510              		.cfi_def_cfa_offset 24
 4511              		.cfi_offset 4, -24
 4512              		.cfi_offset 5, -20
 4513              		.cfi_offset 6, -16
 4514              		.cfi_offset 7, -12
 4515              		.cfi_offset 8, -8
 4516              		.cfi_offset 14, -4
1275:Drivers/SOES/Src/esc_coe.c ****    uint16_t index;
 4517              		.loc 1 1275 4 view .LVU1410
1276:Drivers/SOES/Src/esc_coe.c ****    int32_t nidx, nsub;
 4518              		.loc 1 1276 4 view .LVU1411
1277:Drivers/SOES/Src/esc_coe.c ****    uint8_t subindex;
 4519              		.loc 1 1277 4 view .LVU1412
1278:Drivers/SOES/Src/esc_coe.c ****    uint8_t *d;
 4520              		.loc 1 1278 4 view .LVU1413
1279:Drivers/SOES/Src/esc_coe.c ****    const uint8_t *s;
 4521              		.loc 1 1279 4 view .LVU1414
1280:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd;
ARM GAS  /tmp/ccFH4wf5.s 			page 131


 4522              		.loc 1 1280 4 view .LVU1415
1281:Drivers/SOES/Src/esc_coe.c ****    uint8_t n = 0;
 4523              		.loc 1 1281 4 view .LVU1416
1282:Drivers/SOES/Src/esc_coe.c ****    _COEentdesc *coer, *coel;
 4524              		.loc 1 1282 4 view .LVU1417
 4525              	.LVL462:
1283:Drivers/SOES/Src/esc_coe.c ****    coer = (_COEentdesc *) &MBX[0];
 4526              		.loc 1 1283 4 view .LVU1418
1284:Drivers/SOES/Src/esc_coe.c ****    index = etohs (coer->index);
 4527              		.loc 1 1284 4 view .LVU1419
1285:Drivers/SOES/Src/esc_coe.c ****    subindex = coer->subindex;
 4528              		.loc 1 1285 4 view .LVU1420
1285:Drivers/SOES/Src/esc_coe.c ****    subindex = coer->subindex;
 4529              		.loc 1 1285 10 is_stmt 0 view .LVU1421
 4530 0004 364B     		ldr	r3, .L283
 4531 0006 9D89     		ldrh	r5, [r3, #12]	@ unaligned
 4532              	.LVL463:
1286:Drivers/SOES/Src/esc_coe.c ****    nidx = SDO_findobject (index);
 4533              		.loc 1 1286 4 is_stmt 1 view .LVU1422
1286:Drivers/SOES/Src/esc_coe.c ****    nidx = SDO_findobject (index);
 4534              		.loc 1 1286 13 is_stmt 0 view .LVU1423
 4535 0008 9E7B     		ldrb	r6, [r3, #14]	@ zero_extendqisi2
 4536              	.LVL464:
1287:Drivers/SOES/Src/esc_coe.c ****    if (nidx >= 0)
 4537              		.loc 1 1287 4 is_stmt 1 view .LVU1424
1287:Drivers/SOES/Src/esc_coe.c ****    if (nidx >= 0)
 4538              		.loc 1 1287 11 is_stmt 0 view .LVU1425
 4539 000a A8B2     		uxth	r0, r5
 4540 000c FFF7FEFF 		bl	SDO_findobject
 4541              	.LVL465:
1288:Drivers/SOES/Src/esc_coe.c ****    {
 4542              		.loc 1 1288 4 is_stmt 1 view .LVU1426
1288:Drivers/SOES/Src/esc_coe.c ****    {
 4543              		.loc 1 1288 7 is_stmt 0 view .LVU1427
 4544 0010 071E     		subs	r7, r0, #0
 4545 0012 60DB     		blt	.L276
1290:Drivers/SOES/Src/esc_coe.c ****       if (nsub >= 0)
 4546              		.loc 1 1290 7 is_stmt 1 view .LVU1428
1290:Drivers/SOES/Src/esc_coe.c ****       if (nsub >= 0)
 4547              		.loc 1 1290 14 is_stmt 0 view .LVU1429
 4548 0014 3146     		mov	r1, r6
 4549 0016 38B2     		sxth	r0, r7
 4550              	.LVL466:
1290:Drivers/SOES/Src/esc_coe.c ****       if (nsub >= 0)
 4551              		.loc 1 1290 14 view .LVU1430
 4552 0018 FFF7FEFF 		bl	SDO_findsubindex
 4553              	.LVL467:
1291:Drivers/SOES/Src/esc_coe.c ****       {
 4554              		.loc 1 1291 7 is_stmt 1 view .LVU1431
1291:Drivers/SOES/Src/esc_coe.c ****       {
 4555              		.loc 1 1291 10 is_stmt 0 view .LVU1432
 4556 001c 041E     		subs	r4, r0, #0
 4557 001e 55DB     		blt	.L277
1293:Drivers/SOES/Src/esc_coe.c ****          MBXout = ESC_claimbuffer ();
 4558              		.loc 1 1293 10 is_stmt 1 view .LVU1433
1293:Drivers/SOES/Src/esc_coe.c ****          MBXout = ESC_claimbuffer ();
 4559              		.loc 1 1293 15 is_stmt 0 view .LVU1434
ARM GAS  /tmp/ccFH4wf5.s 			page 132


 4560 0020 C7EBC700 		rsb	r0, r7, r7, lsl #3
 4561              	.LVL468:
1293:Drivers/SOES/Src/esc_coe.c ****          MBXout = ESC_claimbuffer ();
 4562              		.loc 1 1293 15 view .LVU1435
 4563 0024 2F4B     		ldr	r3, .L283+4
 4564 0026 03EB4003 		add	r3, r3, r0, lsl #1
 4565 002a D3F80A70 		ldr	r7, [r3, #10]	@ unaligned
 4566              	.LVL469:
1294:Drivers/SOES/Src/esc_coe.c ****          if (MBXout)
 4567              		.loc 1 1294 10 is_stmt 1 view .LVU1436
1294:Drivers/SOES/Src/esc_coe.c ****          if (MBXout)
 4568              		.loc 1 1294 19 is_stmt 0 view .LVU1437
 4569 002e FFF7FEFF 		bl	ESC_claimbuffer
 4570              	.LVL470:
1295:Drivers/SOES/Src/esc_coe.c ****          {
 4571              		.loc 1 1295 10 is_stmt 1 view .LVU1438
1295:Drivers/SOES/Src/esc_coe.c ****          {
 4572              		.loc 1 1295 13 is_stmt 0 view .LVU1439
 4573 0032 8446     		mov	ip, r0
 4574 0034 0028     		cmp	r0, #0
 4575 0036 4CD0     		beq	.L275
1297:Drivers/SOES/Src/esc_coe.c ****             coel->mbxheader.mbxtype = MBXCOE;
 4576              		.loc 1 1297 13 is_stmt 1 view .LVU1440
1297:Drivers/SOES/Src/esc_coe.c ****             coel->mbxheader.mbxtype = MBXCOE;
 4577              		.loc 1 1297 50 is_stmt 0 view .LVU1441
 4578 0038 2B4B     		ldr	r3, .L283+8
 4579 003a 986E     		ldr	r0, [r3, #104]
 4580              	.LVL471:
1297:Drivers/SOES/Src/esc_coe.c ****             coel->mbxheader.mbxtype = MBXCOE;
 4581              		.loc 1 1297 48 view .LVU1442
 4582 003c 00FB0CF0 		mul	r0, r0, ip
1297:Drivers/SOES/Src/esc_coe.c ****             coel->mbxheader.mbxtype = MBXCOE;
 4583              		.loc 1 1297 18 view .LVU1443
 4584 0040 DFF89CE0 		ldr	lr, .L283
 4585 0044 00EB0E02 		add	r2, r0, lr
 4586              	.LVL472:
1298:Drivers/SOES/Src/esc_coe.c ****             coel->coeheader.numberservice =
 4587              		.loc 1 1298 13 is_stmt 1 view .LVU1444
1298:Drivers/SOES/Src/esc_coe.c ****             coel->coeheader.numberservice =
 4588              		.loc 1 1298 37 is_stmt 0 view .LVU1445
 4589 0048 5379     		ldrb	r3, [r2, #5]	@ zero_extendqisi2
 4590 004a 0321     		movs	r1, #3
 4591 004c 61F30303 		bfi	r3, r1, #0, #4
 4592 0050 5371     		strb	r3, [r2, #5]
1299:Drivers/SOES/Src/esc_coe.c ****                htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 4593              		.loc 1 1299 13 is_stmt 1 view .LVU1446
1299:Drivers/SOES/Src/esc_coe.c ****                htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 4594              		.loc 1 1299 43 is_stmt 0 view .LVU1447
 4595 0052 0023     		movs	r3, #0
 4596 0054 9371     		strb	r3, [r2, #6]
 4597 0056 6FF07F01 		mvn	r1, #127
 4598 005a D171     		strb	r1, [r2, #7]
1301:Drivers/SOES/Src/esc_coe.c ****             coel->infoheader.incomplete = 0;
 4599              		.loc 1 1301 13 is_stmt 1 view .LVU1448
1301:Drivers/SOES/Src/esc_coe.c ****             coel->infoheader.incomplete = 0;
 4600              		.loc 1 1301 37 is_stmt 0 view .LVU1449
 4601 005c 117A     		ldrb	r1, [r2, #8]	@ zero_extendqisi2
ARM GAS  /tmp/ccFH4wf5.s 			page 133


 4602 005e 4FF00608 		mov	r8, #6
 4603 0062 68F30601 		bfi	r1, r8, #0, #7
 4604 0066 1172     		strb	r1, [r2, #8]
1302:Drivers/SOES/Src/esc_coe.c ****             coel->infoheader.reserved = 0x00;
 4605              		.loc 1 1302 13 is_stmt 1 view .LVU1450
1302:Drivers/SOES/Src/esc_coe.c ****             coel->infoheader.reserved = 0x00;
 4606              		.loc 1 1302 41 is_stmt 0 view .LVU1451
 4607 0068 C9B2     		uxtb	r1, r1
 4608 006a 63F3C711 		bfi	r1, r3, #7, #1
 4609 006e 1172     		strb	r1, [r2, #8]
1303:Drivers/SOES/Src/esc_coe.c ****             coel->infoheader.fragmentsleft = htoes ((uint16_t) 0);
 4610              		.loc 1 1303 13 is_stmt 1 view .LVU1452
1303:Drivers/SOES/Src/esc_coe.c ****             coel->infoheader.fragmentsleft = htoes ((uint16_t) 0);
 4611              		.loc 1 1303 39 is_stmt 0 view .LVU1453
 4612 0070 5372     		strb	r3, [r2, #9]
1304:Drivers/SOES/Src/esc_coe.c ****             coel->index = htoes (index);
 4613              		.loc 1 1304 13 is_stmt 1 view .LVU1454
1304:Drivers/SOES/Src/esc_coe.c ****             coel->index = htoes (index);
 4614              		.loc 1 1304 44 is_stmt 0 view .LVU1455
 4615 0072 9372     		strb	r3, [r2, #10]
 4616 0074 D372     		strb	r3, [r2, #11]
1305:Drivers/SOES/Src/esc_coe.c ****             coel->subindex = subindex;
 4617              		.loc 1 1305 13 is_stmt 1 view .LVU1456
1305:Drivers/SOES/Src/esc_coe.c ****             coel->subindex = subindex;
 4618              		.loc 1 1305 25 is_stmt 0 view .LVU1457
 4619 0076 9581     		strh	r5, [r2, #12]	@ unaligned
1306:Drivers/SOES/Src/esc_coe.c ****             coel->valueinfo = COE_VALUEINFO_ACCESS +
 4620              		.loc 1 1306 13 is_stmt 1 view .LVU1458
1306:Drivers/SOES/Src/esc_coe.c ****             coel->valueinfo = COE_VALUEINFO_ACCESS +
 4621              		.loc 1 1306 28 is_stmt 0 view .LVU1459
 4622 0078 9673     		strb	r6, [r2, #14]
1307:Drivers/SOES/Src/esc_coe.c ****                COE_VALUEINFO_OBJECT + COE_VALUEINFO_MAPPABLE;
 4623              		.loc 1 1307 13 is_stmt 1 view .LVU1460
1307:Drivers/SOES/Src/esc_coe.c ****                COE_VALUEINFO_OBJECT + COE_VALUEINFO_MAPPABLE;
 4624              		.loc 1 1307 29 is_stmt 0 view .LVU1461
 4625 007a 0721     		movs	r1, #7
 4626 007c D173     		strb	r1, [r2, #15]
1309:Drivers/SOES/Src/esc_coe.c ****             coel->bitlength = htoes ((objd + nsub)->bitlength);
 4627              		.loc 1 1309 13 is_stmt 1 view .LVU1462
1309:Drivers/SOES/Src/esc_coe.c ****             coel->bitlength = htoes ((objd + nsub)->bitlength);
 4628              		.loc 1 1309 30 is_stmt 0 view .LVU1463
 4629 007e 04EB8404 		add	r4, r4, r4, lsl #2
 4630              	.LVL473:
1309:Drivers/SOES/Src/esc_coe.c ****             coel->bitlength = htoes ((objd + nsub)->bitlength);
 4631              		.loc 1 1309 30 view .LVU1464
 4632 0082 07EB8407 		add	r7, r7, r4, lsl #2
 4633              	.LVL474:
1309:Drivers/SOES/Src/esc_coe.c ****             coel->bitlength = htoes ((objd + nsub)->bitlength);
 4634              		.loc 1 1309 30 view .LVU1465
 4635 0086 7988     		ldrh	r1, [r7, #2]	@ unaligned
1309:Drivers/SOES/Src/esc_coe.c ****             coel->bitlength = htoes ((objd + nsub)->bitlength);
 4636              		.loc 1 1309 28 view .LVU1466
 4637 0088 1182     		strh	r1, [r2, #16]	@ unaligned
1310:Drivers/SOES/Src/esc_coe.c ****             coel->access = htoes ((objd + nsub)->flags);
 4638              		.loc 1 1310 13 is_stmt 1 view .LVU1467
1310:Drivers/SOES/Src/esc_coe.c ****             coel->access = htoes ((objd + nsub)->flags);
 4639              		.loc 1 1310 31 is_stmt 0 view .LVU1468
ARM GAS  /tmp/ccFH4wf5.s 			page 134


 4640 008a B988     		ldrh	r1, [r7, #4]	@ unaligned
1310:Drivers/SOES/Src/esc_coe.c ****             coel->access = htoes ((objd + nsub)->flags);
 4641              		.loc 1 1310 29 view .LVU1469
 4642 008c 5182     		strh	r1, [r2, #18]	@ unaligned
1311:Drivers/SOES/Src/esc_coe.c ****             s = (uint8_t *) (objd + nsub)->name;
 4643              		.loc 1 1311 13 is_stmt 1 view .LVU1470
1311:Drivers/SOES/Src/esc_coe.c ****             s = (uint8_t *) (objd + nsub)->name;
 4644              		.loc 1 1311 28 is_stmt 0 view .LVU1471
 4645 008e F988     		ldrh	r1, [r7, #6]	@ unaligned
1311:Drivers/SOES/Src/esc_coe.c ****             s = (uint8_t *) (objd + nsub)->name;
 4646              		.loc 1 1311 26 view .LVU1472
 4647 0090 9182     		strh	r1, [r2, #20]	@ unaligned
1312:Drivers/SOES/Src/esc_coe.c ****             d = (uint8_t *) &(coel->name);
 4648              		.loc 1 1312 13 is_stmt 1 view .LVU1473
1312:Drivers/SOES/Src/esc_coe.c ****             d = (uint8_t *) &(coel->name);
 4649              		.loc 1 1312 15 is_stmt 0 view .LVU1474
 4650 0092 BD68     		ldr	r5, [r7, #8]	@ unaligned
 4651              	.LVL475:
1313:Drivers/SOES/Src/esc_coe.c ****             while (*s && (n < (ESC_MBXDSIZE - 0x10)))
 4652              		.loc 1 1313 13 is_stmt 1 view .LVU1475
1313:Drivers/SOES/Src/esc_coe.c ****             while (*s && (n < (ESC_MBXDSIZE - 0x10)))
 4653              		.loc 1 1313 15 is_stmt 0 view .LVU1476
 4654 0094 1632     		adds	r2, r2, #22
 4655              	.LVL476:
1314:Drivers/SOES/Src/esc_coe.c ****             {
 4656              		.loc 1 1314 13 is_stmt 1 view .LVU1477
 4657              	.L279:
1314:Drivers/SOES/Src/esc_coe.c ****             {
 4658              		.loc 1 1314 23 view .LVU1478
1314:Drivers/SOES/Src/esc_coe.c ****             {
 4659              		.loc 1 1314 20 is_stmt 0 view .LVU1479
 4660 0096 2C78     		ldrb	r4, [r5]	@ zero_extendqisi2
1314:Drivers/SOES/Src/esc_coe.c ****             {
 4661              		.loc 1 1314 23 view .LVU1480
 4662 0098 54B1     		cbz	r4, .L280
1314:Drivers/SOES/Src/esc_coe.c ****             {
 4663              		.loc 1 1314 32 discriminator 1 view .LVU1481
 4664 009a 1349     		ldr	r1, .L283+8
 4665 009c 896E     		ldr	r1, [r1, #104]
1314:Drivers/SOES/Src/esc_coe.c ****             {
 4666              		.loc 1 1314 45 discriminator 1 view .LVU1482
 4667 009e 1639     		subs	r1, r1, #22
1314:Drivers/SOES/Src/esc_coe.c ****             {
 4668              		.loc 1 1314 23 discriminator 1 view .LVU1483
 4669 00a0 8B42     		cmp	r3, r1
 4670 00a2 05D2     		bcs	.L280
1316:Drivers/SOES/Src/esc_coe.c ****                n++;
 4671              		.loc 1 1316 16 is_stmt 1 view .LVU1484
1316:Drivers/SOES/Src/esc_coe.c ****                n++;
 4672              		.loc 1 1316 19 is_stmt 0 view .LVU1485
 4673 00a4 02F8014B 		strb	r4, [r2], #1
 4674              	.LVL477:
1317:Drivers/SOES/Src/esc_coe.c ****                s++;
 4675              		.loc 1 1317 16 is_stmt 1 view .LVU1486
1317:Drivers/SOES/Src/esc_coe.c ****                s++;
 4676              		.loc 1 1317 17 is_stmt 0 view .LVU1487
 4677 00a8 0133     		adds	r3, r3, #1
ARM GAS  /tmp/ccFH4wf5.s 			page 135


 4678              	.LVL478:
1317:Drivers/SOES/Src/esc_coe.c ****                s++;
 4679              		.loc 1 1317 17 view .LVU1488
 4680 00aa DBB2     		uxtb	r3, r3
 4681              	.LVL479:
1318:Drivers/SOES/Src/esc_coe.c ****                d++;
 4682              		.loc 1 1318 16 is_stmt 1 view .LVU1489
1318:Drivers/SOES/Src/esc_coe.c ****                d++;
 4683              		.loc 1 1318 17 is_stmt 0 view .LVU1490
 4684 00ac 0135     		adds	r5, r5, #1
 4685              	.LVL480:
1319:Drivers/SOES/Src/esc_coe.c ****             }
 4686              		.loc 1 1319 16 is_stmt 1 view .LVU1491
1319:Drivers/SOES/Src/esc_coe.c ****             }
 4687              		.loc 1 1319 16 is_stmt 0 view .LVU1492
 4688 00ae F2E7     		b	.L279
 4689              	.L280:
1321:Drivers/SOES/Src/esc_coe.c ****             coel->mbxheader.length = htoes ((uint16_t) 0x10 + n);
 4690              		.loc 1 1321 13 is_stmt 1 view .LVU1493
1321:Drivers/SOES/Src/esc_coe.c ****             coel->mbxheader.length = htoes ((uint16_t) 0x10 + n);
 4691              		.loc 1 1321 16 is_stmt 0 view .LVU1494
 4692 00b0 1470     		strb	r4, [r2]
1322:Drivers/SOES/Src/esc_coe.c ****             MBXcontrol[MBXout].state = MBXstate_outreq;
 4693              		.loc 1 1322 13 is_stmt 1 view .LVU1495
1322:Drivers/SOES/Src/esc_coe.c ****             MBXcontrol[MBXout].state = MBXstate_outreq;
 4694              		.loc 1 1322 38 is_stmt 0 view .LVU1496
 4695 00b2 1033     		adds	r3, r3, #16
 4696              	.LVL481:
1322:Drivers/SOES/Src/esc_coe.c ****             MBXcontrol[MBXout].state = MBXstate_outreq;
 4697              		.loc 1 1322 36 view .LVU1497
 4698 00b4 2EF80030 		strh	r3, [lr, r0]	@ unaligned
1323:Drivers/SOES/Src/esc_coe.c ****             MBXcontrol[0].state = MBXstate_idle;
 4699              		.loc 1 1323 13 is_stmt 1 view .LVU1498
1323:Drivers/SOES/Src/esc_coe.c ****             MBXcontrol[0].state = MBXstate_idle;
 4700              		.loc 1 1323 38 is_stmt 0 view .LVU1499
 4701 00b8 0C4A     		ldr	r2, .L283+12
 4702              	.LVL482:
1323:Drivers/SOES/Src/esc_coe.c ****             MBXcontrol[0].state = MBXstate_idle;
 4703              		.loc 1 1323 38 view .LVU1500
 4704 00ba 0323     		movs	r3, #3
 4705 00bc 02F80C30 		strb	r3, [r2, ip]
1324:Drivers/SOES/Src/esc_coe.c ****             ESCvar.xoe = 0;
 4706              		.loc 1 1324 13 is_stmt 1 view .LVU1501
1324:Drivers/SOES/Src/esc_coe.c ****             ESCvar.xoe = 0;
 4707              		.loc 1 1324 33 is_stmt 0 view .LVU1502
 4708 00c0 0023     		movs	r3, #0
 4709 00c2 1370     		strb	r3, [r2]
1325:Drivers/SOES/Src/esc_coe.c ****          }
 4710              		.loc 1 1325 13 is_stmt 1 view .LVU1503
1325:Drivers/SOES/Src/esc_coe.c ****          }
 4711              		.loc 1 1325 24 is_stmt 0 view .LVU1504
 4712 00c4 084A     		ldr	r2, .L283+8
 4713 00c6 82F88A30 		strb	r3, [r2, #138]
 4714 00ca 02E0     		b	.L275
 4715              	.LVL483:
 4716              	.L277:
1330:Drivers/SOES/Src/esc_coe.c ****       }
ARM GAS  /tmp/ccFH4wf5.s 			page 136


 4717              		.loc 1 1330 10 is_stmt 1 view .LVU1505
 4718 00cc 0848     		ldr	r0, .L283+16
 4719              	.LVL484:
1330:Drivers/SOES/Src/esc_coe.c ****       }
 4720              		.loc 1 1330 10 is_stmt 0 view .LVU1506
 4721 00ce FFF7FEFF 		bl	SDO_infoerror
 4722              	.LVL485:
 4723              	.L275:
1337:Drivers/SOES/Src/esc_coe.c **** 
 4724              		.loc 1 1337 1 view .LVU1507
 4725 00d2 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 4726              	.LVL486:
 4727              	.L276:
1335:Drivers/SOES/Src/esc_coe.c ****    }
 4728              		.loc 1 1335 7 is_stmt 1 view .LVU1508
 4729 00d6 0748     		ldr	r0, .L283+20
 4730              	.LVL487:
1335:Drivers/SOES/Src/esc_coe.c ****    }
 4731              		.loc 1 1335 7 is_stmt 0 view .LVU1509
 4732 00d8 FFF7FEFF 		bl	SDO_infoerror
 4733              	.LVL488:
1337:Drivers/SOES/Src/esc_coe.c **** 
 4734              		.loc 1 1337 1 view .LVU1510
 4735 00dc F9E7     		b	.L275
 4736              	.L284:
 4737 00de 00BF     		.align	2
 4738              	.L283:
 4739 00e0 00000000 		.word	MBX
 4740 00e4 00000000 		.word	SDOobjects
 4741 00e8 00000000 		.word	ESCvar
 4742 00ec 00000000 		.word	MBXcontrol
 4743 00f0 11000906 		.word	101253137
 4744 00f4 00000206 		.word	100794368
 4745              		.cfi_endproc
 4746              	.LFE19:
 4748              		.section	.text.sizeOfPDO,"ax",%progbits
 4749              		.align	1
 4750              		.global	sizeOfPDO
 4751              		.syntax unified
 4752              		.thumb
 4753              		.thumb_func
 4755              	sizeOfPDO:
 4756              	.LVL489:
 4757              	.LFB2:
 119:Drivers/SOES/Src/esc_coe.c ****    uint16_t offset = 0, hobj;
 4758              		.loc 1 119 1 is_stmt 1 view -0
 4759              		.cfi_startproc
 4760              		@ args = 0, pretend = 0, frame = 24
 4761              		@ frame_needed = 0, uses_anonymous_args = 0
 119:Drivers/SOES/Src/esc_coe.c ****    uint16_t offset = 0, hobj;
 4762              		.loc 1 119 1 is_stmt 0 view .LVU1512
 4763 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 4764              		.cfi_def_cfa_offset 36
 4765              		.cfi_offset 4, -36
 4766              		.cfi_offset 5, -32
 4767              		.cfi_offset 6, -28
 4768              		.cfi_offset 7, -24
ARM GAS  /tmp/ccFH4wf5.s 			page 137


 4769              		.cfi_offset 8, -20
 4770              		.cfi_offset 9, -16
 4771              		.cfi_offset 10, -12
 4772              		.cfi_offset 11, -8
 4773              		.cfi_offset 14, -4
 4774 0004 87B0     		sub	sp, sp, #28
 4775              		.cfi_def_cfa_offset 64
 4776 0006 0192     		str	r2, [sp, #4]
 4777 0008 9A46     		mov	r10, r3
 120:Drivers/SOES/Src/esc_coe.c ****    uint8_t si, sic, c;
 4778              		.loc 1 120 4 is_stmt 1 view .LVU1513
 4779              	.LVL490:
 121:Drivers/SOES/Src/esc_coe.c ****    int16_t nidx;
 4780              		.loc 1 121 4 view .LVU1514
 122:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd;
 4781              		.loc 1 122 4 view .LVU1515
 123:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd1c1x;
 4782              		.loc 1 123 4 view .LVU1516
 124:Drivers/SOES/Src/esc_coe.c ****    int mapIx = 0;
 4783              		.loc 1 124 4 view .LVU1517
 125:Drivers/SOES/Src/esc_coe.c **** 
 4784              		.loc 1 125 4 view .LVU1518
 127:Drivers/SOES/Src/esc_coe.c ****    {
 4785              		.loc 1 127 4 view .LVU1519
 127:Drivers/SOES/Src/esc_coe.c ****    {
 4786              		.loc 1 127 33 is_stmt 0 view .LVU1520
 4787 000a A0F5E053 		sub	r3, r0, #7168
 4788              	.LVL491:
 127:Drivers/SOES/Src/esc_coe.c ****    {
 4789              		.loc 1 127 33 view .LVU1521
 4790 000e 123B     		subs	r3, r3, #18
 4791 0010 9BB2     		uxth	r3, r3
 127:Drivers/SOES/Src/esc_coe.c ****    {
 4792              		.loc 1 127 7 view .LVU1522
 4793 0012 012B     		cmp	r3, #1
 4794 0014 00F2BE80 		bhi	.L309
 4795 0018 8B46     		mov	fp, r1
 132:Drivers/SOES/Src/esc_coe.c ****    if(nidx < 0)
 4796              		.loc 1 132 4 is_stmt 1 view .LVU1523
 132:Drivers/SOES/Src/esc_coe.c ****    if(nidx < 0)
 4797              		.loc 1 132 11 is_stmt 0 view .LVU1524
 4798 001a FFF7FEFF 		bl	SDO_findobject
 4799              	.LVL492:
 132:Drivers/SOES/Src/esc_coe.c ****    if(nidx < 0)
 4800              		.loc 1 132 9 view .LVU1525
 4801 001e 00B2     		sxth	r0, r0
 4802              	.LVL493:
 133:Drivers/SOES/Src/esc_coe.c ****    {
 4803              		.loc 1 133 4 is_stmt 1 view .LVU1526
 133:Drivers/SOES/Src/esc_coe.c ****    {
 4804              		.loc 1 133 6 is_stmt 0 view .LVU1527
 4805 0020 0028     		cmp	r0, #0
 4806 0022 C0F2BB80 		blt	.L310
 138:Drivers/SOES/Src/esc_coe.c **** 
 4807              		.loc 1 138 4 is_stmt 1 view .LVU1528
 138:Drivers/SOES/Src/esc_coe.c **** 
 4808              		.loc 1 138 13 is_stmt 0 view .LVU1529
ARM GAS  /tmp/ccFH4wf5.s 			page 138


 4809 0026 C0EBC000 		rsb	r0, r0, r0, lsl #3
 4810              	.LVL494:
 138:Drivers/SOES/Src/esc_coe.c **** 
 4811              		.loc 1 138 13 view .LVU1530
 4812 002a 5D4B     		ldr	r3, .L318
 4813 002c 03EB4003 		add	r3, r3, r0, lsl #1
 4814 0030 D3F80A80 		ldr	r8, [r3, #10]	@ unaligned
 4815              	.LVL495:
 140:Drivers/SOES/Src/esc_coe.c ****    if (si)
 4816              		.loc 1 140 4 is_stmt 1 view .LVU1531
 140:Drivers/SOES/Src/esc_coe.c ****    if (si)
 4817              		.loc 1 140 9 is_stmt 0 view .LVU1532
 4818 0034 D8F81030 		ldr	r3, [r8, #16]	@ unaligned
 140:Drivers/SOES/Src/esc_coe.c ****    if (si)
 4819              		.loc 1 140 7 view .LVU1533
 4820 0038 83B1     		cbz	r3, .L287
 140:Drivers/SOES/Src/esc_coe.c ****    if (si)
 4821              		.loc 1 140 7 discriminator 1 view .LVU1534
 4822 003a 1D78     		ldrb	r5, [r3]	@ zero_extendqisi2
 4823              	.L288:
 4824              	.LVL496:
 141:Drivers/SOES/Src/esc_coe.c ****    {
 4825              		.loc 1 141 4 is_stmt 1 discriminator 4 view .LVU1535
 141:Drivers/SOES/Src/esc_coe.c ****    {
 4826              		.loc 1 141 7 is_stmt 0 discriminator 4 view .LVU1536
 4827 003c 002D     		cmp	r5, #0
 4828 003e 40F09980 		bne	.L311
 125:Drivers/SOES/Src/esc_coe.c **** 
 4829              		.loc 1 125 8 view .LVU1537
 4830 0042 4FF00009 		mov	r9, #0
 120:Drivers/SOES/Src/esc_coe.c ****    uint8_t si, sic, c;
 4831              		.loc 1 120 13 view .LVU1538
 4832 0046 4C46     		mov	r4, r9
 4833              	.LVL497:
 4834              	.L290:
 214:Drivers/SOES/Src/esc_coe.c ****    {
 4835              		.loc 1 214 4 is_stmt 1 view .LVU1539
 214:Drivers/SOES/Src/esc_coe.c ****    {
 4836              		.loc 1 214 7 is_stmt 0 view .LVU1540
 4837 0048 BAF1000F 		cmp	r10, #0
 4838 004c 40F39E80 		ble	.L307
 216:Drivers/SOES/Src/esc_coe.c ****    }
 4839              		.loc 1 216 7 is_stmt 1 view .LVU1541
 216:Drivers/SOES/Src/esc_coe.c ****    }
 4840              		.loc 1 216 18 is_stmt 0 view .LVU1542
 4841 0050 CBF80090 		str	r9, [fp]
 4842              	.L308:
 223:Drivers/SOES/Src/esc_coe.c **** }
 4843              		.loc 1 223 4 is_stmt 1 view .LVU1543
 223:Drivers/SOES/Src/esc_coe.c **** }
 4844              		.loc 1 223 11 is_stmt 0 view .LVU1544
 4845 0054 E01D     		adds	r0, r4, #7
 4846 0056 C0F3CF00 		ubfx	r0, r0, #3, #16
 4847 005a 9CE0     		b	.L286
 4848              	.LVL498:
 4849              	.L287:
 140:Drivers/SOES/Src/esc_coe.c ****    if (si)
ARM GAS  /tmp/ccFH4wf5.s 			page 139


 4850              		.loc 1 140 9 discriminator 2 view .LVU1545
 4851 005c D8F80C50 		ldr	r5, [r8, #12]	@ unaligned
 140:Drivers/SOES/Src/esc_coe.c ****    if (si)
 4852              		.loc 1 140 7 discriminator 2 view .LVU1546
 4853 0060 EDB2     		uxtb	r5, r5
 4854 0062 EBE7     		b	.L288
 4855              	.LVL499:
 4856              	.L291:
 145:Drivers/SOES/Src/esc_coe.c ****          nidx = SDO_findobject (hobj);
 4857              		.loc 1 145 17 discriminator 2 view .LVU1547
 4858 0064 D868     		ldr	r0, [r3, #12]	@ unaligned
 145:Drivers/SOES/Src/esc_coe.c ****          nidx = SDO_findobject (hobj);
 4859              		.loc 1 145 15 discriminator 2 view .LVU1548
 4860 0066 80B2     		uxth	r0, r0
 4861 0068 6CE0     		b	.L292
 4862              	.LVL500:
 4863              	.L294:
 4864              	.LBB20:
 152:Drivers/SOES/Src/esc_coe.c **** 
 4865              		.loc 1 152 22 discriminator 2 view .LVU1549
 4866 006a D2F80CB0 		ldr	fp, [r2, #12]	@ unaligned
 152:Drivers/SOES/Src/esc_coe.c **** 
 4867              		.loc 1 152 20 discriminator 2 view .LVU1550
 4868 006e 5FFA8BFB 		uxtb	fp, fp
 4869 0072 78E0     		b	.L295
 4870              	.LVL501:
 4871              	.L297:
 4872              	.LBB21:
 156:Drivers/SOES/Src/esc_coe.c ****                uint8_t bitlength = value & 0xFF;
 4873              		.loc 1 156 33 discriminator 2 view .LVU1551
 4874 0074 DE68     		ldr	r6, [r3, #12]	@ unaligned
 4875 0076 36E0     		b	.L298
 4876              	.LVL502:
 4877              	.L316:
 4878              	.LBB22:
 168:Drivers/SOES/Src/esc_coe.c ****                      return 0;
 4879              		.loc 1 168 33 view .LVU1552
 4880 0078 DDF814B0 		ldr	fp, [sp, #20]
 4881              	.LVL503:
 168:Drivers/SOES/Src/esc_coe.c ****                      return 0;
 4882              		.loc 1 168 22 is_stmt 1 view .LVU1553
 168:Drivers/SOES/Src/esc_coe.c ****                      return 0;
 4883              		.loc 1 168 33 is_stmt 0 view .LVU1554
 4884 007c 4FF0FF33 		mov	r3, #-1
 4885 0080 CBF80030 		str	r3, [fp]
 169:Drivers/SOES/Src/esc_coe.c ****                   }
 4886              		.loc 1 169 22 is_stmt 1 view .LVU1555
 169:Drivers/SOES/Src/esc_coe.c ****                   }
 4887              		.loc 1 169 29 is_stmt 0 view .LVU1556
 4888 0084 0020     		movs	r0, #0
 4889              	.LVL504:
 169:Drivers/SOES/Src/esc_coe.c ****                   }
 4890              		.loc 1 169 29 view .LVU1557
 4891 0086 86E0     		b	.L286
 4892              	.LVL505:
 4893              	.L301:
 181:Drivers/SOES/Src/esc_coe.c ****                      if (nidx >= 0)
ARM GAS  /tmp/ccFH4wf5.s 			page 140


 4894              		.loc 1 181 22 is_stmt 1 view .LVU1558
 181:Drivers/SOES/Src/esc_coe.c ****                      if (nidx >= 0)
 4895              		.loc 1 181 29 is_stmt 0 view .LVU1559
 4896 0088 FFF7FEFF 		bl	SDO_findobject
 4897              	.LVL506:
 181:Drivers/SOES/Src/esc_coe.c ****                      if (nidx >= 0)
 4898              		.loc 1 181 27 view .LVU1560
 4899 008c 0FFA80F8 		sxth	r8, r0
 4900              	.LVL507:
 182:Drivers/SOES/Src/esc_coe.c ****                      {
 4901              		.loc 1 182 22 is_stmt 1 view .LVU1561
 182:Drivers/SOES/Src/esc_coe.c ****                      {
 4902              		.loc 1 182 25 is_stmt 0 view .LVU1562
 4903 0090 B8F1000F 		cmp	r8, #0
 4904 0094 3EDB     		blt	.L303
 4905              	.LBB23:
 184:Drivers/SOES/Src/esc_coe.c **** 
 4906              		.loc 1 184 25 is_stmt 1 view .LVU1563
 186:Drivers/SOES/Src/esc_coe.c ****                         if (nsub < 0)
 4907              		.loc 1 186 25 view .LVU1564
 186:Drivers/SOES/Src/esc_coe.c ****                         if (nsub < 0)
 4908              		.loc 1 186 32 is_stmt 0 view .LVU1565
 4909 0096 3146     		mov	r1, r6
 4910 0098 4046     		mov	r0, r8
 4911 009a FFF7FEFF 		bl	SDO_findsubindex
 4912              	.LVL508:
 187:Drivers/SOES/Src/esc_coe.c ****                         {
 4913              		.loc 1 187 25 is_stmt 1 view .LVU1566
 187:Drivers/SOES/Src/esc_coe.c ****                         {
 4914              		.loc 1 187 28 is_stmt 0 view .LVU1567
 4915 009e 0028     		cmp	r0, #0
 4916              	.LVL509:
 187:Drivers/SOES/Src/esc_coe.c ****                         {
 4917              		.loc 1 187 28 view .LVU1568
 4918 00a0 30DB     		blt	.L314
 194:Drivers/SOES/Src/esc_coe.c ****                      }
 4919              		.loc 1 194 25 is_stmt 1 view .LVU1569
 194:Drivers/SOES/Src/esc_coe.c ****                      }
 4920              		.loc 1 194 52 is_stmt 0 view .LVU1570
 4921 00a2 C8EBC808 		rsb	r8, r8, r8, lsl #3
 4922              	.LVL510:
 194:Drivers/SOES/Src/esc_coe.c ****                      }
 4923              		.loc 1 194 52 view .LVU1571
 4924 00a6 3E4B     		ldr	r3, .L318
 4925 00a8 03EB4803 		add	r3, r3, r8, lsl #1
 4926 00ac D3F80A20 		ldr	r2, [r3, #10]	@ unaligned
 194:Drivers/SOES/Src/esc_coe.c ****                      }
 4927              		.loc 1 194 60 view .LVU1572
 4928 00b0 00EB8000 		add	r0, r0, r0, lsl #2
 194:Drivers/SOES/Src/esc_coe.c ****                      }
 4929              		.loc 1 194 33 view .LVU1573
 4930 00b4 02EB8002 		add	r2, r2, r0, lsl #2
 4931              	.LVL511:
 4932              	.L302:
 194:Drivers/SOES/Src/esc_coe.c ****                      }
 4933              		.loc 1 194 33 view .LVU1574
 4934              	.LBE23:
ARM GAS  /tmp/ccFH4wf5.s 			page 141


 204:Drivers/SOES/Src/esc_coe.c ****                   mappings[mapIx++].offset = offset;
 4935              		.loc 1 204 19 is_stmt 1 view .LVU1575
 204:Drivers/SOES/Src/esc_coe.c ****                   mappings[mapIx++].offset = offset;
 4936              		.loc 1 204 27 is_stmt 0 view .LVU1576
 4937 00b8 0199     		ldr	r1, [sp, #4]
 4938 00ba 01EBC903 		add	r3, r1, r9, lsl #3
 204:Drivers/SOES/Src/esc_coe.c ****                   mappings[mapIx++].offset = offset;
 4939              		.loc 1 204 39 view .LVU1577
 4940 00be 41F83920 		str	r2, [r1, r9, lsl #3]
 205:Drivers/SOES/Src/esc_coe.c ****                }
 4941              		.loc 1 205 19 is_stmt 1 view .LVU1578
 205:Drivers/SOES/Src/esc_coe.c ****                }
 4942              		.loc 1 205 44 is_stmt 0 view .LVU1579
 4943 00c2 9C80     		strh	r4, [r3, #4]	@ movhi
 4944 00c4 09F10109 		add	r9, r9, #1
 4945              	.LVL512:
 4946              	.L299:
 205:Drivers/SOES/Src/esc_coe.c ****                }
 4947              		.loc 1 205 44 view .LVU1580
 4948              	.LBE22:
 208:Drivers/SOES/Src/esc_coe.c ****             }
 4949              		.loc 1 208 16 is_stmt 1 discriminator 2 view .LVU1581
 208:Drivers/SOES/Src/esc_coe.c ****             }
 4950              		.loc 1 208 23 is_stmt 0 discriminator 2 view .LVU1582
 4951 00c8 2744     		add	r7, r7, r4
 4952              	.LVL513:
 208:Drivers/SOES/Src/esc_coe.c ****             }
 4953              		.loc 1 208 23 discriminator 2 view .LVU1583
 4954 00ca BCB2     		uxth	r4, r7
 4955              	.LVL514:
 208:Drivers/SOES/Src/esc_coe.c ****             }
 4956              		.loc 1 208 23 discriminator 2 view .LVU1584
 4957              	.LBE21:
 154:Drivers/SOES/Src/esc_coe.c ****             {
 4958              		.loc 1 154 39 is_stmt 1 discriminator 2 view .LVU1585
 4959 00cc 0135     		adds	r5, r5, #1
 4960              	.LVL515:
 154:Drivers/SOES/Src/esc_coe.c ****             {
 4961              		.loc 1 154 39 is_stmt 0 discriminator 2 view .LVU1586
 4962 00ce EDB2     		uxtb	r5, r5
 4963              	.LVL516:
 4964              	.L296:
 154:Drivers/SOES/Src/esc_coe.c ****             {
 4965              		.loc 1 154 27 is_stmt 1 discriminator 1 view .LVU1587
 4966 00d0 5D45     		cmp	r5, fp
 4967 00d2 27D8     		bhi	.L315
 4968              	.LBB26:
 156:Drivers/SOES/Src/esc_coe.c ****                uint8_t bitlength = value & 0xFF;
 4969              		.loc 1 156 16 view .LVU1588
 156:Drivers/SOES/Src/esc_coe.c ****                uint8_t bitlength = value & 0xFF;
 4970              		.loc 1 156 33 is_stmt 0 view .LVU1589
 4971 00d4 05EB8503 		add	r3, r5, r5, lsl #2
 4972 00d8 009A     		ldr	r2, [sp]
 4973 00da 02EB8303 		add	r3, r2, r3, lsl #2
 4974 00de 1A69     		ldr	r2, [r3, #16]	@ unaligned
 4975 00e0 002A     		cmp	r2, #0
 4976 00e2 C7D0     		beq	.L297
ARM GAS  /tmp/ccFH4wf5.s 			page 142


 156:Drivers/SOES/Src/esc_coe.c ****                uint8_t bitlength = value & 0xFF;
 4977              		.loc 1 156 33 discriminator 1 view .LVU1590
 4978 00e4 1668     		ldr	r6, [r2]
 4979              	.L298:
 4980              	.LVL517:
 157:Drivers/SOES/Src/esc_coe.c **** 
 4981              		.loc 1 157 16 is_stmt 1 discriminator 4 view .LVU1591
 157:Drivers/SOES/Src/esc_coe.c **** 
 4982              		.loc 1 157 24 is_stmt 0 discriminator 4 view .LVU1592
 4983 00e6 F7B2     		uxtb	r7, r6
 4984              	.LVL518:
 159:Drivers/SOES/Src/esc_coe.c ****                {
 4985              		.loc 1 159 16 is_stmt 1 discriminator 4 view .LVU1593
 159:Drivers/SOES/Src/esc_coe.c ****                {
 4986              		.loc 1 159 19 is_stmt 0 discriminator 4 view .LVU1594
 4987 00e8 BAF1000F 		cmp	r10, #0
 4988 00ec ECDD     		ble	.L299
 4989              	.LBB25:
 161:Drivers/SOES/Src/esc_coe.c ****                   uint8_t subindex = (value >> 8) & 0xFF;
 4990              		.loc 1 161 19 is_stmt 1 view .LVU1595
 161:Drivers/SOES/Src/esc_coe.c ****                   uint8_t subindex = (value >> 8) & 0xFF;
 4991              		.loc 1 161 28 is_stmt 0 view .LVU1596
 4992 00ee 300C     		lsrs	r0, r6, #16
 4993              	.LVL519:
 162:Drivers/SOES/Src/esc_coe.c ****                   const _objd * mapping;
 4994              		.loc 1 162 19 is_stmt 1 view .LVU1597
 162:Drivers/SOES/Src/esc_coe.c ****                   const _objd * mapping;
 4995              		.loc 1 162 27 is_stmt 0 view .LVU1598
 4996 00f0 C6F30726 		ubfx	r6, r6, #8, #8
 4997              	.LVL520:
 163:Drivers/SOES/Src/esc_coe.c **** 
 4998              		.loc 1 163 19 is_stmt 1 view .LVU1599
 165:Drivers/SOES/Src/esc_coe.c ****                   {
 4999              		.loc 1 165 19 view .LVU1600
 165:Drivers/SOES/Src/esc_coe.c ****                   {
 5000              		.loc 1 165 22 is_stmt 0 view .LVU1601
 5001 00f4 D145     		cmp	r9, r10
 5002 00f6 BFD0     		beq	.L316
 172:Drivers/SOES/Src/esc_coe.c **** 
 5003              		.loc 1 172 71 is_stmt 1 view .LVU1602
 174:Drivers/SOES/Src/esc_coe.c ****                   {
 5004              		.loc 1 174 19 view .LVU1603
 174:Drivers/SOES/Src/esc_coe.c ****                   {
 5005              		.loc 1 174 22 is_stmt 0 view .LVU1604
 5006 00f8 0028     		cmp	r0, #0
 5007 00fa C5D1     		bne	.L301
 174:Drivers/SOES/Src/esc_coe.c ****                   {
 5008              		.loc 1 174 34 discriminator 1 view .LVU1605
 5009 00fc 002E     		cmp	r6, #0
 5010 00fe C3D1     		bne	.L301
 177:Drivers/SOES/Src/esc_coe.c ****                   }
 5011              		.loc 1 177 30 view .LVU1606
 5012 0100 0022     		movs	r2, #0
 5013 0102 D9E7     		b	.L302
 5014              	.LVL521:
 5015              	.L314:
 5016              	.LBB24:
ARM GAS  /tmp/ccFH4wf5.s 			page 143


 190:Drivers/SOES/Src/esc_coe.c ****                            return 0;
 5017              		.loc 1 190 39 view .LVU1607
 5018 0104 DDF814B0 		ldr	fp, [sp, #20]
 5019              	.LVL522:
 190:Drivers/SOES/Src/esc_coe.c ****                            return 0;
 5020              		.loc 1 190 28 is_stmt 1 view .LVU1608
 190:Drivers/SOES/Src/esc_coe.c ****                            return 0;
 5021              		.loc 1 190 39 is_stmt 0 view .LVU1609
 5022 0108 4FF0FF33 		mov	r3, #-1
 5023 010c CBF80030 		str	r3, [fp]
 191:Drivers/SOES/Src/esc_coe.c ****                         }
 5024              		.loc 1 191 28 is_stmt 1 view .LVU1610
 191:Drivers/SOES/Src/esc_coe.c ****                         }
 5025              		.loc 1 191 35 is_stmt 0 view .LVU1611
 5026 0110 0020     		movs	r0, #0
 5027 0112 40E0     		b	.L286
 5028              	.LVL523:
 5029              	.L303:
 191:Drivers/SOES/Src/esc_coe.c ****                         }
 5030              		.loc 1 191 35 view .LVU1612
 5031              	.LBE24:
 199:Drivers/SOES/Src/esc_coe.c ****                         return 0;
 5032              		.loc 1 199 36 view .LVU1613
 5033 0114 DDF814B0 		ldr	fp, [sp, #20]
 5034              	.LVL524:
 199:Drivers/SOES/Src/esc_coe.c ****                         return 0;
 5035              		.loc 1 199 25 is_stmt 1 view .LVU1614
 199:Drivers/SOES/Src/esc_coe.c ****                         return 0;
 5036              		.loc 1 199 36 is_stmt 0 view .LVU1615
 5037 0118 4FF0FF33 		mov	r3, #-1
 5038 011c CBF80030 		str	r3, [fp]
 200:Drivers/SOES/Src/esc_coe.c ****                      }
 5039              		.loc 1 200 25 is_stmt 1 view .LVU1616
 200:Drivers/SOES/Src/esc_coe.c ****                      }
 5040              		.loc 1 200 32 is_stmt 0 view .LVU1617
 5041 0120 0020     		movs	r0, #0
 5042 0122 38E0     		b	.L286
 5043              	.LVL525:
 5044              	.L315:
 200:Drivers/SOES/Src/esc_coe.c ****                      }
 5045              		.loc 1 200 32 view .LVU1618
 5046 0124 029F     		ldr	r7, [sp, #8]
 5047 0126 DDF80C80 		ldr	r8, [sp, #12]
 5048 012a 049E     		ldr	r6, [sp, #16]
 5049              	.LVL526:
 5050              	.L293:
 200:Drivers/SOES/Src/esc_coe.c ****                      }
 5051              		.loc 1 200 32 view .LVU1619
 5052              	.LBE25:
 5053              	.LBE26:
 5054              	.LBE20:
 143:Drivers/SOES/Src/esc_coe.c ****       {
 5055              		.loc 1 143 35 is_stmt 1 discriminator 2 view .LVU1620
 5056 012c 7B1C     		adds	r3, r7, #1
 5057 012e DFB2     		uxtb	r7, r3
 5058              	.LVL527:
 5059              	.L289:
ARM GAS  /tmp/ccFH4wf5.s 			page 144


 143:Drivers/SOES/Src/esc_coe.c ****       {
 5060              		.loc 1 143 25 discriminator 1 view .LVU1621
 5061 0130 4745     		cmp	r7, r8
 5062 0132 28D8     		bhi	.L317
 145:Drivers/SOES/Src/esc_coe.c ****          nidx = SDO_findobject (hobj);
 5063              		.loc 1 145 10 view .LVU1622
 145:Drivers/SOES/Src/esc_coe.c ****          nidx = SDO_findobject (hobj);
 5064              		.loc 1 145 17 is_stmt 0 view .LVU1623
 5065 0134 07EB8703 		add	r3, r7, r7, lsl #2
 5066 0138 06EB8303 		add	r3, r6, r3, lsl #2
 5067 013c 1A69     		ldr	r2, [r3, #16]	@ unaligned
 145:Drivers/SOES/Src/esc_coe.c ****          nidx = SDO_findobject (hobj);
 5068              		.loc 1 145 15 view .LVU1624
 5069 013e 002A     		cmp	r2, #0
 5070 0140 90D0     		beq	.L291
 145:Drivers/SOES/Src/esc_coe.c ****          nidx = SDO_findobject (hobj);
 5071              		.loc 1 145 15 discriminator 1 view .LVU1625
 5072 0142 1088     		ldrh	r0, [r2]
 5073              	.L292:
 5074              	.LVL528:
 146:Drivers/SOES/Src/esc_coe.c ****          if (nidx >= 0)
 5075              		.loc 1 146 10 is_stmt 1 discriminator 4 view .LVU1626
 146:Drivers/SOES/Src/esc_coe.c ****          if (nidx >= 0)
 5076              		.loc 1 146 17 is_stmt 0 discriminator 4 view .LVU1627
 5077 0144 FFF7FEFF 		bl	SDO_findobject
 5078              	.LVL529:
 146:Drivers/SOES/Src/esc_coe.c ****          if (nidx >= 0)
 5079              		.loc 1 146 15 discriminator 4 view .LVU1628
 5080 0148 00B2     		sxth	r0, r0
 5081              	.LVL530:
 147:Drivers/SOES/Src/esc_coe.c ****          {
 5082              		.loc 1 147 10 is_stmt 1 discriminator 4 view .LVU1629
 147:Drivers/SOES/Src/esc_coe.c ****          {
 5083              		.loc 1 147 13 is_stmt 0 discriminator 4 view .LVU1630
 5084 014a 0028     		cmp	r0, #0
 5085 014c EEDB     		blt	.L293
 5086              	.LBB27:
 149:Drivers/SOES/Src/esc_coe.c **** 
 5087              		.loc 1 149 13 is_stmt 1 view .LVU1631
 151:Drivers/SOES/Src/esc_coe.c ****             maxsub = OBJ_VALUE_FETCH (maxsub, objd[0]);
 5088              		.loc 1 151 13 view .LVU1632
 151:Drivers/SOES/Src/esc_coe.c ****             maxsub = OBJ_VALUE_FETCH (maxsub, objd[0]);
 5089              		.loc 1 151 18 is_stmt 0 view .LVU1633
 5090 014e C0EBC000 		rsb	r0, r0, r0, lsl #3
 5091              	.LVL531:
 151:Drivers/SOES/Src/esc_coe.c ****             maxsub = OBJ_VALUE_FETCH (maxsub, objd[0]);
 5092              		.loc 1 151 18 view .LVU1634
 5093 0152 134B     		ldr	r3, .L318
 5094 0154 03EB4003 		add	r3, r3, r0, lsl #1
 5095 0158 D3F80A20 		ldr	r2, [r3, #10]	@ unaligned
 5096              	.LVL532:
 152:Drivers/SOES/Src/esc_coe.c **** 
 5097              		.loc 1 152 13 is_stmt 1 view .LVU1635
 152:Drivers/SOES/Src/esc_coe.c **** 
 5098              		.loc 1 152 22 is_stmt 0 view .LVU1636
 5099 015c 1369     		ldr	r3, [r2, #16]	@ unaligned
 152:Drivers/SOES/Src/esc_coe.c **** 
ARM GAS  /tmp/ccFH4wf5.s 			page 145


 5100              		.loc 1 152 20 view .LVU1637
 5101 015e 002B     		cmp	r3, #0
 5102 0160 83D0     		beq	.L294
 152:Drivers/SOES/Src/esc_coe.c **** 
 5103              		.loc 1 152 20 discriminator 1 view .LVU1638
 5104 0162 93F800B0 		ldrb	fp, [r3]	@ zero_extendqisi2
 5105              	.L295:
 5106              	.LVL533:
 154:Drivers/SOES/Src/esc_coe.c ****             {
 5107              		.loc 1 154 13 is_stmt 1 discriminator 4 view .LVU1639
 154:Drivers/SOES/Src/esc_coe.c ****             {
 5108              		.loc 1 154 20 is_stmt 0 discriminator 4 view .LVU1640
 5109 0166 0125     		movs	r5, #1
 5110 0168 0297     		str	r7, [sp, #8]
 5111 016a CDF80C80 		str	r8, [sp, #12]
 5112 016e 0496     		str	r6, [sp, #16]
 5113 0170 0092     		str	r2, [sp]
 154:Drivers/SOES/Src/esc_coe.c ****             {
 5114              		.loc 1 154 13 discriminator 4 view .LVU1641
 5115 0172 ADE7     		b	.L296
 5116              	.LVL534:
 5117              	.L311:
 154:Drivers/SOES/Src/esc_coe.c ****             {
 5118              		.loc 1 154 13 discriminator 4 view .LVU1642
 5119              	.LBE27:
 125:Drivers/SOES/Src/esc_coe.c **** 
 5120              		.loc 1 125 8 view .LVU1643
 5121 0174 4FF00009 		mov	r9, #0
 143:Drivers/SOES/Src/esc_coe.c ****       {
 5122              		.loc 1 143 16 view .LVU1644
 5123 0178 0127     		movs	r7, #1
 120:Drivers/SOES/Src/esc_coe.c ****    uint8_t si, sic, c;
 5124              		.loc 1 120 13 view .LVU1645
 5125 017a 4C46     		mov	r4, r9
 5126 017c 4646     		mov	r6, r8
 5127 017e A846     		mov	r8, r5
 5128              	.LVL535:
 120:Drivers/SOES/Src/esc_coe.c ****    uint8_t si, sic, c;
 5129              		.loc 1 120 13 view .LVU1646
 5130 0180 CDF814B0 		str	fp, [sp, #20]
 5131 0184 D4E7     		b	.L289
 5132              	.LVL536:
 5133              	.L317:
 120:Drivers/SOES/Src/esc_coe.c ****    uint8_t si, sic, c;
 5134              		.loc 1 120 13 view .LVU1647
 5135 0186 DDF814B0 		ldr	fp, [sp, #20]
 5136 018a 5DE7     		b	.L290
 5137              	.LVL537:
 5138              	.L307:
 220:Drivers/SOES/Src/esc_coe.c ****    }
 5139              		.loc 1 220 7 is_stmt 1 view .LVU1648
 220:Drivers/SOES/Src/esc_coe.c ****    }
 5140              		.loc 1 220 18 is_stmt 0 view .LVU1649
 5141 018c 0023     		movs	r3, #0
 5142 018e CBF80030 		str	r3, [fp]
 5143 0192 5FE7     		b	.L308
 5144              	.LVL538:
ARM GAS  /tmp/ccFH4wf5.s 			page 146


 5145              	.L309:
 129:Drivers/SOES/Src/esc_coe.c ****    }
 5146              		.loc 1 129 14 view .LVU1650
 5147 0194 0020     		movs	r0, #0
 5148              	.LVL539:
 5149              	.L286:
 224:Drivers/SOES/Src/esc_coe.c **** 
 5150              		.loc 1 224 1 view .LVU1651
 5151 0196 07B0     		add	sp, sp, #28
 5152              		.cfi_remember_state
 5153              		.cfi_def_cfa_offset 36
 5154              		@ sp needed
 5155 0198 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 5156              	.LVL540:
 5157              	.L310:
 5158              		.cfi_restore_state
 135:Drivers/SOES/Src/esc_coe.c ****    }
 5159              		.loc 1 135 14 view .LVU1652
 5160 019c 0020     		movs	r0, #0
 5161              	.LVL541:
 135:Drivers/SOES/Src/esc_coe.c ****    }
 5162              		.loc 1 135 14 view .LVU1653
 5163 019e FAE7     		b	.L286
 5164              	.L319:
 5165              		.align	2
 5166              	.L318:
 5167 01a0 00000000 		.word	SDOobjects
 5168              		.cfi_endproc
 5169              	.LFE2:
 5171              		.section	.text.ESC_coeprocess,"ax",%progbits
 5172              		.align	1
 5173              		.global	ESC_coeprocess
 5174              		.syntax unified
 5175              		.thumb
 5176              		.thumb_func
 5178              	ESC_coeprocess:
 5179              	.LFB20:
1344:Drivers/SOES/Src/esc_coe.c ****    _MBXh *mbh;
 5180              		.loc 1 1344 1 is_stmt 1 view -0
 5181              		.cfi_startproc
 5182              		@ args = 0, pretend = 0, frame = 0
 5183              		@ frame_needed = 0, uses_anonymous_args = 0
 5184 0000 08B5     		push	{r3, lr}
 5185              		.cfi_def_cfa_offset 8
 5186              		.cfi_offset 3, -8
 5187              		.cfi_offset 14, -4
1345:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coesdo;
 5188              		.loc 1 1345 4 view .LVU1655
1346:Drivers/SOES/Src/esc_coe.c ****    _COEobjdesc *coeobjdesc;
 5189              		.loc 1 1346 4 view .LVU1656
1347:Drivers/SOES/Src/esc_coe.c ****    uint8_t service;
 5190              		.loc 1 1347 4 view .LVU1657
1348:Drivers/SOES/Src/esc_coe.c ****    if (ESCvar.MBXrun == 0)
 5191              		.loc 1 1348 4 view .LVU1658
1349:Drivers/SOES/Src/esc_coe.c ****    {
 5192              		.loc 1 1349 4 view .LVU1659
1349:Drivers/SOES/Src/esc_coe.c ****    {
ARM GAS  /tmp/ccFH4wf5.s 			page 147


 5193              		.loc 1 1349 14 is_stmt 0 view .LVU1660
 5194 0002 4C4B     		ldr	r3, .L348
 5195 0004 93F86430 		ldrb	r3, [r3, #100]	@ zero_extendqisi2
1349:Drivers/SOES/Src/esc_coe.c ****    {
 5196              		.loc 1 1349 7 view .LVU1661
 5197 0008 A3B1     		cbz	r3, .L320
1353:Drivers/SOES/Src/esc_coe.c ****    {
 5198              		.loc 1 1353 4 is_stmt 1 view .LVU1662
1353:Drivers/SOES/Src/esc_coe.c ****    {
 5199              		.loc 1 1353 15 is_stmt 0 view .LVU1663
 5200 000a 4A4B     		ldr	r3, .L348
 5201 000c 93F88A30 		ldrb	r3, [r3, #138]	@ zero_extendqisi2
1353:Drivers/SOES/Src/esc_coe.c ****    {
 5202              		.loc 1 1353 7 view .LVU1664
 5203 0010 1BB9     		cbnz	r3, .L322
1353:Drivers/SOES/Src/esc_coe.c ****    {
 5204              		.loc 1 1353 37 discriminator 1 view .LVU1665
 5205 0012 494B     		ldr	r3, .L348+4
 5206 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1353:Drivers/SOES/Src/esc_coe.c ****    {
 5207              		.loc 1 1353 20 discriminator 1 view .LVU1666
 5208 0016 012B     		cmp	r3, #1
 5209 0018 0DD0     		beq	.L337
 5210              	.L322:
1368:Drivers/SOES/Src/esc_coe.c ****    {
 5211              		.loc 1 1368 4 is_stmt 1 view .LVU1667
1368:Drivers/SOES/Src/esc_coe.c ****    {
 5212              		.loc 1 1368 42 is_stmt 0 view .LVU1668
 5213 001a 464B     		ldr	r3, .L348
 5214 001c D3F88830 		ldr	r3, [r3, #136]
 5215 0020 03F0FF13 		and	r3, r3, #16711935
1368:Drivers/SOES/Src/esc_coe.c ****    {
 5216              		.loc 1 1368 7 view .LVU1669
 5217 0024 B3F5981F 		cmp	r3, #1245184
 5218 0028 18D0     		beq	.L338
 5219              	.L324:
1373:Drivers/SOES/Src/esc_coe.c ****    {
 5220              		.loc 1 1373 4 is_stmt 1 view .LVU1670
1373:Drivers/SOES/Src/esc_coe.c ****    {
 5221              		.loc 1 1373 14 is_stmt 0 view .LVU1671
 5222 002a 424B     		ldr	r3, .L348
 5223 002c 93F88A30 		ldrb	r3, [r3, #138]	@ zero_extendqisi2
1373:Drivers/SOES/Src/esc_coe.c ****    {
 5224              		.loc 1 1373 7 view .LVU1672
 5225 0030 032B     		cmp	r3, #3
 5226 0032 16D0     		beq	.L339
 5227              	.L320:
1463:Drivers/SOES/Src/esc_coe.c **** 
 5228              		.loc 1 1463 1 view .LVU1673
 5229 0034 08BD     		pop	{r3, pc}
 5230              	.L337:
1355:Drivers/SOES/Src/esc_coe.c ****       if (mbh->mbxtype == MBXCOE)
 5231              		.loc 1 1355 7 is_stmt 1 view .LVU1674
 5232              	.LVL542:
1356:Drivers/SOES/Src/esc_coe.c ****       {
 5233              		.loc 1 1356 7 view .LVU1675
1356:Drivers/SOES/Src/esc_coe.c ****       {
ARM GAS  /tmp/ccFH4wf5.s 			page 148


 5234              		.loc 1 1356 24 is_stmt 0 view .LVU1676
 5235 0036 414B     		ldr	r3, .L348+8
 5236 0038 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 5237 003a 03F00F03 		and	r3, r3, #15
1356:Drivers/SOES/Src/esc_coe.c ****       {
 5238              		.loc 1 1356 10 view .LVU1677
 5239 003e 032B     		cmp	r3, #3
 5240 0040 EBD1     		bne	.L322
1358:Drivers/SOES/Src/esc_coe.c ****          {
 5241              		.loc 1 1358 10 is_stmt 1 view .LVU1678
1358:Drivers/SOES/Src/esc_coe.c ****          {
 5242              		.loc 1 1358 14 is_stmt 0 view .LVU1679
 5243 0042 3E4B     		ldr	r3, .L348+8
 5244 0044 1B88     		ldrh	r3, [r3]	@ unaligned
1358:Drivers/SOES/Src/esc_coe.c ****          {
 5245              		.loc 1 1358 13 view .LVU1680
 5246 0046 072B     		cmp	r3, #7
 5247 0048 04D9     		bls	.L340
1364:Drivers/SOES/Src/esc_coe.c ****          }
 5248              		.loc 1 1364 13 is_stmt 1 view .LVU1681
1364:Drivers/SOES/Src/esc_coe.c ****          }
 5249              		.loc 1 1364 24 is_stmt 0 view .LVU1682
 5250 004a 3A4B     		ldr	r3, .L348
 5251 004c 0322     		movs	r2, #3
 5252 004e 83F88A20 		strb	r2, [r3, #138]
 5253 0052 E2E7     		b	.L322
 5254              	.L340:
1360:Drivers/SOES/Src/esc_coe.c ****          }
 5255              		.loc 1 1360 13 is_stmt 1 view .LVU1683
 5256 0054 0820     		movs	r0, #8
 5257 0056 FFF7FEFF 		bl	MBX_error
 5258              	.LVL543:
 5259 005a DEE7     		b	.L322
 5260              	.LVL544:
 5261              	.L338:
1371:Drivers/SOES/Src/esc_coe.c ****    }
 5262              		.loc 1 1371 7 view .LVU1684
 5263 005c FFF7FEFF 		bl	SDO_getodlistcont
 5264              	.LVL545:
 5265 0060 E3E7     		b	.L324
 5266              	.L339:
1375:Drivers/SOES/Src/esc_coe.c ****       coeobjdesc = (_COEobjdesc *) &MBX[0];
 5267              		.loc 1 1375 7 view .LVU1685
 5268              	.LVL546:
1376:Drivers/SOES/Src/esc_coe.c ****       service = etohs (coesdo->coeheader.numberservice) >> 12;
 5269              		.loc 1 1376 7 view .LVU1686
1377:Drivers/SOES/Src/esc_coe.c ****       if (service == COE_SDOREQUEST)
 5270              		.loc 1 1377 7 view .LVU1687
1377:Drivers/SOES/Src/esc_coe.c ****       if (service == COE_SDOREQUEST)
 5271              		.loc 1 1377 17 is_stmt 0 view .LVU1688
 5272 0062 364B     		ldr	r3, .L348+8
 5273 0064 DB88     		ldrh	r3, [r3, #6]	@ unaligned
1377:Drivers/SOES/Src/esc_coe.c ****       if (service == COE_SDOREQUEST)
 5274              		.loc 1 1377 15 view .LVU1689
 5275 0066 1B0B     		lsrs	r3, r3, #12
 5276              	.LVL547:
1378:Drivers/SOES/Src/esc_coe.c ****       {
ARM GAS  /tmp/ccFH4wf5.s 			page 149


 5277              		.loc 1 1378 7 is_stmt 1 view .LVU1690
1378:Drivers/SOES/Src/esc_coe.c ****       {
 5278              		.loc 1 1378 10 is_stmt 0 view .LVU1691
 5279 0068 022B     		cmp	r3, #2
 5280 006a 0FD0     		beq	.L341
1421:Drivers/SOES/Src/esc_coe.c ****                && (coeobjdesc->infoheader.opcode == 0x01))
 5281              		.loc 1 1421 10 is_stmt 1 view .LVU1692
1421:Drivers/SOES/Src/esc_coe.c ****                && (coeobjdesc->infoheader.opcode == 0x01))
 5282              		.loc 1 1421 13 is_stmt 0 view .LVU1693
 5283 006c 082B     		cmp	r3, #8
 5284 006e 40D0     		beq	.L342
 5285              	.L331:
1437:Drivers/SOES/Src/esc_coe.c ****                      && (coeobjdesc->infoheader.opcode == 0x05))
 5286              		.loc 1 1437 16 is_stmt 1 view .LVU1694
1437:Drivers/SOES/Src/esc_coe.c ****                      && (coeobjdesc->infoheader.opcode == 0x05))
 5287              		.loc 1 1437 19 is_stmt 0 view .LVU1695
 5288 0070 082B     		cmp	r3, #8
 5289 0072 4CD0     		beq	.L343
 5290              	.L333:
1445:Drivers/SOES/Src/esc_coe.c ****                   {
 5291              		.loc 1 1445 19 is_stmt 1 view .LVU1696
1447:Drivers/SOES/Src/esc_coe.c ****                      {
 5292              		.loc 1 1447 22 view .LVU1697
1447:Drivers/SOES/Src/esc_coe.c ****                      {
 5293              		.loc 1 1447 25 is_stmt 0 view .LVU1698
 5294 0074 002B     		cmp	r3, #0
 5295 0076 53D1     		bne	.L334
1449:Drivers/SOES/Src/esc_coe.c ****                      }
 5296              		.loc 1 1449 25 is_stmt 1 view .LVU1699
 5297 0078 0520     		movs	r0, #5
 5298 007a FFF7FEFF 		bl	MBX_error
 5299              	.LVL548:
 5300              	.L335:
1455:Drivers/SOES/Src/esc_coe.c ****                      ESCvar.xoe = 0;
 5301              		.loc 1 1455 22 view .LVU1700
1455:Drivers/SOES/Src/esc_coe.c ****                      ESCvar.xoe = 0;
 5302              		.loc 1 1455 42 is_stmt 0 view .LVU1701
 5303 007e 0023     		movs	r3, #0
 5304 0080 2D4A     		ldr	r2, .L348+4
 5305 0082 1370     		strb	r3, [r2]
1456:Drivers/SOES/Src/esc_coe.c ****                   }
 5306              		.loc 1 1456 22 is_stmt 1 view .LVU1702
1456:Drivers/SOES/Src/esc_coe.c ****                   }
 5307              		.loc 1 1456 33 is_stmt 0 view .LVU1703
 5308 0084 2B4A     		ldr	r2, .L348
 5309 0086 82F88A30 		strb	r3, [r2, #138]
 5310 008a D3E7     		b	.L320
 5311              	.LVL549:
 5312              	.L341:
1380:Drivers/SOES/Src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE))
 5313              		.loc 1 1380 10 is_stmt 1 view .LVU1704
1380:Drivers/SOES/Src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE))
 5314              		.loc 1 1380 15 is_stmt 0 view .LVU1705
 5315 008c 2B4B     		ldr	r3, .L348+8
 5316              	.LVL550:
1380:Drivers/SOES/Src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE))
 5317              		.loc 1 1380 15 view .LVU1706
ARM GAS  /tmp/ccFH4wf5.s 			page 150


 5318 008e 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 5319              	.LVL551:
1380:Drivers/SOES/Src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE))
 5320              		.loc 1 1380 15 view .LVU1707
 5321 0090 03F0E002 		and	r2, r3, #224
1380:Drivers/SOES/Src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE))
 5322              		.loc 1 1380 13 view .LVU1708
 5323 0094 402A     		cmp	r2, #64
 5324 0096 0AD0     		beq	.L344
 5325              	.L326:
1393:Drivers/SOES/Src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE)
 5326              		.loc 1 1393 15 is_stmt 1 view .LVU1709
1393:Drivers/SOES/Src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE)
 5327              		.loc 1 1393 18 is_stmt 0 view .LVU1710
 5328 0098 03F0EF01 		and	r1, r3, #239
 5329 009c 6029     		cmp	r1, #96
 5330 009e 13D0     		beq	.L345
 5331              	.L328:
1400:Drivers/SOES/Src/esc_coe.c ****          {
 5332              		.loc 1 1400 15 is_stmt 1 view .LVU1711
1400:Drivers/SOES/Src/esc_coe.c ****          {
 5333              		.loc 1 1400 18 is_stmt 0 view .LVU1712
 5334 00a0 202A     		cmp	r2, #32
 5335 00a2 1DD0     		beq	.L346
1412:Drivers/SOES/Src/esc_coe.c ****          {
 5336              		.loc 1 1412 15 is_stmt 1 view .LVU1713
1412:Drivers/SOES/Src/esc_coe.c ****          {
 5337              		.loc 1 1412 18 is_stmt 0 view .LVU1714
 5338 00a4 1F2B     		cmp	r3, #31
 5339 00a6 C5D8     		bhi	.L320
1415:Drivers/SOES/Src/esc_coe.c ****          }
 5340              		.loc 1 1415 13 is_stmt 1 view .LVU1715
 5341 00a8 FFF7FEFF 		bl	SDO_downloadsegment
 5342              	.LVL552:
1415:Drivers/SOES/Src/esc_coe.c ****          }
 5343              		.loc 1 1415 13 is_stmt 0 view .LVU1716
 5344 00ac C2E7     		b	.L320
 5345              	.LVL553:
 5346              	.L344:
1381:Drivers/SOES/Src/esc_coe.c ****          {
 5347              		.loc 1 1381 20 view .LVU1717
 5348 00ae 2349     		ldr	r1, .L348+8
 5349              	.LVL554:
1381:Drivers/SOES/Src/esc_coe.c ****          {
 5350              		.loc 1 1381 20 view .LVU1718
 5351 00b0 0988     		ldrh	r1, [r1]	@ unaligned
 5352              	.LVL555:
1381:Drivers/SOES/Src/esc_coe.c ****          {
 5353              		.loc 1 1381 16 view .LVU1719
 5354 00b2 0A29     		cmp	r1, #10
 5355 00b4 F0D1     		bne	.L326
1384:Drivers/SOES/Src/esc_coe.c ****             {
 5356              		.loc 1 1384 13 is_stmt 1 view .LVU1720
1384:Drivers/SOES/Src/esc_coe.c ****             {
 5357              		.loc 1 1384 16 is_stmt 0 view .LVU1721
 5358 00b6 13F0100F 		tst	r3, #16
 5359 00ba 02D0     		beq	.L327
ARM GAS  /tmp/ccFH4wf5.s 			page 151


1386:Drivers/SOES/Src/esc_coe.c ****             }
 5360              		.loc 1 1386 16 is_stmt 1 view .LVU1722
 5361 00bc FFF7FEFF 		bl	SDO_upload_complete_access
 5362              	.LVL556:
1386:Drivers/SOES/Src/esc_coe.c ****             }
 5363              		.loc 1 1386 16 is_stmt 0 view .LVU1723
 5364 00c0 B8E7     		b	.L320
 5365              	.LVL557:
 5366              	.L327:
1390:Drivers/SOES/Src/esc_coe.c ****             }
 5367              		.loc 1 1390 16 is_stmt 1 view .LVU1724
 5368 00c2 FFF7FEFF 		bl	SDO_upload
 5369              	.LVL558:
1390:Drivers/SOES/Src/esc_coe.c ****             }
 5370              		.loc 1 1390 16 is_stmt 0 view .LVU1725
 5371 00c6 B5E7     		b	.L320
 5372              	.LVL559:
 5373              	.L345:
1394:Drivers/SOES/Src/esc_coe.c ****                && (ESCvar.segmented == MBXSEU))
 5374              		.loc 1 1394 20 view .LVU1726
 5375 00c8 1C49     		ldr	r1, .L348+8
 5376              	.LVL560:
1394:Drivers/SOES/Src/esc_coe.c ****                && (ESCvar.segmented == MBXSEU))
 5377              		.loc 1 1394 20 view .LVU1727
 5378 00ca 0988     		ldrh	r1, [r1]	@ unaligned
 5379              	.LVL561:
1394:Drivers/SOES/Src/esc_coe.c ****                && (ESCvar.segmented == MBXSEU))
 5380              		.loc 1 1394 16 view .LVU1728
 5381 00cc 0A29     		cmp	r1, #10
 5382 00ce E7D1     		bne	.L328
1395:Drivers/SOES/Src/esc_coe.c ****          {
 5383              		.loc 1 1395 26 view .LVU1729
 5384 00d0 1849     		ldr	r1, .L348
 5385 00d2 91F88D10 		ldrb	r1, [r1, #141]	@ zero_extendqisi2
1395:Drivers/SOES/Src/esc_coe.c ****          {
 5386              		.loc 1 1395 16 view .LVU1730
 5387 00d6 4029     		cmp	r1, #64
 5388 00d8 E2D1     		bne	.L328
1398:Drivers/SOES/Src/esc_coe.c ****          }
 5389              		.loc 1 1398 13 is_stmt 1 view .LVU1731
 5390 00da FFF7FEFF 		bl	SDO_uploadsegment
 5391              	.LVL562:
1398:Drivers/SOES/Src/esc_coe.c ****          }
 5392              		.loc 1 1398 13 is_stmt 0 view .LVU1732
 5393 00de A9E7     		b	.L320
 5394              	.LVL563:
 5395              	.L346:
1403:Drivers/SOES/Src/esc_coe.c ****             {
 5396              		.loc 1 1403 13 is_stmt 1 view .LVU1733
1403:Drivers/SOES/Src/esc_coe.c ****             {
 5397              		.loc 1 1403 16 is_stmt 0 view .LVU1734
 5398 00e0 13F0100F 		tst	r3, #16
 5399 00e4 02D0     		beq	.L330
1405:Drivers/SOES/Src/esc_coe.c ****             }
 5400              		.loc 1 1405 16 is_stmt 1 view .LVU1735
 5401 00e6 FFF7FEFF 		bl	SDO_download_complete_access
 5402              	.LVL564:
ARM GAS  /tmp/ccFH4wf5.s 			page 152


1405:Drivers/SOES/Src/esc_coe.c ****             }
 5403              		.loc 1 1405 16 is_stmt 0 view .LVU1736
 5404 00ea A3E7     		b	.L320
 5405              	.LVL565:
 5406              	.L330:
1409:Drivers/SOES/Src/esc_coe.c ****             }
 5407              		.loc 1 1409 16 is_stmt 1 view .LVU1737
 5408 00ec FFF7FEFF 		bl	SDO_download
 5409              	.LVL566:
1409:Drivers/SOES/Src/esc_coe.c ****             }
 5410              		.loc 1 1409 16 is_stmt 0 view .LVU1738
 5411 00f0 A0E7     		b	.L320
 5412              	.LVL567:
 5413              	.L342:
1422:Drivers/SOES/Src/esc_coe.c ****          {
 5414              		.loc 1 1422 50 view .LVU1739
 5415 00f2 124A     		ldr	r2, .L348+8
 5416 00f4 127A     		ldrb	r2, [r2, #8]	@ zero_extendqisi2
 5417 00f6 02F07F02 		and	r2, r2, #127
1422:Drivers/SOES/Src/esc_coe.c ****          {
 5418              		.loc 1 1422 16 view .LVU1740
 5419 00fa 012A     		cmp	r2, #1
 5420 00fc 04D0     		beq	.L347
1429:Drivers/SOES/Src/esc_coe.c ****                   && (coeobjdesc->infoheader.opcode == 0x03))
 5421              		.loc 1 1429 13 is_stmt 1 view .LVU1741
1430:Drivers/SOES/Src/esc_coe.c ****             {
 5422              		.loc 1 1430 19 is_stmt 0 view .LVU1742
 5423 00fe 032A     		cmp	r2, #3
 5424 0100 B6D1     		bne	.L331
1432:Drivers/SOES/Src/esc_coe.c ****             }
 5425              		.loc 1 1432 16 is_stmt 1 view .LVU1743
 5426 0102 FFF7FEFF 		bl	SDO_getod
 5427              	.LVL568:
1432:Drivers/SOES/Src/esc_coe.c ****             }
 5428              		.loc 1 1432 16 is_stmt 0 view .LVU1744
 5429 0106 95E7     		b	.L320
 5430              	.LVL569:
 5431              	.L347:
1424:Drivers/SOES/Src/esc_coe.c ****          }
 5432              		.loc 1 1424 13 is_stmt 1 view .LVU1745
 5433 0108 FFF7FEFF 		bl	SDO_getodlist
 5434              	.LVL570:
1424:Drivers/SOES/Src/esc_coe.c ****          }
 5435              		.loc 1 1424 13 is_stmt 0 view .LVU1746
 5436 010c 92E7     		b	.L320
 5437              	.LVL571:
 5438              	.L343:
1438:Drivers/SOES/Src/esc_coe.c ****                {
 5439              		.loc 1 1438 56 view .LVU1747
 5440 010e 0B4A     		ldr	r2, .L348+8
 5441 0110 127A     		ldrb	r2, [r2, #8]	@ zero_extendqisi2
 5442 0112 02F07F02 		and	r2, r2, #127
1438:Drivers/SOES/Src/esc_coe.c ****                {
 5443              		.loc 1 1438 22 view .LVU1748
 5444 0116 052A     		cmp	r2, #5
 5445 0118 ACD1     		bne	.L333
1440:Drivers/SOES/Src/esc_coe.c ****                }
ARM GAS  /tmp/ccFH4wf5.s 			page 153


 5446              		.loc 1 1440 19 is_stmt 1 view .LVU1749
 5447 011a FFF7FEFF 		bl	SDO_geted
 5448              	.LVL572:
1440:Drivers/SOES/Src/esc_coe.c ****                }
 5449              		.loc 1 1440 19 is_stmt 0 view .LVU1750
 5450 011e 89E7     		b	.L320
 5451              	.LVL573:
 5452              	.L334:
1453:Drivers/SOES/Src/esc_coe.c ****                      }
 5453              		.loc 1 1453 25 is_stmt 1 view .LVU1751
 5454 0120 0649     		ldr	r1, .L348+8
 5455 0122 074B     		ldr	r3, .L348+12
 5456              	.LVL574:
1453:Drivers/SOES/Src/esc_coe.c ****                      }
 5457              		.loc 1 1453 25 is_stmt 0 view .LVU1752
 5458 0124 CA7A     		ldrb	r2, [r1, #11]	@ zero_extendqisi2
 5459 0126 B1F80910 		ldrh	r1, [r1, #9]	@ unaligned
 5460              	.LVL575:
1453:Drivers/SOES/Src/esc_coe.c ****                      }
 5461              		.loc 1 1453 25 view .LVU1753
 5462 012a 0020     		movs	r0, #0
 5463 012c FFF7FEFF 		bl	SDO_abort
 5464              	.LVL576:
1453:Drivers/SOES/Src/esc_coe.c ****                      }
 5465              		.loc 1 1453 25 view .LVU1754
 5466 0130 A5E7     		b	.L335
 5467              	.L349:
 5468 0132 00BF     		.align	2
 5469              	.L348:
 5470 0134 00000000 		.word	ESCvar
 5471 0138 00000000 		.word	MBXcontrol
 5472 013c 00000000 		.word	MBX
 5473 0140 00000106 		.word	100728832
 5474              		.cfi_endproc
 5475              	.LFE20:
 5477              		.section	.text.COE_initDefaultValues,"ax",%progbits
 5478              		.align	1
 5479              		.global	COE_initDefaultValues
 5480              		.syntax unified
 5481              		.thumb
 5482              		.thumb_func
 5484              	COE_initDefaultValues:
 5485              	.LFB25:
1644:Drivers/SOES/Src/esc_coe.c **** 
1645:Drivers/SOES/Src/esc_coe.c **** /**
1646:Drivers/SOES/Src/esc_coe.c ****  * Init default values for SDO objects
1647:Drivers/SOES/Src/esc_coe.c ****  */
1648:Drivers/SOES/Src/esc_coe.c **** void COE_initDefaultValues (void)
1649:Drivers/SOES/Src/esc_coe.c **** {
 5486              		.loc 1 1649 1 is_stmt 1 view -0
 5487              		.cfi_startproc
 5488              		@ args = 0, pretend = 0, frame = 0
 5489              		@ frame_needed = 0, uses_anonymous_args = 0
1650:Drivers/SOES/Src/esc_coe.c ****    int i;
 5490              		.loc 1 1650 4 view .LVU1756
1651:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd;
 5491              		.loc 1 1651 4 view .LVU1757
ARM GAS  /tmp/ccFH4wf5.s 			page 154


1652:Drivers/SOES/Src/esc_coe.c ****    int n;
 5492              		.loc 1 1652 4 view .LVU1758
1653:Drivers/SOES/Src/esc_coe.c ****    uint8_t maxsub;
 5493              		.loc 1 1653 4 view .LVU1759
1654:Drivers/SOES/Src/esc_coe.c **** 
1655:Drivers/SOES/Src/esc_coe.c ****    /* Let application decide if initialization will be skipped */
1656:Drivers/SOES/Src/esc_coe.c ****    if (ESCvar.skip_default_initialization)
 5494              		.loc 1 1656 4 view .LVU1760
 5495              		.loc 1 1656 14 is_stmt 0 view .LVU1761
 5496 0000 1A4B     		ldr	r3, .L363
 5497 0002 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
 5498              		.loc 1 1656 7 view .LVU1762
 5499 0006 7BBB     		cbnz	r3, .L357
1649:Drivers/SOES/Src/esc_coe.c ****    int i;
 5500              		.loc 1 1649 1 view .LVU1763
 5501 0008 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 5502              		.cfi_def_cfa_offset 24
 5503              		.cfi_offset 4, -24
 5504              		.cfi_offset 5, -20
 5505              		.cfi_offset 6, -16
 5506              		.cfi_offset 7, -12
 5507              		.cfi_offset 8, -8
 5508              		.cfi_offset 14, -4
1657:Drivers/SOES/Src/esc_coe.c ****    {
1658:Drivers/SOES/Src/esc_coe.c ****       return;
1659:Drivers/SOES/Src/esc_coe.c ****    }
1660:Drivers/SOES/Src/esc_coe.c **** 
1661:Drivers/SOES/Src/esc_coe.c ****    /* Set default values from object descriptor */
1662:Drivers/SOES/Src/esc_coe.c ****    for (n = 0; SDOobjects[n].index != 0xffff; n++)
 5509              		.loc 1 1662 11 view .LVU1764
 5510 000c 4FF00008 		mov	r8, #0
 5511 0010 11E0     		b	.L352
 5512              	.LVL577:
 5513              	.L361:
1663:Drivers/SOES/Src/esc_coe.c ****    {
1664:Drivers/SOES/Src/esc_coe.c ****       objd = SDOobjects[n].objdesc;
1665:Drivers/SOES/Src/esc_coe.c ****       maxsub = SDOobjects[n].maxsub;
1666:Drivers/SOES/Src/esc_coe.c **** 
1667:Drivers/SOES/Src/esc_coe.c ****       i = 0;
1668:Drivers/SOES/Src/esc_coe.c ****       do
1669:Drivers/SOES/Src/esc_coe.c ****       {
1670:Drivers/SOES/Src/esc_coe.c ****          if (objd[i].data != NULL)
1671:Drivers/SOES/Src/esc_coe.c ****          {
1672:Drivers/SOES/Src/esc_coe.c ****             COE_setValue (&objd[i], objd[i].value);
 5514              		.loc 1 1672 13 is_stmt 1 view .LVU1765
 5515 0012 C268     		ldr	r2, [r0, #12]	@ unaligned
 5516 0014 0023     		movs	r3, #0
 5517 0016 FFF7FEFF 		bl	COE_setValue
 5518              	.LVL578:
 5519              	.L353:
1673:Drivers/SOES/Src/esc_coe.c ****             DPRINT ("%04x:%02x = %x\n", SDOobjects[n].index, objd[i].subindex, objd[i].value);
 5520              		.loc 1 1673 94 view .LVU1766
1674:Drivers/SOES/Src/esc_coe.c ****          }
1675:Drivers/SOES/Src/esc_coe.c ****       } while (objd[i++].subindex < maxsub);
 5521              		.loc 1 1675 35 view .LVU1767
 5522              		.loc 1 1675 22 is_stmt 0 view .LVU1768
 5523 001a 0134     		adds	r4, r4, #1
ARM GAS  /tmp/ccFH4wf5.s 			page 155


 5524              	.LVL579:
 5525              		.loc 1 1675 25 view .LVU1769
 5526 001c 735B     		ldrh	r3, [r6, r5]	@ unaligned
 5527              		.loc 1 1675 35 view .LVU1770
 5528 001e BB42     		cmp	r3, r7
 5529 0020 07D2     		bcs	.L360
 5530              	.LVL580:
 5531              	.L354:
1668:Drivers/SOES/Src/esc_coe.c ****       {
 5532              		.loc 1 1668 7 is_stmt 1 view .LVU1771
1670:Drivers/SOES/Src/esc_coe.c ****          {
 5533              		.loc 1 1670 10 view .LVU1772
1670:Drivers/SOES/Src/esc_coe.c ****          {
 5534              		.loc 1 1670 18 is_stmt 0 view .LVU1773
 5535 0022 04EB8403 		add	r3, r4, r4, lsl #2
 5536 0026 9D00     		lsls	r5, r3, #2
 5537 0028 7019     		adds	r0, r6, r5
1670:Drivers/SOES/Src/esc_coe.c ****          {
 5538              		.loc 1 1670 21 view .LVU1774
 5539 002a 0369     		ldr	r3, [r0, #16]	@ unaligned
1670:Drivers/SOES/Src/esc_coe.c ****          {
 5540              		.loc 1 1670 13 view .LVU1775
 5541 002c 002B     		cmp	r3, #0
 5542 002e F0D1     		bne	.L361
1670:Drivers/SOES/Src/esc_coe.c ****          {
 5543              		.loc 1 1670 13 view .LVU1776
 5544 0030 F3E7     		b	.L353
 5545              	.L360:
1662:Drivers/SOES/Src/esc_coe.c ****    {
 5546              		.loc 1 1662 48 is_stmt 1 discriminator 2 view .LVU1777
 5547 0032 08F10108 		add	r8, r8, #1
 5548              	.LVL581:
 5549              	.L352:
1662:Drivers/SOES/Src/esc_coe.c ****    {
 5550              		.loc 1 1662 36 discriminator 1 view .LVU1778
1662:Drivers/SOES/Src/esc_coe.c ****    {
 5551              		.loc 1 1662 29 is_stmt 0 discriminator 1 view .LVU1779
 5552 0036 C8EBC802 		rsb	r2, r8, r8, lsl #3
 5553 003a 5300     		lsls	r3, r2, #1
 5554 003c 0C4A     		ldr	r2, .L363+4
 5555 003e D25A     		ldrh	r2, [r2, r3]	@ unaligned
1662:Drivers/SOES/Src/esc_coe.c ****    {
 5556              		.loc 1 1662 36 discriminator 1 view .LVU1780
 5557 0040 4FF6FF73 		movw	r3, #65535
 5558 0044 9A42     		cmp	r2, r3
 5559 0046 09D0     		beq	.L362
1664:Drivers/SOES/Src/esc_coe.c ****       maxsub = SDOobjects[n].maxsub;
 5560              		.loc 1 1664 7 is_stmt 1 view .LVU1781
1664:Drivers/SOES/Src/esc_coe.c ****       maxsub = SDOobjects[n].maxsub;
 5561              		.loc 1 1664 12 is_stmt 0 view .LVU1782
 5562 0048 C8EBC803 		rsb	r3, r8, r8, lsl #3
 5563 004c 5A00     		lsls	r2, r3, #1
 5564 004e 084B     		ldr	r3, .L363+4
 5565 0050 1344     		add	r3, r3, r2
 5566 0052 D3F80A60 		ldr	r6, [r3, #10]	@ unaligned
 5567              	.LVL582:
1665:Drivers/SOES/Src/esc_coe.c **** 
ARM GAS  /tmp/ccFH4wf5.s 			page 156


 5568              		.loc 1 1665 7 is_stmt 1 view .LVU1783
1665:Drivers/SOES/Src/esc_coe.c **** 
 5569              		.loc 1 1665 14 is_stmt 0 view .LVU1784
 5570 0056 1F79     		ldrb	r7, [r3, #4]	@ zero_extendqisi2
 5571              	.LVL583:
1667:Drivers/SOES/Src/esc_coe.c ****       do
 5572              		.loc 1 1667 7 is_stmt 1 view .LVU1785
1667:Drivers/SOES/Src/esc_coe.c ****       do
 5573              		.loc 1 1667 9 is_stmt 0 view .LVU1786
 5574 0058 0024     		movs	r4, #0
 5575 005a E2E7     		b	.L354
 5576              	.LVL584:
 5577              	.L362:
1676:Drivers/SOES/Src/esc_coe.c ****    }
1677:Drivers/SOES/Src/esc_coe.c **** 
1678:Drivers/SOES/Src/esc_coe.c ****    /* Let application override default values */
1679:Drivers/SOES/Src/esc_coe.c ****    if (ESCvar.set_defaults_hook != NULL)
 5578              		.loc 1 1679 4 is_stmt 1 view .LVU1787
 5579              		.loc 1 1679 14 is_stmt 0 view .LVU1788
 5580 005c 034B     		ldr	r3, .L363
 5581 005e 9B6A     		ldr	r3, [r3, #40]
 5582              		.loc 1 1679 7 view .LVU1789
 5583 0060 03B1     		cbz	r3, .L350
1680:Drivers/SOES/Src/esc_coe.c ****    {
1681:Drivers/SOES/Src/esc_coe.c ****       ESCvar.set_defaults_hook();
 5584              		.loc 1 1681 7 is_stmt 1 view .LVU1790
 5585 0062 9847     		blx	r3
 5586              	.LVL585:
 5587              	.L350:
1682:Drivers/SOES/Src/esc_coe.c ****    }
1683:Drivers/SOES/Src/esc_coe.c **** }
 5588              		.loc 1 1683 1 is_stmt 0 view .LVU1791
 5589 0064 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 5590              	.LVL586:
 5591              	.L357:
 5592              		.cfi_def_cfa_offset 0
 5593              		.cfi_restore 4
 5594              		.cfi_restore 5
 5595              		.cfi_restore 6
 5596              		.cfi_restore 7
 5597              		.cfi_restore 8
 5598              		.cfi_restore 14
 5599              		.loc 1 1683 1 view .LVU1792
 5600 0068 7047     		bx	lr
 5601              	.L364:
 5602 006a 00BF     		.align	2
 5603              	.L363:
 5604 006c 00000000 		.word	ESCvar
 5605 0070 00000000 		.word	SDOobjects
 5606              		.cfi_endproc
 5607              	.LFE25:
 5609              		.section	.rodata.COE_pdoPack.str1.4,"aMS",%progbits,1
 5610              		.align	2
 5611              	.LC2:
 5612 0000 28287569 		.ascii	"((uintptr_t)buffer & 0x07) == 0\000"
 5612      6E747074 
 5612      725F7429 
ARM GAS  /tmp/ccFH4wf5.s 			page 157


 5612      62756666 
 5612      65722026 
 5613              		.section	.text.COE_pdoPack,"ax",%progbits
 5614              		.align	1
 5615              		.global	COE_pdoPack
 5616              		.syntax unified
 5617              		.thumb
 5618              		.thumb_func
 5620              	COE_pdoPack:
 5621              	.LVL587:
 5622              	.LFB26:
1684:Drivers/SOES/Src/esc_coe.c **** 
1685:Drivers/SOES/Src/esc_coe.c **** /**
1686:Drivers/SOES/Src/esc_coe.c ****  * Pack process data
1687:Drivers/SOES/Src/esc_coe.c ****  *
1688:Drivers/SOES/Src/esc_coe.c ****  * This function reads mapped objects and constructs the process data
1689:Drivers/SOES/Src/esc_coe.c ****  * inputs (TXPDO).
1690:Drivers/SOES/Src/esc_coe.c ****  *
1691:Drivers/SOES/Src/esc_coe.c ****  * @param[in] buffer     = input process data
1692:Drivers/SOES/Src/esc_coe.c ****  * @param[in] nmappings  = number of mappings in sync manager
1693:Drivers/SOES/Src/esc_coe.c ****  * @param[in] mappings   = list of mapped objects in sync manager
1694:Drivers/SOES/Src/esc_coe.c ****  */
1695:Drivers/SOES/Src/esc_coe.c **** void COE_pdoPack (uint8_t * buffer, int nmappings, _SMmap * mappings)
1696:Drivers/SOES/Src/esc_coe.c **** {
 5623              		.loc 1 1696 1 is_stmt 1 view -0
 5624              		.cfi_startproc
 5625              		@ args = 0, pretend = 0, frame = 0
 5626              		@ frame_needed = 0, uses_anonymous_args = 0
 5627              		.loc 1 1696 1 is_stmt 0 view .LVU1794
 5628 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 5629              		.cfi_def_cfa_offset 28
 5630              		.cfi_offset 4, -28
 5631              		.cfi_offset 5, -24
 5632              		.cfi_offset 6, -20
 5633              		.cfi_offset 7, -16
 5634              		.cfi_offset 8, -12
 5635              		.cfi_offset 9, -8
 5636              		.cfi_offset 14, -4
 5637 0004 83B0     		sub	sp, sp, #12
 5638              		.cfi_def_cfa_offset 40
1697:Drivers/SOES/Src/esc_coe.c ****    int ix;
 5639              		.loc 1 1697 4 is_stmt 1 view .LVU1795
1698:Drivers/SOES/Src/esc_coe.c **** 
1699:Drivers/SOES/Src/esc_coe.c ****    /* Check that buffer is aligned on 64-bit boundary */
1700:Drivers/SOES/Src/esc_coe.c ****    CC_ASSERT (((uintptr_t)buffer & 0x07) == 0);
 5640              		.loc 1 1700 4 view .LVU1796
 5641 0006 10F0070F 		tst	r0, #7
 5642 000a 04D1     		bne	.L372
 5643 000c 8046     		mov	r8, r0
 5644 000e 0F46     		mov	r7, r1
 5645 0010 1646     		mov	r6, r2
1701:Drivers/SOES/Src/esc_coe.c **** 
1702:Drivers/SOES/Src/esc_coe.c ****    for (ix = 0; ix < nmappings; ix++)
 5646              		.loc 1 1702 12 is_stmt 0 view .LVU1797
 5647 0012 0024     		movs	r4, #0
 5648 0014 10E0     		b	.L366
 5649              	.L372:
ARM GAS  /tmp/ccFH4wf5.s 			page 158


1700:Drivers/SOES/Src/esc_coe.c **** 
 5650              		.loc 1 1700 4 discriminator 1 view .LVU1798
 5651 0016 154B     		ldr	r3, .L374
 5652 0018 154A     		ldr	r2, .L374+4
 5653              	.LVL588:
1700:Drivers/SOES/Src/esc_coe.c **** 
 5654              		.loc 1 1700 4 discriminator 1 view .LVU1799
 5655 001a 40F2A461 		movw	r1, #1700
 5656              	.LVL589:
1700:Drivers/SOES/Src/esc_coe.c **** 
 5657              		.loc 1 1700 4 discriminator 1 view .LVU1800
 5658 001e 1548     		ldr	r0, .L374+8
 5659              	.LVL590:
1700:Drivers/SOES/Src/esc_coe.c **** 
 5660              		.loc 1 1700 4 discriminator 1 view .LVU1801
 5661 0020 FFF7FEFF 		bl	__assert_func
 5662              	.LVL591:
 5663              	.L368:
 5664              	.LBB28:
 5665              	.LBB29:
1703:Drivers/SOES/Src/esc_coe.c ****    {
1704:Drivers/SOES/Src/esc_coe.c ****       const _objd * obj = mappings[ix].obj;
1705:Drivers/SOES/Src/esc_coe.c ****       uint16_t offset = mappings[ix].offset;
1706:Drivers/SOES/Src/esc_coe.c **** 
1707:Drivers/SOES/Src/esc_coe.c ****       if (obj != NULL)
1708:Drivers/SOES/Src/esc_coe.c ****       {
1709:Drivers/SOES/Src/esc_coe.c ****          if (obj->bitlength > 64)
1710:Drivers/SOES/Src/esc_coe.c ****          {
1711:Drivers/SOES/Src/esc_coe.c ****             memcpy (
1712:Drivers/SOES/Src/esc_coe.c ****                &buffer[BITS2BYTES (offset)],
1713:Drivers/SOES/Src/esc_coe.c ****                obj->data,
1714:Drivers/SOES/Src/esc_coe.c ****                BITS2BYTES (obj->bitlength)
1715:Drivers/SOES/Src/esc_coe.c ****             );
1716:Drivers/SOES/Src/esc_coe.c ****          }
1717:Drivers/SOES/Src/esc_coe.c ****          else
1718:Drivers/SOES/Src/esc_coe.c ****          {
1719:Drivers/SOES/Src/esc_coe.c ****             /* Atomically get object value */
1720:Drivers/SOES/Src/esc_coe.c ****             uint64_t value = COE_getValue (obj);
 5666              		.loc 1 1720 13 is_stmt 1 view .LVU1802
 5667              		.loc 1 1720 30 is_stmt 0 view .LVU1803
 5668 0024 FFF7FEFF 		bl	COE_getValue
 5669              	.LVL592:
1721:Drivers/SOES/Src/esc_coe.c ****             COE_bitsliceSet (
 5670              		.loc 1 1721 13 is_stmt 1 view .LVU1804
 5671 0028 CDE90001 		strd	r0, [sp]
 5672 002c 2A46     		mov	r2, r5
 5673 002e 4946     		mov	r1, r9
 5674 0030 4046     		mov	r0, r8
 5675              	.LVL593:
 5676              		.loc 1 1721 13 is_stmt 0 view .LVU1805
 5677 0032 FFF7FEFF 		bl	COE_bitsliceSet
 5678              	.LVL594:
 5679              	.L367:
 5680              		.loc 1 1721 13 view .LVU1806
 5681              	.LBE29:
 5682              	.LBE28:
1702:Drivers/SOES/Src/esc_coe.c ****    {
ARM GAS  /tmp/ccFH4wf5.s 			page 159


 5683              		.loc 1 1702 35 is_stmt 1 discriminator 2 view .LVU1807
 5684 0036 0134     		adds	r4, r4, #1
 5685              	.LVL595:
 5686              	.L366:
1702:Drivers/SOES/Src/esc_coe.c ****    {
 5687              		.loc 1 1702 20 discriminator 1 view .LVU1808
 5688 0038 BC42     		cmp	r4, r7
 5689 003a 14DA     		bge	.L373
 5690              	.LBB30:
1704:Drivers/SOES/Src/esc_coe.c ****       uint16_t offset = mappings[ix].offset;
 5691              		.loc 1 1704 7 view .LVU1809
1704:Drivers/SOES/Src/esc_coe.c ****       uint16_t offset = mappings[ix].offset;
 5692              		.loc 1 1704 35 is_stmt 0 view .LVU1810
 5693 003c 06EBC403 		add	r3, r6, r4, lsl #3
1704:Drivers/SOES/Src/esc_coe.c ****       uint16_t offset = mappings[ix].offset;
 5694              		.loc 1 1704 21 view .LVU1811
 5695 0040 56F83400 		ldr	r0, [r6, r4, lsl #3]
 5696              	.LVL596:
1705:Drivers/SOES/Src/esc_coe.c **** 
 5697              		.loc 1 1705 7 is_stmt 1 view .LVU1812
1705:Drivers/SOES/Src/esc_coe.c **** 
 5698              		.loc 1 1705 16 is_stmt 0 view .LVU1813
 5699 0044 B3F80490 		ldrh	r9, [r3, #4]
 5700              	.LVL597:
1707:Drivers/SOES/Src/esc_coe.c ****       {
 5701              		.loc 1 1707 7 is_stmt 1 view .LVU1814
1707:Drivers/SOES/Src/esc_coe.c ****       {
 5702              		.loc 1 1707 10 is_stmt 0 view .LVU1815
 5703 0048 0028     		cmp	r0, #0
 5704 004a F4D0     		beq	.L367
1709:Drivers/SOES/Src/esc_coe.c ****          {
 5705              		.loc 1 1709 10 is_stmt 1 view .LVU1816
1709:Drivers/SOES/Src/esc_coe.c ****          {
 5706              		.loc 1 1709 17 is_stmt 0 view .LVU1817
 5707 004c 8588     		ldrh	r5, [r0, #4]	@ unaligned
1709:Drivers/SOES/Src/esc_coe.c ****          {
 5708              		.loc 1 1709 13 view .LVU1818
 5709 004e 402D     		cmp	r5, #64
 5710 0050 E8D9     		bls	.L368
1711:Drivers/SOES/Src/esc_coe.c ****                &buffer[BITS2BYTES (offset)],
 5711              		.loc 1 1711 13 is_stmt 1 view .LVU1819
1712:Drivers/SOES/Src/esc_coe.c ****                obj->data,
 5712              		.loc 1 1712 24 is_stmt 0 view .LVU1820
 5713 0052 09F10709 		add	r9, r9, #7
 5714              	.LVL598:
1714:Drivers/SOES/Src/esc_coe.c ****             );
 5715              		.loc 1 1714 16 view .LVU1821
 5716 0056 EA1D     		adds	r2, r5, #7
1711:Drivers/SOES/Src/esc_coe.c ****                &buffer[BITS2BYTES (offset)],
 5717              		.loc 1 1711 13 view .LVU1822
 5718 0058 D210     		asrs	r2, r2, #3
 5719 005a 0169     		ldr	r1, [r0, #16]	@ unaligned
 5720 005c 08EBE900 		add	r0, r8, r9, asr #3
 5721              	.LVL599:
1711:Drivers/SOES/Src/esc_coe.c ****                &buffer[BITS2BYTES (offset)],
 5722              		.loc 1 1711 13 view .LVU1823
 5723 0060 FFF7FEFF 		bl	memcpy
ARM GAS  /tmp/ccFH4wf5.s 			page 160


 5724              	.LVL600:
1711:Drivers/SOES/Src/esc_coe.c ****                &buffer[BITS2BYTES (offset)],
 5725              		.loc 1 1711 13 view .LVU1824
 5726 0064 E7E7     		b	.L367
 5727              	.LVL601:
 5728              	.L373:
1711:Drivers/SOES/Src/esc_coe.c ****                &buffer[BITS2BYTES (offset)],
 5729              		.loc 1 1711 13 view .LVU1825
 5730              	.LBE30:
1722:Drivers/SOES/Src/esc_coe.c ****                (uint64_t *)buffer,
1723:Drivers/SOES/Src/esc_coe.c ****                offset,
1724:Drivers/SOES/Src/esc_coe.c ****                obj->bitlength,
1725:Drivers/SOES/Src/esc_coe.c ****                value
1726:Drivers/SOES/Src/esc_coe.c ****             );
1727:Drivers/SOES/Src/esc_coe.c ****          }
1728:Drivers/SOES/Src/esc_coe.c ****       }
1729:Drivers/SOES/Src/esc_coe.c ****    }
1730:Drivers/SOES/Src/esc_coe.c **** }
 5731              		.loc 1 1730 1 view .LVU1826
 5732 0066 03B0     		add	sp, sp, #12
 5733              		.cfi_def_cfa_offset 28
 5734              		@ sp needed
 5735 0068 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 5736              	.LVL602:
 5737              	.L375:
 5738              		.loc 1 1730 1 view .LVU1827
 5739              		.align	2
 5740              	.L374:
 5741 006c 00000000 		.word	.LC2
 5742 0070 00000000 		.word	__func__.2
 5743 0074 04000000 		.word	.LC1
 5744              		.cfi_endproc
 5745              	.LFE26:
 5747              		.section	.text.COE_pdoUnpack,"ax",%progbits
 5748              		.align	1
 5749              		.global	COE_pdoUnpack
 5750              		.syntax unified
 5751              		.thumb
 5752              		.thumb_func
 5754              	COE_pdoUnpack:
 5755              	.LVL603:
 5756              	.LFB27:
1731:Drivers/SOES/Src/esc_coe.c **** 
1732:Drivers/SOES/Src/esc_coe.c **** /**
1733:Drivers/SOES/Src/esc_coe.c ****  * Unpack process data
1734:Drivers/SOES/Src/esc_coe.c ****  *
1735:Drivers/SOES/Src/esc_coe.c ****  * This function unpacks process data output (RXPDO) and writes to the
1736:Drivers/SOES/Src/esc_coe.c ****  * mapped objects.
1737:Drivers/SOES/Src/esc_coe.c ****  *
1738:Drivers/SOES/Src/esc_coe.c ****  * @param[in] buffer    = output process data
1739:Drivers/SOES/Src/esc_coe.c ****  * @param[in] nmappings = number of mappings in sync manager
1740:Drivers/SOES/Src/esc_coe.c ****  * @param[in] mappings  = list of mapped objects in sync manager
1741:Drivers/SOES/Src/esc_coe.c ****  */
1742:Drivers/SOES/Src/esc_coe.c **** void COE_pdoUnpack (uint8_t * buffer, int nmappings, _SMmap * mappings)
1743:Drivers/SOES/Src/esc_coe.c **** {
 5757              		.loc 1 1743 1 is_stmt 1 view -0
 5758              		.cfi_startproc
ARM GAS  /tmp/ccFH4wf5.s 			page 161


 5759              		@ args = 0, pretend = 0, frame = 0
 5760              		@ frame_needed = 0, uses_anonymous_args = 0
 5761              		.loc 1 1743 1 is_stmt 0 view .LVU1829
 5762 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 5763              		.cfi_def_cfa_offset 24
 5764              		.cfi_offset 4, -24
 5765              		.cfi_offset 5, -20
 5766              		.cfi_offset 6, -16
 5767              		.cfi_offset 7, -12
 5768              		.cfi_offset 8, -8
 5769              		.cfi_offset 14, -4
1744:Drivers/SOES/Src/esc_coe.c ****    int ix;
 5770              		.loc 1 1744 4 is_stmt 1 view .LVU1830
1745:Drivers/SOES/Src/esc_coe.c **** 
1746:Drivers/SOES/Src/esc_coe.c ****    /* Check that buffer is aligned on 64-bit boundary */
1747:Drivers/SOES/Src/esc_coe.c ****    CC_ASSERT (((uintptr_t)buffer & 0x07) == 0);
 5771              		.loc 1 1747 4 view .LVU1831
 5772 0004 10F0070F 		tst	r0, #7
 5773 0008 04D1     		bne	.L383
 5774 000a 8046     		mov	r8, r0
 5775 000c 0F46     		mov	r7, r1
 5776 000e 1646     		mov	r6, r2
1748:Drivers/SOES/Src/esc_coe.c **** 
1749:Drivers/SOES/Src/esc_coe.c ****    for (ix = 0; ix < nmappings; ix++)
 5777              		.loc 1 1749 12 is_stmt 0 view .LVU1832
 5778 0010 0024     		movs	r4, #0
 5779 0012 0FE0     		b	.L377
 5780              	.L383:
1747:Drivers/SOES/Src/esc_coe.c **** 
 5781              		.loc 1 1747 4 discriminator 1 view .LVU1833
 5782 0014 134B     		ldr	r3, .L385
 5783 0016 144A     		ldr	r2, .L385+4
 5784              	.LVL604:
1747:Drivers/SOES/Src/esc_coe.c **** 
 5785              		.loc 1 1747 4 discriminator 1 view .LVU1834
 5786 0018 40F2D361 		movw	r1, #1747
 5787              	.LVL605:
1747:Drivers/SOES/Src/esc_coe.c **** 
 5788              		.loc 1 1747 4 discriminator 1 view .LVU1835
 5789 001c 1348     		ldr	r0, .L385+8
 5790              	.LVL606:
1747:Drivers/SOES/Src/esc_coe.c **** 
 5791              		.loc 1 1747 4 discriminator 1 view .LVU1836
 5792 001e FFF7FEFF 		bl	__assert_func
 5793              	.LVL607:
 5794              	.L379:
 5795              	.LBB31:
 5796              	.LBB32:
1750:Drivers/SOES/Src/esc_coe.c ****    {
1751:Drivers/SOES/Src/esc_coe.c ****       const _objd * obj = mappings[ix].obj;
1752:Drivers/SOES/Src/esc_coe.c ****       uint16_t offset = mappings[ix].offset;
1753:Drivers/SOES/Src/esc_coe.c **** 
1754:Drivers/SOES/Src/esc_coe.c ****       if (obj != NULL)
1755:Drivers/SOES/Src/esc_coe.c ****       {
1756:Drivers/SOES/Src/esc_coe.c ****          if (obj->bitlength > 64)
1757:Drivers/SOES/Src/esc_coe.c ****          {
1758:Drivers/SOES/Src/esc_coe.c ****             memcpy (
ARM GAS  /tmp/ccFH4wf5.s 			page 162


1759:Drivers/SOES/Src/esc_coe.c ****                obj->data,
1760:Drivers/SOES/Src/esc_coe.c ****                &buffer[BITS2BYTES (offset)],
1761:Drivers/SOES/Src/esc_coe.c ****                BITS2BYTES (obj->bitlength)
1762:Drivers/SOES/Src/esc_coe.c ****             );
1763:Drivers/SOES/Src/esc_coe.c ****          }
1764:Drivers/SOES/Src/esc_coe.c ****          else
1765:Drivers/SOES/Src/esc_coe.c ****          {
1766:Drivers/SOES/Src/esc_coe.c ****             /* Atomically set object value */
1767:Drivers/SOES/Src/esc_coe.c ****             uint64_t value = COE_bitsliceGet (
 5797              		.loc 1 1767 13 is_stmt 1 view .LVU1837
 5798              		.loc 1 1767 30 is_stmt 0 view .LVU1838
 5799 0022 4046     		mov	r0, r8
 5800 0024 FFF7FEFF 		bl	COE_bitsliceGet
 5801              	.LVL608:
 5802              		.loc 1 1767 30 view .LVU1839
 5803 0028 0246     		mov	r2, r0
 5804 002a 0B46     		mov	r3, r1
 5805              	.LVL609:
1768:Drivers/SOES/Src/esc_coe.c ****                (uint64_t *)buffer,
1769:Drivers/SOES/Src/esc_coe.c ****                offset,
1770:Drivers/SOES/Src/esc_coe.c ****                obj->bitlength
1771:Drivers/SOES/Src/esc_coe.c ****             );
1772:Drivers/SOES/Src/esc_coe.c ****             COE_setValue (obj, value);
 5806              		.loc 1 1772 13 is_stmt 1 view .LVU1840
 5807 002c 2846     		mov	r0, r5
 5808 002e FFF7FEFF 		bl	COE_setValue
 5809              	.LVL610:
 5810              	.L378:
 5811              		.loc 1 1772 13 is_stmt 0 view .LVU1841
 5812              	.LBE32:
 5813              	.LBE31:
1749:Drivers/SOES/Src/esc_coe.c ****    {
 5814              		.loc 1 1749 35 is_stmt 1 discriminator 2 view .LVU1842
 5815 0032 0134     		adds	r4, r4, #1
 5816              	.LVL611:
 5817              	.L377:
1749:Drivers/SOES/Src/esc_coe.c ****    {
 5818              		.loc 1 1749 20 discriminator 1 view .LVU1843
 5819 0034 BC42     		cmp	r4, r7
 5820 0036 12DA     		bge	.L384
 5821              	.LBB33:
1751:Drivers/SOES/Src/esc_coe.c ****       uint16_t offset = mappings[ix].offset;
 5822              		.loc 1 1751 7 view .LVU1844
1751:Drivers/SOES/Src/esc_coe.c ****       uint16_t offset = mappings[ix].offset;
 5823              		.loc 1 1751 35 is_stmt 0 view .LVU1845
 5824 0038 06EBC403 		add	r3, r6, r4, lsl #3
1751:Drivers/SOES/Src/esc_coe.c ****       uint16_t offset = mappings[ix].offset;
 5825              		.loc 1 1751 21 view .LVU1846
 5826 003c 56F83450 		ldr	r5, [r6, r4, lsl #3]
 5827              	.LVL612:
1752:Drivers/SOES/Src/esc_coe.c **** 
 5828              		.loc 1 1752 7 is_stmt 1 view .LVU1847
1752:Drivers/SOES/Src/esc_coe.c **** 
 5829              		.loc 1 1752 16 is_stmt 0 view .LVU1848
 5830 0040 9988     		ldrh	r1, [r3, #4]
 5831              	.LVL613:
1754:Drivers/SOES/Src/esc_coe.c ****       {
ARM GAS  /tmp/ccFH4wf5.s 			page 163


 5832              		.loc 1 1754 7 is_stmt 1 view .LVU1849
1754:Drivers/SOES/Src/esc_coe.c ****       {
 5833              		.loc 1 1754 10 is_stmt 0 view .LVU1850
 5834 0042 002D     		cmp	r5, #0
 5835 0044 F5D0     		beq	.L378
1756:Drivers/SOES/Src/esc_coe.c ****          {
 5836              		.loc 1 1756 10 is_stmt 1 view .LVU1851
1756:Drivers/SOES/Src/esc_coe.c ****          {
 5837              		.loc 1 1756 17 is_stmt 0 view .LVU1852
 5838 0046 AA88     		ldrh	r2, [r5, #4]	@ unaligned
1756:Drivers/SOES/Src/esc_coe.c ****          {
 5839              		.loc 1 1756 13 view .LVU1853
 5840 0048 402A     		cmp	r2, #64
 5841 004a EAD9     		bls	.L379
1758:Drivers/SOES/Src/esc_coe.c ****                obj->data,
 5842              		.loc 1 1758 13 is_stmt 1 view .LVU1854
1760:Drivers/SOES/Src/esc_coe.c ****                BITS2BYTES (obj->bitlength)
 5843              		.loc 1 1760 24 is_stmt 0 view .LVU1855
 5844 004c 0731     		adds	r1, r1, #7
 5845              	.LVL614:
1761:Drivers/SOES/Src/esc_coe.c ****             );
 5846              		.loc 1 1761 16 view .LVU1856
 5847 004e 0732     		adds	r2, r2, #7
1758:Drivers/SOES/Src/esc_coe.c ****                obj->data,
 5848              		.loc 1 1758 13 view .LVU1857
 5849 0050 D210     		asrs	r2, r2, #3
 5850 0052 08EBE101 		add	r1, r8, r1, asr #3
 5851              	.LVL615:
1758:Drivers/SOES/Src/esc_coe.c ****                obj->data,
 5852              		.loc 1 1758 13 view .LVU1858
 5853 0056 2869     		ldr	r0, [r5, #16]	@ unaligned
 5854 0058 FFF7FEFF 		bl	memcpy
 5855              	.LVL616:
1758:Drivers/SOES/Src/esc_coe.c ****                obj->data,
 5856              		.loc 1 1758 13 view .LVU1859
 5857 005c E9E7     		b	.L378
 5858              	.LVL617:
 5859              	.L384:
1758:Drivers/SOES/Src/esc_coe.c ****                obj->data,
 5860              		.loc 1 1758 13 view .LVU1860
 5861              	.LBE33:
1773:Drivers/SOES/Src/esc_coe.c ****          }
1774:Drivers/SOES/Src/esc_coe.c ****       }
1775:Drivers/SOES/Src/esc_coe.c ****    }
1776:Drivers/SOES/Src/esc_coe.c **** }
 5862              		.loc 1 1776 1 view .LVU1861
 5863 005e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 5864              	.LVL618:
 5865              	.L386:
 5866              		.loc 1 1776 1 view .LVU1862
 5867 0062 00BF     		.align	2
 5868              	.L385:
 5869 0064 00000000 		.word	.LC2
 5870 0068 00000000 		.word	__func__.0
 5871 006c 04000000 		.word	.LC1
 5872              		.cfi_endproc
 5873              	.LFE27:
ARM GAS  /tmp/ccFH4wf5.s 			page 164


 5875              		.section	.text.COE_maxSub,"ax",%progbits
 5876              		.align	1
 5877              		.global	COE_maxSub
 5878              		.syntax unified
 5879              		.thumb
 5880              		.thumb_func
 5882              	COE_maxSub:
 5883              	.LVL619:
 5884              	.LFB28:
1777:Drivers/SOES/Src/esc_coe.c **** 
1778:Drivers/SOES/Src/esc_coe.c **** /**
1779:Drivers/SOES/Src/esc_coe.c ****  * Fetch max subindex
1780:Drivers/SOES/Src/esc_coe.c ****  *
1781:Drivers/SOES/Src/esc_coe.c ****  * This function fetches the value of subindex 0 (max subindex).
1782:Drivers/SOES/Src/esc_coe.c ****  *
1783:Drivers/SOES/Src/esc_coe.c ****  * @param[in] index = object index
1784:Drivers/SOES/Src/esc_coe.c ****  */
1785:Drivers/SOES/Src/esc_coe.c **** uint8_t COE_maxSub (uint16_t index)
1786:Drivers/SOES/Src/esc_coe.c **** {
 5885              		.loc 1 1786 1 is_stmt 1 view -0
 5886              		.cfi_startproc
 5887              		@ args = 0, pretend = 0, frame = 0
 5888              		@ frame_needed = 0, uses_anonymous_args = 0
 5889              		.loc 1 1786 1 is_stmt 0 view .LVU1864
 5890 0000 08B5     		push	{r3, lr}
 5891              		.cfi_def_cfa_offset 8
 5892              		.cfi_offset 3, -8
 5893              		.cfi_offset 14, -4
1787:Drivers/SOES/Src/esc_coe.c ****    int nidx;
 5894              		.loc 1 1787 4 is_stmt 1 view .LVU1865
1788:Drivers/SOES/Src/esc_coe.c ****    uint8_t maxsub;
 5895              		.loc 1 1788 4 view .LVU1866
1789:Drivers/SOES/Src/esc_coe.c **** 
1790:Drivers/SOES/Src/esc_coe.c ****    nidx = SDO_findobject (index);
 5896              		.loc 1 1790 4 view .LVU1867
 5897              		.loc 1 1790 11 is_stmt 0 view .LVU1868
 5898 0002 FFF7FEFF 		bl	SDO_findobject
 5899              	.LVL620:
1791:Drivers/SOES/Src/esc_coe.c ****    if (nidx == -1)
 5900              		.loc 1 1791 4 is_stmt 1 view .LVU1869
 5901              		.loc 1 1791 7 is_stmt 0 view .LVU1870
 5902 0006 B0F1FF3F 		cmp	r0, #-1
 5903 000a 0DD0     		beq	.L390
1792:Drivers/SOES/Src/esc_coe.c ****       return 0;
1793:Drivers/SOES/Src/esc_coe.c **** 
1794:Drivers/SOES/Src/esc_coe.c ****    maxsub = OBJ_VALUE_FETCH (maxsub, SDOobjects[nidx].objdesc[0]);
 5904              		.loc 1 1794 4 is_stmt 1 view .LVU1871
 5905              		.loc 1 1794 13 is_stmt 0 view .LVU1872
 5906 000c C0EBC000 		rsb	r0, r0, r0, lsl #3
 5907              	.LVL621:
 5908              		.loc 1 1794 13 view .LVU1873
 5909 0010 064B     		ldr	r3, .L392
 5910 0012 03EB4003 		add	r3, r3, r0, lsl #1
 5911 0016 D3F80A20 		ldr	r2, [r3, #10]	@ unaligned
 5912 001a 1369     		ldr	r3, [r2, #16]	@ unaligned
 5913              		.loc 1 1794 11 view .LVU1874
 5914 001c 0BB1     		cbz	r3, .L389
ARM GAS  /tmp/ccFH4wf5.s 			page 165


 5915              		.loc 1 1794 11 discriminator 1 view .LVU1875
 5916 001e 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 5917              	.L388:
1795:Drivers/SOES/Src/esc_coe.c ****    return maxsub;
1796:Drivers/SOES/Src/esc_coe.c **** }
 5918              		.loc 1 1796 1 view .LVU1876
 5919 0020 08BD     		pop	{r3, pc}
 5920              	.L389:
1794:Drivers/SOES/Src/esc_coe.c ****    return maxsub;
 5921              		.loc 1 1794 13 discriminator 2 view .LVU1877
 5922 0022 D068     		ldr	r0, [r2, #12]	@ unaligned
1794:Drivers/SOES/Src/esc_coe.c ****    return maxsub;
 5923              		.loc 1 1794 11 discriminator 2 view .LVU1878
 5924 0024 C0B2     		uxtb	r0, r0
 5925 0026 FBE7     		b	.L388
 5926              	.LVL622:
 5927              	.L390:
1792:Drivers/SOES/Src/esc_coe.c ****       return 0;
 5928              		.loc 1 1792 14 view .LVU1879
 5929 0028 0020     		movs	r0, #0
 5930              	.LVL623:
1792:Drivers/SOES/Src/esc_coe.c ****       return 0;
 5931              		.loc 1 1792 14 view .LVU1880
 5932 002a F9E7     		b	.L388
 5933              	.L393:
 5934              		.align	2
 5935              	.L392:
 5936 002c 00000000 		.word	SDOobjects
 5937              		.cfi_endproc
 5938              	.LFE28:
 5940              		.section	.rodata.__func__.0,"a"
 5941              		.align	2
 5944              	__func__.0:
 5945 0000 434F455F 		.ascii	"COE_pdoUnpack\000"
 5945      70646F55 
 5945      6E706163 
 5945      6B00
 5946              		.section	.rodata.__func__.1,"a"
 5947              		.align	2
 5950              	__func__.1:
 5951 0000 434F455F 		.ascii	"COE_getValue\000"
 5951      67657456 
 5951      616C7565 
 5951      00
 5952              		.section	.rodata.__func__.2,"a"
 5953              		.align	2
 5956              	__func__.2:
 5957 0000 434F455F 		.ascii	"COE_pdoPack\000"
 5957      70646F50 
 5957      61636B00 
 5958              		.text
 5959              	.Letext0:
 5960              		.file 2 "/home/evence/.config/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-tools/arm-no
 5961              		.file 3 "/home/evence/.config/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-tools/arm-no
 5962              		.file 4 "/home/evence/.config/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-tools/arm-no
 5963              		.file 5 "Drivers/SOES/Inc/esc_coe.h"
 5964              		.file 6 "Drivers/SOES/Inc/esc.h"
ARM GAS  /tmp/ccFH4wf5.s 			page 166


 5965              		.file 7 "/home/evence/.config/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-tools/arm-no
 5966              		.file 8 "/home/evence/.config/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-tools/arm-no
 5967              		.file 9 "<built-in>"
ARM GAS  /tmp/ccFH4wf5.s 			page 167


DEFINED SYMBOLS
                            *ABS*:0000000000000000 esc_coe.c
     /tmp/ccFH4wf5.s:21     .text.init_coesdo:0000000000000000 $t
     /tmp/ccFH4wf5.s:26     .text.init_coesdo:0000000000000000 init_coesdo
     /tmp/ccFH4wf5.s:74     .text.COE_bitsliceGet:0000000000000000 $t
     /tmp/ccFH4wf5.s:79     .text.COE_bitsliceGet:0000000000000000 COE_bitsliceGet
     /tmp/ccFH4wf5.s:228    .text.COE_bitsliceSet:0000000000000000 $t
     /tmp/ccFH4wf5.s:233    .text.COE_bitsliceSet:0000000000000000 COE_bitsliceSet
     /tmp/ccFH4wf5.s:442    .text.COE_setValue:0000000000000000 $t
     /tmp/ccFH4wf5.s:447    .text.COE_setValue:0000000000000000 COE_setValue
     /tmp/ccFH4wf5.s:464    .text.COE_setValue:000000000000000c $d
     /tmp/ccFH4wf5.s:559    .text.SDO_getodlistcont:0000000000000000 $t
     /tmp/ccFH4wf5.s:564    .text.SDO_getodlistcont:0000000000000000 SDO_getodlistcont
     /tmp/ccFH4wf5.s:744    .text.SDO_getodlistcont:00000000000000c8 $d
     /tmp/ccFH4wf5.s:752    .text.SDO_infoerror:0000000000000000 $t
     /tmp/ccFH4wf5.s:757    .text.SDO_infoerror:0000000000000000 SDO_infoerror
     /tmp/ccFH4wf5.s:857    .text.SDO_infoerror:0000000000000070 $d
     /tmp/ccFH4wf5.s:864    .text.SDO_getodlist:0000000000000000 $t
     /tmp/ccFH4wf5.s:869    .text.SDO_getodlist:0000000000000000 SDO_getodlist
     /tmp/ccFH4wf5.s:1194   .text.SDO_getodlist:000000000000014c $d
     /tmp/ccFH4wf5.s:1203   .text.SDO_abort:0000000000000000 $t
     /tmp/ccFH4wf5.s:1208   .text.SDO_abort:0000000000000000 SDO_abort
     /tmp/ccFH4wf5.s:1298   .text.SDO_abort:0000000000000058 $d
     /tmp/ccFH4wf5.s:1305   .text.set_state_idle:0000000000000000 $t
     /tmp/ccFH4wf5.s:1310   .text.set_state_idle:0000000000000000 set_state_idle
     /tmp/ccFH4wf5.s:1348   .text.set_state_idle:0000000000000018 $d
     /tmp/ccFH4wf5.s:1354   .text.copy2mbx:0000000000000000 $t
     /tmp/ccFH4wf5.s:1359   .text.copy2mbx:0000000000000000 copy2mbx
     /tmp/ccFH4wf5.s:1387   .text.SDO_uploadsegment:0000000000000000 $t
     /tmp/ccFH4wf5.s:1392   .text.SDO_uploadsegment:0000000000000000 SDO_uploadsegment
     /tmp/ccFH4wf5.s:1615   .text.SDO_uploadsegment:0000000000000108 $d
     /tmp/ccFH4wf5.s:1623   .text.complete_access_subindex_loop:0000000000000000 $t
     /tmp/ccFH4wf5.s:1628   .text.complete_access_subindex_loop:0000000000000000 complete_access_subindex_loop
     /tmp/ccFH4wf5.s:1975   .text.complete_access_subindex_loop:0000000000000184 $d
     /tmp/ccFH4wf5.s:1982   .text.SDO_downloadsegment:0000000000000000 $t
     /tmp/ccFH4wf5.s:1987   .text.SDO_downloadsegment:0000000000000000 SDO_downloadsegment
     /tmp/ccFH4wf5.s:2143   .text.SDO_downloadsegment:00000000000000ac $d
     /tmp/ccFH4wf5.s:2152   .rodata.COE_getValue.str1.4:0000000000000000 $d
     /tmp/ccFH4wf5.s:2159   .text.COE_getValue:0000000000000000 $t
     /tmp/ccFH4wf5.s:2164   .text.COE_getValue:0000000000000000 COE_getValue
     /tmp/ccFH4wf5.s:2187   .text.COE_getValue:000000000000000e $d
     /tmp/ccFH4wf5.s:2310   .text.COE_getValue:0000000000000074 $d
     /tmp/ccFH4wf5.s:5950   .rodata.__func__.1:0000000000000000 __func__.1
     /tmp/ccFH4wf5.s:2317   .text.SDO_findsubindex:0000000000000000 $t
     /tmp/ccFH4wf5.s:2323   .text.SDO_findsubindex:0000000000000000 SDO_findsubindex
     /tmp/ccFH4wf5.s:2413   .text.SDO_findsubindex:000000000000004c $d
     /tmp/ccFH4wf5.s:2418   .text.SDO_findobject:0000000000000000 $t
     /tmp/ccFH4wf5.s:2424   .text.SDO_findobject:0000000000000000 SDO_findobject
     /tmp/ccFH4wf5.s:2474   .text.SDO_findobject:0000000000000020 $d
     /tmp/ccFH4wf5.s:2479   .text.complete_access_get_variables:0000000000000000 $t
     /tmp/ccFH4wf5.s:2484   .text.complete_access_get_variables:0000000000000000 complete_access_get_variables
     /tmp/ccFH4wf5.s:2566   .text.complete_access_get_variables:0000000000000040 $d
     /tmp/ccFH4wf5.s:2573   .text.SDO_upload_complete_access:0000000000000000 $t
     /tmp/ccFH4wf5.s:2578   .text.SDO_upload_complete_access:0000000000000000 SDO_upload_complete_access
     /tmp/ccFH4wf5.s:2924   .text.SDO_upload_complete_access:00000000000001f8 $d
     /tmp/ccFH4wf5.s:2934   .text.SDO_download_complete_access:0000000000000000 $t
     /tmp/ccFH4wf5.s:2939   .text.SDO_download_complete_access:0000000000000000 SDO_download_complete_access
ARM GAS  /tmp/ccFH4wf5.s 			page 168


     /tmp/ccFH4wf5.s:3212   .text.SDO_download_complete_access:0000000000000158 $d
     /tmp/ccFH4wf5.s:3223   .text.SDO_upload:0000000000000000 $t
     /tmp/ccFH4wf5.s:3228   .text.SDO_upload:0000000000000000 SDO_upload
     /tmp/ccFH4wf5.s:3705   .text.SDO_upload:000000000000020c $d
     /tmp/ccFH4wf5.s:3716   .text.SDO_download:0000000000000000 $t
     /tmp/ccFH4wf5.s:3721   .text.SDO_download:0000000000000000 SDO_download
     /tmp/ccFH4wf5.s:4184   .text.SDO_download:0000000000000204 $d
     /tmp/ccFH4wf5.s:4197   .text.SDO_getod:0000000000000000 $t
     /tmp/ccFH4wf5.s:4202   .text.SDO_getod:0000000000000000 SDO_getod
     /tmp/ccFH4wf5.s:4489   .text.SDO_getod:0000000000000140 $d
     /tmp/ccFH4wf5.s:4498   .text.SDO_geted:0000000000000000 $t
     /tmp/ccFH4wf5.s:4503   .text.SDO_geted:0000000000000000 SDO_geted
     /tmp/ccFH4wf5.s:4739   .text.SDO_geted:00000000000000e0 $d
     /tmp/ccFH4wf5.s:4749   .text.sizeOfPDO:0000000000000000 $t
     /tmp/ccFH4wf5.s:4755   .text.sizeOfPDO:0000000000000000 sizeOfPDO
     /tmp/ccFH4wf5.s:5167   .text.sizeOfPDO:00000000000001a0 $d
     /tmp/ccFH4wf5.s:5172   .text.ESC_coeprocess:0000000000000000 $t
     /tmp/ccFH4wf5.s:5178   .text.ESC_coeprocess:0000000000000000 ESC_coeprocess
     /tmp/ccFH4wf5.s:5470   .text.ESC_coeprocess:0000000000000134 $d
     /tmp/ccFH4wf5.s:5478   .text.COE_initDefaultValues:0000000000000000 $t
     /tmp/ccFH4wf5.s:5484   .text.COE_initDefaultValues:0000000000000000 COE_initDefaultValues
     /tmp/ccFH4wf5.s:5604   .text.COE_initDefaultValues:000000000000006c $d
     /tmp/ccFH4wf5.s:5610   .rodata.COE_pdoPack.str1.4:0000000000000000 $d
     /tmp/ccFH4wf5.s:5614   .text.COE_pdoPack:0000000000000000 $t
     /tmp/ccFH4wf5.s:5620   .text.COE_pdoPack:0000000000000000 COE_pdoPack
     /tmp/ccFH4wf5.s:5741   .text.COE_pdoPack:000000000000006c $d
     /tmp/ccFH4wf5.s:5956   .rodata.__func__.2:0000000000000000 __func__.2
     /tmp/ccFH4wf5.s:5748   .text.COE_pdoUnpack:0000000000000000 $t
     /tmp/ccFH4wf5.s:5754   .text.COE_pdoUnpack:0000000000000000 COE_pdoUnpack
     /tmp/ccFH4wf5.s:5869   .text.COE_pdoUnpack:0000000000000064 $d
     /tmp/ccFH4wf5.s:5944   .rodata.__func__.0:0000000000000000 __func__.0
     /tmp/ccFH4wf5.s:5876   .text.COE_maxSub:0000000000000000 $t
     /tmp/ccFH4wf5.s:5882   .text.COE_maxSub:0000000000000000 COE_maxSub
     /tmp/ccFH4wf5.s:5936   .text.COE_maxSub:000000000000002c $d
     /tmp/ccFH4wf5.s:5941   .rodata.__func__.0:0000000000000000 $d
     /tmp/ccFH4wf5.s:5947   .rodata.__func__.1:0000000000000000 $d
     /tmp/ccFH4wf5.s:5953   .rodata.__func__.2:0000000000000000 $d
     /tmp/ccFH4wf5.s:519    .text.COE_setValue:0000000000000043 $d
     /tmp/ccFH4wf5.s:519    .text.COE_setValue:0000000000000044 $t
     /tmp/ccFH4wf5.s:2242   .text.COE_getValue:0000000000000045 $d
     /tmp/ccFH4wf5.s:2242   .text.COE_getValue:0000000000000046 $t

UNDEFINED SYMBOLS
ESC_claimbuffer
ESCvar
MBX
MBXcontrol
SDOobjects
memcpy
ESC_upload_post_objecthandler
memset
ESC_download_post_objecthandler
__assert_func
ESC_upload_pre_objecthandler
ESC_download_pre_objecthandler
MBX_error
