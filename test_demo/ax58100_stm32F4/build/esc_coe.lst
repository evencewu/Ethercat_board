ARM GAS  /tmp/ccpADs8h.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"esc_coe.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.init_coesdo,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	init_coesdo:
  26              	.LVL0:
  27              	.LFB9:
  28              		.file 1 "Drivers/SOES/Src/esc_coe.c"
   1:Drivers/SOES/Src/esc_coe.c **** /*
   2:Drivers/SOES/Src/esc_coe.c ****  * Licensed under the GNU General Public License version 2 with exceptions. See
   3:Drivers/SOES/Src/esc_coe.c ****  * LICENSE file in the project root for full license information
   4:Drivers/SOES/Src/esc_coe.c ****  */
   5:Drivers/SOES/Src/esc_coe.c **** 
   6:Drivers/SOES/Src/esc_coe.c ****  /** \file
   7:Drivers/SOES/Src/esc_coe.c ****  * \brief
   8:Drivers/SOES/Src/esc_coe.c ****  * CAN over EtherCAT (CoE) module.
   9:Drivers/SOES/Src/esc_coe.c ****  *
  10:Drivers/SOES/Src/esc_coe.c ****  * SDO read / write and SDO service functions
  11:Drivers/SOES/Src/esc_coe.c ****  */
  12:Drivers/SOES/Src/esc_coe.c **** 
  13:Drivers/SOES/Src/esc_coe.c **** #include <stdlib.h>
  14:Drivers/SOES/Src/esc_coe.c **** #include <stddef.h>
  15:Drivers/SOES/Src/esc_coe.c **** #include <stdbool.h>
  16:Drivers/SOES/Src/esc_coe.c **** #include <string.h>
  17:Drivers/SOES/Src/esc_coe.c **** #include <cc.h>
  18:Drivers/SOES/Src/esc_coe.c **** #include "esc.h"
  19:Drivers/SOES/Src/esc_coe.c **** #include "esc_coe.h"
  20:Drivers/SOES/Src/esc_coe.c **** 
  21:Drivers/SOES/Src/esc_coe.c **** #define BITS2BYTES(b) ((b + 7) >> 3)
  22:Drivers/SOES/Src/esc_coe.c **** 
  23:Drivers/SOES/Src/esc_coe.c **** /* Fetch value from object dictionary */
  24:Drivers/SOES/Src/esc_coe.c **** #define OBJ_VALUE_FETCH(v, o) \
  25:Drivers/SOES/Src/esc_coe.c ****    ((o).data ? *(__typeof__ (v) *)(o).data : (__typeof__ (v))(o).value)
  26:Drivers/SOES/Src/esc_coe.c **** 
  27:Drivers/SOES/Src/esc_coe.c **** #define SDO_COMMAND(byte)         \
  28:Drivers/SOES/Src/esc_coe.c ****    (byte & 0xe0)
  29:Drivers/SOES/Src/esc_coe.c **** #define SDO_COMPLETE_ACCESS(byte) \
  30:Drivers/SOES/Src/esc_coe.c ****    ((byte & COE_COMPLETEACCESS) == COE_COMPLETEACCESS)
ARM GAS  /tmp/ccpADs8h.s 			page 2


  31:Drivers/SOES/Src/esc_coe.c **** 
  32:Drivers/SOES/Src/esc_coe.c **** #define READ_ACCESS(access, state) \
  33:Drivers/SOES/Src/esc_coe.c ****       (((access & ATYPE_Rpre) && (state == ESCpreop))   || \
  34:Drivers/SOES/Src/esc_coe.c ****        ((access & ATYPE_Rsafe) && (state == ESCsafeop)) || \
  35:Drivers/SOES/Src/esc_coe.c ****        ((access & ATYPE_Rop) && (state == ESCop)))
  36:Drivers/SOES/Src/esc_coe.c **** 
  37:Drivers/SOES/Src/esc_coe.c **** #define WRITE_ACCESS(access, state) \
  38:Drivers/SOES/Src/esc_coe.c ****       (((access & ATYPE_Wpre) && (state == ESCpreop))   || \
  39:Drivers/SOES/Src/esc_coe.c ****        ((access & ATYPE_Wsafe) && (state == ESCsafeop)) || \
  40:Drivers/SOES/Src/esc_coe.c ****        ((access & ATYPE_Wop) && (state == ESCop)))
  41:Drivers/SOES/Src/esc_coe.c **** 
  42:Drivers/SOES/Src/esc_coe.c **** typedef enum { UPLOAD, DOWNLOAD } load_t;
  43:Drivers/SOES/Src/esc_coe.c **** 
  44:Drivers/SOES/Src/esc_coe.c **** /** Search for an object sub-index.
  45:Drivers/SOES/Src/esc_coe.c ****  *
  46:Drivers/SOES/Src/esc_coe.c ****  * @param[in] nidx   = local array index of object we want to find sub-index to
  47:Drivers/SOES/Src/esc_coe.c ****  * @param[in] subindex   = value on sub-index of object we want to locate
  48:Drivers/SOES/Src/esc_coe.c ****  * @return local array index if we succeed, -1 if we didn't find the index.
  49:Drivers/SOES/Src/esc_coe.c ****  */
  50:Drivers/SOES/Src/esc_coe.c **** int16_t SDO_findsubindex (int16_t nidx, uint8_t subindex)
  51:Drivers/SOES/Src/esc_coe.c **** {
  52:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd;
  53:Drivers/SOES/Src/esc_coe.c ****    int16_t n = 0;
  54:Drivers/SOES/Src/esc_coe.c ****    uint8_t maxsub;
  55:Drivers/SOES/Src/esc_coe.c ****    objd = SDOobjects[nidx].objdesc;
  56:Drivers/SOES/Src/esc_coe.c ****    maxsub = SDOobjects[nidx].maxsub;
  57:Drivers/SOES/Src/esc_coe.c **** 
  58:Drivers/SOES/Src/esc_coe.c ****    /* Since most objects contain all subindexes (i.e. are not sparse),
  59:Drivers/SOES/Src/esc_coe.c ****     * check the most likely scenario first
  60:Drivers/SOES/Src/esc_coe.c ****     */
  61:Drivers/SOES/Src/esc_coe.c ****    if ((subindex <= maxsub) && ((objd + subindex)->subindex == subindex))
  62:Drivers/SOES/Src/esc_coe.c ****    {
  63:Drivers/SOES/Src/esc_coe.c ****       return subindex;
  64:Drivers/SOES/Src/esc_coe.c ****    }
  65:Drivers/SOES/Src/esc_coe.c **** 
  66:Drivers/SOES/Src/esc_coe.c ****    while (((objd + n)->subindex < subindex) && (n < maxsub))
  67:Drivers/SOES/Src/esc_coe.c ****    {
  68:Drivers/SOES/Src/esc_coe.c ****       n++;
  69:Drivers/SOES/Src/esc_coe.c ****    }
  70:Drivers/SOES/Src/esc_coe.c ****    if ((objd + n)->subindex != subindex)
  71:Drivers/SOES/Src/esc_coe.c ****    {
  72:Drivers/SOES/Src/esc_coe.c ****       return -1;
  73:Drivers/SOES/Src/esc_coe.c ****    }
  74:Drivers/SOES/Src/esc_coe.c ****    return n;
  75:Drivers/SOES/Src/esc_coe.c **** }
  76:Drivers/SOES/Src/esc_coe.c **** 
  77:Drivers/SOES/Src/esc_coe.c **** /** Search for an object index matching the wanted value in the Object List.
  78:Drivers/SOES/Src/esc_coe.c ****  *
  79:Drivers/SOES/Src/esc_coe.c ****  * @param[in] index   = value on index of object we want to locate
  80:Drivers/SOES/Src/esc_coe.c ****  * @return local array index if we succeed, -1 if we didn't find the index.
  81:Drivers/SOES/Src/esc_coe.c ****  */
  82:Drivers/SOES/Src/esc_coe.c **** int32_t SDO_findobject (uint16_t index)
  83:Drivers/SOES/Src/esc_coe.c **** {
  84:Drivers/SOES/Src/esc_coe.c ****    int32_t n = 0;
  85:Drivers/SOES/Src/esc_coe.c ****    while (SDOobjects[n].index < index)
  86:Drivers/SOES/Src/esc_coe.c ****    {
  87:Drivers/SOES/Src/esc_coe.c ****       n++;
ARM GAS  /tmp/ccpADs8h.s 			page 3


  88:Drivers/SOES/Src/esc_coe.c ****    }
  89:Drivers/SOES/Src/esc_coe.c ****    if (SDOobjects[n].index != index)
  90:Drivers/SOES/Src/esc_coe.c ****    {
  91:Drivers/SOES/Src/esc_coe.c ****       return -1;
  92:Drivers/SOES/Src/esc_coe.c ****    }
  93:Drivers/SOES/Src/esc_coe.c ****    return n;
  94:Drivers/SOES/Src/esc_coe.c **** }
  95:Drivers/SOES/Src/esc_coe.c **** 
  96:Drivers/SOES/Src/esc_coe.c **** /**
  97:Drivers/SOES/Src/esc_coe.c ****  * Calculate the size in Bytes of RxPDO or TxPDOs by adding the
  98:Drivers/SOES/Src/esc_coe.c ****  * objects in SyncManager SDO 1C1x.
  99:Drivers/SOES/Src/esc_coe.c ****  *
 100:Drivers/SOES/Src/esc_coe.c ****  * A list of mapped objects is created for fast lookup of
 101:Drivers/SOES/Src/esc_coe.c ****  * dynamically mapped process data. The max size of the list (@a
 102:Drivers/SOES/Src/esc_coe.c ****  * max_mappings) can be set to 0 if dynamic processdata is not
 103:Drivers/SOES/Src/esc_coe.c ****  * supported.
 104:Drivers/SOES/Src/esc_coe.c ****  *
 105:Drivers/SOES/Src/esc_coe.c ****  * The output variable @a nmappings is set to 0 if dynamic processdata
 106:Drivers/SOES/Src/esc_coe.c ****  * is not supported. It is set to the number of mapped objects if
 107:Drivers/SOES/Src/esc_coe.c ****  * dynamic processdata is supported, or -1 if the mapping was
 108:Drivers/SOES/Src/esc_coe.c ****  * incorrect.
 109:Drivers/SOES/Src/esc_coe.c **** 
 110:Drivers/SOES/Src/esc_coe.c ****  * @param[in] index = SM index
 111:Drivers/SOES/Src/esc_coe.c ****  * @param[out] nmappings = number of mapped objects in SM, or -1 if
 112:Drivers/SOES/Src/esc_coe.c ****  *   mapping is invalid
 113:Drivers/SOES/Src/esc_coe.c ****  * @param[out] mappings = list of mapped objects in SM
 114:Drivers/SOES/Src/esc_coe.c ****  * @param[out] max_mappings = max number of mapped objects in SM
 115:Drivers/SOES/Src/esc_coe.c ****  * @return size of RxPDO or TxPDOs in Bytes.
 116:Drivers/SOES/Src/esc_coe.c ****  */
 117:Drivers/SOES/Src/esc_coe.c **** uint16_t sizeOfPDO (uint16_t index, int * nmappings, _SMmap * mappings,
 118:Drivers/SOES/Src/esc_coe.c ****                     int max_mappings)
 119:Drivers/SOES/Src/esc_coe.c **** {
 120:Drivers/SOES/Src/esc_coe.c ****    uint16_t offset = 0, hobj;
 121:Drivers/SOES/Src/esc_coe.c ****    uint8_t si, sic, c;
 122:Drivers/SOES/Src/esc_coe.c ****    int16_t nidx;
 123:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd;
 124:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd1c1x;
 125:Drivers/SOES/Src/esc_coe.c ****    int mapIx = 0;
 126:Drivers/SOES/Src/esc_coe.c **** 
 127:Drivers/SOES/Src/esc_coe.c ****    if ((index != RX_PDO_OBJIDX) && (index != TX_PDO_OBJIDX))
 128:Drivers/SOES/Src/esc_coe.c ****    {
 129:Drivers/SOES/Src/esc_coe.c ****       return 0;
 130:Drivers/SOES/Src/esc_coe.c ****    }
 131:Drivers/SOES/Src/esc_coe.c **** 
 132:Drivers/SOES/Src/esc_coe.c ****    nidx = SDO_findobject (index);
 133:Drivers/SOES/Src/esc_coe.c ****    if(nidx < 0)
 134:Drivers/SOES/Src/esc_coe.c ****    {
 135:Drivers/SOES/Src/esc_coe.c ****       return 0;
 136:Drivers/SOES/Src/esc_coe.c ****    }
 137:Drivers/SOES/Src/esc_coe.c **** 
 138:Drivers/SOES/Src/esc_coe.c ****    objd1c1x = SDOobjects[nidx].objdesc;
 139:Drivers/SOES/Src/esc_coe.c **** 
 140:Drivers/SOES/Src/esc_coe.c ****    si = OBJ_VALUE_FETCH (si, objd1c1x[0]);
 141:Drivers/SOES/Src/esc_coe.c ****    if (si)
 142:Drivers/SOES/Src/esc_coe.c ****    {
 143:Drivers/SOES/Src/esc_coe.c ****       for (sic = 1; sic <= si; sic++)
 144:Drivers/SOES/Src/esc_coe.c ****       {
ARM GAS  /tmp/ccpADs8h.s 			page 4


 145:Drivers/SOES/Src/esc_coe.c ****          hobj = OBJ_VALUE_FETCH (hobj, objd1c1x[sic]);
 146:Drivers/SOES/Src/esc_coe.c ****          nidx = SDO_findobject (hobj);
 147:Drivers/SOES/Src/esc_coe.c ****          if (nidx >= 0)
 148:Drivers/SOES/Src/esc_coe.c ****          {
 149:Drivers/SOES/Src/esc_coe.c ****             uint8_t maxsub;
 150:Drivers/SOES/Src/esc_coe.c **** 
 151:Drivers/SOES/Src/esc_coe.c ****             objd = SDOobjects[nidx].objdesc;
 152:Drivers/SOES/Src/esc_coe.c ****             maxsub = OBJ_VALUE_FETCH (maxsub, objd[0]);
 153:Drivers/SOES/Src/esc_coe.c **** 
 154:Drivers/SOES/Src/esc_coe.c ****             for (c = 1; c <= maxsub; c++)
 155:Drivers/SOES/Src/esc_coe.c ****             {
 156:Drivers/SOES/Src/esc_coe.c ****                uint32_t value = OBJ_VALUE_FETCH (value, objd[c]);
 157:Drivers/SOES/Src/esc_coe.c ****                uint8_t bitlength = value & 0xFF;
 158:Drivers/SOES/Src/esc_coe.c **** 
 159:Drivers/SOES/Src/esc_coe.c ****                if (max_mappings > 0)
 160:Drivers/SOES/Src/esc_coe.c ****                {
 161:Drivers/SOES/Src/esc_coe.c ****                   uint16_t index = value >> 16;
 162:Drivers/SOES/Src/esc_coe.c ****                   uint8_t subindex = (value >> 8) & 0xFF;
 163:Drivers/SOES/Src/esc_coe.c ****                   const _objd * mapping;
 164:Drivers/SOES/Src/esc_coe.c **** 
 165:Drivers/SOES/Src/esc_coe.c ****                   if (mapIx == max_mappings)
 166:Drivers/SOES/Src/esc_coe.c ****                   {
 167:Drivers/SOES/Src/esc_coe.c ****                      /* Too many mapped objects */
 168:Drivers/SOES/Src/esc_coe.c ****                      *nmappings = -1;
 169:Drivers/SOES/Src/esc_coe.c ****                      return 0;
 170:Drivers/SOES/Src/esc_coe.c ****                   }
 171:Drivers/SOES/Src/esc_coe.c **** 
 172:Drivers/SOES/Src/esc_coe.c ****                   DPRINT ("%04x:%02x @ %d\n", index, subindex, offset);
 173:Drivers/SOES/Src/esc_coe.c **** 
 174:Drivers/SOES/Src/esc_coe.c ****                   if (index == 0 && subindex == 0)
 175:Drivers/SOES/Src/esc_coe.c ****                   {
 176:Drivers/SOES/Src/esc_coe.c ****                      /* Padding element */
 177:Drivers/SOES/Src/esc_coe.c ****                      mapping = NULL;
 178:Drivers/SOES/Src/esc_coe.c ****                   }
 179:Drivers/SOES/Src/esc_coe.c ****                   else
 180:Drivers/SOES/Src/esc_coe.c ****                   {
 181:Drivers/SOES/Src/esc_coe.c ****                      nidx = SDO_findobject (index);
 182:Drivers/SOES/Src/esc_coe.c ****                      if (nidx >= 0)
 183:Drivers/SOES/Src/esc_coe.c ****                      {
 184:Drivers/SOES/Src/esc_coe.c ****                         int16_t nsub;
 185:Drivers/SOES/Src/esc_coe.c **** 
 186:Drivers/SOES/Src/esc_coe.c ****                         nsub = SDO_findsubindex (nidx, subindex);
 187:Drivers/SOES/Src/esc_coe.c ****                         if (nsub < 0)
 188:Drivers/SOES/Src/esc_coe.c ****                         {
 189:Drivers/SOES/Src/esc_coe.c ****                            /* Mapped subindex does not exist */
 190:Drivers/SOES/Src/esc_coe.c ****                            *nmappings = -1;
 191:Drivers/SOES/Src/esc_coe.c ****                            return 0;
 192:Drivers/SOES/Src/esc_coe.c ****                         }
 193:Drivers/SOES/Src/esc_coe.c **** 
 194:Drivers/SOES/Src/esc_coe.c ****                         mapping = &SDOobjects[nidx].objdesc[nsub];
 195:Drivers/SOES/Src/esc_coe.c ****                      }
 196:Drivers/SOES/Src/esc_coe.c ****                      else
 197:Drivers/SOES/Src/esc_coe.c ****                      {
 198:Drivers/SOES/Src/esc_coe.c ****                         /* Mapped index does not exist */
 199:Drivers/SOES/Src/esc_coe.c ****                         *nmappings = -1;
 200:Drivers/SOES/Src/esc_coe.c ****                         return 0;
 201:Drivers/SOES/Src/esc_coe.c ****                      }
ARM GAS  /tmp/ccpADs8h.s 			page 5


 202:Drivers/SOES/Src/esc_coe.c ****                   }
 203:Drivers/SOES/Src/esc_coe.c **** 
 204:Drivers/SOES/Src/esc_coe.c ****                   mappings[mapIx].obj = mapping;
 205:Drivers/SOES/Src/esc_coe.c ****                   mappings[mapIx++].offset = offset;
 206:Drivers/SOES/Src/esc_coe.c ****                }
 207:Drivers/SOES/Src/esc_coe.c **** 
 208:Drivers/SOES/Src/esc_coe.c ****                offset += bitlength;
 209:Drivers/SOES/Src/esc_coe.c ****             }
 210:Drivers/SOES/Src/esc_coe.c ****          }
 211:Drivers/SOES/Src/esc_coe.c ****       }
 212:Drivers/SOES/Src/esc_coe.c ****    }
 213:Drivers/SOES/Src/esc_coe.c **** 
 214:Drivers/SOES/Src/esc_coe.c ****    if (max_mappings > 0)
 215:Drivers/SOES/Src/esc_coe.c ****    {
 216:Drivers/SOES/Src/esc_coe.c ****       *nmappings = mapIx;
 217:Drivers/SOES/Src/esc_coe.c ****    }
 218:Drivers/SOES/Src/esc_coe.c ****    else
 219:Drivers/SOES/Src/esc_coe.c ****    {
 220:Drivers/SOES/Src/esc_coe.c ****       *nmappings = 0;
 221:Drivers/SOES/Src/esc_coe.c ****    }
 222:Drivers/SOES/Src/esc_coe.c **** 
 223:Drivers/SOES/Src/esc_coe.c ****    return BITS2BYTES (offset);
 224:Drivers/SOES/Src/esc_coe.c **** }
 225:Drivers/SOES/Src/esc_coe.c **** 
 226:Drivers/SOES/Src/esc_coe.c **** /** Copy to mailbox.
 227:Drivers/SOES/Src/esc_coe.c ****  *
 228:Drivers/SOES/Src/esc_coe.c ****  * @param[in] source = pointer to source
 229:Drivers/SOES/Src/esc_coe.c ****  * @param[in] dest   = pointer to destination
 230:Drivers/SOES/Src/esc_coe.c ****  * @param[in] size   = Size to copy
 231:Drivers/SOES/Src/esc_coe.c ****  */
 232:Drivers/SOES/Src/esc_coe.c **** static void copy2mbx (void *source, void *dest, uint16_t size)
 233:Drivers/SOES/Src/esc_coe.c **** {
 234:Drivers/SOES/Src/esc_coe.c ****    memcpy (dest, source, size);
 235:Drivers/SOES/Src/esc_coe.c **** }
 236:Drivers/SOES/Src/esc_coe.c **** 
 237:Drivers/SOES/Src/esc_coe.c **** /** Function for sending an SDO Abort reply.
 238:Drivers/SOES/Src/esc_coe.c ****  *
 239:Drivers/SOES/Src/esc_coe.c ****  * @param[in] reusembx   = mailbox buffer to use (if 0 then claim a new buffer)
 240:Drivers/SOES/Src/esc_coe.c ****  * @param[in] index      = index of object causing abort reply
 241:Drivers/SOES/Src/esc_coe.c ****  * @param[in] sub-index  = sub-index of object causing abort reply
 242:Drivers/SOES/Src/esc_coe.c ****  * @param[in] abortcode  = abort code to send in reply
 243:Drivers/SOES/Src/esc_coe.c ****  */
 244:Drivers/SOES/Src/esc_coe.c **** static void SDO_abort (uint8_t reusembx, uint16_t index, uint8_t subindex, uint32_t abortcode)
 245:Drivers/SOES/Src/esc_coe.c **** {
 246:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
 247:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coeres;
 248:Drivers/SOES/Src/esc_coe.c ****    if (reusembx)
 249:Drivers/SOES/Src/esc_coe.c ****       MBXout = reusembx;
 250:Drivers/SOES/Src/esc_coe.c ****    else
 251:Drivers/SOES/Src/esc_coe.c ****       MBXout = ESC_claimbuffer ();
 252:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
 253:Drivers/SOES/Src/esc_coe.c ****    {
 254:Drivers/SOES/Src/esc_coe.c ****       coeres = (_COEsdo *) &MBX[MBXout * ESC_MBXSIZE];
 255:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 256:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.mbxtype = MBXCOE;
 257:Drivers/SOES/Src/esc_coe.c ****       coeres->coeheader.numberservice =
 258:Drivers/SOES/Src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOREQUEST << 12));
ARM GAS  /tmp/ccpADs8h.s 			page 6


 259:Drivers/SOES/Src/esc_coe.c ****       coeres->index = htoes (index);
 260:Drivers/SOES/Src/esc_coe.c ****       coeres->subindex = subindex;
 261:Drivers/SOES/Src/esc_coe.c ****       coeres->command = COE_COMMAND_SDOABORT;
 262:Drivers/SOES/Src/esc_coe.c ****       coeres->size = htoel (abortcode);
 263:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 264:Drivers/SOES/Src/esc_coe.c ****    }
 265:Drivers/SOES/Src/esc_coe.c **** }
 266:Drivers/SOES/Src/esc_coe.c **** 
 267:Drivers/SOES/Src/esc_coe.c **** static void set_state_idle (uint8_t reusembx,
 268:Drivers/SOES/Src/esc_coe.c ****                            uint16_t index,
 269:Drivers/SOES/Src/esc_coe.c ****                            uint8_t subindex,
 270:Drivers/SOES/Src/esc_coe.c ****                            uint32_t abortcode)
 271:Drivers/SOES/Src/esc_coe.c **** {
 272:Drivers/SOES/Src/esc_coe.c ****    if (abortcode != 0)
 273:Drivers/SOES/Src/esc_coe.c ****    {
 274:Drivers/SOES/Src/esc_coe.c ****       SDO_abort (reusembx, index, subindex, abortcode);
 275:Drivers/SOES/Src/esc_coe.c ****    }
 276:Drivers/SOES/Src/esc_coe.c **** 
 277:Drivers/SOES/Src/esc_coe.c ****    MBXcontrol[0].state = MBXstate_idle;
 278:Drivers/SOES/Src/esc_coe.c ****    ESCvar.xoe = 0;
 279:Drivers/SOES/Src/esc_coe.c **** }
 280:Drivers/SOES/Src/esc_coe.c **** 
 281:Drivers/SOES/Src/esc_coe.c **** /** Function for responding on requested SDO Upload, sending the content
 282:Drivers/SOES/Src/esc_coe.c ****  *  requested in a free Mailbox buffer. Depending of size of data expedited,
 283:Drivers/SOES/Src/esc_coe.c ****  *  normal or segmented transfer is used. On error an SDO Abort will be sent.
 284:Drivers/SOES/Src/esc_coe.c ****  */
 285:Drivers/SOES/Src/esc_coe.c **** static void SDO_upload (void)
 286:Drivers/SOES/Src/esc_coe.c **** {
 287:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coesdo, *coeres;
 288:Drivers/SOES/Src/esc_coe.c ****    uint16_t index;
 289:Drivers/SOES/Src/esc_coe.c ****    uint8_t subindex;
 290:Drivers/SOES/Src/esc_coe.c ****    int16_t nidx, nsub;
 291:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
 292:Drivers/SOES/Src/esc_coe.c ****    uint32_t size;
 293:Drivers/SOES/Src/esc_coe.c ****    uint8_t dss;
 294:Drivers/SOES/Src/esc_coe.c ****    uint32_t abort = 1;
 295:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd;
 296:Drivers/SOES/Src/esc_coe.c ****    coesdo = (_COEsdo *) &MBX[0];
 297:Drivers/SOES/Src/esc_coe.c ****    index = etohs (coesdo->index);
 298:Drivers/SOES/Src/esc_coe.c ****    subindex = coesdo->subindex;
 299:Drivers/SOES/Src/esc_coe.c ****    nidx = SDO_findobject (index);
 300:Drivers/SOES/Src/esc_coe.c ****    if (nidx >= 0)
 301:Drivers/SOES/Src/esc_coe.c ****    {
 302:Drivers/SOES/Src/esc_coe.c ****       nsub = SDO_findsubindex (nidx, subindex);
 303:Drivers/SOES/Src/esc_coe.c ****       if (nsub >= 0)
 304:Drivers/SOES/Src/esc_coe.c ****       {
 305:Drivers/SOES/Src/esc_coe.c ****          objd = SDOobjects[nidx].objdesc;
 306:Drivers/SOES/Src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 307:Drivers/SOES/Src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 308:Drivers/SOES/Src/esc_coe.c ****          if (!READ_ACCESS(access, state))
 309:Drivers/SOES/Src/esc_coe.c ****          {
 310:Drivers/SOES/Src/esc_coe.c ****             set_state_idle (0, index, subindex, ABORT_WRITEONLY);
 311:Drivers/SOES/Src/esc_coe.c ****             return;
 312:Drivers/SOES/Src/esc_coe.c ****          }
 313:Drivers/SOES/Src/esc_coe.c ****          MBXout = ESC_claimbuffer ();
 314:Drivers/SOES/Src/esc_coe.c ****          if (MBXout)
 315:Drivers/SOES/Src/esc_coe.c ****          {
ARM GAS  /tmp/ccpADs8h.s 			page 7


 316:Drivers/SOES/Src/esc_coe.c ****             coeres = (_COEsdo *) &MBX[MBXout * ESC_MBXSIZE];
 317:Drivers/SOES/Src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 318:Drivers/SOES/Src/esc_coe.c ****             coeres->mbxheader.mbxtype = MBXCOE;
 319:Drivers/SOES/Src/esc_coe.c ****             coeres->coeheader.numberservice =
 320:Drivers/SOES/Src/esc_coe.c ****                htoes ((0 & 0x01f) | (COE_SDORESPONSE << 12));
 321:Drivers/SOES/Src/esc_coe.c ****             size = (objd + nsub)->bitlength;
 322:Drivers/SOES/Src/esc_coe.c ****             /* expedited bits used calculation */
 323:Drivers/SOES/Src/esc_coe.c ****             dss = 0x0c;
 324:Drivers/SOES/Src/esc_coe.c ****             if (size > 8)
 325:Drivers/SOES/Src/esc_coe.c ****             {
 326:Drivers/SOES/Src/esc_coe.c ****                dss = 0x08;
 327:Drivers/SOES/Src/esc_coe.c ****             }
 328:Drivers/SOES/Src/esc_coe.c ****             if (size > 16)
 329:Drivers/SOES/Src/esc_coe.c ****             {
 330:Drivers/SOES/Src/esc_coe.c ****                dss = 0x04;
 331:Drivers/SOES/Src/esc_coe.c ****             }
 332:Drivers/SOES/Src/esc_coe.c ****             if (size > 24)
 333:Drivers/SOES/Src/esc_coe.c ****             {
 334:Drivers/SOES/Src/esc_coe.c ****                dss = 0x00;
 335:Drivers/SOES/Src/esc_coe.c ****             }
 336:Drivers/SOES/Src/esc_coe.c ****             coeres->index = htoes (index);
 337:Drivers/SOES/Src/esc_coe.c ****             coeres->subindex = subindex;
 338:Drivers/SOES/Src/esc_coe.c ****             coeres->command = COE_COMMAND_UPLOADRESPONSE +
 339:Drivers/SOES/Src/esc_coe.c ****                COE_SIZE_INDICATOR;
 340:Drivers/SOES/Src/esc_coe.c ****             /* convert bits to bytes */
 341:Drivers/SOES/Src/esc_coe.c ****             size = BITS2BYTES(size);
 342:Drivers/SOES/Src/esc_coe.c ****             if (size <= 4)
 343:Drivers/SOES/Src/esc_coe.c ****             {
 344:Drivers/SOES/Src/esc_coe.c ****                /* expedited response i.e. length<=4 bytes */
 345:Drivers/SOES/Src/esc_coe.c ****                coeres->command += COE_EXPEDITED_INDICATOR + dss;
 346:Drivers/SOES/Src/esc_coe.c ****                void *dataptr = ((objd + nsub)->data) ?
 347:Drivers/SOES/Src/esc_coe.c ****                      (objd + nsub)->data : (void *)&((objd + nsub)->value);
 348:Drivers/SOES/Src/esc_coe.c ****                abort = ESC_upload_pre_objecthandler (index, subindex,
 349:Drivers/SOES/Src/esc_coe.c ****                      dataptr, (size_t *)&size, (objd + nsub)->flags);
 350:Drivers/SOES/Src/esc_coe.c ****                if (abort == 0)
 351:Drivers/SOES/Src/esc_coe.c ****                {
 352:Drivers/SOES/Src/esc_coe.c ****                   if ((objd + nsub)->data == NULL)
 353:Drivers/SOES/Src/esc_coe.c ****                   {
 354:Drivers/SOES/Src/esc_coe.c ****                      /* use constant value */
 355:Drivers/SOES/Src/esc_coe.c ****                      coeres->size = htoel ((objd + nsub)->value);
 356:Drivers/SOES/Src/esc_coe.c ****                   }
 357:Drivers/SOES/Src/esc_coe.c ****                   else
 358:Drivers/SOES/Src/esc_coe.c ****                   {
 359:Drivers/SOES/Src/esc_coe.c ****                      /* use dynamic data */
 360:Drivers/SOES/Src/esc_coe.c ****                      copy2mbx ((objd + nsub)->data, &(coeres->size), size);
 361:Drivers/SOES/Src/esc_coe.c ****                   }
 362:Drivers/SOES/Src/esc_coe.c ****                }
 363:Drivers/SOES/Src/esc_coe.c ****                else
 364:Drivers/SOES/Src/esc_coe.c ****                {
 365:Drivers/SOES/Src/esc_coe.c ****                   set_state_idle (MBXout, index, subindex, abort);
 366:Drivers/SOES/Src/esc_coe.c ****                   return;
 367:Drivers/SOES/Src/esc_coe.c ****                }
 368:Drivers/SOES/Src/esc_coe.c ****             }
 369:Drivers/SOES/Src/esc_coe.c ****             else
 370:Drivers/SOES/Src/esc_coe.c ****             {
 371:Drivers/SOES/Src/esc_coe.c ****                /* normal response i.e. length>4 bytes */
 372:Drivers/SOES/Src/esc_coe.c ****                abort = ESC_upload_pre_objecthandler (index, subindex,
ARM GAS  /tmp/ccpADs8h.s 			page 8


 373:Drivers/SOES/Src/esc_coe.c ****                      (objd + nsub)->data, (size_t *)&size, (objd + nsub)->flags);
 374:Drivers/SOES/Src/esc_coe.c ****                if (abort == 0)
 375:Drivers/SOES/Src/esc_coe.c ****                {
 376:Drivers/SOES/Src/esc_coe.c ****                   /* set total size in bytes */
 377:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.frags = size;
 378:Drivers/SOES/Src/esc_coe.c ****                   coeres->size = htoel (size);
 379:Drivers/SOES/Src/esc_coe.c ****                   if ((size + COE_HEADERSIZE) > ESC_MBXDSIZE)
 380:Drivers/SOES/Src/esc_coe.c ****                   {
 381:Drivers/SOES/Src/esc_coe.c ****                      /* segmented transfer needed */
 382:Drivers/SOES/Src/esc_coe.c ****                      /* limit to mailbox size */
 383:Drivers/SOES/Src/esc_coe.c ****                      size = ESC_MBXDSIZE - COE_HEADERSIZE;
 384:Drivers/SOES/Src/esc_coe.c ****                      /* number of bytes done */
 385:Drivers/SOES/Src/esc_coe.c ****                      ESCvar.fragsleft = size;
 386:Drivers/SOES/Src/esc_coe.c ****                      /* signal segmented transfer */
 387:Drivers/SOES/Src/esc_coe.c ****                      ESCvar.segmented = MBXSEU;
 388:Drivers/SOES/Src/esc_coe.c ****                      ESCvar.data = (objd + nsub)->data;
 389:Drivers/SOES/Src/esc_coe.c ****                      ESCvar.flags = (objd + nsub)->flags;
 390:Drivers/SOES/Src/esc_coe.c ****                   }
 391:Drivers/SOES/Src/esc_coe.c ****                   else
 392:Drivers/SOES/Src/esc_coe.c ****                   {
 393:Drivers/SOES/Src/esc_coe.c ****                      ESCvar.segmented = 0;
 394:Drivers/SOES/Src/esc_coe.c ****                   }
 395:Drivers/SOES/Src/esc_coe.c ****                   coeres->mbxheader.length = htoes (COE_HEADERSIZE + size);
 396:Drivers/SOES/Src/esc_coe.c **** 
 397:Drivers/SOES/Src/esc_coe.c ****                   /* use dynamic data */
 398:Drivers/SOES/Src/esc_coe.c ****                   copy2mbx ((objd + nsub)->data, (&(coeres->size)) + 1, size);
 399:Drivers/SOES/Src/esc_coe.c ****                }
 400:Drivers/SOES/Src/esc_coe.c ****                else
 401:Drivers/SOES/Src/esc_coe.c ****                {
 402:Drivers/SOES/Src/esc_coe.c ****                   set_state_idle (MBXout, index, subindex, abort);
 403:Drivers/SOES/Src/esc_coe.c ****                   return;
 404:Drivers/SOES/Src/esc_coe.c ****                }
 405:Drivers/SOES/Src/esc_coe.c ****             }
 406:Drivers/SOES/Src/esc_coe.c ****             if ((abort == 0) && (ESCvar.segmented == 0))
 407:Drivers/SOES/Src/esc_coe.c ****             {
 408:Drivers/SOES/Src/esc_coe.c ****                abort = ESC_upload_post_objecthandler (index, subindex,
 409:Drivers/SOES/Src/esc_coe.c ****                                                       (objd + nsub)->flags);
 410:Drivers/SOES/Src/esc_coe.c ****                if (abort != 0)
 411:Drivers/SOES/Src/esc_coe.c ****                {
 412:Drivers/SOES/Src/esc_coe.c ****                   set_state_idle (MBXout, index, subindex, abort);
 413:Drivers/SOES/Src/esc_coe.c ****                   return;
 414:Drivers/SOES/Src/esc_coe.c ****                }
 415:Drivers/SOES/Src/esc_coe.c ****             }
 416:Drivers/SOES/Src/esc_coe.c ****             MBXcontrol[MBXout].state = MBXstate_outreq;
 417:Drivers/SOES/Src/esc_coe.c ****          }
 418:Drivers/SOES/Src/esc_coe.c ****       }
 419:Drivers/SOES/Src/esc_coe.c ****       else
 420:Drivers/SOES/Src/esc_coe.c ****       {
 421:Drivers/SOES/Src/esc_coe.c ****          SDO_abort (0, index, subindex, ABORT_NOSUBINDEX);
 422:Drivers/SOES/Src/esc_coe.c ****       }
 423:Drivers/SOES/Src/esc_coe.c ****    }
 424:Drivers/SOES/Src/esc_coe.c ****    else
 425:Drivers/SOES/Src/esc_coe.c ****    {
 426:Drivers/SOES/Src/esc_coe.c ****       SDO_abort (0, index, subindex, ABORT_NOOBJECT);
 427:Drivers/SOES/Src/esc_coe.c ****    }
 428:Drivers/SOES/Src/esc_coe.c ****    MBXcontrol[0].state = MBXstate_idle;
 429:Drivers/SOES/Src/esc_coe.c ****    ESCvar.xoe = 0;
ARM GAS  /tmp/ccpADs8h.s 			page 9


 430:Drivers/SOES/Src/esc_coe.c **** }
 431:Drivers/SOES/Src/esc_coe.c **** 
 432:Drivers/SOES/Src/esc_coe.c **** static uint32_t complete_access_get_variables(_COEsdo *coesdo, uint16_t *index,
 433:Drivers/SOES/Src/esc_coe.c ****                                               uint8_t *subindex, int16_t *nidx,
 434:Drivers/SOES/Src/esc_coe.c ****                                               int16_t *nsub)
 435:Drivers/SOES/Src/esc_coe.c **** {
 436:Drivers/SOES/Src/esc_coe.c ****    *index = etohs (coesdo->index);
 437:Drivers/SOES/Src/esc_coe.c ****    *subindex = coesdo->subindex;
 438:Drivers/SOES/Src/esc_coe.c **** 
 439:Drivers/SOES/Src/esc_coe.c ****    /* A Complete Access must start with Subindex 0 or Subindex 1 */
 440:Drivers/SOES/Src/esc_coe.c ****    if (*subindex > 1)
 441:Drivers/SOES/Src/esc_coe.c ****    {
 442:Drivers/SOES/Src/esc_coe.c ****       return ABORT_UNSUPPORTED;
 443:Drivers/SOES/Src/esc_coe.c ****    }
 444:Drivers/SOES/Src/esc_coe.c **** 
 445:Drivers/SOES/Src/esc_coe.c ****    *nidx = SDO_findobject (*index);
 446:Drivers/SOES/Src/esc_coe.c ****    if (*nidx < 0)
 447:Drivers/SOES/Src/esc_coe.c ****    {
 448:Drivers/SOES/Src/esc_coe.c ****       return ABORT_NOOBJECT;
 449:Drivers/SOES/Src/esc_coe.c ****    }
 450:Drivers/SOES/Src/esc_coe.c **** 
 451:Drivers/SOES/Src/esc_coe.c ****    *nsub = SDO_findsubindex (*nidx, *subindex);
 452:Drivers/SOES/Src/esc_coe.c ****    if (*nsub < 0)
 453:Drivers/SOES/Src/esc_coe.c ****    {
 454:Drivers/SOES/Src/esc_coe.c ****       return ABORT_NOSUBINDEX;
 455:Drivers/SOES/Src/esc_coe.c ****    }
 456:Drivers/SOES/Src/esc_coe.c **** 
 457:Drivers/SOES/Src/esc_coe.c ****    return 0;
 458:Drivers/SOES/Src/esc_coe.c **** }
 459:Drivers/SOES/Src/esc_coe.c **** 
 460:Drivers/SOES/Src/esc_coe.c **** static uint32_t complete_access_subindex_loop(const _objd *objd,
 461:Drivers/SOES/Src/esc_coe.c ****                                               int16_t nidx,
 462:Drivers/SOES/Src/esc_coe.c ****                                               int16_t nsub,
 463:Drivers/SOES/Src/esc_coe.c ****                                               uint8_t *mbxdata,
 464:Drivers/SOES/Src/esc_coe.c ****                                               load_t load_type,
 465:Drivers/SOES/Src/esc_coe.c ****                                               uint16_t max_bytes)
 466:Drivers/SOES/Src/esc_coe.c **** {
 467:Drivers/SOES/Src/esc_coe.c ****    /* Objects with dynamic entries cannot be accessed with Complete Access */
 468:Drivers/SOES/Src/esc_coe.c ****    if ((objd->datatype == DTYPE_VISIBLE_STRING) ||
 469:Drivers/SOES/Src/esc_coe.c ****        (objd->datatype == DTYPE_OCTET_STRING)   ||
 470:Drivers/SOES/Src/esc_coe.c ****        (objd->datatype == DTYPE_UNICODE_STRING))
 471:Drivers/SOES/Src/esc_coe.c ****    {
 472:Drivers/SOES/Src/esc_coe.c ****       return ABORT_CA_NOT_SUPPORTED;
 473:Drivers/SOES/Src/esc_coe.c ****    }
 474:Drivers/SOES/Src/esc_coe.c **** 
 475:Drivers/SOES/Src/esc_coe.c ****    uint32_t size = 0;
 476:Drivers/SOES/Src/esc_coe.c **** 
 477:Drivers/SOES/Src/esc_coe.c ****    while (nsub <= SDOobjects[nidx].maxsub)
 478:Drivers/SOES/Src/esc_coe.c ****    {
 479:Drivers/SOES/Src/esc_coe.c ****       uint16_t bitlen = (objd + nsub)->bitlength;
 480:Drivers/SOES/Src/esc_coe.c ****       void *ul_source = ((objd + nsub)->data != NULL) ?
 481:Drivers/SOES/Src/esc_coe.c ****             (objd + nsub)->data : (void *)&((objd + nsub)->value);
 482:Drivers/SOES/Src/esc_coe.c ****       uint8_t bitoffset = size % 8;
 483:Drivers/SOES/Src/esc_coe.c ****       uint8_t access = (objd + nsub)->flags & 0x3f;
 484:Drivers/SOES/Src/esc_coe.c ****       uint8_t state = ESCvar.ALstatus & 0x0f;
 485:Drivers/SOES/Src/esc_coe.c **** 
 486:Drivers/SOES/Src/esc_coe.c ****       if ((bitlen % 8) == 0)
ARM GAS  /tmp/ccpADs8h.s 			page 10


 487:Drivers/SOES/Src/esc_coe.c ****       {
 488:Drivers/SOES/Src/esc_coe.c ****          if (bitoffset != 0)
 489:Drivers/SOES/Src/esc_coe.c ****          {
 490:Drivers/SOES/Src/esc_coe.c ****             /* move on to next byte boundary */
 491:Drivers/SOES/Src/esc_coe.c ****             size += (8 - bitoffset);
 492:Drivers/SOES/Src/esc_coe.c ****          }
 493:Drivers/SOES/Src/esc_coe.c ****          if (mbxdata != NULL)
 494:Drivers/SOES/Src/esc_coe.c ****          {
 495:Drivers/SOES/Src/esc_coe.c ****             /* copy a non-bit data type to a byte boundary */
 496:Drivers/SOES/Src/esc_coe.c ****             if (load_type == UPLOAD)
 497:Drivers/SOES/Src/esc_coe.c ****             {
 498:Drivers/SOES/Src/esc_coe.c ****                if (READ_ACCESS(access, state))
 499:Drivers/SOES/Src/esc_coe.c ****                {
 500:Drivers/SOES/Src/esc_coe.c ****                   memcpy(&mbxdata[BITS2BYTES(size)], ul_source,
 501:Drivers/SOES/Src/esc_coe.c ****                         BITS2BYTES(bitlen));
 502:Drivers/SOES/Src/esc_coe.c ****                }
 503:Drivers/SOES/Src/esc_coe.c ****                else
 504:Drivers/SOES/Src/esc_coe.c ****                {
 505:Drivers/SOES/Src/esc_coe.c ****                   /* return zeroes for upload of WO objects */
 506:Drivers/SOES/Src/esc_coe.c ****                   memset(&mbxdata[BITS2BYTES(size)], 0, BITS2BYTES(bitlen));
 507:Drivers/SOES/Src/esc_coe.c ****                }
 508:Drivers/SOES/Src/esc_coe.c ****             }
 509:Drivers/SOES/Src/esc_coe.c ****             /* download of RO objects shall be ignored */
 510:Drivers/SOES/Src/esc_coe.c ****             else if (WRITE_ACCESS(access, state))
 511:Drivers/SOES/Src/esc_coe.c ****             {
 512:Drivers/SOES/Src/esc_coe.c ****                memcpy((objd + nsub)->data, &mbxdata[BITS2BYTES(size)],
 513:Drivers/SOES/Src/esc_coe.c ****                      BITS2BYTES(bitlen));
 514:Drivers/SOES/Src/esc_coe.c ****             }
 515:Drivers/SOES/Src/esc_coe.c ****          }
 516:Drivers/SOES/Src/esc_coe.c ****       }
 517:Drivers/SOES/Src/esc_coe.c ****       else if ((load_type == UPLOAD) && (mbxdata != NULL))
 518:Drivers/SOES/Src/esc_coe.c ****       {
 519:Drivers/SOES/Src/esc_coe.c ****          /* copy a bit data type into correct position */
 520:Drivers/SOES/Src/esc_coe.c ****          uint8_t bitmask = (1 << bitlen) - 1;
 521:Drivers/SOES/Src/esc_coe.c ****          if (READ_ACCESS(access, state))
 522:Drivers/SOES/Src/esc_coe.c ****          {
 523:Drivers/SOES/Src/esc_coe.c ****             if (bitoffset == 0)
 524:Drivers/SOES/Src/esc_coe.c ****             {
 525:Drivers/SOES/Src/esc_coe.c ****                mbxdata[BITS2BYTES(size)] = 0;
 526:Drivers/SOES/Src/esc_coe.c ****             }
 527:Drivers/SOES/Src/esc_coe.c ****             mbxdata[BITS2BYTES(size)] |=
 528:Drivers/SOES/Src/esc_coe.c ****                   (*(uint8_t *)ul_source & bitmask) << bitoffset;
 529:Drivers/SOES/Src/esc_coe.c ****          }
 530:Drivers/SOES/Src/esc_coe.c ****          else
 531:Drivers/SOES/Src/esc_coe.c ****          {
 532:Drivers/SOES/Src/esc_coe.c ****             mbxdata[BITS2BYTES(size)] &= ~(bitmask << bitoffset);
 533:Drivers/SOES/Src/esc_coe.c ****          }
 534:Drivers/SOES/Src/esc_coe.c ****       }
 535:Drivers/SOES/Src/esc_coe.c **** 
 536:Drivers/SOES/Src/esc_coe.c ****       /* Subindex 0 is padded to 16 bit */
 537:Drivers/SOES/Src/esc_coe.c ****       size += (nsub == 0) ? 16 : bitlen;
 538:Drivers/SOES/Src/esc_coe.c ****       nsub++;
 539:Drivers/SOES/Src/esc_coe.c **** 
 540:Drivers/SOES/Src/esc_coe.c ****       if ((max_bytes > 0) && (BITS2BYTES(size) >= max_bytes))
 541:Drivers/SOES/Src/esc_coe.c ****       {
 542:Drivers/SOES/Src/esc_coe.c ****          break;
 543:Drivers/SOES/Src/esc_coe.c ****       }
ARM GAS  /tmp/ccpADs8h.s 			page 11


 544:Drivers/SOES/Src/esc_coe.c ****    }
 545:Drivers/SOES/Src/esc_coe.c **** 
 546:Drivers/SOES/Src/esc_coe.c ****    return size;
 547:Drivers/SOES/Src/esc_coe.c **** }
 548:Drivers/SOES/Src/esc_coe.c **** 
 549:Drivers/SOES/Src/esc_coe.c **** static void init_coesdo(_COEsdo *coesdo,
 550:Drivers/SOES/Src/esc_coe.c ****                         uint8_t sdoservice,
 551:Drivers/SOES/Src/esc_coe.c ****                         uint8_t command,
 552:Drivers/SOES/Src/esc_coe.c ****                         uint16_t index,
 553:Drivers/SOES/Src/esc_coe.c ****                         uint8_t subindex)
 554:Drivers/SOES/Src/esc_coe.c **** {
  29              		.loc 1 554 1 view -0
  30              		.cfi_startproc
  31              		@ args = 4, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 554 1 is_stmt 0 view .LVU1
  34 0000 00B5     		push	{lr}
  35              		.cfi_def_cfa_offset 4
  36              		.cfi_offset 14, -4
 555:Drivers/SOES/Src/esc_coe.c ****    coesdo->mbxheader.length = htoes(COE_DEFAULTLENGTH);
  37              		.loc 1 555 4 is_stmt 1 view .LVU2
  38              		.loc 1 555 29 is_stmt 0 view .LVU3
  39 0002 4FF00A0C 		mov	ip, #10
  40 0006 80F800C0 		strb	ip, [r0]
  41 000a 4FF0000C 		mov	ip, #0
  42 000e 80F801C0 		strb	ip, [r0, #1]
 556:Drivers/SOES/Src/esc_coe.c ****    coesdo->mbxheader.mbxtype = MBXCOE;
  43              		.loc 1 556 4 is_stmt 1 view .LVU4
  44              		.loc 1 556 30 is_stmt 0 view .LVU5
  45 0012 90F805C0 		ldrb	ip, [r0, #5]	@ zero_extendqisi2
  46 0016 4FF0030E 		mov	lr, #3
  47 001a 6EF3030C 		bfi	ip, lr, #0, #4
  48 001e 80F805C0 		strb	ip, [r0, #5]
  49              	.LVL1:
 557:Drivers/SOES/Src/esc_coe.c ****    coesdo->coeheader.numberservice = htoes(sdoservice << 12);
  50              		.loc 1 557 4 is_stmt 1 view .LVU6
  51              		.loc 1 557 38 is_stmt 0 view .LVU7
  52 0022 0903     		lsls	r1, r1, #12
  53              	.LVL2:
  54              		.loc 1 557 36 view .LVU8
  55 0024 C180     		strh	r1, [r0, #6]	@ unaligned
 558:Drivers/SOES/Src/esc_coe.c ****    coesdo->command = command;
  56              		.loc 1 558 4 is_stmt 1 view .LVU9
  57              		.loc 1 558 20 is_stmt 0 view .LVU10
  58 0026 0272     		strb	r2, [r0, #8]
 559:Drivers/SOES/Src/esc_coe.c ****    coesdo->index = htoes(index);
  59              		.loc 1 559 4 is_stmt 1 view .LVU11
  60              		.loc 1 559 18 is_stmt 0 view .LVU12
  61 0028 A0F80930 		strh	r3, [r0, #9]	@ unaligned
 560:Drivers/SOES/Src/esc_coe.c ****    coesdo->subindex = subindex;
  62              		.loc 1 560 4 is_stmt 1 view .LVU13
  63              		.loc 1 560 21 is_stmt 0 view .LVU14
  64 002c 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
  65              	.LVL3:
  66              		.loc 1 560 21 view .LVU15
  67 0030 C372     		strb	r3, [r0, #11]
 561:Drivers/SOES/Src/esc_coe.c **** }
ARM GAS  /tmp/ccpADs8h.s 			page 12


  68              		.loc 1 561 1 view .LVU16
  69 0032 5DF804FB 		ldr	pc, [sp], #4
  70              		.cfi_endproc
  71              	.LFE9:
  73              		.section	.text.COE_bitsliceGet,"ax",%progbits
  74              		.align	1
  75              		.syntax unified
  76              		.thumb
  77              		.thumb_func
  79              	COE_bitsliceGet:
  80              	.LVL4:
  81              	.LFB21:
 562:Drivers/SOES/Src/esc_coe.c **** 
 563:Drivers/SOES/Src/esc_coe.c **** /** Function for responding on requested SDO Upload with Complete Access,
 564:Drivers/SOES/Src/esc_coe.c ****  *  sending the content requested in a free Mailbox buffer. Depending of
 565:Drivers/SOES/Src/esc_coe.c ****  *  size of data expedited, normal or segmented transfer is used.
 566:Drivers/SOES/Src/esc_coe.c ****  *  On error an SDO Abort will be sent.
 567:Drivers/SOES/Src/esc_coe.c ****  */
 568:Drivers/SOES/Src/esc_coe.c **** static void SDO_upload_complete_access (void)
 569:Drivers/SOES/Src/esc_coe.c **** {
 570:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coesdo = (_COEsdo *) &MBX[0];
 571:Drivers/SOES/Src/esc_coe.c ****    uint16_t index;
 572:Drivers/SOES/Src/esc_coe.c ****    uint8_t subindex;
 573:Drivers/SOES/Src/esc_coe.c ****    int16_t nidx, nsub;
 574:Drivers/SOES/Src/esc_coe.c ****    uint32_t abortcode = complete_access_get_variables
 575:Drivers/SOES/Src/esc_coe.c ****                            (coesdo, &index, &subindex, &nidx, &nsub);
 576:Drivers/SOES/Src/esc_coe.c ****    if (abortcode != 0)
 577:Drivers/SOES/Src/esc_coe.c ****    {
 578:Drivers/SOES/Src/esc_coe.c ****       set_state_idle (0, index, subindex, abortcode);
 579:Drivers/SOES/Src/esc_coe.c ****       return;
 580:Drivers/SOES/Src/esc_coe.c ****    }
 581:Drivers/SOES/Src/esc_coe.c **** 
 582:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout = ESC_claimbuffer ();
 583:Drivers/SOES/Src/esc_coe.c ****    if (MBXout == 0)
 584:Drivers/SOES/Src/esc_coe.c ****    {
 585:Drivers/SOES/Src/esc_coe.c ****       /* It is a bad idea to call SDO_abort when ESC_claimbuffer fails,
 586:Drivers/SOES/Src/esc_coe.c ****        * because SDO_abort will also call ESC_claimbuffer ...
 587:Drivers/SOES/Src/esc_coe.c ****        */
 588:Drivers/SOES/Src/esc_coe.c ****       set_state_idle (0, index, subindex, 0);
 589:Drivers/SOES/Src/esc_coe.c ****       return;
 590:Drivers/SOES/Src/esc_coe.c ****    }
 591:Drivers/SOES/Src/esc_coe.c **** 
 592:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd = SDOobjects[nidx].objdesc;
 593:Drivers/SOES/Src/esc_coe.c **** 
 594:Drivers/SOES/Src/esc_coe.c ****    /* loop through the subindexes to get the total size */
 595:Drivers/SOES/Src/esc_coe.c ****    uint32_t size = complete_access_subindex_loop(objd, nidx, nsub, NULL, UPLOAD, 0);
 596:Drivers/SOES/Src/esc_coe.c **** 
 597:Drivers/SOES/Src/esc_coe.c ****    /* expedited bits used calculation */
 598:Drivers/SOES/Src/esc_coe.c ****    uint8_t dss = (size > 24) ? 0 : (4 * (3 - ((size - 1) >> 3)));
 599:Drivers/SOES/Src/esc_coe.c **** 
 600:Drivers/SOES/Src/esc_coe.c ****    /* convert bits to bytes */
 601:Drivers/SOES/Src/esc_coe.c ****    size = BITS2BYTES(size);
 602:Drivers/SOES/Src/esc_coe.c **** 
 603:Drivers/SOES/Src/esc_coe.c ****    if (size > 0xffff)
 604:Drivers/SOES/Src/esc_coe.c ****    {
 605:Drivers/SOES/Src/esc_coe.c ****       /* 'size' is in this case actually an abort code */
 606:Drivers/SOES/Src/esc_coe.c ****       set_state_idle (MBXout, index, subindex, size);
ARM GAS  /tmp/ccpADs8h.s 			page 13


 607:Drivers/SOES/Src/esc_coe.c ****       return;
 608:Drivers/SOES/Src/esc_coe.c ****    }
 609:Drivers/SOES/Src/esc_coe.c **** 
 610:Drivers/SOES/Src/esc_coe.c ****    /* check that upload data fits in the preallocated buffer */
 611:Drivers/SOES/Src/esc_coe.c ****    if ((size + PREALLOC_FACTOR * COE_HEADERSIZE) > PREALLOC_BUFFER_SIZE)
 612:Drivers/SOES/Src/esc_coe.c ****    {
 613:Drivers/SOES/Src/esc_coe.c ****       set_state_idle (MBXout, index, subindex, ABORT_CA_NOT_SUPPORTED);
 614:Drivers/SOES/Src/esc_coe.c ****       return;
 615:Drivers/SOES/Src/esc_coe.c ****    }
 616:Drivers/SOES/Src/esc_coe.c ****    abortcode = ESC_upload_pre_objecthandler(index, subindex,
 617:Drivers/SOES/Src/esc_coe.c ****          objd->data, (size_t *)&size, objd->flags | COMPLETE_ACCESS_FLAG);
 618:Drivers/SOES/Src/esc_coe.c ****    if (abortcode != 0)
 619:Drivers/SOES/Src/esc_coe.c ****    {
 620:Drivers/SOES/Src/esc_coe.c ****       set_state_idle (MBXout, index, subindex, abortcode);
 621:Drivers/SOES/Src/esc_coe.c ****       return;
 622:Drivers/SOES/Src/esc_coe.c ****    }
 623:Drivers/SOES/Src/esc_coe.c **** 
 624:Drivers/SOES/Src/esc_coe.c ****    /* copy subindex data into the preallocated buffer */
 625:Drivers/SOES/Src/esc_coe.c ****    complete_access_subindex_loop(objd, nidx, nsub, ESCvar.mbxdata, UPLOAD, 0);
 626:Drivers/SOES/Src/esc_coe.c **** 
 627:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coeres = (_COEsdo *) &MBX[MBXout * ESC_MBXSIZE];
 628:Drivers/SOES/Src/esc_coe.c ****    init_coesdo(coeres, COE_SDORESPONSE,
 629:Drivers/SOES/Src/esc_coe.c ****          COE_COMMAND_UPLOADRESPONSE | COE_COMPLETEACCESS | COE_SIZE_INDICATOR,
 630:Drivers/SOES/Src/esc_coe.c ****          index, subindex);
 631:Drivers/SOES/Src/esc_coe.c **** 
 632:Drivers/SOES/Src/esc_coe.c ****    ESCvar.segmented = 0;
 633:Drivers/SOES/Src/esc_coe.c **** 
 634:Drivers/SOES/Src/esc_coe.c ****    if (size <= 4)
 635:Drivers/SOES/Src/esc_coe.c ****    {
 636:Drivers/SOES/Src/esc_coe.c ****       /* expedited response, i.e. length <= 4 bytes */
 637:Drivers/SOES/Src/esc_coe.c ****       coeres->command |= (COE_EXPEDITED_INDICATOR | dss);
 638:Drivers/SOES/Src/esc_coe.c ****       memcpy(&(coeres->size), ESCvar.mbxdata, size);
 639:Drivers/SOES/Src/esc_coe.c ****    }
 640:Drivers/SOES/Src/esc_coe.c ****    else
 641:Drivers/SOES/Src/esc_coe.c ****    {
 642:Drivers/SOES/Src/esc_coe.c ****       /* normal response, i.e. length > 4 bytes */
 643:Drivers/SOES/Src/esc_coe.c ****       coeres->size = htoel (size);
 644:Drivers/SOES/Src/esc_coe.c **** 
 645:Drivers/SOES/Src/esc_coe.c ****       if ((size + COE_HEADERSIZE) > ESC_MBXDSIZE)
 646:Drivers/SOES/Src/esc_coe.c ****       {
 647:Drivers/SOES/Src/esc_coe.c ****          /* segmented transfer needed */
 648:Drivers/SOES/Src/esc_coe.c ****          /* set total size in bytes */
 649:Drivers/SOES/Src/esc_coe.c ****          ESCvar.frags = size;
 650:Drivers/SOES/Src/esc_coe.c ****          /* limit to mailbox size */
 651:Drivers/SOES/Src/esc_coe.c ****          size = ESC_MBXDSIZE - COE_HEADERSIZE;
 652:Drivers/SOES/Src/esc_coe.c ****          /* number of bytes done */
 653:Drivers/SOES/Src/esc_coe.c ****          ESCvar.fragsleft = size;
 654:Drivers/SOES/Src/esc_coe.c ****          /* signal segmented transfer */
 655:Drivers/SOES/Src/esc_coe.c ****          ESCvar.segmented = MBXSEU;
 656:Drivers/SOES/Src/esc_coe.c ****          ESCvar.data = ESCvar.mbxdata;
 657:Drivers/SOES/Src/esc_coe.c ****          ESCvar.flags = COMPLETE_ACCESS_FLAG;
 658:Drivers/SOES/Src/esc_coe.c ****       }
 659:Drivers/SOES/Src/esc_coe.c **** 
 660:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_HEADERSIZE + size);
 661:Drivers/SOES/Src/esc_coe.c ****       memcpy((&(coeres->size)) + 1, ESCvar.mbxdata, size);
 662:Drivers/SOES/Src/esc_coe.c ****    }
 663:Drivers/SOES/Src/esc_coe.c **** 
ARM GAS  /tmp/ccpADs8h.s 			page 14


 664:Drivers/SOES/Src/esc_coe.c ****    if (ESCvar.segmented == 0)
 665:Drivers/SOES/Src/esc_coe.c ****    {
 666:Drivers/SOES/Src/esc_coe.c ****       abortcode = ESC_upload_post_objecthandler (index, subindex,
 667:Drivers/SOES/Src/esc_coe.c ****             objd->flags | COMPLETE_ACCESS_FLAG);
 668:Drivers/SOES/Src/esc_coe.c **** 
 669:Drivers/SOES/Src/esc_coe.c ****       if (abortcode != 0)
 670:Drivers/SOES/Src/esc_coe.c ****       {
 671:Drivers/SOES/Src/esc_coe.c ****          set_state_idle (MBXout, index, subindex, abortcode);
 672:Drivers/SOES/Src/esc_coe.c ****          return;
 673:Drivers/SOES/Src/esc_coe.c ****       }
 674:Drivers/SOES/Src/esc_coe.c ****    }
 675:Drivers/SOES/Src/esc_coe.c **** 
 676:Drivers/SOES/Src/esc_coe.c ****    MBXcontrol[MBXout].state = MBXstate_outreq;
 677:Drivers/SOES/Src/esc_coe.c **** 
 678:Drivers/SOES/Src/esc_coe.c ****    set_state_idle (MBXout, index, subindex, 0);
 679:Drivers/SOES/Src/esc_coe.c **** }
 680:Drivers/SOES/Src/esc_coe.c **** 
 681:Drivers/SOES/Src/esc_coe.c **** /** Function for handling the following SDO Upload if previous SDOUpload
 682:Drivers/SOES/Src/esc_coe.c ****  * response was flagged it needed to be segmented.
 683:Drivers/SOES/Src/esc_coe.c ****  */
 684:Drivers/SOES/Src/esc_coe.c **** static void SDO_uploadsegment (void)
 685:Drivers/SOES/Src/esc_coe.c **** {
 686:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coesdo, *coeres;
 687:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
 688:Drivers/SOES/Src/esc_coe.c ****    uint32_t size, offset, abort;
 689:Drivers/SOES/Src/esc_coe.c ****    coesdo = (_COEsdo *) &MBX[0];
 690:Drivers/SOES/Src/esc_coe.c ****    MBXout = ESC_claimbuffer ();
 691:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
 692:Drivers/SOES/Src/esc_coe.c ****    {
 693:Drivers/SOES/Src/esc_coe.c ****       coeres = (_COEsdo *) &MBX[MBXout * ESC_MBXSIZE];
 694:Drivers/SOES/Src/esc_coe.c ****       offset = ESCvar.fragsleft;
 695:Drivers/SOES/Src/esc_coe.c ****       size = ESCvar.frags - ESCvar.fragsleft;
 696:Drivers/SOES/Src/esc_coe.c ****       uint8_t command = COE_COMMAND_UPLOADSEGMENT +
 697:Drivers/SOES/Src/esc_coe.c ****             (coesdo->command & COE_TOGGLEBIT);  /* copy toggle bit */
 698:Drivers/SOES/Src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE, command,
 699:Drivers/SOES/Src/esc_coe.c ****             coesdo->index, coesdo->subindex);
 700:Drivers/SOES/Src/esc_coe.c ****       if ((size + COE_SEGMENTHEADERSIZE) > ESC_MBXDSIZE)
 701:Drivers/SOES/Src/esc_coe.c ****       {
 702:Drivers/SOES/Src/esc_coe.c ****          /* more segmented transfer needed */
 703:Drivers/SOES/Src/esc_coe.c ****          /* limit to mailbox size */
 704:Drivers/SOES/Src/esc_coe.c ****          size = ESC_MBXDSIZE - COE_SEGMENTHEADERSIZE;
 705:Drivers/SOES/Src/esc_coe.c ****          /* number of bytes done */
 706:Drivers/SOES/Src/esc_coe.c ****          ESCvar.fragsleft += size;
 707:Drivers/SOES/Src/esc_coe.c ****          coeres->mbxheader.length = htoes (COE_SEGMENTHEADERSIZE + size);
 708:Drivers/SOES/Src/esc_coe.c ****       }
 709:Drivers/SOES/Src/esc_coe.c ****       else
 710:Drivers/SOES/Src/esc_coe.c ****       {
 711:Drivers/SOES/Src/esc_coe.c ****          /* last segment */
 712:Drivers/SOES/Src/esc_coe.c ****          ESCvar.segmented = 0;
 713:Drivers/SOES/Src/esc_coe.c ****          ESCvar.frags = 0;
 714:Drivers/SOES/Src/esc_coe.c ****          ESCvar.fragsleft = 0;
 715:Drivers/SOES/Src/esc_coe.c ****          coeres->command += COE_COMMAND_LASTSEGMENTBIT;
 716:Drivers/SOES/Src/esc_coe.c ****          if (size >= 7)
 717:Drivers/SOES/Src/esc_coe.c ****          {
 718:Drivers/SOES/Src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_SEGMENTHEADERSIZE + size);
 719:Drivers/SOES/Src/esc_coe.c ****          }
 720:Drivers/SOES/Src/esc_coe.c ****          else
ARM GAS  /tmp/ccpADs8h.s 			page 15


 721:Drivers/SOES/Src/esc_coe.c ****          {
 722:Drivers/SOES/Src/esc_coe.c ****             coeres->command += (7 - size) << 1;
 723:Drivers/SOES/Src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 724:Drivers/SOES/Src/esc_coe.c ****          }
 725:Drivers/SOES/Src/esc_coe.c ****       }
 726:Drivers/SOES/Src/esc_coe.c ****       copy2mbx ((uint8_t *) ESCvar.data + offset, (&(coeres->command)) + 1,
 727:Drivers/SOES/Src/esc_coe.c ****             size);        /* copy to mailbox */
 728:Drivers/SOES/Src/esc_coe.c **** 
 729:Drivers/SOES/Src/esc_coe.c ****       if (ESCvar.segmented == 0)
 730:Drivers/SOES/Src/esc_coe.c ****       {
 731:Drivers/SOES/Src/esc_coe.c ****          abort = ESC_upload_post_objecthandler (etohs (coesdo->index),
 732:Drivers/SOES/Src/esc_coe.c ****                coesdo->subindex, ESCvar.flags);
 733:Drivers/SOES/Src/esc_coe.c ****          if (abort != 0)
 734:Drivers/SOES/Src/esc_coe.c ****          {
 735:Drivers/SOES/Src/esc_coe.c ****             set_state_idle (MBXout, etohs (coesdo->index), coesdo->subindex, abort);
 736:Drivers/SOES/Src/esc_coe.c ****             return;
 737:Drivers/SOES/Src/esc_coe.c ****          }
 738:Drivers/SOES/Src/esc_coe.c ****       }
 739:Drivers/SOES/Src/esc_coe.c **** 
 740:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 741:Drivers/SOES/Src/esc_coe.c ****    }
 742:Drivers/SOES/Src/esc_coe.c ****    MBXcontrol[0].state = MBXstate_idle;
 743:Drivers/SOES/Src/esc_coe.c ****    ESCvar.xoe = 0;
 744:Drivers/SOES/Src/esc_coe.c **** }
 745:Drivers/SOES/Src/esc_coe.c **** 
 746:Drivers/SOES/Src/esc_coe.c **** 
 747:Drivers/SOES/Src/esc_coe.c **** /** Function for handling incoming requested SDO Download, validating the
 748:Drivers/SOES/Src/esc_coe.c ****  * request and sending an response. On error an SDO Abort will be sent.
 749:Drivers/SOES/Src/esc_coe.c ****  */
 750:Drivers/SOES/Src/esc_coe.c **** static void SDO_download (void)
 751:Drivers/SOES/Src/esc_coe.c **** {
 752:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coesdo, *coeres;
 753:Drivers/SOES/Src/esc_coe.c ****    uint16_t index;
 754:Drivers/SOES/Src/esc_coe.c ****    uint8_t subindex;
 755:Drivers/SOES/Src/esc_coe.c ****    int16_t nidx, nsub;
 756:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
 757:Drivers/SOES/Src/esc_coe.c ****    uint16_t size, actsize;
 758:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd;
 759:Drivers/SOES/Src/esc_coe.c ****    uint32_t *mbxdata;
 760:Drivers/SOES/Src/esc_coe.c ****    uint32_t abort;
 761:Drivers/SOES/Src/esc_coe.c **** 
 762:Drivers/SOES/Src/esc_coe.c ****    coesdo = (_COEsdo *) &MBX[0];
 763:Drivers/SOES/Src/esc_coe.c ****    index = etohs (coesdo->index);
 764:Drivers/SOES/Src/esc_coe.c ****    subindex = coesdo->subindex;
 765:Drivers/SOES/Src/esc_coe.c ****    nidx = SDO_findobject (index);
 766:Drivers/SOES/Src/esc_coe.c ****    if (nidx >= 0)
 767:Drivers/SOES/Src/esc_coe.c ****    {
 768:Drivers/SOES/Src/esc_coe.c ****       nsub = SDO_findsubindex (nidx, subindex);
 769:Drivers/SOES/Src/esc_coe.c ****       if (nsub >= 0)
 770:Drivers/SOES/Src/esc_coe.c ****       {
 771:Drivers/SOES/Src/esc_coe.c ****          objd = SDOobjects[nidx].objdesc;
 772:Drivers/SOES/Src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 773:Drivers/SOES/Src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 774:Drivers/SOES/Src/esc_coe.c ****          if (WRITE_ACCESS(access, state))
 775:Drivers/SOES/Src/esc_coe.c ****          {
 776:Drivers/SOES/Src/esc_coe.c ****             /* expedited? */
 777:Drivers/SOES/Src/esc_coe.c ****             if (coesdo->command & COE_EXPEDITED_INDICATOR)
ARM GAS  /tmp/ccpADs8h.s 			page 16


 778:Drivers/SOES/Src/esc_coe.c ****             {
 779:Drivers/SOES/Src/esc_coe.c ****                size = 4 - ((coesdo->command & 0x0c) >> 2);
 780:Drivers/SOES/Src/esc_coe.c ****                uint32_t size_value = coesdo->size;
 781:Drivers/SOES/Src/esc_coe.c ****                mbxdata = &size_value;
 782:Drivers/SOES/Src/esc_coe.c ****             }
 783:Drivers/SOES/Src/esc_coe.c ****             else
 784:Drivers/SOES/Src/esc_coe.c ****             {
 785:Drivers/SOES/Src/esc_coe.c ****                /* normal download */
 786:Drivers/SOES/Src/esc_coe.c ****                size = (etohl (coesdo->size) & 0xffff);
 787:Drivers/SOES/Src/esc_coe.c ****                mbxdata = (&(coesdo->size)) + 1;
 788:Drivers/SOES/Src/esc_coe.c ****             }
 789:Drivers/SOES/Src/esc_coe.c ****             actsize = BITS2BYTES((objd + nsub)->bitlength);
 790:Drivers/SOES/Src/esc_coe.c ****             if (actsize != size)
 791:Drivers/SOES/Src/esc_coe.c ****             {
 792:Drivers/SOES/Src/esc_coe.c ****                /* entries with data types VISIBLE_STRING, OCTET_STRING,
 793:Drivers/SOES/Src/esc_coe.c ****                 * UNICODE_STRING, ARRAY_OF_INT, ARRAY_OF_SINT,
 794:Drivers/SOES/Src/esc_coe.c ****                 * ARRAY_OF_DINT, and ARRAY_OF_UDINT may have flexible length
 795:Drivers/SOES/Src/esc_coe.c ****                 */
 796:Drivers/SOES/Src/esc_coe.c ****                uint16_t type = (objd + nsub)->datatype;
 797:Drivers/SOES/Src/esc_coe.c ****                if (type == DTYPE_VISIBLE_STRING)
 798:Drivers/SOES/Src/esc_coe.c ****                {
 799:Drivers/SOES/Src/esc_coe.c ****                   /* pad with zeroes up to the maximum size of the entry */
 800:Drivers/SOES/Src/esc_coe.c ****                   memset((objd + nsub)->data + size, 0, actsize - size);
 801:Drivers/SOES/Src/esc_coe.c ****                }
 802:Drivers/SOES/Src/esc_coe.c ****                else if ((type != DTYPE_OCTET_STRING) &&
 803:Drivers/SOES/Src/esc_coe.c ****                         (type != DTYPE_UNICODE_STRING) &&
 804:Drivers/SOES/Src/esc_coe.c ****                         (type != DTYPE_ARRAY_OF_INT) &&
 805:Drivers/SOES/Src/esc_coe.c ****                         (type != DTYPE_ARRAY_OF_SINT) &&
 806:Drivers/SOES/Src/esc_coe.c ****                         (type != DTYPE_ARRAY_OF_DINT) &&
 807:Drivers/SOES/Src/esc_coe.c ****                         (type != DTYPE_ARRAY_OF_UDINT))
 808:Drivers/SOES/Src/esc_coe.c ****                {
 809:Drivers/SOES/Src/esc_coe.c ****                   set_state_idle (0, index, subindex, ABORT_TYPEMISMATCH);
 810:Drivers/SOES/Src/esc_coe.c ****                   return;
 811:Drivers/SOES/Src/esc_coe.c ****                }
 812:Drivers/SOES/Src/esc_coe.c ****             }
 813:Drivers/SOES/Src/esc_coe.c ****             abort = ESC_download_pre_objecthandler (
 814:Drivers/SOES/Src/esc_coe.c ****                   index,
 815:Drivers/SOES/Src/esc_coe.c ****                   subindex,
 816:Drivers/SOES/Src/esc_coe.c ****                   mbxdata,
 817:Drivers/SOES/Src/esc_coe.c ****                   size,
 818:Drivers/SOES/Src/esc_coe.c ****                   (objd + nsub)->flags
 819:Drivers/SOES/Src/esc_coe.c ****             );
 820:Drivers/SOES/Src/esc_coe.c ****             if (abort == 0)
 821:Drivers/SOES/Src/esc_coe.c ****             {
 822:Drivers/SOES/Src/esc_coe.c ****                if ((size > 4) &&
 823:Drivers/SOES/Src/esc_coe.c ****                      (size > (coesdo->mbxheader.length - COE_HEADERSIZE)))
 824:Drivers/SOES/Src/esc_coe.c ****                {
 825:Drivers/SOES/Src/esc_coe.c ****                   size = coesdo->mbxheader.length - COE_HEADERSIZE;
 826:Drivers/SOES/Src/esc_coe.c ****                   /* signal segmented transfer */
 827:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.segmented = MBXSED;
 828:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.data = (objd + nsub)->data + size;
 829:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.index = index;
 830:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.subindex = subindex;
 831:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.flags = (objd + nsub)->flags;
 832:Drivers/SOES/Src/esc_coe.c ****                }
 833:Drivers/SOES/Src/esc_coe.c ****                else
 834:Drivers/SOES/Src/esc_coe.c ****                {
ARM GAS  /tmp/ccpADs8h.s 			page 17


 835:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.segmented = 0;
 836:Drivers/SOES/Src/esc_coe.c ****                }
 837:Drivers/SOES/Src/esc_coe.c ****                copy2mbx (mbxdata, (objd + nsub)->data, size);
 838:Drivers/SOES/Src/esc_coe.c ****                MBXout = ESC_claimbuffer ();
 839:Drivers/SOES/Src/esc_coe.c ****                if (MBXout)
 840:Drivers/SOES/Src/esc_coe.c ****                {
 841:Drivers/SOES/Src/esc_coe.c ****                   coeres = (_COEsdo *) &MBX[MBXout * ESC_MBXSIZE];
 842:Drivers/SOES/Src/esc_coe.c ****                   coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 843:Drivers/SOES/Src/esc_coe.c ****                   coeres->mbxheader.mbxtype = MBXCOE;
 844:Drivers/SOES/Src/esc_coe.c ****                   coeres->coeheader.numberservice =
 845:Drivers/SOES/Src/esc_coe.c ****                         htoes ((0 & 0x01f) | (COE_SDORESPONSE << 12));
 846:Drivers/SOES/Src/esc_coe.c ****                   coeres->index = htoes (index);
 847:Drivers/SOES/Src/esc_coe.c ****                   coeres->subindex = subindex;
 848:Drivers/SOES/Src/esc_coe.c ****                   coeres->command = COE_COMMAND_DOWNLOADRESPONSE;
 849:Drivers/SOES/Src/esc_coe.c ****                   coeres->size = htoel (0);
 850:Drivers/SOES/Src/esc_coe.c ****                   MBXcontrol[MBXout].state = MBXstate_outreq;
 851:Drivers/SOES/Src/esc_coe.c ****                }
 852:Drivers/SOES/Src/esc_coe.c ****                if (ESCvar.segmented == 0)
 853:Drivers/SOES/Src/esc_coe.c ****                {
 854:Drivers/SOES/Src/esc_coe.c ****                   /* external object write handler */
 855:Drivers/SOES/Src/esc_coe.c ****                   abort = ESC_download_post_objecthandler (index, subindex, (objd + nsub)->flags);
 856:Drivers/SOES/Src/esc_coe.c ****                   if (abort != 0)
 857:Drivers/SOES/Src/esc_coe.c ****                   {
 858:Drivers/SOES/Src/esc_coe.c ****                      SDO_abort (MBXout, index, subindex, abort);
 859:Drivers/SOES/Src/esc_coe.c ****                   }
 860:Drivers/SOES/Src/esc_coe.c ****                }
 861:Drivers/SOES/Src/esc_coe.c ****             }
 862:Drivers/SOES/Src/esc_coe.c ****             else
 863:Drivers/SOES/Src/esc_coe.c ****             {
 864:Drivers/SOES/Src/esc_coe.c ****                SDO_abort (0, index, subindex, abort);
 865:Drivers/SOES/Src/esc_coe.c ****             }
 866:Drivers/SOES/Src/esc_coe.c ****          }
 867:Drivers/SOES/Src/esc_coe.c ****          else
 868:Drivers/SOES/Src/esc_coe.c ****          {
 869:Drivers/SOES/Src/esc_coe.c ****             if (access == ATYPE_RWpre)
 870:Drivers/SOES/Src/esc_coe.c ****             {
 871:Drivers/SOES/Src/esc_coe.c ****                SDO_abort (0, index, subindex, ABORT_NOTINTHISSTATE);
 872:Drivers/SOES/Src/esc_coe.c ****             }
 873:Drivers/SOES/Src/esc_coe.c ****             else
 874:Drivers/SOES/Src/esc_coe.c ****             {
 875:Drivers/SOES/Src/esc_coe.c ****                SDO_abort (0, index, subindex, ABORT_READONLY);
 876:Drivers/SOES/Src/esc_coe.c ****             }
 877:Drivers/SOES/Src/esc_coe.c ****          }
 878:Drivers/SOES/Src/esc_coe.c ****       }
 879:Drivers/SOES/Src/esc_coe.c ****       else
 880:Drivers/SOES/Src/esc_coe.c ****       {
 881:Drivers/SOES/Src/esc_coe.c ****          SDO_abort (0, index, subindex, ABORT_NOSUBINDEX);
 882:Drivers/SOES/Src/esc_coe.c ****       }
 883:Drivers/SOES/Src/esc_coe.c ****    }
 884:Drivers/SOES/Src/esc_coe.c ****    else
 885:Drivers/SOES/Src/esc_coe.c ****    {
 886:Drivers/SOES/Src/esc_coe.c ****       SDO_abort (0, index, subindex, ABORT_NOOBJECT);
 887:Drivers/SOES/Src/esc_coe.c ****    }
 888:Drivers/SOES/Src/esc_coe.c ****    MBXcontrol[0].state = MBXstate_idle;
 889:Drivers/SOES/Src/esc_coe.c ****    ESCvar.xoe = 0;
 890:Drivers/SOES/Src/esc_coe.c **** }
 891:Drivers/SOES/Src/esc_coe.c **** 
ARM GAS  /tmp/ccpADs8h.s 			page 18


 892:Drivers/SOES/Src/esc_coe.c **** /** Function for handling incoming requested SDO Download with Complete Access,
 893:Drivers/SOES/Src/esc_coe.c ****  *  validating the request and sending a response. On error an SDO Abort will
 894:Drivers/SOES/Src/esc_coe.c ****  *  be sent.
 895:Drivers/SOES/Src/esc_coe.c ****  */
 896:Drivers/SOES/Src/esc_coe.c **** static void SDO_download_complete_access (void)
 897:Drivers/SOES/Src/esc_coe.c **** {
 898:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coesdo = (_COEsdo *) &MBX[0];
 899:Drivers/SOES/Src/esc_coe.c ****    uint16_t index;
 900:Drivers/SOES/Src/esc_coe.c ****    uint8_t subindex;
 901:Drivers/SOES/Src/esc_coe.c ****    int16_t nidx, nsub;
 902:Drivers/SOES/Src/esc_coe.c ****    uint32_t abortcode = complete_access_get_variables
 903:Drivers/SOES/Src/esc_coe.c ****                            (coesdo, &index, &subindex, &nidx, &nsub);
 904:Drivers/SOES/Src/esc_coe.c ****    if (abortcode != 0)
 905:Drivers/SOES/Src/esc_coe.c ****    {
 906:Drivers/SOES/Src/esc_coe.c ****       set_state_idle (0, index, subindex, abortcode);
 907:Drivers/SOES/Src/esc_coe.c ****       return;
 908:Drivers/SOES/Src/esc_coe.c ****    }
 909:Drivers/SOES/Src/esc_coe.c **** 
 910:Drivers/SOES/Src/esc_coe.c ****    uint16_t bytes;
 911:Drivers/SOES/Src/esc_coe.c ****    uint32_t size_value = coesdo->size; 
 912:Drivers/SOES/Src/esc_coe.c ****    uint32_t *mbxdata = &size_value;
 913:Drivers/SOES/Src/esc_coe.c **** 
 914:Drivers/SOES/Src/esc_coe.c ****    if (coesdo->command & COE_EXPEDITED_INDICATOR)
 915:Drivers/SOES/Src/esc_coe.c ****    {
 916:Drivers/SOES/Src/esc_coe.c ****       /* expedited download */
 917:Drivers/SOES/Src/esc_coe.c ****       bytes = 4 - ((coesdo->command & 0x0c) >> 2);
 918:Drivers/SOES/Src/esc_coe.c ****    }
 919:Drivers/SOES/Src/esc_coe.c ****    else
 920:Drivers/SOES/Src/esc_coe.c ****    {
 921:Drivers/SOES/Src/esc_coe.c ****       /* normal download */
 922:Drivers/SOES/Src/esc_coe.c ****       bytes = (etohl (coesdo->size) & 0xffff);
 923:Drivers/SOES/Src/esc_coe.c ****       mbxdata++;
 924:Drivers/SOES/Src/esc_coe.c ****    }
 925:Drivers/SOES/Src/esc_coe.c **** 
 926:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd = SDOobjects[nidx].objdesc;
 927:Drivers/SOES/Src/esc_coe.c **** 
 928:Drivers/SOES/Src/esc_coe.c ****    /* loop through the subindexes to get the total size */
 929:Drivers/SOES/Src/esc_coe.c ****    uint32_t size = complete_access_subindex_loop(objd, nidx, nsub, NULL, DOWNLOAD, 0);
 930:Drivers/SOES/Src/esc_coe.c ****    if (BITS2BYTES(size) > 0xffff)
 931:Drivers/SOES/Src/esc_coe.c ****    {
 932:Drivers/SOES/Src/esc_coe.c ****       /* 'size' is in this case actually an abort code */
 933:Drivers/SOES/Src/esc_coe.c ****       set_state_idle (0, index, subindex, size);
 934:Drivers/SOES/Src/esc_coe.c ****       return;
 935:Drivers/SOES/Src/esc_coe.c ****    }
 936:Drivers/SOES/Src/esc_coe.c ****    /* The document ETG.1020 S (R) V1.3.0, chapter 12.2, states that
 937:Drivers/SOES/Src/esc_coe.c ****     * "The SDO Download Complete Access data length shall always match
 938:Drivers/SOES/Src/esc_coe.c ****     * the full current object size (defined by SubIndex0)".
 939:Drivers/SOES/Src/esc_coe.c ****     * But EtherCAT Conformance Test Tool doesn't follow this rule for some test
 940:Drivers/SOES/Src/esc_coe.c ****     * cases, which is the reason to here only check for 'less than or equal'.
 941:Drivers/SOES/Src/esc_coe.c ****     */
 942:Drivers/SOES/Src/esc_coe.c ****    else if (bytes <= BITS2BYTES(size))
 943:Drivers/SOES/Src/esc_coe.c ****    {
 944:Drivers/SOES/Src/esc_coe.c ****       abortcode = ESC_download_pre_objecthandler(index, subindex, mbxdata,
 945:Drivers/SOES/Src/esc_coe.c ****             size, objd->flags | COMPLETE_ACCESS_FLAG);
 946:Drivers/SOES/Src/esc_coe.c ****       if (abortcode != 0)
 947:Drivers/SOES/Src/esc_coe.c ****       {
 948:Drivers/SOES/Src/esc_coe.c ****          set_state_idle (0, index, subindex, abortcode);
ARM GAS  /tmp/ccpADs8h.s 			page 19


 949:Drivers/SOES/Src/esc_coe.c ****          return;
 950:Drivers/SOES/Src/esc_coe.c ****       }
 951:Drivers/SOES/Src/esc_coe.c **** 
 952:Drivers/SOES/Src/esc_coe.c ****       /* copy download data to subindexes */
 953:Drivers/SOES/Src/esc_coe.c ****       complete_access_subindex_loop(objd, nidx, nsub, (uint8_t *)mbxdata, DOWNLOAD, bytes);
 954:Drivers/SOES/Src/esc_coe.c **** 
 955:Drivers/SOES/Src/esc_coe.c ****       abortcode = ESC_download_post_objecthandler(index, subindex,
 956:Drivers/SOES/Src/esc_coe.c ****             objd->flags | COMPLETE_ACCESS_FLAG);
 957:Drivers/SOES/Src/esc_coe.c ****       if (abortcode != 0)
 958:Drivers/SOES/Src/esc_coe.c ****       {
 959:Drivers/SOES/Src/esc_coe.c ****          set_state_idle (0, index, subindex, abortcode);
 960:Drivers/SOES/Src/esc_coe.c ****          return;
 961:Drivers/SOES/Src/esc_coe.c ****       }
 962:Drivers/SOES/Src/esc_coe.c ****    }
 963:Drivers/SOES/Src/esc_coe.c ****    else
 964:Drivers/SOES/Src/esc_coe.c ****    {
 965:Drivers/SOES/Src/esc_coe.c ****       set_state_idle (0, index, subindex, ABORT_TYPEMISMATCH);
 966:Drivers/SOES/Src/esc_coe.c ****       return;
 967:Drivers/SOES/Src/esc_coe.c ****    }
 968:Drivers/SOES/Src/esc_coe.c **** 
 969:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout = ESC_claimbuffer ();
 970:Drivers/SOES/Src/esc_coe.c ****    if (MBXout > 0)
 971:Drivers/SOES/Src/esc_coe.c ****    {
 972:Drivers/SOES/Src/esc_coe.c ****       _COEsdo *coeres = (_COEsdo *) &MBX[MBXout * ESC_MBXSIZE];
 973:Drivers/SOES/Src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE,
 974:Drivers/SOES/Src/esc_coe.c ****                   COE_COMMAND_DOWNLOADRESPONSE | COE_COMPLETEACCESS,
 975:Drivers/SOES/Src/esc_coe.c ****                   index, subindex);
 976:Drivers/SOES/Src/esc_coe.c **** 
 977:Drivers/SOES/Src/esc_coe.c ****       coeres->size = 0;
 978:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 979:Drivers/SOES/Src/esc_coe.c ****    }
 980:Drivers/SOES/Src/esc_coe.c **** 
 981:Drivers/SOES/Src/esc_coe.c ****    set_state_idle (MBXout, index, subindex, 0);
 982:Drivers/SOES/Src/esc_coe.c **** }
 983:Drivers/SOES/Src/esc_coe.c **** 
 984:Drivers/SOES/Src/esc_coe.c **** static void SDO_downloadsegment (void)
 985:Drivers/SOES/Src/esc_coe.c **** {
 986:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coesdo = (_COEsdo *) &MBX[0];
 987:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout = ESC_claimbuffer ();
 988:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
 989:Drivers/SOES/Src/esc_coe.c ****    {
 990:Drivers/SOES/Src/esc_coe.c ****       _COEsdo *coeres = (_COEsdo *) &MBX[MBXout * ESC_MBXSIZE];
 991:Drivers/SOES/Src/esc_coe.c ****       uint32_t size = coesdo->mbxheader.length - 3;
 992:Drivers/SOES/Src/esc_coe.c ****       if (size == 7)
 993:Drivers/SOES/Src/esc_coe.c ****       {
 994:Drivers/SOES/Src/esc_coe.c ****          size = 7 - ((coesdo->command >> 1) & 7);
 995:Drivers/SOES/Src/esc_coe.c ****       }
 996:Drivers/SOES/Src/esc_coe.c ****       uint8_t command = COE_COMMAND_DOWNLOADSEGRESP +
 997:Drivers/SOES/Src/esc_coe.c ****             (coesdo->command & COE_TOGGLEBIT);  /* copy toggle bit */
 998:Drivers/SOES/Src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE, command, 0, 0);
 999:Drivers/SOES/Src/esc_coe.c **** 
1000:Drivers/SOES/Src/esc_coe.c ****       uint32_t size_value = coesdo->index;
1001:Drivers/SOES/Src/esc_coe.c ****       uint32_t *mbxdata = &size_value;  /* data pointer */
1002:Drivers/SOES/Src/esc_coe.c ****       copy2mbx (mbxdata, (uint8_t *)ESCvar.data, size);
1003:Drivers/SOES/Src/esc_coe.c **** 
1004:Drivers/SOES/Src/esc_coe.c ****       if (coesdo->command & COE_COMMAND_LASTSEGMENTBIT)
1005:Drivers/SOES/Src/esc_coe.c ****       {
ARM GAS  /tmp/ccpADs8h.s 			page 20


1006:Drivers/SOES/Src/esc_coe.c ****          /* last segment */
1007:Drivers/SOES/Src/esc_coe.c ****          ESCvar.segmented = 0;
1008:Drivers/SOES/Src/esc_coe.c **** 
1009:Drivers/SOES/Src/esc_coe.c ****          /* external object write handler */
1010:Drivers/SOES/Src/esc_coe.c ****          uint32_t abort = ESC_download_post_objecthandler
1011:Drivers/SOES/Src/esc_coe.c ****                (ESCvar.index, ESCvar.subindex, ESCvar.flags);
1012:Drivers/SOES/Src/esc_coe.c ****          if (abort != 0)
1013:Drivers/SOES/Src/esc_coe.c ****          {
1014:Drivers/SOES/Src/esc_coe.c ****             set_state_idle (MBXout, ESCvar.index, ESCvar.subindex, abort);
1015:Drivers/SOES/Src/esc_coe.c ****             return;
1016:Drivers/SOES/Src/esc_coe.c ****          }
1017:Drivers/SOES/Src/esc_coe.c ****       }
1018:Drivers/SOES/Src/esc_coe.c ****       else
1019:Drivers/SOES/Src/esc_coe.c ****       {
1020:Drivers/SOES/Src/esc_coe.c ****          /* more segmented transfer needed: increase offset */
1021:Drivers/SOES/Src/esc_coe.c ****          ESCvar.data += size;
1022:Drivers/SOES/Src/esc_coe.c ****       }
1023:Drivers/SOES/Src/esc_coe.c **** 
1024:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
1025:Drivers/SOES/Src/esc_coe.c ****    }
1026:Drivers/SOES/Src/esc_coe.c **** 
1027:Drivers/SOES/Src/esc_coe.c ****    set_state_idle (0, 0, 0, 0);
1028:Drivers/SOES/Src/esc_coe.c **** }
1029:Drivers/SOES/Src/esc_coe.c **** 
1030:Drivers/SOES/Src/esc_coe.c **** /** Function for sending an SDO Info Error reply.
1031:Drivers/SOES/Src/esc_coe.c ****  *
1032:Drivers/SOES/Src/esc_coe.c ****  * @param[in] abortcode  = = abort code to send in reply
1033:Drivers/SOES/Src/esc_coe.c ****  */
1034:Drivers/SOES/Src/esc_coe.c **** static void SDO_infoerror (uint32_t abortcode)
1035:Drivers/SOES/Src/esc_coe.c **** {
1036:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
1037:Drivers/SOES/Src/esc_coe.c ****    _COEobjdesc *coeres;
1038:Drivers/SOES/Src/esc_coe.c ****    MBXout = ESC_claimbuffer ();
1039:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
1040:Drivers/SOES/Src/esc_coe.c ****    {
1041:Drivers/SOES/Src/esc_coe.c ****       coeres = (_COEobjdesc *) &MBX[MBXout * ESC_MBXSIZE];
1042:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.length = htoes ((uint16_t) COE_HEADERSIZE);
1043:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.mbxtype = MBXCOE;
1044:Drivers/SOES/Src/esc_coe.c ****       coeres->coeheader.numberservice =
1045:Drivers/SOES/Src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
1046:Drivers/SOES/Src/esc_coe.c ****       /* SDO info error request */
1047:Drivers/SOES/Src/esc_coe.c ****       coeres->infoheader.opcode = COE_INFOERROR;
1048:Drivers/SOES/Src/esc_coe.c ****       coeres->infoheader.incomplete = 0;
1049:Drivers/SOES/Src/esc_coe.c ****       coeres->infoheader.reserved = 0x00;
1050:Drivers/SOES/Src/esc_coe.c ****       coeres->infoheader.fragmentsleft = 0;
1051:Drivers/SOES/Src/esc_coe.c ****       coeres->index = (uint16_t)htoel (abortcode);
1052:Drivers/SOES/Src/esc_coe.c ****       coeres->datatype = (uint16_t)(htoel (abortcode) >> 16);
1053:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
1054:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[0].state = MBXstate_idle;
1055:Drivers/SOES/Src/esc_coe.c ****       ESCvar.xoe = 0;
1056:Drivers/SOES/Src/esc_coe.c ****    }
1057:Drivers/SOES/Src/esc_coe.c **** }
1058:Drivers/SOES/Src/esc_coe.c **** 
1059:Drivers/SOES/Src/esc_coe.c **** #define ODLISTSIZE  ((ESC_MBX1_sml - ESC_MBXHSIZE - sizeof(_COEh) - sizeof(_INFOh) - 2) & 0xfffe)
1060:Drivers/SOES/Src/esc_coe.c **** 
1061:Drivers/SOES/Src/esc_coe.c **** /** Function for handling incoming requested SDO Get OD List, validating the
1062:Drivers/SOES/Src/esc_coe.c ****  * request and sending an response. On error an SDO Info Error will be sent.
ARM GAS  /tmp/ccpADs8h.s 			page 21


1063:Drivers/SOES/Src/esc_coe.c ****  */
1064:Drivers/SOES/Src/esc_coe.c **** static void SDO_getodlist (void)
1065:Drivers/SOES/Src/esc_coe.c **** {
1066:Drivers/SOES/Src/esc_coe.c ****    uint16_t frags;
1067:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout = 0;
1068:Drivers/SOES/Src/esc_coe.c ****    uint16_t entries = 0;
1069:Drivers/SOES/Src/esc_coe.c ****    uint16_t i, n;
1070:Drivers/SOES/Src/esc_coe.c ****    uint16_t *p;
1071:Drivers/SOES/Src/esc_coe.c ****    _COEobjdesc *coel, *coer;
1072:Drivers/SOES/Src/esc_coe.c **** 
1073:Drivers/SOES/Src/esc_coe.c ****    while (SDOobjects[entries].index != 0xffff)
1074:Drivers/SOES/Src/esc_coe.c ****    {
1075:Drivers/SOES/Src/esc_coe.c ****       entries++;
1076:Drivers/SOES/Src/esc_coe.c ****    }
1077:Drivers/SOES/Src/esc_coe.c ****    ESCvar.entries = entries;
1078:Drivers/SOES/Src/esc_coe.c ****    frags = ((entries << 1) + ODLISTSIZE - 1);
1079:Drivers/SOES/Src/esc_coe.c ****    frags /= ODLISTSIZE;
1080:Drivers/SOES/Src/esc_coe.c ****    coer = (_COEobjdesc *) &MBX[0];
1081:Drivers/SOES/Src/esc_coe.c ****    /* check for unsupported opcodes */
1082:Drivers/SOES/Src/esc_coe.c ****    if (etohs (coer->index) > 0x01)
1083:Drivers/SOES/Src/esc_coe.c ****    {
1084:Drivers/SOES/Src/esc_coe.c ****       SDO_infoerror (ABORT_UNSUPPORTED);
1085:Drivers/SOES/Src/esc_coe.c ****    }
1086:Drivers/SOES/Src/esc_coe.c ****    else
1087:Drivers/SOES/Src/esc_coe.c ****    {
1088:Drivers/SOES/Src/esc_coe.c ****       MBXout = ESC_claimbuffer ();
1089:Drivers/SOES/Src/esc_coe.c ****    }
1090:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
1091:Drivers/SOES/Src/esc_coe.c ****    {
1092:Drivers/SOES/Src/esc_coe.c ****       coel = (_COEobjdesc *) &MBX[MBXout * ESC_MBXSIZE];
1093:Drivers/SOES/Src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
1094:Drivers/SOES/Src/esc_coe.c ****       coel->coeheader.numberservice =
1095:Drivers/SOES/Src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
1096:Drivers/SOES/Src/esc_coe.c ****       coel->infoheader.opcode = COE_GETODLISTRESPONSE;
1097:Drivers/SOES/Src/esc_coe.c ****       /* number of objects request */
1098:Drivers/SOES/Src/esc_coe.c ****       if (etohs (coer->index) == 0x00)
1099:Drivers/SOES/Src/esc_coe.c ****       {
1100:Drivers/SOES/Src/esc_coe.c ****          coel->index = htoes ((uint16_t) 0x00);
1101:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.incomplete = 0;
1102:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.reserved = 0x00;
1103:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes ((uint16_t) 0);
1104:Drivers/SOES/Src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
1105:Drivers/SOES/Src/esc_coe.c ****          ESCvar.xoe = 0;
1106:Drivers/SOES/Src/esc_coe.c ****          ESCvar.frags = frags;
1107:Drivers/SOES/Src/esc_coe.c ****          ESCvar.fragsleft = frags - 1;
1108:Drivers/SOES/Src/esc_coe.c ****          uint16_t size_value = coel->datatype;
1109:Drivers/SOES/Src/esc_coe.c ****          p = &size_value;
1110:Drivers/SOES/Src/esc_coe.c ****          *p = htoes (entries);
1111:Drivers/SOES/Src/esc_coe.c ****          p++;
1112:Drivers/SOES/Src/esc_coe.c ****          *p = 0;
1113:Drivers/SOES/Src/esc_coe.c ****          p++;
1114:Drivers/SOES/Src/esc_coe.c ****          *p = 0;
1115:Drivers/SOES/Src/esc_coe.c ****          p++;
1116:Drivers/SOES/Src/esc_coe.c ****          *p = 0;
1117:Drivers/SOES/Src/esc_coe.c ****          p++;
1118:Drivers/SOES/Src/esc_coe.c ****          *p = 0;
1119:Drivers/SOES/Src/esc_coe.c ****          coel->mbxheader.length = htoes (0x08 + (5 << 1));
ARM GAS  /tmp/ccpADs8h.s 			page 22


1120:Drivers/SOES/Src/esc_coe.c ****       }
1121:Drivers/SOES/Src/esc_coe.c ****       /* only return all objects */
1122:Drivers/SOES/Src/esc_coe.c ****       if (etohs (coer->index) == 0x01)
1123:Drivers/SOES/Src/esc_coe.c ****       {
1124:Drivers/SOES/Src/esc_coe.c ****          if (frags > 1)
1125:Drivers/SOES/Src/esc_coe.c ****          {
1126:Drivers/SOES/Src/esc_coe.c ****             coel->infoheader.incomplete = 1;
1127:Drivers/SOES/Src/esc_coe.c ****             ESCvar.xoe = MBXCOE + MBXODL;
1128:Drivers/SOES/Src/esc_coe.c ****             n = ODLISTSIZE >> 1;
1129:Drivers/SOES/Src/esc_coe.c ****          }
1130:Drivers/SOES/Src/esc_coe.c ****          else
1131:Drivers/SOES/Src/esc_coe.c ****          {
1132:Drivers/SOES/Src/esc_coe.c ****             coel->infoheader.incomplete = 0;
1133:Drivers/SOES/Src/esc_coe.c ****             MBXcontrol[0].state = MBXstate_idle;
1134:Drivers/SOES/Src/esc_coe.c ****             ESCvar.xoe = 0;
1135:Drivers/SOES/Src/esc_coe.c ****             n = entries;
1136:Drivers/SOES/Src/esc_coe.c ****          }
1137:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.reserved = 0x00;
1138:Drivers/SOES/Src/esc_coe.c ****          ESCvar.frags = frags;
1139:Drivers/SOES/Src/esc_coe.c ****          ESCvar.fragsleft = frags - 1;
1140:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (ESCvar.fragsleft);
1141:Drivers/SOES/Src/esc_coe.c ****          coel->index = htoes ((uint16_t) 0x01);
1142:Drivers/SOES/Src/esc_coe.c **** 
1143:Drivers/SOES/Src/esc_coe.c ****          uint16_t size_value = coel->datatype;
1144:Drivers/SOES/Src/esc_coe.c ****          p = &size_value;
1145:Drivers/SOES/Src/esc_coe.c ****          for (i = 0; i < n; i++)
1146:Drivers/SOES/Src/esc_coe.c ****          {
1147:Drivers/SOES/Src/esc_coe.c ****             *p = htoes (SDOobjects[i].index);
1148:Drivers/SOES/Src/esc_coe.c ****             p++;
1149:Drivers/SOES/Src/esc_coe.c ****          }
1150:Drivers/SOES/Src/esc_coe.c **** 
1151:Drivers/SOES/Src/esc_coe.c ****          coel->mbxheader.length = htoes (0x08 + (n << 1));
1152:Drivers/SOES/Src/esc_coe.c ****       }
1153:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
1154:Drivers/SOES/Src/esc_coe.c ****    }
1155:Drivers/SOES/Src/esc_coe.c **** }
1156:Drivers/SOES/Src/esc_coe.c **** /** Function for continuing sending left overs from previous requested
1157:Drivers/SOES/Src/esc_coe.c ****  * SDO Get OD List, validating the request and sending an response.
1158:Drivers/SOES/Src/esc_coe.c ****  */
1159:Drivers/SOES/Src/esc_coe.c **** static void SDO_getodlistcont (void)
1160:Drivers/SOES/Src/esc_coe.c **** {
1161:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
1162:Drivers/SOES/Src/esc_coe.c ****    uint16_t i, n, s;
1163:Drivers/SOES/Src/esc_coe.c ****    uint16_t *p;
1164:Drivers/SOES/Src/esc_coe.c ****    _COEobjdesc *coel;
1165:Drivers/SOES/Src/esc_coe.c **** 
1166:Drivers/SOES/Src/esc_coe.c ****    MBXout = ESC_claimbuffer ();
1167:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
1168:Drivers/SOES/Src/esc_coe.c ****    {
1169:Drivers/SOES/Src/esc_coe.c ****       coel = (_COEobjdesc *) &MBX[MBXout * ESC_MBXSIZE];
1170:Drivers/SOES/Src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
1171:Drivers/SOES/Src/esc_coe.c ****       coel->coeheader.numberservice =
1172:Drivers/SOES/Src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
1173:Drivers/SOES/Src/esc_coe.c ****       coel->infoheader.opcode = COE_GETODLISTRESPONSE;
1174:Drivers/SOES/Src/esc_coe.c ****       s = (ESCvar.frags - ESCvar.fragsleft) * (ODLISTSIZE >> 1);
1175:Drivers/SOES/Src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
1176:Drivers/SOES/Src/esc_coe.c ****       {
ARM GAS  /tmp/ccpADs8h.s 			page 23


1177:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.incomplete = 1;
1178:Drivers/SOES/Src/esc_coe.c ****          n = s + (ODLISTSIZE >> 1);
1179:Drivers/SOES/Src/esc_coe.c ****       }
1180:Drivers/SOES/Src/esc_coe.c ****       else
1181:Drivers/SOES/Src/esc_coe.c ****       {
1182:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.incomplete = 0;
1183:Drivers/SOES/Src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
1184:Drivers/SOES/Src/esc_coe.c ****          ESCvar.xoe = 0;
1185:Drivers/SOES/Src/esc_coe.c ****          n = ESCvar.entries;
1186:Drivers/SOES/Src/esc_coe.c ****       }
1187:Drivers/SOES/Src/esc_coe.c ****       coel->infoheader.reserved = 0x00;
1188:Drivers/SOES/Src/esc_coe.c ****       ESCvar.fragsleft--;
1189:Drivers/SOES/Src/esc_coe.c ****       coel->infoheader.fragmentsleft = htoes (ESCvar.fragsleft);
1190:Drivers/SOES/Src/esc_coe.c ****       /* pointer 2 bytes back to exclude index */
1191:Drivers/SOES/Src/esc_coe.c ****       uint16_t size_value = coel->index;
1192:Drivers/SOES/Src/esc_coe.c ****       p = &size_value;
1193:Drivers/SOES/Src/esc_coe.c ****       for (i = s; i < n; i++)
1194:Drivers/SOES/Src/esc_coe.c ****       {
1195:Drivers/SOES/Src/esc_coe.c ****          *p = htoes (SDOobjects[i].index);
1196:Drivers/SOES/Src/esc_coe.c ****          p++;
1197:Drivers/SOES/Src/esc_coe.c ****       }
1198:Drivers/SOES/Src/esc_coe.c ****       coel->mbxheader.length = htoes (0x06 + ((n - s) << 1));
1199:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
1200:Drivers/SOES/Src/esc_coe.c ****    }
1201:Drivers/SOES/Src/esc_coe.c **** }
1202:Drivers/SOES/Src/esc_coe.c **** 
1203:Drivers/SOES/Src/esc_coe.c **** /** Function for handling incoming requested SDO Get Object Description,
1204:Drivers/SOES/Src/esc_coe.c ****  * validating the request and sending an response. On error an
1205:Drivers/SOES/Src/esc_coe.c ****  * SDO Info Error will be sent.
1206:Drivers/SOES/Src/esc_coe.c ****  */
1207:Drivers/SOES/Src/esc_coe.c **** static void SDO_getod (void)
1208:Drivers/SOES/Src/esc_coe.c **** {
1209:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
1210:Drivers/SOES/Src/esc_coe.c ****    uint16_t index;
1211:Drivers/SOES/Src/esc_coe.c ****    int32_t nidx;
1212:Drivers/SOES/Src/esc_coe.c ****    uint8_t *d;
1213:Drivers/SOES/Src/esc_coe.c ****    const uint8_t *s;
1214:Drivers/SOES/Src/esc_coe.c ****    uint8_t n = 0;
1215:Drivers/SOES/Src/esc_coe.c ****    _COEobjdesc *coer, *coel;
1216:Drivers/SOES/Src/esc_coe.c ****    coer = (_COEobjdesc *) &MBX[0];
1217:Drivers/SOES/Src/esc_coe.c ****    index = etohs (coer->index);
1218:Drivers/SOES/Src/esc_coe.c ****    nidx = SDO_findobject (index);
1219:Drivers/SOES/Src/esc_coe.c ****    if (nidx >= 0)
1220:Drivers/SOES/Src/esc_coe.c ****    {
1221:Drivers/SOES/Src/esc_coe.c ****       MBXout = ESC_claimbuffer ();
1222:Drivers/SOES/Src/esc_coe.c ****       if (MBXout)
1223:Drivers/SOES/Src/esc_coe.c ****       {
1224:Drivers/SOES/Src/esc_coe.c ****          coel = (_COEobjdesc *) &MBX[MBXout * ESC_MBXSIZE];
1225:Drivers/SOES/Src/esc_coe.c ****          coel->mbxheader.mbxtype = MBXCOE;
1226:Drivers/SOES/Src/esc_coe.c ****          coel->coeheader.numberservice =
1227:Drivers/SOES/Src/esc_coe.c ****             htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
1228:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.opcode = COE_GETODRESPONSE;
1229:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.incomplete = 0;
1230:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.reserved = 0x00;
1231:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (0);
1232:Drivers/SOES/Src/esc_coe.c ****          coel->index = htoes (index);
1233:Drivers/SOES/Src/esc_coe.c ****          if (SDOobjects[nidx].objtype == OTYPE_VAR)
ARM GAS  /tmp/ccpADs8h.s 			page 24


1234:Drivers/SOES/Src/esc_coe.c ****          {
1235:Drivers/SOES/Src/esc_coe.c ****             int32_t nsub = SDO_findsubindex (nidx, 0);
1236:Drivers/SOES/Src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
1237:Drivers/SOES/Src/esc_coe.c ****             coel->datatype = htoes ((objd + nsub)->datatype);
1238:Drivers/SOES/Src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].maxsub;
1239:Drivers/SOES/Src/esc_coe.c ****          }
1240:Drivers/SOES/Src/esc_coe.c ****          else if (SDOobjects[nidx].objtype == OTYPE_ARRAY)
1241:Drivers/SOES/Src/esc_coe.c ****          {
1242:Drivers/SOES/Src/esc_coe.c ****             int32_t nsub = SDO_findsubindex (nidx, 0);
1243:Drivers/SOES/Src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
1244:Drivers/SOES/Src/esc_coe.c ****             coel->datatype = htoes ((objd + nsub)->datatype);
1245:Drivers/SOES/Src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].objdesc->value;
1246:Drivers/SOES/Src/esc_coe.c ****          }
1247:Drivers/SOES/Src/esc_coe.c ****          else
1248:Drivers/SOES/Src/esc_coe.c ****          {
1249:Drivers/SOES/Src/esc_coe.c ****             coel->datatype = htoes (0);
1250:Drivers/SOES/Src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].objdesc->value;
1251:Drivers/SOES/Src/esc_coe.c ****          }
1252:Drivers/SOES/Src/esc_coe.c ****          coel->objectcode = SDOobjects[nidx].objtype;
1253:Drivers/SOES/Src/esc_coe.c ****          s = (uint8_t *) SDOobjects[nidx].name;
1254:Drivers/SOES/Src/esc_coe.c ****          d = (uint8_t *) &(coel->name);
1255:Drivers/SOES/Src/esc_coe.c ****          while (*s && (n < (ESC_MBXDSIZE - 0x0c)))
1256:Drivers/SOES/Src/esc_coe.c ****          {
1257:Drivers/SOES/Src/esc_coe.c ****             *d = *s;
1258:Drivers/SOES/Src/esc_coe.c ****             n++;
1259:Drivers/SOES/Src/esc_coe.c ****             s++;
1260:Drivers/SOES/Src/esc_coe.c ****             d++;
1261:Drivers/SOES/Src/esc_coe.c ****          }
1262:Drivers/SOES/Src/esc_coe.c ****          *d = *s;
1263:Drivers/SOES/Src/esc_coe.c ****          coel->mbxheader.length = htoes ((uint16_t) 0x0c + n);
1264:Drivers/SOES/Src/esc_coe.c ****          MBXcontrol[MBXout].state = MBXstate_outreq;
1265:Drivers/SOES/Src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
1266:Drivers/SOES/Src/esc_coe.c ****          ESCvar.xoe = 0;
1267:Drivers/SOES/Src/esc_coe.c ****       }
1268:Drivers/SOES/Src/esc_coe.c ****    }
1269:Drivers/SOES/Src/esc_coe.c ****    else
1270:Drivers/SOES/Src/esc_coe.c ****    {
1271:Drivers/SOES/Src/esc_coe.c ****       SDO_infoerror (ABORT_NOOBJECT);
1272:Drivers/SOES/Src/esc_coe.c ****    }
1273:Drivers/SOES/Src/esc_coe.c **** }
1274:Drivers/SOES/Src/esc_coe.c **** 
1275:Drivers/SOES/Src/esc_coe.c **** /** Function for handling incoming requested SDO Get Entry Description,
1276:Drivers/SOES/Src/esc_coe.c ****  * validating the request and sending an response. On error an
1277:Drivers/SOES/Src/esc_coe.c ****  * SDO Info Error will be sent.
1278:Drivers/SOES/Src/esc_coe.c ****  */
1279:Drivers/SOES/Src/esc_coe.c **** static void SDO_geted (void)
1280:Drivers/SOES/Src/esc_coe.c **** {
1281:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
1282:Drivers/SOES/Src/esc_coe.c ****    uint16_t index;
1283:Drivers/SOES/Src/esc_coe.c ****    int32_t nidx, nsub;
1284:Drivers/SOES/Src/esc_coe.c ****    uint8_t subindex;
1285:Drivers/SOES/Src/esc_coe.c ****    uint8_t *d;
1286:Drivers/SOES/Src/esc_coe.c ****    const uint8_t *s;
1287:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd;
1288:Drivers/SOES/Src/esc_coe.c ****    uint8_t n = 0;
1289:Drivers/SOES/Src/esc_coe.c ****    _COEentdesc *coer, *coel;
1290:Drivers/SOES/Src/esc_coe.c ****    coer = (_COEentdesc *) &MBX[0];
ARM GAS  /tmp/ccpADs8h.s 			page 25


1291:Drivers/SOES/Src/esc_coe.c ****    index = etohs (coer->index);
1292:Drivers/SOES/Src/esc_coe.c ****    subindex = coer->subindex;
1293:Drivers/SOES/Src/esc_coe.c ****    nidx = SDO_findobject (index);
1294:Drivers/SOES/Src/esc_coe.c ****    if (nidx >= 0)
1295:Drivers/SOES/Src/esc_coe.c ****    {
1296:Drivers/SOES/Src/esc_coe.c ****       nsub = SDO_findsubindex (nidx, subindex);
1297:Drivers/SOES/Src/esc_coe.c ****       if (nsub >= 0)
1298:Drivers/SOES/Src/esc_coe.c ****       {
1299:Drivers/SOES/Src/esc_coe.c ****          objd = SDOobjects[nidx].objdesc;
1300:Drivers/SOES/Src/esc_coe.c ****          MBXout = ESC_claimbuffer ();
1301:Drivers/SOES/Src/esc_coe.c ****          if (MBXout)
1302:Drivers/SOES/Src/esc_coe.c ****          {
1303:Drivers/SOES/Src/esc_coe.c ****             coel = (_COEentdesc *) &MBX[MBXout * ESC_MBXSIZE];
1304:Drivers/SOES/Src/esc_coe.c ****             coel->mbxheader.mbxtype = MBXCOE;
1305:Drivers/SOES/Src/esc_coe.c ****             coel->coeheader.numberservice =
1306:Drivers/SOES/Src/esc_coe.c ****                htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
1307:Drivers/SOES/Src/esc_coe.c ****             coel->infoheader.opcode = COE_ENTRYDESCRIPTIONRESPONSE;
1308:Drivers/SOES/Src/esc_coe.c ****             coel->infoheader.incomplete = 0;
1309:Drivers/SOES/Src/esc_coe.c ****             coel->infoheader.reserved = 0x00;
1310:Drivers/SOES/Src/esc_coe.c ****             coel->infoheader.fragmentsleft = htoes ((uint16_t) 0);
1311:Drivers/SOES/Src/esc_coe.c ****             coel->index = htoes (index);
1312:Drivers/SOES/Src/esc_coe.c ****             coel->subindex = subindex;
1313:Drivers/SOES/Src/esc_coe.c ****             coel->valueinfo = COE_VALUEINFO_ACCESS +
1314:Drivers/SOES/Src/esc_coe.c ****                COE_VALUEINFO_OBJECT + COE_VALUEINFO_MAPPABLE;
1315:Drivers/SOES/Src/esc_coe.c ****             coel->datatype = htoes ((objd + nsub)->datatype);
1316:Drivers/SOES/Src/esc_coe.c ****             coel->bitlength = htoes ((objd + nsub)->bitlength);
1317:Drivers/SOES/Src/esc_coe.c ****             coel->access = htoes ((objd + nsub)->flags);
1318:Drivers/SOES/Src/esc_coe.c ****             s = (uint8_t *) (objd + nsub)->name;
1319:Drivers/SOES/Src/esc_coe.c ****             d = (uint8_t *) &(coel->name);
1320:Drivers/SOES/Src/esc_coe.c ****             while (*s && (n < (ESC_MBXDSIZE - 0x10)))
1321:Drivers/SOES/Src/esc_coe.c ****             {
1322:Drivers/SOES/Src/esc_coe.c ****                *d = *s;
1323:Drivers/SOES/Src/esc_coe.c ****                n++;
1324:Drivers/SOES/Src/esc_coe.c ****                s++;
1325:Drivers/SOES/Src/esc_coe.c ****                d++;
1326:Drivers/SOES/Src/esc_coe.c ****             }
1327:Drivers/SOES/Src/esc_coe.c ****             *d = *s;
1328:Drivers/SOES/Src/esc_coe.c ****             coel->mbxheader.length = htoes ((uint16_t) 0x10 + n);
1329:Drivers/SOES/Src/esc_coe.c ****             MBXcontrol[MBXout].state = MBXstate_outreq;
1330:Drivers/SOES/Src/esc_coe.c ****             MBXcontrol[0].state = MBXstate_idle;
1331:Drivers/SOES/Src/esc_coe.c ****             ESCvar.xoe = 0;
1332:Drivers/SOES/Src/esc_coe.c ****          }
1333:Drivers/SOES/Src/esc_coe.c ****       }
1334:Drivers/SOES/Src/esc_coe.c ****       else
1335:Drivers/SOES/Src/esc_coe.c ****       {
1336:Drivers/SOES/Src/esc_coe.c ****          SDO_infoerror (ABORT_NOSUBINDEX);
1337:Drivers/SOES/Src/esc_coe.c ****       }
1338:Drivers/SOES/Src/esc_coe.c ****    }
1339:Drivers/SOES/Src/esc_coe.c ****    else
1340:Drivers/SOES/Src/esc_coe.c ****    {
1341:Drivers/SOES/Src/esc_coe.c ****       SDO_infoerror (ABORT_NOOBJECT);
1342:Drivers/SOES/Src/esc_coe.c ****    }
1343:Drivers/SOES/Src/esc_coe.c **** }
1344:Drivers/SOES/Src/esc_coe.c **** 
1345:Drivers/SOES/Src/esc_coe.c **** /** Main CoE function checking the status on current mailbox buffers carrying
1346:Drivers/SOES/Src/esc_coe.c ****  * data, distributing the mailboxes to appropriate CoE functions.
1347:Drivers/SOES/Src/esc_coe.c ****  * On Error an MBX_error or SDO Abort will be sent depending on error cause.
ARM GAS  /tmp/ccpADs8h.s 			page 26


1348:Drivers/SOES/Src/esc_coe.c ****  */
1349:Drivers/SOES/Src/esc_coe.c **** void ESC_coeprocess (void)
1350:Drivers/SOES/Src/esc_coe.c **** {
1351:Drivers/SOES/Src/esc_coe.c ****    _MBXh *mbh;
1352:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coesdo;
1353:Drivers/SOES/Src/esc_coe.c ****    _COEobjdesc *coeobjdesc;
1354:Drivers/SOES/Src/esc_coe.c ****    uint8_t service;
1355:Drivers/SOES/Src/esc_coe.c ****    if (ESCvar.MBXrun == 0)
1356:Drivers/SOES/Src/esc_coe.c ****    {
1357:Drivers/SOES/Src/esc_coe.c ****       return;
1358:Drivers/SOES/Src/esc_coe.c ****    }
1359:Drivers/SOES/Src/esc_coe.c ****    if (!ESCvar.xoe && (MBXcontrol[0].state == MBXstate_inclaim))
1360:Drivers/SOES/Src/esc_coe.c ****    {
1361:Drivers/SOES/Src/esc_coe.c ****       mbh = (_MBXh *) &MBX[0];
1362:Drivers/SOES/Src/esc_coe.c ****       if (mbh->mbxtype == MBXCOE)
1363:Drivers/SOES/Src/esc_coe.c ****       {
1364:Drivers/SOES/Src/esc_coe.c ****          if (etohs (mbh->length) < COE_MINIMUM_LENGTH)
1365:Drivers/SOES/Src/esc_coe.c ****          {
1366:Drivers/SOES/Src/esc_coe.c ****             MBX_error (MBXERR_INVALIDSIZE);
1367:Drivers/SOES/Src/esc_coe.c ****          }
1368:Drivers/SOES/Src/esc_coe.c ****          else
1369:Drivers/SOES/Src/esc_coe.c ****          {
1370:Drivers/SOES/Src/esc_coe.c ****             ESCvar.xoe = MBXCOE;
1371:Drivers/SOES/Src/esc_coe.c ****          }
1372:Drivers/SOES/Src/esc_coe.c ****       }
1373:Drivers/SOES/Src/esc_coe.c ****    }
1374:Drivers/SOES/Src/esc_coe.c ****    if ((ESCvar.xoe == (MBXCOE + MBXODL)) && (!ESCvar.mbxoutpost))
1375:Drivers/SOES/Src/esc_coe.c ****    {
1376:Drivers/SOES/Src/esc_coe.c ****       /* continue get OD list */
1377:Drivers/SOES/Src/esc_coe.c ****       SDO_getodlistcont ();
1378:Drivers/SOES/Src/esc_coe.c ****    }
1379:Drivers/SOES/Src/esc_coe.c ****    if (ESCvar.xoe == MBXCOE)
1380:Drivers/SOES/Src/esc_coe.c ****    {
1381:Drivers/SOES/Src/esc_coe.c ****       coesdo = (_COEsdo *) &MBX[0];
1382:Drivers/SOES/Src/esc_coe.c ****       coeobjdesc = (_COEobjdesc *) &MBX[0];
1383:Drivers/SOES/Src/esc_coe.c ****       service = etohs (coesdo->coeheader.numberservice) >> 12;
1384:Drivers/SOES/Src/esc_coe.c ****       if (service == COE_SDOREQUEST)
1385:Drivers/SOES/Src/esc_coe.c ****       {
1386:Drivers/SOES/Src/esc_coe.c ****          if ((SDO_COMMAND(coesdo->command) == COE_COMMAND_UPLOADREQUEST)
1387:Drivers/SOES/Src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE))
1388:Drivers/SOES/Src/esc_coe.c ****          {
1389:Drivers/SOES/Src/esc_coe.c ****             /* initiate SDO upload request */
1390:Drivers/SOES/Src/esc_coe.c ****             if (SDO_COMPLETE_ACCESS(coesdo->command))
1391:Drivers/SOES/Src/esc_coe.c ****             {
1392:Drivers/SOES/Src/esc_coe.c ****                SDO_upload_complete_access ();
1393:Drivers/SOES/Src/esc_coe.c ****             }
1394:Drivers/SOES/Src/esc_coe.c ****             else
1395:Drivers/SOES/Src/esc_coe.c ****             {
1396:Drivers/SOES/Src/esc_coe.c ****                SDO_upload ();
1397:Drivers/SOES/Src/esc_coe.c ****             }
1398:Drivers/SOES/Src/esc_coe.c ****          }
1399:Drivers/SOES/Src/esc_coe.c ****          else if (((coesdo->command & 0xef) == COE_COMMAND_UPLOADSEGREQ)
1400:Drivers/SOES/Src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE)
1401:Drivers/SOES/Src/esc_coe.c ****                && (ESCvar.segmented == MBXSEU))
1402:Drivers/SOES/Src/esc_coe.c ****          {
1403:Drivers/SOES/Src/esc_coe.c ****             /* SDO upload segment request */
1404:Drivers/SOES/Src/esc_coe.c ****             SDO_uploadsegment ();
ARM GAS  /tmp/ccpADs8h.s 			page 27


1405:Drivers/SOES/Src/esc_coe.c ****          }
1406:Drivers/SOES/Src/esc_coe.c ****          else if (SDO_COMMAND(coesdo->command) == COE_COMMAND_DOWNLOADREQUEST)
1407:Drivers/SOES/Src/esc_coe.c ****          {
1408:Drivers/SOES/Src/esc_coe.c ****             /* initiate SDO download request */
1409:Drivers/SOES/Src/esc_coe.c ****             if (SDO_COMPLETE_ACCESS(coesdo->command))
1410:Drivers/SOES/Src/esc_coe.c ****             {
1411:Drivers/SOES/Src/esc_coe.c ****                SDO_download_complete_access ();
1412:Drivers/SOES/Src/esc_coe.c ****             }
1413:Drivers/SOES/Src/esc_coe.c ****             else
1414:Drivers/SOES/Src/esc_coe.c ****             {
1415:Drivers/SOES/Src/esc_coe.c ****                SDO_download ();
1416:Drivers/SOES/Src/esc_coe.c ****             }
1417:Drivers/SOES/Src/esc_coe.c ****          }
1418:Drivers/SOES/Src/esc_coe.c ****          else if (SDO_COMMAND(coesdo->command) == COE_COMMAND_DOWNLOADSEGREQ)
1419:Drivers/SOES/Src/esc_coe.c ****          {
1420:Drivers/SOES/Src/esc_coe.c ****             /* SDO download segment request */
1421:Drivers/SOES/Src/esc_coe.c ****             SDO_downloadsegment ();
1422:Drivers/SOES/Src/esc_coe.c ****          }
1423:Drivers/SOES/Src/esc_coe.c ****       }
1424:Drivers/SOES/Src/esc_coe.c ****       /* initiate SDO get OD list */
1425:Drivers/SOES/Src/esc_coe.c ****       else
1426:Drivers/SOES/Src/esc_coe.c ****       {
1427:Drivers/SOES/Src/esc_coe.c ****          if ((service == COE_SDOINFORMATION)
1428:Drivers/SOES/Src/esc_coe.c ****                && (coeobjdesc->infoheader.opcode == 0x01))
1429:Drivers/SOES/Src/esc_coe.c ****          {
1430:Drivers/SOES/Src/esc_coe.c ****             SDO_getodlist ();
1431:Drivers/SOES/Src/esc_coe.c ****          }
1432:Drivers/SOES/Src/esc_coe.c ****          /* initiate SDO get OD */
1433:Drivers/SOES/Src/esc_coe.c ****          else
1434:Drivers/SOES/Src/esc_coe.c ****          {
1435:Drivers/SOES/Src/esc_coe.c ****             if ((service == COE_SDOINFORMATION)
1436:Drivers/SOES/Src/esc_coe.c ****                   && (coeobjdesc->infoheader.opcode == 0x03))
1437:Drivers/SOES/Src/esc_coe.c ****             {
1438:Drivers/SOES/Src/esc_coe.c ****                SDO_getod ();
1439:Drivers/SOES/Src/esc_coe.c ****             }
1440:Drivers/SOES/Src/esc_coe.c ****             /* initiate SDO get ED */
1441:Drivers/SOES/Src/esc_coe.c ****             else
1442:Drivers/SOES/Src/esc_coe.c ****             {
1443:Drivers/SOES/Src/esc_coe.c ****                if ((service == COE_SDOINFORMATION)
1444:Drivers/SOES/Src/esc_coe.c ****                      && (coeobjdesc->infoheader.opcode == 0x05))
1445:Drivers/SOES/Src/esc_coe.c ****                {
1446:Drivers/SOES/Src/esc_coe.c ****                   SDO_geted ();
1447:Drivers/SOES/Src/esc_coe.c ****                }
1448:Drivers/SOES/Src/esc_coe.c ****                else
1449:Drivers/SOES/Src/esc_coe.c ****                {
1450:Drivers/SOES/Src/esc_coe.c ****                   /* COE not recognised above */
1451:Drivers/SOES/Src/esc_coe.c ****                   if (ESCvar.xoe == MBXCOE)
1452:Drivers/SOES/Src/esc_coe.c ****                   {
1453:Drivers/SOES/Src/esc_coe.c ****                      if (service == 0)
1454:Drivers/SOES/Src/esc_coe.c ****                      {
1455:Drivers/SOES/Src/esc_coe.c ****                         MBX_error (MBXERR_INVALIDHEADER);
1456:Drivers/SOES/Src/esc_coe.c ****                      }
1457:Drivers/SOES/Src/esc_coe.c ****                      else
1458:Drivers/SOES/Src/esc_coe.c ****                      {
1459:Drivers/SOES/Src/esc_coe.c ****                         SDO_abort (0, etohs (coesdo->index), coesdo->subindex, ABORT_UNSUPPORTED);
1460:Drivers/SOES/Src/esc_coe.c ****                      }
1461:Drivers/SOES/Src/esc_coe.c ****                      MBXcontrol[0].state = MBXstate_idle;
ARM GAS  /tmp/ccpADs8h.s 			page 28


1462:Drivers/SOES/Src/esc_coe.c ****                      ESCvar.xoe = 0;
1463:Drivers/SOES/Src/esc_coe.c ****                   }
1464:Drivers/SOES/Src/esc_coe.c ****                }
1465:Drivers/SOES/Src/esc_coe.c ****             }
1466:Drivers/SOES/Src/esc_coe.c ****          }
1467:Drivers/SOES/Src/esc_coe.c ****       }
1468:Drivers/SOES/Src/esc_coe.c ****    }
1469:Drivers/SOES/Src/esc_coe.c **** }
1470:Drivers/SOES/Src/esc_coe.c **** 
1471:Drivers/SOES/Src/esc_coe.c **** /**
1472:Drivers/SOES/Src/esc_coe.c ****  * Get value from bitmap
1473:Drivers/SOES/Src/esc_coe.c ****  *
1474:Drivers/SOES/Src/esc_coe.c ****  * This function gets a value from a bitmap.
1475:Drivers/SOES/Src/esc_coe.c ****  *
1476:Drivers/SOES/Src/esc_coe.c ****  * @param[in] bitmap = bitmap containing value
1477:Drivers/SOES/Src/esc_coe.c ****  * @param[in] offset = start offset
1478:Drivers/SOES/Src/esc_coe.c ****  * @param[in] length = number of bits to get
1479:Drivers/SOES/Src/esc_coe.c ****  * @return bitslice value
1480:Drivers/SOES/Src/esc_coe.c ****  */
1481:Drivers/SOES/Src/esc_coe.c **** static uint64_t COE_bitsliceGet (uint64_t * bitmap, int offset, int length)
1482:Drivers/SOES/Src/esc_coe.c **** {
  82              		.loc 1 1482 1 is_stmt 1 view -0
  83              		.cfi_startproc
  84              		@ args = 0, pretend = 0, frame = 0
  85              		@ frame_needed = 0, uses_anonymous_args = 0
  86              		.loc 1 1482 1 is_stmt 0 view .LVU18
  87 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
  88              		.cfi_def_cfa_offset 24
  89              		.cfi_offset 4, -24
  90              		.cfi_offset 5, -20
  91              		.cfi_offset 6, -16
  92              		.cfi_offset 7, -12
  93              		.cfi_offset 8, -8
  94              		.cfi_offset 14, -4
1483:Drivers/SOES/Src/esc_coe.c ****    const int word_offset = offset / 64;
  95              		.loc 1 1483 4 is_stmt 1 view .LVU19
  96              		.loc 1 1483 14 is_stmt 0 view .LVU20
  97 0004 0C46     		mov	r4, r1
  98 0006 0029     		cmp	r1, #0
  99 0008 4DDB     		blt	.L10
 100              	.L4:
 101              		.loc 1 1483 14 view .LVU21
 102 000a A411     		asrs	r4, r4, #6
 103              	.LVL5:
1484:Drivers/SOES/Src/esc_coe.c ****    const int bit_offset = offset % 64;
 104              		.loc 1 1484 4 is_stmt 1 view .LVU22
 105              		.loc 1 1484 14 is_stmt 0 view .LVU23
 106 000c 4D42     		rsbs	r5, r1, #0
 107 000e 01F03F03 		and	r3, r1, #63
 108 0012 05F03F01 		and	r1, r5, #63
 109              	.LVL6:
 110              		.loc 1 1484 14 view .LVU24
 111 0016 58BF     		it	pl
 112 0018 4B42     		rsbpl	r3, r1, #0
 113              	.LVL7:
1485:Drivers/SOES/Src/esc_coe.c ****    const uint64_t mask = (length == 64) ? UINT64_MAX : (1ULL << length) - 1;
 114              		.loc 1 1485 4 is_stmt 1 view .LVU25
ARM GAS  /tmp/ccpADs8h.s 			page 29


 115              		.loc 1 1485 54 is_stmt 0 view .LVU26
 116 001a 402A     		cmp	r2, #64
 117 001c 46D0     		beq	.L7
 118              		.loc 1 1485 62 discriminator 1 view .LVU27
 119 001e 4FF0010E 		mov	lr, #1
 120 0022 A2F12001 		sub	r1, r2, #32
 121 0026 C2F12005 		rsb	r5, r2, #32
 122 002a 0EFA01F1 		lsl	r1, lr, r1
 123 002e 2EFA05F5 		lsr	r5, lr, r5
 124 0032 2943     		orrs	r1, r1, r5
 125 0034 0EFA02FE 		lsl	lr, lr, r2
 126              		.loc 1 1485 54 discriminator 1 view .LVU28
 127 0038 1EF1FF3E 		adds	lr, lr, #-1
 128 003c 41F1FF38 		adc	r8, r1, #-1
 129              	.L5:
 130              	.LVL8:
1486:Drivers/SOES/Src/esc_coe.c ****    uint64_t w0;
 131              		.loc 1 1486 4 is_stmt 1 discriminator 4 view .LVU29
1487:Drivers/SOES/Src/esc_coe.c ****    uint64_t w1 = 0;
 132              		.loc 1 1487 4 discriminator 4 view .LVU30
1488:Drivers/SOES/Src/esc_coe.c **** 
1489:Drivers/SOES/Src/esc_coe.c ****    /* Get the least significant word */
1490:Drivers/SOES/Src/esc_coe.c ****    w0 = bitmap[word_offset];
 133              		.loc 1 1490 4 discriminator 4 view .LVU31
 134              		.loc 1 1490 15 is_stmt 0 discriminator 4 view .LVU32
 135 0040 00EBC405 		add	r5, r0, r4, lsl #3
 136              		.loc 1 1490 7 discriminator 4 view .LVU33
 137 0044 6D68     		ldr	r5, [r5, #4]
 138              	.LVL9:
1491:Drivers/SOES/Src/esc_coe.c ****    w0 = w0 >> bit_offset;
 139              		.loc 1 1491 4 is_stmt 1 discriminator 4 view .LVU34
 140              		.loc 1 1491 7 is_stmt 0 discriminator 4 view .LVU35
 141 0046 C3F12007 		rsb	r7, r3, #32
 142 004a A3F12006 		sub	r6, r3, #32
 143 004e 50F83410 		ldr	r1, [r0, r4, lsl #3]
 144 0052 21FA03FC 		lsr	ip, r1, r3
 145 0056 05FA07F7 		lsl	r7, r5, r7
 146 005a 4CEA070C 		orr	ip, ip, r7
 147 005e 25FA06F6 		lsr	r6, r5, r6
 148 0062 4CEA060C 		orr	ip, ip, r6
 149 0066 DD40     		lsrs	r5, r5, r3
 150              	.LVL10:
1492:Drivers/SOES/Src/esc_coe.c **** 
1493:Drivers/SOES/Src/esc_coe.c ****    /* Get the most significant word, if required */
1494:Drivers/SOES/Src/esc_coe.c ****    if (length + bit_offset > 64)
 151              		.loc 1 1494 4 is_stmt 1 discriminator 4 view .LVU36
 152              		.loc 1 1494 15 is_stmt 0 discriminator 4 view .LVU37
 153 0068 1A44     		add	r2, r2, r3
 154              	.LVL11:
 155              		.loc 1 1494 7 discriminator 4 view .LVU38
 156 006a 402A     		cmp	r2, #64
 157 006c 22DD     		ble	.L8
1495:Drivers/SOES/Src/esc_coe.c ****    {
1496:Drivers/SOES/Src/esc_coe.c ****       w1 = bitmap[word_offset + 1];
 158              		.loc 1 1496 7 is_stmt 1 view .LVU39
 159              		.loc 1 1496 18 is_stmt 0 view .LVU40
 160 006e 0134     		adds	r4, r4, #1
ARM GAS  /tmp/ccpADs8h.s 			page 30


 161              	.LVL12:
 162              		.loc 1 1496 18 view .LVU41
 163 0070 00EBC402 		add	r2, r0, r4, lsl #3
 164              		.loc 1 1496 10 view .LVU42
 165 0074 50F83400 		ldr	r0, [r0, r4, lsl #3]
 166              	.LVL13:
 167              		.loc 1 1496 10 view .LVU43
 168 0078 5268     		ldr	r2, [r2, #4]
 169              	.LVL14:
1497:Drivers/SOES/Src/esc_coe.c ****       w1 = w1 << (64 - bit_offset);
 170              		.loc 1 1497 7 is_stmt 1 view .LVU44
 171              		.loc 1 1497 22 is_stmt 0 view .LVU45
 172 007a C3F14006 		rsb	r6, r3, #64
 173              		.loc 1 1497 10 view .LVU46
 174 007e C3F12004 		rsb	r4, r3, #32
 175              	.LVL15:
 176              		.loc 1 1497 10 view .LVU47
 177 0082 203B     		subs	r3, r3, #32
 178              	.LVL16:
 179              		.loc 1 1497 10 view .LVU48
 180 0084 B240     		lsls	r2, r2, r6
 181              	.LVL17:
 182              		.loc 1 1497 10 view .LVU49
 183 0086 00FA04F4 		lsl	r4, r0, r4
 184 008a 2243     		orrs	r2, r2, r4
 185 008c 20FA03F3 		lsr	r3, r0, r3
 186              	.LVL18:
 187              		.loc 1 1497 10 view .LVU50
 188 0090 1A43     		orrs	r2, r2, r3
 189 0092 B040     		lsls	r0, r0, r6
 190              	.LVL19:
 191              	.L6:
1498:Drivers/SOES/Src/esc_coe.c ****    }
1499:Drivers/SOES/Src/esc_coe.c **** 
1500:Drivers/SOES/Src/esc_coe.c ****    w0 = (w1 | w0);
 192              		.loc 1 1500 4 is_stmt 1 view .LVU51
 193              		.loc 1 1500 7 is_stmt 0 view .LVU52
 194 0094 40EA0C00 		orr	r0, r0, ip
 195              	.LVL20:
 196              		.loc 1 1500 7 view .LVU53
 197 0098 2A43     		orrs	r2, r2, r5
 198              	.LVL21:
1501:Drivers/SOES/Src/esc_coe.c ****    return (w0 & mask);
 199              		.loc 1 1501 4 is_stmt 1 view .LVU54
1502:Drivers/SOES/Src/esc_coe.c **** }
 200              		.loc 1 1502 1 is_stmt 0 view .LVU55
 201 009a 0EEA0000 		and	r0, lr, r0
 202              	.LVL22:
 203              		.loc 1 1502 1 view .LVU56
 204 009e 08EA0201 		and	r1, r8, r2
 205 00a2 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 206              	.LVL23:
 207              	.L10:
1483:Drivers/SOES/Src/esc_coe.c ****    const int bit_offset = offset % 64;
 208              		.loc 1 1483 14 view .LVU57
 209 00a6 01F13F04 		add	r4, r1, #63
 210 00aa AEE7     		b	.L4
ARM GAS  /tmp/ccpADs8h.s 			page 31


 211              	.LVL24:
 212              	.L7:
1485:Drivers/SOES/Src/esc_coe.c ****    uint64_t w0;
 213              		.loc 1 1485 54 view .LVU58
 214 00ac 4FF0FF3E 		mov	lr, #-1
 215 00b0 F046     		mov	r8, lr
 216 00b2 C5E7     		b	.L5
 217              	.LVL25:
 218              	.L8:
1487:Drivers/SOES/Src/esc_coe.c **** 
 219              		.loc 1 1487 13 view .LVU59
 220 00b4 0020     		movs	r0, #0
 221              	.LVL26:
1487:Drivers/SOES/Src/esc_coe.c **** 
 222              		.loc 1 1487 13 view .LVU60
 223 00b6 0246     		mov	r2, r0
 224 00b8 ECE7     		b	.L6
 225              		.cfi_endproc
 226              	.LFE21:
 228              		.section	.text.COE_bitsliceSet,"ax",%progbits
 229              		.align	1
 230              		.syntax unified
 231              		.thumb
 232              		.thumb_func
 234              	COE_bitsliceSet:
 235              	.LVL27:
 236              	.LFB22:
1503:Drivers/SOES/Src/esc_coe.c **** 
1504:Drivers/SOES/Src/esc_coe.c **** /**
1505:Drivers/SOES/Src/esc_coe.c ****  * Set value in bitmap
1506:Drivers/SOES/Src/esc_coe.c ****  *
1507:Drivers/SOES/Src/esc_coe.c ****  * This function sets a value in a bitmap.
1508:Drivers/SOES/Src/esc_coe.c ****  *
1509:Drivers/SOES/Src/esc_coe.c ****  * @param[in] bitmap = bitmap to contain value
1510:Drivers/SOES/Src/esc_coe.c ****  * @param[in] offset = start offset
1511:Drivers/SOES/Src/esc_coe.c ****  * @param[in] length = number of bits to set
1512:Drivers/SOES/Src/esc_coe.c ****  * @param[in] value  = value to set
1513:Drivers/SOES/Src/esc_coe.c ****  */
1514:Drivers/SOES/Src/esc_coe.c **** static void COE_bitsliceSet (uint64_t * bitmap, int offset, int length,
1515:Drivers/SOES/Src/esc_coe.c ****                              uint64_t value)
1516:Drivers/SOES/Src/esc_coe.c **** {
 237              		.loc 1 1516 1 is_stmt 1 view -0
 238              		.cfi_startproc
 239              		@ args = 8, pretend = 0, frame = 8
 240              		@ frame_needed = 0, uses_anonymous_args = 0
 241              		.loc 1 1516 1 is_stmt 0 view .LVU62
 242 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 243              		.cfi_def_cfa_offset 36
 244              		.cfi_offset 4, -36
 245              		.cfi_offset 5, -32
 246              		.cfi_offset 6, -28
 247              		.cfi_offset 7, -24
 248              		.cfi_offset 8, -20
 249              		.cfi_offset 9, -16
 250              		.cfi_offset 10, -12
 251              		.cfi_offset 11, -8
 252              		.cfi_offset 14, -4
ARM GAS  /tmp/ccpADs8h.s 			page 32


 253 0004 83B0     		sub	sp, sp, #12
 254              		.cfi_def_cfa_offset 48
 255 0006 0C9C     		ldr	r4, [sp, #48]
 256 0008 0D9F     		ldr	r7, [sp, #52]
1517:Drivers/SOES/Src/esc_coe.c ****    const int word_offset = offset / 64;
 257              		.loc 1 1517 4 is_stmt 1 view .LVU63
 258              		.loc 1 1517 14 is_stmt 0 view .LVU64
 259 000a 8E46     		mov	lr, r1
 260 000c 0029     		cmp	r1, #0
 261 000e C0F28380 		blt	.L17
 262              	.L12:
 263              		.loc 1 1517 14 view .LVU65
 264 0012 4FEAAE1E 		asr	lr, lr, #6
 265              	.LVL28:
1518:Drivers/SOES/Src/esc_coe.c ****    const int bit_offset = offset % 64;
 266              		.loc 1 1518 4 is_stmt 1 view .LVU66
 267              		.loc 1 1518 14 is_stmt 0 view .LVU67
 268 0016 4B42     		rsbs	r3, r1, #0
 269 0018 01F03F01 		and	r1, r1, #63
 270              	.LVL29:
 271              		.loc 1 1518 14 view .LVU68
 272 001c 03F03F03 		and	r3, r3, #63
 273 0020 58BF     		it	pl
 274 0022 5942     		rsbpl	r1, r3, #0
 275              	.LVL30:
1519:Drivers/SOES/Src/esc_coe.c ****    const uint64_t mask = (length == 64) ? UINT64_MAX : (1ULL << length) - 1;
 276              		.loc 1 1519 4 is_stmt 1 view .LVU69
 277              		.loc 1 1519 54 is_stmt 0 view .LVU70
 278 0024 402A     		cmp	r2, #64
 279 0026 7AD0     		beq	.L15
 280              		.loc 1 1519 62 discriminator 1 view .LVU71
 281 0028 0123     		movs	r3, #1
 282 002a A2F12005 		sub	r5, r2, #32
 283 002e C2F12006 		rsb	r6, r2, #32
 284 0032 03FA05F5 		lsl	r5, r3, r5
 285 0036 23FA06F6 		lsr	r6, r3, r6
 286 003a 3543     		orrs	r5, r5, r6
 287 003c 9340     		lsls	r3, r3, r2
 288              		.loc 1 1519 54 discriminator 1 view .LVU72
 289 003e 013B     		subs	r3, r3, #1
 290 0040 45F1FF35 		adc	r5, r5, #-1
 291              	.L13:
 292              	.LVL31:
1520:Drivers/SOES/Src/esc_coe.c ****    const uint64_t mask0 = mask << bit_offset;
 293              		.loc 1 1520 4 is_stmt 1 discriminator 4 view .LVU73
 294              		.loc 1 1520 19 is_stmt 0 discriminator 4 view .LVU74
 295 0044 A1F1200C 		sub	ip, r1, #32
 296 0048 C1F12006 		rsb	r6, r1, #32
 297 004c 05FA01F8 		lsl	r8, r5, r1
 298 0050 03FA0CFC 		lsl	ip, r3, ip
 299 0054 48EA0C08 		orr	r8, r8, ip
 300 0058 23FA06F6 		lsr	r6, r3, r6
 301 005c 48EA0608 		orr	r8, r8, r6
 302 0060 03FA01F6 		lsl	r6, r3, r1
 303 0064 0196     		str	r6, [sp, #4]
1521:Drivers/SOES/Src/esc_coe.c ****    uint64_t v0 = value << bit_offset;
 304              		.loc 1 1521 4 is_stmt 1 discriminator 4 view .LVU75
ARM GAS  /tmp/ccpADs8h.s 			page 33


 305              		.loc 1 1521 13 is_stmt 0 discriminator 4 view .LVU76
 306 0066 A1F1200A 		sub	r10, r1, #32
 307 006a C1F12009 		rsb	r9, r1, #32
 308 006e 07FA01FC 		lsl	ip, r7, r1
 309 0072 04FA0AFA 		lsl	r10, r4, r10
 310 0076 4CEA0A0C 		orr	ip, ip, r10
 311 007a 24FA09F9 		lsr	r9, r4, r9
 312 007e 4CEA090C 		orr	ip, ip, r9
 313 0082 04FA01F9 		lsl	r9, r4, r1
1522:Drivers/SOES/Src/esc_coe.c ****    uint64_t w0 = bitmap[word_offset];
 314              		.loc 1 1522 4 is_stmt 1 discriminator 4 view .LVU77
 315              		.loc 1 1522 24 is_stmt 0 discriminator 4 view .LVU78
 316 0086 00EBCE0A 		add	r10, r0, lr, lsl #3
 317              		.loc 1 1522 13 discriminator 4 view .LVU79
 318 008a 50F83EB0 		ldr	fp, [r0, lr, lsl #3]
 319              	.LVL32:
1523:Drivers/SOES/Src/esc_coe.c **** 
1524:Drivers/SOES/Src/esc_coe.c ****    /* Set the least significant word */
1525:Drivers/SOES/Src/esc_coe.c ****    w0 = (w0 & ~mask0) | (v0 & mask0);
 320              		.loc 1 1525 4 is_stmt 1 discriminator 4 view .LVU80
 321 008e 89EA0B09 		eor	r9, r9, fp
 322 0092 DAF80460 		ldr	r6, [r10, #4]
 323 0096 8CEA060C 		eor	ip, ip, r6
 324 009a 019E     		ldr	r6, [sp, #4]
 325 009c 09EA0609 		and	r9, r9, r6
 326 00a0 0CEA080C 		and	ip, ip, r8
 327              		.loc 1 1525 7 is_stmt 0 discriminator 4 view .LVU81
 328 00a4 89EA0B09 		eor	r9, r9, fp
 329 00a8 DAF80460 		ldr	r6, [r10, #4]
 330 00ac 8CEA0606 		eor	r6, ip, r6
 331              	.LVL33:
1526:Drivers/SOES/Src/esc_coe.c ****    bitmap[word_offset] = w0;
 332              		.loc 1 1526 4 is_stmt 1 discriminator 4 view .LVU82
 333              		.loc 1 1526 24 is_stmt 0 discriminator 4 view .LVU83
 334 00b0 40F83E90 		str	r9, [r0, lr, lsl #3]
 335 00b4 CAF80460 		str	r6, [r10, #4]
1527:Drivers/SOES/Src/esc_coe.c **** 
1528:Drivers/SOES/Src/esc_coe.c ****    /* Set the most significant word, if required */
1529:Drivers/SOES/Src/esc_coe.c ****    if (length + bit_offset > 64)
 336              		.loc 1 1529 4 is_stmt 1 discriminator 4 view .LVU84
 337              		.loc 1 1529 15 is_stmt 0 discriminator 4 view .LVU85
 338 00b8 0A44     		add	r2, r2, r1
 339              	.LVL34:
 340              		.loc 1 1529 7 discriminator 4 view .LVU86
 341 00ba 402A     		cmp	r2, #64
 342 00bc 29DD     		ble	.L11
 343              	.LBB2:
1530:Drivers/SOES/Src/esc_coe.c ****    {
1531:Drivers/SOES/Src/esc_coe.c ****       const uint64_t mask1 = mask >> (64 - bit_offset);
 344              		.loc 1 1531 7 is_stmt 1 view .LVU87
 345              		.loc 1 1531 42 is_stmt 0 view .LVU88
 346 00be C1F14002 		rsb	r2, r1, #64
 347              		.loc 1 1531 22 view .LVU89
 348 00c2 A1F12006 		sub	r6, r1, #32
 349              	.LVL35:
 350              		.loc 1 1531 22 view .LVU90
 351 00c6 C1F12001 		rsb	r1, r1, #32
ARM GAS  /tmp/ccpADs8h.s 			page 34


 352              	.LVL36:
 353              		.loc 1 1531 22 view .LVU91
 354 00ca D340     		lsrs	r3, r3, r2
 355              	.LVL37:
 356              		.loc 1 1531 22 view .LVU92
 357 00cc 05FA06F6 		lsl	r6, r5, r6
 358              	.LVL38:
 359              		.loc 1 1531 22 view .LVU93
 360 00d0 3343     		orrs	r3, r3, r6
 361 00d2 25FA01F1 		lsr	r1, r5, r1
 362 00d6 0B43     		orrs	r3, r3, r1
 363 00d8 D540     		lsrs	r5, r5, r2
 364              	.LVL39:
1532:Drivers/SOES/Src/esc_coe.c ****       uint64_t v1 = value >> (64 - bit_offset);
 365              		.loc 1 1532 7 is_stmt 1 view .LVU94
 366              		.loc 1 1532 16 is_stmt 0 view .LVU95
 367 00da C2F12006 		rsb	r6, r2, #32
 368 00de A2F12001 		sub	r1, r2, #32
 369 00e2 D440     		lsrs	r4, r4, r2
 370 00e4 07FA06F6 		lsl	r6, r7, r6
 371 00e8 3443     		orrs	r4, r4, r6
 372 00ea 27FA01F1 		lsr	r1, r7, r1
 373 00ee 0C43     		orrs	r4, r4, r1
 374 00f0 D740     		lsrs	r7, r7, r2
 375              	.LVL40:
1533:Drivers/SOES/Src/esc_coe.c ****       uint64_t w1 = bitmap[word_offset + 1];
 376              		.loc 1 1533 7 is_stmt 1 view .LVU96
 377              		.loc 1 1533 27 is_stmt 0 view .LVU97
 378 00f2 0EF1010E 		add	lr, lr, #1
 379              	.LVL41:
 380              		.loc 1 1533 27 view .LVU98
 381 00f6 00EBCE06 		add	r6, r0, lr, lsl #3
 382              		.loc 1 1533 16 view .LVU99
 383 00fa 50F83E10 		ldr	r1, [r0, lr, lsl #3]
 384 00fe 7268     		ldr	r2, [r6, #4]
 385              	.LVL42:
1534:Drivers/SOES/Src/esc_coe.c **** 
1535:Drivers/SOES/Src/esc_coe.c ****       w1 = (w1 & ~mask1) | (v1 & mask1);
 386              		.loc 1 1535 7 is_stmt 1 view .LVU100
 387 0100 4C40     		eors	r4, r4, r1
 388              	.LVL43:
 389              		.loc 1 1535 7 is_stmt 0 view .LVU101
 390 0102 5740     		eors	r7, r7, r2
 391              	.LVL44:
 392              		.loc 1 1535 7 view .LVU102
 393 0104 1C40     		ands	r4, r4, r3
 394 0106 3D40     		ands	r5, r5, r7
 395              	.LVL45:
 396              		.loc 1 1535 10 view .LVU103
 397 0108 4C40     		eors	r4, r4, r1
 398 010a 5540     		eors	r5, r5, r2
 399              	.LVL46:
1536:Drivers/SOES/Src/esc_coe.c ****       bitmap[word_offset + 1] = w1;
 400              		.loc 1 1536 7 is_stmt 1 view .LVU104
 401              		.loc 1 1536 31 is_stmt 0 view .LVU105
 402 010c 40F83E40 		str	r4, [r0, lr, lsl #3]
 403              	.LVL47:
ARM GAS  /tmp/ccpADs8h.s 			page 35


 404              		.loc 1 1536 31 view .LVU106
 405 0110 7560     		str	r5, [r6, #4]
 406              	.LVL48:
 407              	.L11:
 408              		.loc 1 1536 31 view .LVU107
 409              	.LBE2:
1537:Drivers/SOES/Src/esc_coe.c ****    }
1538:Drivers/SOES/Src/esc_coe.c **** }
 410              		.loc 1 1538 1 view .LVU108
 411 0112 03B0     		add	sp, sp, #12
 412              		.cfi_remember_state
 413              		.cfi_def_cfa_offset 36
 414              		@ sp needed
 415 0114 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 416              	.LVL49:
 417              	.L17:
 418              		.cfi_restore_state
1517:Drivers/SOES/Src/esc_coe.c ****    const int bit_offset = offset % 64;
 419              		.loc 1 1517 14 view .LVU109
 420 0118 01F13F0E 		add	lr, r1, #63
 421 011c 79E7     		b	.L12
 422              	.LVL50:
 423              	.L15:
1519:Drivers/SOES/Src/esc_coe.c ****    const uint64_t mask0 = mask << bit_offset;
 424              		.loc 1 1519 54 view .LVU110
 425 011e 4FF0FF33 		mov	r3, #-1
 426 0122 1D46     		mov	r5, r3
 427 0124 8EE7     		b	.L13
 428              		.cfi_endproc
 429              	.LFE22:
 431              		.section	.text.COE_setValue,"ax",%progbits
 432              		.align	1
 433              		.syntax unified
 434              		.thumb
 435              		.thumb_func
 437              	COE_setValue:
 438              	.LVL51:
 439              	.LFB24:
1539:Drivers/SOES/Src/esc_coe.c **** 
1540:Drivers/SOES/Src/esc_coe.c **** /**
1541:Drivers/SOES/Src/esc_coe.c ****  * Get object value
1542:Drivers/SOES/Src/esc_coe.c ****  *
1543:Drivers/SOES/Src/esc_coe.c ****  * This function atomically gets an object value.
1544:Drivers/SOES/Src/esc_coe.c ****  *
1545:Drivers/SOES/Src/esc_coe.c ****  * @param[in] obj   = object description
1546:Drivers/SOES/Src/esc_coe.c ****  * @return object value
1547:Drivers/SOES/Src/esc_coe.c ****  */
1548:Drivers/SOES/Src/esc_coe.c **** static uint64_t COE_getValue (const _objd * obj)
1549:Drivers/SOES/Src/esc_coe.c **** {
1550:Drivers/SOES/Src/esc_coe.c ****    uint64_t value = 0;
1551:Drivers/SOES/Src/esc_coe.c **** 
1552:Drivers/SOES/Src/esc_coe.c ****    /* TODO: const data */
1553:Drivers/SOES/Src/esc_coe.c **** 
1554:Drivers/SOES/Src/esc_coe.c ****    switch(obj->datatype)
1555:Drivers/SOES/Src/esc_coe.c ****    {
1556:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT1:
1557:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT2:
ARM GAS  /tmp/ccpADs8h.s 			page 36


1558:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT3:
1559:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT4:
1560:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT5:
1561:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT6:
1562:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT7:
1563:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT8:
1564:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BOOLEAN:
1565:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_UNSIGNED8:
1566:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_INTEGER8:
1567:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BITARR8:
1568:Drivers/SOES/Src/esc_coe.c ****       value = *(uint8_t *)obj->data;
1569:Drivers/SOES/Src/esc_coe.c ****       break;
1570:Drivers/SOES/Src/esc_coe.c **** 
1571:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_UNSIGNED16:
1572:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_INTEGER16:
1573:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BITARR16:
1574:Drivers/SOES/Src/esc_coe.c ****       value = *(uint16_t *)obj->data;
1575:Drivers/SOES/Src/esc_coe.c ****       break;
1576:Drivers/SOES/Src/esc_coe.c **** 
1577:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_REAL32:
1578:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_UNSIGNED32:
1579:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_INTEGER32:
1580:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BITARR32:
1581:Drivers/SOES/Src/esc_coe.c ****       value = *(uint32_t *)obj->data;
1582:Drivers/SOES/Src/esc_coe.c ****       break;
1583:Drivers/SOES/Src/esc_coe.c **** 
1584:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_REAL64:
1585:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_UNSIGNED64:
1586:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_INTEGER64:
1587:Drivers/SOES/Src/esc_coe.c ****       /* FIXME: must be atomic */
1588:Drivers/SOES/Src/esc_coe.c ****       value = *(uint64_t *)obj->data;
1589:Drivers/SOES/Src/esc_coe.c ****       break;
1590:Drivers/SOES/Src/esc_coe.c **** 
1591:Drivers/SOES/Src/esc_coe.c ****    default:
1592:Drivers/SOES/Src/esc_coe.c ****       CC_ASSERT (0);
1593:Drivers/SOES/Src/esc_coe.c ****    }
1594:Drivers/SOES/Src/esc_coe.c **** 
1595:Drivers/SOES/Src/esc_coe.c ****    return value;
1596:Drivers/SOES/Src/esc_coe.c **** }
1597:Drivers/SOES/Src/esc_coe.c **** 
1598:Drivers/SOES/Src/esc_coe.c **** /**
1599:Drivers/SOES/Src/esc_coe.c ****  * Set object value
1600:Drivers/SOES/Src/esc_coe.c ****  *
1601:Drivers/SOES/Src/esc_coe.c ****  * This function atomically sets an object value.
1602:Drivers/SOES/Src/esc_coe.c ****  *
1603:Drivers/SOES/Src/esc_coe.c ****  * @param[in] obj   = object description
1604:Drivers/SOES/Src/esc_coe.c ****  * @param[in] value = new value
1605:Drivers/SOES/Src/esc_coe.c ****  */
1606:Drivers/SOES/Src/esc_coe.c **** static void COE_setValue (const _objd * obj, uint64_t value)
1607:Drivers/SOES/Src/esc_coe.c **** {
 440              		.loc 1 1607 1 is_stmt 1 view -0
 441              		.cfi_startproc
 442              		@ args = 0, pretend = 0, frame = 0
 443              		@ frame_needed = 0, uses_anonymous_args = 0
 444              		@ link register save eliminated.
1608:Drivers/SOES/Src/esc_coe.c ****    switch(obj->datatype)
 445              		.loc 1 1608 4 view .LVU112
ARM GAS  /tmp/ccpADs8h.s 			page 37


 446              		.loc 1 1608 14 is_stmt 0 view .LVU113
 447 0000 4188     		ldrh	r1, [r0, #2]	@ unaligned
 448              		.loc 1 1608 4 view .LVU114
 449 0002 0139     		subs	r1, r1, #1
 450 0004 3629     		cmp	r1, #54
 451 0006 29D8     		bhi	.L18
 452 0008 DFE801F0 		tbb	[pc, r1]
 453              	.L21:
 454 000c 1C       		.byte	(.L20-.L21)/2
 455 000d 1C       		.byte	(.L20-.L21)/2
 456 000e 1F       		.byte	(.L23-.L21)/2
 457 000f 22       		.byte	(.L22-.L21)/2
 458 0010 1C       		.byte	(.L20-.L21)/2
 459 0011 1F       		.byte	(.L23-.L21)/2
 460 0012 22       		.byte	(.L22-.L21)/2
 461 0013 22       		.byte	(.L22-.L21)/2
 462 0014 28       		.byte	(.L18-.L21)/2
 463 0015 28       		.byte	(.L18-.L21)/2
 464 0016 28       		.byte	(.L18-.L21)/2
 465 0017 28       		.byte	(.L18-.L21)/2
 466 0018 28       		.byte	(.L18-.L21)/2
 467 0019 28       		.byte	(.L18-.L21)/2
 468 001a 28       		.byte	(.L18-.L21)/2
 469 001b 28       		.byte	(.L18-.L21)/2
 470 001c 25       		.byte	(.L24-.L21)/2
 471 001d 28       		.byte	(.L18-.L21)/2
 472 001e 28       		.byte	(.L18-.L21)/2
 473 001f 28       		.byte	(.L18-.L21)/2
 474 0020 25       		.byte	(.L24-.L21)/2
 475 0021 28       		.byte	(.L18-.L21)/2
 476 0022 28       		.byte	(.L18-.L21)/2
 477 0023 28       		.byte	(.L18-.L21)/2
 478 0024 28       		.byte	(.L18-.L21)/2
 479 0025 28       		.byte	(.L18-.L21)/2
 480 0026 25       		.byte	(.L24-.L21)/2
 481 0027 28       		.byte	(.L18-.L21)/2
 482 0028 28       		.byte	(.L18-.L21)/2
 483 0029 28       		.byte	(.L18-.L21)/2
 484 002a 28       		.byte	(.L18-.L21)/2
 485 002b 28       		.byte	(.L18-.L21)/2
 486 002c 28       		.byte	(.L18-.L21)/2
 487 002d 28       		.byte	(.L18-.L21)/2
 488 002e 28       		.byte	(.L18-.L21)/2
 489 002f 28       		.byte	(.L18-.L21)/2
 490 0030 28       		.byte	(.L18-.L21)/2
 491 0031 28       		.byte	(.L18-.L21)/2
 492 0032 28       		.byte	(.L18-.L21)/2
 493 0033 28       		.byte	(.L18-.L21)/2
 494 0034 28       		.byte	(.L18-.L21)/2
 495 0035 28       		.byte	(.L18-.L21)/2
 496 0036 28       		.byte	(.L18-.L21)/2
 497 0037 28       		.byte	(.L18-.L21)/2
 498 0038 1C       		.byte	(.L20-.L21)/2
 499 0039 1F       		.byte	(.L23-.L21)/2
 500 003a 22       		.byte	(.L22-.L21)/2
 501 003b 1C       		.byte	(.L20-.L21)/2
 502 003c 1C       		.byte	(.L20-.L21)/2
ARM GAS  /tmp/ccpADs8h.s 			page 38


 503 003d 1C       		.byte	(.L20-.L21)/2
 504 003e 1C       		.byte	(.L20-.L21)/2
 505 003f 1C       		.byte	(.L20-.L21)/2
 506 0040 1C       		.byte	(.L20-.L21)/2
 507 0041 1C       		.byte	(.L20-.L21)/2
 508 0042 1C       		.byte	(.L20-.L21)/2
 509 0043 00       		.p2align 1
 510              	.L20:
1609:Drivers/SOES/Src/esc_coe.c ****    {
1610:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT1:
1611:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT2:
1612:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT3:
1613:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT4:
1614:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT5:
1615:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT6:
1616:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT7:
1617:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BIT8:
1618:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BOOLEAN:
1619:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_UNSIGNED8:
1620:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_INTEGER8:
1621:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BITARR8:
1622:Drivers/SOES/Src/esc_coe.c ****       *(uint8_t *)obj->data = value & UINT8_MAX;
 511              		.loc 1 1622 7 is_stmt 1 view .LVU115
 512              		.loc 1 1622 22 is_stmt 0 view .LVU116
 513 0044 0369     		ldr	r3, [r0, #16]	@ unaligned
 514              		.loc 1 1622 29 view .LVU117
 515 0046 1A70     		strb	r2, [r3]
1623:Drivers/SOES/Src/esc_coe.c ****       break;
 516              		.loc 1 1623 7 is_stmt 1 view .LVU118
 517 0048 7047     		bx	lr
 518              	.L23:
1624:Drivers/SOES/Src/esc_coe.c **** 
1625:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_UNSIGNED16:
1626:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_INTEGER16:
1627:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BITARR16:
1628:Drivers/SOES/Src/esc_coe.c ****       *(uint16_t *)obj->data = value & UINT16_MAX;
 519              		.loc 1 1628 7 view .LVU119
 520              		.loc 1 1628 23 is_stmt 0 view .LVU120
 521 004a 0369     		ldr	r3, [r0, #16]	@ unaligned
 522              		.loc 1 1628 30 view .LVU121
 523 004c 1A80     		strh	r2, [r3]	@ movhi
1629:Drivers/SOES/Src/esc_coe.c ****       break;
 524              		.loc 1 1629 7 is_stmt 1 view .LVU122
 525 004e 7047     		bx	lr
 526              	.L22:
1630:Drivers/SOES/Src/esc_coe.c **** 
1631:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_REAL32:
1632:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_UNSIGNED32:
1633:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_INTEGER32:
1634:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_BITARR32:
1635:Drivers/SOES/Src/esc_coe.c ****       *(uint32_t *)obj->data = value & UINT32_MAX;
 527              		.loc 1 1635 7 view .LVU123
 528              		.loc 1 1635 23 is_stmt 0 view .LVU124
 529 0050 0369     		ldr	r3, [r0, #16]	@ unaligned
 530              		.loc 1 1635 30 view .LVU125
 531 0052 1A60     		str	r2, [r3]
1636:Drivers/SOES/Src/esc_coe.c ****       break;
ARM GAS  /tmp/ccpADs8h.s 			page 39


 532              		.loc 1 1636 7 is_stmt 1 view .LVU126
 533 0054 7047     		bx	lr
 534              	.L24:
1637:Drivers/SOES/Src/esc_coe.c **** 
1638:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_REAL64:
1639:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_UNSIGNED64:
1640:Drivers/SOES/Src/esc_coe.c ****    case DTYPE_INTEGER64:
1641:Drivers/SOES/Src/esc_coe.c ****       /* FIXME: must be atomic */
1642:Drivers/SOES/Src/esc_coe.c ****       *(uint64_t *)obj->data = value;
 535              		.loc 1 1642 7 view .LVU127
 536              		.loc 1 1642 23 is_stmt 0 view .LVU128
 537 0056 0169     		ldr	r1, [r0, #16]	@ unaligned
 538              		.loc 1 1642 30 view .LVU129
 539 0058 0A60     		str	r2, [r1]
 540 005a 4B60     		str	r3, [r1, #4]
1643:Drivers/SOES/Src/esc_coe.c ****       break;
 541              		.loc 1 1643 7 is_stmt 1 view .LVU130
 542              	.L18:
1644:Drivers/SOES/Src/esc_coe.c **** 
1645:Drivers/SOES/Src/esc_coe.c ****    default:
1646:Drivers/SOES/Src/esc_coe.c ****       DPRINT ("ignored\n");
1647:Drivers/SOES/Src/esc_coe.c ****       break;
1648:Drivers/SOES/Src/esc_coe.c ****    }
1649:Drivers/SOES/Src/esc_coe.c **** }
 543              		.loc 1 1649 1 is_stmt 0 view .LVU131
 544 005c 7047     		bx	lr
 545              		.cfi_endproc
 546              	.LFE24:
 548              		.section	.text.SDO_getodlistcont,"ax",%progbits
 549              		.align	1
 550              		.syntax unified
 551              		.thumb
 552              		.thumb_func
 554              	SDO_getodlistcont:
 555              	.LFB17:
1160:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
 556              		.loc 1 1160 1 is_stmt 1 view -0
 557              		.cfi_startproc
 558              		@ args = 0, pretend = 0, frame = 8
 559              		@ frame_needed = 0, uses_anonymous_args = 0
 560 0000 70B5     		push	{r4, r5, r6, lr}
 561              		.cfi_def_cfa_offset 16
 562              		.cfi_offset 4, -16
 563              		.cfi_offset 5, -12
 564              		.cfi_offset 6, -8
 565              		.cfi_offset 14, -4
 566 0002 82B0     		sub	sp, sp, #8
 567              		.cfi_def_cfa_offset 24
1161:Drivers/SOES/Src/esc_coe.c ****    uint16_t i, n, s;
 568              		.loc 1 1161 4 view .LVU133
1162:Drivers/SOES/Src/esc_coe.c ****    uint16_t *p;
 569              		.loc 1 1162 4 view .LVU134
1163:Drivers/SOES/Src/esc_coe.c ****    _COEobjdesc *coel;
 570              		.loc 1 1163 4 view .LVU135
1164:Drivers/SOES/Src/esc_coe.c **** 
 571              		.loc 1 1164 4 view .LVU136
1166:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
ARM GAS  /tmp/ccpADs8h.s 			page 40


 572              		.loc 1 1166 4 view .LVU137
1166:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
 573              		.loc 1 1166 13 is_stmt 0 view .LVU138
 574 0004 FFF7FEFF 		bl	ESC_claimbuffer
 575              	.LVL52:
1167:Drivers/SOES/Src/esc_coe.c ****    {
 576              		.loc 1 1167 4 is_stmt 1 view .LVU139
1167:Drivers/SOES/Src/esc_coe.c ****    {
 577              		.loc 1 1167 7 is_stmt 0 view .LVU140
 578 0008 0028     		cmp	r0, #0
 579 000a 61D0     		beq	.L25
 580 000c 8646     		mov	lr, r0
 581              	.LBB3:
1169:Drivers/SOES/Src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 582              		.loc 1 1169 7 is_stmt 1 view .LVU141
1169:Drivers/SOES/Src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 583              		.loc 1 1169 44 is_stmt 0 view .LVU142
 584 000e 314A     		ldr	r2, .L32
 585 0010 936E     		ldr	r3, [r2, #104]
1169:Drivers/SOES/Src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 586              		.loc 1 1169 42 view .LVU143
 587 0012 03FB00FC 		mul	ip, r3, r0
1169:Drivers/SOES/Src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 588              		.loc 1 1169 12 view .LVU144
 589 0016 304C     		ldr	r4, .L32+4
 590 0018 0CEB0401 		add	r1, ip, r4
 591              	.LVL53:
1170:Drivers/SOES/Src/esc_coe.c ****       coel->coeheader.numberservice =
 592              		.loc 1 1170 7 is_stmt 1 view .LVU145
1170:Drivers/SOES/Src/esc_coe.c ****       coel->coeheader.numberservice =
 593              		.loc 1 1170 31 is_stmt 0 view .LVU146
 594 001c 4B79     		ldrb	r3, [r1, #5]	@ zero_extendqisi2
 595 001e 0320     		movs	r0, #3
 596              	.LVL54:
1170:Drivers/SOES/Src/esc_coe.c ****       coel->coeheader.numberservice =
 597              		.loc 1 1170 31 view .LVU147
 598 0020 60F30303 		bfi	r3, r0, #0, #4
 599 0024 4B71     		strb	r3, [r1, #5]
1171:Drivers/SOES/Src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 600              		.loc 1 1171 7 is_stmt 1 view .LVU148
1171:Drivers/SOES/Src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 601              		.loc 1 1171 37 is_stmt 0 view .LVU149
 602 0026 0023     		movs	r3, #0
 603 0028 8B71     		strb	r3, [r1, #6]
 604 002a 6FF07F03 		mvn	r3, #127
 605 002e CB71     		strb	r3, [r1, #7]
1173:Drivers/SOES/Src/esc_coe.c ****       s = (ESCvar.frags - ESCvar.fragsleft) * (ODLISTSIZE >> 1);
 606              		.loc 1 1173 7 is_stmt 1 view .LVU150
1173:Drivers/SOES/Src/esc_coe.c ****       s = (ESCvar.frags - ESCvar.fragsleft) * (ODLISTSIZE >> 1);
 607              		.loc 1 1173 31 is_stmt 0 view .LVU151
 608 0030 0B7A     		ldrb	r3, [r1, #8]	@ zero_extendqisi2
 609 0032 0220     		movs	r0, #2
 610 0034 60F30603 		bfi	r3, r0, #0, #7
 611 0038 0B72     		strb	r3, [r1, #8]
1174:Drivers/SOES/Src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
 612              		.loc 1 1174 7 is_stmt 1 view .LVU152
1174:Drivers/SOES/Src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
ARM GAS  /tmp/ccpADs8h.s 			page 41


 613              		.loc 1 1174 18 is_stmt 0 view .LVU153
 614 003a B2F89630 		ldrh	r3, [r2, #150]
1174:Drivers/SOES/Src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
 615              		.loc 1 1174 33 view .LVU154
 616 003e B2F89800 		ldrh	r0, [r2, #152]
1174:Drivers/SOES/Src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
 617              		.loc 1 1174 48 view .LVU155
 618 0042 126F     		ldr	r2, [r2, #112]
 619 0044 5688     		ldrh	r6, [r2, #2]
 620 0046 0E3E     		subs	r6, r6, #14
1174:Drivers/SOES/Src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
 621              		.loc 1 1174 9 view .LVU156
 622 0048 1B1A     		subs	r3, r3, r0
 623 004a C6F34E06 		ubfx	r6, r6, #1, #15
 624 004e 13FB06F3 		smulbb	r3, r3, r6
 625 0052 9EB2     		uxth	r6, r3
 626              	.LVL55:
1175:Drivers/SOES/Src/esc_coe.c ****       {
 627              		.loc 1 1175 7 is_stmt 1 view .LVU157
1175:Drivers/SOES/Src/esc_coe.c ****       {
 628              		.loc 1 1175 10 is_stmt 0 view .LVU158
 629 0054 0128     		cmp	r0, #1
 630 0056 18D9     		bls	.L27
1177:Drivers/SOES/Src/esc_coe.c ****          n = s + (ODLISTSIZE >> 1);
 631              		.loc 1 1177 10 is_stmt 1 view .LVU159
1177:Drivers/SOES/Src/esc_coe.c ****          n = s + (ODLISTSIZE >> 1);
 632              		.loc 1 1177 38 is_stmt 0 view .LVU160
 633 0058 0B7A     		ldrb	r3, [r1, #8]	@ zero_extendqisi2
 634 005a 43F08003 		orr	r3, r3, #128
 635 005e 0B72     		strb	r3, [r1, #8]
1178:Drivers/SOES/Src/esc_coe.c ****       }
 636              		.loc 1 1178 10 is_stmt 1 view .LVU161
1178:Drivers/SOES/Src/esc_coe.c ****       }
 637              		.loc 1 1178 19 is_stmt 0 view .LVU162
 638 0060 5288     		ldrh	r2, [r2, #2]
 639 0062 0E3A     		subs	r2, r2, #14
1178:Drivers/SOES/Src/esc_coe.c ****       }
 640              		.loc 1 1178 30 view .LVU163
 641 0064 C2F34E02 		ubfx	r2, r2, #1, #15
1178:Drivers/SOES/Src/esc_coe.c ****       }
 642              		.loc 1 1178 12 view .LVU164
 643 0068 3244     		add	r2, r2, r6
 644 006a 92B2     		uxth	r2, r2
 645              	.LVL56:
 646              	.L28:
1187:Drivers/SOES/Src/esc_coe.c ****       ESCvar.fragsleft--;
 647              		.loc 1 1187 7 is_stmt 1 view .LVU165
1187:Drivers/SOES/Src/esc_coe.c ****       ESCvar.fragsleft--;
 648              		.loc 1 1187 33 is_stmt 0 view .LVU166
 649 006c 0023     		movs	r3, #0
 650 006e 4B72     		strb	r3, [r1, #9]
1188:Drivers/SOES/Src/esc_coe.c ****       coel->infoheader.fragmentsleft = htoes (ESCvar.fragsleft);
 651              		.loc 1 1188 7 is_stmt 1 view .LVU167
1188:Drivers/SOES/Src/esc_coe.c ****       coel->infoheader.fragmentsleft = htoes (ESCvar.fragsleft);
 652              		.loc 1 1188 23 is_stmt 0 view .LVU168
 653 0070 0138     		subs	r0, r0, #1
 654 0072 80B2     		uxth	r0, r0
ARM GAS  /tmp/ccpADs8h.s 			page 42


 655 0074 174B     		ldr	r3, .L32
 656 0076 A3F89800 		strh	r0, [r3, #152]	@ movhi
1189:Drivers/SOES/Src/esc_coe.c ****       /* pointer 2 bytes back to exclude index */
 657              		.loc 1 1189 7 is_stmt 1 view .LVU169
1189:Drivers/SOES/Src/esc_coe.c ****       /* pointer 2 bytes back to exclude index */
 658              		.loc 1 1189 38 is_stmt 0 view .LVU170
 659 007a 4881     		strh	r0, [r1, #10]	@ unaligned
1191:Drivers/SOES/Src/esc_coe.c ****       p = &size_value;
 660              		.loc 1 1191 7 is_stmt 1 view .LVU171
1191:Drivers/SOES/Src/esc_coe.c ****       p = &size_value;
 661              		.loc 1 1191 33 is_stmt 0 view .LVU172
 662 007c 8B89     		ldrh	r3, [r1, #12]	@ unaligned
1191:Drivers/SOES/Src/esc_coe.c ****       p = &size_value;
 663              		.loc 1 1191 16 view .LVU173
 664 007e ADF80630 		strh	r3, [sp, #6]	@ movhi
1192:Drivers/SOES/Src/esc_coe.c ****       for (i = s; i < n; i++)
 665              		.loc 1 1192 7 is_stmt 1 view .LVU174
 666              	.LVL57:
1193:Drivers/SOES/Src/esc_coe.c ****       {
 667              		.loc 1 1193 7 view .LVU175
1193:Drivers/SOES/Src/esc_coe.c ****       {
 668              		.loc 1 1193 14 is_stmt 0 view .LVU176
 669 0082 3346     		mov	r3, r6
1192:Drivers/SOES/Src/esc_coe.c ****       for (i = s; i < n; i++)
 670              		.loc 1 1192 9 view .LVU177
 671 0084 0DF10601 		add	r1, sp, #6
 672              	.LVL58:
1193:Drivers/SOES/Src/esc_coe.c ****       {
 673              		.loc 1 1193 7 view .LVU178
 674 0088 15E0     		b	.L29
 675              	.LVL59:
 676              	.L27:
1182:Drivers/SOES/Src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
 677              		.loc 1 1182 10 is_stmt 1 view .LVU179
1182:Drivers/SOES/Src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
 678              		.loc 1 1182 38 is_stmt 0 view .LVU180
 679 008a 0B7A     		ldrb	r3, [r1, #8]	@ zero_extendqisi2
 680 008c 6FF3C713 		bfc	r3, #7, #1
 681 0090 0B72     		strb	r3, [r1, #8]
1183:Drivers/SOES/Src/esc_coe.c ****          ESCvar.xoe = 0;
 682              		.loc 1 1183 10 is_stmt 1 view .LVU181
1183:Drivers/SOES/Src/esc_coe.c ****          ESCvar.xoe = 0;
 683              		.loc 1 1183 30 is_stmt 0 view .LVU182
 684 0092 0022     		movs	r2, #0
 685 0094 114B     		ldr	r3, .L32+8
 686 0096 1A70     		strb	r2, [r3]
1184:Drivers/SOES/Src/esc_coe.c ****          n = ESCvar.entries;
 687              		.loc 1 1184 10 is_stmt 1 view .LVU183
1184:Drivers/SOES/Src/esc_coe.c ****          n = ESCvar.entries;
 688              		.loc 1 1184 21 is_stmt 0 view .LVU184
 689 0098 0E4B     		ldr	r3, .L32
 690 009a 83F88A20 		strb	r2, [r3, #138]
1185:Drivers/SOES/Src/esc_coe.c ****       }
 691              		.loc 1 1185 10 is_stmt 1 view .LVU185
1185:Drivers/SOES/Src/esc_coe.c ****       }
 692              		.loc 1 1185 12 is_stmt 0 view .LVU186
 693 009e B3F89420 		ldrh	r2, [r3, #148]
ARM GAS  /tmp/ccpADs8h.s 			page 43


 694              	.LVL60:
1185:Drivers/SOES/Src/esc_coe.c ****       }
 695              		.loc 1 1185 12 view .LVU187
 696 00a2 E3E7     		b	.L28
 697              	.LVL61:
 698              	.L30:
1195:Drivers/SOES/Src/esc_coe.c ****          p++;
 699              		.loc 1 1195 10 is_stmt 1 discriminator 3 view .LVU188
1195:Drivers/SOES/Src/esc_coe.c ****          p++;
 700              		.loc 1 1195 15 is_stmt 0 discriminator 3 view .LVU189
 701 00a4 C3EBC305 		rsb	r5, r3, r3, lsl #3
 702 00a8 0D48     		ldr	r0, .L32+12
 703 00aa 30F81500 		ldrh	r0, [r0, r5, lsl #1]	@ unaligned
1195:Drivers/SOES/Src/esc_coe.c ****          p++;
 704              		.loc 1 1195 13 discriminator 3 view .LVU190
 705 00ae 21F8020B 		strh	r0, [r1], #2	@ movhi
 706              	.LVL62:
1196:Drivers/SOES/Src/esc_coe.c ****       }
 707              		.loc 1 1196 10 is_stmt 1 discriminator 3 view .LVU191
1193:Drivers/SOES/Src/esc_coe.c ****       {
 708              		.loc 1 1193 26 discriminator 3 view .LVU192
1193:Drivers/SOES/Src/esc_coe.c ****       {
 709              		.loc 1 1193 27 is_stmt 0 discriminator 3 view .LVU193
 710 00b2 0133     		adds	r3, r3, #1
 711              	.LVL63:
1193:Drivers/SOES/Src/esc_coe.c ****       {
 712              		.loc 1 1193 27 discriminator 3 view .LVU194
 713 00b4 9BB2     		uxth	r3, r3
 714              	.LVL64:
 715              	.L29:
1193:Drivers/SOES/Src/esc_coe.c ****       {
 716              		.loc 1 1193 19 is_stmt 1 discriminator 1 view .LVU195
1193:Drivers/SOES/Src/esc_coe.c ****       {
 717              		.loc 1 1193 7 is_stmt 0 discriminator 1 view .LVU196
 718 00b6 9342     		cmp	r3, r2
 719 00b8 F4D3     		bcc	.L30
1198:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 720              		.loc 1 1198 7 is_stmt 1 view .LVU197
1198:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 721              		.loc 1 1198 32 is_stmt 0 view .LVU198
 722 00ba 931B     		subs	r3, r2, r6
 723              	.LVL65:
1198:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 724              		.loc 1 1198 32 view .LVU199
 725 00bc 9BB2     		uxth	r3, r3
 726 00be 5B00     		lsls	r3, r3, #1
 727 00c0 9BB2     		uxth	r3, r3
 728 00c2 0633     		adds	r3, r3, #6
1198:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 729              		.loc 1 1198 30 view .LVU200
 730 00c4 24F80C30 		strh	r3, [r4, ip]	@ unaligned
1199:Drivers/SOES/Src/esc_coe.c ****    }
 731              		.loc 1 1199 7 is_stmt 1 view .LVU201
1199:Drivers/SOES/Src/esc_coe.c ****    }
 732              		.loc 1 1199 32 is_stmt 0 view .LVU202
 733 00c8 044B     		ldr	r3, .L32+8
 734 00ca 0322     		movs	r2, #3
ARM GAS  /tmp/ccpADs8h.s 			page 44


 735              	.LVL66:
1199:Drivers/SOES/Src/esc_coe.c ****    }
 736              		.loc 1 1199 32 view .LVU203
 737 00cc 03F80E20 		strb	r2, [r3, lr]
 738              	.LVL67:
 739              	.L25:
1199:Drivers/SOES/Src/esc_coe.c ****    }
 740              		.loc 1 1199 32 view .LVU204
 741              	.LBE3:
1201:Drivers/SOES/Src/esc_coe.c **** 
 742              		.loc 1 1201 1 view .LVU205
 743 00d0 02B0     		add	sp, sp, #8
 744              		.cfi_def_cfa_offset 16
 745              		@ sp needed
 746 00d2 70BD     		pop	{r4, r5, r6, pc}
 747              	.L33:
 748              		.align	2
 749              	.L32:
 750 00d4 00000000 		.word	ESCvar
 751 00d8 00000000 		.word	MBX
 752 00dc 00000000 		.word	MBXcontrol
 753 00e0 00000000 		.word	SDOobjects
 754              		.cfi_endproc
 755              	.LFE17:
 757              		.section	.text.SDO_infoerror,"ax",%progbits
 758              		.align	1
 759              		.syntax unified
 760              		.thumb
 761              		.thumb_func
 763              	SDO_infoerror:
 764              	.LVL68:
 765              	.LFB15:
1035:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
 766              		.loc 1 1035 1 is_stmt 1 view -0
 767              		.cfi_startproc
 768              		@ args = 0, pretend = 0, frame = 0
 769              		@ frame_needed = 0, uses_anonymous_args = 0
1035:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
 770              		.loc 1 1035 1 is_stmt 0 view .LVU207
 771 0000 38B5     		push	{r3, r4, r5, lr}
 772              		.cfi_def_cfa_offset 16
 773              		.cfi_offset 3, -16
 774              		.cfi_offset 4, -12
 775              		.cfi_offset 5, -8
 776              		.cfi_offset 14, -4
 777 0002 0446     		mov	r4, r0
1036:Drivers/SOES/Src/esc_coe.c ****    _COEobjdesc *coeres;
 778              		.loc 1 1036 4 is_stmt 1 view .LVU208
1037:Drivers/SOES/Src/esc_coe.c ****    MBXout = ESC_claimbuffer ();
 779              		.loc 1 1037 4 view .LVU209
1038:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
 780              		.loc 1 1038 4 view .LVU210
1038:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
 781              		.loc 1 1038 13 is_stmt 0 view .LVU211
 782 0004 FFF7FEFF 		bl	ESC_claimbuffer
 783              	.LVL69:
1039:Drivers/SOES/Src/esc_coe.c ****    {
ARM GAS  /tmp/ccpADs8h.s 			page 45


 784              		.loc 1 1039 4 is_stmt 1 view .LVU212
1039:Drivers/SOES/Src/esc_coe.c ****    {
 785              		.loc 1 1039 7 is_stmt 0 view .LVU213
 786 0008 80B3     		cbz	r0, .L34
 787 000a 8446     		mov	ip, r0
1041:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.length = htoes ((uint16_t) COE_HEADERSIZE);
 788              		.loc 1 1041 7 is_stmt 1 view .LVU214
1041:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.length = htoes ((uint16_t) COE_HEADERSIZE);
 789              		.loc 1 1041 46 is_stmt 0 view .LVU215
 790 000c 1848     		ldr	r0, .L37
 791              	.LVL70:
1041:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.length = htoes ((uint16_t) COE_HEADERSIZE);
 792              		.loc 1 1041 46 view .LVU216
 793 000e 816E     		ldr	r1, [r0, #104]
1041:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.length = htoes ((uint16_t) COE_HEADERSIZE);
 794              		.loc 1 1041 44 view .LVU217
 795 0010 01FB0CF1 		mul	r1, r1, ip
1041:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.length = htoes ((uint16_t) COE_HEADERSIZE);
 796              		.loc 1 1041 14 view .LVU218
 797 0014 174D     		ldr	r5, .L37+4
 798 0016 4B19     		adds	r3, r1, r5
 799              	.LVL71:
1042:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.mbxtype = MBXCOE;
 800              		.loc 1 1042 7 is_stmt 1 view .LVU219
1042:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.mbxtype = MBXCOE;
 801              		.loc 1 1042 32 is_stmt 0 view .LVU220
 802 0018 0022     		movs	r2, #0
 803 001a 4FF00A0E 		mov	lr, #10
 804 001e 01F805E0 		strb	lr, [r1, r5]
 805 0022 5A70     		strb	r2, [r3, #1]
1043:Drivers/SOES/Src/esc_coe.c ****       coeres->coeheader.numberservice =
 806              		.loc 1 1043 7 is_stmt 1 view .LVU221
1043:Drivers/SOES/Src/esc_coe.c ****       coeres->coeheader.numberservice =
 807              		.loc 1 1043 33 is_stmt 0 view .LVU222
 808 0024 93F805E0 		ldrb	lr, [r3, #5]	@ zero_extendqisi2
 809 0028 0321     		movs	r1, #3
 810 002a 61F3030E 		bfi	lr, r1, #0, #4
 811 002e 83F805E0 		strb	lr, [r3, #5]
1044:Drivers/SOES/Src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 812              		.loc 1 1044 7 is_stmt 1 view .LVU223
1044:Drivers/SOES/Src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 813              		.loc 1 1044 39 is_stmt 0 view .LVU224
 814 0032 9A71     		strb	r2, [r3, #6]
 815 0034 6FF07F05 		mvn	r5, #127
 816 0038 DD71     		strb	r5, [r3, #7]
1047:Drivers/SOES/Src/esc_coe.c ****       coeres->infoheader.incomplete = 0;
 817              		.loc 1 1047 7 is_stmt 1 view .LVU225
1047:Drivers/SOES/Src/esc_coe.c ****       coeres->infoheader.incomplete = 0;
 818              		.loc 1 1047 33 is_stmt 0 view .LVU226
 819 003a 93F808E0 		ldrb	lr, [r3, #8]	@ zero_extendqisi2
 820 003e 0725     		movs	r5, #7
 821 0040 65F3060E 		bfi	lr, r5, #0, #7
 822 0044 83F808E0 		strb	lr, [r3, #8]
1048:Drivers/SOES/Src/esc_coe.c ****       coeres->infoheader.reserved = 0x00;
 823              		.loc 1 1048 7 is_stmt 1 view .LVU227
1048:Drivers/SOES/Src/esc_coe.c ****       coeres->infoheader.reserved = 0x00;
 824              		.loc 1 1048 37 is_stmt 0 view .LVU228
ARM GAS  /tmp/ccpADs8h.s 			page 46


 825 0048 5FFA8EFE 		uxtb	lr, lr
 826 004c 62F3C71E 		bfi	lr, r2, #7, #1
 827 0050 83F808E0 		strb	lr, [r3, #8]
1049:Drivers/SOES/Src/esc_coe.c ****       coeres->infoheader.fragmentsleft = 0;
 828              		.loc 1 1049 7 is_stmt 1 view .LVU229
1049:Drivers/SOES/Src/esc_coe.c ****       coeres->infoheader.fragmentsleft = 0;
 829              		.loc 1 1049 35 is_stmt 0 view .LVU230
 830 0054 5A72     		strb	r2, [r3, #9]
1050:Drivers/SOES/Src/esc_coe.c ****       coeres->index = (uint16_t)htoel (abortcode);
 831              		.loc 1 1050 7 is_stmt 1 view .LVU231
1050:Drivers/SOES/Src/esc_coe.c ****       coeres->index = (uint16_t)htoel (abortcode);
 832              		.loc 1 1050 40 is_stmt 0 view .LVU232
 833 0056 9A72     		strb	r2, [r3, #10]
 834 0058 DA72     		strb	r2, [r3, #11]
1051:Drivers/SOES/Src/esc_coe.c ****       coeres->datatype = (uint16_t)(htoel (abortcode) >> 16);
 835              		.loc 1 1051 7 is_stmt 1 view .LVU233
1051:Drivers/SOES/Src/esc_coe.c ****       coeres->datatype = (uint16_t)(htoel (abortcode) >> 16);
 836              		.loc 1 1051 21 is_stmt 0 view .LVU234
 837 005a 9C81     		strh	r4, [r3, #12]	@ unaligned
1052:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 838              		.loc 1 1052 7 is_stmt 1 view .LVU235
1052:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 839              		.loc 1 1052 26 is_stmt 0 view .LVU236
 840 005c 240C     		lsrs	r4, r4, #16
 841              	.LVL72:
1052:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 842              		.loc 1 1052 24 view .LVU237
 843 005e DC81     		strh	r4, [r3, #14]	@ unaligned
1053:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[0].state = MBXstate_idle;
 844              		.loc 1 1053 7 is_stmt 1 view .LVU238
1053:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[0].state = MBXstate_idle;
 845              		.loc 1 1053 32 is_stmt 0 view .LVU239
 846 0060 054B     		ldr	r3, .L37+8
 847              	.LVL73:
1053:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[0].state = MBXstate_idle;
 848              		.loc 1 1053 32 view .LVU240
 849 0062 03F80C10 		strb	r1, [r3, ip]
1054:Drivers/SOES/Src/esc_coe.c ****       ESCvar.xoe = 0;
 850              		.loc 1 1054 7 is_stmt 1 view .LVU241
1054:Drivers/SOES/Src/esc_coe.c ****       ESCvar.xoe = 0;
 851              		.loc 1 1054 27 is_stmt 0 view .LVU242
 852 0066 1A70     		strb	r2, [r3]
1055:Drivers/SOES/Src/esc_coe.c ****    }
 853              		.loc 1 1055 7 is_stmt 1 view .LVU243
1055:Drivers/SOES/Src/esc_coe.c ****    }
 854              		.loc 1 1055 18 is_stmt 0 view .LVU244
 855 0068 80F88A20 		strb	r2, [r0, #138]
 856              	.LVL74:
 857              	.L34:
1057:Drivers/SOES/Src/esc_coe.c **** 
 858              		.loc 1 1057 1 view .LVU245
 859 006c 38BD     		pop	{r3, r4, r5, pc}
 860              	.L38:
 861 006e 00BF     		.align	2
 862              	.L37:
 863 0070 00000000 		.word	ESCvar
 864 0074 00000000 		.word	MBX
ARM GAS  /tmp/ccpADs8h.s 			page 47


 865 0078 00000000 		.word	MBXcontrol
 866              		.cfi_endproc
 867              	.LFE15:
 869              		.section	.text.SDO_getodlist,"ax",%progbits
 870              		.align	1
 871              		.syntax unified
 872              		.thumb
 873              		.thumb_func
 875              	SDO_getodlist:
 876              	.LFB16:
1065:Drivers/SOES/Src/esc_coe.c ****    uint16_t frags;
 877              		.loc 1 1065 1 is_stmt 1 view -0
 878              		.cfi_startproc
 879              		@ args = 0, pretend = 0, frame = 8
 880              		@ frame_needed = 0, uses_anonymous_args = 0
 881 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 882              		.cfi_def_cfa_offset 20
 883              		.cfi_offset 4, -20
 884              		.cfi_offset 5, -16
 885              		.cfi_offset 6, -12
 886              		.cfi_offset 7, -8
 887              		.cfi_offset 14, -4
 888 0002 83B0     		sub	sp, sp, #12
 889              		.cfi_def_cfa_offset 32
1066:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout = 0;
 890              		.loc 1 1066 4 view .LVU247
1067:Drivers/SOES/Src/esc_coe.c ****    uint16_t entries = 0;
 891              		.loc 1 1067 4 view .LVU248
 892              	.LVL75:
1068:Drivers/SOES/Src/esc_coe.c ****    uint16_t i, n;
 893              		.loc 1 1068 4 view .LVU249
1069:Drivers/SOES/Src/esc_coe.c ****    uint16_t *p;
 894              		.loc 1 1069 4 view .LVU250
1070:Drivers/SOES/Src/esc_coe.c ****    _COEobjdesc *coel, *coer;
 895              		.loc 1 1070 4 view .LVU251
1071:Drivers/SOES/Src/esc_coe.c **** 
 896              		.loc 1 1071 4 view .LVU252
1073:Drivers/SOES/Src/esc_coe.c ****    {
 897              		.loc 1 1073 4 view .LVU253
1068:Drivers/SOES/Src/esc_coe.c ****    uint16_t i, n;
 898              		.loc 1 1068 13 is_stmt 0 view .LVU254
 899 0004 0024     		movs	r4, #0
1073:Drivers/SOES/Src/esc_coe.c ****    {
 900              		.loc 1 1073 10 view .LVU255
 901 0006 01E0     		b	.L40
 902              	.LVL76:
 903              	.L41:
1075:Drivers/SOES/Src/esc_coe.c ****    }
 904              		.loc 1 1075 7 is_stmt 1 view .LVU256
1075:Drivers/SOES/Src/esc_coe.c ****    }
 905              		.loc 1 1075 14 is_stmt 0 view .LVU257
 906 0008 0134     		adds	r4, r4, #1
 907              	.LVL77:
1075:Drivers/SOES/Src/esc_coe.c ****    }
 908              		.loc 1 1075 14 view .LVU258
 909 000a A4B2     		uxth	r4, r4
 910              	.LVL78:
ARM GAS  /tmp/ccpADs8h.s 			page 48


 911              	.L40:
1073:Drivers/SOES/Src/esc_coe.c ****    {
 912              		.loc 1 1073 10 is_stmt 1 view .LVU259
1073:Drivers/SOES/Src/esc_coe.c ****    {
 913              		.loc 1 1073 30 is_stmt 0 view .LVU260
 914 000c C4EBC403 		rsb	r3, r4, r4, lsl #3
 915 0010 554A     		ldr	r2, .L52
 916 0012 32F81320 		ldrh	r2, [r2, r3, lsl #1]	@ unaligned
1073:Drivers/SOES/Src/esc_coe.c ****    {
 917              		.loc 1 1073 10 view .LVU261
 918 0016 4FF6FF73 		movw	r3, #65535
 919 001a 9A42     		cmp	r2, r3
 920 001c F4D1     		bne	.L41
1077:Drivers/SOES/Src/esc_coe.c ****    frags = ((entries << 1) + ODLISTSIZE - 1);
 921              		.loc 1 1077 4 is_stmt 1 view .LVU262
1077:Drivers/SOES/Src/esc_coe.c ****    frags = ((entries << 1) + ODLISTSIZE - 1);
 922              		.loc 1 1077 19 is_stmt 0 view .LVU263
 923 001e 5349     		ldr	r1, .L52+4
 924 0020 A1F89440 		strh	r4, [r1, #148]	@ movhi
1078:Drivers/SOES/Src/esc_coe.c ****    frags /= ODLISTSIZE;
 925              		.loc 1 1078 4 is_stmt 1 view .LVU264
1078:Drivers/SOES/Src/esc_coe.c ****    frags /= ODLISTSIZE;
 926              		.loc 1 1078 22 is_stmt 0 view .LVU265
 927 0024 6300     		lsls	r3, r4, #1
 928 0026 9AB2     		uxth	r2, r3
1078:Drivers/SOES/Src/esc_coe.c ****    frags /= ODLISTSIZE;
 929              		.loc 1 1078 30 view .LVU266
 930 0028 0B6F     		ldr	r3, [r1, #112]
 931 002a 5D88     		ldrh	r5, [r3, #2]
 932 002c 0E3D     		subs	r5, r5, #14
 933 002e ABB2     		uxth	r3, r5
 934 0030 23F00103 		bic	r3, r3, #1
1078:Drivers/SOES/Src/esc_coe.c ****    frags /= ODLISTSIZE;
 935              		.loc 1 1078 28 view .LVU267
 936 0034 1344     		add	r3, r3, r2
 937 0036 9BB2     		uxth	r3, r3
1078:Drivers/SOES/Src/esc_coe.c ****    frags /= ODLISTSIZE;
 938              		.loc 1 1078 10 view .LVU268
 939 0038 013B     		subs	r3, r3, #1
 940 003a 9BB2     		uxth	r3, r3
 941              	.LVL79:
1079:Drivers/SOES/Src/esc_coe.c ****    coer = (_COEobjdesc *) &MBX[0];
 942              		.loc 1 1079 4 is_stmt 1 view .LVU269
1079:Drivers/SOES/Src/esc_coe.c ****    coer = (_COEobjdesc *) &MBX[0];
 943              		.loc 1 1079 13 is_stmt 0 view .LVU270
 944 003c 25F00105 		bic	r5, r5, #1
 945 0040 2D04     		lsls	r5, r5, #16
 946 0042 2D0C     		lsrs	r5, r5, #16
1079:Drivers/SOES/Src/esc_coe.c ****    coer = (_COEobjdesc *) &MBX[0];
 947              		.loc 1 1079 10 view .LVU271
 948 0044 B3FBF5F5 		udiv	r5, r3, r5
 949              	.LVL80:
1080:Drivers/SOES/Src/esc_coe.c ****    /* check for unsupported opcodes */
 950              		.loc 1 1080 4 is_stmt 1 view .LVU272
1082:Drivers/SOES/Src/esc_coe.c ****    {
 951              		.loc 1 1082 4 view .LVU273
1082:Drivers/SOES/Src/esc_coe.c ****    {
ARM GAS  /tmp/ccpADs8h.s 			page 49


 952              		.loc 1 1082 8 is_stmt 0 view .LVU274
 953 0048 494B     		ldr	r3, .L52+8
 954 004a 9B89     		ldrh	r3, [r3, #12]	@ unaligned
1082:Drivers/SOES/Src/esc_coe.c ****    {
 955              		.loc 1 1082 7 view .LVU275
 956 004c 012B     		cmp	r3, #1
 957 004e 04D9     		bls	.L42
1084:Drivers/SOES/Src/esc_coe.c ****    }
 958              		.loc 1 1084 7 is_stmt 1 view .LVU276
 959 0050 4848     		ldr	r0, .L52+12
 960 0052 FFF7FEFF 		bl	SDO_infoerror
 961              	.LVL81:
1090:Drivers/SOES/Src/esc_coe.c ****    {
 962              		.loc 1 1090 4 view .LVU277
 963              	.L39:
1155:Drivers/SOES/Src/esc_coe.c **** /** Function for continuing sending left overs from previous requested
 964              		.loc 1 1155 1 is_stmt 0 view .LVU278
 965 0056 03B0     		add	sp, sp, #12
 966              		.cfi_remember_state
 967              		.cfi_def_cfa_offset 20
 968              		@ sp needed
 969 0058 F0BD     		pop	{r4, r5, r6, r7, pc}
 970              	.LVL82:
 971              	.L42:
 972              		.cfi_restore_state
1088:Drivers/SOES/Src/esc_coe.c ****    }
 973              		.loc 1 1088 7 is_stmt 1 view .LVU279
1088:Drivers/SOES/Src/esc_coe.c ****    }
 974              		.loc 1 1088 16 is_stmt 0 view .LVU280
 975 005a FFF7FEFF 		bl	ESC_claimbuffer
 976              	.LVL83:
1090:Drivers/SOES/Src/esc_coe.c ****    {
 977              		.loc 1 1090 4 is_stmt 1 view .LVU281
1090:Drivers/SOES/Src/esc_coe.c ****    {
 978              		.loc 1 1090 7 is_stmt 0 view .LVU282
 979 005e 8446     		mov	ip, r0
 980 0060 0028     		cmp	r0, #0
 981 0062 F8D0     		beq	.L39
1092:Drivers/SOES/Src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 982              		.loc 1 1092 7 is_stmt 1 view .LVU283
1092:Drivers/SOES/Src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 983              		.loc 1 1092 44 is_stmt 0 view .LVU284
 984 0064 414B     		ldr	r3, .L52+4
 985 0066 986E     		ldr	r0, [r3, #104]
 986              	.LVL84:
1092:Drivers/SOES/Src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 987              		.loc 1 1092 42 view .LVU285
 988 0068 00FB0CF0 		mul	r0, r0, ip
1092:Drivers/SOES/Src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 989              		.loc 1 1092 12 view .LVU286
 990 006c 404E     		ldr	r6, .L52+8
 991 006e 8219     		adds	r2, r0, r6
 992              	.LVL85:
1093:Drivers/SOES/Src/esc_coe.c ****       coel->coeheader.numberservice =
 993              		.loc 1 1093 7 is_stmt 1 view .LVU287
1093:Drivers/SOES/Src/esc_coe.c ****       coel->coeheader.numberservice =
 994              		.loc 1 1093 31 is_stmt 0 view .LVU288
ARM GAS  /tmp/ccpADs8h.s 			page 50


 995 0070 5379     		ldrb	r3, [r2, #5]	@ zero_extendqisi2
 996 0072 0321     		movs	r1, #3
 997 0074 61F30303 		bfi	r3, r1, #0, #4
 998 0078 5371     		strb	r3, [r2, #5]
1094:Drivers/SOES/Src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 999              		.loc 1 1094 7 is_stmt 1 view .LVU289
1094:Drivers/SOES/Src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 1000              		.loc 1 1094 37 is_stmt 0 view .LVU290
 1001 007a 0023     		movs	r3, #0
 1002 007c 9371     		strb	r3, [r2, #6]
 1003 007e 6FF07F03 		mvn	r3, #127
 1004 0082 D371     		strb	r3, [r2, #7]
1096:Drivers/SOES/Src/esc_coe.c ****       /* number of objects request */
 1005              		.loc 1 1096 7 is_stmt 1 view .LVU291
1096:Drivers/SOES/Src/esc_coe.c ****       /* number of objects request */
 1006              		.loc 1 1096 31 is_stmt 0 view .LVU292
 1007 0084 137A     		ldrb	r3, [r2, #8]	@ zero_extendqisi2
 1008 0086 0221     		movs	r1, #2
 1009 0088 61F30603 		bfi	r3, r1, #0, #7
 1010 008c 1372     		strb	r3, [r2, #8]
1098:Drivers/SOES/Src/esc_coe.c ****       {
 1011              		.loc 1 1098 7 is_stmt 1 view .LVU293
1098:Drivers/SOES/Src/esc_coe.c ****       {
 1012              		.loc 1 1098 11 is_stmt 0 view .LVU294
 1013 008e B389     		ldrh	r3, [r6, #12]	@ unaligned
1098:Drivers/SOES/Src/esc_coe.c ****       {
 1014              		.loc 1 1098 10 view .LVU295
 1015 0090 1BBB     		cbnz	r3, .L44
 1016              	.LBB4:
1100:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.incomplete = 0;
 1017              		.loc 1 1100 10 is_stmt 1 view .LVU296
1100:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.incomplete = 0;
 1018              		.loc 1 1100 22 is_stmt 0 view .LVU297
 1019 0092 1373     		strb	r3, [r2, #12]
 1020 0094 5373     		strb	r3, [r2, #13]
1101:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.reserved = 0x00;
 1021              		.loc 1 1101 10 is_stmt 1 view .LVU298
1101:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.reserved = 0x00;
 1022              		.loc 1 1101 38 is_stmt 0 view .LVU299
 1023 0096 117A     		ldrb	r1, [r2, #8]	@ zero_extendqisi2
 1024 0098 63F3C711 		bfi	r1, r3, #7, #1
 1025 009c 1172     		strb	r1, [r2, #8]
1102:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes ((uint16_t) 0);
 1026              		.loc 1 1102 10 is_stmt 1 view .LVU300
1102:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes ((uint16_t) 0);
 1027              		.loc 1 1102 36 is_stmt 0 view .LVU301
 1028 009e 5372     		strb	r3, [r2, #9]
1103:Drivers/SOES/Src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
 1029              		.loc 1 1103 10 is_stmt 1 view .LVU302
1103:Drivers/SOES/Src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
 1030              		.loc 1 1103 41 is_stmt 0 view .LVU303
 1031 00a0 9372     		strb	r3, [r2, #10]
 1032 00a2 D372     		strb	r3, [r2, #11]
1104:Drivers/SOES/Src/esc_coe.c ****          ESCvar.xoe = 0;
 1033              		.loc 1 1104 10 is_stmt 1 view .LVU304
1104:Drivers/SOES/Src/esc_coe.c ****          ESCvar.xoe = 0;
 1034              		.loc 1 1104 30 is_stmt 0 view .LVU305
ARM GAS  /tmp/ccpADs8h.s 			page 51


 1035 00a4 3449     		ldr	r1, .L52+16
 1036 00a6 0B70     		strb	r3, [r1]
1105:Drivers/SOES/Src/esc_coe.c ****          ESCvar.frags = frags;
 1037              		.loc 1 1105 10 is_stmt 1 view .LVU306
1105:Drivers/SOES/Src/esc_coe.c ****          ESCvar.frags = frags;
 1038              		.loc 1 1105 21 is_stmt 0 view .LVU307
 1039 00a8 3049     		ldr	r1, .L52+4
 1040 00aa 81F88A30 		strb	r3, [r1, #138]
1106:Drivers/SOES/Src/esc_coe.c ****          ESCvar.fragsleft = frags - 1;
 1041              		.loc 1 1106 10 is_stmt 1 view .LVU308
1106:Drivers/SOES/Src/esc_coe.c ****          ESCvar.fragsleft = frags - 1;
 1042              		.loc 1 1106 23 is_stmt 0 view .LVU309
 1043 00ae A1F89650 		strh	r5, [r1, #150]	@ movhi
1107:Drivers/SOES/Src/esc_coe.c ****          uint16_t size_value = coel->datatype;
 1044              		.loc 1 1107 10 is_stmt 1 view .LVU310
1107:Drivers/SOES/Src/esc_coe.c ****          uint16_t size_value = coel->datatype;
 1045              		.loc 1 1107 35 is_stmt 0 view .LVU311
 1046 00b2 05F1FF3E 		add	lr, r5, #-1
1107:Drivers/SOES/Src/esc_coe.c ****          uint16_t size_value = coel->datatype;
 1047              		.loc 1 1107 27 view .LVU312
 1048 00b6 A1F898E0 		strh	lr, [r1, #152]	@ movhi
1108:Drivers/SOES/Src/esc_coe.c ****          p = &size_value;
 1049              		.loc 1 1108 10 is_stmt 1 view .LVU313
1108:Drivers/SOES/Src/esc_coe.c ****          p = &size_value;
 1050              		.loc 1 1108 36 is_stmt 0 view .LVU314
 1051 00ba D189     		ldrh	r1, [r2, #14]	@ unaligned
1108:Drivers/SOES/Src/esc_coe.c ****          p = &size_value;
 1052              		.loc 1 1108 19 view .LVU315
 1053 00bc ADF80610 		strh	r1, [sp, #6]	@ movhi
1109:Drivers/SOES/Src/esc_coe.c ****          *p = htoes (entries);
 1054              		.loc 1 1109 10 is_stmt 1 view .LVU316
 1055              	.LVL86:
1110:Drivers/SOES/Src/esc_coe.c ****          p++;
 1056              		.loc 1 1110 10 view .LVU317
1110:Drivers/SOES/Src/esc_coe.c ****          p++;
 1057              		.loc 1 1110 13 is_stmt 0 view .LVU318
 1058 00c0 ADF80640 		strh	r4, [sp, #6]	@ movhi
1111:Drivers/SOES/Src/esc_coe.c ****          *p = 0;
 1059              		.loc 1 1111 10 is_stmt 1 view .LVU319
 1060              	.LVL87:
1112:Drivers/SOES/Src/esc_coe.c ****          p++;
 1061              		.loc 1 1112 10 view .LVU320
1112:Drivers/SOES/Src/esc_coe.c ****          p++;
 1062              		.loc 1 1112 13 is_stmt 0 view .LVU321
 1063 00c4 ADF80830 		strh	r3, [sp, #8]	@ movhi
1113:Drivers/SOES/Src/esc_coe.c ****          *p = 0;
 1064              		.loc 1 1113 10 is_stmt 1 view .LVU322
 1065              	.LVL88:
1114:Drivers/SOES/Src/esc_coe.c ****          p++;
 1066              		.loc 1 1114 10 view .LVU323
1114:Drivers/SOES/Src/esc_coe.c ****          p++;
 1067              		.loc 1 1114 13 is_stmt 0 view .LVU324
 1068 00c8 ADF80A30 		strh	r3, [sp, #10]	@ movhi
1115:Drivers/SOES/Src/esc_coe.c ****          *p = 0;
 1069              		.loc 1 1115 10 is_stmt 1 view .LVU325
 1070              	.LVL89:
1116:Drivers/SOES/Src/esc_coe.c ****          p++;
ARM GAS  /tmp/ccpADs8h.s 			page 52


 1071              		.loc 1 1116 10 view .LVU326
1116:Drivers/SOES/Src/esc_coe.c ****          p++;
 1072              		.loc 1 1116 13 is_stmt 0 view .LVU327
 1073 00cc ADF80C30 		strh	r3, [sp, #12]	@ movhi
1117:Drivers/SOES/Src/esc_coe.c ****          *p = 0;
 1074              		.loc 1 1117 10 is_stmt 1 view .LVU328
 1075              	.LVL90:
1118:Drivers/SOES/Src/esc_coe.c ****          coel->mbxheader.length = htoes (0x08 + (5 << 1));
 1076              		.loc 1 1118 10 view .LVU329
1118:Drivers/SOES/Src/esc_coe.c ****          coel->mbxheader.length = htoes (0x08 + (5 << 1));
 1077              		.loc 1 1118 13 is_stmt 0 view .LVU330
 1078 00d0 ADF80E30 		strh	r3, [sp, #14]	@ movhi
1119:Drivers/SOES/Src/esc_coe.c ****       }
 1079              		.loc 1 1119 10 is_stmt 1 view .LVU331
1119:Drivers/SOES/Src/esc_coe.c ****       }
 1080              		.loc 1 1119 33 is_stmt 0 view .LVU332
 1081 00d4 1221     		movs	r1, #18
 1082 00d6 8155     		strb	r1, [r0, r6]
 1083 00d8 5370     		strb	r3, [r2, #1]
 1084              	.LVL91:
 1085              	.L44:
1119:Drivers/SOES/Src/esc_coe.c ****       }
 1086              		.loc 1 1119 33 view .LVU333
 1087              	.LBE4:
1122:Drivers/SOES/Src/esc_coe.c ****       {
 1088              		.loc 1 1122 7 is_stmt 1 view .LVU334
1122:Drivers/SOES/Src/esc_coe.c ****       {
 1089              		.loc 1 1122 11 is_stmt 0 view .LVU335
 1090 00da 254B     		ldr	r3, .L52+8
 1091 00dc 9B89     		ldrh	r3, [r3, #12]	@ unaligned
1122:Drivers/SOES/Src/esc_coe.c ****       {
 1092              		.loc 1 1122 10 view .LVU336
 1093 00de 012B     		cmp	r3, #1
 1094 00e0 04D0     		beq	.L51
 1095              	.LVL92:
 1096              	.L45:
1153:Drivers/SOES/Src/esc_coe.c ****    }
 1097              		.loc 1 1153 7 is_stmt 1 view .LVU337
1153:Drivers/SOES/Src/esc_coe.c ****    }
 1098              		.loc 1 1153 32 is_stmt 0 view .LVU338
 1099 00e2 254B     		ldr	r3, .L52+16
 1100 00e4 0322     		movs	r2, #3
 1101 00e6 03F80C20 		strb	r2, [r3, ip]
1155:Drivers/SOES/Src/esc_coe.c **** /** Function for continuing sending left overs from previous requested
 1102              		.loc 1 1155 1 view .LVU339
 1103 00ea B4E7     		b	.L39
 1104              	.LVL93:
 1105              	.L51:
 1106              	.LBB5:
1124:Drivers/SOES/Src/esc_coe.c ****          {
 1107              		.loc 1 1124 10 is_stmt 1 view .LVU340
1124:Drivers/SOES/Src/esc_coe.c ****          {
 1108              		.loc 1 1124 13 is_stmt 0 view .LVU341
 1109 00ec 012D     		cmp	r5, #1
 1110 00ee 1FD9     		bls	.L46
1126:Drivers/SOES/Src/esc_coe.c ****             ESCvar.xoe = MBXCOE + MBXODL;
 1111              		.loc 1 1126 13 is_stmt 1 view .LVU342
ARM GAS  /tmp/ccpADs8h.s 			page 53


1126:Drivers/SOES/Src/esc_coe.c ****             ESCvar.xoe = MBXCOE + MBXODL;
 1112              		.loc 1 1126 41 is_stmt 0 view .LVU343
 1113 00f0 137A     		ldrb	r3, [r2, #8]	@ zero_extendqisi2
 1114 00f2 43F08003 		orr	r3, r3, #128
 1115 00f6 1372     		strb	r3, [r2, #8]
1127:Drivers/SOES/Src/esc_coe.c ****             n = ODLISTSIZE >> 1;
 1116              		.loc 1 1127 13 is_stmt 1 view .LVU344
1127:Drivers/SOES/Src/esc_coe.c ****             n = ODLISTSIZE >> 1;
 1117              		.loc 1 1127 24 is_stmt 0 view .LVU345
 1118 00f8 1C4B     		ldr	r3, .L52+4
 1119 00fa 1321     		movs	r1, #19
 1120 00fc 83F88A10 		strb	r1, [r3, #138]
1128:Drivers/SOES/Src/esc_coe.c ****          }
 1121              		.loc 1 1128 13 is_stmt 1 view .LVU346
1128:Drivers/SOES/Src/esc_coe.c ****          }
 1122              		.loc 1 1128 17 is_stmt 0 view .LVU347
 1123 0100 1B6F     		ldr	r3, [r3, #112]
 1124 0102 5C88     		ldrh	r4, [r3, #2]
 1125              	.LVL94:
1128:Drivers/SOES/Src/esc_coe.c ****          }
 1126              		.loc 1 1128 17 view .LVU348
 1127 0104 0E3C     		subs	r4, r4, #14
1128:Drivers/SOES/Src/esc_coe.c ****          }
 1128              		.loc 1 1128 15 view .LVU349
 1129 0106 C4F34E04 		ubfx	r4, r4, #1, #15
 1130              	.LVL95:
 1131              	.L47:
1137:Drivers/SOES/Src/esc_coe.c ****          ESCvar.frags = frags;
 1132              		.loc 1 1137 10 is_stmt 1 view .LVU350
1137:Drivers/SOES/Src/esc_coe.c ****          ESCvar.frags = frags;
 1133              		.loc 1 1137 36 is_stmt 0 view .LVU351
 1134 010a 0023     		movs	r3, #0
 1135 010c 5372     		strb	r3, [r2, #9]
1138:Drivers/SOES/Src/esc_coe.c ****          ESCvar.fragsleft = frags - 1;
 1136              		.loc 1 1138 10 is_stmt 1 view .LVU352
1138:Drivers/SOES/Src/esc_coe.c ****          ESCvar.fragsleft = frags - 1;
 1137              		.loc 1 1138 23 is_stmt 0 view .LVU353
 1138 010e 174F     		ldr	r7, .L52+4
 1139 0110 A7F89650 		strh	r5, [r7, #150]	@ movhi
1139:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (ESCvar.fragsleft);
 1140              		.loc 1 1139 10 is_stmt 1 view .LVU354
1139:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (ESCvar.fragsleft);
 1141              		.loc 1 1139 35 is_stmt 0 view .LVU355
 1142 0114 691E     		subs	r1, r5, #1
 1143 0116 89B2     		uxth	r1, r1
1139:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (ESCvar.fragsleft);
 1144              		.loc 1 1139 27 view .LVU356
 1145 0118 A7F89810 		strh	r1, [r7, #152]	@ movhi
1140:Drivers/SOES/Src/esc_coe.c ****          coel->index = htoes ((uint16_t) 0x01);
 1146              		.loc 1 1140 10 is_stmt 1 view .LVU357
1140:Drivers/SOES/Src/esc_coe.c ****          coel->index = htoes ((uint16_t) 0x01);
 1147              		.loc 1 1140 41 is_stmt 0 view .LVU358
 1148 011c 5181     		strh	r1, [r2, #10]	@ unaligned
1141:Drivers/SOES/Src/esc_coe.c **** 
 1149              		.loc 1 1141 10 is_stmt 1 view .LVU359
1141:Drivers/SOES/Src/esc_coe.c **** 
 1150              		.loc 1 1141 22 is_stmt 0 view .LVU360
ARM GAS  /tmp/ccpADs8h.s 			page 54


 1151 011e 0121     		movs	r1, #1
 1152 0120 1173     		strb	r1, [r2, #12]
 1153 0122 5373     		strb	r3, [r2, #13]
1143:Drivers/SOES/Src/esc_coe.c ****          p = &size_value;
 1154              		.loc 1 1143 10 is_stmt 1 view .LVU361
1143:Drivers/SOES/Src/esc_coe.c ****          p = &size_value;
 1155              		.loc 1 1143 36 is_stmt 0 view .LVU362
 1156 0124 D289     		ldrh	r2, [r2, #14]	@ unaligned
 1157              	.LVL96:
1143:Drivers/SOES/Src/esc_coe.c ****          p = &size_value;
 1158              		.loc 1 1143 19 view .LVU363
 1159 0126 ADF80620 		strh	r2, [sp, #6]	@ movhi
1144:Drivers/SOES/Src/esc_coe.c ****          for (i = 0; i < n; i++)
 1160              		.loc 1 1144 10 is_stmt 1 view .LVU364
 1161              	.LVL97:
1145:Drivers/SOES/Src/esc_coe.c ****          {
 1162              		.loc 1 1145 10 view .LVU365
1144:Drivers/SOES/Src/esc_coe.c ****          for (i = 0; i < n; i++)
 1163              		.loc 1 1144 12 is_stmt 0 view .LVU366
 1164 012a 0DF10602 		add	r2, sp, #6
 1165              	.LVL98:
1145:Drivers/SOES/Src/esc_coe.c ****          {
 1166              		.loc 1 1145 10 view .LVU367
 1167 012e 13E0     		b	.L48
 1168              	.LVL99:
 1169              	.L46:
1132:Drivers/SOES/Src/esc_coe.c ****             MBXcontrol[0].state = MBXstate_idle;
 1170              		.loc 1 1132 13 is_stmt 1 view .LVU368
1132:Drivers/SOES/Src/esc_coe.c ****             MBXcontrol[0].state = MBXstate_idle;
 1171              		.loc 1 1132 41 is_stmt 0 view .LVU369
 1172 0130 137A     		ldrb	r3, [r2, #8]	@ zero_extendqisi2
 1173 0132 6FF3C713 		bfc	r3, #7, #1
 1174 0136 1372     		strb	r3, [r2, #8]
1133:Drivers/SOES/Src/esc_coe.c ****             ESCvar.xoe = 0;
 1175              		.loc 1 1133 13 is_stmt 1 view .LVU370
1133:Drivers/SOES/Src/esc_coe.c ****             ESCvar.xoe = 0;
 1176              		.loc 1 1133 33 is_stmt 0 view .LVU371
 1177 0138 0023     		movs	r3, #0
 1178 013a 0F49     		ldr	r1, .L52+16
 1179 013c 0B70     		strb	r3, [r1]
1134:Drivers/SOES/Src/esc_coe.c ****             n = entries;
 1180              		.loc 1 1134 13 is_stmt 1 view .LVU372
1134:Drivers/SOES/Src/esc_coe.c ****             n = entries;
 1181              		.loc 1 1134 24 is_stmt 0 view .LVU373
 1182 013e 0B49     		ldr	r1, .L52+4
 1183 0140 81F88A30 		strb	r3, [r1, #138]
1135:Drivers/SOES/Src/esc_coe.c ****          }
 1184              		.loc 1 1135 13 is_stmt 1 view .LVU374
 1185              	.LVL100:
1135:Drivers/SOES/Src/esc_coe.c ****          }
 1186              		.loc 1 1135 13 is_stmt 0 view .LVU375
 1187 0144 E1E7     		b	.L47
 1188              	.LVL101:
 1189              	.L49:
1147:Drivers/SOES/Src/esc_coe.c ****             p++;
 1190              		.loc 1 1147 13 is_stmt 1 discriminator 3 view .LVU376
1147:Drivers/SOES/Src/esc_coe.c ****             p++;
ARM GAS  /tmp/ccpADs8h.s 			page 55


 1191              		.loc 1 1147 18 is_stmt 0 discriminator 3 view .LVU377
 1192 0146 C3EBC305 		rsb	r5, r3, r3, lsl #3
 1193 014a 0749     		ldr	r1, .L52
 1194 014c 31F81510 		ldrh	r1, [r1, r5, lsl #1]	@ unaligned
1147:Drivers/SOES/Src/esc_coe.c ****             p++;
 1195              		.loc 1 1147 16 discriminator 3 view .LVU378
 1196 0150 22F8021B 		strh	r1, [r2], #2	@ movhi
 1197              	.LVL102:
1148:Drivers/SOES/Src/esc_coe.c ****          }
 1198              		.loc 1 1148 13 is_stmt 1 discriminator 3 view .LVU379
1145:Drivers/SOES/Src/esc_coe.c ****          {
 1199              		.loc 1 1145 29 discriminator 3 view .LVU380
1145:Drivers/SOES/Src/esc_coe.c ****          {
 1200              		.loc 1 1145 30 is_stmt 0 discriminator 3 view .LVU381
 1201 0154 0133     		adds	r3, r3, #1
 1202              	.LVL103:
1145:Drivers/SOES/Src/esc_coe.c ****          {
 1203              		.loc 1 1145 30 discriminator 3 view .LVU382
 1204 0156 9BB2     		uxth	r3, r3
 1205              	.LVL104:
 1206              	.L48:
1145:Drivers/SOES/Src/esc_coe.c ****          {
 1207              		.loc 1 1145 22 is_stmt 1 discriminator 1 view .LVU383
1145:Drivers/SOES/Src/esc_coe.c ****          {
 1208              		.loc 1 1145 10 is_stmt 0 discriminator 1 view .LVU384
 1209 0158 A342     		cmp	r3, r4
 1210 015a F4D3     		bcc	.L49
1151:Drivers/SOES/Src/esc_coe.c ****       }
 1211              		.loc 1 1151 10 is_stmt 1 view .LVU385
1151:Drivers/SOES/Src/esc_coe.c ****       }
 1212              		.loc 1 1151 35 is_stmt 0 view .LVU386
 1213 015c 6300     		lsls	r3, r4, #1
 1214              	.LVL105:
1151:Drivers/SOES/Src/esc_coe.c ****       }
 1215              		.loc 1 1151 35 view .LVU387
 1216 015e 9BB2     		uxth	r3, r3
 1217 0160 0833     		adds	r3, r3, #8
1151:Drivers/SOES/Src/esc_coe.c ****       }
 1218              		.loc 1 1151 33 view .LVU388
 1219 0162 3352     		strh	r3, [r6, r0]	@ unaligned
 1220 0164 BDE7     		b	.L45
 1221              	.L53:
 1222 0166 00BF     		.align	2
 1223              	.L52:
 1224 0168 00000000 		.word	SDOobjects
 1225 016c 00000000 		.word	ESCvar
 1226 0170 00000000 		.word	MBX
 1227 0174 00000106 		.word	100728832
 1228 0178 00000000 		.word	MBXcontrol
 1229              	.LBE5:
 1230              		.cfi_endproc
 1231              	.LFE16:
 1233              		.section	.text.SDO_abort,"ax",%progbits
 1234              		.align	1
 1235              		.syntax unified
 1236              		.thumb
 1237              		.thumb_func
ARM GAS  /tmp/ccpADs8h.s 			page 56


 1239              	SDO_abort:
 1240              	.LVL106:
 1241              	.LFB4:
 245:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
 1242              		.loc 1 245 1 is_stmt 1 view -0
 1243              		.cfi_startproc
 1244              		@ args = 0, pretend = 0, frame = 0
 1245              		@ frame_needed = 0, uses_anonymous_args = 0
 245:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
 1246              		.loc 1 245 1 is_stmt 0 view .LVU390
 1247 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1248              		.cfi_def_cfa_offset 24
 1249              		.cfi_offset 3, -24
 1250              		.cfi_offset 4, -20
 1251              		.cfi_offset 5, -16
 1252              		.cfi_offset 6, -12
 1253              		.cfi_offset 7, -8
 1254              		.cfi_offset 14, -4
 1255 0002 0E46     		mov	r6, r1
 1256 0004 1546     		mov	r5, r2
 1257 0006 1F46     		mov	r7, r3
 246:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coeres;
 1258              		.loc 1 246 4 is_stmt 1 view .LVU391
 247:Drivers/SOES/Src/esc_coe.c ****    if (reusembx)
 1259              		.loc 1 247 4 view .LVU392
 248:Drivers/SOES/Src/esc_coe.c ****       MBXout = reusembx;
 1260              		.loc 1 248 4 view .LVU393
 248:Drivers/SOES/Src/esc_coe.c ****       MBXout = reusembx;
 1261              		.loc 1 248 7 is_stmt 0 view .LVU394
 1262 0008 0446     		mov	r4, r0
 1263 000a 20B3     		cbz	r0, .L58
 1264              	.LVL107:
 1265              	.L55:
 252:Drivers/SOES/Src/esc_coe.c ****    {
 1266              		.loc 1 252 4 is_stmt 1 view .LVU395
 252:Drivers/SOES/Src/esc_coe.c ****    {
 1267              		.loc 1 252 7 is_stmt 0 view .LVU396
 1268 000c 14B3     		cbz	r4, .L54
 254:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1269              		.loc 1 254 7 is_stmt 1 view .LVU397
 254:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1270              		.loc 1 254 42 is_stmt 0 view .LVU398
 1271 000e 144B     		ldr	r3, .L59
 1272 0010 986E     		ldr	r0, [r3, #104]
 254:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1273              		.loc 1 254 40 view .LVU399
 1274 0012 04FB00F0 		mul	r0, r4, r0
 254:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1275              		.loc 1 254 14 view .LVU400
 1276 0016 134B     		ldr	r3, .L59+4
 1277 0018 00EB030C 		add	ip, r0, r3
 1278              	.LVL108:
 255:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.mbxtype = MBXCOE;
 1279              		.loc 1 255 7 is_stmt 1 view .LVU401
 255:Drivers/SOES/Src/esc_coe.c ****       coeres->mbxheader.mbxtype = MBXCOE;
 1280              		.loc 1 255 32 is_stmt 0 view .LVU402
 1281 001c 0022     		movs	r2, #0
ARM GAS  /tmp/ccpADs8h.s 			page 57


 1282 001e 0A21     		movs	r1, #10
 1283 0020 C154     		strb	r1, [r0, r3]
 1284 0022 8CF80120 		strb	r2, [ip, #1]
 256:Drivers/SOES/Src/esc_coe.c ****       coeres->coeheader.numberservice =
 1285              		.loc 1 256 7 is_stmt 1 view .LVU403
 256:Drivers/SOES/Src/esc_coe.c ****       coeres->coeheader.numberservice =
 1286              		.loc 1 256 33 is_stmt 0 view .LVU404
 1287 0026 9CF80510 		ldrb	r1, [ip, #5]	@ zero_extendqisi2
 1288 002a 0323     		movs	r3, #3
 1289 002c 63F30301 		bfi	r1, r3, #0, #4
 1290 0030 8CF80510 		strb	r1, [ip, #5]
 257:Drivers/SOES/Src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOREQUEST << 12));
 1291              		.loc 1 257 7 is_stmt 1 view .LVU405
 257:Drivers/SOES/Src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOREQUEST << 12));
 1292              		.loc 1 257 39 is_stmt 0 view .LVU406
 1293 0034 8CF80620 		strb	r2, [ip, #6]
 1294 0038 2022     		movs	r2, #32
 1295 003a 8CF80720 		strb	r2, [ip, #7]
 259:Drivers/SOES/Src/esc_coe.c ****       coeres->subindex = subindex;
 1296              		.loc 1 259 7 is_stmt 1 view .LVU407
 259:Drivers/SOES/Src/esc_coe.c ****       coeres->subindex = subindex;
 1297              		.loc 1 259 21 is_stmt 0 view .LVU408
 1298 003e ACF80960 		strh	r6, [ip, #9]	@ unaligned
 260:Drivers/SOES/Src/esc_coe.c ****       coeres->command = COE_COMMAND_SDOABORT;
 1299              		.loc 1 260 7 is_stmt 1 view .LVU409
 260:Drivers/SOES/Src/esc_coe.c ****       coeres->command = COE_COMMAND_SDOABORT;
 1300              		.loc 1 260 24 is_stmt 0 view .LVU410
 1301 0042 8CF80B50 		strb	r5, [ip, #11]
 261:Drivers/SOES/Src/esc_coe.c ****       coeres->size = htoel (abortcode);
 1302              		.loc 1 261 7 is_stmt 1 view .LVU411
 261:Drivers/SOES/Src/esc_coe.c ****       coeres->size = htoel (abortcode);
 1303              		.loc 1 261 23 is_stmt 0 view .LVU412
 1304 0046 8022     		movs	r2, #128
 1305 0048 8CF80820 		strb	r2, [ip, #8]
 262:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 1306              		.loc 1 262 7 is_stmt 1 view .LVU413
 262:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 1307              		.loc 1 262 20 is_stmt 0 view .LVU414
 1308 004c CCF80C70 		str	r7, [ip, #12]	@ unaligned
 263:Drivers/SOES/Src/esc_coe.c ****    }
 1309              		.loc 1 263 7 is_stmt 1 view .LVU415
 263:Drivers/SOES/Src/esc_coe.c ****    }
 1310              		.loc 1 263 32 is_stmt 0 view .LVU416
 1311 0050 054A     		ldr	r2, .L59+8
 1312 0052 1355     		strb	r3, [r2, r4]
 1313              	.LVL109:
 1314              	.L54:
 265:Drivers/SOES/Src/esc_coe.c **** 
 1315              		.loc 1 265 1 view .LVU417
 1316 0054 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1317              	.LVL110:
 1318              	.L58:
 251:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
 1319              		.loc 1 251 7 is_stmt 1 view .LVU418
 251:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
 1320              		.loc 1 251 16 is_stmt 0 view .LVU419
 1321 0056 FFF7FEFF 		bl	ESC_claimbuffer
ARM GAS  /tmp/ccpADs8h.s 			page 58


 1322              	.LVL111:
 251:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
 1323              		.loc 1 251 16 view .LVU420
 1324 005a 0446     		mov	r4, r0
 1325              	.LVL112:
 251:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
 1326              		.loc 1 251 16 view .LVU421
 1327 005c D6E7     		b	.L55
 1328              	.L60:
 1329 005e 00BF     		.align	2
 1330              	.L59:
 1331 0060 00000000 		.word	ESCvar
 1332 0064 00000000 		.word	MBX
 1333 0068 00000000 		.word	MBXcontrol
 1334              		.cfi_endproc
 1335              	.LFE4:
 1337              		.section	.text.set_state_idle,"ax",%progbits
 1338              		.align	1
 1339              		.syntax unified
 1340              		.thumb
 1341              		.thumb_func
 1343              	set_state_idle:
 1344              	.LVL113:
 1345              	.LFB5:
 271:Drivers/SOES/Src/esc_coe.c ****    if (abortcode != 0)
 1346              		.loc 1 271 1 is_stmt 1 view -0
 1347              		.cfi_startproc
 1348              		@ args = 0, pretend = 0, frame = 0
 1349              		@ frame_needed = 0, uses_anonymous_args = 0
 271:Drivers/SOES/Src/esc_coe.c ****    if (abortcode != 0)
 1350              		.loc 1 271 1 is_stmt 0 view .LVU423
 1351 0000 08B5     		push	{r3, lr}
 1352              		.cfi_def_cfa_offset 8
 1353              		.cfi_offset 3, -8
 1354              		.cfi_offset 14, -4
 272:Drivers/SOES/Src/esc_coe.c ****    {
 1355              		.loc 1 272 4 is_stmt 1 view .LVU424
 272:Drivers/SOES/Src/esc_coe.c ****    {
 1356              		.loc 1 272 7 is_stmt 0 view .LVU425
 1357 0002 33B9     		cbnz	r3, .L64
 1358              	.LVL114:
 1359              	.L62:
 277:Drivers/SOES/Src/esc_coe.c ****    ESCvar.xoe = 0;
 1360              		.loc 1 277 4 is_stmt 1 view .LVU426
 277:Drivers/SOES/Src/esc_coe.c ****    ESCvar.xoe = 0;
 1361              		.loc 1 277 24 is_stmt 0 view .LVU427
 1362 0004 0023     		movs	r3, #0
 1363 0006 044A     		ldr	r2, .L65
 1364 0008 1370     		strb	r3, [r2]
 278:Drivers/SOES/Src/esc_coe.c **** }
 1365              		.loc 1 278 4 is_stmt 1 view .LVU428
 278:Drivers/SOES/Src/esc_coe.c **** }
 1366              		.loc 1 278 15 is_stmt 0 view .LVU429
 1367 000a 044A     		ldr	r2, .L65+4
 1368 000c 82F88A30 		strb	r3, [r2, #138]
 279:Drivers/SOES/Src/esc_coe.c **** 
 1369              		.loc 1 279 1 view .LVU430
ARM GAS  /tmp/ccpADs8h.s 			page 59


 1370 0010 08BD     		pop	{r3, pc}
 1371              	.LVL115:
 1372              	.L64:
 274:Drivers/SOES/Src/esc_coe.c ****    }
 1373              		.loc 1 274 7 is_stmt 1 view .LVU431
 1374 0012 FFF7FEFF 		bl	SDO_abort
 1375              	.LVL116:
 274:Drivers/SOES/Src/esc_coe.c ****    }
 1376              		.loc 1 274 7 is_stmt 0 view .LVU432
 1377 0016 F5E7     		b	.L62
 1378              	.L66:
 1379              		.align	2
 1380              	.L65:
 1381 0018 00000000 		.word	MBXcontrol
 1382 001c 00000000 		.word	ESCvar
 1383              		.cfi_endproc
 1384              	.LFE5:
 1386              		.section	.text.copy2mbx,"ax",%progbits
 1387              		.align	1
 1388              		.syntax unified
 1389              		.thumb
 1390              		.thumb_func
 1392              	copy2mbx:
 1393              	.LVL117:
 1394              	.LFB3:
 233:Drivers/SOES/Src/esc_coe.c ****    memcpy (dest, source, size);
 1395              		.loc 1 233 1 is_stmt 1 view -0
 1396              		.cfi_startproc
 1397              		@ args = 0, pretend = 0, frame = 0
 1398              		@ frame_needed = 0, uses_anonymous_args = 0
 233:Drivers/SOES/Src/esc_coe.c ****    memcpy (dest, source, size);
 1399              		.loc 1 233 1 is_stmt 0 view .LVU434
 1400 0000 08B5     		push	{r3, lr}
 1401              		.cfi_def_cfa_offset 8
 1402              		.cfi_offset 3, -8
 1403              		.cfi_offset 14, -4
 1404 0002 0B46     		mov	r3, r1
 234:Drivers/SOES/Src/esc_coe.c **** }
 1405              		.loc 1 234 4 is_stmt 1 view .LVU435
 1406 0004 0146     		mov	r1, r0
 1407              	.LVL118:
 234:Drivers/SOES/Src/esc_coe.c **** }
 1408              		.loc 1 234 4 is_stmt 0 view .LVU436
 1409 0006 1846     		mov	r0, r3
 1410              	.LVL119:
 234:Drivers/SOES/Src/esc_coe.c **** }
 1411              		.loc 1 234 4 view .LVU437
 1412 0008 FFF7FEFF 		bl	memcpy
 1413              	.LVL120:
 235:Drivers/SOES/Src/esc_coe.c **** 
 1414              		.loc 1 235 1 view .LVU438
 1415 000c 08BD     		pop	{r3, pc}
 1416              		.cfi_endproc
 1417              	.LFE3:
 1419              		.section	.text.SDO_uploadsegment,"ax",%progbits
 1420              		.align	1
 1421              		.syntax unified
ARM GAS  /tmp/ccpADs8h.s 			page 60


 1422              		.thumb
 1423              		.thumb_func
 1425              	SDO_uploadsegment:
 1426              	.LFB11:
 685:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coesdo, *coeres;
 1427              		.loc 1 685 1 is_stmt 1 view -0
 1428              		.cfi_startproc
 1429              		@ args = 0, pretend = 0, frame = 8
 1430              		@ frame_needed = 0, uses_anonymous_args = 0
 1431 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1432              		.cfi_def_cfa_offset 36
 1433              		.cfi_offset 4, -36
 1434              		.cfi_offset 5, -32
 1435              		.cfi_offset 6, -28
 1436              		.cfi_offset 7, -24
 1437              		.cfi_offset 8, -20
 1438              		.cfi_offset 9, -16
 1439              		.cfi_offset 10, -12
 1440              		.cfi_offset 11, -8
 1441              		.cfi_offset 14, -4
 1442 0004 85B0     		sub	sp, sp, #20
 1443              		.cfi_def_cfa_offset 56
 686:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
 1444              		.loc 1 686 4 view .LVU440
 687:Drivers/SOES/Src/esc_coe.c ****    uint32_t size, offset, abort;
 1445              		.loc 1 687 4 view .LVU441
 688:Drivers/SOES/Src/esc_coe.c ****    coesdo = (_COEsdo *) &MBX[0];
 1446              		.loc 1 688 4 view .LVU442
 689:Drivers/SOES/Src/esc_coe.c ****    MBXout = ESC_claimbuffer ();
 1447              		.loc 1 689 4 view .LVU443
 1448              	.LVL121:
 690:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
 1449              		.loc 1 690 4 view .LVU444
 690:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
 1450              		.loc 1 690 13 is_stmt 0 view .LVU445
 1451 0006 FFF7FEFF 		bl	ESC_claimbuffer
 1452              	.LVL122:
 691:Drivers/SOES/Src/esc_coe.c ****    {
 1453              		.loc 1 691 4 is_stmt 1 view .LVU446
 691:Drivers/SOES/Src/esc_coe.c ****    {
 1454              		.loc 1 691 7 is_stmt 0 view .LVU447
 1455 000a 40B9     		cbnz	r0, .L77
 1456              	.LVL123:
 1457              	.L70:
 742:Drivers/SOES/Src/esc_coe.c ****    ESCvar.xoe = 0;
 1458              		.loc 1 742 4 is_stmt 1 view .LVU448
 742:Drivers/SOES/Src/esc_coe.c ****    ESCvar.xoe = 0;
 1459              		.loc 1 742 24 is_stmt 0 view .LVU449
 1460 000c 0023     		movs	r3, #0
 1461 000e 3E4A     		ldr	r2, .L79
 1462 0010 1370     		strb	r3, [r2]
 743:Drivers/SOES/Src/esc_coe.c **** }
 1463              		.loc 1 743 4 is_stmt 1 view .LVU450
 743:Drivers/SOES/Src/esc_coe.c **** }
 1464              		.loc 1 743 15 is_stmt 0 view .LVU451
 1465 0012 3E4A     		ldr	r2, .L79+4
 1466 0014 82F88A30 		strb	r3, [r2, #138]
ARM GAS  /tmp/ccpADs8h.s 			page 61


 1467              	.L69:
 744:Drivers/SOES/Src/esc_coe.c **** 
 1468              		.loc 1 744 1 view .LVU452
 1469 0018 05B0     		add	sp, sp, #20
 1470              		.cfi_remember_state
 1471              		.cfi_def_cfa_offset 36
 1472              		@ sp needed
 1473 001a BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1474              	.LVL124:
 1475              	.L77:
 1476              		.cfi_restore_state
 744:Drivers/SOES/Src/esc_coe.c **** 
 1477              		.loc 1 744 1 view .LVU453
 1478 001e 0646     		mov	r6, r0
 1479              	.LBB6:
 693:Drivers/SOES/Src/esc_coe.c ****       offset = ESCvar.fragsleft;
 1480              		.loc 1 693 7 is_stmt 1 view .LVU454
 693:Drivers/SOES/Src/esc_coe.c ****       offset = ESCvar.fragsleft;
 1481              		.loc 1 693 42 is_stmt 0 view .LVU455
 1482 0020 3A4F     		ldr	r7, .L79+4
 1483 0022 BB6E     		ldr	r3, [r7, #104]
 693:Drivers/SOES/Src/esc_coe.c ****       offset = ESCvar.fragsleft;
 1484              		.loc 1 693 40 view .LVU456
 1485 0024 03FB00F8 		mul	r8, r3, r0
 693:Drivers/SOES/Src/esc_coe.c ****       offset = ESCvar.fragsleft;
 1486              		.loc 1 693 14 view .LVU457
 1487 0028 394C     		ldr	r4, .L79+8
 1488 002a 08EB0409 		add	r9, r8, r4
 1489              	.LVL125:
 694:Drivers/SOES/Src/esc_coe.c ****       size = ESCvar.frags - ESCvar.fragsleft;
 1490              		.loc 1 694 7 is_stmt 1 view .LVU458
 694:Drivers/SOES/Src/esc_coe.c ****       size = ESCvar.frags - ESCvar.fragsleft;
 1491              		.loc 1 694 22 is_stmt 0 view .LVU459
 1492 002e B7F898A0 		ldrh	r10, [r7, #152]
 1493              	.LVL126:
 695:Drivers/SOES/Src/esc_coe.c ****       uint8_t command = COE_COMMAND_UPLOADSEGMENT +
 1494              		.loc 1 695 7 is_stmt 1 view .LVU460
 695:Drivers/SOES/Src/esc_coe.c ****       uint8_t command = COE_COMMAND_UPLOADSEGMENT +
 1495              		.loc 1 695 20 is_stmt 0 view .LVU461
 1496 0032 B7F896B0 		ldrh	fp, [r7, #150]
 695:Drivers/SOES/Src/esc_coe.c ****       uint8_t command = COE_COMMAND_UPLOADSEGMENT +
 1497              		.loc 1 695 27 view .LVU462
 1498 0036 ABEB0A05 		sub	r5, fp, r10
 695:Drivers/SOES/Src/esc_coe.c ****       uint8_t command = COE_COMMAND_UPLOADSEGMENT +
 1499              		.loc 1 695 12 view .LVU463
 1500 003a 0395     		str	r5, [sp, #12]
 1501              	.LVL127:
 696:Drivers/SOES/Src/esc_coe.c ****             (coesdo->command & COE_TOGGLEBIT);  /* copy toggle bit */
 1502              		.loc 1 696 7 is_stmt 1 view .LVU464
 697:Drivers/SOES/Src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE, command,
 1503              		.loc 1 697 20 is_stmt 0 view .LVU465
 1504 003c 227A     		ldrb	r2, [r4, #8]	@ zero_extendqisi2
 1505              	.LVL128:
 698:Drivers/SOES/Src/esc_coe.c ****             coesdo->index, coesdo->subindex);
 1506              		.loc 1 698 7 is_stmt 1 view .LVU466
 1507 003e E37A     		ldrb	r3, [r4, #11]	@ zero_extendqisi2
 1508 0040 0093     		str	r3, [sp]
ARM GAS  /tmp/ccpADs8h.s 			page 62


 1509 0042 B4F80930 		ldrh	r3, [r4, #9]	@ unaligned
 1510 0046 02F01002 		and	r2, r2, #16
 1511              	.LVL129:
 698:Drivers/SOES/Src/esc_coe.c ****             coesdo->index, coesdo->subindex);
 1512              		.loc 1 698 7 is_stmt 0 view .LVU467
 1513 004a 0321     		movs	r1, #3
 1514 004c 4846     		mov	r0, r9
 1515              	.LVL130:
 698:Drivers/SOES/Src/esc_coe.c ****             coesdo->index, coesdo->subindex);
 1516              		.loc 1 698 7 view .LVU468
 1517 004e FFF7FEFF 		bl	init_coesdo
 1518              	.LVL131:
 700:Drivers/SOES/Src/esc_coe.c ****       {
 1519              		.loc 1 700 7 is_stmt 1 view .LVU469
 700:Drivers/SOES/Src/esc_coe.c ****       {
 1520              		.loc 1 700 17 is_stmt 0 view .LVU470
 1521 0052 E91C     		adds	r1, r5, #3
 700:Drivers/SOES/Src/esc_coe.c ****       {
 1522              		.loc 1 700 44 view .LVU471
 1523 0054 BB6E     		ldr	r3, [r7, #104]
 1524 0056 9A1F     		subs	r2, r3, #6
 700:Drivers/SOES/Src/esc_coe.c ****       {
 1525              		.loc 1 700 10 view .LVU472
 1526 0058 9142     		cmp	r1, r2
 1527 005a 1BD9     		bls	.L71
 704:Drivers/SOES/Src/esc_coe.c ****          /* number of bytes done */
 1528              		.loc 1 704 10 is_stmt 1 view .LVU473
 704:Drivers/SOES/Src/esc_coe.c ****          /* number of bytes done */
 1529              		.loc 1 704 15 is_stmt 0 view .LVU474
 1530 005c 093B     		subs	r3, r3, #9
 1531 005e 0393     		str	r3, [sp, #12]
 1532              	.LVL132:
 706:Drivers/SOES/Src/esc_coe.c ****          coeres->mbxheader.length = htoes (COE_SEGMENTHEADERSIZE + size);
 1533              		.loc 1 706 10 is_stmt 1 view .LVU475
 706:Drivers/SOES/Src/esc_coe.c ****          coeres->mbxheader.length = htoes (COE_SEGMENTHEADERSIZE + size);
 1534              		.loc 1 706 27 is_stmt 0 view .LVU476
 1535 0060 9BB2     		uxth	r3, r3
 1536              	.LVL133:
 706:Drivers/SOES/Src/esc_coe.c ****          coeres->mbxheader.length = htoes (COE_SEGMENTHEADERSIZE + size);
 1537              		.loc 1 706 27 view .LVU477
 1538 0062 B7F89820 		ldrh	r2, [r7, #152]
 1539 0066 1A44     		add	r2, r2, r3
 1540 0068 A7F89820 		strh	r2, [r7, #152]	@ movhi
 707:Drivers/SOES/Src/esc_coe.c ****       }
 1541              		.loc 1 707 10 is_stmt 1 view .LVU478
 707:Drivers/SOES/Src/esc_coe.c ****       }
 1542              		.loc 1 707 37 is_stmt 0 view .LVU479
 1543 006c 0333     		adds	r3, r3, #3
 707:Drivers/SOES/Src/esc_coe.c ****       }
 1544              		.loc 1 707 35 view .LVU480
 1545 006e 24F80830 		strh	r3, [r4, r8]	@ unaligned
 1546              	.L72:
 726:Drivers/SOES/Src/esc_coe.c ****             size);        /* copy to mailbox */
 1547              		.loc 1 726 7 is_stmt 1 view .LVU481
 726:Drivers/SOES/Src/esc_coe.c ****             size);        /* copy to mailbox */
 1548              		.loc 1 726 35 is_stmt 0 view .LVU482
 1549 0072 264C     		ldr	r4, .L79+4
ARM GAS  /tmp/ccpADs8h.s 			page 63


 1550 0074 D4F89000 		ldr	r0, [r4, #144]
 726:Drivers/SOES/Src/esc_coe.c ****             size);        /* copy to mailbox */
 1551              		.loc 1 726 7 view .LVU483
 1552 0078 BDF80C20 		ldrh	r2, [sp, #12]
 1553 007c 09F10901 		add	r1, r9, #9
 1554 0080 5044     		add	r0, r0, r10
 1555 0082 FFF7FEFF 		bl	copy2mbx
 1556              	.LVL134:
 729:Drivers/SOES/Src/esc_coe.c ****       {
 1557              		.loc 1 729 7 is_stmt 1 view .LVU484
 729:Drivers/SOES/Src/esc_coe.c ****       {
 1558              		.loc 1 729 17 is_stmt 0 view .LVU485
 1559 0086 94F88D30 		ldrb	r3, [r4, #141]	@ zero_extendqisi2
 729:Drivers/SOES/Src/esc_coe.c ****       {
 1560              		.loc 1 729 10 view .LVU486
 1561 008a 4BB3     		cbz	r3, .L78
 1562              	.L74:
 740:Drivers/SOES/Src/esc_coe.c ****    }
 1563              		.loc 1 740 7 is_stmt 1 view .LVU487
 740:Drivers/SOES/Src/esc_coe.c ****    }
 1564              		.loc 1 740 32 is_stmt 0 view .LVU488
 1565 008c 1E4B     		ldr	r3, .L79
 1566 008e 0322     		movs	r2, #3
 1567 0090 9A55     		strb	r2, [r3, r6]
 1568 0092 BBE7     		b	.L70
 1569              	.LVL135:
 1570              	.L71:
 712:Drivers/SOES/Src/esc_coe.c ****          ESCvar.frags = 0;
 1571              		.loc 1 712 10 is_stmt 1 view .LVU489
 712:Drivers/SOES/Src/esc_coe.c ****          ESCvar.frags = 0;
 1572              		.loc 1 712 27 is_stmt 0 view .LVU490
 1573 0094 1D4B     		ldr	r3, .L79+4
 1574 0096 0022     		movs	r2, #0
 1575 0098 83F88D20 		strb	r2, [r3, #141]
 713:Drivers/SOES/Src/esc_coe.c ****          ESCvar.fragsleft = 0;
 1576              		.loc 1 713 10 is_stmt 1 view .LVU491
 713:Drivers/SOES/Src/esc_coe.c ****          ESCvar.fragsleft = 0;
 1577              		.loc 1 713 23 is_stmt 0 view .LVU492
 1578 009c A3F89620 		strh	r2, [r3, #150]	@ movhi
 714:Drivers/SOES/Src/esc_coe.c ****          coeres->command += COE_COMMAND_LASTSEGMENTBIT;
 1579              		.loc 1 714 10 is_stmt 1 view .LVU493
 714:Drivers/SOES/Src/esc_coe.c ****          coeres->command += COE_COMMAND_LASTSEGMENTBIT;
 1580              		.loc 1 714 27 is_stmt 0 view .LVU494
 1581 00a0 A3F89820 		strh	r2, [r3, #152]	@ movhi
 715:Drivers/SOES/Src/esc_coe.c ****          if (size >= 7)
 1582              		.loc 1 715 10 is_stmt 1 view .LVU495
 715:Drivers/SOES/Src/esc_coe.c ****          if (size >= 7)
 1583              		.loc 1 715 26 is_stmt 0 view .LVU496
 1584 00a4 99F80820 		ldrb	r2, [r9, #8]	@ zero_extendqisi2
 1585 00a8 0132     		adds	r2, r2, #1
 1586 00aa D2B2     		uxtb	r2, r2
 1587 00ac 89F80820 		strb	r2, [r9, #8]
 716:Drivers/SOES/Src/esc_coe.c ****          {
 1588              		.loc 1 716 10 is_stmt 1 view .LVU497
 716:Drivers/SOES/Src/esc_coe.c ****          {
 1589              		.loc 1 716 13 is_stmt 0 view .LVU498
 1590 00b0 062D     		cmp	r5, #6
ARM GAS  /tmp/ccpADs8h.s 			page 64


 1591 00b2 06D9     		bls	.L73
 718:Drivers/SOES/Src/esc_coe.c ****          }
 1592              		.loc 1 718 13 is_stmt 1 view .LVU499
 718:Drivers/SOES/Src/esc_coe.c ****          }
 1593              		.loc 1 718 40 is_stmt 0 view .LVU500
 1594 00b4 ABEB0A0B 		sub	fp, fp, r10
 1595 00b8 0BF1030B 		add	fp, fp, #3
 718:Drivers/SOES/Src/esc_coe.c ****          }
 1596              		.loc 1 718 38 view .LVU501
 1597 00bc 24F808B0 		strh	fp, [r4, r8]	@ unaligned
 1598 00c0 D7E7     		b	.L72
 1599              	.L73:
 722:Drivers/SOES/Src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1600              		.loc 1 722 13 is_stmt 1 view .LVU502
 722:Drivers/SOES/Src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1601              		.loc 1 722 35 is_stmt 0 view .LVU503
 1602 00c2 C5F10703 		rsb	r3, r5, #7
 1603 00c6 DBB2     		uxtb	r3, r3
 722:Drivers/SOES/Src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1604              		.loc 1 722 43 view .LVU504
 1605 00c8 5B00     		lsls	r3, r3, #1
 1606 00ca DBB2     		uxtb	r3, r3
 722:Drivers/SOES/Src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1607              		.loc 1 722 29 view .LVU505
 1608 00cc 1344     		add	r3, r3, r2
 1609 00ce 89F80830 		strb	r3, [r9, #8]
 723:Drivers/SOES/Src/esc_coe.c ****          }
 1610              		.loc 1 723 13 is_stmt 1 view .LVU506
 723:Drivers/SOES/Src/esc_coe.c ****          }
 1611              		.loc 1 723 38 is_stmt 0 view .LVU507
 1612 00d2 0A23     		movs	r3, #10
 1613 00d4 08F80430 		strb	r3, [r8, r4]
 1614 00d8 0023     		movs	r3, #0
 1615 00da 89F80130 		strb	r3, [r9, #1]
 1616 00de C8E7     		b	.L72
 1617              	.LVL136:
 1618              	.L78:
 731:Drivers/SOES/Src/esc_coe.c ****                coesdo->subindex, ESCvar.flags);
 1619              		.loc 1 731 10 is_stmt 1 view .LVU508
 731:Drivers/SOES/Src/esc_coe.c ****                coesdo->subindex, ESCvar.flags);
 1620              		.loc 1 731 18 is_stmt 0 view .LVU509
 1621 00e0 0B4B     		ldr	r3, .L79+8
 1622 00e2 B4F89E20 		ldrh	r2, [r4, #158]
 1623 00e6 D97A     		ldrb	r1, [r3, #11]	@ zero_extendqisi2
 1624 00e8 B3F80900 		ldrh	r0, [r3, #9]	@ unaligned
 1625 00ec FFF7FEFF 		bl	ESC_upload_post_objecthandler
 1626              	.LVL137:
 733:Drivers/SOES/Src/esc_coe.c ****          {
 1627              		.loc 1 733 10 is_stmt 1 view .LVU510
 733:Drivers/SOES/Src/esc_coe.c ****          {
 1628              		.loc 1 733 13 is_stmt 0 view .LVU511
 1629 00f0 0346     		mov	r3, r0
 1630 00f2 0028     		cmp	r0, #0
 1631 00f4 CAD0     		beq	.L74
 735:Drivers/SOES/Src/esc_coe.c ****             return;
 1632              		.loc 1 735 13 is_stmt 1 view .LVU512
 1633 00f6 0649     		ldr	r1, .L79+8
ARM GAS  /tmp/ccpADs8h.s 			page 65


 1634 00f8 CA7A     		ldrb	r2, [r1, #11]	@ zero_extendqisi2
 1635 00fa B1F80910 		ldrh	r1, [r1, #9]	@ unaligned
 1636 00fe 3046     		mov	r0, r6
 1637              	.LVL138:
 735:Drivers/SOES/Src/esc_coe.c ****             return;
 1638              		.loc 1 735 13 is_stmt 0 view .LVU513
 1639 0100 FFF7FEFF 		bl	set_state_idle
 1640              	.LVL139:
 736:Drivers/SOES/Src/esc_coe.c ****          }
 1641              		.loc 1 736 13 is_stmt 1 view .LVU514
 1642 0104 88E7     		b	.L69
 1643              	.L80:
 1644 0106 00BF     		.align	2
 1645              	.L79:
 1646 0108 00000000 		.word	MBXcontrol
 1647 010c 00000000 		.word	ESCvar
 1648 0110 00000000 		.word	MBX
 1649              	.LBE6:
 1650              		.cfi_endproc
 1651              	.LFE11:
 1653              		.section	.text.complete_access_subindex_loop,"ax",%progbits
 1654              		.align	1
 1655              		.syntax unified
 1656              		.thumb
 1657              		.thumb_func
 1659              	complete_access_subindex_loop:
 1660              	.LVL140:
 1661              	.LFB8:
 466:Drivers/SOES/Src/esc_coe.c ****    /* Objects with dynamic entries cannot be accessed with Complete Access */
 1662              		.loc 1 466 1 view -0
 1663              		.cfi_startproc
 1664              		@ args = 8, pretend = 0, frame = 0
 1665              		@ frame_needed = 0, uses_anonymous_args = 0
 466:Drivers/SOES/Src/esc_coe.c ****    /* Objects with dynamic entries cannot be accessed with Complete Access */
 1666              		.loc 1 466 1 is_stmt 0 view .LVU516
 1667 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1668              		.cfi_def_cfa_offset 40
 1669              		.cfi_offset 3, -40
 1670              		.cfi_offset 4, -36
 1671              		.cfi_offset 5, -32
 1672              		.cfi_offset 6, -28
 1673              		.cfi_offset 7, -24
 1674              		.cfi_offset 8, -20
 1675              		.cfi_offset 9, -16
 1676              		.cfi_offset 10, -12
 1677              		.cfi_offset 11, -8
 1678              		.cfi_offset 14, -4
 1679 0004 9846     		mov	r8, r3
 1680 0006 9DF828B0 		ldrb	fp, [sp, #40]	@ zero_extendqisi2
 1681 000a BDF82C90 		ldrh	r9, [sp, #44]
 468:Drivers/SOES/Src/esc_coe.c ****        (objd->datatype == DTYPE_OCTET_STRING)   ||
 1682              		.loc 1 468 4 is_stmt 1 view .LVU517
 468:Drivers/SOES/Src/esc_coe.c ****        (objd->datatype == DTYPE_OCTET_STRING)   ||
 1683              		.loc 1 468 13 is_stmt 0 view .LVU518
 1684 000e 4388     		ldrh	r3, [r0, #2]	@ unaligned
 1685              	.LVL141:
 469:Drivers/SOES/Src/esc_coe.c ****        (objd->datatype == DTYPE_UNICODE_STRING))
ARM GAS  /tmp/ccpADs8h.s 			page 66


 1686              		.loc 1 469 49 view .LVU519
 1687 0010 093B     		subs	r3, r3, #9
 1688 0012 9BB2     		uxth	r3, r3
 468:Drivers/SOES/Src/esc_coe.c ****        (objd->datatype == DTYPE_OCTET_STRING)   ||
 1689              		.loc 1 468 7 view .LVU520
 1690 0014 022B     		cmp	r3, #2
 1691 0016 40F2AF80 		bls	.L103
 1692 001a 8246     		mov	r10, r0
 1693 001c 0F46     		mov	r7, r1
 1694 001e 1446     		mov	r4, r2
 475:Drivers/SOES/Src/esc_coe.c **** 
 1695              		.loc 1 475 13 view .LVU521
 1696 0020 0026     		movs	r6, #0
 1697 0022 51E0     		b	.L83
 1698              	.LVL142:
 1699              	.L107:
 1700              	.LBB7:
 481:Drivers/SOES/Src/esc_coe.c ****       uint8_t bitoffset = size % 8;
 1701              		.loc 1 481 33 discriminator 2 view .LVU522
 1702 0024 03F10C01 		add	r1, r3, #12
 1703 0028 5FE0     		b	.L84
 1704              	.LVL143:
 1705              	.L90:
 500:Drivers/SOES/Src/esc_coe.c ****                         BITS2BYTES(bitlen));
 1706              		.loc 1 500 19 is_stmt 1 view .LVU523
 500:Drivers/SOES/Src/esc_coe.c ****                         BITS2BYTES(bitlen));
 1707              		.loc 1 500 35 is_stmt 0 view .LVU524
 1708 002a F01D     		adds	r0, r6, #7
 501:Drivers/SOES/Src/esc_coe.c ****                }
 1709              		.loc 1 501 25 view .LVU525
 1710 002c EA1D     		adds	r2, r5, #7
 1711              	.LVL144:
 500:Drivers/SOES/Src/esc_coe.c ****                         BITS2BYTES(bitlen));
 1712              		.loc 1 500 19 view .LVU526
 1713 002e D210     		asrs	r2, r2, #3
 1714 0030 08EBD000 		add	r0, r8, r0, lsr #3
 1715 0034 FFF7FEFF 		bl	memcpy
 1716              	.LVL145:
 500:Drivers/SOES/Src/esc_coe.c ****                         BITS2BYTES(bitlen));
 1717              		.loc 1 500 19 view .LVU527
 1718 0038 3AE0     		b	.L87
 1719              	.LVL146:
 1720              	.L88:
 510:Drivers/SOES/Src/esc_coe.c ****             {
 1721              		.loc 1 510 18 is_stmt 1 view .LVU528
 510:Drivers/SOES/Src/esc_coe.c ****             {
 1722              		.loc 1 510 21 is_stmt 0 view .LVU529
 1723 003a 13F0080F 		tst	r3, #8
 1724 003e 01D0     		beq	.L93
 510:Drivers/SOES/Src/esc_coe.c ****             {
 1725              		.loc 1 510 22 discriminator 1 view .LVU530
 1726 0040 022A     		cmp	r2, #2
 1727 0042 09D0     		beq	.L94
 1728              	.L93:
 510:Drivers/SOES/Src/esc_coe.c ****             {
 1729              		.loc 1 510 22 discriminator 3 view .LVU531
 1730 0044 13F0100F 		tst	r3, #16
ARM GAS  /tmp/ccpADs8h.s 			page 67


 1731 0048 01D0     		beq	.L95
 510:Drivers/SOES/Src/esc_coe.c ****             {
 1732              		.loc 1 510 22 discriminator 4 view .LVU532
 1733 004a 042A     		cmp	r2, #4
 1734 004c 04D0     		beq	.L94
 1735              	.L95:
 510:Drivers/SOES/Src/esc_coe.c ****             {
 1736              		.loc 1 510 22 discriminator 6 view .LVU533
 1737 004e 13F0200F 		tst	r3, #32
 1738 0052 2DD0     		beq	.L87
 510:Drivers/SOES/Src/esc_coe.c ****             {
 1739              		.loc 1 510 22 discriminator 7 view .LVU534
 1740 0054 082A     		cmp	r2, #8
 1741 0056 2BD1     		bne	.L87
 1742              	.L94:
 512:Drivers/SOES/Src/esc_coe.c ****                      BITS2BYTES(bitlen));
 1743              		.loc 1 512 16 is_stmt 1 view .LVU535
 512:Drivers/SOES/Src/esc_coe.c ****                      BITS2BYTES(bitlen));
 1744              		.loc 1 512 53 is_stmt 0 view .LVU536
 1745 0058 F11D     		adds	r1, r6, #7
 1746              	.LVL147:
 513:Drivers/SOES/Src/esc_coe.c ****             }
 1747              		.loc 1 513 22 view .LVU537
 1748 005a EA1D     		adds	r2, r5, #7
 1749              	.LVL148:
 512:Drivers/SOES/Src/esc_coe.c ****                      BITS2BYTES(bitlen));
 1750              		.loc 1 512 16 view .LVU538
 1751 005c D210     		asrs	r2, r2, #3
 1752 005e 08EBD101 		add	r1, r8, r1, lsr #3
 1753 0062 FFF7FEFF 		bl	memcpy
 1754              	.LVL149:
 512:Drivers/SOES/Src/esc_coe.c ****                      BITS2BYTES(bitlen));
 1755              		.loc 1 512 16 view .LVU539
 1756 0066 23E0     		b	.L87
 1757              	.LVL150:
 1758              	.L85:
 517:Drivers/SOES/Src/esc_coe.c ****       {
 1759              		.loc 1 517 12 is_stmt 1 view .LVU540
 517:Drivers/SOES/Src/esc_coe.c ****       {
 1760              		.loc 1 517 15 is_stmt 0 view .LVU541
 1761 0068 BBF1000F 		cmp	fp, #0
 1762 006c 20D1     		bne	.L87
 517:Drivers/SOES/Src/esc_coe.c ****       {
 1763              		.loc 1 517 38 discriminator 1 view .LVU542
 1764 006e B8F1000F 		cmp	r8, #0
 1765 0072 1DD0     		beq	.L87
 1766              	.LBB8:
 520:Drivers/SOES/Src/esc_coe.c ****          if (READ_ACCESS(access, state))
 1767              		.loc 1 520 10 is_stmt 1 view .LVU543
 520:Drivers/SOES/Src/esc_coe.c ****          if (READ_ACCESS(access, state))
 1768              		.loc 1 520 31 is_stmt 0 view .LVU544
 1769 0074 0120     		movs	r0, #1
 1770 0076 A840     		lsls	r0, r0, r5
 520:Drivers/SOES/Src/esc_coe.c ****          if (READ_ACCESS(access, state))
 1771              		.loc 1 520 42 view .LVU545
 1772 0078 C0B2     		uxtb	r0, r0
 520:Drivers/SOES/Src/esc_coe.c ****          if (READ_ACCESS(access, state))
ARM GAS  /tmp/ccpADs8h.s 			page 68


 1773              		.loc 1 520 18 view .LVU546
 1774 007a 0138     		subs	r0, r0, #1
 1775 007c C0B2     		uxtb	r0, r0
 1776              	.LVL151:
 521:Drivers/SOES/Src/esc_coe.c ****          {
 1777              		.loc 1 521 10 is_stmt 1 view .LVU547
 521:Drivers/SOES/Src/esc_coe.c ****          {
 1778              		.loc 1 521 13 is_stmt 0 view .LVU548
 1779 007e 13F0010F 		tst	r3, #1
 1780 0082 01D0     		beq	.L96
 521:Drivers/SOES/Src/esc_coe.c ****          {
 1781              		.loc 1 521 14 discriminator 1 view .LVU549
 1782 0084 022A     		cmp	r2, #2
 1783 0086 62D0     		beq	.L97
 1784              	.L96:
 521:Drivers/SOES/Src/esc_coe.c ****          {
 1785              		.loc 1 521 14 discriminator 3 view .LVU550
 1786 0088 13F0020F 		tst	r3, #2
 1787 008c 01D0     		beq	.L98
 521:Drivers/SOES/Src/esc_coe.c ****          {
 1788              		.loc 1 521 14 discriminator 4 view .LVU551
 1789 008e 042A     		cmp	r2, #4
 1790 0090 5DD0     		beq	.L97
 1791              	.L98:
 521:Drivers/SOES/Src/esc_coe.c ****          {
 1792              		.loc 1 521 14 discriminator 6 view .LVU552
 1793 0092 13F0040F 		tst	r3, #4
 1794 0096 01D0     		beq	.L99
 521:Drivers/SOES/Src/esc_coe.c ****          {
 1795              		.loc 1 521 14 discriminator 7 view .LVU553
 1796 0098 082A     		cmp	r2, #8
 1797 009a 58D0     		beq	.L97
 1798              	.L99:
 532:Drivers/SOES/Src/esc_coe.c ****          }
 1799              		.loc 1 532 13 is_stmt 1 view .LVU554
 532:Drivers/SOES/Src/esc_coe.c ****          }
 1800              		.loc 1 532 39 is_stmt 0 view .LVU555
 1801 009c F31D     		adds	r3, r6, #7
 1802              	.LVL152:
 532:Drivers/SOES/Src/esc_coe.c ****          }
 1803              		.loc 1 532 39 view .LVU556
 1804 009e DB08     		lsrs	r3, r3, #3
 532:Drivers/SOES/Src/esc_coe.c ****          }
 1805              		.loc 1 532 52 view .LVU557
 1806 00a0 00FA0CF0 		lsl	r0, r0, ip
 1807              	.LVL153:
 532:Drivers/SOES/Src/esc_coe.c ****          }
 1808              		.loc 1 532 39 view .LVU558
 1809 00a4 18F803C0 		ldrb	ip, [r8, r3]	@ zero_extendqisi2
 1810              	.LVL154:
 532:Drivers/SOES/Src/esc_coe.c ****          }
 1811              		.loc 1 532 39 view .LVU559
 1812 00a8 2CEA0000 		bic	r0, ip, r0
 1813 00ac 08F80300 		strb	r0, [r8, r3]
 1814              	.LVL155:
 1815              	.L87:
 532:Drivers/SOES/Src/esc_coe.c ****          }
ARM GAS  /tmp/ccpADs8h.s 			page 69


 1816              		.loc 1 532 39 view .LVU560
 1817              	.LBE8:
 537:Drivers/SOES/Src/esc_coe.c ****       nsub++;
 1818              		.loc 1 537 7 is_stmt 1 view .LVU561
 537:Drivers/SOES/Src/esc_coe.c ****       nsub++;
 1819              		.loc 1 537 32 is_stmt 0 view .LVU562
 1820 00b0 04B9     		cbnz	r4, .L101
 537:Drivers/SOES/Src/esc_coe.c ****       nsub++;
 1821              		.loc 1 537 32 view .LVU563
 1822 00b2 1025     		movs	r5, #16
 1823              	.L101:
 537:Drivers/SOES/Src/esc_coe.c ****       nsub++;
 1824              		.loc 1 537 12 discriminator 4 view .LVU564
 1825 00b4 2E44     		add	r6, r6, r5
 1826              	.LVL156:
 538:Drivers/SOES/Src/esc_coe.c **** 
 1827              		.loc 1 538 7 is_stmt 1 discriminator 4 view .LVU565
 538:Drivers/SOES/Src/esc_coe.c **** 
 1828              		.loc 1 538 11 is_stmt 0 discriminator 4 view .LVU566
 1829 00b6 0134     		adds	r4, r4, #1
 1830              	.LVL157:
 538:Drivers/SOES/Src/esc_coe.c **** 
 1831              		.loc 1 538 11 discriminator 4 view .LVU567
 1832 00b8 24B2     		sxth	r4, r4
 1833              	.LVL158:
 540:Drivers/SOES/Src/esc_coe.c ****       {
 1834              		.loc 1 540 7 is_stmt 1 discriminator 4 view .LVU568
 540:Drivers/SOES/Src/esc_coe.c ****       {
 1835              		.loc 1 540 10 is_stmt 0 discriminator 4 view .LVU569
 1836 00ba B9F1000F 		cmp	r9, #0
 1837 00be 03D0     		beq	.L83
 540:Drivers/SOES/Src/esc_coe.c ****       {
 1838              		.loc 1 540 31 discriminator 1 view .LVU570
 1839 00c0 F31D     		adds	r3, r6, #7
 540:Drivers/SOES/Src/esc_coe.c ****       {
 1840              		.loc 1 540 27 discriminator 1 view .LVU571
 1841 00c2 B9EBD30F 		cmp	r9, r3, lsr #3
 1842 00c6 58D9     		bls	.L81
 1843              	.LVL159:
 1844              	.L83:
 540:Drivers/SOES/Src/esc_coe.c ****       {
 1845              		.loc 1 540 27 discriminator 1 view .LVU572
 1846              	.LBE7:
 477:Drivers/SOES/Src/esc_coe.c ****    {
 1847              		.loc 1 477 10 is_stmt 1 view .LVU573
 477:Drivers/SOES/Src/esc_coe.c ****    {
 1848              		.loc 1 477 35 is_stmt 0 view .LVU574
 1849 00c8 C7EBC703 		rsb	r3, r7, r7, lsl #3
 1850 00cc 2C4A     		ldr	r2, .L108
 1851 00ce 02EB4303 		add	r3, r2, r3, lsl #1
 1852 00d2 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 477:Drivers/SOES/Src/esc_coe.c ****    {
 1853              		.loc 1 477 10 view .LVU575
 1854 00d4 9C42     		cmp	r4, r3
 1855 00d6 50DC     		bgt	.L81
 1856              	.LBB10:
 479:Drivers/SOES/Src/esc_coe.c ****       void *ul_source = ((objd + nsub)->data != NULL) ?
ARM GAS  /tmp/ccpADs8h.s 			page 70


 1857              		.loc 1 479 7 is_stmt 1 view .LVU576
 479:Drivers/SOES/Src/esc_coe.c ****       void *ul_source = ((objd + nsub)->data != NULL) ?
 1858              		.loc 1 479 31 is_stmt 0 view .LVU577
 1859 00d8 04EB8403 		add	r3, r4, r4, lsl #2
 1860 00dc 0AEB8303 		add	r3, r10, r3, lsl #2
 479:Drivers/SOES/Src/esc_coe.c ****       void *ul_source = ((objd + nsub)->data != NULL) ?
 1861              		.loc 1 479 16 view .LVU578
 1862 00e0 9D88     		ldrh	r5, [r3, #4]	@ unaligned
 1863              	.LVL160:
 480:Drivers/SOES/Src/esc_coe.c ****             (objd + nsub)->data : (void *)&((objd + nsub)->value);
 1864              		.loc 1 480 7 is_stmt 1 view .LVU579
 480:Drivers/SOES/Src/esc_coe.c ****             (objd + nsub)->data : (void *)&((objd + nsub)->value);
 1865              		.loc 1 480 39 is_stmt 0 view .LVU580
 1866 00e2 1869     		ldr	r0, [r3, #16]	@ unaligned
 481:Drivers/SOES/Src/esc_coe.c ****       uint8_t bitoffset = size % 8;
 1867              		.loc 1 481 33 view .LVU581
 1868 00e4 0028     		cmp	r0, #0
 1869 00e6 9DD0     		beq	.L107
 1870 00e8 0146     		mov	r1, r0
 1871              	.L84:
 1872              	.LVL161:
 482:Drivers/SOES/Src/esc_coe.c ****       uint8_t access = (objd + nsub)->flags & 0x3f;
 1873              		.loc 1 482 7 is_stmt 1 view .LVU582
 482:Drivers/SOES/Src/esc_coe.c ****       uint8_t access = (objd + nsub)->flags & 0x3f;
 1874              		.loc 1 482 15 is_stmt 0 view .LVU583
 1875 00ea 06F0070C 		and	ip, r6, #7
 1876              	.LVL162:
 483:Drivers/SOES/Src/esc_coe.c ****       uint8_t state = ESCvar.ALstatus & 0x0f;
 1877              		.loc 1 483 7 is_stmt 1 view .LVU584
 483:Drivers/SOES/Src/esc_coe.c ****       uint8_t state = ESCvar.ALstatus & 0x0f;
 1878              		.loc 1 483 37 is_stmt 0 view .LVU585
 1879 00ee DB88     		ldrh	r3, [r3, #6]	@ unaligned
 1880              	.LVL163:
 483:Drivers/SOES/Src/esc_coe.c ****       uint8_t state = ESCvar.ALstatus & 0x0f;
 1881              		.loc 1 483 45 view .LVU586
 1882 00f0 DBB2     		uxtb	r3, r3
 1883              	.LVL164:
 484:Drivers/SOES/Src/esc_coe.c **** 
 1884              		.loc 1 484 7 is_stmt 1 view .LVU587
 484:Drivers/SOES/Src/esc_coe.c **** 
 1885              		.loc 1 484 39 is_stmt 0 view .LVU588
 1886 00f2 244A     		ldr	r2, .L108+4
 1887 00f4 92F87C20 		ldrb	r2, [r2, #124]	@ zero_extendqisi2
 484:Drivers/SOES/Src/esc_coe.c **** 
 1888              		.loc 1 484 15 view .LVU589
 1889 00f8 02F00F02 		and	r2, r2, #15
 1890              	.LVL165:
 486:Drivers/SOES/Src/esc_coe.c ****       {
 1891              		.loc 1 486 7 is_stmt 1 view .LVU590
 486:Drivers/SOES/Src/esc_coe.c ****       {
 1892              		.loc 1 486 10 is_stmt 0 view .LVU591
 1893 00fc 15F0070F 		tst	r5, #7
 1894 0100 B2D1     		bne	.L85
 488:Drivers/SOES/Src/esc_coe.c ****          {
 1895              		.loc 1 488 10 is_stmt 1 view .LVU592
 488:Drivers/SOES/Src/esc_coe.c ****          {
 1896              		.loc 1 488 13 is_stmt 0 view .LVU593
ARM GAS  /tmp/ccpADs8h.s 			page 71


 1897 0102 BCF1000F 		cmp	ip, #0
 1898 0106 02D0     		beq	.L86
 491:Drivers/SOES/Src/esc_coe.c ****          }
 1899              		.loc 1 491 13 is_stmt 1 view .LVU594
 491:Drivers/SOES/Src/esc_coe.c ****          }
 1900              		.loc 1 491 18 is_stmt 0 view .LVU595
 1901 0108 A6EB0C06 		sub	r6, r6, ip
 1902              	.LVL166:
 491:Drivers/SOES/Src/esc_coe.c ****          }
 1903              		.loc 1 491 18 view .LVU596
 1904 010c 0836     		adds	r6, r6, #8
 1905              	.LVL167:
 1906              	.L86:
 493:Drivers/SOES/Src/esc_coe.c ****          {
 1907              		.loc 1 493 10 is_stmt 1 view .LVU597
 493:Drivers/SOES/Src/esc_coe.c ****          {
 1908              		.loc 1 493 13 is_stmt 0 view .LVU598
 1909 010e B8F1000F 		cmp	r8, #0
 1910 0112 CDD0     		beq	.L87
 496:Drivers/SOES/Src/esc_coe.c ****             {
 1911              		.loc 1 496 13 is_stmt 1 view .LVU599
 496:Drivers/SOES/Src/esc_coe.c ****             {
 1912              		.loc 1 496 16 is_stmt 0 view .LVU600
 1913 0114 BBF1000F 		cmp	fp, #0
 1914 0118 8FD1     		bne	.L88
 498:Drivers/SOES/Src/esc_coe.c ****                {
 1915              		.loc 1 498 16 is_stmt 1 view .LVU601
 498:Drivers/SOES/Src/esc_coe.c ****                {
 1916              		.loc 1 498 19 is_stmt 0 view .LVU602
 1917 011a 13F0010F 		tst	r3, #1
 1918 011e 01D0     		beq	.L89
 498:Drivers/SOES/Src/esc_coe.c ****                {
 1919              		.loc 1 498 20 discriminator 1 view .LVU603
 1920 0120 022A     		cmp	r2, #2
 1921 0122 82D0     		beq	.L90
 1922              	.L89:
 498:Drivers/SOES/Src/esc_coe.c ****                {
 1923              		.loc 1 498 20 discriminator 3 view .LVU604
 1924 0124 13F0020F 		tst	r3, #2
 1925 0128 02D0     		beq	.L91
 498:Drivers/SOES/Src/esc_coe.c ****                {
 1926              		.loc 1 498 20 discriminator 4 view .LVU605
 1927 012a 042A     		cmp	r2, #4
 1928 012c 3FF47DAF 		beq	.L90
 1929              	.L91:
 498:Drivers/SOES/Src/esc_coe.c ****                {
 1930              		.loc 1 498 20 discriminator 6 view .LVU606
 1931 0130 13F0040F 		tst	r3, #4
 1932 0134 02D0     		beq	.L92
 498:Drivers/SOES/Src/esc_coe.c ****                {
 1933              		.loc 1 498 20 discriminator 7 view .LVU607
 1934 0136 082A     		cmp	r2, #8
 1935 0138 3FF477AF 		beq	.L90
 1936              	.L92:
 506:Drivers/SOES/Src/esc_coe.c ****                }
 1937              		.loc 1 506 19 is_stmt 1 view .LVU608
 506:Drivers/SOES/Src/esc_coe.c ****                }
ARM GAS  /tmp/ccpADs8h.s 			page 72


 1938              		.loc 1 506 35 is_stmt 0 view .LVU609
 1939 013c F01D     		adds	r0, r6, #7
 506:Drivers/SOES/Src/esc_coe.c ****                }
 1940              		.loc 1 506 57 view .LVU610
 1941 013e EA1D     		adds	r2, r5, #7
 1942              	.LVL168:
 506:Drivers/SOES/Src/esc_coe.c ****                }
 1943              		.loc 1 506 19 view .LVU611
 1944 0140 D210     		asrs	r2, r2, #3
 1945 0142 0021     		movs	r1, #0
 1946              	.LVL169:
 506:Drivers/SOES/Src/esc_coe.c ****                }
 1947              		.loc 1 506 19 view .LVU612
 1948 0144 08EBD000 		add	r0, r8, r0, lsr #3
 1949 0148 FFF7FEFF 		bl	memset
 1950              	.LVL170:
 506:Drivers/SOES/Src/esc_coe.c ****                }
 1951              		.loc 1 506 19 view .LVU613
 1952 014c B0E7     		b	.L87
 1953              	.LVL171:
 1954              	.L97:
 1955              	.LBB9:
 523:Drivers/SOES/Src/esc_coe.c ****             {
 1956              		.loc 1 523 13 is_stmt 1 view .LVU614
 523:Drivers/SOES/Src/esc_coe.c ****             {
 1957              		.loc 1 523 16 is_stmt 0 view .LVU615
 1958 014e BCF1000F 		cmp	ip, #0
 1959 0152 04D1     		bne	.L100
 525:Drivers/SOES/Src/esc_coe.c ****             }
 1960              		.loc 1 525 16 is_stmt 1 view .LVU616
 525:Drivers/SOES/Src/esc_coe.c ****             }
 1961              		.loc 1 525 24 is_stmt 0 view .LVU617
 1962 0154 F31D     		adds	r3, r6, #7
 1963              	.LVL172:
 525:Drivers/SOES/Src/esc_coe.c ****             }
 1964              		.loc 1 525 24 view .LVU618
 1965 0156 DB08     		lsrs	r3, r3, #3
 525:Drivers/SOES/Src/esc_coe.c ****             }
 1966              		.loc 1 525 42 view .LVU619
 1967 0158 0022     		movs	r2, #0
 1968              	.LVL173:
 525:Drivers/SOES/Src/esc_coe.c ****             }
 1969              		.loc 1 525 42 view .LVU620
 1970 015a 08F80320 		strb	r2, [r8, r3]
 1971              	.LVL174:
 1972              	.L100:
 527:Drivers/SOES/Src/esc_coe.c ****                   (*(uint8_t *)ul_source & bitmask) << bitoffset;
 1973              		.loc 1 527 13 is_stmt 1 view .LVU621
 527:Drivers/SOES/Src/esc_coe.c ****                   (*(uint8_t *)ul_source & bitmask) << bitoffset;
 1974              		.loc 1 527 39 is_stmt 0 view .LVU622
 1975 015e F31D     		adds	r3, r6, #7
 1976 0160 DB08     		lsrs	r3, r3, #3
 528:Drivers/SOES/Src/esc_coe.c ****          }
 1977              		.loc 1 528 20 view .LVU623
 1978 0162 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 528:Drivers/SOES/Src/esc_coe.c ****          }
 1979              		.loc 1 528 42 view .LVU624
ARM GAS  /tmp/ccpADs8h.s 			page 73


 1980 0164 1040     		ands	r0, r0, r2
 1981              	.LVL175:
 528:Drivers/SOES/Src/esc_coe.c ****          }
 1982              		.loc 1 528 53 view .LVU625
 1983 0166 00FA0CFC 		lsl	ip, r0, ip
 1984              	.LVL176:
 527:Drivers/SOES/Src/esc_coe.c ****                   (*(uint8_t *)ul_source & bitmask) << bitoffset;
 1985              		.loc 1 527 39 view .LVU626
 1986 016a 18F80300 		ldrb	r0, [r8, r3]	@ zero_extendqisi2
 1987 016e 40EA0C0C 		orr	ip, r0, ip
 1988 0172 08F803C0 		strb	ip, [r8, r3]
 1989 0176 9BE7     		b	.L87
 1990              	.LVL177:
 1991              	.L103:
 527:Drivers/SOES/Src/esc_coe.c ****                   (*(uint8_t *)ul_source & bitmask) << bitoffset;
 1992              		.loc 1 527 39 view .LVU627
 1993              	.LBE9:
 1994              	.LBE10:
 472:Drivers/SOES/Src/esc_coe.c ****    }
 1995              		.loc 1 472 14 view .LVU628
 1996 0178 034E     		ldr	r6, .L108+8
 1997              	.LVL178:
 1998              	.L81:
 547:Drivers/SOES/Src/esc_coe.c **** 
 1999              		.loc 1 547 1 view .LVU629
 2000 017a 3046     		mov	r0, r6
 2001 017c BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2002              	.LVL179:
 2003              	.L109:
 547:Drivers/SOES/Src/esc_coe.c **** 
 2004              		.loc 1 547 1 view .LVU630
 2005              		.align	2
 2006              	.L108:
 2007 0180 00000000 		.word	SDOobjects
 2008 0184 00000000 		.word	ESCvar
 2009 0188 04000106 		.word	100728836
 2010              		.cfi_endproc
 2011              	.LFE8:
 2013              		.section	.text.SDO_downloadsegment,"ax",%progbits
 2014              		.align	1
 2015              		.syntax unified
 2016              		.thumb
 2017              		.thumb_func
 2019              	SDO_downloadsegment:
 2020              	.LFB14:
 985:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coesdo = (_COEsdo *) &MBX[0];
 2021              		.loc 1 985 1 is_stmt 1 view -0
 2022              		.cfi_startproc
 2023              		@ args = 0, pretend = 0, frame = 8
 2024              		@ frame_needed = 0, uses_anonymous_args = 0
 2025 0000 70B5     		push	{r4, r5, r6, lr}
 2026              		.cfi_def_cfa_offset 16
 2027              		.cfi_offset 4, -16
 2028              		.cfi_offset 5, -12
 2029              		.cfi_offset 6, -8
 2030              		.cfi_offset 14, -4
 2031 0002 84B0     		sub	sp, sp, #16
ARM GAS  /tmp/ccpADs8h.s 			page 74


 2032              		.cfi_def_cfa_offset 32
 986:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout = ESC_claimbuffer ();
 2033              		.loc 1 986 4 view .LVU632
 2034              	.LVL180:
 987:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
 2035              		.loc 1 987 4 view .LVU633
 987:Drivers/SOES/Src/esc_coe.c ****    if (MBXout)
 2036              		.loc 1 987 21 is_stmt 0 view .LVU634
 2037 0004 FFF7FEFF 		bl	ESC_claimbuffer
 2038              	.LVL181:
 988:Drivers/SOES/Src/esc_coe.c ****    {
 2039              		.loc 1 988 4 is_stmt 1 view .LVU635
 988:Drivers/SOES/Src/esc_coe.c ****    {
 2040              		.loc 1 988 7 is_stmt 0 view .LVU636
 2041 0008 50B3     		cbz	r0, .L111
 2042 000a 0646     		mov	r6, r0
 2043              	.LBB11:
 990:Drivers/SOES/Src/esc_coe.c ****       uint32_t size = coesdo->mbxheader.length - 3;
 2044              		.loc 1 990 7 is_stmt 1 view .LVU637
 990:Drivers/SOES/Src/esc_coe.c ****       uint32_t size = coesdo->mbxheader.length - 3;
 2045              		.loc 1 990 51 is_stmt 0 view .LVU638
 2046 000c 284B     		ldr	r3, .L119
 2047 000e 986E     		ldr	r0, [r3, #104]
 2048              	.LVL182:
 990:Drivers/SOES/Src/esc_coe.c ****       uint32_t size = coesdo->mbxheader.length - 3;
 2049              		.loc 1 990 16 view .LVU639
 2050 0010 284B     		ldr	r3, .L119+4
 2051 0012 00FB0630 		mla	r0, r0, r6, r3
 2052              	.LVL183:
 991:Drivers/SOES/Src/esc_coe.c ****       if (size == 7)
 2053              		.loc 1 991 7 is_stmt 1 view .LVU640
 991:Drivers/SOES/Src/esc_coe.c ****       if (size == 7)
 2054              		.loc 1 991 40 is_stmt 0 view .LVU641
 2055 0016 1B88     		ldrh	r3, [r3]	@ unaligned
 991:Drivers/SOES/Src/esc_coe.c ****       if (size == 7)
 2056              		.loc 1 991 48 view .LVU642
 2057 0018 DC1E     		subs	r4, r3, #3
 2058              	.LVL184:
 992:Drivers/SOES/Src/esc_coe.c ****       {
 2059              		.loc 1 992 7 is_stmt 1 view .LVU643
 992:Drivers/SOES/Src/esc_coe.c ****       {
 2060              		.loc 1 992 10 is_stmt 0 view .LVU644
 2061 001a 0A2B     		cmp	r3, #10
 2062 001c 28D0     		beq	.L117
 2063              	.L112:
 996:Drivers/SOES/Src/esc_coe.c ****             (coesdo->command & COE_TOGGLEBIT);  /* copy toggle bit */
 2064              		.loc 1 996 7 is_stmt 1 view .LVU645
 997:Drivers/SOES/Src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE, command, 0, 0);
 2065              		.loc 1 997 20 is_stmt 0 view .LVU646
 2066 001e 254D     		ldr	r5, .L119+4
 2067 0020 2A7A     		ldrb	r2, [r5, #8]	@ zero_extendqisi2
 997:Drivers/SOES/Src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE, command, 0, 0);
 2068              		.loc 1 997 30 view .LVU647
 2069 0022 02F01002 		and	r2, r2, #16
 2070              	.LVL185:
 998:Drivers/SOES/Src/esc_coe.c **** 
 2071              		.loc 1 998 7 is_stmt 1 view .LVU648
ARM GAS  /tmp/ccpADs8h.s 			page 75


 2072 0026 0023     		movs	r3, #0
 2073 0028 0093     		str	r3, [sp]
 2074 002a 2032     		adds	r2, r2, #32
 2075              	.LVL186:
 998:Drivers/SOES/Src/esc_coe.c **** 
 2076              		.loc 1 998 7 is_stmt 0 view .LVU649
 2077 002c 0321     		movs	r1, #3
 2078 002e FFF7FEFF 		bl	init_coesdo
 2079              	.LVL187:
1000:Drivers/SOES/Src/esc_coe.c ****       uint32_t *mbxdata = &size_value;  /* data pointer */
 2080              		.loc 1 1000 7 is_stmt 1 view .LVU650
1000:Drivers/SOES/Src/esc_coe.c ****       uint32_t *mbxdata = &size_value;  /* data pointer */
 2081              		.loc 1 1000 35 is_stmt 0 view .LVU651
 2082 0032 B5F80930 		ldrh	r3, [r5, #9]	@ unaligned
1000:Drivers/SOES/Src/esc_coe.c ****       uint32_t *mbxdata = &size_value;  /* data pointer */
 2083              		.loc 1 1000 16 view .LVU652
 2084 0036 0393     		str	r3, [sp, #12]
1001:Drivers/SOES/Src/esc_coe.c ****       copy2mbx (mbxdata, (uint8_t *)ESCvar.data, size);
 2085              		.loc 1 1001 7 is_stmt 1 view .LVU653
 2086              	.LVL188:
1002:Drivers/SOES/Src/esc_coe.c **** 
 2087              		.loc 1 1002 7 view .LVU654
 2088 0038 A2B2     		uxth	r2, r4
 2089 003a 1D4B     		ldr	r3, .L119
 2090 003c D3F89010 		ldr	r1, [r3, #144]
 2091 0040 03A8     		add	r0, sp, #12
 2092              	.LVL189:
1002:Drivers/SOES/Src/esc_coe.c **** 
 2093              		.loc 1 1002 7 is_stmt 0 view .LVU655
 2094 0042 FFF7FEFF 		bl	copy2mbx
 2095              	.LVL190:
1004:Drivers/SOES/Src/esc_coe.c ****       {
 2096              		.loc 1 1004 7 is_stmt 1 view .LVU656
1004:Drivers/SOES/Src/esc_coe.c ****       {
 2097              		.loc 1 1004 17 is_stmt 0 view .LVU657
 2098 0046 2B7A     		ldrb	r3, [r5, #8]	@ zero_extendqisi2
1004:Drivers/SOES/Src/esc_coe.c ****       {
 2099              		.loc 1 1004 10 view .LVU658
 2100 0048 13F0010F 		tst	r3, #1
 2101 004c 17D1     		bne	.L118
1021:Drivers/SOES/Src/esc_coe.c ****       }
 2102              		.loc 1 1021 10 is_stmt 1 view .LVU659
1021:Drivers/SOES/Src/esc_coe.c ****       }
 2103              		.loc 1 1021 22 is_stmt 0 view .LVU660
 2104 004e 184A     		ldr	r2, .L119
 2105 0050 D2F89030 		ldr	r3, [r2, #144]
 2106 0054 2344     		add	r3, r3, r4
 2107 0056 C2F89030 		str	r3, [r2, #144]
 2108              	.L114:
1024:Drivers/SOES/Src/esc_coe.c ****    }
 2109              		.loc 1 1024 7 is_stmt 1 discriminator 1 view .LVU661
1024:Drivers/SOES/Src/esc_coe.c ****    }
 2110              		.loc 1 1024 32 is_stmt 0 discriminator 1 view .LVU662
 2111 005a 174B     		ldr	r3, .L119+8
 2112 005c 0322     		movs	r2, #3
 2113 005e 9A55     		strb	r2, [r3, r6]
 2114              	.LVL191:
ARM GAS  /tmp/ccpADs8h.s 			page 76


 2115              	.L111:
1024:Drivers/SOES/Src/esc_coe.c ****    }
 2116              		.loc 1 1024 32 discriminator 1 view .LVU663
 2117              	.LBE11:
1027:Drivers/SOES/Src/esc_coe.c **** }
 2118              		.loc 1 1027 4 is_stmt 1 view .LVU664
 2119 0060 0023     		movs	r3, #0
 2120 0062 1A46     		mov	r2, r3
 2121 0064 1946     		mov	r1, r3
 2122 0066 1846     		mov	r0, r3
 2123 0068 FFF7FEFF 		bl	set_state_idle
 2124              	.LVL192:
 2125              	.L110:
1028:Drivers/SOES/Src/esc_coe.c **** 
 2126              		.loc 1 1028 1 is_stmt 0 view .LVU665
 2127 006c 04B0     		add	sp, sp, #16
 2128              		.cfi_remember_state
 2129              		.cfi_def_cfa_offset 16
 2130              		@ sp needed
 2131 006e 70BD     		pop	{r4, r5, r6, pc}
 2132              	.LVL193:
 2133              	.L117:
 2134              		.cfi_restore_state
 2135              	.LBB13:
 994:Drivers/SOES/Src/esc_coe.c ****       }
 2136              		.loc 1 994 10 is_stmt 1 view .LVU666
 994:Drivers/SOES/Src/esc_coe.c ****       }
 2137              		.loc 1 994 29 is_stmt 0 view .LVU667
 2138 0070 104B     		ldr	r3, .L119+4
 2139 0072 1C7A     		ldrb	r4, [r3, #8]	@ zero_extendqisi2
 2140              	.LVL194:
 994:Drivers/SOES/Src/esc_coe.c ****       }
 2141              		.loc 1 994 19 view .LVU668
 2142 0074 6FEA5404 		mvn	r4, r4, lsr #1
 994:Drivers/SOES/Src/esc_coe.c ****       }
 2143              		.loc 1 994 15 view .LVU669
 2144 0078 04F00704 		and	r4, r4, #7
 2145              	.LVL195:
 994:Drivers/SOES/Src/esc_coe.c ****       }
 2146              		.loc 1 994 15 view .LVU670
 2147 007c CFE7     		b	.L112
 2148              	.LVL196:
 2149              	.L118:
 2150              	.LBB12:
1007:Drivers/SOES/Src/esc_coe.c **** 
 2151              		.loc 1 1007 10 is_stmt 1 view .LVU671
1007:Drivers/SOES/Src/esc_coe.c **** 
 2152              		.loc 1 1007 27 is_stmt 0 view .LVU672
 2153 007e 0C4B     		ldr	r3, .L119
 2154 0080 0022     		movs	r2, #0
 2155 0082 83F88D20 		strb	r2, [r3, #141]
1010:Drivers/SOES/Src/esc_coe.c ****                (ESCvar.index, ESCvar.subindex, ESCvar.flags);
 2156              		.loc 1 1010 10 is_stmt 1 view .LVU673
1010:Drivers/SOES/Src/esc_coe.c ****                (ESCvar.index, ESCvar.subindex, ESCvar.flags);
 2157              		.loc 1 1010 27 is_stmt 0 view .LVU674
 2158 0086 B3F89E20 		ldrh	r2, [r3, #158]
 2159 008a 93F89C10 		ldrb	r1, [r3, #156]	@ zero_extendqisi2
ARM GAS  /tmp/ccpADs8h.s 			page 77


 2160 008e B3F89A00 		ldrh	r0, [r3, #154]
 2161 0092 FFF7FEFF 		bl	ESC_download_post_objecthandler
 2162              	.LVL197:
1012:Drivers/SOES/Src/esc_coe.c ****          {
 2163              		.loc 1 1012 10 is_stmt 1 view .LVU675
1012:Drivers/SOES/Src/esc_coe.c ****          {
 2164              		.loc 1 1012 13 is_stmt 0 view .LVU676
 2165 0096 0346     		mov	r3, r0
 2166 0098 0028     		cmp	r0, #0
 2167 009a DED0     		beq	.L114
1014:Drivers/SOES/Src/esc_coe.c ****             return;
 2168              		.loc 1 1014 13 is_stmt 1 view .LVU677
 2169 009c 0449     		ldr	r1, .L119
 2170 009e 91F89C20 		ldrb	r2, [r1, #156]	@ zero_extendqisi2
 2171 00a2 B1F89A10 		ldrh	r1, [r1, #154]
 2172 00a6 3046     		mov	r0, r6
 2173              	.LVL198:
1014:Drivers/SOES/Src/esc_coe.c ****             return;
 2174              		.loc 1 1014 13 is_stmt 0 view .LVU678
 2175 00a8 FFF7FEFF 		bl	set_state_idle
 2176              	.LVL199:
1015:Drivers/SOES/Src/esc_coe.c ****          }
 2177              		.loc 1 1015 13 is_stmt 1 view .LVU679
 2178 00ac DEE7     		b	.L110
 2179              	.L120:
 2180 00ae 00BF     		.align	2
 2181              	.L119:
 2182 00b0 00000000 		.word	ESCvar
 2183 00b4 00000000 		.word	MBX
 2184 00b8 00000000 		.word	MBXcontrol
 2185              	.LBE12:
 2186              	.LBE13:
 2187              		.cfi_endproc
 2188              	.LFE14:
 2190              		.section	.rodata.COE_getValue.str1.4,"aMS",%progbits,1
 2191              		.align	2
 2192              	.LC0:
 2193 0000 3000     		.ascii	"0\000"
 2194 0002 0000     		.align	2
 2195              	.LC1:
 2196 0004 44726976 		.ascii	"Drivers/SOES/Src/esc_coe.c\000"
 2196      6572732F 
 2196      534F4553 
 2196      2F537263 
 2196      2F657363 
 2197              		.section	.text.COE_getValue,"ax",%progbits
 2198              		.align	1
 2199              		.syntax unified
 2200              		.thumb
 2201              		.thumb_func
 2203              	COE_getValue:
 2204              	.LVL200:
 2205              	.LFB23:
1549:Drivers/SOES/Src/esc_coe.c ****    uint64_t value = 0;
 2206              		.loc 1 1549 1 view -0
 2207              		.cfi_startproc
 2208              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccpADs8h.s 			page 78


 2209              		@ frame_needed = 0, uses_anonymous_args = 0
1549:Drivers/SOES/Src/esc_coe.c ****    uint64_t value = 0;
 2210              		.loc 1 1549 1 is_stmt 0 view .LVU681
 2211 0000 08B5     		push	{r3, lr}
 2212              		.cfi_def_cfa_offset 8
 2213              		.cfi_offset 3, -8
 2214              		.cfi_offset 14, -4
1550:Drivers/SOES/Src/esc_coe.c **** 
 2215              		.loc 1 1550 4 is_stmt 1 view .LVU682
 2216              	.LVL201:
1554:Drivers/SOES/Src/esc_coe.c ****    {
 2217              		.loc 1 1554 4 view .LVU683
1554:Drivers/SOES/Src/esc_coe.c ****    {
 2218              		.loc 1 1554 14 is_stmt 0 view .LVU684
 2219 0002 4388     		ldrh	r3, [r0, #2]	@ unaligned
1554:Drivers/SOES/Src/esc_coe.c ****    {
 2220              		.loc 1 1554 4 view .LVU685
 2221 0004 013B     		subs	r3, r3, #1
 2222 0006 362B     		cmp	r3, #54
 2223 0008 2DD8     		bhi	.L122
 2224 000a DFE803F0 		tbb	[pc, r3]
 2225              	.L124:
 2226 000e 1C       		.byte	(.L123-.L124)/2
 2227 000f 1C       		.byte	(.L123-.L124)/2
 2228 0010 20       		.byte	(.L126-.L124)/2
 2229 0011 24       		.byte	(.L125-.L124)/2
 2230 0012 1C       		.byte	(.L123-.L124)/2
 2231 0013 20       		.byte	(.L126-.L124)/2
 2232 0014 24       		.byte	(.L125-.L124)/2
 2233 0015 24       		.byte	(.L125-.L124)/2
 2234 0016 2C       		.byte	(.L122-.L124)/2
 2235 0017 2C       		.byte	(.L122-.L124)/2
 2236 0018 2C       		.byte	(.L122-.L124)/2
 2237 0019 2C       		.byte	(.L122-.L124)/2
 2238 001a 2C       		.byte	(.L122-.L124)/2
 2239 001b 2C       		.byte	(.L122-.L124)/2
 2240 001c 2C       		.byte	(.L122-.L124)/2
 2241 001d 2C       		.byte	(.L122-.L124)/2
 2242 001e 28       		.byte	(.L127-.L124)/2
 2243 001f 2C       		.byte	(.L122-.L124)/2
 2244 0020 2C       		.byte	(.L122-.L124)/2
 2245 0021 2C       		.byte	(.L122-.L124)/2
 2246 0022 28       		.byte	(.L127-.L124)/2
 2247 0023 2C       		.byte	(.L122-.L124)/2
 2248 0024 2C       		.byte	(.L122-.L124)/2
 2249 0025 2C       		.byte	(.L122-.L124)/2
 2250 0026 2C       		.byte	(.L122-.L124)/2
 2251 0027 2C       		.byte	(.L122-.L124)/2
 2252 0028 28       		.byte	(.L127-.L124)/2
 2253 0029 2C       		.byte	(.L122-.L124)/2
 2254 002a 2C       		.byte	(.L122-.L124)/2
 2255 002b 2C       		.byte	(.L122-.L124)/2
 2256 002c 2C       		.byte	(.L122-.L124)/2
 2257 002d 2C       		.byte	(.L122-.L124)/2
 2258 002e 2C       		.byte	(.L122-.L124)/2
 2259 002f 2C       		.byte	(.L122-.L124)/2
 2260 0030 2C       		.byte	(.L122-.L124)/2
ARM GAS  /tmp/ccpADs8h.s 			page 79


 2261 0031 2C       		.byte	(.L122-.L124)/2
 2262 0032 2C       		.byte	(.L122-.L124)/2
 2263 0033 2C       		.byte	(.L122-.L124)/2
 2264 0034 2C       		.byte	(.L122-.L124)/2
 2265 0035 2C       		.byte	(.L122-.L124)/2
 2266 0036 2C       		.byte	(.L122-.L124)/2
 2267 0037 2C       		.byte	(.L122-.L124)/2
 2268 0038 2C       		.byte	(.L122-.L124)/2
 2269 0039 2C       		.byte	(.L122-.L124)/2
 2270 003a 1C       		.byte	(.L123-.L124)/2
 2271 003b 20       		.byte	(.L126-.L124)/2
 2272 003c 24       		.byte	(.L125-.L124)/2
 2273 003d 1C       		.byte	(.L123-.L124)/2
 2274 003e 1C       		.byte	(.L123-.L124)/2
 2275 003f 1C       		.byte	(.L123-.L124)/2
 2276 0040 1C       		.byte	(.L123-.L124)/2
 2277 0041 1C       		.byte	(.L123-.L124)/2
 2278 0042 1C       		.byte	(.L123-.L124)/2
 2279 0043 1C       		.byte	(.L123-.L124)/2
 2280 0044 1C       		.byte	(.L123-.L124)/2
 2281 0045 00       		.p2align 1
 2282              	.L123:
1568:Drivers/SOES/Src/esc_coe.c ****       break;
 2283              		.loc 1 1568 7 is_stmt 1 view .LVU686
1568:Drivers/SOES/Src/esc_coe.c ****       break;
 2284              		.loc 1 1568 30 is_stmt 0 view .LVU687
 2285 0046 0369     		ldr	r3, [r0, #16]	@ unaligned
1568:Drivers/SOES/Src/esc_coe.c ****       break;
 2286              		.loc 1 1568 13 view .LVU688
 2287 0048 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 2288              	.LVL202:
1568:Drivers/SOES/Src/esc_coe.c ****       break;
 2289              		.loc 1 1568 13 view .LVU689
 2290 004a 0021     		movs	r1, #0
 2291              	.LVL203:
1569:Drivers/SOES/Src/esc_coe.c **** 
 2292              		.loc 1 1569 7 is_stmt 1 view .LVU690
 2293              	.L121:
1596:Drivers/SOES/Src/esc_coe.c **** 
 2294              		.loc 1 1596 1 is_stmt 0 view .LVU691
 2295 004c 08BD     		pop	{r3, pc}
 2296              	.LVL204:
 2297              	.L126:
1574:Drivers/SOES/Src/esc_coe.c ****       break;
 2298              		.loc 1 1574 7 is_stmt 1 view .LVU692
1574:Drivers/SOES/Src/esc_coe.c ****       break;
 2299              		.loc 1 1574 31 is_stmt 0 view .LVU693
 2300 004e 0369     		ldr	r3, [r0, #16]	@ unaligned
1574:Drivers/SOES/Src/esc_coe.c ****       break;
 2301              		.loc 1 1574 13 view .LVU694
 2302 0050 1888     		ldrh	r0, [r3]
 2303              	.LVL205:
1574:Drivers/SOES/Src/esc_coe.c ****       break;
 2304              		.loc 1 1574 13 view .LVU695
 2305 0052 0021     		movs	r1, #0
 2306              	.LVL206:
1575:Drivers/SOES/Src/esc_coe.c **** 
ARM GAS  /tmp/ccpADs8h.s 			page 80


 2307              		.loc 1 1575 7 is_stmt 1 view .LVU696
 2308 0054 FAE7     		b	.L121
 2309              	.LVL207:
 2310              	.L125:
1581:Drivers/SOES/Src/esc_coe.c ****       break;
 2311              		.loc 1 1581 7 view .LVU697
1581:Drivers/SOES/Src/esc_coe.c ****       break;
 2312              		.loc 1 1581 31 is_stmt 0 view .LVU698
 2313 0056 0369     		ldr	r3, [r0, #16]	@ unaligned
1581:Drivers/SOES/Src/esc_coe.c ****       break;
 2314              		.loc 1 1581 13 view .LVU699
 2315 0058 1868     		ldr	r0, [r3]
 2316              	.LVL208:
1581:Drivers/SOES/Src/esc_coe.c ****       break;
 2317              		.loc 1 1581 13 view .LVU700
 2318 005a 0021     		movs	r1, #0
 2319              	.LVL209:
1582:Drivers/SOES/Src/esc_coe.c **** 
 2320              		.loc 1 1582 7 is_stmt 1 view .LVU701
 2321 005c F6E7     		b	.L121
 2322              	.LVL210:
 2323              	.L127:
1588:Drivers/SOES/Src/esc_coe.c ****       break;
 2324              		.loc 1 1588 7 view .LVU702
1588:Drivers/SOES/Src/esc_coe.c ****       break;
 2325              		.loc 1 1588 31 is_stmt 0 view .LVU703
 2326 005e 0369     		ldr	r3, [r0, #16]	@ unaligned
1588:Drivers/SOES/Src/esc_coe.c ****       break;
 2327              		.loc 1 1588 13 view .LVU704
 2328 0060 1868     		ldr	r0, [r3]
 2329              	.LVL211:
1588:Drivers/SOES/Src/esc_coe.c ****       break;
 2330              		.loc 1 1588 13 view .LVU705
 2331 0062 5968     		ldr	r1, [r3, #4]
 2332              	.LVL212:
1589:Drivers/SOES/Src/esc_coe.c **** 
 2333              		.loc 1 1589 7 is_stmt 1 view .LVU706
 2334 0064 F2E7     		b	.L121
 2335              	.LVL213:
 2336              	.L122:
1592:Drivers/SOES/Src/esc_coe.c ****    }
 2337              		.loc 1 1592 7 view .LVU707
 2338 0066 034B     		ldr	r3, .L130
 2339 0068 034A     		ldr	r2, .L130+4
 2340 006a 4FF4C761 		mov	r1, #1592
 2341 006e 0348     		ldr	r0, .L130+8
 2342              	.LVL214:
1592:Drivers/SOES/Src/esc_coe.c ****    }
 2343              		.loc 1 1592 7 is_stmt 0 view .LVU708
 2344 0070 FFF7FEFF 		bl	__assert_func
 2345              	.LVL215:
 2346              	.L131:
 2347              		.align	2
 2348              	.L130:
 2349 0074 00000000 		.word	.LC0
 2350 0078 00000000 		.word	.LANCHOR0
 2351 007c 04000000 		.word	.LC1
ARM GAS  /tmp/ccpADs8h.s 			page 81


 2352              		.cfi_endproc
 2353              	.LFE23:
 2355              		.section	.text.SDO_findsubindex,"ax",%progbits
 2356              		.align	1
 2357              		.global	SDO_findsubindex
 2358              		.syntax unified
 2359              		.thumb
 2360              		.thumb_func
 2362              	SDO_findsubindex:
 2363              	.LVL216:
 2364              	.LFB0:
  51:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd;
 2365              		.loc 1 51 1 is_stmt 1 view -0
 2366              		.cfi_startproc
 2367              		@ args = 0, pretend = 0, frame = 0
 2368              		@ frame_needed = 0, uses_anonymous_args = 0
  51:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd;
 2369              		.loc 1 51 1 is_stmt 0 view .LVU710
 2370 0000 00B5     		push	{lr}
 2371              		.cfi_def_cfa_offset 4
 2372              		.cfi_offset 14, -4
  52:Drivers/SOES/Src/esc_coe.c ****    int16_t n = 0;
 2373              		.loc 1 52 4 is_stmt 1 view .LVU711
  53:Drivers/SOES/Src/esc_coe.c ****    uint8_t maxsub;
 2374              		.loc 1 53 4 view .LVU712
 2375              	.LVL217:
  54:Drivers/SOES/Src/esc_coe.c ****    objd = SDOobjects[nidx].objdesc;
 2376              		.loc 1 54 4 view .LVU713
  55:Drivers/SOES/Src/esc_coe.c ****    maxsub = SDOobjects[nidx].maxsub;
 2377              		.loc 1 55 4 view .LVU714
  55:Drivers/SOES/Src/esc_coe.c ****    maxsub = SDOobjects[nidx].maxsub;
 2378              		.loc 1 55 9 is_stmt 0 view .LVU715
 2379 0002 154B     		ldr	r3, .L143
 2380 0004 C0EBC002 		rsb	r2, r0, r0, lsl #3
 2381 0008 03EB4202 		add	r2, r3, r2, lsl #1
 2382 000c D2F80AE0 		ldr	lr, [r2, #10]	@ unaligned
 2383              	.LVL218:
  56:Drivers/SOES/Src/esc_coe.c **** 
 2384              		.loc 1 56 4 is_stmt 1 view .LVU716
  56:Drivers/SOES/Src/esc_coe.c **** 
 2385              		.loc 1 56 11 is_stmt 0 view .LVU717
 2386 0010 92F804C0 		ldrb	ip, [r2, #4]	@ zero_extendqisi2
 2387              	.LVL219:
  61:Drivers/SOES/Src/esc_coe.c ****    {
 2388              		.loc 1 61 4 is_stmt 1 view .LVU718
  61:Drivers/SOES/Src/esc_coe.c ****    {
 2389              		.loc 1 61 7 is_stmt 0 view .LVU719
 2390 0014 8C45     		cmp	ip, r1
 2391 0016 08D3     		bcc	.L139
  61:Drivers/SOES/Src/esc_coe.c ****    {
 2392              		.loc 1 61 39 discriminator 1 view .LVU720
 2393 0018 01EB8103 		add	r3, r1, r1, lsl #2
  61:Drivers/SOES/Src/esc_coe.c ****    {
 2394              		.loc 1 61 50 discriminator 1 view .LVU721
 2395 001c 3EF82320 		ldrh	r2, [lr, r3, lsl #2]	@ unaligned
  61:Drivers/SOES/Src/esc_coe.c ****    {
 2396              		.loc 1 61 61 discriminator 1 view .LVU722
ARM GAS  /tmp/ccpADs8h.s 			page 82


 2397 0020 8BB2     		uxth	r3, r1
  61:Drivers/SOES/Src/esc_coe.c ****    {
 2398              		.loc 1 61 29 discriminator 1 view .LVU723
 2399 0022 9A42     		cmp	r2, r3
 2400 0024 0ED0     		beq	.L134
 2401 0026 0020     		movs	r0, #0
 2402              	.LVL220:
  61:Drivers/SOES/Src/esc_coe.c ****    {
 2403              		.loc 1 61 29 discriminator 1 view .LVU724
 2404 0028 00E0     		b	.L135
 2405              	.LVL221:
 2406              	.L139:
  61:Drivers/SOES/Src/esc_coe.c ****    {
 2407              		.loc 1 61 29 discriminator 1 view .LVU725
 2408 002a 0020     		movs	r0, #0
 2409              	.LVL222:
 2410              	.L135:
  66:Drivers/SOES/Src/esc_coe.c ****    {
 2411              		.loc 1 66 10 is_stmt 1 view .LVU726
  66:Drivers/SOES/Src/esc_coe.c ****    {
 2412              		.loc 1 66 18 is_stmt 0 view .LVU727
 2413 002c 00EB8003 		add	r3, r0, r0, lsl #2
  66:Drivers/SOES/Src/esc_coe.c ****    {
 2414              		.loc 1 66 22 view .LVU728
 2415 0030 3EF82320 		ldrh	r2, [lr, r3, lsl #2]	@ unaligned
  66:Drivers/SOES/Src/esc_coe.c ****    {
 2416              		.loc 1 66 33 view .LVU729
 2417 0034 8BB2     		uxth	r3, r1
  66:Drivers/SOES/Src/esc_coe.c ****    {
 2418              		.loc 1 66 10 view .LVU730
 2419 0036 9A42     		cmp	r2, r3
 2420 0038 06D2     		bcs	.L137
  66:Drivers/SOES/Src/esc_coe.c ****    {
 2421              		.loc 1 66 45 discriminator 1 view .LVU731
 2422 003a 6045     		cmp	r0, ip
 2423 003c 04DA     		bge	.L137
  68:Drivers/SOES/Src/esc_coe.c ****    }
 2424              		.loc 1 68 7 is_stmt 1 view .LVU732
  68:Drivers/SOES/Src/esc_coe.c ****    }
 2425              		.loc 1 68 8 is_stmt 0 view .LVU733
 2426 003e 0130     		adds	r0, r0, #1
 2427              	.LVL223:
  68:Drivers/SOES/Src/esc_coe.c ****    }
 2428              		.loc 1 68 8 view .LVU734
 2429 0040 00B2     		sxth	r0, r0
 2430              	.LVL224:
  68:Drivers/SOES/Src/esc_coe.c ****    }
 2431              		.loc 1 68 8 view .LVU735
 2432 0042 F3E7     		b	.L135
 2433              	.LVL225:
 2434              	.L134:
  63:Drivers/SOES/Src/esc_coe.c ****    }
 2435              		.loc 1 63 7 is_stmt 1 view .LVU736
  63:Drivers/SOES/Src/esc_coe.c ****    }
 2436              		.loc 1 63 14 is_stmt 0 view .LVU737
 2437 0044 08B2     		sxth	r0, r1
 2438              	.LVL226:
ARM GAS  /tmp/ccpADs8h.s 			page 83


  63:Drivers/SOES/Src/esc_coe.c ****    }
 2439              		.loc 1 63 14 view .LVU738
 2440 0046 01E0     		b	.L136
 2441              	.LVL227:
 2442              	.L137:
  70:Drivers/SOES/Src/esc_coe.c ****    {
 2443              		.loc 1 70 4 is_stmt 1 view .LVU739
  70:Drivers/SOES/Src/esc_coe.c ****    {
 2444              		.loc 1 70 7 is_stmt 0 view .LVU740
 2445 0048 9A42     		cmp	r2, r3
 2446 004a 01D1     		bne	.L142
 2447              	.LVL228:
 2448              	.L136:
  75:Drivers/SOES/Src/esc_coe.c **** 
 2449              		.loc 1 75 1 view .LVU741
 2450 004c 5DF804FB 		ldr	pc, [sp], #4
 2451              	.LVL229:
 2452              	.L142:
  72:Drivers/SOES/Src/esc_coe.c ****    }
 2453              		.loc 1 72 14 view .LVU742
 2454 0050 4FF0FF30 		mov	r0, #-1
 2455              	.LVL230:
  72:Drivers/SOES/Src/esc_coe.c ****    }
 2456              		.loc 1 72 14 view .LVU743
 2457 0054 FAE7     		b	.L136
 2458              	.L144:
 2459 0056 00BF     		.align	2
 2460              	.L143:
 2461 0058 00000000 		.word	SDOobjects
 2462              		.cfi_endproc
 2463              	.LFE0:
 2465              		.section	.text.SDO_findobject,"ax",%progbits
 2466              		.align	1
 2467              		.global	SDO_findobject
 2468              		.syntax unified
 2469              		.thumb
 2470              		.thumb_func
 2472              	SDO_findobject:
 2473              	.LVL231:
 2474              	.LFB1:
  83:Drivers/SOES/Src/esc_coe.c ****    int32_t n = 0;
 2475              		.loc 1 83 1 is_stmt 1 view -0
 2476              		.cfi_startproc
 2477              		@ args = 0, pretend = 0, frame = 0
 2478              		@ frame_needed = 0, uses_anonymous_args = 0
 2479              		@ link register save eliminated.
  83:Drivers/SOES/Src/esc_coe.c ****    int32_t n = 0;
 2480              		.loc 1 83 1 is_stmt 0 view .LVU745
 2481 0000 0146     		mov	r1, r0
  84:Drivers/SOES/Src/esc_coe.c ****    while (SDOobjects[n].index < index)
 2482              		.loc 1 84 4 is_stmt 1 view .LVU746
 2483              	.LVL232:
  85:Drivers/SOES/Src/esc_coe.c ****    {
 2484              		.loc 1 85 4 view .LVU747
  84:Drivers/SOES/Src/esc_coe.c ****    while (SDOobjects[n].index < index)
 2485              		.loc 1 84 12 is_stmt 0 view .LVU748
 2486 0002 0020     		movs	r0, #0
ARM GAS  /tmp/ccpADs8h.s 			page 84


 2487              	.LVL233:
  85:Drivers/SOES/Src/esc_coe.c ****    {
 2488              		.loc 1 85 10 view .LVU749
 2489 0004 00E0     		b	.L146
 2490              	.LVL234:
 2491              	.L147:
  87:Drivers/SOES/Src/esc_coe.c ****    }
 2492              		.loc 1 87 7 is_stmt 1 view .LVU750
  87:Drivers/SOES/Src/esc_coe.c ****    }
 2493              		.loc 1 87 8 is_stmt 0 view .LVU751
 2494 0006 0130     		adds	r0, r0, #1
 2495              	.LVL235:
 2496              	.L146:
  85:Drivers/SOES/Src/esc_coe.c ****    {
 2497              		.loc 1 85 10 is_stmt 1 view .LVU752
  85:Drivers/SOES/Src/esc_coe.c ****    {
 2498              		.loc 1 85 24 is_stmt 0 view .LVU753
 2499 0008 C0EBC003 		rsb	r3, r0, r0, lsl #3
 2500 000c 044A     		ldr	r2, .L151
 2501 000e 32F81330 		ldrh	r3, [r2, r3, lsl #1]	@ unaligned
  85:Drivers/SOES/Src/esc_coe.c ****    {
 2502              		.loc 1 85 10 view .LVU754
 2503 0012 8B42     		cmp	r3, r1
 2504 0014 F7D3     		bcc	.L147
  89:Drivers/SOES/Src/esc_coe.c ****    {
 2505              		.loc 1 89 4 is_stmt 1 view .LVU755
  89:Drivers/SOES/Src/esc_coe.c ****    {
 2506              		.loc 1 89 7 is_stmt 0 view .LVU756
 2507 0016 00D1     		bne	.L150
 2508              	.LVL236:
 2509              	.L145:
  94:Drivers/SOES/Src/esc_coe.c **** 
 2510              		.loc 1 94 1 view .LVU757
 2511 0018 7047     		bx	lr
 2512              	.LVL237:
 2513              	.L150:
  91:Drivers/SOES/Src/esc_coe.c ****    }
 2514              		.loc 1 91 14 view .LVU758
 2515 001a 4FF0FF30 		mov	r0, #-1
 2516              	.LVL238:
  91:Drivers/SOES/Src/esc_coe.c ****    }
 2517              		.loc 1 91 14 view .LVU759
 2518 001e FBE7     		b	.L145
 2519              	.L152:
 2520              		.align	2
 2521              	.L151:
 2522 0020 00000000 		.word	SDOobjects
 2523              		.cfi_endproc
 2524              	.LFE1:
 2526              		.section	.text.complete_access_get_variables,"ax",%progbits
 2527              		.align	1
 2528              		.syntax unified
 2529              		.thumb
 2530              		.thumb_func
 2532              	complete_access_get_variables:
 2533              	.LVL239:
 2534              	.LFB7:
ARM GAS  /tmp/ccpADs8h.s 			page 85


 435:Drivers/SOES/Src/esc_coe.c ****    *index = etohs (coesdo->index);
 2535              		.loc 1 435 1 is_stmt 1 view -0
 2536              		.cfi_startproc
 2537              		@ args = 4, pretend = 0, frame = 0
 2538              		@ frame_needed = 0, uses_anonymous_args = 0
 435:Drivers/SOES/Src/esc_coe.c ****    *index = etohs (coesdo->index);
 2539              		.loc 1 435 1 is_stmt 0 view .LVU761
 2540 0000 38B5     		push	{r3, r4, r5, lr}
 2541              		.cfi_def_cfa_offset 16
 2542              		.cfi_offset 3, -16
 2543              		.cfi_offset 4, -12
 2544              		.cfi_offset 5, -8
 2545              		.cfi_offset 14, -4
 2546 0002 1D46     		mov	r5, r3
 436:Drivers/SOES/Src/esc_coe.c ****    *subindex = coesdo->subindex;
 2547              		.loc 1 436 4 is_stmt 1 view .LVU762
 436:Drivers/SOES/Src/esc_coe.c ****    *subindex = coesdo->subindex;
 2548              		.loc 1 436 13 is_stmt 0 view .LVU763
 2549 0004 B0F80930 		ldrh	r3, [r0, #9]	@ unaligned
 2550              	.LVL240:
 436:Drivers/SOES/Src/esc_coe.c ****    *subindex = coesdo->subindex;
 2551              		.loc 1 436 11 view .LVU764
 2552 0008 0B80     		strh	r3, [r1]	@ movhi
 437:Drivers/SOES/Src/esc_coe.c **** 
 2553              		.loc 1 437 4 is_stmt 1 view .LVU765
 437:Drivers/SOES/Src/esc_coe.c **** 
 2554              		.loc 1 437 22 is_stmt 0 view .LVU766
 2555 000a C37A     		ldrb	r3, [r0, #11]	@ zero_extendqisi2
 437:Drivers/SOES/Src/esc_coe.c **** 
 2556              		.loc 1 437 14 view .LVU767
 2557 000c 1370     		strb	r3, [r2]
 440:Drivers/SOES/Src/esc_coe.c ****    {
 2558              		.loc 1 440 4 is_stmt 1 view .LVU768
 440:Drivers/SOES/Src/esc_coe.c ****    {
 2559              		.loc 1 440 7 is_stmt 0 view .LVU769
 2560 000e 012B     		cmp	r3, #1
 2561 0010 10D8     		bhi	.L155
 2562 0012 1446     		mov	r4, r2
 445:Drivers/SOES/Src/esc_coe.c ****    if (*nidx < 0)
 2563              		.loc 1 445 4 is_stmt 1 view .LVU770
 445:Drivers/SOES/Src/esc_coe.c ****    if (*nidx < 0)
 2564              		.loc 1 445 12 is_stmt 0 view .LVU771
 2565 0014 0888     		ldrh	r0, [r1]
 2566              	.LVL241:
 445:Drivers/SOES/Src/esc_coe.c ****    if (*nidx < 0)
 2567              		.loc 1 445 12 view .LVU772
 2568 0016 FFF7FEFF 		bl	SDO_findobject
 2569              	.LVL242:
 445:Drivers/SOES/Src/esc_coe.c ****    if (*nidx < 0)
 2570              		.loc 1 445 10 view .LVU773
 2571 001a 00B2     		sxth	r0, r0
 2572 001c 2880     		strh	r0, [r5]	@ movhi
 446:Drivers/SOES/Src/esc_coe.c ****    {
 2573              		.loc 1 446 4 is_stmt 1 view .LVU774
 446:Drivers/SOES/Src/esc_coe.c ****    {
 2574              		.loc 1 446 7 is_stmt 0 view .LVU775
 2575 001e 0028     		cmp	r0, #0
ARM GAS  /tmp/ccpADs8h.s 			page 86


 2576 0020 0ADB     		blt	.L156
 451:Drivers/SOES/Src/esc_coe.c ****    if (*nsub < 0)
 2577              		.loc 1 451 4 is_stmt 1 view .LVU776
 451:Drivers/SOES/Src/esc_coe.c ****    if (*nsub < 0)
 2578              		.loc 1 451 12 is_stmt 0 view .LVU777
 2579 0022 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 2580 0024 FFF7FEFF 		bl	SDO_findsubindex
 2581              	.LVL243:
 451:Drivers/SOES/Src/esc_coe.c ****    if (*nsub < 0)
 2582              		.loc 1 451 10 view .LVU778
 2583 0028 049B     		ldr	r3, [sp, #16]
 2584 002a 1880     		strh	r0, [r3]	@ movhi
 452:Drivers/SOES/Src/esc_coe.c ****    {
 2585              		.loc 1 452 4 is_stmt 1 view .LVU779
 452:Drivers/SOES/Src/esc_coe.c ****    {
 2586              		.loc 1 452 7 is_stmt 0 view .LVU780
 2587 002c 0028     		cmp	r0, #0
 2588 002e 05DB     		blt	.L157
 457:Drivers/SOES/Src/esc_coe.c **** }
 2589              		.loc 1 457 11 view .LVU781
 2590 0030 0020     		movs	r0, #0
 2591              	.LVL244:
 2592              	.L153:
 458:Drivers/SOES/Src/esc_coe.c **** 
 2593              		.loc 1 458 1 view .LVU782
 2594 0032 38BD     		pop	{r3, r4, r5, pc}
 2595              	.LVL245:
 2596              	.L155:
 442:Drivers/SOES/Src/esc_coe.c ****    }
 2597              		.loc 1 442 14 view .LVU783
 2598 0034 0248     		ldr	r0, .L159
 2599              	.LVL246:
 442:Drivers/SOES/Src/esc_coe.c ****    }
 2600              		.loc 1 442 14 view .LVU784
 2601 0036 FCE7     		b	.L153
 2602              	.LVL247:
 2603              	.L156:
 448:Drivers/SOES/Src/esc_coe.c ****    }
 2604              		.loc 1 448 14 view .LVU785
 2605 0038 0248     		ldr	r0, .L159+4
 2606 003a FAE7     		b	.L153
 2607              	.L157:
 454:Drivers/SOES/Src/esc_coe.c ****    }
 2608              		.loc 1 454 14 view .LVU786
 2609 003c 0248     		ldr	r0, .L159+8
 2610 003e F8E7     		b	.L153
 2611              	.L160:
 2612              		.align	2
 2613              	.L159:
 2614 0040 00000106 		.word	100728832
 2615 0044 00000206 		.word	100794368
 2616 0048 11000906 		.word	101253137
 2617              		.cfi_endproc
 2618              	.LFE7:
 2620              		.section	.text.SDO_upload_complete_access,"ax",%progbits
 2621              		.align	1
 2622              		.syntax unified
ARM GAS  /tmp/ccpADs8h.s 			page 87


 2623              		.thumb
 2624              		.thumb_func
 2626              	SDO_upload_complete_access:
 2627              	.LFB10:
 569:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coesdo = (_COEsdo *) &MBX[0];
 2628              		.loc 1 569 1 is_stmt 1 view -0
 2629              		.cfi_startproc
 2630              		@ args = 0, pretend = 0, frame = 16
 2631              		@ frame_needed = 0, uses_anonymous_args = 0
 2632 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2633              		.cfi_def_cfa_offset 36
 2634              		.cfi_offset 4, -36
 2635              		.cfi_offset 5, -32
 2636              		.cfi_offset 6, -28
 2637              		.cfi_offset 7, -24
 2638              		.cfi_offset 8, -20
 2639              		.cfi_offset 9, -16
 2640              		.cfi_offset 10, -12
 2641              		.cfi_offset 11, -8
 2642              		.cfi_offset 14, -4
 2643 0004 87B0     		sub	sp, sp, #28
 2644              		.cfi_def_cfa_offset 64
 570:Drivers/SOES/Src/esc_coe.c ****    uint16_t index;
 2645              		.loc 1 570 4 view .LVU788
 2646              	.LVL248:
 571:Drivers/SOES/Src/esc_coe.c ****    uint8_t subindex;
 2647              		.loc 1 571 4 view .LVU789
 572:Drivers/SOES/Src/esc_coe.c ****    int16_t nidx, nsub;
 2648              		.loc 1 572 4 view .LVU790
 573:Drivers/SOES/Src/esc_coe.c ****    uint32_t abortcode = complete_access_get_variables
 2649              		.loc 1 573 4 view .LVU791
 574:Drivers/SOES/Src/esc_coe.c ****                            (coesdo, &index, &subindex, &nidx, &nsub);
 2650              		.loc 1 574 4 view .LVU792
 574:Drivers/SOES/Src/esc_coe.c ****                            (coesdo, &index, &subindex, &nidx, &nsub);
 2651              		.loc 1 574 25 is_stmt 0 view .LVU793
 2652 0006 04AB     		add	r3, sp, #16
 2653 0008 0093     		str	r3, [sp]
 2654 000a 0DF11203 		add	r3, sp, #18
 2655 000e 0DF11502 		add	r2, sp, #21
 2656 0012 0DF11601 		add	r1, sp, #22
 2657 0016 7848     		ldr	r0, .L183
 2658 0018 FFF7FEFF 		bl	complete_access_get_variables
 2659              	.LVL249:
 576:Drivers/SOES/Src/esc_coe.c ****    {
 2660              		.loc 1 576 4 is_stmt 1 view .LVU794
 576:Drivers/SOES/Src/esc_coe.c ****    {
 2661              		.loc 1 576 7 is_stmt 0 view .LVU795
 2662 001c 0028     		cmp	r0, #0
 2663 001e 40F0A580 		bne	.L176
 582:Drivers/SOES/Src/esc_coe.c ****    if (MBXout == 0)
 2664              		.loc 1 582 4 is_stmt 1 view .LVU796
 582:Drivers/SOES/Src/esc_coe.c ****    if (MBXout == 0)
 2665              		.loc 1 582 21 is_stmt 0 view .LVU797
 2666 0022 FFF7FEFF 		bl	ESC_claimbuffer
 2667              	.LVL250:
 583:Drivers/SOES/Src/esc_coe.c ****    {
 2668              		.loc 1 583 4 is_stmt 1 view .LVU798
ARM GAS  /tmp/ccpADs8h.s 			page 88


 583:Drivers/SOES/Src/esc_coe.c ****    {
 2669              		.loc 1 583 7 is_stmt 0 view .LVU799
 2670 0026 0546     		mov	r5, r0
 2671 0028 0028     		cmp	r0, #0
 2672 002a 00F0AA80 		beq	.L177
 592:Drivers/SOES/Src/esc_coe.c **** 
 2673              		.loc 1 592 4 is_stmt 1 view .LVU800
 592:Drivers/SOES/Src/esc_coe.c **** 
 2674              		.loc 1 592 40 is_stmt 0 view .LVU801
 2675 002e BDF91210 		ldrsh	r1, [sp, #18]
 592:Drivers/SOES/Src/esc_coe.c **** 
 2676              		.loc 1 592 17 view .LVU802
 2677 0032 C1EBC102 		rsb	r2, r1, r1, lsl #3
 2678 0036 714B     		ldr	r3, .L183+4
 2679 0038 03EB4203 		add	r3, r3, r2, lsl #1
 2680 003c D3F80A60 		ldr	r6, [r3, #10]	@ unaligned
 2681              	.LVL251:
 595:Drivers/SOES/Src/esc_coe.c **** 
 2682              		.loc 1 595 4 is_stmt 1 view .LVU803
 595:Drivers/SOES/Src/esc_coe.c **** 
 2683              		.loc 1 595 20 is_stmt 0 view .LVU804
 2684 0040 0023     		movs	r3, #0
 2685 0042 0193     		str	r3, [sp, #4]
 2686 0044 0093     		str	r3, [sp]
 2687 0046 BDF91020 		ldrsh	r2, [sp, #16]
 2688 004a 3046     		mov	r0, r6
 2689              	.LVL252:
 595:Drivers/SOES/Src/esc_coe.c **** 
 2690              		.loc 1 595 20 view .LVU805
 2691 004c FFF7FEFF 		bl	complete_access_subindex_loop
 2692              	.LVL253:
 595:Drivers/SOES/Src/esc_coe.c **** 
 2693              		.loc 1 595 13 view .LVU806
 2694 0050 0390     		str	r0, [sp, #12]
 598:Drivers/SOES/Src/esc_coe.c **** 
 2695              		.loc 1 598 4 is_stmt 1 view .LVU807
 598:Drivers/SOES/Src/esc_coe.c **** 
 2696              		.loc 1 598 12 is_stmt 0 view .LVU808
 2697 0052 1828     		cmp	r0, #24
 2698 0054 00F29E80 		bhi	.L174
 598:Drivers/SOES/Src/esc_coe.c **** 
 2699              		.loc 1 598 53 discriminator 1 view .LVU809
 2700 0058 441E     		subs	r4, r0, #1
 598:Drivers/SOES/Src/esc_coe.c **** 
 2701              		.loc 1 598 58 discriminator 1 view .LVU810
 2702 005a E408     		lsrs	r4, r4, #3
 598:Drivers/SOES/Src/esc_coe.c **** 
 2703              		.loc 1 598 44 discriminator 1 view .LVU811
 2704 005c C4F10304 		rsb	r4, r4, #3
 598:Drivers/SOES/Src/esc_coe.c **** 
 2705              		.loc 1 598 12 discriminator 1 view .LVU812
 2706 0060 A400     		lsls	r4, r4, #2
 2707 0062 E4B2     		uxtb	r4, r4
 2708              	.L165:
 2709              	.LVL254:
 601:Drivers/SOES/Src/esc_coe.c **** 
 2710              		.loc 1 601 4 is_stmt 1 discriminator 4 view .LVU813
ARM GAS  /tmp/ccpADs8h.s 			page 89


 601:Drivers/SOES/Src/esc_coe.c **** 
 2711              		.loc 1 601 11 is_stmt 0 discriminator 4 view .LVU814
 2712 0064 0730     		adds	r0, r0, #7
 2713 0066 C308     		lsrs	r3, r0, #3
 601:Drivers/SOES/Src/esc_coe.c **** 
 2714              		.loc 1 601 9 discriminator 4 view .LVU815
 2715 0068 0393     		str	r3, [sp, #12]
 603:Drivers/SOES/Src/esc_coe.c ****    {
 2716              		.loc 1 603 4 is_stmt 1 discriminator 4 view .LVU816
 603:Drivers/SOES/Src/esc_coe.c ****    {
 2717              		.loc 1 603 7 is_stmt 0 discriminator 4 view .LVU817
 2718 006a B3F5803F 		cmp	r3, #65536
 2719 006e 80F09380 		bcs	.L178
 611:Drivers/SOES/Src/esc_coe.c ****    {
 2720              		.loc 1 611 4 is_stmt 1 view .LVU818
 611:Drivers/SOES/Src/esc_coe.c ****    {
 2721              		.loc 1 611 14 is_stmt 0 view .LVU819
 2722 0072 1E33     		adds	r3, r3, #30
 611:Drivers/SOES/Src/esc_coe.c ****    {
 2723              		.loc 1 611 7 view .LVU820
 2724 0074 B3F5C06F 		cmp	r3, #1536
 2725 0078 00F29680 		bhi	.L179
 616:Drivers/SOES/Src/esc_coe.c ****          objd->data, (size_t *)&size, objd->flags | COMPLETE_ACCESS_FLAG);
 2726              		.loc 1 616 4 is_stmt 1 view .LVU821
 617:Drivers/SOES/Src/esc_coe.c ****    if (abortcode != 0)
 2727              		.loc 1 617 43 is_stmt 0 view .LVU822
 2728 007c F388     		ldrh	r3, [r6, #6]	@ unaligned
 616:Drivers/SOES/Src/esc_coe.c ****          objd->data, (size_t *)&size, objd->flags | COMPLETE_ACCESS_FLAG);
 2729              		.loc 1 616 16 view .LVU823
 2730 007e 3269     		ldr	r2, [r6, #16]	@ unaligned
 2731 0080 43F40043 		orr	r3, r3, #32768
 2732 0084 0093     		str	r3, [sp]
 2733 0086 03AB     		add	r3, sp, #12
 2734 0088 9DF81510 		ldrb	r1, [sp, #21]	@ zero_extendqisi2
 2735 008c BDF81600 		ldrh	r0, [sp, #22]
 2736 0090 FFF7FEFF 		bl	ESC_upload_pre_objecthandler
 2737              	.LVL255:
 618:Drivers/SOES/Src/esc_coe.c ****    {
 2738              		.loc 1 618 4 is_stmt 1 view .LVU824
 618:Drivers/SOES/Src/esc_coe.c ****    {
 2739              		.loc 1 618 7 is_stmt 0 view .LVU825
 2740 0094 0346     		mov	r3, r0
 2741 0096 0028     		cmp	r0, #0
 2742 0098 40F08F80 		bne	.L180
 625:Drivers/SOES/Src/esc_coe.c **** 
 2743              		.loc 1 625 4 is_stmt 1 view .LVU826
 2744 009c 584F     		ldr	r7, .L183+8
 2745 009e 4FF0000A 		mov	r10, #0
 2746 00a2 CDF804A0 		str	r10, [sp, #4]
 2747 00a6 CDF800A0 		str	r10, [sp]
 2748 00aa 3B46     		mov	r3, r7
 2749 00ac BDF91020 		ldrsh	r2, [sp, #16]
 2750 00b0 BDF91210 		ldrsh	r1, [sp, #18]
 2751 00b4 3046     		mov	r0, r6
 2752              	.LVL256:
 625:Drivers/SOES/Src/esc_coe.c **** 
 2753              		.loc 1 625 4 is_stmt 0 view .LVU827
ARM GAS  /tmp/ccpADs8h.s 			page 90


 2754 00b6 FFF7FEFF 		bl	complete_access_subindex_loop
 2755              	.LVL257:
 627:Drivers/SOES/Src/esc_coe.c ****    init_coesdo(coeres, COE_SDORESPONSE,
 2756              		.loc 1 627 4 is_stmt 1 view .LVU828
 627:Drivers/SOES/Src/esc_coe.c ****    init_coesdo(coeres, COE_SDORESPONSE,
 2757              		.loc 1 627 48 is_stmt 0 view .LVU829
 2758 00ba 57F8783C 		ldr	r3, [r7, #-120]
 627:Drivers/SOES/Src/esc_coe.c ****    init_coesdo(coeres, COE_SDORESPONSE,
 2759              		.loc 1 627 46 view .LVU830
 2760 00be 03FB05F8 		mul	r8, r3, r5
 627:Drivers/SOES/Src/esc_coe.c ****    init_coesdo(coeres, COE_SDORESPONSE,
 2761              		.loc 1 627 13 view .LVU831
 2762 00c2 DFF834B1 		ldr	fp, .L183
 2763 00c6 08EB0B09 		add	r9, r8, fp
 2764              	.LVL258:
 628:Drivers/SOES/Src/esc_coe.c ****          COE_COMMAND_UPLOADRESPONSE | COE_COMPLETEACCESS | COE_SIZE_INDICATOR,
 2765              		.loc 1 628 4 is_stmt 1 view .LVU832
 2766 00ca 9DF81530 		ldrb	r3, [sp, #21]	@ zero_extendqisi2
 2767 00ce 0093     		str	r3, [sp]
 2768 00d0 BDF81630 		ldrh	r3, [sp, #22]
 2769 00d4 5122     		movs	r2, #81
 2770 00d6 0321     		movs	r1, #3
 2771 00d8 4846     		mov	r0, r9
 2772 00da FFF7FEFF 		bl	init_coesdo
 2773              	.LVL259:
 632:Drivers/SOES/Src/esc_coe.c **** 
 2774              		.loc 1 632 4 view .LVU833
 632:Drivers/SOES/Src/esc_coe.c **** 
 2775              		.loc 1 632 21 is_stmt 0 view .LVU834
 2776 00de 07F853AC 		strb	r10, [r7, #-83]
 627:Drivers/SOES/Src/esc_coe.c ****    init_coesdo(coeres, COE_SDORESPONSE,
 2777              		.loc 1 627 48 view .LVU835
 2778 00e2 E03F     		subs	r7, r7, #224
 634:Drivers/SOES/Src/esc_coe.c ****    {
 2779              		.loc 1 634 4 is_stmt 1 view .LVU836
 634:Drivers/SOES/Src/esc_coe.c ****    {
 2780              		.loc 1 634 13 is_stmt 0 view .LVU837
 2781 00e4 039A     		ldr	r2, [sp, #12]
 634:Drivers/SOES/Src/esc_coe.c ****    {
 2782              		.loc 1 634 7 view .LVU838
 2783 00e6 042A     		cmp	r2, #4
 2784 00e8 6FD9     		bls	.L181
 643:Drivers/SOES/Src/esc_coe.c **** 
 2785              		.loc 1 643 7 is_stmt 1 view .LVU839
 643:Drivers/SOES/Src/esc_coe.c **** 
 2786              		.loc 1 643 20 is_stmt 0 view .LVU840
 2787 00ea C9F80C20 		str	r2, [r9, #12]	@ unaligned
 645:Drivers/SOES/Src/esc_coe.c ****       {
 2788              		.loc 1 645 7 is_stmt 1 view .LVU841
 645:Drivers/SOES/Src/esc_coe.c ****       {
 2789              		.loc 1 645 17 is_stmt 0 view .LVU842
 2790 00ee 02F10A03 		add	r3, r2, #10
 645:Drivers/SOES/Src/esc_coe.c ****       {
 2791              		.loc 1 645 37 view .LVU843
 2792 00f2 4449     		ldr	r1, .L183+12
 2793 00f4 896E     		ldr	r1, [r1, #104]
 2794 00f6 881F     		subs	r0, r1, #6
ARM GAS  /tmp/ccpADs8h.s 			page 91


 645:Drivers/SOES/Src/esc_coe.c ****       {
 2795              		.loc 1 645 10 view .LVU844
 2796 00f8 8342     		cmp	r3, r0
 2797 00fa 11D9     		bls	.L171
 649:Drivers/SOES/Src/esc_coe.c ****          /* limit to mailbox size */
 2798              		.loc 1 649 10 is_stmt 1 view .LVU845
 649:Drivers/SOES/Src/esc_coe.c ****          /* limit to mailbox size */
 2799              		.loc 1 649 23 is_stmt 0 view .LVU846
 2800 00fc 414B     		ldr	r3, .L183+12
 2801 00fe A3F89620 		strh	r2, [r3, #150]	@ movhi
 651:Drivers/SOES/Src/esc_coe.c ****          /* number of bytes done */
 2802              		.loc 1 651 10 is_stmt 1 view .LVU847
 651:Drivers/SOES/Src/esc_coe.c ****          /* number of bytes done */
 2803              		.loc 1 651 30 is_stmt 0 view .LVU848
 2804 0102 1039     		subs	r1, r1, #16
 651:Drivers/SOES/Src/esc_coe.c ****          /* number of bytes done */
 2805              		.loc 1 651 15 view .LVU849
 2806 0104 0391     		str	r1, [sp, #12]
 653:Drivers/SOES/Src/esc_coe.c ****          /* signal segmented transfer */
 2807              		.loc 1 653 10 is_stmt 1 view .LVU850
 653:Drivers/SOES/Src/esc_coe.c ****          /* signal segmented transfer */
 2808              		.loc 1 653 27 is_stmt 0 view .LVU851
 2809 0106 A3F89810 		strh	r1, [r3, #152]	@ movhi
 655:Drivers/SOES/Src/esc_coe.c ****          ESCvar.data = ESCvar.mbxdata;
 2810              		.loc 1 655 10 is_stmt 1 view .LVU852
 655:Drivers/SOES/Src/esc_coe.c ****          ESCvar.data = ESCvar.mbxdata;
 2811              		.loc 1 655 27 is_stmt 0 view .LVU853
 2812 010a 4022     		movs	r2, #64
 2813 010c 83F88D20 		strb	r2, [r3, #141]
 656:Drivers/SOES/Src/esc_coe.c ****          ESCvar.flags = COMPLETE_ACCESS_FLAG;
 2814              		.loc 1 656 10 is_stmt 1 view .LVU854
 656:Drivers/SOES/Src/esc_coe.c ****          ESCvar.flags = COMPLETE_ACCESS_FLAG;
 2815              		.loc 1 656 22 is_stmt 0 view .LVU855
 2816 0110 03F1E002 		add	r2, r3, #224
 2817 0114 C3F89020 		str	r2, [r3, #144]
 657:Drivers/SOES/Src/esc_coe.c ****       }
 2818              		.loc 1 657 10 is_stmt 1 view .LVU856
 657:Drivers/SOES/Src/esc_coe.c ****       }
 2819              		.loc 1 657 23 is_stmt 0 view .LVU857
 2820 0118 4FF40042 		mov	r2, #32768
 2821 011c A3F89E20 		strh	r2, [r3, #158]	@ movhi
 2822              	.L171:
 660:Drivers/SOES/Src/esc_coe.c ****       memcpy((&(coeres->size)) + 1, ESCvar.mbxdata, size);
 2823              		.loc 1 660 7 is_stmt 1 view .LVU858
 660:Drivers/SOES/Src/esc_coe.c ****       memcpy((&(coeres->size)) + 1, ESCvar.mbxdata, size);
 2824              		.loc 1 660 34 is_stmt 0 view .LVU859
 2825 0120 039A     		ldr	r2, [sp, #12]
 2826 0122 02F10A03 		add	r3, r2, #10
 660:Drivers/SOES/Src/esc_coe.c ****       memcpy((&(coeres->size)) + 1, ESCvar.mbxdata, size);
 2827              		.loc 1 660 32 view .LVU860
 2828 0126 2BF80830 		strh	r3, [fp, r8]	@ unaligned
 661:Drivers/SOES/Src/esc_coe.c ****    }
 2829              		.loc 1 661 7 is_stmt 1 view .LVU861
 2830 012a 3549     		ldr	r1, .L183+8
 2831 012c 09F11000 		add	r0, r9, #16
 2832 0130 FFF7FEFF 		bl	memcpy
 2833              	.LVL260:
ARM GAS  /tmp/ccpADs8h.s 			page 92


 2834              	.L170:
 664:Drivers/SOES/Src/esc_coe.c ****    {
 2835              		.loc 1 664 4 view .LVU862
 664:Drivers/SOES/Src/esc_coe.c ****    {
 2836              		.loc 1 664 14 is_stmt 0 view .LVU863
 2837 0134 334B     		ldr	r3, .L183+12
 2838 0136 93F88D30 		ldrb	r3, [r3, #141]	@ zero_extendqisi2
 664:Drivers/SOES/Src/esc_coe.c ****    {
 2839              		.loc 1 664 7 view .LVU864
 2840 013a 5BB9     		cbnz	r3, .L172
 666:Drivers/SOES/Src/esc_coe.c ****             objd->flags | COMPLETE_ACCESS_FLAG);
 2841              		.loc 1 666 7 is_stmt 1 view .LVU865
 667:Drivers/SOES/Src/esc_coe.c **** 
 2842              		.loc 1 667 17 is_stmt 0 view .LVU866
 2843 013c F288     		ldrh	r2, [r6, #6]	@ unaligned
 666:Drivers/SOES/Src/esc_coe.c ****             objd->flags | COMPLETE_ACCESS_FLAG);
 2844              		.loc 1 666 19 view .LVU867
 2845 013e 42F40042 		orr	r2, r2, #32768
 2846 0142 9DF81510 		ldrb	r1, [sp, #21]	@ zero_extendqisi2
 2847 0146 BDF81600 		ldrh	r0, [sp, #22]
 2848 014a FFF7FEFF 		bl	ESC_upload_post_objecthandler
 2849              	.LVL261:
 669:Drivers/SOES/Src/esc_coe.c ****       {
 2850              		.loc 1 669 7 is_stmt 1 view .LVU868
 669:Drivers/SOES/Src/esc_coe.c ****       {
 2851              		.loc 1 669 10 is_stmt 0 view .LVU869
 2852 014e 0346     		mov	r3, r0
 2853 0150 0028     		cmp	r0, #0
 2854 0152 48D1     		bne	.L182
 2855              	.LVL262:
 2856              	.L172:
 676:Drivers/SOES/Src/esc_coe.c **** 
 2857              		.loc 1 676 4 is_stmt 1 view .LVU870
 676:Drivers/SOES/Src/esc_coe.c **** 
 2858              		.loc 1 676 29 is_stmt 0 view .LVU871
 2859 0154 2C4B     		ldr	r3, .L183+16
 2860 0156 0322     		movs	r2, #3
 2861 0158 5A55     		strb	r2, [r3, r5]
 678:Drivers/SOES/Src/esc_coe.c **** }
 2862              		.loc 1 678 4 is_stmt 1 view .LVU872
 2863 015a 0023     		movs	r3, #0
 2864 015c 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2865 0160 BDF81610 		ldrh	r1, [sp, #22]
 2866 0164 2846     		mov	r0, r5
 2867 0166 FFF7FEFF 		bl	set_state_idle
 2868              	.LVL263:
 2869 016a 07E0     		b	.L161
 2870              	.LVL264:
 2871              	.L176:
 678:Drivers/SOES/Src/esc_coe.c **** }
 2872              		.loc 1 678 4 is_stmt 0 view .LVU873
 2873 016c 0346     		mov	r3, r0
 578:Drivers/SOES/Src/esc_coe.c ****       return;
 2874              		.loc 1 578 7 is_stmt 1 view .LVU874
 2875 016e 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2876 0172 BDF81610 		ldrh	r1, [sp, #22]
 2877 0176 0020     		movs	r0, #0
ARM GAS  /tmp/ccpADs8h.s 			page 93


 2878              	.LVL265:
 578:Drivers/SOES/Src/esc_coe.c ****       return;
 2879              		.loc 1 578 7 is_stmt 0 view .LVU875
 2880 0178 FFF7FEFF 		bl	set_state_idle
 2881              	.LVL266:
 579:Drivers/SOES/Src/esc_coe.c ****    }
 2882              		.loc 1 579 7 is_stmt 1 view .LVU876
 2883              	.L161:
 679:Drivers/SOES/Src/esc_coe.c **** 
 2884              		.loc 1 679 1 is_stmt 0 view .LVU877
 2885 017c 07B0     		add	sp, sp, #28
 2886              		.cfi_remember_state
 2887              		.cfi_def_cfa_offset 36
 2888              		@ sp needed
 2889 017e BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2890              	.LVL267:
 2891              	.L177:
 2892              		.cfi_restore_state
 588:Drivers/SOES/Src/esc_coe.c ****       return;
 2893              		.loc 1 588 7 is_stmt 1 view .LVU878
 2894 0182 0023     		movs	r3, #0
 2895 0184 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2896 0188 BDF81610 		ldrh	r1, [sp, #22]
 2897 018c 1846     		mov	r0, r3
 2898              	.LVL268:
 588:Drivers/SOES/Src/esc_coe.c ****       return;
 2899              		.loc 1 588 7 is_stmt 0 view .LVU879
 2900 018e FFF7FEFF 		bl	set_state_idle
 2901              	.LVL269:
 589:Drivers/SOES/Src/esc_coe.c ****    }
 2902              		.loc 1 589 7 is_stmt 1 view .LVU880
 2903 0192 F3E7     		b	.L161
 2904              	.LVL270:
 2905              	.L174:
 598:Drivers/SOES/Src/esc_coe.c **** 
 2906              		.loc 1 598 12 is_stmt 0 view .LVU881
 2907 0194 0024     		movs	r4, #0
 2908 0196 65E7     		b	.L165
 2909              	.LVL271:
 2910              	.L178:
 606:Drivers/SOES/Src/esc_coe.c ****       return;
 2911              		.loc 1 606 7 is_stmt 1 view .LVU882
 2912 0198 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2913 019c BDF81610 		ldrh	r1, [sp, #22]
 2914 01a0 2846     		mov	r0, r5
 2915 01a2 FFF7FEFF 		bl	set_state_idle
 2916              	.LVL272:
 607:Drivers/SOES/Src/esc_coe.c ****    }
 2917              		.loc 1 607 7 view .LVU883
 2918 01a6 E9E7     		b	.L161
 2919              	.L179:
 613:Drivers/SOES/Src/esc_coe.c ****       return;
 2920              		.loc 1 613 7 view .LVU884
 2921 01a8 184B     		ldr	r3, .L183+20
 2922 01aa 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2923 01ae BDF81610 		ldrh	r1, [sp, #22]
 2924 01b2 2846     		mov	r0, r5
ARM GAS  /tmp/ccpADs8h.s 			page 94


 2925 01b4 FFF7FEFF 		bl	set_state_idle
 2926              	.LVL273:
 614:Drivers/SOES/Src/esc_coe.c ****    }
 2927              		.loc 1 614 7 view .LVU885
 2928 01b8 E0E7     		b	.L161
 2929              	.LVL274:
 2930              	.L180:
 620:Drivers/SOES/Src/esc_coe.c ****       return;
 2931              		.loc 1 620 7 view .LVU886
 2932 01ba 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2933 01be BDF81610 		ldrh	r1, [sp, #22]
 2934 01c2 2846     		mov	r0, r5
 2935              	.LVL275:
 620:Drivers/SOES/Src/esc_coe.c ****       return;
 2936              		.loc 1 620 7 is_stmt 0 view .LVU887
 2937 01c4 FFF7FEFF 		bl	set_state_idle
 2938              	.LVL276:
 621:Drivers/SOES/Src/esc_coe.c ****    }
 2939              		.loc 1 621 7 is_stmt 1 view .LVU888
 2940 01c8 D8E7     		b	.L161
 2941              	.LVL277:
 2942              	.L181:
 637:Drivers/SOES/Src/esc_coe.c ****       memcpy(&(coeres->size), ESCvar.mbxdata, size);
 2943              		.loc 1 637 7 view .LVU889
 637:Drivers/SOES/Src/esc_coe.c ****       memcpy(&(coeres->size), ESCvar.mbxdata, size);
 2944              		.loc 1 637 23 is_stmt 0 view .LVU890
 2945 01ca 99F80830 		ldrb	r3, [r9, #8]	@ zero_extendqisi2
 2946 01ce 1C43     		orrs	r4, r4, r3
 2947              	.LVL278:
 637:Drivers/SOES/Src/esc_coe.c ****       memcpy(&(coeres->size), ESCvar.mbxdata, size);
 2948              		.loc 1 637 23 view .LVU891
 2949 01d0 44F00204 		orr	r4, r4, #2
 2950 01d4 89F80840 		strb	r4, [r9, #8]
 638:Drivers/SOES/Src/esc_coe.c ****    }
 2951              		.loc 1 638 7 is_stmt 1 view .LVU892
 2952 01d8 07F1E001 		add	r1, r7, #224
 2953 01dc 09F10C00 		add	r0, r9, #12
 2954 01e0 FFF7FEFF 		bl	memcpy
 2955              	.LVL279:
 2956 01e4 A6E7     		b	.L170
 2957              	.LVL280:
 2958              	.L182:
 671:Drivers/SOES/Src/esc_coe.c ****          return;
 2959              		.loc 1 671 10 view .LVU893
 2960 01e6 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2961 01ea BDF81610 		ldrh	r1, [sp, #22]
 2962 01ee 2846     		mov	r0, r5
 2963              	.LVL281:
 671:Drivers/SOES/Src/esc_coe.c ****          return;
 2964              		.loc 1 671 10 is_stmt 0 view .LVU894
 2965 01f0 FFF7FEFF 		bl	set_state_idle
 2966              	.LVL282:
 672:Drivers/SOES/Src/esc_coe.c ****       }
 2967              		.loc 1 672 10 is_stmt 1 view .LVU895
 2968 01f4 C2E7     		b	.L161
 2969              	.L184:
 2970 01f6 00BF     		.align	2
ARM GAS  /tmp/ccpADs8h.s 			page 95


 2971              	.L183:
 2972 01f8 00000000 		.word	MBX
 2973 01fc 00000000 		.word	SDOobjects
 2974 0200 E0000000 		.word	ESCvar+224
 2975 0204 00000000 		.word	ESCvar
 2976 0208 00000000 		.word	MBXcontrol
 2977 020c 04000106 		.word	100728836
 2978              		.cfi_endproc
 2979              	.LFE10:
 2981              		.section	.text.SDO_download_complete_access,"ax",%progbits
 2982              		.align	1
 2983              		.syntax unified
 2984              		.thumb
 2985              		.thumb_func
 2987              	SDO_download_complete_access:
 2988              	.LFB13:
 897:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coesdo = (_COEsdo *) &MBX[0];
 2989              		.loc 1 897 1 view -0
 2990              		.cfi_startproc
 2991              		@ args = 0, pretend = 0, frame = 16
 2992              		@ frame_needed = 0, uses_anonymous_args = 0
 2993 0000 70B5     		push	{r4, r5, r6, lr}
 2994              		.cfi_def_cfa_offset 16
 2995              		.cfi_offset 4, -16
 2996              		.cfi_offset 5, -12
 2997              		.cfi_offset 6, -8
 2998              		.cfi_offset 14, -4
 2999 0002 86B0     		sub	sp, sp, #24
 3000              		.cfi_def_cfa_offset 40
 898:Drivers/SOES/Src/esc_coe.c ****    uint16_t index;
 3001              		.loc 1 898 4 view .LVU897
 3002              	.LVL283:
 899:Drivers/SOES/Src/esc_coe.c ****    uint8_t subindex;
 3003              		.loc 1 899 4 view .LVU898
 900:Drivers/SOES/Src/esc_coe.c ****    int16_t nidx, nsub;
 3004              		.loc 1 900 4 view .LVU899
 901:Drivers/SOES/Src/esc_coe.c ****    uint32_t abortcode = complete_access_get_variables
 3005              		.loc 1 901 4 view .LVU900
 902:Drivers/SOES/Src/esc_coe.c ****                            (coesdo, &index, &subindex, &nidx, &nsub);
 3006              		.loc 1 902 4 view .LVU901
 902:Drivers/SOES/Src/esc_coe.c ****                            (coesdo, &index, &subindex, &nidx, &nsub);
 3007              		.loc 1 902 25 is_stmt 0 view .LVU902
 3008 0004 04AB     		add	r3, sp, #16
 3009 0006 0093     		str	r3, [sp]
 3010 0008 0DF11203 		add	r3, sp, #18
 3011 000c 0DF11502 		add	r2, sp, #21
 3012 0010 0DF11601 		add	r1, sp, #22
 3013 0014 5048     		ldr	r0, .L202
 3014 0016 FFF7FEFF 		bl	complete_access_get_variables
 3015              	.LVL284:
 904:Drivers/SOES/Src/esc_coe.c ****    {
 3016              		.loc 1 904 4 is_stmt 1 view .LVU903
 904:Drivers/SOES/Src/esc_coe.c ****    {
 3017              		.loc 1 904 7 is_stmt 0 view .LVU904
 3018 001a 0028     		cmp	r0, #0
 3019 001c 56D1     		bne	.L197
 910:Drivers/SOES/Src/esc_coe.c ****    uint32_t size_value = coesdo->size; 
ARM GAS  /tmp/ccpADs8h.s 			page 96


 3020              		.loc 1 910 4 is_stmt 1 view .LVU905
 911:Drivers/SOES/Src/esc_coe.c ****    uint32_t *mbxdata = &size_value;
 3021              		.loc 1 911 4 view .LVU906
 911:Drivers/SOES/Src/esc_coe.c ****    uint32_t *mbxdata = &size_value;
 3022              		.loc 1 911 32 is_stmt 0 view .LVU907
 3023 001e 4E4B     		ldr	r3, .L202
 3024 0020 DC68     		ldr	r4, [r3, #12]	@ unaligned
 911:Drivers/SOES/Src/esc_coe.c ****    uint32_t *mbxdata = &size_value;
 3025              		.loc 1 911 13 view .LVU908
 3026 0022 0394     		str	r4, [sp, #12]
 912:Drivers/SOES/Src/esc_coe.c **** 
 3027              		.loc 1 912 4 is_stmt 1 view .LVU909
 3028              	.LVL285:
 914:Drivers/SOES/Src/esc_coe.c ****    {
 3029              		.loc 1 914 4 view .LVU910
 914:Drivers/SOES/Src/esc_coe.c ****    {
 3030              		.loc 1 914 14 is_stmt 0 view .LVU911
 3031 0024 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 914:Drivers/SOES/Src/esc_coe.c ****    {
 3032              		.loc 1 914 7 view .LVU912
 3033 0026 13F0020F 		tst	r3, #2
 3034 002a 58D0     		beq	.L188
 917:Drivers/SOES/Src/esc_coe.c ****    }
 3035              		.loc 1 917 7 is_stmt 1 view .LVU913
 917:Drivers/SOES/Src/esc_coe.c ****    }
 3036              		.loc 1 917 45 is_stmt 0 view .LVU914
 3037 002c C3F38104 		ubfx	r4, r3, #2, #2
 917:Drivers/SOES/Src/esc_coe.c ****    }
 3038              		.loc 1 917 13 view .LVU915
 3039 0030 C4F10404 		rsb	r4, r4, #4
 3040 0034 A4B2     		uxth	r4, r4
 3041              	.LVL286:
 912:Drivers/SOES/Src/esc_coe.c **** 
 3042              		.loc 1 912 14 view .LVU916
 3043 0036 03AE     		add	r6, sp, #12
 3044              	.LVL287:
 3045              	.L189:
 926:Drivers/SOES/Src/esc_coe.c **** 
 3046              		.loc 1 926 4 is_stmt 1 view .LVU917
 926:Drivers/SOES/Src/esc_coe.c **** 
 3047              		.loc 1 926 40 is_stmt 0 view .LVU918
 3048 0038 BDF91210 		ldrsh	r1, [sp, #18]
 926:Drivers/SOES/Src/esc_coe.c **** 
 3049              		.loc 1 926 17 view .LVU919
 3050 003c C1EBC102 		rsb	r2, r1, r1, lsl #3
 3051 0040 464B     		ldr	r3, .L202+4
 3052 0042 03EB4203 		add	r3, r3, r2, lsl #1
 3053 0046 D3F80A50 		ldr	r5, [r3, #10]	@ unaligned
 3054              	.LVL288:
 929:Drivers/SOES/Src/esc_coe.c ****    if (BITS2BYTES(size) > 0xffff)
 3055              		.loc 1 929 4 is_stmt 1 view .LVU920
 929:Drivers/SOES/Src/esc_coe.c ****    if (BITS2BYTES(size) > 0xffff)
 3056              		.loc 1 929 20 is_stmt 0 view .LVU921
 3057 004a 0023     		movs	r3, #0
 3058 004c 0193     		str	r3, [sp, #4]
 3059 004e 0122     		movs	r2, #1
 3060 0050 0092     		str	r2, [sp]
ARM GAS  /tmp/ccpADs8h.s 			page 97


 3061 0052 BDF91020 		ldrsh	r2, [sp, #16]
 3062 0056 2846     		mov	r0, r5
 3063              	.LVL289:
 929:Drivers/SOES/Src/esc_coe.c ****    if (BITS2BYTES(size) > 0xffff)
 3064              		.loc 1 929 20 view .LVU922
 3065 0058 FFF7FEFF 		bl	complete_access_subindex_loop
 3066              	.LVL290:
 3067 005c 0346     		mov	r3, r0
 3068              	.LVL291:
 930:Drivers/SOES/Src/esc_coe.c ****    {
 3069              		.loc 1 930 4 is_stmt 1 view .LVU923
 930:Drivers/SOES/Src/esc_coe.c ****    {
 3070              		.loc 1 930 8 is_stmt 0 view .LVU924
 3071 005e C21D     		adds	r2, r0, #7
 3072 0060 D108     		lsrs	r1, r2, #3
 930:Drivers/SOES/Src/esc_coe.c ****    {
 3073              		.loc 1 930 7 view .LVU925
 3074 0062 B2F5002F 		cmp	r2, #524288
 3075 0066 3DD2     		bcs	.L198
 942:Drivers/SOES/Src/esc_coe.c ****    {
 3076              		.loc 1 942 9 is_stmt 1 view .LVU926
 942:Drivers/SOES/Src/esc_coe.c ****    {
 3077              		.loc 1 942 12 is_stmt 0 view .LVU927
 3078 0068 A142     		cmp	r1, r4
 3079 006a 53D3     		bcc	.L191
 944:Drivers/SOES/Src/esc_coe.c ****             size, objd->flags | COMPLETE_ACCESS_FLAG);
 3080              		.loc 1 944 7 is_stmt 1 view .LVU928
 945:Drivers/SOES/Src/esc_coe.c ****       if (abortcode != 0)
 3081              		.loc 1 945 23 is_stmt 0 view .LVU929
 3082 006c EA88     		ldrh	r2, [r5, #6]	@ unaligned
 944:Drivers/SOES/Src/esc_coe.c ****             size, objd->flags | COMPLETE_ACCESS_FLAG);
 3083              		.loc 1 944 19 view .LVU930
 3084 006e 42F40042 		orr	r2, r2, #32768
 3085 0072 0092     		str	r2, [sp]
 3086 0074 3246     		mov	r2, r6
 3087 0076 9DF81510 		ldrb	r1, [sp, #21]	@ zero_extendqisi2
 3088 007a BDF81600 		ldrh	r0, [sp, #22]
 3089              	.LVL292:
 944:Drivers/SOES/Src/esc_coe.c ****             size, objd->flags | COMPLETE_ACCESS_FLAG);
 3090              		.loc 1 944 19 view .LVU931
 3091 007e FFF7FEFF 		bl	ESC_download_pre_objecthandler
 3092              	.LVL293:
 946:Drivers/SOES/Src/esc_coe.c ****       {
 3093              		.loc 1 946 7 is_stmt 1 view .LVU932
 946:Drivers/SOES/Src/esc_coe.c ****       {
 3094              		.loc 1 946 10 is_stmt 0 view .LVU933
 3095 0082 0346     		mov	r3, r0
 3096 0084 B0BB     		cbnz	r0, .L199
 953:Drivers/SOES/Src/esc_coe.c **** 
 3097              		.loc 1 953 7 is_stmt 1 view .LVU934
 3098 0086 0194     		str	r4, [sp, #4]
 3099 0088 0123     		movs	r3, #1
 3100 008a 0093     		str	r3, [sp]
 3101 008c 3346     		mov	r3, r6
 3102 008e BDF91020 		ldrsh	r2, [sp, #16]
 3103 0092 BDF91210 		ldrsh	r1, [sp, #18]
 3104 0096 2846     		mov	r0, r5
ARM GAS  /tmp/ccpADs8h.s 			page 98


 3105              	.LVL294:
 953:Drivers/SOES/Src/esc_coe.c **** 
 3106              		.loc 1 953 7 is_stmt 0 view .LVU935
 3107 0098 FFF7FEFF 		bl	complete_access_subindex_loop
 3108              	.LVL295:
 955:Drivers/SOES/Src/esc_coe.c ****             objd->flags | COMPLETE_ACCESS_FLAG);
 3109              		.loc 1 955 7 is_stmt 1 view .LVU936
 956:Drivers/SOES/Src/esc_coe.c ****       if (abortcode != 0)
 3110              		.loc 1 956 17 is_stmt 0 view .LVU937
 3111 009c EA88     		ldrh	r2, [r5, #6]	@ unaligned
 955:Drivers/SOES/Src/esc_coe.c ****             objd->flags | COMPLETE_ACCESS_FLAG);
 3112              		.loc 1 955 19 view .LVU938
 3113 009e 42F40042 		orr	r2, r2, #32768
 3114 00a2 9DF81510 		ldrb	r1, [sp, #21]	@ zero_extendqisi2
 3115 00a6 BDF81600 		ldrh	r0, [sp, #22]
 3116 00aa FFF7FEFF 		bl	ESC_download_post_objecthandler
 3117              	.LVL296:
 957:Drivers/SOES/Src/esc_coe.c ****       {
 3118              		.loc 1 957 7 is_stmt 1 view .LVU939
 957:Drivers/SOES/Src/esc_coe.c ****       {
 3119              		.loc 1 957 10 is_stmt 0 view .LVU940
 3120 00ae 0346     		mov	r3, r0
 3121 00b0 40BB     		cbnz	r0, .L200
 969:Drivers/SOES/Src/esc_coe.c ****    if (MBXout > 0)
 3122              		.loc 1 969 4 is_stmt 1 view .LVU941
 969:Drivers/SOES/Src/esc_coe.c ****    if (MBXout > 0)
 3123              		.loc 1 969 21 is_stmt 0 view .LVU942
 3124 00b2 FFF7FEFF 		bl	ESC_claimbuffer
 3125              	.LVL297:
 970:Drivers/SOES/Src/esc_coe.c ****    {
 3126              		.loc 1 970 4 is_stmt 1 view .LVU943
 970:Drivers/SOES/Src/esc_coe.c ****    {
 3127              		.loc 1 970 7 is_stmt 0 view .LVU944
 3128 00b6 0446     		mov	r4, r0
 3129              	.LVL298:
 970:Drivers/SOES/Src/esc_coe.c ****    {
 3130              		.loc 1 970 7 view .LVU945
 3131 00b8 B0BB     		cbnz	r0, .L201
 3132              	.LVL299:
 3133              	.L194:
 981:Drivers/SOES/Src/esc_coe.c **** }
 3134              		.loc 1 981 4 is_stmt 1 view .LVU946
 3135 00ba 0023     		movs	r3, #0
 3136 00bc 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 3137 00c0 BDF81610 		ldrh	r1, [sp, #22]
 3138 00c4 2046     		mov	r0, r4
 3139 00c6 FFF7FEFF 		bl	set_state_idle
 3140              	.LVL300:
 3141 00ca 2BE0     		b	.L185
 3142              	.LVL301:
 3143              	.L197:
 981:Drivers/SOES/Src/esc_coe.c **** }
 3144              		.loc 1 981 4 is_stmt 0 view .LVU947
 3145 00cc 0346     		mov	r3, r0
 906:Drivers/SOES/Src/esc_coe.c ****       return;
 3146              		.loc 1 906 7 is_stmt 1 view .LVU948
 3147 00ce 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
ARM GAS  /tmp/ccpADs8h.s 			page 99


 3148 00d2 BDF81610 		ldrh	r1, [sp, #22]
 3149 00d6 0020     		movs	r0, #0
 3150              	.LVL302:
 906:Drivers/SOES/Src/esc_coe.c ****       return;
 3151              		.loc 1 906 7 is_stmt 0 view .LVU949
 3152 00d8 FFF7FEFF 		bl	set_state_idle
 3153              	.LVL303:
 907:Drivers/SOES/Src/esc_coe.c ****    }
 3154              		.loc 1 907 7 is_stmt 1 view .LVU950
 3155 00dc 22E0     		b	.L185
 3156              	.LVL304:
 3157              	.L188:
 922:Drivers/SOES/Src/esc_coe.c ****       mbxdata++;
 3158              		.loc 1 922 7 view .LVU951
 922:Drivers/SOES/Src/esc_coe.c ****       mbxdata++;
 3159              		.loc 1 922 13 is_stmt 0 view .LVU952
 3160 00de A4B2     		uxth	r4, r4
 3161              	.LVL305:
 923:Drivers/SOES/Src/esc_coe.c ****    }
 3162              		.loc 1 923 7 is_stmt 1 view .LVU953
 923:Drivers/SOES/Src/esc_coe.c ****    }
 3163              		.loc 1 923 14 is_stmt 0 view .LVU954
 3164 00e0 04AE     		add	r6, sp, #16
 3165              	.LVL306:
 923:Drivers/SOES/Src/esc_coe.c ****    }
 3166              		.loc 1 923 14 view .LVU955
 3167 00e2 A9E7     		b	.L189
 3168              	.LVL307:
 3169              	.L198:
 933:Drivers/SOES/Src/esc_coe.c ****       return;
 3170              		.loc 1 933 7 is_stmt 1 view .LVU956
 3171 00e4 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 3172 00e8 BDF81610 		ldrh	r1, [sp, #22]
 3173 00ec 0020     		movs	r0, #0
 3174              	.LVL308:
 933:Drivers/SOES/Src/esc_coe.c ****       return;
 3175              		.loc 1 933 7 is_stmt 0 view .LVU957
 3176 00ee FFF7FEFF 		bl	set_state_idle
 3177              	.LVL309:
 934:Drivers/SOES/Src/esc_coe.c ****    }
 3178              		.loc 1 934 7 is_stmt 1 view .LVU958
 3179 00f2 17E0     		b	.L185
 3180              	.LVL310:
 3181              	.L199:
 948:Drivers/SOES/Src/esc_coe.c ****          return;
 3182              		.loc 1 948 10 view .LVU959
 3183 00f4 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 3184 00f8 BDF81610 		ldrh	r1, [sp, #22]
 3185 00fc 0020     		movs	r0, #0
 3186              	.LVL311:
 948:Drivers/SOES/Src/esc_coe.c ****          return;
 3187              		.loc 1 948 10 is_stmt 0 view .LVU960
 3188 00fe FFF7FEFF 		bl	set_state_idle
 3189              	.LVL312:
 949:Drivers/SOES/Src/esc_coe.c ****       }
 3190              		.loc 1 949 10 is_stmt 1 view .LVU961
 3191 0102 0FE0     		b	.L185
ARM GAS  /tmp/ccpADs8h.s 			page 100


 3192              	.LVL313:
 3193              	.L200:
 959:Drivers/SOES/Src/esc_coe.c ****          return;
 3194              		.loc 1 959 10 view .LVU962
 3195 0104 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 3196 0108 BDF81610 		ldrh	r1, [sp, #22]
 3197 010c 0020     		movs	r0, #0
 3198              	.LVL314:
 959:Drivers/SOES/Src/esc_coe.c ****          return;
 3199              		.loc 1 959 10 is_stmt 0 view .LVU963
 3200 010e FFF7FEFF 		bl	set_state_idle
 3201              	.LVL315:
 960:Drivers/SOES/Src/esc_coe.c ****       }
 3202              		.loc 1 960 10 is_stmt 1 view .LVU964
 3203 0112 07E0     		b	.L185
 3204              	.LVL316:
 3205              	.L191:
 965:Drivers/SOES/Src/esc_coe.c ****       return;
 3206              		.loc 1 965 7 view .LVU965
 3207 0114 124B     		ldr	r3, .L202+8
 3208 0116 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 3209 011a BDF81610 		ldrh	r1, [sp, #22]
 3210 011e 0020     		movs	r0, #0
 3211              	.LVL317:
 965:Drivers/SOES/Src/esc_coe.c ****       return;
 3212              		.loc 1 965 7 is_stmt 0 view .LVU966
 3213 0120 FFF7FEFF 		bl	set_state_idle
 3214              	.LVL318:
 966:Drivers/SOES/Src/esc_coe.c ****    }
 3215              		.loc 1 966 7 is_stmt 1 view .LVU967
 3216              	.L185:
 982:Drivers/SOES/Src/esc_coe.c **** 
 3217              		.loc 1 982 1 is_stmt 0 view .LVU968
 3218 0124 06B0     		add	sp, sp, #24
 3219              		.cfi_remember_state
 3220              		.cfi_def_cfa_offset 16
 3221              		@ sp needed
 3222 0126 70BD     		pop	{r4, r5, r6, pc}
 3223              	.LVL319:
 3224              	.L201:
 3225              		.cfi_restore_state
 3226              	.LBB14:
 972:Drivers/SOES/Src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE,
 3227              		.loc 1 972 7 is_stmt 1 view .LVU969
 972:Drivers/SOES/Src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE,
 3228              		.loc 1 972 51 is_stmt 0 view .LVU970
 3229 0128 0E4B     		ldr	r3, .L202+12
 3230 012a 9B6E     		ldr	r3, [r3, #104]
 972:Drivers/SOES/Src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE,
 3231              		.loc 1 972 16 view .LVU971
 3232 012c 0A4D     		ldr	r5, .L202
 3233              	.LVL320:
 972:Drivers/SOES/Src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE,
 3234              		.loc 1 972 16 view .LVU972
 3235 012e 03FB0055 		mla	r5, r3, r0, r5
 3236              	.LVL321:
 973:Drivers/SOES/Src/esc_coe.c ****                   COE_COMMAND_DOWNLOADRESPONSE | COE_COMPLETEACCESS,
ARM GAS  /tmp/ccpADs8h.s 			page 101


 3237              		.loc 1 973 7 is_stmt 1 view .LVU973
 3238 0132 9DF81530 		ldrb	r3, [sp, #21]	@ zero_extendqisi2
 3239 0136 0093     		str	r3, [sp]
 3240 0138 BDF81630 		ldrh	r3, [sp, #22]
 3241 013c 7022     		movs	r2, #112
 3242 013e 0321     		movs	r1, #3
 3243 0140 2846     		mov	r0, r5
 3244              	.LVL322:
 973:Drivers/SOES/Src/esc_coe.c ****                   COE_COMMAND_DOWNLOADRESPONSE | COE_COMPLETEACCESS,
 3245              		.loc 1 973 7 is_stmt 0 view .LVU974
 3246 0142 FFF7FEFF 		bl	init_coesdo
 3247              	.LVL323:
 977:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 3248              		.loc 1 977 7 is_stmt 1 view .LVU975
 977:Drivers/SOES/Src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 3249              		.loc 1 977 20 is_stmt 0 view .LVU976
 3250 0146 0023     		movs	r3, #0
 3251 0148 2B73     		strb	r3, [r5, #12]
 3252 014a 6B73     		strb	r3, [r5, #13]
 3253 014c AB73     		strb	r3, [r5, #14]
 3254 014e EB73     		strb	r3, [r5, #15]
 978:Drivers/SOES/Src/esc_coe.c ****    }
 3255              		.loc 1 978 7 is_stmt 1 view .LVU977
 978:Drivers/SOES/Src/esc_coe.c ****    }
 3256              		.loc 1 978 32 is_stmt 0 view .LVU978
 3257 0150 054B     		ldr	r3, .L202+16
 3258 0152 0322     		movs	r2, #3
 3259 0154 1A55     		strb	r2, [r3, r4]
 3260 0156 B0E7     		b	.L194
 3261              	.L203:
 3262              		.align	2
 3263              	.L202:
 3264 0158 00000000 		.word	MBX
 3265 015c 00000000 		.word	SDOobjects
 3266 0160 10000706 		.word	101122064
 3267 0164 00000000 		.word	ESCvar
 3268 0168 00000000 		.word	MBXcontrol
 3269              	.LBE14:
 3270              		.cfi_endproc
 3271              	.LFE13:
 3273              		.section	.text.SDO_upload,"ax",%progbits
 3274              		.align	1
 3275              		.syntax unified
 3276              		.thumb
 3277              		.thumb_func
 3279              	SDO_upload:
 3280              	.LFB6:
 286:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coesdo, *coeres;
 3281              		.loc 1 286 1 is_stmt 1 view -0
 3282              		.cfi_startproc
 3283              		@ args = 0, pretend = 0, frame = 8
 3284              		@ frame_needed = 0, uses_anonymous_args = 0
 3285 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 3286              		.cfi_def_cfa_offset 36
 3287              		.cfi_offset 4, -36
 3288              		.cfi_offset 5, -32
 3289              		.cfi_offset 6, -28
ARM GAS  /tmp/ccpADs8h.s 			page 102


 3290              		.cfi_offset 7, -24
 3291              		.cfi_offset 8, -20
 3292              		.cfi_offset 9, -16
 3293              		.cfi_offset 10, -12
 3294              		.cfi_offset 11, -8
 3295              		.cfi_offset 14, -4
 3296 0004 85B0     		sub	sp, sp, #20
 3297              		.cfi_def_cfa_offset 56
 287:Drivers/SOES/Src/esc_coe.c ****    uint16_t index;
 3298              		.loc 1 287 4 view .LVU980
 288:Drivers/SOES/Src/esc_coe.c ****    uint8_t subindex;
 3299              		.loc 1 288 4 view .LVU981
 289:Drivers/SOES/Src/esc_coe.c ****    int16_t nidx, nsub;
 3300              		.loc 1 289 4 view .LVU982
 290:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
 3301              		.loc 1 290 4 view .LVU983
 291:Drivers/SOES/Src/esc_coe.c ****    uint32_t size;
 3302              		.loc 1 291 4 view .LVU984
 292:Drivers/SOES/Src/esc_coe.c ****    uint8_t dss;
 3303              		.loc 1 292 4 view .LVU985
 293:Drivers/SOES/Src/esc_coe.c ****    uint32_t abort = 1;
 3304              		.loc 1 293 4 view .LVU986
 294:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd;
 3305              		.loc 1 294 4 view .LVU987
 3306              	.LVL324:
 295:Drivers/SOES/Src/esc_coe.c ****    coesdo = (_COEsdo *) &MBX[0];
 3307              		.loc 1 295 4 view .LVU988
 296:Drivers/SOES/Src/esc_coe.c ****    index = etohs (coesdo->index);
 3308              		.loc 1 296 4 view .LVU989
 297:Drivers/SOES/Src/esc_coe.c ****    subindex = coesdo->subindex;
 3309              		.loc 1 297 4 view .LVU990
 297:Drivers/SOES/Src/esc_coe.c ****    subindex = coesdo->subindex;
 3310              		.loc 1 297 10 is_stmt 0 view .LVU991
 3311 0006 814B     		ldr	r3, .L233
 3312 0008 B3F80970 		ldrh	r7, [r3, #9]	@ unaligned
 3313 000c BDB2     		uxth	r5, r7
 3314              	.LVL325:
 298:Drivers/SOES/Src/esc_coe.c ****    nidx = SDO_findobject (index);
 3315              		.loc 1 298 4 is_stmt 1 view .LVU992
 298:Drivers/SOES/Src/esc_coe.c ****    nidx = SDO_findobject (index);
 3316              		.loc 1 298 13 is_stmt 0 view .LVU993
 3317 000e DE7A     		ldrb	r6, [r3, #11]	@ zero_extendqisi2
 3318              	.LVL326:
 299:Drivers/SOES/Src/esc_coe.c ****    if (nidx >= 0)
 3319              		.loc 1 299 4 is_stmt 1 view .LVU994
 299:Drivers/SOES/Src/esc_coe.c ****    if (nidx >= 0)
 3320              		.loc 1 299 11 is_stmt 0 view .LVU995
 3321 0010 2846     		mov	r0, r5
 3322 0012 FFF7FEFF 		bl	SDO_findobject
 3323              	.LVL327:
 299:Drivers/SOES/Src/esc_coe.c ****    if (nidx >= 0)
 3324              		.loc 1 299 9 view .LVU996
 3325 0016 04B2     		sxth	r4, r0
 3326              	.LVL328:
 300:Drivers/SOES/Src/esc_coe.c ****    {
 3327              		.loc 1 300 4 is_stmt 1 view .LVU997
 300:Drivers/SOES/Src/esc_coe.c ****    {
ARM GAS  /tmp/ccpADs8h.s 			page 103


 3328              		.loc 1 300 7 is_stmt 0 view .LVU998
 3329 0018 002C     		cmp	r4, #0
 3330 001a C0F2E780 		blt	.L205
 302:Drivers/SOES/Src/esc_coe.c ****       if (nsub >= 0)
 3331              		.loc 1 302 7 is_stmt 1 view .LVU999
 302:Drivers/SOES/Src/esc_coe.c ****       if (nsub >= 0)
 3332              		.loc 1 302 14 is_stmt 0 view .LVU1000
 3333 001e 3146     		mov	r1, r6
 3334 0020 2046     		mov	r0, r4
 3335 0022 FFF7FEFF 		bl	SDO_findsubindex
 3336              	.LVL329:
 303:Drivers/SOES/Src/esc_coe.c ****       {
 3337              		.loc 1 303 7 is_stmt 1 view .LVU1001
 303:Drivers/SOES/Src/esc_coe.c ****       {
 3338              		.loc 1 303 10 is_stmt 0 view .LVU1002
 3339 0026 0028     		cmp	r0, #0
 3340              	.LVL330:
 303:Drivers/SOES/Src/esc_coe.c ****       {
 3341              		.loc 1 303 10 view .LVU1003
 3342 0028 C0F2D980 		blt	.L206
 3343              	.LBB15:
 305:Drivers/SOES/Src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 3344              		.loc 1 305 10 is_stmt 1 view .LVU1004
 305:Drivers/SOES/Src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 3345              		.loc 1 305 15 is_stmt 0 view .LVU1005
 3346 002c C4EBC404 		rsb	r4, r4, r4, lsl #3
 3347              	.LVL331:
 305:Drivers/SOES/Src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 3348              		.loc 1 305 15 view .LVU1006
 3349 0030 774B     		ldr	r3, .L233+4
 3350 0032 03EB4404 		add	r4, r3, r4, lsl #1
 3351 0036 D4F80A40 		ldr	r4, [r4, #10]	@ unaligned
 3352              	.LVL332:
 306:Drivers/SOES/Src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3353              		.loc 1 306 10 is_stmt 1 view .LVU1007
 306:Drivers/SOES/Src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3354              		.loc 1 306 33 is_stmt 0 view .LVU1008
 3355 003a 00EB8000 		add	r0, r0, r0, lsl #2
 3356 003e 04EB8004 		add	r4, r4, r0, lsl #2
 3357              	.LVL333:
 306:Drivers/SOES/Src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3358              		.loc 1 306 40 view .LVU1009
 3359 0042 E288     		ldrh	r2, [r4, #6]	@ unaligned
 306:Drivers/SOES/Src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3360              		.loc 1 306 48 view .LVU1010
 3361 0044 D1B2     		uxtb	r1, r2
 3362              	.LVL334:
 307:Drivers/SOES/Src/esc_coe.c ****          if (!READ_ACCESS(access, state))
 3363              		.loc 1 307 10 is_stmt 1 view .LVU1011
 307:Drivers/SOES/Src/esc_coe.c ****          if (!READ_ACCESS(access, state))
 3364              		.loc 1 307 42 is_stmt 0 view .LVU1012
 3365 0046 734B     		ldr	r3, .L233+8
 3366 0048 93F87C30 		ldrb	r3, [r3, #124]	@ zero_extendqisi2
 307:Drivers/SOES/Src/esc_coe.c ****          if (!READ_ACCESS(access, state))
 3367              		.loc 1 307 18 view .LVU1013
 3368 004c 03F00F03 		and	r3, r3, #15
 3369              	.LVL335:
ARM GAS  /tmp/ccpADs8h.s 			page 104


 308:Drivers/SOES/Src/esc_coe.c ****          {
 3370              		.loc 1 308 10 is_stmt 1 view .LVU1014
 308:Drivers/SOES/Src/esc_coe.c ****          {
 3371              		.loc 1 308 13 is_stmt 0 view .LVU1015
 3372 0050 12F0010F 		tst	r2, #1
 3373 0054 01D0     		beq	.L207
 308:Drivers/SOES/Src/esc_coe.c ****          {
 3374              		.loc 1 308 15 discriminator 2 view .LVU1016
 3375 0056 022B     		cmp	r3, #2
 3376 0058 10D0     		beq	.L208
 3377              	.L207:
 308:Drivers/SOES/Src/esc_coe.c ****          {
 3378              		.loc 1 308 15 discriminator 3 view .LVU1017
 3379 005a 11F0020F 		tst	r1, #2
 3380 005e 01D0     		beq	.L209
 308:Drivers/SOES/Src/esc_coe.c ****          {
 3381              		.loc 1 308 15 discriminator 5 view .LVU1018
 3382 0060 042B     		cmp	r3, #4
 3383 0062 0BD0     		beq	.L208
 3384              	.L209:
 308:Drivers/SOES/Src/esc_coe.c ****          {
 3385              		.loc 1 308 14 discriminator 6 view .LVU1019
 3386 0064 11F0040F 		tst	r1, #4
 3387 0068 01D0     		beq	.L210
 308:Drivers/SOES/Src/esc_coe.c ****          {
 3388              		.loc 1 308 15 discriminator 7 view .LVU1020
 3389 006a 082B     		cmp	r3, #8
 3390 006c 06D0     		beq	.L208
 3391              	.L210:
 310:Drivers/SOES/Src/esc_coe.c ****             return;
 3392              		.loc 1 310 13 is_stmt 1 view .LVU1021
 3393 006e 6A4B     		ldr	r3, .L233+12
 3394              	.LVL336:
 310:Drivers/SOES/Src/esc_coe.c ****             return;
 3395              		.loc 1 310 13 is_stmt 0 view .LVU1022
 3396 0070 3246     		mov	r2, r6
 3397 0072 2946     		mov	r1, r5
 3398              	.LVL337:
 310:Drivers/SOES/Src/esc_coe.c ****             return;
 3399              		.loc 1 310 13 view .LVU1023
 3400 0074 0020     		movs	r0, #0
 3401 0076 FFF7FEFF 		bl	set_state_idle
 3402              	.LVL338:
 311:Drivers/SOES/Src/esc_coe.c ****          }
 3403              		.loc 1 311 13 is_stmt 1 view .LVU1024
 3404 007a C3E0     		b	.L204
 3405              	.LVL339:
 3406              	.L208:
 313:Drivers/SOES/Src/esc_coe.c ****          if (MBXout)
 3407              		.loc 1 313 10 view .LVU1025
 313:Drivers/SOES/Src/esc_coe.c ****          if (MBXout)
 3408              		.loc 1 313 19 is_stmt 0 view .LVU1026
 3409 007c FFF7FEFF 		bl	ESC_claimbuffer
 3410              	.LVL340:
 314:Drivers/SOES/Src/esc_coe.c ****          {
 3411              		.loc 1 314 10 is_stmt 1 view .LVU1027
 314:Drivers/SOES/Src/esc_coe.c ****          {
ARM GAS  /tmp/ccpADs8h.s 			page 105


 3412              		.loc 1 314 13 is_stmt 0 view .LVU1028
 3413 0080 8246     		mov	r10, r0
 3414 0082 0028     		cmp	r0, #0
 3415 0084 00F0B880 		beq	.L212
 316:Drivers/SOES/Src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 3416              		.loc 1 316 13 is_stmt 1 view .LVU1029
 316:Drivers/SOES/Src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 3417              		.loc 1 316 48 is_stmt 0 view .LVU1030
 3418 0088 624B     		ldr	r3, .L233+8
 3419 008a 9B6E     		ldr	r3, [r3, #104]
 316:Drivers/SOES/Src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 3420              		.loc 1 316 46 view .LVU1031
 3421 008c 03FB00F9 		mul	r9, r3, r0
 316:Drivers/SOES/Src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 3422              		.loc 1 316 20 view .LVU1032
 3423 0090 DFF878B1 		ldr	fp, .L233
 3424 0094 09EB0B08 		add	r8, r9, fp
 3425              	.LVL341:
 317:Drivers/SOES/Src/esc_coe.c ****             coeres->mbxheader.mbxtype = MBXCOE;
 3426              		.loc 1 317 13 is_stmt 1 view .LVU1033
 317:Drivers/SOES/Src/esc_coe.c ****             coeres->mbxheader.mbxtype = MBXCOE;
 3427              		.loc 1 317 38 is_stmt 0 view .LVU1034
 3428 0098 0023     		movs	r3, #0
 3429 009a 0A22     		movs	r2, #10
 3430 009c 09F80B20 		strb	r2, [r9, fp]
 3431 00a0 88F80130 		strb	r3, [r8, #1]
 318:Drivers/SOES/Src/esc_coe.c ****             coeres->coeheader.numberservice =
 3432              		.loc 1 318 13 is_stmt 1 view .LVU1035
 318:Drivers/SOES/Src/esc_coe.c ****             coeres->coeheader.numberservice =
 3433              		.loc 1 318 39 is_stmt 0 view .LVU1036
 3434 00a4 98F80520 		ldrb	r2, [r8, #5]	@ zero_extendqisi2
 3435 00a8 0321     		movs	r1, #3
 3436 00aa 61F30302 		bfi	r2, r1, #0, #4
 3437 00ae 88F80520 		strb	r2, [r8, #5]
 319:Drivers/SOES/Src/esc_coe.c ****                htoes ((0 & 0x01f) | (COE_SDORESPONSE << 12));
 3438              		.loc 1 319 13 is_stmt 1 view .LVU1037
 319:Drivers/SOES/Src/esc_coe.c ****                htoes ((0 & 0x01f) | (COE_SDORESPONSE << 12));
 3439              		.loc 1 319 45 is_stmt 0 view .LVU1038
 3440 00b2 88F80630 		strb	r3, [r8, #6]
 3441 00b6 3023     		movs	r3, #48
 3442 00b8 88F80730 		strb	r3, [r8, #7]
 321:Drivers/SOES/Src/esc_coe.c ****             /* expedited bits used calculation */
 3443              		.loc 1 321 13 is_stmt 1 view .LVU1039
 321:Drivers/SOES/Src/esc_coe.c ****             /* expedited bits used calculation */
 3444              		.loc 1 321 33 is_stmt 0 view .LVU1040
 3445 00bc A388     		ldrh	r3, [r4, #4]	@ unaligned
 321:Drivers/SOES/Src/esc_coe.c ****             /* expedited bits used calculation */
 3446              		.loc 1 321 18 view .LVU1041
 3447 00be 0393     		str	r3, [sp, #12]
 323:Drivers/SOES/Src/esc_coe.c ****             if (size > 8)
 3448              		.loc 1 323 13 is_stmt 1 view .LVU1042
 3449              	.LVL342:
 324:Drivers/SOES/Src/esc_coe.c ****             {
 3450              		.loc 1 324 13 view .LVU1043
 324:Drivers/SOES/Src/esc_coe.c ****             {
 3451              		.loc 1 324 16 is_stmt 0 view .LVU1044
 3452 00c0 082B     		cmp	r3, #8
ARM GAS  /tmp/ccpADs8h.s 			page 106


 3453 00c2 33D8     		bhi	.L226
 323:Drivers/SOES/Src/esc_coe.c ****             if (size > 8)
 3454              		.loc 1 323 17 view .LVU1045
 3455 00c4 0C22     		movs	r2, #12
 3456              	.L213:
 3457              	.LVL343:
 328:Drivers/SOES/Src/esc_coe.c ****             {
 3458              		.loc 1 328 13 is_stmt 1 view .LVU1046
 328:Drivers/SOES/Src/esc_coe.c ****             {
 3459              		.loc 1 328 16 is_stmt 0 view .LVU1047
 3460 00c6 102B     		cmp	r3, #16
 3461 00c8 00D9     		bls	.L214
 330:Drivers/SOES/Src/esc_coe.c ****             }
 3462              		.loc 1 330 20 view .LVU1048
 3463 00ca 0422     		movs	r2, #4
 3464              	.LVL344:
 3465              	.L214:
 332:Drivers/SOES/Src/esc_coe.c ****             {
 3466              		.loc 1 332 13 is_stmt 1 view .LVU1049
 332:Drivers/SOES/Src/esc_coe.c ****             {
 3467              		.loc 1 332 16 is_stmt 0 view .LVU1050
 3468 00cc 182B     		cmp	r3, #24
 3469 00ce 00D9     		bls	.L215
 334:Drivers/SOES/Src/esc_coe.c ****             }
 3470              		.loc 1 334 20 view .LVU1051
 3471 00d0 0022     		movs	r2, #0
 3472              	.LVL345:
 3473              	.L215:
 336:Drivers/SOES/Src/esc_coe.c ****             coeres->subindex = subindex;
 3474              		.loc 1 336 13 is_stmt 1 view .LVU1052
 336:Drivers/SOES/Src/esc_coe.c ****             coeres->subindex = subindex;
 3475              		.loc 1 336 27 is_stmt 0 view .LVU1053
 3476 00d2 A8F80970 		strh	r7, [r8, #9]	@ unaligned
 337:Drivers/SOES/Src/esc_coe.c ****             coeres->command = COE_COMMAND_UPLOADRESPONSE +
 3477              		.loc 1 337 13 is_stmt 1 view .LVU1054
 337:Drivers/SOES/Src/esc_coe.c ****             coeres->command = COE_COMMAND_UPLOADRESPONSE +
 3478              		.loc 1 337 30 is_stmt 0 view .LVU1055
 3479 00d6 88F80B60 		strb	r6, [r8, #11]
 338:Drivers/SOES/Src/esc_coe.c ****                COE_SIZE_INDICATOR;
 3480              		.loc 1 338 13 is_stmt 1 view .LVU1056
 338:Drivers/SOES/Src/esc_coe.c ****                COE_SIZE_INDICATOR;
 3481              		.loc 1 338 29 is_stmt 0 view .LVU1057
 3482 00da 4121     		movs	r1, #65
 3483 00dc 88F80810 		strb	r1, [r8, #8]
 341:Drivers/SOES/Src/esc_coe.c ****             if (size <= 4)
 3484              		.loc 1 341 13 is_stmt 1 view .LVU1058
 341:Drivers/SOES/Src/esc_coe.c ****             if (size <= 4)
 3485              		.loc 1 341 20 is_stmt 0 view .LVU1059
 3486 00e0 0733     		adds	r3, r3, #7
 3487 00e2 DB08     		lsrs	r3, r3, #3
 341:Drivers/SOES/Src/esc_coe.c ****             if (size <= 4)
 3488              		.loc 1 341 18 view .LVU1060
 3489 00e4 0393     		str	r3, [sp, #12]
 342:Drivers/SOES/Src/esc_coe.c ****             {
 3490              		.loc 1 342 13 is_stmt 1 view .LVU1061
 342:Drivers/SOES/Src/esc_coe.c ****             {
 3491              		.loc 1 342 16 is_stmt 0 view .LVU1062
ARM GAS  /tmp/ccpADs8h.s 			page 107


 3492 00e6 042B     		cmp	r3, #4
 3493 00e8 30D8     		bhi	.L216
 3494              	.LBB16:
 345:Drivers/SOES/Src/esc_coe.c ****                void *dataptr = ((objd + nsub)->data) ?
 3495              		.loc 1 345 16 is_stmt 1 view .LVU1063
 345:Drivers/SOES/Src/esc_coe.c ****                void *dataptr = ((objd + nsub)->data) ?
 3496              		.loc 1 345 32 is_stmt 0 view .LVU1064
 3497 00ea 4332     		adds	r2, r2, #67
 3498              	.LVL346:
 345:Drivers/SOES/Src/esc_coe.c ****                void *dataptr = ((objd + nsub)->data) ?
 3499              		.loc 1 345 32 view .LVU1065
 3500 00ec 88F80820 		strb	r2, [r8, #8]
 346:Drivers/SOES/Src/esc_coe.c ****                      (objd + nsub)->data : (void *)&((objd + nsub)->value);
 3501              		.loc 1 346 16 is_stmt 1 view .LVU1066
 346:Drivers/SOES/Src/esc_coe.c ****                      (objd + nsub)->data : (void *)&((objd + nsub)->value);
 3502              		.loc 1 346 46 is_stmt 0 view .LVU1067
 3503 00f0 2269     		ldr	r2, [r4, #16]	@ unaligned
 347:Drivers/SOES/Src/esc_coe.c ****                abort = ESC_upload_pre_objecthandler (index, subindex,
 3504              		.loc 1 347 42 view .LVU1068
 3505 00f2 EAB1     		cbz	r2, .L230
 3506              	.L217:
 3507              	.LVL347:
 348:Drivers/SOES/Src/esc_coe.c ****                      dataptr, (size_t *)&size, (objd + nsub)->flags);
 3508              		.loc 1 348 16 is_stmt 1 view .LVU1069
 348:Drivers/SOES/Src/esc_coe.c ****                      dataptr, (size_t *)&size, (objd + nsub)->flags);
 3509              		.loc 1 348 24 is_stmt 0 view .LVU1070
 3510 00f4 E388     		ldrh	r3, [r4, #6]	@ unaligned
 3511 00f6 0093     		str	r3, [sp]
 3512 00f8 03AB     		add	r3, sp, #12
 3513 00fa 3146     		mov	r1, r6
 3514 00fc 2846     		mov	r0, r5
 3515              	.LVL348:
 348:Drivers/SOES/Src/esc_coe.c ****                      dataptr, (size_t *)&size, (objd + nsub)->flags);
 3516              		.loc 1 348 24 view .LVU1071
 3517 00fe FFF7FEFF 		bl	ESC_upload_pre_objecthandler
 3518              	.LVL349:
 350:Drivers/SOES/Src/esc_coe.c ****                {
 3519              		.loc 1 350 16 is_stmt 1 view .LVU1072
 350:Drivers/SOES/Src/esc_coe.c ****                {
 3520              		.loc 1 350 19 is_stmt 0 view .LVU1073
 3521 0102 0746     		mov	r7, r0
 3522              	.LVL350:
 350:Drivers/SOES/Src/esc_coe.c ****                {
 3523              		.loc 1 350 19 view .LVU1074
 3524 0104 D8B9     		cbnz	r0, .L218
 352:Drivers/SOES/Src/esc_coe.c ****                   {
 3525              		.loc 1 352 19 is_stmt 1 view .LVU1075
 352:Drivers/SOES/Src/esc_coe.c ****                   {
 3526              		.loc 1 352 36 is_stmt 0 view .LVU1076
 3527 0106 2069     		ldr	r0, [r4, #16]	@ unaligned
 3528              	.LVL351:
 352:Drivers/SOES/Src/esc_coe.c ****                   {
 3529              		.loc 1 352 22 view .LVU1077
 3530 0108 A8B1     		cbz	r0, .L231
 360:Drivers/SOES/Src/esc_coe.c ****                   }
 3531              		.loc 1 360 22 is_stmt 1 view .LVU1078
 3532 010a BDF80C20 		ldrh	r2, [sp, #12]
ARM GAS  /tmp/ccpADs8h.s 			page 108


 3533 010e 08F10C01 		add	r1, r8, #12
 3534 0112 FFF7FEFF 		bl	copy2mbx
 3535              	.LVL352:
 3536              	.L220:
 360:Drivers/SOES/Src/esc_coe.c ****                   }
 3537              		.loc 1 360 22 is_stmt 0 view .LVU1079
 3538              	.LBE16:
 406:Drivers/SOES/Src/esc_coe.c ****             {
 3539              		.loc 1 406 13 is_stmt 1 view .LVU1080
 406:Drivers/SOES/Src/esc_coe.c ****             {
 3540              		.loc 1 406 16 is_stmt 0 view .LVU1081
 3541 0116 27B9     		cbnz	r7, .L224
 406:Drivers/SOES/Src/esc_coe.c ****             {
 3542              		.loc 1 406 40 discriminator 1 view .LVU1082
 3543 0118 3E4B     		ldr	r3, .L233+8
 3544 011a 93F88D30 		ldrb	r3, [r3, #141]	@ zero_extendqisi2
 406:Drivers/SOES/Src/esc_coe.c ****             {
 3545              		.loc 1 406 30 discriminator 1 view .LVU1083
 3546 011e 002B     		cmp	r3, #0
 3547 0120 4FD0     		beq	.L232
 3548              	.LVL353:
 3549              	.L224:
 416:Drivers/SOES/Src/esc_coe.c ****          }
 3550              		.loc 1 416 13 is_stmt 1 view .LVU1084
 416:Drivers/SOES/Src/esc_coe.c ****          }
 3551              		.loc 1 416 38 is_stmt 0 view .LVU1085
 3552 0122 3E4B     		ldr	r3, .L233+16
 3553 0124 0322     		movs	r2, #3
 3554 0126 03F80A20 		strb	r2, [r3, r10]
 3555 012a 65E0     		b	.L212
 3556              	.LVL354:
 3557              	.L226:
 326:Drivers/SOES/Src/esc_coe.c ****             }
 3558              		.loc 1 326 20 view .LVU1086
 3559 012c 0822     		movs	r2, #8
 3560 012e CAE7     		b	.L213
 3561              	.LVL355:
 3562              	.L230:
 3563              	.LBB17:
 347:Drivers/SOES/Src/esc_coe.c ****                abort = ESC_upload_pre_objecthandler (index, subindex,
 3564              		.loc 1 347 42 discriminator 2 view .LVU1087
 3565 0130 04F10C02 		add	r2, r4, #12
 3566 0134 DEE7     		b	.L217
 3567              	.LVL356:
 3568              	.L231:
 355:Drivers/SOES/Src/esc_coe.c ****                   }
 3569              		.loc 1 355 22 is_stmt 1 view .LVU1088
 355:Drivers/SOES/Src/esc_coe.c ****                   }
 3570              		.loc 1 355 37 is_stmt 0 view .LVU1089
 3571 0136 E368     		ldr	r3, [r4, #12]	@ unaligned
 355:Drivers/SOES/Src/esc_coe.c ****                   }
 3572              		.loc 1 355 35 view .LVU1090
 3573 0138 C8F80C30 		str	r3, [r8, #12]	@ unaligned
 3574 013c EBE7     		b	.L220
 3575              	.LVL357:
 3576              	.L218:
 365:Drivers/SOES/Src/esc_coe.c ****                   return;
ARM GAS  /tmp/ccpADs8h.s 			page 109


 3577              		.loc 1 365 19 is_stmt 1 view .LVU1091
 3578 013e 0346     		mov	r3, r0
 3579 0140 3246     		mov	r2, r6
 3580 0142 2946     		mov	r1, r5
 3581 0144 5046     		mov	r0, r10
 3582              	.LVL358:
 365:Drivers/SOES/Src/esc_coe.c ****                   return;
 3583              		.loc 1 365 19 is_stmt 0 view .LVU1092
 3584 0146 FFF7FEFF 		bl	set_state_idle
 3585              	.LVL359:
 366:Drivers/SOES/Src/esc_coe.c ****                }
 3586              		.loc 1 366 19 is_stmt 1 view .LVU1093
 3587 014a 5BE0     		b	.L204
 3588              	.LVL360:
 3589              	.L216:
 366:Drivers/SOES/Src/esc_coe.c ****                }
 3590              		.loc 1 366 19 is_stmt 0 view .LVU1094
 3591              	.LBE17:
 372:Drivers/SOES/Src/esc_coe.c ****                      (objd + nsub)->data, (size_t *)&size, (objd + nsub)->flags);
 3592              		.loc 1 372 16 is_stmt 1 view .LVU1095
 372:Drivers/SOES/Src/esc_coe.c ****                      (objd + nsub)->data, (size_t *)&size, (objd + nsub)->flags);
 3593              		.loc 1 372 24 is_stmt 0 view .LVU1096
 3594 014c 2269     		ldr	r2, [r4, #16]	@ unaligned
 3595              	.LVL361:
 372:Drivers/SOES/Src/esc_coe.c ****                      (objd + nsub)->data, (size_t *)&size, (objd + nsub)->flags);
 3596              		.loc 1 372 24 view .LVU1097
 3597 014e E388     		ldrh	r3, [r4, #6]	@ unaligned
 3598 0150 0093     		str	r3, [sp]
 3599 0152 03AB     		add	r3, sp, #12
 3600 0154 3146     		mov	r1, r6
 3601 0156 2846     		mov	r0, r5
 3602              	.LVL362:
 372:Drivers/SOES/Src/esc_coe.c ****                      (objd + nsub)->data, (size_t *)&size, (objd + nsub)->flags);
 3603              		.loc 1 372 24 view .LVU1098
 3604 0158 FFF7FEFF 		bl	ESC_upload_pre_objecthandler
 3605              	.LVL363:
 374:Drivers/SOES/Src/esc_coe.c ****                {
 3606              		.loc 1 374 16 is_stmt 1 view .LVU1099
 374:Drivers/SOES/Src/esc_coe.c ****                {
 3607              		.loc 1 374 19 is_stmt 0 view .LVU1100
 3608 015c 0746     		mov	r7, r0
 3609              	.LVL364:
 374:Drivers/SOES/Src/esc_coe.c ****                {
 3610              		.loc 1 374 19 view .LVU1101
 3611 015e 48BB     		cbnz	r0, .L221
 377:Drivers/SOES/Src/esc_coe.c ****                   coeres->size = htoel (size);
 3612              		.loc 1 377 19 is_stmt 1 view .LVU1102
 377:Drivers/SOES/Src/esc_coe.c ****                   coeres->size = htoel (size);
 3613              		.loc 1 377 32 is_stmt 0 view .LVU1103
 3614 0160 039B     		ldr	r3, [sp, #12]
 3615 0162 2C4A     		ldr	r2, .L233+8
 3616 0164 A2F89630 		strh	r3, [r2, #150]	@ movhi
 378:Drivers/SOES/Src/esc_coe.c ****                   if ((size + COE_HEADERSIZE) > ESC_MBXDSIZE)
 3617              		.loc 1 378 19 is_stmt 1 view .LVU1104
 378:Drivers/SOES/Src/esc_coe.c ****                   if ((size + COE_HEADERSIZE) > ESC_MBXDSIZE)
 3618              		.loc 1 378 32 is_stmt 0 view .LVU1105
 3619 0168 C8F80C30 		str	r3, [r8, #12]	@ unaligned
ARM GAS  /tmp/ccpADs8h.s 			page 110


 379:Drivers/SOES/Src/esc_coe.c ****                   {
 3620              		.loc 1 379 19 is_stmt 1 view .LVU1106
 379:Drivers/SOES/Src/esc_coe.c ****                   {
 3621              		.loc 1 379 29 is_stmt 0 view .LVU1107
 3622 016c 0A33     		adds	r3, r3, #10
 379:Drivers/SOES/Src/esc_coe.c ****                   {
 3623              		.loc 1 379 49 view .LVU1108
 3624 016e 926E     		ldr	r2, [r2, #104]
 3625 0170 911F     		subs	r1, r2, #6
 379:Drivers/SOES/Src/esc_coe.c ****                   {
 3626              		.loc 1 379 22 view .LVU1109
 3627 0172 8B42     		cmp	r3, r1
 3628 0174 19D9     		bls	.L222
 383:Drivers/SOES/Src/esc_coe.c ****                      /* number of bytes done */
 3629              		.loc 1 383 22 is_stmt 1 view .LVU1110
 383:Drivers/SOES/Src/esc_coe.c ****                      /* number of bytes done */
 3630              		.loc 1 383 42 is_stmt 0 view .LVU1111
 3631 0176 103A     		subs	r2, r2, #16
 383:Drivers/SOES/Src/esc_coe.c ****                      /* number of bytes done */
 3632              		.loc 1 383 27 view .LVU1112
 3633 0178 0392     		str	r2, [sp, #12]
 385:Drivers/SOES/Src/esc_coe.c ****                      /* signal segmented transfer */
 3634              		.loc 1 385 22 is_stmt 1 view .LVU1113
 385:Drivers/SOES/Src/esc_coe.c ****                      /* signal segmented transfer */
 3635              		.loc 1 385 39 is_stmt 0 view .LVU1114
 3636 017a 264B     		ldr	r3, .L233+8
 3637 017c A3F89820 		strh	r2, [r3, #152]	@ movhi
 387:Drivers/SOES/Src/esc_coe.c ****                      ESCvar.data = (objd + nsub)->data;
 3638              		.loc 1 387 22 is_stmt 1 view .LVU1115
 387:Drivers/SOES/Src/esc_coe.c ****                      ESCvar.data = (objd + nsub)->data;
 3639              		.loc 1 387 39 is_stmt 0 view .LVU1116
 3640 0180 4022     		movs	r2, #64
 3641 0182 83F88D20 		strb	r2, [r3, #141]
 388:Drivers/SOES/Src/esc_coe.c ****                      ESCvar.flags = (objd + nsub)->flags;
 3642              		.loc 1 388 22 is_stmt 1 view .LVU1117
 388:Drivers/SOES/Src/esc_coe.c ****                      ESCvar.flags = (objd + nsub)->flags;
 3643              		.loc 1 388 49 is_stmt 0 view .LVU1118
 3644 0186 2269     		ldr	r2, [r4, #16]	@ unaligned
 388:Drivers/SOES/Src/esc_coe.c ****                      ESCvar.flags = (objd + nsub)->flags;
 3645              		.loc 1 388 34 view .LVU1119
 3646 0188 C3F89020 		str	r2, [r3, #144]
 389:Drivers/SOES/Src/esc_coe.c ****                   }
 3647              		.loc 1 389 22 is_stmt 1 view .LVU1120
 389:Drivers/SOES/Src/esc_coe.c ****                   }
 3648              		.loc 1 389 50 is_stmt 0 view .LVU1121
 3649 018c E288     		ldrh	r2, [r4, #6]	@ unaligned
 389:Drivers/SOES/Src/esc_coe.c ****                   }
 3650              		.loc 1 389 35 view .LVU1122
 3651 018e A3F89E20 		strh	r2, [r3, #158]	@ movhi
 3652              	.L223:
 395:Drivers/SOES/Src/esc_coe.c **** 
 3653              		.loc 1 395 19 is_stmt 1 view .LVU1123
 395:Drivers/SOES/Src/esc_coe.c **** 
 3654              		.loc 1 395 46 is_stmt 0 view .LVU1124
 3655 0192 BDF80C20 		ldrh	r2, [sp, #12]
 3656 0196 02F10A03 		add	r3, r2, #10
 395:Drivers/SOES/Src/esc_coe.c **** 
ARM GAS  /tmp/ccpADs8h.s 			page 111


 3657              		.loc 1 395 44 view .LVU1125
 3658 019a 2BF80930 		strh	r3, [fp, r9]	@ unaligned
 398:Drivers/SOES/Src/esc_coe.c ****                }
 3659              		.loc 1 398 19 is_stmt 1 view .LVU1126
 3660 019e 08F11001 		add	r1, r8, #16
 3661 01a2 2069     		ldr	r0, [r4, #16]	@ unaligned
 3662              	.LVL365:
 398:Drivers/SOES/Src/esc_coe.c ****                }
 3663              		.loc 1 398 19 is_stmt 0 view .LVU1127
 3664 01a4 FFF7FEFF 		bl	copy2mbx
 3665              	.LVL366:
 3666 01a8 B5E7     		b	.L220
 3667              	.LVL367:
 3668              	.L222:
 393:Drivers/SOES/Src/esc_coe.c ****                   }
 3669              		.loc 1 393 22 is_stmt 1 view .LVU1128
 393:Drivers/SOES/Src/esc_coe.c ****                   }
 3670              		.loc 1 393 39 is_stmt 0 view .LVU1129
 3671 01aa 1A4B     		ldr	r3, .L233+8
 3672 01ac 0022     		movs	r2, #0
 3673 01ae 83F88D20 		strb	r2, [r3, #141]
 3674 01b2 EEE7     		b	.L223
 3675              	.L221:
 402:Drivers/SOES/Src/esc_coe.c ****                   return;
 3676              		.loc 1 402 19 is_stmt 1 view .LVU1130
 3677 01b4 0346     		mov	r3, r0
 3678 01b6 3246     		mov	r2, r6
 3679 01b8 2946     		mov	r1, r5
 3680 01ba 5046     		mov	r0, r10
 3681              	.LVL368:
 402:Drivers/SOES/Src/esc_coe.c ****                   return;
 3682              		.loc 1 402 19 is_stmt 0 view .LVU1131
 3683 01bc FFF7FEFF 		bl	set_state_idle
 3684              	.LVL369:
 403:Drivers/SOES/Src/esc_coe.c ****                }
 3685              		.loc 1 403 19 is_stmt 1 view .LVU1132
 3686 01c0 20E0     		b	.L204
 3687              	.L232:
 408:Drivers/SOES/Src/esc_coe.c ****                                                       (objd + nsub)->flags);
 3688              		.loc 1 408 16 view .LVU1133
 408:Drivers/SOES/Src/esc_coe.c ****                                                       (objd + nsub)->flags);
 3689              		.loc 1 408 24 is_stmt 0 view .LVU1134
 3690 01c2 E288     		ldrh	r2, [r4, #6]	@ unaligned
 3691 01c4 3146     		mov	r1, r6
 3692 01c6 2846     		mov	r0, r5
 3693 01c8 FFF7FEFF 		bl	ESC_upload_post_objecthandler
 3694              	.LVL370:
 410:Drivers/SOES/Src/esc_coe.c ****                {
 3695              		.loc 1 410 16 is_stmt 1 view .LVU1135
 410:Drivers/SOES/Src/esc_coe.c ****                {
 3696              		.loc 1 410 19 is_stmt 0 view .LVU1136
 3697 01cc 0346     		mov	r3, r0
 3698 01ce 0028     		cmp	r0, #0
 3699 01d0 A7D0     		beq	.L224
 412:Drivers/SOES/Src/esc_coe.c ****                   return;
 3700              		.loc 1 412 19 is_stmt 1 view .LVU1137
 3701 01d2 3246     		mov	r2, r6
ARM GAS  /tmp/ccpADs8h.s 			page 112


 3702 01d4 2946     		mov	r1, r5
 3703 01d6 5046     		mov	r0, r10
 3704              	.LVL371:
 412:Drivers/SOES/Src/esc_coe.c ****                   return;
 3705              		.loc 1 412 19 is_stmt 0 view .LVU1138
 3706 01d8 FFF7FEFF 		bl	set_state_idle
 3707              	.LVL372:
 413:Drivers/SOES/Src/esc_coe.c ****                }
 3708              		.loc 1 413 19 is_stmt 1 view .LVU1139
 3709 01dc 12E0     		b	.L204
 3710              	.LVL373:
 3711              	.L206:
 413:Drivers/SOES/Src/esc_coe.c ****                }
 3712              		.loc 1 413 19 is_stmt 0 view .LVU1140
 3713              	.LBE15:
 421:Drivers/SOES/Src/esc_coe.c ****       }
 3714              		.loc 1 421 10 is_stmt 1 view .LVU1141
 3715 01de 104B     		ldr	r3, .L233+20
 3716 01e0 3246     		mov	r2, r6
 3717 01e2 2946     		mov	r1, r5
 3718 01e4 0020     		movs	r0, #0
 3719 01e6 FFF7FEFF 		bl	SDO_abort
 3720              	.LVL374:
 3721 01ea 05E0     		b	.L212
 3722              	.L205:
 426:Drivers/SOES/Src/esc_coe.c ****    }
 3723              		.loc 1 426 7 view .LVU1142
 3724 01ec 0D4B     		ldr	r3, .L233+24
 3725 01ee 3246     		mov	r2, r6
 3726 01f0 2946     		mov	r1, r5
 3727 01f2 0020     		movs	r0, #0
 3728 01f4 FFF7FEFF 		bl	SDO_abort
 3729              	.LVL375:
 3730              	.L212:
 428:Drivers/SOES/Src/esc_coe.c ****    ESCvar.xoe = 0;
 3731              		.loc 1 428 4 discriminator 3 view .LVU1143
 428:Drivers/SOES/Src/esc_coe.c ****    ESCvar.xoe = 0;
 3732              		.loc 1 428 24 is_stmt 0 discriminator 3 view .LVU1144
 3733 01f8 0023     		movs	r3, #0
 3734 01fa 084A     		ldr	r2, .L233+16
 3735 01fc 1370     		strb	r3, [r2]
 429:Drivers/SOES/Src/esc_coe.c **** }
 3736              		.loc 1 429 4 is_stmt 1 discriminator 3 view .LVU1145
 429:Drivers/SOES/Src/esc_coe.c **** }
 3737              		.loc 1 429 15 is_stmt 0 discriminator 3 view .LVU1146
 3738 01fe 054A     		ldr	r2, .L233+8
 3739 0200 82F88A30 		strb	r3, [r2, #138]
 3740              	.L204:
 430:Drivers/SOES/Src/esc_coe.c **** 
 3741              		.loc 1 430 1 view .LVU1147
 3742 0204 05B0     		add	sp, sp, #20
 3743              		.cfi_def_cfa_offset 36
 3744              		@ sp needed
 3745 0206 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 3746              	.LVL376:
 3747              	.L234:
 430:Drivers/SOES/Src/esc_coe.c **** 
ARM GAS  /tmp/ccpADs8h.s 			page 113


 3748              		.loc 1 430 1 view .LVU1148
 3749 020a 00BF     		.align	2
 3750              	.L233:
 3751 020c 00000000 		.word	MBX
 3752 0210 00000000 		.word	SDOobjects
 3753 0214 00000000 		.word	ESCvar
 3754 0218 01000106 		.word	100728833
 3755 021c 00000000 		.word	MBXcontrol
 3756 0220 11000906 		.word	101253137
 3757 0224 00000206 		.word	100794368
 3758              		.cfi_endproc
 3759              	.LFE6:
 3761              		.section	.text.SDO_download,"ax",%progbits
 3762              		.align	1
 3763              		.syntax unified
 3764              		.thumb
 3765              		.thumb_func
 3767              	SDO_download:
 3768              	.LFB12:
 751:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coesdo, *coeres;
 3769              		.loc 1 751 1 is_stmt 1 view -0
 3770              		.cfi_startproc
 3771              		@ args = 0, pretend = 0, frame = 8
 3772              		@ frame_needed = 0, uses_anonymous_args = 0
 3773 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 3774              		.cfi_def_cfa_offset 28
 3775              		.cfi_offset 4, -28
 3776              		.cfi_offset 5, -24
 3777              		.cfi_offset 6, -20
 3778              		.cfi_offset 7, -16
 3779              		.cfi_offset 8, -12
 3780              		.cfi_offset 9, -8
 3781              		.cfi_offset 14, -4
 3782 0004 85B0     		sub	sp, sp, #20
 3783              		.cfi_def_cfa_offset 48
 752:Drivers/SOES/Src/esc_coe.c ****    uint16_t index;
 3784              		.loc 1 752 4 view .LVU1150
 753:Drivers/SOES/Src/esc_coe.c ****    uint8_t subindex;
 3785              		.loc 1 753 4 view .LVU1151
 754:Drivers/SOES/Src/esc_coe.c ****    int16_t nidx, nsub;
 3786              		.loc 1 754 4 view .LVU1152
 755:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
 3787              		.loc 1 755 4 view .LVU1153
 756:Drivers/SOES/Src/esc_coe.c ****    uint16_t size, actsize;
 3788              		.loc 1 756 4 view .LVU1154
 757:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd;
 3789              		.loc 1 757 4 view .LVU1155
 758:Drivers/SOES/Src/esc_coe.c ****    uint32_t *mbxdata;
 3790              		.loc 1 758 4 view .LVU1156
 759:Drivers/SOES/Src/esc_coe.c ****    uint32_t abort;
 3791              		.loc 1 759 4 view .LVU1157
 760:Drivers/SOES/Src/esc_coe.c **** 
 3792              		.loc 1 760 4 view .LVU1158
 762:Drivers/SOES/Src/esc_coe.c ****    index = etohs (coesdo->index);
 3793              		.loc 1 762 4 view .LVU1159
 3794              	.LVL377:
 763:Drivers/SOES/Src/esc_coe.c ****    subindex = coesdo->subindex;
ARM GAS  /tmp/ccpADs8h.s 			page 114


 3795              		.loc 1 763 4 view .LVU1160
 763:Drivers/SOES/Src/esc_coe.c ****    subindex = coesdo->subindex;
 3796              		.loc 1 763 10 is_stmt 0 view .LVU1161
 3797 0006 854B     		ldr	r3, .L256
 3798 0008 B3F80970 		ldrh	r7, [r3, #9]	@ unaligned
 3799 000c BDB2     		uxth	r5, r7
 3800              	.LVL378:
 764:Drivers/SOES/Src/esc_coe.c ****    nidx = SDO_findobject (index);
 3801              		.loc 1 764 4 is_stmt 1 view .LVU1162
 764:Drivers/SOES/Src/esc_coe.c ****    nidx = SDO_findobject (index);
 3802              		.loc 1 764 13 is_stmt 0 view .LVU1163
 3803 000e DE7A     		ldrb	r6, [r3, #11]	@ zero_extendqisi2
 3804              	.LVL379:
 765:Drivers/SOES/Src/esc_coe.c ****    if (nidx >= 0)
 3805              		.loc 1 765 4 is_stmt 1 view .LVU1164
 765:Drivers/SOES/Src/esc_coe.c ****    if (nidx >= 0)
 3806              		.loc 1 765 11 is_stmt 0 view .LVU1165
 3807 0010 2846     		mov	r0, r5
 3808 0012 FFF7FEFF 		bl	SDO_findobject
 3809              	.LVL380:
 765:Drivers/SOES/Src/esc_coe.c ****    if (nidx >= 0)
 3810              		.loc 1 765 9 view .LVU1166
 3811 0016 04B2     		sxth	r4, r0
 3812              	.LVL381:
 766:Drivers/SOES/Src/esc_coe.c ****    {
 3813              		.loc 1 766 4 is_stmt 1 view .LVU1167
 766:Drivers/SOES/Src/esc_coe.c ****    {
 3814              		.loc 1 766 7 is_stmt 0 view .LVU1168
 3815 0018 002C     		cmp	r4, #0
 3816 001a C0F2F080 		blt	.L236
 768:Drivers/SOES/Src/esc_coe.c ****       if (nsub >= 0)
 3817              		.loc 1 768 7 is_stmt 1 view .LVU1169
 768:Drivers/SOES/Src/esc_coe.c ****       if (nsub >= 0)
 3818              		.loc 1 768 14 is_stmt 0 view .LVU1170
 3819 001e 3146     		mov	r1, r6
 3820 0020 2046     		mov	r0, r4
 3821 0022 FFF7FEFF 		bl	SDO_findsubindex
 3822              	.LVL382:
 769:Drivers/SOES/Src/esc_coe.c ****       {
 3823              		.loc 1 769 7 is_stmt 1 view .LVU1171
 769:Drivers/SOES/Src/esc_coe.c ****       {
 3824              		.loc 1 769 10 is_stmt 0 view .LVU1172
 3825 0026 0028     		cmp	r0, #0
 3826              	.LVL383:
 769:Drivers/SOES/Src/esc_coe.c ****       {
 3827              		.loc 1 769 10 view .LVU1173
 3828 0028 C0F2E280 		blt	.L237
 3829              	.LBB18:
 771:Drivers/SOES/Src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 3830              		.loc 1 771 10 is_stmt 1 view .LVU1174
 771:Drivers/SOES/Src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 3831              		.loc 1 771 15 is_stmt 0 view .LVU1175
 3832 002c C4EBC404 		rsb	r4, r4, r4, lsl #3
 3833              	.LVL384:
 771:Drivers/SOES/Src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 3834              		.loc 1 771 15 view .LVU1176
 3835 0030 7B4B     		ldr	r3, .L256+4
ARM GAS  /tmp/ccpADs8h.s 			page 115


 3836 0032 03EB4404 		add	r4, r3, r4, lsl #1
 3837 0036 D4F80A40 		ldr	r4, [r4, #10]	@ unaligned
 3838              	.LVL385:
 772:Drivers/SOES/Src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3839              		.loc 1 772 10 is_stmt 1 view .LVU1177
 772:Drivers/SOES/Src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3840              		.loc 1 772 33 is_stmt 0 view .LVU1178
 3841 003a 00EB8000 		add	r0, r0, r0, lsl #2
 3842 003e 04EB8004 		add	r4, r4, r0, lsl #2
 3843              	.LVL386:
 772:Drivers/SOES/Src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3844              		.loc 1 772 40 view .LVU1179
 3845 0042 E288     		ldrh	r2, [r4, #6]	@ unaligned
 772:Drivers/SOES/Src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3846              		.loc 1 772 48 view .LVU1180
 3847 0044 D1B2     		uxtb	r1, r2
 772:Drivers/SOES/Src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3848              		.loc 1 772 18 view .LVU1181
 3849 0046 02F03F00 		and	r0, r2, #63
 3850              	.LVL387:
 773:Drivers/SOES/Src/esc_coe.c ****          if (WRITE_ACCESS(access, state))
 3851              		.loc 1 773 10 is_stmt 1 view .LVU1182
 773:Drivers/SOES/Src/esc_coe.c ****          if (WRITE_ACCESS(access, state))
 3852              		.loc 1 773 42 is_stmt 0 view .LVU1183
 3853 004a 764B     		ldr	r3, .L256+8
 3854 004c 93F87C30 		ldrb	r3, [r3, #124]	@ zero_extendqisi2
 773:Drivers/SOES/Src/esc_coe.c ****          if (WRITE_ACCESS(access, state))
 3855              		.loc 1 773 18 view .LVU1184
 3856 0050 03F00F03 		and	r3, r3, #15
 3857              	.LVL388:
 774:Drivers/SOES/Src/esc_coe.c ****          {
 3858              		.loc 1 774 10 is_stmt 1 view .LVU1185
 774:Drivers/SOES/Src/esc_coe.c ****          {
 3859              		.loc 1 774 13 is_stmt 0 view .LVU1186
 3860 0054 12F0080F 		tst	r2, #8
 3861 0058 01D0     		beq	.L238
 774:Drivers/SOES/Src/esc_coe.c ****          {
 3862              		.loc 1 774 14 discriminator 1 view .LVU1187
 3863 005a 022B     		cmp	r3, #2
 3864 005c 13D0     		beq	.L239
 3865              	.L238:
 774:Drivers/SOES/Src/esc_coe.c ****          {
 3866              		.loc 1 774 14 discriminator 3 view .LVU1188
 3867 005e 11F0100F 		tst	r1, #16
 3868 0062 01D0     		beq	.L240
 774:Drivers/SOES/Src/esc_coe.c ****          {
 3869              		.loc 1 774 14 discriminator 4 view .LVU1189
 3870 0064 042B     		cmp	r3, #4
 3871 0066 0ED0     		beq	.L239
 3872              	.L240:
 774:Drivers/SOES/Src/esc_coe.c ****          {
 3873              		.loc 1 774 14 discriminator 6 view .LVU1190
 3874 0068 11F0200F 		tst	r1, #32
 3875 006c 01D0     		beq	.L241
 774:Drivers/SOES/Src/esc_coe.c ****          {
 3876              		.loc 1 774 14 discriminator 7 view .LVU1191
 3877 006e 082B     		cmp	r3, #8
ARM GAS  /tmp/ccpADs8h.s 			page 116


 3878 0070 09D0     		beq	.L239
 3879              	.L241:
 869:Drivers/SOES/Src/esc_coe.c ****             {
 3880              		.loc 1 869 13 is_stmt 1 view .LVU1192
 869:Drivers/SOES/Src/esc_coe.c ****             {
 3881              		.loc 1 869 16 is_stmt 0 view .LVU1193
 3882 0072 0F28     		cmp	r0, #15
 3883 0074 00F0B580 		beq	.L254
 875:Drivers/SOES/Src/esc_coe.c ****             }
 3884              		.loc 1 875 16 is_stmt 1 view .LVU1194
 3885 0078 6B4B     		ldr	r3, .L256+12
 3886              	.LVL389:
 875:Drivers/SOES/Src/esc_coe.c ****             }
 3887              		.loc 1 875 16 is_stmt 0 view .LVU1195
 3888 007a 3246     		mov	r2, r6
 3889 007c 2946     		mov	r1, r5
 3890 007e 0020     		movs	r0, #0
 3891              	.LVL390:
 875:Drivers/SOES/Src/esc_coe.c ****             }
 3892              		.loc 1 875 16 view .LVU1196
 3893 0080 FFF7FEFF 		bl	SDO_abort
 3894              	.LVL391:
 875:Drivers/SOES/Src/esc_coe.c ****             }
 3895              		.loc 1 875 16 view .LVU1197
 3896 0084 C1E0     		b	.L251
 3897              	.LVL392:
 3898              	.L239:
 777:Drivers/SOES/Src/esc_coe.c ****             {
 3899              		.loc 1 777 13 is_stmt 1 view .LVU1198
 777:Drivers/SOES/Src/esc_coe.c ****             {
 3900              		.loc 1 777 23 is_stmt 0 view .LVU1199
 3901 0086 654B     		ldr	r3, .L256
 3902              	.LVL393:
 777:Drivers/SOES/Src/esc_coe.c ****             {
 3903              		.loc 1 777 23 view .LVU1200
 3904 0088 93F80880 		ldrb	r8, [r3, #8]	@ zero_extendqisi2
 777:Drivers/SOES/Src/esc_coe.c ****             {
 3905              		.loc 1 777 16 view .LVU1201
 3906 008c 18F0020F 		tst	r8, #2
 3907 0090 2DD0     		beq	.L242
 3908              	.LBB19:
 779:Drivers/SOES/Src/esc_coe.c ****                uint32_t size_value = coesdo->size;
 3909              		.loc 1 779 16 is_stmt 1 view .LVU1202
 779:Drivers/SOES/Src/esc_coe.c ****                uint32_t size_value = coesdo->size;
 3910              		.loc 1 779 53 is_stmt 0 view .LVU1203
 3911 0092 C8F38108 		ubfx	r8, r8, #2, #2
 779:Drivers/SOES/Src/esc_coe.c ****                uint32_t size_value = coesdo->size;
 3912              		.loc 1 779 21 view .LVU1204
 3913 0096 C8F10408 		rsb	r8, r8, #4
 3914 009a 1FFA88F8 		uxth	r8, r8
 3915              	.LVL394:
 780:Drivers/SOES/Src/esc_coe.c ****                mbxdata = &size_value;
 3916              		.loc 1 780 16 is_stmt 1 view .LVU1205
 780:Drivers/SOES/Src/esc_coe.c ****                mbxdata = &size_value;
 3917              		.loc 1 780 44 is_stmt 0 view .LVU1206
 3918 009e DB68     		ldr	r3, [r3, #12]	@ unaligned
 780:Drivers/SOES/Src/esc_coe.c ****                mbxdata = &size_value;
ARM GAS  /tmp/ccpADs8h.s 			page 117


 3919              		.loc 1 780 25 view .LVU1207
 3920 00a0 0393     		str	r3, [sp, #12]
 781:Drivers/SOES/Src/esc_coe.c ****             }
 3921              		.loc 1 781 16 is_stmt 1 view .LVU1208
 3922              	.LVL395:
 781:Drivers/SOES/Src/esc_coe.c ****             }
 3923              		.loc 1 781 24 is_stmt 0 view .LVU1209
 3924 00a2 0DF10C09 		add	r9, sp, #12
 3925              	.LVL396:
 3926              	.L243:
 781:Drivers/SOES/Src/esc_coe.c ****             }
 3927              		.loc 1 781 24 view .LVU1210
 3928              	.LBE19:
 789:Drivers/SOES/Src/esc_coe.c ****             if (actsize != size)
 3929              		.loc 1 789 13 is_stmt 1 view .LVU1211
 789:Drivers/SOES/Src/esc_coe.c ****             if (actsize != size)
 3930              		.loc 1 789 23 is_stmt 0 view .LVU1212
 3931 00a6 A388     		ldrh	r3, [r4, #4]	@ unaligned
 3932 00a8 0733     		adds	r3, r3, #7
 3933 00aa DA10     		asrs	r2, r3, #3
 3934              	.LVL397:
 790:Drivers/SOES/Src/esc_coe.c ****             {
 3935              		.loc 1 790 13 is_stmt 1 view .LVU1213
 790:Drivers/SOES/Src/esc_coe.c ****             {
 3936              		.loc 1 790 16 is_stmt 0 view .LVU1214
 3937 00ac B8EBD30F 		cmp	r8, r3, lsr #3
 3938 00b0 2CD0     		beq	.L244
 3939              	.LBB20:
 796:Drivers/SOES/Src/esc_coe.c ****                if (type == DTYPE_VISIBLE_STRING)
 3940              		.loc 1 796 16 is_stmt 1 view .LVU1215
 796:Drivers/SOES/Src/esc_coe.c ****                if (type == DTYPE_VISIBLE_STRING)
 3941              		.loc 1 796 25 is_stmt 0 view .LVU1216
 3942 00b2 6388     		ldrh	r3, [r4, #2]	@ unaligned
 3943              	.LVL398:
 797:Drivers/SOES/Src/esc_coe.c ****                {
 3944              		.loc 1 797 16 is_stmt 1 view .LVU1217
 797:Drivers/SOES/Src/esc_coe.c ****                {
 3945              		.loc 1 797 19 is_stmt 0 view .LVU1218
 3946 00b4 092B     		cmp	r3, #9
 3947 00b6 22D0     		beq	.L255
 802:Drivers/SOES/Src/esc_coe.c ****                         (type != DTYPE_UNICODE_STRING) &&
 3948              		.loc 1 802 21 is_stmt 1 view .LVU1219
 802:Drivers/SOES/Src/esc_coe.c ****                         (type != DTYPE_UNICODE_STRING) &&
 3949              		.loc 1 802 54 is_stmt 0 view .LVU1220
 3950 00b8 A3F10A02 		sub	r2, r3, #10
 3951 00bc 92B2     		uxth	r2, r2
 802:Drivers/SOES/Src/esc_coe.c ****                         (type != DTYPE_UNICODE_STRING) &&
 3952              		.loc 1 802 24 view .LVU1221
 3953 00be 012A     		cmp	r2, #1
 3954 00c0 24D9     		bls	.L244
 803:Drivers/SOES/Src/esc_coe.c ****                         (type != DTYPE_ARRAY_OF_INT) &&
 3955              		.loc 1 803 56 view .LVU1222
 3956 00c2 B3F5187F 		cmp	r3, #608
 3957 00c6 21D0     		beq	.L244
 804:Drivers/SOES/Src/esc_coe.c ****                         (type != DTYPE_ARRAY_OF_SINT) &&
 3958              		.loc 1 804 54 view .LVU1223
 3959 00c8 40F26122 		movw	r2, #609
ARM GAS  /tmp/ccpADs8h.s 			page 118


 3960 00cc 9342     		cmp	r3, r2
 3961 00ce 1DD0     		beq	.L244
 805:Drivers/SOES/Src/esc_coe.c ****                         (type != DTYPE_ARRAY_OF_DINT) &&
 3962              		.loc 1 805 55 view .LVU1224
 3963 00d0 40F26222 		movw	r2, #610
 3964 00d4 9342     		cmp	r3, r2
 3965 00d6 19D0     		beq	.L244
 806:Drivers/SOES/Src/esc_coe.c ****                         (type != DTYPE_ARRAY_OF_UDINT))
 3966              		.loc 1 806 55 view .LVU1225
 3967 00d8 40F26322 		movw	r2, #611
 3968 00dc 9342     		cmp	r3, r2
 3969 00de 15D0     		beq	.L244
 809:Drivers/SOES/Src/esc_coe.c ****                   return;
 3970              		.loc 1 809 19 is_stmt 1 view .LVU1226
 3971 00e0 524B     		ldr	r3, .L256+16
 3972 00e2 3246     		mov	r2, r6
 3973 00e4 2946     		mov	r1, r5
 3974 00e6 0020     		movs	r0, #0
 3975              	.LVL399:
 809:Drivers/SOES/Src/esc_coe.c ****                   return;
 3976              		.loc 1 809 19 is_stmt 0 view .LVU1227
 3977 00e8 FFF7FEFF 		bl	set_state_idle
 3978              	.LVL400:
 810:Drivers/SOES/Src/esc_coe.c ****                }
 3979              		.loc 1 810 19 is_stmt 1 view .LVU1228
 3980 00ec 93E0     		b	.L235
 3981              	.LVL401:
 3982              	.L242:
 810:Drivers/SOES/Src/esc_coe.c ****                }
 3983              		.loc 1 810 19 is_stmt 0 view .LVU1229
 3984              	.LBE20:
 786:Drivers/SOES/Src/esc_coe.c ****                mbxdata = (&(coesdo->size)) + 1;
 3985              		.loc 1 786 16 is_stmt 1 view .LVU1230
 786:Drivers/SOES/Src/esc_coe.c ****                mbxdata = (&(coesdo->size)) + 1;
 3986              		.loc 1 786 24 is_stmt 0 view .LVU1231
 3987 00ee 4B4B     		ldr	r3, .L256
 3988 00f0 D3F80C80 		ldr	r8, [r3, #12]	@ unaligned
 786:Drivers/SOES/Src/esc_coe.c ****                mbxdata = (&(coesdo->size)) + 1;
 3989              		.loc 1 786 21 view .LVU1232
 3990 00f4 1FFA88F8 		uxth	r8, r8
 3991              	.LVL402:
 787:Drivers/SOES/Src/esc_coe.c ****             }
 3992              		.loc 1 787 16 is_stmt 1 view .LVU1233
 787:Drivers/SOES/Src/esc_coe.c ****             }
 3993              		.loc 1 787 24 is_stmt 0 view .LVU1234
 3994 00f8 03F11009 		add	r9, r3, #16
 3995 00fc D3E7     		b	.L243
 3996              	.LVL403:
 3997              	.L255:
 3998              	.LBB21:
 800:Drivers/SOES/Src/esc_coe.c ****                }
 3999              		.loc 1 800 19 is_stmt 1 view .LVU1235
 800:Drivers/SOES/Src/esc_coe.c ****                }
 4000              		.loc 1 800 39 is_stmt 0 view .LVU1236
 4001 00fe 2069     		ldr	r0, [r4, #16]	@ unaligned
 4002              	.LVL404:
 800:Drivers/SOES/Src/esc_coe.c ****                }
ARM GAS  /tmp/ccpADs8h.s 			page 119


 4003              		.loc 1 800 19 view .LVU1237
 4004 0100 A2EB0802 		sub	r2, r2, r8
 4005 0104 0021     		movs	r1, #0
 4006 0106 4044     		add	r0, r0, r8
 4007 0108 FFF7FEFF 		bl	memset
 4008              	.LVL405:
 4009              	.L244:
 800:Drivers/SOES/Src/esc_coe.c ****                }
 4010              		.loc 1 800 19 view .LVU1238
 4011              	.LBE21:
 813:Drivers/SOES/Src/esc_coe.c ****                   index,
 4012              		.loc 1 813 13 is_stmt 1 view .LVU1239
 813:Drivers/SOES/Src/esc_coe.c ****                   index,
 4013              		.loc 1 813 21 is_stmt 0 view .LVU1240
 4014 010c E388     		ldrh	r3, [r4, #6]	@ unaligned
 4015 010e 0093     		str	r3, [sp]
 4016 0110 4346     		mov	r3, r8
 4017 0112 4A46     		mov	r2, r9
 4018 0114 3146     		mov	r1, r6
 4019 0116 2846     		mov	r0, r5
 4020 0118 FFF7FEFF 		bl	ESC_download_pre_objecthandler
 4021              	.LVL406:
 820:Drivers/SOES/Src/esc_coe.c ****             {
 4022              		.loc 1 820 13 is_stmt 1 view .LVU1241
 820:Drivers/SOES/Src/esc_coe.c ****             {
 4023              		.loc 1 820 16 is_stmt 0 view .LVU1242
 4024 011c 0346     		mov	r3, r0
 4025 011e 0028     		cmp	r0, #0
 4026 0120 59D1     		bne	.L247
 822:Drivers/SOES/Src/esc_coe.c ****                      (size > (coesdo->mbxheader.length - COE_HEADERSIZE)))
 4027              		.loc 1 822 16 is_stmt 1 view .LVU1243
 822:Drivers/SOES/Src/esc_coe.c ****                      (size > (coesdo->mbxheader.length - COE_HEADERSIZE)))
 4028              		.loc 1 822 19 is_stmt 0 view .LVU1244
 4029 0122 B8F1040F 		cmp	r8, #4
 4030 0126 18D9     		bls	.L248
 823:Drivers/SOES/Src/esc_coe.c ****                {
 4031              		.loc 1 823 48 discriminator 1 view .LVU1245
 4032 0128 3C4B     		ldr	r3, .L256
 4033 012a 1B88     		ldrh	r3, [r3]	@ unaligned
 823:Drivers/SOES/Src/esc_coe.c ****                {
 4034              		.loc 1 823 28 discriminator 1 view .LVU1246
 4035 012c A3F10902 		sub	r2, r3, #9
 822:Drivers/SOES/Src/esc_coe.c ****                      (size > (coesdo->mbxheader.length - COE_HEADERSIZE)))
 4036              		.loc 1 822 31 discriminator 1 view .LVU1247
 4037 0130 4245     		cmp	r2, r8
 4038 0132 12DC     		bgt	.L248
 825:Drivers/SOES/Src/esc_coe.c ****                   /* signal segmented transfer */
 4039              		.loc 1 825 19 is_stmt 1 view .LVU1248
 825:Drivers/SOES/Src/esc_coe.c ****                   /* signal segmented transfer */
 4040              		.loc 1 825 24 is_stmt 0 view .LVU1249
 4041 0134 0A3B     		subs	r3, r3, #10
 4042 0136 1FFA83F8 		uxth	r8, r3
 4043              	.LVL407:
 827:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.data = (objd + nsub)->data + size;
 4044              		.loc 1 827 19 is_stmt 1 view .LVU1250
 827:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.data = (objd + nsub)->data + size;
 4045              		.loc 1 827 36 is_stmt 0 view .LVU1251
ARM GAS  /tmp/ccpADs8h.s 			page 120


 4046 013a 3A4B     		ldr	r3, .L256+8
 4047 013c 5022     		movs	r2, #80
 4048 013e 83F88D20 		strb	r2, [r3, #141]
 828:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.index = index;
 4049              		.loc 1 828 19 is_stmt 1 view .LVU1252
 828:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.index = index;
 4050              		.loc 1 828 46 is_stmt 0 view .LVU1253
 4051 0142 2269     		ldr	r2, [r4, #16]	@ unaligned
 828:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.index = index;
 4052              		.loc 1 828 53 view .LVU1254
 4053 0144 4244     		add	r2, r2, r8
 828:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.index = index;
 4054              		.loc 1 828 31 view .LVU1255
 4055 0146 C3F89020 		str	r2, [r3, #144]
 829:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.subindex = subindex;
 4056              		.loc 1 829 19 is_stmt 1 view .LVU1256
 829:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.subindex = subindex;
 4057              		.loc 1 829 32 is_stmt 0 view .LVU1257
 4058 014a A3F89A70 		strh	r7, [r3, #154]	@ movhi
 830:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.flags = (objd + nsub)->flags;
 4059              		.loc 1 830 19 is_stmt 1 view .LVU1258
 830:Drivers/SOES/Src/esc_coe.c ****                   ESCvar.flags = (objd + nsub)->flags;
 4060              		.loc 1 830 35 is_stmt 0 view .LVU1259
 4061 014e 83F89C60 		strb	r6, [r3, #156]
 831:Drivers/SOES/Src/esc_coe.c ****                }
 4062              		.loc 1 831 19 is_stmt 1 view .LVU1260
 831:Drivers/SOES/Src/esc_coe.c ****                }
 4063              		.loc 1 831 47 is_stmt 0 view .LVU1261
 4064 0152 E288     		ldrh	r2, [r4, #6]	@ unaligned
 831:Drivers/SOES/Src/esc_coe.c ****                }
 4065              		.loc 1 831 32 view .LVU1262
 4066 0154 A3F89E20 		strh	r2, [r3, #158]	@ movhi
 4067 0158 03E0     		b	.L249
 4068              	.L248:
 835:Drivers/SOES/Src/esc_coe.c ****                }
 4069              		.loc 1 835 19 is_stmt 1 view .LVU1263
 835:Drivers/SOES/Src/esc_coe.c ****                }
 4070              		.loc 1 835 36 is_stmt 0 view .LVU1264
 4071 015a 324B     		ldr	r3, .L256+8
 4072 015c 0022     		movs	r2, #0
 4073 015e 83F88D20 		strb	r2, [r3, #141]
 4074              	.L249:
 837:Drivers/SOES/Src/esc_coe.c ****                MBXout = ESC_claimbuffer ();
 4075              		.loc 1 837 16 is_stmt 1 view .LVU1265
 4076 0162 4246     		mov	r2, r8
 4077 0164 2169     		ldr	r1, [r4, #16]	@ unaligned
 4078 0166 4846     		mov	r0, r9
 4079              	.LVL408:
 837:Drivers/SOES/Src/esc_coe.c ****                MBXout = ESC_claimbuffer ();
 4080              		.loc 1 837 16 is_stmt 0 view .LVU1266
 4081 0168 FFF7FEFF 		bl	copy2mbx
 4082              	.LVL409:
 838:Drivers/SOES/Src/esc_coe.c ****                if (MBXout)
 4083              		.loc 1 838 16 is_stmt 1 view .LVU1267
 838:Drivers/SOES/Src/esc_coe.c ****                if (MBXout)
 4084              		.loc 1 838 25 is_stmt 0 view .LVU1268
 4085 016c FFF7FEFF 		bl	ESC_claimbuffer
ARM GAS  /tmp/ccpADs8h.s 			page 121


 4086              	.LVL410:
 839:Drivers/SOES/Src/esc_coe.c ****                {
 4087              		.loc 1 839 16 is_stmt 1 view .LVU1269
 839:Drivers/SOES/Src/esc_coe.c ****                {
 4088              		.loc 1 839 19 is_stmt 0 view .LVU1270
 4089 0170 8046     		mov	r8, r0
 4090              	.LVL411:
 839:Drivers/SOES/Src/esc_coe.c ****                {
 4091              		.loc 1 839 19 view .LVU1271
 4092 0172 F8B1     		cbz	r0, .L250
 841:Drivers/SOES/Src/esc_coe.c ****                   coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 4093              		.loc 1 841 19 is_stmt 1 view .LVU1272
 841:Drivers/SOES/Src/esc_coe.c ****                   coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 4094              		.loc 1 841 54 is_stmt 0 view .LVU1273
 4095 0174 2B4B     		ldr	r3, .L256+8
 4096 0176 996E     		ldr	r1, [r3, #104]
 841:Drivers/SOES/Src/esc_coe.c ****                   coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 4097              		.loc 1 841 52 view .LVU1274
 4098 0178 01FB00F1 		mul	r1, r1, r0
 841:Drivers/SOES/Src/esc_coe.c ****                   coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 4099              		.loc 1 841 26 view .LVU1275
 4100 017c 2748     		ldr	r0, .L256
 4101              	.LVL412:
 841:Drivers/SOES/Src/esc_coe.c ****                   coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 4102              		.loc 1 841 26 view .LVU1276
 4103 017e 0B18     		adds	r3, r1, r0
 4104              	.LVL413:
 842:Drivers/SOES/Src/esc_coe.c ****                   coeres->mbxheader.mbxtype = MBXCOE;
 4105              		.loc 1 842 19 is_stmt 1 view .LVU1277
 842:Drivers/SOES/Src/esc_coe.c ****                   coeres->mbxheader.mbxtype = MBXCOE;
 4106              		.loc 1 842 44 is_stmt 0 view .LVU1278
 4107 0180 0022     		movs	r2, #0
 4108 0182 4FF00A0C 		mov	ip, #10
 4109 0186 01F800C0 		strb	ip, [r1, r0]
 4110 018a 5A70     		strb	r2, [r3, #1]
 843:Drivers/SOES/Src/esc_coe.c ****                   coeres->coeheader.numberservice =
 4111              		.loc 1 843 19 is_stmt 1 view .LVU1279
 843:Drivers/SOES/Src/esc_coe.c ****                   coeres->coeheader.numberservice =
 4112              		.loc 1 843 45 is_stmt 0 view .LVU1280
 4113 018c 5879     		ldrb	r0, [r3, #5]	@ zero_extendqisi2
 4114 018e 0321     		movs	r1, #3
 4115 0190 61F30300 		bfi	r0, r1, #0, #4
 4116 0194 5871     		strb	r0, [r3, #5]
 844:Drivers/SOES/Src/esc_coe.c ****                         htoes ((0 & 0x01f) | (COE_SDORESPONSE << 12));
 4117              		.loc 1 844 19 is_stmt 1 view .LVU1281
 844:Drivers/SOES/Src/esc_coe.c ****                         htoes ((0 & 0x01f) | (COE_SDORESPONSE << 12));
 4118              		.loc 1 844 51 is_stmt 0 view .LVU1282
 4119 0196 9A71     		strb	r2, [r3, #6]
 4120 0198 3020     		movs	r0, #48
 4121 019a D871     		strb	r0, [r3, #7]
 846:Drivers/SOES/Src/esc_coe.c ****                   coeres->subindex = subindex;
 4122              		.loc 1 846 19 is_stmt 1 view .LVU1283
 846:Drivers/SOES/Src/esc_coe.c ****                   coeres->subindex = subindex;
 4123              		.loc 1 846 33 is_stmt 0 view .LVU1284
 4124 019c A3F80970 		strh	r7, [r3, #9]	@ unaligned
 847:Drivers/SOES/Src/esc_coe.c ****                   coeres->command = COE_COMMAND_DOWNLOADRESPONSE;
 4125              		.loc 1 847 19 is_stmt 1 view .LVU1285
ARM GAS  /tmp/ccpADs8h.s 			page 122


 847:Drivers/SOES/Src/esc_coe.c ****                   coeres->command = COE_COMMAND_DOWNLOADRESPONSE;
 4126              		.loc 1 847 36 is_stmt 0 view .LVU1286
 4127 01a0 DE72     		strb	r6, [r3, #11]
 848:Drivers/SOES/Src/esc_coe.c ****                   coeres->size = htoel (0);
 4128              		.loc 1 848 19 is_stmt 1 view .LVU1287
 848:Drivers/SOES/Src/esc_coe.c ****                   coeres->size = htoel (0);
 4129              		.loc 1 848 35 is_stmt 0 view .LVU1288
 4130 01a2 6020     		movs	r0, #96
 4131 01a4 1872     		strb	r0, [r3, #8]
 849:Drivers/SOES/Src/esc_coe.c ****                   MBXcontrol[MBXout].state = MBXstate_outreq;
 4132              		.loc 1 849 19 is_stmt 1 view .LVU1289
 849:Drivers/SOES/Src/esc_coe.c ****                   MBXcontrol[MBXout].state = MBXstate_outreq;
 4133              		.loc 1 849 32 is_stmt 0 view .LVU1290
 4134 01a6 1A73     		strb	r2, [r3, #12]
 4135 01a8 5A73     		strb	r2, [r3, #13]
 4136 01aa 9A73     		strb	r2, [r3, #14]
 4137 01ac DA73     		strb	r2, [r3, #15]
 850:Drivers/SOES/Src/esc_coe.c ****                }
 4138              		.loc 1 850 19 is_stmt 1 view .LVU1291
 850:Drivers/SOES/Src/esc_coe.c ****                }
 4139              		.loc 1 850 44 is_stmt 0 view .LVU1292
 4140 01ae 204B     		ldr	r3, .L256+20
 4141              	.LVL414:
 850:Drivers/SOES/Src/esc_coe.c ****                }
 4142              		.loc 1 850 44 view .LVU1293
 4143 01b0 03F80810 		strb	r1, [r3, r8]
 4144              	.LVL415:
 4145              	.L250:
 852:Drivers/SOES/Src/esc_coe.c ****                {
 4146              		.loc 1 852 16 is_stmt 1 view .LVU1294
 852:Drivers/SOES/Src/esc_coe.c ****                {
 4147              		.loc 1 852 26 is_stmt 0 view .LVU1295
 4148 01b4 1B4B     		ldr	r3, .L256+8
 4149 01b6 93F88D30 		ldrb	r3, [r3, #141]	@ zero_extendqisi2
 852:Drivers/SOES/Src/esc_coe.c ****                {
 4150              		.loc 1 852 19 view .LVU1296
 4151 01ba 33BB     		cbnz	r3, .L251
 855:Drivers/SOES/Src/esc_coe.c ****                   if (abort != 0)
 4152              		.loc 1 855 19 is_stmt 1 view .LVU1297
 855:Drivers/SOES/Src/esc_coe.c ****                   if (abort != 0)
 4153              		.loc 1 855 27 is_stmt 0 view .LVU1298
 4154 01bc E288     		ldrh	r2, [r4, #6]	@ unaligned
 4155 01be 3146     		mov	r1, r6
 4156 01c0 2846     		mov	r0, r5
 4157 01c2 FFF7FEFF 		bl	ESC_download_post_objecthandler
 4158              	.LVL416:
 856:Drivers/SOES/Src/esc_coe.c ****                   {
 4159              		.loc 1 856 19 is_stmt 1 view .LVU1299
 856:Drivers/SOES/Src/esc_coe.c ****                   {
 4160              		.loc 1 856 22 is_stmt 0 view .LVU1300
 4161 01c6 0346     		mov	r3, r0
 4162 01c8 F8B1     		cbz	r0, .L251
 858:Drivers/SOES/Src/esc_coe.c ****                   }
 4163              		.loc 1 858 22 is_stmt 1 view .LVU1301
 4164 01ca 3246     		mov	r2, r6
 4165 01cc 2946     		mov	r1, r5
 4166 01ce 4046     		mov	r0, r8
ARM GAS  /tmp/ccpADs8h.s 			page 123


 4167              	.LVL417:
 858:Drivers/SOES/Src/esc_coe.c ****                   }
 4168              		.loc 1 858 22 is_stmt 0 view .LVU1302
 4169 01d0 FFF7FEFF 		bl	SDO_abort
 4170              	.LVL418:
 858:Drivers/SOES/Src/esc_coe.c ****                   }
 4171              		.loc 1 858 22 view .LVU1303
 4172 01d4 19E0     		b	.L251
 4173              	.LVL419:
 4174              	.L247:
 864:Drivers/SOES/Src/esc_coe.c ****             }
 4175              		.loc 1 864 16 is_stmt 1 view .LVU1304
 4176 01d6 3246     		mov	r2, r6
 4177 01d8 2946     		mov	r1, r5
 4178 01da 0020     		movs	r0, #0
 4179              	.LVL420:
 864:Drivers/SOES/Src/esc_coe.c ****             }
 4180              		.loc 1 864 16 is_stmt 0 view .LVU1305
 4181 01dc FFF7FEFF 		bl	SDO_abort
 4182              	.LVL421:
 864:Drivers/SOES/Src/esc_coe.c ****             }
 4183              		.loc 1 864 16 view .LVU1306
 4184 01e0 13E0     		b	.L251
 4185              	.LVL422:
 4186              	.L254:
 871:Drivers/SOES/Src/esc_coe.c ****             }
 4187              		.loc 1 871 16 is_stmt 1 view .LVU1307
 4188 01e2 144B     		ldr	r3, .L256+24
 4189              	.LVL423:
 871:Drivers/SOES/Src/esc_coe.c ****             }
 4190              		.loc 1 871 16 is_stmt 0 view .LVU1308
 4191 01e4 3246     		mov	r2, r6
 4192 01e6 2946     		mov	r1, r5
 4193 01e8 0020     		movs	r0, #0
 4194              	.LVL424:
 871:Drivers/SOES/Src/esc_coe.c ****             }
 4195              		.loc 1 871 16 view .LVU1309
 4196 01ea FFF7FEFF 		bl	SDO_abort
 4197              	.LVL425:
 871:Drivers/SOES/Src/esc_coe.c ****             }
 4198              		.loc 1 871 16 view .LVU1310
 4199 01ee 0CE0     		b	.L251
 4200              	.LVL426:
 4201              	.L237:
 871:Drivers/SOES/Src/esc_coe.c ****             }
 4202              		.loc 1 871 16 view .LVU1311
 4203              	.LBE18:
 881:Drivers/SOES/Src/esc_coe.c ****       }
 4204              		.loc 1 881 10 is_stmt 1 view .LVU1312
 4205 01f0 114B     		ldr	r3, .L256+28
 4206 01f2 3246     		mov	r2, r6
 4207 01f4 2946     		mov	r1, r5
 4208 01f6 0020     		movs	r0, #0
 4209 01f8 FFF7FEFF 		bl	SDO_abort
 4210              	.LVL427:
 4211 01fc 05E0     		b	.L251
 4212              	.L236:
ARM GAS  /tmp/ccpADs8h.s 			page 124


 886:Drivers/SOES/Src/esc_coe.c ****    }
 4213              		.loc 1 886 7 view .LVU1313
 4214 01fe 0F4B     		ldr	r3, .L256+32
 4215 0200 3246     		mov	r2, r6
 4216 0202 2946     		mov	r1, r5
 4217 0204 0020     		movs	r0, #0
 4218 0206 FFF7FEFF 		bl	SDO_abort
 4219              	.LVL428:
 4220              	.L251:
 888:Drivers/SOES/Src/esc_coe.c ****    ESCvar.xoe = 0;
 4221              		.loc 1 888 4 view .LVU1314
 888:Drivers/SOES/Src/esc_coe.c ****    ESCvar.xoe = 0;
 4222              		.loc 1 888 24 is_stmt 0 view .LVU1315
 4223 020a 0023     		movs	r3, #0
 4224 020c 084A     		ldr	r2, .L256+20
 4225 020e 1370     		strb	r3, [r2]
 889:Drivers/SOES/Src/esc_coe.c **** }
 4226              		.loc 1 889 4 is_stmt 1 view .LVU1316
 889:Drivers/SOES/Src/esc_coe.c **** }
 4227              		.loc 1 889 15 is_stmt 0 view .LVU1317
 4228 0210 044A     		ldr	r2, .L256+8
 4229 0212 82F88A30 		strb	r3, [r2, #138]
 4230              	.L235:
 890:Drivers/SOES/Src/esc_coe.c **** 
 4231              		.loc 1 890 1 view .LVU1318
 4232 0216 05B0     		add	sp, sp, #20
 4233              		.cfi_def_cfa_offset 28
 4234              		@ sp needed
 4235 0218 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 4236              	.LVL429:
 4237              	.L257:
 890:Drivers/SOES/Src/esc_coe.c **** 
 4238              		.loc 1 890 1 view .LVU1319
 4239              		.align	2
 4240              	.L256:
 4241 021c 00000000 		.word	MBX
 4242 0220 00000000 		.word	SDOobjects
 4243 0224 00000000 		.word	ESCvar
 4244 0228 02000106 		.word	100728834
 4245 022c 10000706 		.word	101122064
 4246 0230 00000000 		.word	MBXcontrol
 4247 0234 22000008 		.word	134217762
 4248 0238 11000906 		.word	101253137
 4249 023c 00000206 		.word	100794368
 4250              		.cfi_endproc
 4251              	.LFE12:
 4253              		.section	.text.SDO_getod,"ax",%progbits
 4254              		.align	1
 4255              		.syntax unified
 4256              		.thumb
 4257              		.thumb_func
 4259              	SDO_getod:
 4260              	.LFB18:
1208:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
 4261              		.loc 1 1208 1 is_stmt 1 view -0
 4262              		.cfi_startproc
 4263              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccpADs8h.s 			page 125


 4264              		@ frame_needed = 0, uses_anonymous_args = 0
 4265 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 4266              		.cfi_def_cfa_offset 32
 4267              		.cfi_offset 3, -32
 4268              		.cfi_offset 4, -28
 4269              		.cfi_offset 5, -24
 4270              		.cfi_offset 6, -20
 4271              		.cfi_offset 7, -16
 4272              		.cfi_offset 8, -12
 4273              		.cfi_offset 9, -8
 4274              		.cfi_offset 14, -4
1209:Drivers/SOES/Src/esc_coe.c ****    uint16_t index;
 4275              		.loc 1 1209 4 view .LVU1321
1210:Drivers/SOES/Src/esc_coe.c ****    int32_t nidx;
 4276              		.loc 1 1210 4 view .LVU1322
1211:Drivers/SOES/Src/esc_coe.c ****    uint8_t *d;
 4277              		.loc 1 1211 4 view .LVU1323
1212:Drivers/SOES/Src/esc_coe.c ****    const uint8_t *s;
 4278              		.loc 1 1212 4 view .LVU1324
1213:Drivers/SOES/Src/esc_coe.c ****    uint8_t n = 0;
 4279              		.loc 1 1213 4 view .LVU1325
1214:Drivers/SOES/Src/esc_coe.c ****    _COEobjdesc *coer, *coel;
 4280              		.loc 1 1214 4 view .LVU1326
 4281              	.LVL430:
1215:Drivers/SOES/Src/esc_coe.c ****    coer = (_COEobjdesc *) &MBX[0];
 4282              		.loc 1 1215 4 view .LVU1327
1216:Drivers/SOES/Src/esc_coe.c ****    index = etohs (coer->index);
 4283              		.loc 1 1216 4 view .LVU1328
1217:Drivers/SOES/Src/esc_coe.c ****    nidx = SDO_findobject (index);
 4284              		.loc 1 1217 4 view .LVU1329
1217:Drivers/SOES/Src/esc_coe.c ****    nidx = SDO_findobject (index);
 4285              		.loc 1 1217 10 is_stmt 0 view .LVU1330
 4286 0004 4E4B     		ldr	r3, .L270
 4287 0006 B3F80C90 		ldrh	r9, [r3, #12]	@ unaligned
 4288              	.LVL431:
1218:Drivers/SOES/Src/esc_coe.c ****    if (nidx >= 0)
 4289              		.loc 1 1218 4 is_stmt 1 view .LVU1331
1218:Drivers/SOES/Src/esc_coe.c ****    if (nidx >= 0)
 4290              		.loc 1 1218 11 is_stmt 0 view .LVU1332
 4291 000a 1FFA89F0 		uxth	r0, r9
 4292 000e FFF7FEFF 		bl	SDO_findobject
 4293              	.LVL432:
1219:Drivers/SOES/Src/esc_coe.c ****    {
 4294              		.loc 1 1219 4 is_stmt 1 view .LVU1333
1219:Drivers/SOES/Src/esc_coe.c ****    {
 4295              		.loc 1 1219 7 is_stmt 0 view .LVU1334
 4296 0012 B0F10008 		subs	r8, r0, #0
 4297 0016 C0F28E80 		blt	.L259
1221:Drivers/SOES/Src/esc_coe.c ****       if (MBXout)
 4298              		.loc 1 1221 7 is_stmt 1 view .LVU1335
1221:Drivers/SOES/Src/esc_coe.c ****       if (MBXout)
 4299              		.loc 1 1221 16 is_stmt 0 view .LVU1336
 4300 001a FFF7FEFF 		bl	ESC_claimbuffer
 4301              	.LVL433:
1222:Drivers/SOES/Src/esc_coe.c ****       {
 4302              		.loc 1 1222 7 is_stmt 1 view .LVU1337
1222:Drivers/SOES/Src/esc_coe.c ****       {
ARM GAS  /tmp/ccpADs8h.s 			page 126


 4303              		.loc 1 1222 10 is_stmt 0 view .LVU1338
 4304 001e 0646     		mov	r6, r0
 4305 0020 0028     		cmp	r0, #0
 4306 0022 00F08B80 		beq	.L258
1224:Drivers/SOES/Src/esc_coe.c ****          coel->mbxheader.mbxtype = MBXCOE;
 4307              		.loc 1 1224 10 is_stmt 1 view .LVU1339
1224:Drivers/SOES/Src/esc_coe.c ****          coel->mbxheader.mbxtype = MBXCOE;
 4308              		.loc 1 1224 47 is_stmt 0 view .LVU1340
 4309 0026 474B     		ldr	r3, .L270+4
 4310 0028 9D6E     		ldr	r5, [r3, #104]
1224:Drivers/SOES/Src/esc_coe.c ****          coel->mbxheader.mbxtype = MBXCOE;
 4311              		.loc 1 1224 45 view .LVU1341
 4312 002a 00FB05F5 		mul	r5, r0, r5
1224:Drivers/SOES/Src/esc_coe.c ****          coel->mbxheader.mbxtype = MBXCOE;
 4313              		.loc 1 1224 15 view .LVU1342
 4314 002e 444F     		ldr	r7, .L270
 4315 0030 EC19     		adds	r4, r5, r7
 4316              	.LVL434:
1225:Drivers/SOES/Src/esc_coe.c ****          coel->coeheader.numberservice =
 4317              		.loc 1 1225 10 is_stmt 1 view .LVU1343
1225:Drivers/SOES/Src/esc_coe.c ****          coel->coeheader.numberservice =
 4318              		.loc 1 1225 34 is_stmt 0 view .LVU1344
 4319 0032 6379     		ldrb	r3, [r4, #5]	@ zero_extendqisi2
 4320 0034 0322     		movs	r2, #3
 4321 0036 62F30303 		bfi	r3, r2, #0, #4
 4322 003a 6371     		strb	r3, [r4, #5]
1226:Drivers/SOES/Src/esc_coe.c ****             htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 4323              		.loc 1 1226 10 is_stmt 1 view .LVU1345
1226:Drivers/SOES/Src/esc_coe.c ****             htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 4324              		.loc 1 1226 40 is_stmt 0 view .LVU1346
 4325 003c 0023     		movs	r3, #0
 4326 003e A371     		strb	r3, [r4, #6]
 4327 0040 6FF07F02 		mvn	r2, #127
 4328 0044 E271     		strb	r2, [r4, #7]
1228:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.incomplete = 0;
 4329              		.loc 1 1228 10 is_stmt 1 view .LVU1347
1228:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.incomplete = 0;
 4330              		.loc 1 1228 34 is_stmt 0 view .LVU1348
 4331 0046 227A     		ldrb	r2, [r4, #8]	@ zero_extendqisi2
 4332 0048 0421     		movs	r1, #4
 4333 004a 61F30602 		bfi	r2, r1, #0, #7
 4334 004e 2272     		strb	r2, [r4, #8]
1229:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.reserved = 0x00;
 4335              		.loc 1 1229 10 is_stmt 1 view .LVU1349
1229:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.reserved = 0x00;
 4336              		.loc 1 1229 38 is_stmt 0 view .LVU1350
 4337 0050 D2B2     		uxtb	r2, r2
 4338 0052 63F3C712 		bfi	r2, r3, #7, #1
 4339 0056 2272     		strb	r2, [r4, #8]
1230:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (0);
 4340              		.loc 1 1230 10 is_stmt 1 view .LVU1351
1230:Drivers/SOES/Src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (0);
 4341              		.loc 1 1230 36 is_stmt 0 view .LVU1352
 4342 0058 6372     		strb	r3, [r4, #9]
1231:Drivers/SOES/Src/esc_coe.c ****          coel->index = htoes (index);
 4343              		.loc 1 1231 10 is_stmt 1 view .LVU1353
1231:Drivers/SOES/Src/esc_coe.c ****          coel->index = htoes (index);
ARM GAS  /tmp/ccpADs8h.s 			page 127


 4344              		.loc 1 1231 41 is_stmt 0 view .LVU1354
 4345 005a A372     		strb	r3, [r4, #10]
 4346 005c E372     		strb	r3, [r4, #11]
1232:Drivers/SOES/Src/esc_coe.c ****          if (SDOobjects[nidx].objtype == OTYPE_VAR)
 4347              		.loc 1 1232 10 is_stmt 1 view .LVU1355
1232:Drivers/SOES/Src/esc_coe.c ****          if (SDOobjects[nidx].objtype == OTYPE_VAR)
 4348              		.loc 1 1232 22 is_stmt 0 view .LVU1356
 4349 005e A4F80C90 		strh	r9, [r4, #12]	@ unaligned
1233:Drivers/SOES/Src/esc_coe.c ****          {
 4350              		.loc 1 1233 10 is_stmt 1 view .LVU1357
1233:Drivers/SOES/Src/esc_coe.c ****          {
 4351              		.loc 1 1233 30 is_stmt 0 view .LVU1358
 4352 0062 C8EBC803 		rsb	r3, r8, r8, lsl #3
 4353 0066 384A     		ldr	r2, .L270+8
 4354 0068 02EB4303 		add	r3, r2, r3, lsl #1
 4355 006c B3F80290 		ldrh	r9, [r3, #2]	@ unaligned
 4356              	.LVL435:
1233:Drivers/SOES/Src/esc_coe.c ****          {
 4357              		.loc 1 1233 13 view .LVU1359
 4358 0070 B9F1070F 		cmp	r9, #7
 4359 0074 1BD0     		beq	.L268
1240:Drivers/SOES/Src/esc_coe.c ****          {
 4360              		.loc 1 1240 15 is_stmt 1 view .LVU1360
1240:Drivers/SOES/Src/esc_coe.c ****          {
 4361              		.loc 1 1240 18 is_stmt 0 view .LVU1361
 4362 0076 B9F1080F 		cmp	r9, #8
 4363 007a 2DD0     		beq	.L269
1249:Drivers/SOES/Src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].objdesc->value;
 4364              		.loc 1 1249 13 is_stmt 1 view .LVU1362
1249:Drivers/SOES/Src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].objdesc->value;
 4365              		.loc 1 1249 28 is_stmt 0 view .LVU1363
 4366 007c 0023     		movs	r3, #0
 4367 007e A373     		strb	r3, [r4, #14]
 4368 0080 E373     		strb	r3, [r4, #15]
1250:Drivers/SOES/Src/esc_coe.c ****          }
 4369              		.loc 1 1250 13 is_stmt 1 view .LVU1364
1250:Drivers/SOES/Src/esc_coe.c ****          }
 4370              		.loc 1 1250 44 is_stmt 0 view .LVU1365
 4371 0082 C8EBC803 		rsb	r3, r8, r8, lsl #3
 4372 0086 304A     		ldr	r2, .L270+8
 4373 0088 02EB4303 		add	r3, r2, r3, lsl #1
 4374 008c D3F80A30 		ldr	r3, [r3, #10]	@ unaligned
1250:Drivers/SOES/Src/esc_coe.c ****          }
 4375              		.loc 1 1250 52 view .LVU1366
 4376 0090 DB68     		ldr	r3, [r3, #12]	@ unaligned
1250:Drivers/SOES/Src/esc_coe.c ****          }
 4377              		.loc 1 1250 26 view .LVU1367
 4378 0092 2374     		strb	r3, [r4, #16]
 4379              	.LVL436:
 4380              	.L262:
1252:Drivers/SOES/Src/esc_coe.c ****          s = (uint8_t *) SDOobjects[nidx].name;
 4381              		.loc 1 1252 10 is_stmt 1 view .LVU1368
1252:Drivers/SOES/Src/esc_coe.c ****          s = (uint8_t *) SDOobjects[nidx].name;
 4382              		.loc 1 1252 27 is_stmt 0 view .LVU1369
 4383 0094 84F81190 		strb	r9, [r4, #17]
1253:Drivers/SOES/Src/esc_coe.c ****          d = (uint8_t *) &(coel->name);
 4384              		.loc 1 1253 10 is_stmt 1 view .LVU1370
ARM GAS  /tmp/ccpADs8h.s 			page 128


1253:Drivers/SOES/Src/esc_coe.c ****          d = (uint8_t *) &(coel->name);
 4385              		.loc 1 1253 12 is_stmt 0 view .LVU1371
 4386 0098 C8EBC800 		rsb	r0, r8, r8, lsl #3
 4387 009c 2A4B     		ldr	r3, .L270+8
 4388 009e 03EB4000 		add	r0, r3, r0, lsl #1
 4389 00a2 D0F806C0 		ldr	ip, [r0, #6]	@ unaligned
 4390              	.LVL437:
1254:Drivers/SOES/Src/esc_coe.c ****          while (*s && (n < (ESC_MBXDSIZE - 0x0c)))
 4391              		.loc 1 1254 10 is_stmt 1 view .LVU1372
1254:Drivers/SOES/Src/esc_coe.c ****          while (*s && (n < (ESC_MBXDSIZE - 0x0c)))
 4392              		.loc 1 1254 12 is_stmt 0 view .LVU1373
 4393 00a6 04F11202 		add	r2, r4, #18
 4394              	.LVL438:
1255:Drivers/SOES/Src/esc_coe.c ****          {
 4395              		.loc 1 1255 10 is_stmt 1 view .LVU1374
1214:Drivers/SOES/Src/esc_coe.c ****    _COEobjdesc *coer, *coel;
 4396              		.loc 1 1214 12 is_stmt 0 view .LVU1375
 4397 00aa 0023     		movs	r3, #0
1255:Drivers/SOES/Src/esc_coe.c ****          {
 4398              		.loc 1 1255 16 view .LVU1376
 4399 00ac 2FE0     		b	.L264
 4400              	.LVL439:
 4401              	.L268:
 4402              	.LBB22:
1235:Drivers/SOES/Src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
 4403              		.loc 1 1235 13 is_stmt 1 view .LVU1377
1235:Drivers/SOES/Src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
 4404              		.loc 1 1235 28 is_stmt 0 view .LVU1378
 4405 00ae 0021     		movs	r1, #0
 4406 00b0 0FFA88F0 		sxth	r0, r8
 4407              	.LVL440:
1235:Drivers/SOES/Src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
 4408              		.loc 1 1235 28 view .LVU1379
 4409 00b4 FFF7FEFF 		bl	SDO_findsubindex
 4410              	.LVL441:
1236:Drivers/SOES/Src/esc_coe.c ****             coel->datatype = htoes ((objd + nsub)->datatype);
 4411              		.loc 1 1236 13 is_stmt 1 view .LVU1380
1236:Drivers/SOES/Src/esc_coe.c ****             coel->datatype = htoes ((objd + nsub)->datatype);
 4412              		.loc 1 1236 26 is_stmt 0 view .LVU1381
 4413 00b8 C8EBC803 		rsb	r3, r8, r8, lsl #3
 4414 00bc 224A     		ldr	r2, .L270+8
 4415 00be 02EB4303 		add	r3, r2, r3, lsl #1
 4416 00c2 D3F80A20 		ldr	r2, [r3, #10]	@ unaligned
 4417              	.LVL442:
1237:Drivers/SOES/Src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].maxsub;
 4418              		.loc 1 1237 13 is_stmt 1 view .LVU1382
1237:Drivers/SOES/Src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].maxsub;
 4419              		.loc 1 1237 30 is_stmt 0 view .LVU1383
 4420 00c6 00EB8000 		add	r0, r0, r0, lsl #2
 4421              	.LVL443:
1237:Drivers/SOES/Src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].maxsub;
 4422              		.loc 1 1237 30 view .LVU1384
 4423 00ca 02EB8000 		add	r0, r2, r0, lsl #2
 4424 00ce 4288     		ldrh	r2, [r0, #2]	@ unaligned
 4425              	.LVL444:
1237:Drivers/SOES/Src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].maxsub;
 4426              		.loc 1 1237 28 view .LVU1385
ARM GAS  /tmp/ccpADs8h.s 			page 129


 4427 00d0 E281     		strh	r2, [r4, #14]	@ unaligned
1238:Drivers/SOES/Src/esc_coe.c ****          }
 4428              		.loc 1 1238 13 is_stmt 1 view .LVU1386
1238:Drivers/SOES/Src/esc_coe.c ****          }
 4429              		.loc 1 1238 44 is_stmt 0 view .LVU1387
 4430 00d2 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 4431              	.LVL445:
1238:Drivers/SOES/Src/esc_coe.c ****          }
 4432              		.loc 1 1238 26 view .LVU1388
 4433 00d4 2374     		strb	r3, [r4, #16]
 4434              	.LBE22:
 4435 00d6 DDE7     		b	.L262
 4436              	.LVL446:
 4437              	.L269:
 4438              	.LBB23:
1242:Drivers/SOES/Src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
 4439              		.loc 1 1242 13 is_stmt 1 view .LVU1389
1242:Drivers/SOES/Src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
 4440              		.loc 1 1242 28 is_stmt 0 view .LVU1390
 4441 00d8 0021     		movs	r1, #0
 4442 00da 0FFA88F0 		sxth	r0, r8
 4443              	.LVL447:
1242:Drivers/SOES/Src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
 4444              		.loc 1 1242 28 view .LVU1391
 4445 00de FFF7FEFF 		bl	SDO_findsubindex
 4446              	.LVL448:
1243:Drivers/SOES/Src/esc_coe.c ****             coel->datatype = htoes ((objd + nsub)->datatype);
 4447              		.loc 1 1243 13 is_stmt 1 view .LVU1392
1243:Drivers/SOES/Src/esc_coe.c ****             coel->datatype = htoes ((objd + nsub)->datatype);
 4448              		.loc 1 1243 26 is_stmt 0 view .LVU1393
 4449 00e2 C8EBC803 		rsb	r3, r8, r8, lsl #3
 4450 00e6 184A     		ldr	r2, .L270+8
 4451 00e8 02EB4303 		add	r3, r2, r3, lsl #1
 4452 00ec D3F80A30 		ldr	r3, [r3, #10]	@ unaligned
 4453              	.LVL449:
1244:Drivers/SOES/Src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].objdesc->value;
 4454              		.loc 1 1244 13 is_stmt 1 view .LVU1394
1244:Drivers/SOES/Src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].objdesc->value;
 4455              		.loc 1 1244 30 is_stmt 0 view .LVU1395
 4456 00f0 00EB8000 		add	r0, r0, r0, lsl #2
 4457              	.LVL450:
1244:Drivers/SOES/Src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].objdesc->value;
 4458              		.loc 1 1244 30 view .LVU1396
 4459 00f4 03EB8000 		add	r0, r3, r0, lsl #2
 4460 00f8 4288     		ldrh	r2, [r0, #2]	@ unaligned
1244:Drivers/SOES/Src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].objdesc->value;
 4461              		.loc 1 1244 28 view .LVU1397
 4462 00fa E281     		strh	r2, [r4, #14]	@ unaligned
1245:Drivers/SOES/Src/esc_coe.c ****          }
 4463              		.loc 1 1245 13 is_stmt 1 view .LVU1398
1245:Drivers/SOES/Src/esc_coe.c ****          }
 4464              		.loc 1 1245 52 is_stmt 0 view .LVU1399
 4465 00fc DB68     		ldr	r3, [r3, #12]	@ unaligned
 4466              	.LVL451:
1245:Drivers/SOES/Src/esc_coe.c ****          }
 4467              		.loc 1 1245 26 view .LVU1400
 4468 00fe 2374     		strb	r3, [r4, #16]
ARM GAS  /tmp/ccpADs8h.s 			page 130


 4469              	.LBE23:
 4470 0100 C8E7     		b	.L262
 4471              	.LVL452:
 4472              	.L266:
1257:Drivers/SOES/Src/esc_coe.c ****             n++;
 4473              		.loc 1 1257 13 is_stmt 1 view .LVU1401
1257:Drivers/SOES/Src/esc_coe.c ****             n++;
 4474              		.loc 1 1257 16 is_stmt 0 view .LVU1402
 4475 0102 02F8010B 		strb	r0, [r2], #1
 4476              	.LVL453:
1258:Drivers/SOES/Src/esc_coe.c ****             s++;
 4477              		.loc 1 1258 13 is_stmt 1 view .LVU1403
1258:Drivers/SOES/Src/esc_coe.c ****             s++;
 4478              		.loc 1 1258 14 is_stmt 0 view .LVU1404
 4479 0106 0133     		adds	r3, r3, #1
 4480              	.LVL454:
1258:Drivers/SOES/Src/esc_coe.c ****             s++;
 4481              		.loc 1 1258 14 view .LVU1405
 4482 0108 DBB2     		uxtb	r3, r3
 4483              	.LVL455:
1259:Drivers/SOES/Src/esc_coe.c ****             d++;
 4484              		.loc 1 1259 13 is_stmt 1 view .LVU1406
1259:Drivers/SOES/Src/esc_coe.c ****             d++;
 4485              		.loc 1 1259 14 is_stmt 0 view .LVU1407
 4486 010a 0CF1010C 		add	ip, ip, #1
 4487              	.LVL456:
1260:Drivers/SOES/Src/esc_coe.c ****          }
 4488              		.loc 1 1260 13 is_stmt 1 view .LVU1408
 4489              	.L264:
1255:Drivers/SOES/Src/esc_coe.c ****          {
 4490              		.loc 1 1255 16 view .LVU1409
1255:Drivers/SOES/Src/esc_coe.c ****          {
 4491              		.loc 1 1255 17 is_stmt 0 view .LVU1410
 4492 010e 9CF80000 		ldrb	r0, [ip]	@ zero_extendqisi2
1255:Drivers/SOES/Src/esc_coe.c ****          {
 4493              		.loc 1 1255 16 view .LVU1411
 4494 0112 20B1     		cbz	r0, .L265
1255:Drivers/SOES/Src/esc_coe.c ****          {
 4495              		.loc 1 1255 29 discriminator 1 view .LVU1412
 4496 0114 0B49     		ldr	r1, .L270+4
 4497 0116 896E     		ldr	r1, [r1, #104]
1255:Drivers/SOES/Src/esc_coe.c ****          {
 4498              		.loc 1 1255 42 discriminator 1 view .LVU1413
 4499 0118 1239     		subs	r1, r1, #18
1255:Drivers/SOES/Src/esc_coe.c ****          {
 4500              		.loc 1 1255 20 discriminator 1 view .LVU1414
 4501 011a 8B42     		cmp	r3, r1
 4502 011c F1D3     		bcc	.L266
 4503              	.L265:
1262:Drivers/SOES/Src/esc_coe.c ****          coel->mbxheader.length = htoes ((uint16_t) 0x0c + n);
 4504              		.loc 1 1262 10 is_stmt 1 view .LVU1415
1262:Drivers/SOES/Src/esc_coe.c ****          coel->mbxheader.length = htoes ((uint16_t) 0x0c + n);
 4505              		.loc 1 1262 13 is_stmt 0 view .LVU1416
 4506 011e 1070     		strb	r0, [r2]
1263:Drivers/SOES/Src/esc_coe.c ****          MBXcontrol[MBXout].state = MBXstate_outreq;
 4507              		.loc 1 1263 10 is_stmt 1 view .LVU1417
1263:Drivers/SOES/Src/esc_coe.c ****          MBXcontrol[MBXout].state = MBXstate_outreq;
ARM GAS  /tmp/ccpADs8h.s 			page 131


 4508              		.loc 1 1263 35 is_stmt 0 view .LVU1418
 4509 0120 0C33     		adds	r3, r3, #12
 4510              	.LVL457:
1263:Drivers/SOES/Src/esc_coe.c ****          MBXcontrol[MBXout].state = MBXstate_outreq;
 4511              		.loc 1 1263 33 view .LVU1419
 4512 0122 EB53     		strh	r3, [r5, r7]	@ unaligned
1264:Drivers/SOES/Src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
 4513              		.loc 1 1264 10 is_stmt 1 view .LVU1420
1264:Drivers/SOES/Src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
 4514              		.loc 1 1264 35 is_stmt 0 view .LVU1421
 4515 0124 094A     		ldr	r2, .L270+12
 4516              	.LVL458:
1264:Drivers/SOES/Src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
 4517              		.loc 1 1264 35 view .LVU1422
 4518 0126 0323     		movs	r3, #3
 4519 0128 9355     		strb	r3, [r2, r6]
1265:Drivers/SOES/Src/esc_coe.c ****          ESCvar.xoe = 0;
 4520              		.loc 1 1265 10 is_stmt 1 view .LVU1423
1265:Drivers/SOES/Src/esc_coe.c ****          ESCvar.xoe = 0;
 4521              		.loc 1 1265 30 is_stmt 0 view .LVU1424
 4522 012a 0023     		movs	r3, #0
 4523 012c 1370     		strb	r3, [r2]
1266:Drivers/SOES/Src/esc_coe.c ****       }
 4524              		.loc 1 1266 10 is_stmt 1 view .LVU1425
1266:Drivers/SOES/Src/esc_coe.c ****       }
 4525              		.loc 1 1266 21 is_stmt 0 view .LVU1426
 4526 012e 054A     		ldr	r2, .L270+4
 4527 0130 82F88A30 		strb	r3, [r2, #138]
 4528 0134 02E0     		b	.L258
 4529              	.LVL459:
 4530              	.L259:
1271:Drivers/SOES/Src/esc_coe.c ****    }
 4531              		.loc 1 1271 7 is_stmt 1 view .LVU1427
 4532 0136 0648     		ldr	r0, .L270+16
 4533              	.LVL460:
1271:Drivers/SOES/Src/esc_coe.c ****    }
 4534              		.loc 1 1271 7 is_stmt 0 view .LVU1428
 4535 0138 FFF7FEFF 		bl	SDO_infoerror
 4536              	.LVL461:
 4537              	.L258:
1273:Drivers/SOES/Src/esc_coe.c **** 
 4538              		.loc 1 1273 1 view .LVU1429
 4539 013c BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 4540              	.LVL462:
 4541              	.L271:
1273:Drivers/SOES/Src/esc_coe.c **** 
 4542              		.loc 1 1273 1 view .LVU1430
 4543              		.align	2
 4544              	.L270:
 4545 0140 00000000 		.word	MBX
 4546 0144 00000000 		.word	ESCvar
 4547 0148 00000000 		.word	SDOobjects
 4548 014c 00000000 		.word	MBXcontrol
 4549 0150 00000206 		.word	100794368
 4550              		.cfi_endproc
 4551              	.LFE18:
 4553              		.section	.text.SDO_geted,"ax",%progbits
ARM GAS  /tmp/ccpADs8h.s 			page 132


 4554              		.align	1
 4555              		.syntax unified
 4556              		.thumb
 4557              		.thumb_func
 4559              	SDO_geted:
 4560              	.LFB19:
1280:Drivers/SOES/Src/esc_coe.c ****    uint8_t MBXout;
 4561              		.loc 1 1280 1 is_stmt 1 view -0
 4562              		.cfi_startproc
 4563              		@ args = 0, pretend = 0, frame = 0
 4564              		@ frame_needed = 0, uses_anonymous_args = 0
 4565 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 4566              		.cfi_def_cfa_offset 24
 4567              		.cfi_offset 4, -24
 4568              		.cfi_offset 5, -20
 4569              		.cfi_offset 6, -16
 4570              		.cfi_offset 7, -12
 4571              		.cfi_offset 8, -8
 4572              		.cfi_offset 14, -4
1281:Drivers/SOES/Src/esc_coe.c ****    uint16_t index;
 4573              		.loc 1 1281 4 view .LVU1432
1282:Drivers/SOES/Src/esc_coe.c ****    int32_t nidx, nsub;
 4574              		.loc 1 1282 4 view .LVU1433
1283:Drivers/SOES/Src/esc_coe.c ****    uint8_t subindex;
 4575              		.loc 1 1283 4 view .LVU1434
1284:Drivers/SOES/Src/esc_coe.c ****    uint8_t *d;
 4576              		.loc 1 1284 4 view .LVU1435
1285:Drivers/SOES/Src/esc_coe.c ****    const uint8_t *s;
 4577              		.loc 1 1285 4 view .LVU1436
1286:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd;
 4578              		.loc 1 1286 4 view .LVU1437
1287:Drivers/SOES/Src/esc_coe.c ****    uint8_t n = 0;
 4579              		.loc 1 1287 4 view .LVU1438
1288:Drivers/SOES/Src/esc_coe.c ****    _COEentdesc *coer, *coel;
 4580              		.loc 1 1288 4 view .LVU1439
 4581              	.LVL463:
1289:Drivers/SOES/Src/esc_coe.c ****    coer = (_COEentdesc *) &MBX[0];
 4582              		.loc 1 1289 4 view .LVU1440
1290:Drivers/SOES/Src/esc_coe.c ****    index = etohs (coer->index);
 4583              		.loc 1 1290 4 view .LVU1441
1291:Drivers/SOES/Src/esc_coe.c ****    subindex = coer->subindex;
 4584              		.loc 1 1291 4 view .LVU1442
1291:Drivers/SOES/Src/esc_coe.c ****    subindex = coer->subindex;
 4585              		.loc 1 1291 10 is_stmt 0 view .LVU1443
 4586 0004 354B     		ldr	r3, .L280
 4587 0006 9D89     		ldrh	r5, [r3, #12]	@ unaligned
 4588              	.LVL464:
1292:Drivers/SOES/Src/esc_coe.c ****    nidx = SDO_findobject (index);
 4589              		.loc 1 1292 4 is_stmt 1 view .LVU1444
1292:Drivers/SOES/Src/esc_coe.c ****    nidx = SDO_findobject (index);
 4590              		.loc 1 1292 13 is_stmt 0 view .LVU1445
 4591 0008 9E7B     		ldrb	r6, [r3, #14]	@ zero_extendqisi2
 4592              	.LVL465:
1293:Drivers/SOES/Src/esc_coe.c ****    if (nidx >= 0)
 4593              		.loc 1 1293 4 is_stmt 1 view .LVU1446
1293:Drivers/SOES/Src/esc_coe.c ****    if (nidx >= 0)
 4594              		.loc 1 1293 11 is_stmt 0 view .LVU1447
ARM GAS  /tmp/ccpADs8h.s 			page 133


 4595 000a A8B2     		uxth	r0, r5
 4596 000c FFF7FEFF 		bl	SDO_findobject
 4597              	.LVL466:
1294:Drivers/SOES/Src/esc_coe.c ****    {
 4598              		.loc 1 1294 4 is_stmt 1 view .LVU1448
1294:Drivers/SOES/Src/esc_coe.c ****    {
 4599              		.loc 1 1294 7 is_stmt 0 view .LVU1449
 4600 0010 071E     		subs	r7, r0, #0
 4601 0012 5FDB     		blt	.L273
1296:Drivers/SOES/Src/esc_coe.c ****       if (nsub >= 0)
 4602              		.loc 1 1296 7 is_stmt 1 view .LVU1450
1296:Drivers/SOES/Src/esc_coe.c ****       if (nsub >= 0)
 4603              		.loc 1 1296 14 is_stmt 0 view .LVU1451
 4604 0014 3146     		mov	r1, r6
 4605 0016 38B2     		sxth	r0, r7
 4606              	.LVL467:
1296:Drivers/SOES/Src/esc_coe.c ****       if (nsub >= 0)
 4607              		.loc 1 1296 14 view .LVU1452
 4608 0018 FFF7FEFF 		bl	SDO_findsubindex
 4609              	.LVL468:
1297:Drivers/SOES/Src/esc_coe.c ****       {
 4610              		.loc 1 1297 7 is_stmt 1 view .LVU1453
1297:Drivers/SOES/Src/esc_coe.c ****       {
 4611              		.loc 1 1297 10 is_stmt 0 view .LVU1454
 4612 001c 041E     		subs	r4, r0, #0
 4613 001e 54DB     		blt	.L274
1299:Drivers/SOES/Src/esc_coe.c ****          MBXout = ESC_claimbuffer ();
 4614              		.loc 1 1299 10 is_stmt 1 view .LVU1455
1299:Drivers/SOES/Src/esc_coe.c ****          MBXout = ESC_claimbuffer ();
 4615              		.loc 1 1299 15 is_stmt 0 view .LVU1456
 4616 0020 C7EBC700 		rsb	r0, r7, r7, lsl #3
 4617              	.LVL469:
1299:Drivers/SOES/Src/esc_coe.c ****          MBXout = ESC_claimbuffer ();
 4618              		.loc 1 1299 15 view .LVU1457
 4619 0024 2E4F     		ldr	r7, .L280+4
 4620              	.LVL470:
1299:Drivers/SOES/Src/esc_coe.c ****          MBXout = ESC_claimbuffer ();
 4621              		.loc 1 1299 15 view .LVU1458
 4622 0026 07EB4000 		add	r0, r7, r0, lsl #1
 4623 002a D0F80A70 		ldr	r7, [r0, #10]	@ unaligned
 4624              	.LVL471:
1300:Drivers/SOES/Src/esc_coe.c ****          if (MBXout)
 4625              		.loc 1 1300 10 is_stmt 1 view .LVU1459
1300:Drivers/SOES/Src/esc_coe.c ****          if (MBXout)
 4626              		.loc 1 1300 19 is_stmt 0 view .LVU1460
 4627 002e FFF7FEFF 		bl	ESC_claimbuffer
 4628              	.LVL472:
1301:Drivers/SOES/Src/esc_coe.c ****          {
 4629              		.loc 1 1301 10 is_stmt 1 view .LVU1461
1301:Drivers/SOES/Src/esc_coe.c ****          {
 4630              		.loc 1 1301 13 is_stmt 0 view .LVU1462
 4631 0032 8646     		mov	lr, r0
 4632 0034 0028     		cmp	r0, #0
 4633 0036 4BD0     		beq	.L272
1303:Drivers/SOES/Src/esc_coe.c ****             coel->mbxheader.mbxtype = MBXCOE;
 4634              		.loc 1 1303 13 is_stmt 1 view .LVU1463
1303:Drivers/SOES/Src/esc_coe.c ****             coel->mbxheader.mbxtype = MBXCOE;
ARM GAS  /tmp/ccpADs8h.s 			page 134


 4635              		.loc 1 1303 50 is_stmt 0 view .LVU1464
 4636 0038 2A4B     		ldr	r3, .L280+8
 4637 003a 9B6E     		ldr	r3, [r3, #104]
1303:Drivers/SOES/Src/esc_coe.c ****             coel->mbxheader.mbxtype = MBXCOE;
 4638              		.loc 1 1303 48 view .LVU1465
 4639 003c 03FB00FC 		mul	ip, r3, r0
1303:Drivers/SOES/Src/esc_coe.c ****             coel->mbxheader.mbxtype = MBXCOE;
 4640              		.loc 1 1303 18 view .LVU1466
 4641 0040 2648     		ldr	r0, .L280
 4642              	.LVL473:
1303:Drivers/SOES/Src/esc_coe.c ****             coel->mbxheader.mbxtype = MBXCOE;
 4643              		.loc 1 1303 18 view .LVU1467
 4644 0042 0CEB0002 		add	r2, ip, r0
 4645              	.LVL474:
1304:Drivers/SOES/Src/esc_coe.c ****             coel->coeheader.numberservice =
 4646              		.loc 1 1304 13 is_stmt 1 view .LVU1468
1304:Drivers/SOES/Src/esc_coe.c ****             coel->coeheader.numberservice =
 4647              		.loc 1 1304 37 is_stmt 0 view .LVU1469
 4648 0046 5379     		ldrb	r3, [r2, #5]	@ zero_extendqisi2
 4649 0048 0321     		movs	r1, #3
 4650 004a 61F30303 		bfi	r3, r1, #0, #4
 4651 004e 5371     		strb	r3, [r2, #5]
1305:Drivers/SOES/Src/esc_coe.c ****                htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 4652              		.loc 1 1305 13 is_stmt 1 view .LVU1470
1305:Drivers/SOES/Src/esc_coe.c ****                htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 4653              		.loc 1 1305 43 is_stmt 0 view .LVU1471
 4654 0050 0023     		movs	r3, #0
 4655 0052 9371     		strb	r3, [r2, #6]
 4656 0054 6FF07F01 		mvn	r1, #127
 4657 0058 D171     		strb	r1, [r2, #7]
1307:Drivers/SOES/Src/esc_coe.c ****             coel->infoheader.incomplete = 0;
 4658              		.loc 1 1307 13 is_stmt 1 view .LVU1472
1307:Drivers/SOES/Src/esc_coe.c ****             coel->infoheader.incomplete = 0;
 4659              		.loc 1 1307 37 is_stmt 0 view .LVU1473
 4660 005a 117A     		ldrb	r1, [r2, #8]	@ zero_extendqisi2
 4661 005c 4FF00608 		mov	r8, #6
 4662 0060 68F30601 		bfi	r1, r8, #0, #7
 4663 0064 1172     		strb	r1, [r2, #8]
1308:Drivers/SOES/Src/esc_coe.c ****             coel->infoheader.reserved = 0x00;
 4664              		.loc 1 1308 13 is_stmt 1 view .LVU1474
1308:Drivers/SOES/Src/esc_coe.c ****             coel->infoheader.reserved = 0x00;
 4665              		.loc 1 1308 41 is_stmt 0 view .LVU1475
 4666 0066 C9B2     		uxtb	r1, r1
 4667 0068 63F3C711 		bfi	r1, r3, #7, #1
 4668 006c 1172     		strb	r1, [r2, #8]
1309:Drivers/SOES/Src/esc_coe.c ****             coel->infoheader.fragmentsleft = htoes ((uint16_t) 0);
 4669              		.loc 1 1309 13 is_stmt 1 view .LVU1476
1309:Drivers/SOES/Src/esc_coe.c ****             coel->infoheader.fragmentsleft = htoes ((uint16_t) 0);
 4670              		.loc 1 1309 39 is_stmt 0 view .LVU1477
 4671 006e 5372     		strb	r3, [r2, #9]
1310:Drivers/SOES/Src/esc_coe.c ****             coel->index = htoes (index);
 4672              		.loc 1 1310 13 is_stmt 1 view .LVU1478
1310:Drivers/SOES/Src/esc_coe.c ****             coel->index = htoes (index);
 4673              		.loc 1 1310 44 is_stmt 0 view .LVU1479
 4674 0070 9372     		strb	r3, [r2, #10]
 4675 0072 D372     		strb	r3, [r2, #11]
1311:Drivers/SOES/Src/esc_coe.c ****             coel->subindex = subindex;
ARM GAS  /tmp/ccpADs8h.s 			page 135


 4676              		.loc 1 1311 13 is_stmt 1 view .LVU1480
1311:Drivers/SOES/Src/esc_coe.c ****             coel->subindex = subindex;
 4677              		.loc 1 1311 25 is_stmt 0 view .LVU1481
 4678 0074 9581     		strh	r5, [r2, #12]	@ unaligned
1312:Drivers/SOES/Src/esc_coe.c ****             coel->valueinfo = COE_VALUEINFO_ACCESS +
 4679              		.loc 1 1312 13 is_stmt 1 view .LVU1482
1312:Drivers/SOES/Src/esc_coe.c ****             coel->valueinfo = COE_VALUEINFO_ACCESS +
 4680              		.loc 1 1312 28 is_stmt 0 view .LVU1483
 4681 0076 9673     		strb	r6, [r2, #14]
1313:Drivers/SOES/Src/esc_coe.c ****                COE_VALUEINFO_OBJECT + COE_VALUEINFO_MAPPABLE;
 4682              		.loc 1 1313 13 is_stmt 1 view .LVU1484
1313:Drivers/SOES/Src/esc_coe.c ****                COE_VALUEINFO_OBJECT + COE_VALUEINFO_MAPPABLE;
 4683              		.loc 1 1313 29 is_stmt 0 view .LVU1485
 4684 0078 0721     		movs	r1, #7
 4685 007a D173     		strb	r1, [r2, #15]
1315:Drivers/SOES/Src/esc_coe.c ****             coel->bitlength = htoes ((objd + nsub)->bitlength);
 4686              		.loc 1 1315 13 is_stmt 1 view .LVU1486
1315:Drivers/SOES/Src/esc_coe.c ****             coel->bitlength = htoes ((objd + nsub)->bitlength);
 4687              		.loc 1 1315 30 is_stmt 0 view .LVU1487
 4688 007c 04EB8404 		add	r4, r4, r4, lsl #2
 4689              	.LVL475:
1315:Drivers/SOES/Src/esc_coe.c ****             coel->bitlength = htoes ((objd + nsub)->bitlength);
 4690              		.loc 1 1315 30 view .LVU1488
 4691 0080 07EB8407 		add	r7, r7, r4, lsl #2
 4692              	.LVL476:
1315:Drivers/SOES/Src/esc_coe.c ****             coel->bitlength = htoes ((objd + nsub)->bitlength);
 4693              		.loc 1 1315 30 view .LVU1489
 4694 0084 7988     		ldrh	r1, [r7, #2]	@ unaligned
1315:Drivers/SOES/Src/esc_coe.c ****             coel->bitlength = htoes ((objd + nsub)->bitlength);
 4695              		.loc 1 1315 28 view .LVU1490
 4696 0086 1182     		strh	r1, [r2, #16]	@ unaligned
1316:Drivers/SOES/Src/esc_coe.c ****             coel->access = htoes ((objd + nsub)->flags);
 4697              		.loc 1 1316 13 is_stmt 1 view .LVU1491
1316:Drivers/SOES/Src/esc_coe.c ****             coel->access = htoes ((objd + nsub)->flags);
 4698              		.loc 1 1316 31 is_stmt 0 view .LVU1492
 4699 0088 B988     		ldrh	r1, [r7, #4]	@ unaligned
1316:Drivers/SOES/Src/esc_coe.c ****             coel->access = htoes ((objd + nsub)->flags);
 4700              		.loc 1 1316 29 view .LVU1493
 4701 008a 5182     		strh	r1, [r2, #18]	@ unaligned
1317:Drivers/SOES/Src/esc_coe.c ****             s = (uint8_t *) (objd + nsub)->name;
 4702              		.loc 1 1317 13 is_stmt 1 view .LVU1494
1317:Drivers/SOES/Src/esc_coe.c ****             s = (uint8_t *) (objd + nsub)->name;
 4703              		.loc 1 1317 28 is_stmt 0 view .LVU1495
 4704 008c F988     		ldrh	r1, [r7, #6]	@ unaligned
1317:Drivers/SOES/Src/esc_coe.c ****             s = (uint8_t *) (objd + nsub)->name;
 4705              		.loc 1 1317 26 view .LVU1496
 4706 008e 9182     		strh	r1, [r2, #20]	@ unaligned
1318:Drivers/SOES/Src/esc_coe.c ****             d = (uint8_t *) &(coel->name);
 4707              		.loc 1 1318 13 is_stmt 1 view .LVU1497
1318:Drivers/SOES/Src/esc_coe.c ****             d = (uint8_t *) &(coel->name);
 4708              		.loc 1 1318 15 is_stmt 0 view .LVU1498
 4709 0090 BD68     		ldr	r5, [r7, #8]	@ unaligned
 4710              	.LVL477:
1319:Drivers/SOES/Src/esc_coe.c ****             while (*s && (n < (ESC_MBXDSIZE - 0x10)))
 4711              		.loc 1 1319 13 is_stmt 1 view .LVU1499
1319:Drivers/SOES/Src/esc_coe.c ****             while (*s && (n < (ESC_MBXDSIZE - 0x10)))
 4712              		.loc 1 1319 15 is_stmt 0 view .LVU1500
ARM GAS  /tmp/ccpADs8h.s 			page 136


 4713 0092 1632     		adds	r2, r2, #22
 4714              	.LVL478:
1320:Drivers/SOES/Src/esc_coe.c ****             {
 4715              		.loc 1 1320 13 is_stmt 1 view .LVU1501
 4716              	.L276:
1320:Drivers/SOES/Src/esc_coe.c ****             {
 4717              		.loc 1 1320 19 view .LVU1502
1320:Drivers/SOES/Src/esc_coe.c ****             {
 4718              		.loc 1 1320 20 is_stmt 0 view .LVU1503
 4719 0094 2C78     		ldrb	r4, [r5]	@ zero_extendqisi2
1320:Drivers/SOES/Src/esc_coe.c ****             {
 4720              		.loc 1 1320 19 view .LVU1504
 4721 0096 54B1     		cbz	r4, .L277
1320:Drivers/SOES/Src/esc_coe.c ****             {
 4722              		.loc 1 1320 32 discriminator 1 view .LVU1505
 4723 0098 1249     		ldr	r1, .L280+8
 4724 009a 896E     		ldr	r1, [r1, #104]
1320:Drivers/SOES/Src/esc_coe.c ****             {
 4725              		.loc 1 1320 45 discriminator 1 view .LVU1506
 4726 009c 1639     		subs	r1, r1, #22
1320:Drivers/SOES/Src/esc_coe.c ****             {
 4727              		.loc 1 1320 23 discriminator 1 view .LVU1507
 4728 009e 8B42     		cmp	r3, r1
 4729 00a0 05D2     		bcs	.L277
1322:Drivers/SOES/Src/esc_coe.c ****                n++;
 4730              		.loc 1 1322 16 is_stmt 1 view .LVU1508
1322:Drivers/SOES/Src/esc_coe.c ****                n++;
 4731              		.loc 1 1322 19 is_stmt 0 view .LVU1509
 4732 00a2 02F8014B 		strb	r4, [r2], #1
 4733              	.LVL479:
1323:Drivers/SOES/Src/esc_coe.c ****                s++;
 4734              		.loc 1 1323 16 is_stmt 1 view .LVU1510
1323:Drivers/SOES/Src/esc_coe.c ****                s++;
 4735              		.loc 1 1323 17 is_stmt 0 view .LVU1511
 4736 00a6 0133     		adds	r3, r3, #1
 4737              	.LVL480:
1323:Drivers/SOES/Src/esc_coe.c ****                s++;
 4738              		.loc 1 1323 17 view .LVU1512
 4739 00a8 DBB2     		uxtb	r3, r3
 4740              	.LVL481:
1324:Drivers/SOES/Src/esc_coe.c ****                d++;
 4741              		.loc 1 1324 16 is_stmt 1 view .LVU1513
1324:Drivers/SOES/Src/esc_coe.c ****                d++;
 4742              		.loc 1 1324 17 is_stmt 0 view .LVU1514
 4743 00aa 0135     		adds	r5, r5, #1
 4744              	.LVL482:
1325:Drivers/SOES/Src/esc_coe.c ****             }
 4745              		.loc 1 1325 16 is_stmt 1 view .LVU1515
1325:Drivers/SOES/Src/esc_coe.c ****             }
 4746              		.loc 1 1325 16 is_stmt 0 view .LVU1516
 4747 00ac F2E7     		b	.L276
 4748              	.L277:
1327:Drivers/SOES/Src/esc_coe.c ****             coel->mbxheader.length = htoes ((uint16_t) 0x10 + n);
 4749              		.loc 1 1327 13 is_stmt 1 view .LVU1517
1327:Drivers/SOES/Src/esc_coe.c ****             coel->mbxheader.length = htoes ((uint16_t) 0x10 + n);
 4750              		.loc 1 1327 16 is_stmt 0 view .LVU1518
 4751 00ae 1470     		strb	r4, [r2]
ARM GAS  /tmp/ccpADs8h.s 			page 137


1328:Drivers/SOES/Src/esc_coe.c ****             MBXcontrol[MBXout].state = MBXstate_outreq;
 4752              		.loc 1 1328 13 is_stmt 1 view .LVU1519
1328:Drivers/SOES/Src/esc_coe.c ****             MBXcontrol[MBXout].state = MBXstate_outreq;
 4753              		.loc 1 1328 38 is_stmt 0 view .LVU1520
 4754 00b0 1033     		adds	r3, r3, #16
 4755              	.LVL483:
1328:Drivers/SOES/Src/esc_coe.c ****             MBXcontrol[MBXout].state = MBXstate_outreq;
 4756              		.loc 1 1328 36 view .LVU1521
 4757 00b2 2CF80030 		strh	r3, [ip, r0]	@ unaligned
1329:Drivers/SOES/Src/esc_coe.c ****             MBXcontrol[0].state = MBXstate_idle;
 4758              		.loc 1 1329 13 is_stmt 1 view .LVU1522
1329:Drivers/SOES/Src/esc_coe.c ****             MBXcontrol[0].state = MBXstate_idle;
 4759              		.loc 1 1329 38 is_stmt 0 view .LVU1523
 4760 00b6 0C4A     		ldr	r2, .L280+12
 4761              	.LVL484:
1329:Drivers/SOES/Src/esc_coe.c ****             MBXcontrol[0].state = MBXstate_idle;
 4762              		.loc 1 1329 38 view .LVU1524
 4763 00b8 0323     		movs	r3, #3
 4764 00ba 02F80E30 		strb	r3, [r2, lr]
1330:Drivers/SOES/Src/esc_coe.c ****             ESCvar.xoe = 0;
 4765              		.loc 1 1330 13 is_stmt 1 view .LVU1525
1330:Drivers/SOES/Src/esc_coe.c ****             ESCvar.xoe = 0;
 4766              		.loc 1 1330 33 is_stmt 0 view .LVU1526
 4767 00be 0023     		movs	r3, #0
 4768 00c0 1370     		strb	r3, [r2]
1331:Drivers/SOES/Src/esc_coe.c ****          }
 4769              		.loc 1 1331 13 is_stmt 1 view .LVU1527
1331:Drivers/SOES/Src/esc_coe.c ****          }
 4770              		.loc 1 1331 24 is_stmt 0 view .LVU1528
 4771 00c2 084A     		ldr	r2, .L280+8
 4772 00c4 82F88A30 		strb	r3, [r2, #138]
 4773 00c8 02E0     		b	.L272
 4774              	.LVL485:
 4775              	.L274:
1336:Drivers/SOES/Src/esc_coe.c ****       }
 4776              		.loc 1 1336 10 is_stmt 1 view .LVU1529
 4777 00ca 0848     		ldr	r0, .L280+16
 4778              	.LVL486:
1336:Drivers/SOES/Src/esc_coe.c ****       }
 4779              		.loc 1 1336 10 is_stmt 0 view .LVU1530
 4780 00cc FFF7FEFF 		bl	SDO_infoerror
 4781              	.LVL487:
 4782              	.L272:
1343:Drivers/SOES/Src/esc_coe.c **** 
 4783              		.loc 1 1343 1 view .LVU1531
 4784 00d0 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 4785              	.LVL488:
 4786              	.L273:
1341:Drivers/SOES/Src/esc_coe.c ****    }
 4787              		.loc 1 1341 7 is_stmt 1 view .LVU1532
 4788 00d4 0648     		ldr	r0, .L280+20
 4789              	.LVL489:
1341:Drivers/SOES/Src/esc_coe.c ****    }
 4790              		.loc 1 1341 7 is_stmt 0 view .LVU1533
 4791 00d6 FFF7FEFF 		bl	SDO_infoerror
 4792              	.LVL490:
1343:Drivers/SOES/Src/esc_coe.c **** 
ARM GAS  /tmp/ccpADs8h.s 			page 138


 4793              		.loc 1 1343 1 view .LVU1534
 4794 00da F9E7     		b	.L272
 4795              	.L281:
 4796              		.align	2
 4797              	.L280:
 4798 00dc 00000000 		.word	MBX
 4799 00e0 00000000 		.word	SDOobjects
 4800 00e4 00000000 		.word	ESCvar
 4801 00e8 00000000 		.word	MBXcontrol
 4802 00ec 11000906 		.word	101253137
 4803 00f0 00000206 		.word	100794368
 4804              		.cfi_endproc
 4805              	.LFE19:
 4807              		.section	.text.sizeOfPDO,"ax",%progbits
 4808              		.align	1
 4809              		.global	sizeOfPDO
 4810              		.syntax unified
 4811              		.thumb
 4812              		.thumb_func
 4814              	sizeOfPDO:
 4815              	.LVL491:
 4816              	.LFB2:
 119:Drivers/SOES/Src/esc_coe.c ****    uint16_t offset = 0, hobj;
 4817              		.loc 1 119 1 is_stmt 1 view -0
 4818              		.cfi_startproc
 4819              		@ args = 0, pretend = 0, frame = 24
 4820              		@ frame_needed = 0, uses_anonymous_args = 0
 119:Drivers/SOES/Src/esc_coe.c ****    uint16_t offset = 0, hobj;
 4821              		.loc 1 119 1 is_stmt 0 view .LVU1536
 4822 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 4823              		.cfi_def_cfa_offset 36
 4824              		.cfi_offset 4, -36
 4825              		.cfi_offset 5, -32
 4826              		.cfi_offset 6, -28
 4827              		.cfi_offset 7, -24
 4828              		.cfi_offset 8, -20
 4829              		.cfi_offset 9, -16
 4830              		.cfi_offset 10, -12
 4831              		.cfi_offset 11, -8
 4832              		.cfi_offset 14, -4
 4833 0004 87B0     		sub	sp, sp, #28
 4834              		.cfi_def_cfa_offset 64
 4835 0006 0591     		str	r1, [sp, #20]
 4836 0008 0192     		str	r2, [sp, #4]
 4837 000a 9B46     		mov	fp, r3
 120:Drivers/SOES/Src/esc_coe.c ****    uint8_t si, sic, c;
 4838              		.loc 1 120 4 is_stmt 1 view .LVU1537
 4839              	.LVL492:
 121:Drivers/SOES/Src/esc_coe.c ****    int16_t nidx;
 4840              		.loc 1 121 4 view .LVU1538
 122:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd;
 4841              		.loc 1 122 4 view .LVU1539
 123:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd1c1x;
 4842              		.loc 1 123 4 view .LVU1540
 124:Drivers/SOES/Src/esc_coe.c ****    int mapIx = 0;
 4843              		.loc 1 124 4 view .LVU1541
 125:Drivers/SOES/Src/esc_coe.c **** 
ARM GAS  /tmp/ccpADs8h.s 			page 139


 4844              		.loc 1 125 4 view .LVU1542
 127:Drivers/SOES/Src/esc_coe.c ****    {
 4845              		.loc 1 127 4 view .LVU1543
 127:Drivers/SOES/Src/esc_coe.c ****    {
 4846              		.loc 1 127 33 is_stmt 0 view .LVU1544
 4847 000c A0F5E053 		sub	r3, r0, #7168
 4848              	.LVL493:
 127:Drivers/SOES/Src/esc_coe.c ****    {
 4849              		.loc 1 127 33 view .LVU1545
 4850 0010 123B     		subs	r3, r3, #18
 4851 0012 9BB2     		uxth	r3, r3
 127:Drivers/SOES/Src/esc_coe.c ****    {
 4852              		.loc 1 127 7 view .LVU1546
 4853 0014 012B     		cmp	r3, #1
 4854 0016 00F2B380 		bhi	.L306
 132:Drivers/SOES/Src/esc_coe.c ****    if(nidx < 0)
 4855              		.loc 1 132 4 is_stmt 1 view .LVU1547
 132:Drivers/SOES/Src/esc_coe.c ****    if(nidx < 0)
 4856              		.loc 1 132 11 is_stmt 0 view .LVU1548
 4857 001a FFF7FEFF 		bl	SDO_findobject
 4858              	.LVL494:
 132:Drivers/SOES/Src/esc_coe.c ****    if(nidx < 0)
 4859              		.loc 1 132 9 view .LVU1549
 4860 001e 00B2     		sxth	r0, r0
 4861              	.LVL495:
 133:Drivers/SOES/Src/esc_coe.c ****    {
 4862              		.loc 1 133 4 is_stmt 1 view .LVU1550
 133:Drivers/SOES/Src/esc_coe.c ****    {
 4863              		.loc 1 133 6 is_stmt 0 view .LVU1551
 4864 0020 0028     		cmp	r0, #0
 4865 0022 C0F2B180 		blt	.L307
 138:Drivers/SOES/Src/esc_coe.c **** 
 4866              		.loc 1 138 4 is_stmt 1 view .LVU1552
 138:Drivers/SOES/Src/esc_coe.c **** 
 4867              		.loc 1 138 13 is_stmt 0 view .LVU1553
 4868 0026 C0EBC000 		rsb	r0, r0, r0, lsl #3
 4869              	.LVL496:
 138:Drivers/SOES/Src/esc_coe.c **** 
 4870              		.loc 1 138 13 view .LVU1554
 4871 002a 584B     		ldr	r3, .L313
 4872 002c 03EB4000 		add	r0, r3, r0, lsl #1
 4873 0030 D0F80A30 		ldr	r3, [r0, #10]	@ unaligned
 4874 0034 0493     		str	r3, [sp, #16]
 4875              	.LVL497:
 140:Drivers/SOES/Src/esc_coe.c ****    if (si)
 4876              		.loc 1 140 4 is_stmt 1 view .LVU1555
 140:Drivers/SOES/Src/esc_coe.c ****    if (si)
 4877              		.loc 1 140 9 is_stmt 0 view .LVU1556
 4878 0036 1B69     		ldr	r3, [r3, #16]	@ unaligned
 4879              	.LVL498:
 140:Drivers/SOES/Src/esc_coe.c ****    if (si)
 4880              		.loc 1 140 7 view .LVU1557
 4881 0038 9BB1     		cbz	r3, .L284
 140:Drivers/SOES/Src/esc_coe.c ****    if (si)
 4882              		.loc 1 140 7 discriminator 1 view .LVU1558
 4883 003a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4884 003c 0393     		str	r3, [sp, #12]
ARM GAS  /tmp/ccpADs8h.s 			page 140


 4885              	.L285:
 4886              	.LVL499:
 141:Drivers/SOES/Src/esc_coe.c ****    {
 4887              		.loc 1 141 4 is_stmt 1 discriminator 4 view .LVU1559
 141:Drivers/SOES/Src/esc_coe.c ****    {
 4888              		.loc 1 141 7 is_stmt 0 discriminator 4 view .LVU1560
 4889 003e 039B     		ldr	r3, [sp, #12]
 4890 0040 002B     		cmp	r3, #0
 4891 0042 40F09380 		bne	.L308
 125:Drivers/SOES/Src/esc_coe.c **** 
 4892              		.loc 1 125 8 view .LVU1561
 4893 0046 4FF00009 		mov	r9, #0
 120:Drivers/SOES/Src/esc_coe.c ****    uint8_t si, sic, c;
 4894              		.loc 1 120 13 view .LVU1562
 4895 004a 4C46     		mov	r4, r9
 4896              	.LVL500:
 4897              	.L287:
 214:Drivers/SOES/Src/esc_coe.c ****    {
 4898              		.loc 1 214 4 is_stmt 1 view .LVU1563
 214:Drivers/SOES/Src/esc_coe.c ****    {
 4899              		.loc 1 214 7 is_stmt 0 view .LVU1564
 4900 004c BBF1000F 		cmp	fp, #0
 4901 0050 40F39280 		ble	.L304
 216:Drivers/SOES/Src/esc_coe.c ****    }
 4902              		.loc 1 216 7 is_stmt 1 view .LVU1565
 216:Drivers/SOES/Src/esc_coe.c ****    }
 4903              		.loc 1 216 18 is_stmt 0 view .LVU1566
 4904 0054 059B     		ldr	r3, [sp, #20]
 4905 0056 C3F80090 		str	r9, [r3]
 4906              	.L305:
 223:Drivers/SOES/Src/esc_coe.c **** }
 4907              		.loc 1 223 4 is_stmt 1 view .LVU1567
 223:Drivers/SOES/Src/esc_coe.c **** }
 4908              		.loc 1 223 11 is_stmt 0 view .LVU1568
 4909 005a E01D     		adds	r0, r4, #7
 4910 005c C0F3CF00 		ubfx	r0, r0, #3, #16
 4911 0060 8FE0     		b	.L283
 4912              	.LVL501:
 4913              	.L284:
 140:Drivers/SOES/Src/esc_coe.c ****    if (si)
 4914              		.loc 1 140 9 discriminator 2 view .LVU1569
 4915 0062 049B     		ldr	r3, [sp, #16]
 4916 0064 DB68     		ldr	r3, [r3, #12]	@ unaligned
 140:Drivers/SOES/Src/esc_coe.c ****    if (si)
 4917              		.loc 1 140 7 discriminator 2 view .LVU1570
 4918 0066 DBB2     		uxtb	r3, r3
 4919 0068 0393     		str	r3, [sp, #12]
 4920 006a E8E7     		b	.L285
 4921              	.LVL502:
 4922              	.L288:
 145:Drivers/SOES/Src/esc_coe.c ****          nidx = SDO_findobject (hobj);
 4923              		.loc 1 145 17 discriminator 2 view .LVU1571
 4924 006c D868     		ldr	r0, [r3, #12]	@ unaligned
 145:Drivers/SOES/Src/esc_coe.c ****          nidx = SDO_findobject (hobj);
 4925              		.loc 1 145 15 discriminator 2 view .LVU1572
 4926 006e 80B2     		uxth	r0, r0
 4927 0070 68E0     		b	.L289
ARM GAS  /tmp/ccpADs8h.s 			page 141


 4928              	.LVL503:
 4929              	.L291:
 4930              	.LBB24:
 152:Drivers/SOES/Src/esc_coe.c **** 
 4931              		.loc 1 152 22 discriminator 2 view .LVU1573
 4932 0072 DAF80C30 		ldr	r3, [r10, #12]	@ unaligned
 152:Drivers/SOES/Src/esc_coe.c **** 
 4933              		.loc 1 152 20 discriminator 2 view .LVU1574
 4934 0076 DBB2     		uxtb	r3, r3
 4935 0078 0093     		str	r3, [sp]
 4936 007a 75E0     		b	.L292
 4937              	.LVL504:
 4938              	.L294:
 4939              	.LBB25:
 156:Drivers/SOES/Src/esc_coe.c ****                uint8_t bitlength = value & 0xFF;
 4940              		.loc 1 156 33 discriminator 2 view .LVU1575
 4941 007c DE68     		ldr	r6, [r3, #12]	@ unaligned
 4942 007e 34E0     		b	.L295
 4943              	.LVL505:
 4944              	.L312:
 4945              	.LBB26:
 168:Drivers/SOES/Src/esc_coe.c ****                      return 0;
 4946              		.loc 1 168 22 is_stmt 1 view .LVU1576
 168:Drivers/SOES/Src/esc_coe.c ****                      return 0;
 4947              		.loc 1 168 33 is_stmt 0 view .LVU1577
 4948 0080 4FF0FF33 		mov	r3, #-1
 4949 0084 059A     		ldr	r2, [sp, #20]
 4950 0086 1360     		str	r3, [r2]
 169:Drivers/SOES/Src/esc_coe.c ****                   }
 4951              		.loc 1 169 22 is_stmt 1 view .LVU1578
 169:Drivers/SOES/Src/esc_coe.c ****                   }
 4952              		.loc 1 169 29 is_stmt 0 view .LVU1579
 4953 0088 0020     		movs	r0, #0
 4954              	.LVL506:
 169:Drivers/SOES/Src/esc_coe.c ****                   }
 4955              		.loc 1 169 29 view .LVU1580
 4956 008a 7AE0     		b	.L283
 4957              	.LVL507:
 4958              	.L298:
 181:Drivers/SOES/Src/esc_coe.c ****                      if (nidx >= 0)
 4959              		.loc 1 181 22 is_stmt 1 view .LVU1581
 181:Drivers/SOES/Src/esc_coe.c ****                      if (nidx >= 0)
 4960              		.loc 1 181 29 is_stmt 0 view .LVU1582
 4961 008c FFF7FEFF 		bl	SDO_findobject
 4962              	.LVL508:
 181:Drivers/SOES/Src/esc_coe.c ****                      if (nidx >= 0)
 4963              		.loc 1 181 27 view .LVU1583
 4964 0090 0FFA80F8 		sxth	r8, r0
 4965              	.LVL509:
 182:Drivers/SOES/Src/esc_coe.c ****                      {
 4966              		.loc 1 182 22 is_stmt 1 view .LVU1584
 182:Drivers/SOES/Src/esc_coe.c ****                      {
 4967              		.loc 1 182 25 is_stmt 0 view .LVU1585
 4968 0094 B8F1000F 		cmp	r8, #0
 4969 0098 3CDB     		blt	.L300
 4970              	.LBB27:
 184:Drivers/SOES/Src/esc_coe.c **** 
ARM GAS  /tmp/ccpADs8h.s 			page 142


 4971              		.loc 1 184 25 is_stmt 1 view .LVU1586
 186:Drivers/SOES/Src/esc_coe.c ****                         if (nsub < 0)
 4972              		.loc 1 186 25 view .LVU1587
 186:Drivers/SOES/Src/esc_coe.c ****                         if (nsub < 0)
 4973              		.loc 1 186 32 is_stmt 0 view .LVU1588
 4974 009a 3146     		mov	r1, r6
 4975 009c 4046     		mov	r0, r8
 4976 009e FFF7FEFF 		bl	SDO_findsubindex
 4977              	.LVL510:
 187:Drivers/SOES/Src/esc_coe.c ****                         {
 4978              		.loc 1 187 25 is_stmt 1 view .LVU1589
 187:Drivers/SOES/Src/esc_coe.c ****                         {
 4979              		.loc 1 187 28 is_stmt 0 view .LVU1590
 4980 00a2 0028     		cmp	r0, #0
 4981              	.LVL511:
 187:Drivers/SOES/Src/esc_coe.c ****                         {
 4982              		.loc 1 187 28 view .LVU1591
 4983 00a4 30DB     		blt	.L311
 194:Drivers/SOES/Src/esc_coe.c ****                      }
 4984              		.loc 1 194 25 is_stmt 1 view .LVU1592
 194:Drivers/SOES/Src/esc_coe.c ****                      }
 4985              		.loc 1 194 52 is_stmt 0 view .LVU1593
 4986 00a6 C8EBC808 		rsb	r8, r8, r8, lsl #3
 4987              	.LVL512:
 194:Drivers/SOES/Src/esc_coe.c ****                      }
 4988              		.loc 1 194 52 view .LVU1594
 4989 00aa 384B     		ldr	r3, .L313
 4990 00ac 03EB4808 		add	r8, r3, r8, lsl #1
 4991 00b0 D8F80A30 		ldr	r3, [r8, #10]	@ unaligned
 194:Drivers/SOES/Src/esc_coe.c ****                      }
 4992              		.loc 1 194 60 view .LVU1595
 4993 00b4 00EB8000 		add	r0, r0, r0, lsl #2
 194:Drivers/SOES/Src/esc_coe.c ****                      }
 4994              		.loc 1 194 33 view .LVU1596
 4995 00b8 03EB8000 		add	r0, r3, r0, lsl #2
 4996              	.LVL513:
 4997              	.L299:
 194:Drivers/SOES/Src/esc_coe.c ****                      }
 4998              		.loc 1 194 33 view .LVU1597
 4999              	.LBE27:
 204:Drivers/SOES/Src/esc_coe.c ****                   mappings[mapIx++].offset = offset;
 5000              		.loc 1 204 19 is_stmt 1 view .LVU1598
 204:Drivers/SOES/Src/esc_coe.c ****                   mappings[mapIx++].offset = offset;
 5001              		.loc 1 204 27 is_stmt 0 view .LVU1599
 5002 00bc 019A     		ldr	r2, [sp, #4]
 5003 00be 02EBC903 		add	r3, r2, r9, lsl #3
 204:Drivers/SOES/Src/esc_coe.c ****                   mappings[mapIx++].offset = offset;
 5004              		.loc 1 204 39 view .LVU1600
 5005 00c2 42F83900 		str	r0, [r2, r9, lsl #3]
 205:Drivers/SOES/Src/esc_coe.c ****                }
 5006              		.loc 1 205 19 is_stmt 1 view .LVU1601
 205:Drivers/SOES/Src/esc_coe.c ****                }
 5007              		.loc 1 205 44 is_stmt 0 view .LVU1602
 5008 00c6 9C80     		strh	r4, [r3, #4]	@ movhi
 5009 00c8 09F10109 		add	r9, r9, #1
 5010              	.LVL514:
 5011              	.L296:
ARM GAS  /tmp/ccpADs8h.s 			page 143


 205:Drivers/SOES/Src/esc_coe.c ****                }
 5012              		.loc 1 205 44 view .LVU1603
 5013              	.LBE26:
 208:Drivers/SOES/Src/esc_coe.c ****             }
 5014              		.loc 1 208 16 is_stmt 1 discriminator 2 view .LVU1604
 208:Drivers/SOES/Src/esc_coe.c ****             }
 5015              		.loc 1 208 23 is_stmt 0 discriminator 2 view .LVU1605
 5016 00cc 3C44     		add	r4, r4, r7
 5017              	.LVL515:
 208:Drivers/SOES/Src/esc_coe.c ****             }
 5018              		.loc 1 208 23 discriminator 2 view .LVU1606
 5019 00ce A4B2     		uxth	r4, r4
 5020              	.LVL516:
 208:Drivers/SOES/Src/esc_coe.c ****             }
 5021              		.loc 1 208 23 discriminator 2 view .LVU1607
 5022              	.LBE25:
 154:Drivers/SOES/Src/esc_coe.c ****             {
 5023              		.loc 1 154 38 is_stmt 1 discriminator 2 view .LVU1608
 154:Drivers/SOES/Src/esc_coe.c ****             {
 5024              		.loc 1 154 39 is_stmt 0 discriminator 2 view .LVU1609
 5025 00d0 0135     		adds	r5, r5, #1
 5026              	.LVL517:
 154:Drivers/SOES/Src/esc_coe.c ****             {
 5027              		.loc 1 154 39 discriminator 2 view .LVU1610
 5028 00d2 EDB2     		uxtb	r5, r5
 5029              	.LVL518:
 5030              	.L293:
 154:Drivers/SOES/Src/esc_coe.c ****             {
 5031              		.loc 1 154 25 is_stmt 1 discriminator 1 view .LVU1611
 154:Drivers/SOES/Src/esc_coe.c ****             {
 5032              		.loc 1 154 13 is_stmt 0 discriminator 1 view .LVU1612
 5033 00d4 009B     		ldr	r3, [sp]
 5034 00d6 9D42     		cmp	r5, r3
 5035 00d8 22D8     		bhi	.L290
 5036              	.LBB30:
 156:Drivers/SOES/Src/esc_coe.c ****                uint8_t bitlength = value & 0xFF;
 5037              		.loc 1 156 16 is_stmt 1 view .LVU1613
 156:Drivers/SOES/Src/esc_coe.c ****                uint8_t bitlength = value & 0xFF;
 5038              		.loc 1 156 33 is_stmt 0 view .LVU1614
 5039 00da 05EB8503 		add	r3, r5, r5, lsl #2
 5040 00de 0AEB8303 		add	r3, r10, r3, lsl #2
 5041 00e2 1A69     		ldr	r2, [r3, #16]	@ unaligned
 5042 00e4 002A     		cmp	r2, #0
 5043 00e6 C9D0     		beq	.L294
 156:Drivers/SOES/Src/esc_coe.c ****                uint8_t bitlength = value & 0xFF;
 5044              		.loc 1 156 33 discriminator 1 view .LVU1615
 5045 00e8 1668     		ldr	r6, [r2]
 5046              	.L295:
 5047              	.LVL519:
 157:Drivers/SOES/Src/esc_coe.c **** 
 5048              		.loc 1 157 16 is_stmt 1 discriminator 4 view .LVU1616
 157:Drivers/SOES/Src/esc_coe.c **** 
 5049              		.loc 1 157 24 is_stmt 0 discriminator 4 view .LVU1617
 5050 00ea F7B2     		uxtb	r7, r6
 5051              	.LVL520:
 159:Drivers/SOES/Src/esc_coe.c ****                {
 5052              		.loc 1 159 16 is_stmt 1 discriminator 4 view .LVU1618
ARM GAS  /tmp/ccpADs8h.s 			page 144


 159:Drivers/SOES/Src/esc_coe.c ****                {
 5053              		.loc 1 159 19 is_stmt 0 discriminator 4 view .LVU1619
 5054 00ec BBF1000F 		cmp	fp, #0
 5055 00f0 ECDD     		ble	.L296
 5056              	.LBB29:
 161:Drivers/SOES/Src/esc_coe.c ****                   uint8_t subindex = (value >> 8) & 0xFF;
 5057              		.loc 1 161 19 is_stmt 1 view .LVU1620
 161:Drivers/SOES/Src/esc_coe.c ****                   uint8_t subindex = (value >> 8) & 0xFF;
 5058              		.loc 1 161 28 is_stmt 0 view .LVU1621
 5059 00f2 300C     		lsrs	r0, r6, #16
 5060              	.LVL521:
 162:Drivers/SOES/Src/esc_coe.c ****                   const _objd * mapping;
 5061              		.loc 1 162 19 is_stmt 1 view .LVU1622
 162:Drivers/SOES/Src/esc_coe.c ****                   const _objd * mapping;
 5062              		.loc 1 162 27 is_stmt 0 view .LVU1623
 5063 00f4 C6F30726 		ubfx	r6, r6, #8, #8
 5064              	.LVL522:
 163:Drivers/SOES/Src/esc_coe.c **** 
 5065              		.loc 1 163 19 is_stmt 1 view .LVU1624
 165:Drivers/SOES/Src/esc_coe.c ****                   {
 5066              		.loc 1 165 19 view .LVU1625
 165:Drivers/SOES/Src/esc_coe.c ****                   {
 5067              		.loc 1 165 22 is_stmt 0 view .LVU1626
 5068 00f8 D945     		cmp	r9, fp
 5069 00fa C1D0     		beq	.L312
 172:Drivers/SOES/Src/esc_coe.c **** 
 5070              		.loc 1 172 71 is_stmt 1 view .LVU1627
 174:Drivers/SOES/Src/esc_coe.c ****                   {
 5071              		.loc 1 174 19 view .LVU1628
 174:Drivers/SOES/Src/esc_coe.c ****                   {
 5072              		.loc 1 174 22 is_stmt 0 view .LVU1629
 5073 00fc 0028     		cmp	r0, #0
 5074 00fe C5D1     		bne	.L298
 174:Drivers/SOES/Src/esc_coe.c ****                   {
 5075              		.loc 1 174 34 discriminator 1 view .LVU1630
 5076 0100 002E     		cmp	r6, #0
 5077 0102 C3D1     		bne	.L298
 177:Drivers/SOES/Src/esc_coe.c ****                   }
 5078              		.loc 1 177 30 view .LVU1631
 5079 0104 0020     		movs	r0, #0
 5080              	.LVL523:
 177:Drivers/SOES/Src/esc_coe.c ****                   }
 5081              		.loc 1 177 30 view .LVU1632
 5082 0106 D9E7     		b	.L299
 5083              	.LVL524:
 5084              	.L311:
 5085              	.LBB28:
 190:Drivers/SOES/Src/esc_coe.c ****                            return 0;
 5086              		.loc 1 190 28 is_stmt 1 view .LVU1633
 190:Drivers/SOES/Src/esc_coe.c ****                            return 0;
 5087              		.loc 1 190 39 is_stmt 0 view .LVU1634
 5088 0108 4FF0FF33 		mov	r3, #-1
 5089 010c 059A     		ldr	r2, [sp, #20]
 5090 010e 1360     		str	r3, [r2]
 191:Drivers/SOES/Src/esc_coe.c ****                         }
 5091              		.loc 1 191 28 is_stmt 1 view .LVU1635
 191:Drivers/SOES/Src/esc_coe.c ****                         }
ARM GAS  /tmp/ccpADs8h.s 			page 145


 5092              		.loc 1 191 35 is_stmt 0 view .LVU1636
 5093 0110 0020     		movs	r0, #0
 5094 0112 36E0     		b	.L283
 5095              	.L300:
 191:Drivers/SOES/Src/esc_coe.c ****                         }
 5096              		.loc 1 191 35 view .LVU1637
 5097              	.LBE28:
 199:Drivers/SOES/Src/esc_coe.c ****                         return 0;
 5098              		.loc 1 199 25 is_stmt 1 view .LVU1638
 199:Drivers/SOES/Src/esc_coe.c ****                         return 0;
 5099              		.loc 1 199 36 is_stmt 0 view .LVU1639
 5100 0114 4FF0FF33 		mov	r3, #-1
 5101 0118 059A     		ldr	r2, [sp, #20]
 5102 011a 1360     		str	r3, [r2]
 200:Drivers/SOES/Src/esc_coe.c ****                      }
 5103              		.loc 1 200 25 is_stmt 1 view .LVU1640
 200:Drivers/SOES/Src/esc_coe.c ****                      }
 5104              		.loc 1 200 32 is_stmt 0 view .LVU1641
 5105 011c 0020     		movs	r0, #0
 5106 011e 30E0     		b	.L283
 5107              	.LVL525:
 5108              	.L290:
 200:Drivers/SOES/Src/esc_coe.c ****                      }
 5109              		.loc 1 200 32 view .LVU1642
 5110              	.LBE29:
 5111              	.LBE30:
 5112              	.LBE24:
 143:Drivers/SOES/Src/esc_coe.c ****       {
 5113              		.loc 1 143 32 is_stmt 1 discriminator 2 view .LVU1643
 143:Drivers/SOES/Src/esc_coe.c ****       {
 5114              		.loc 1 143 35 is_stmt 0 discriminator 2 view .LVU1644
 5115 0120 029B     		ldr	r3, [sp, #8]
 5116 0122 0133     		adds	r3, r3, #1
 5117 0124 DBB2     		uxtb	r3, r3
 5118 0126 0293     		str	r3, [sp, #8]
 5119              	.LVL526:
 5120              	.L286:
 143:Drivers/SOES/Src/esc_coe.c ****       {
 5121              		.loc 1 143 21 is_stmt 1 discriminator 1 view .LVU1645
 143:Drivers/SOES/Src/esc_coe.c ****       {
 5122              		.loc 1 143 7 is_stmt 0 discriminator 1 view .LVU1646
 5123 0128 029B     		ldr	r3, [sp, #8]
 5124 012a 039A     		ldr	r2, [sp, #12]
 5125 012c 9342     		cmp	r3, r2
 5126 012e 8DD8     		bhi	.L287
 145:Drivers/SOES/Src/esc_coe.c ****          nidx = SDO_findobject (hobj);
 5127              		.loc 1 145 10 is_stmt 1 view .LVU1647
 145:Drivers/SOES/Src/esc_coe.c ****          nidx = SDO_findobject (hobj);
 5128              		.loc 1 145 17 is_stmt 0 view .LVU1648
 5129 0130 029B     		ldr	r3, [sp, #8]
 5130 0132 03EB8303 		add	r3, r3, r3, lsl #2
 5131 0136 049A     		ldr	r2, [sp, #16]
 5132 0138 02EB8303 		add	r3, r2, r3, lsl #2
 5133 013c 1A69     		ldr	r2, [r3, #16]	@ unaligned
 145:Drivers/SOES/Src/esc_coe.c ****          nidx = SDO_findobject (hobj);
 5134              		.loc 1 145 15 view .LVU1649
 5135 013e 002A     		cmp	r2, #0
ARM GAS  /tmp/ccpADs8h.s 			page 146


 5136 0140 94D0     		beq	.L288
 145:Drivers/SOES/Src/esc_coe.c ****          nidx = SDO_findobject (hobj);
 5137              		.loc 1 145 15 discriminator 1 view .LVU1650
 5138 0142 1088     		ldrh	r0, [r2]
 5139              	.L289:
 5140              	.LVL527:
 146:Drivers/SOES/Src/esc_coe.c ****          if (nidx >= 0)
 5141              		.loc 1 146 10 is_stmt 1 discriminator 4 view .LVU1651
 146:Drivers/SOES/Src/esc_coe.c ****          if (nidx >= 0)
 5142              		.loc 1 146 17 is_stmt 0 discriminator 4 view .LVU1652
 5143 0144 FFF7FEFF 		bl	SDO_findobject
 5144              	.LVL528:
 146:Drivers/SOES/Src/esc_coe.c ****          if (nidx >= 0)
 5145              		.loc 1 146 15 discriminator 4 view .LVU1653
 5146 0148 00B2     		sxth	r0, r0
 5147              	.LVL529:
 147:Drivers/SOES/Src/esc_coe.c ****          {
 5148              		.loc 1 147 10 is_stmt 1 discriminator 4 view .LVU1654
 147:Drivers/SOES/Src/esc_coe.c ****          {
 5149              		.loc 1 147 13 is_stmt 0 discriminator 4 view .LVU1655
 5150 014a 0028     		cmp	r0, #0
 5151 014c E8DB     		blt	.L290
 5152              	.LBB31:
 149:Drivers/SOES/Src/esc_coe.c **** 
 5153              		.loc 1 149 13 is_stmt 1 view .LVU1656
 151:Drivers/SOES/Src/esc_coe.c ****             maxsub = OBJ_VALUE_FETCH (maxsub, objd[0]);
 5154              		.loc 1 151 13 view .LVU1657
 151:Drivers/SOES/Src/esc_coe.c ****             maxsub = OBJ_VALUE_FETCH (maxsub, objd[0]);
 5155              		.loc 1 151 18 is_stmt 0 view .LVU1658
 5156 014e C0EBC000 		rsb	r0, r0, r0, lsl #3
 5157              	.LVL530:
 151:Drivers/SOES/Src/esc_coe.c ****             maxsub = OBJ_VALUE_FETCH (maxsub, objd[0]);
 5158              		.loc 1 151 18 view .LVU1659
 5159 0152 0E4B     		ldr	r3, .L313
 5160 0154 03EB4000 		add	r0, r3, r0, lsl #1
 5161 0158 D0F80AA0 		ldr	r10, [r0, #10]	@ unaligned
 5162              	.LVL531:
 152:Drivers/SOES/Src/esc_coe.c **** 
 5163              		.loc 1 152 13 is_stmt 1 view .LVU1660
 152:Drivers/SOES/Src/esc_coe.c **** 
 5164              		.loc 1 152 22 is_stmt 0 view .LVU1661
 5165 015c DAF81030 		ldr	r3, [r10, #16]	@ unaligned
 152:Drivers/SOES/Src/esc_coe.c **** 
 5166              		.loc 1 152 20 view .LVU1662
 5167 0160 002B     		cmp	r3, #0
 5168 0162 86D0     		beq	.L291
 152:Drivers/SOES/Src/esc_coe.c **** 
 5169              		.loc 1 152 20 discriminator 1 view .LVU1663
 5170 0164 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5171 0166 0093     		str	r3, [sp]
 5172              	.L292:
 5173              	.LVL532:
 154:Drivers/SOES/Src/esc_coe.c ****             {
 5174              		.loc 1 154 13 is_stmt 1 discriminator 4 view .LVU1664
 154:Drivers/SOES/Src/esc_coe.c ****             {
 5175              		.loc 1 154 20 is_stmt 0 discriminator 4 view .LVU1665
 5176 0168 0125     		movs	r5, #1
ARM GAS  /tmp/ccpADs8h.s 			page 147


 154:Drivers/SOES/Src/esc_coe.c ****             {
 5177              		.loc 1 154 13 discriminator 4 view .LVU1666
 5178 016a B3E7     		b	.L293
 5179              	.LVL533:
 5180              	.L308:
 154:Drivers/SOES/Src/esc_coe.c ****             {
 5181              		.loc 1 154 13 discriminator 4 view .LVU1667
 5182              	.LBE31:
 125:Drivers/SOES/Src/esc_coe.c **** 
 5183              		.loc 1 125 8 view .LVU1668
 5184 016c 4FF00009 		mov	r9, #0
 143:Drivers/SOES/Src/esc_coe.c ****       {
 5185              		.loc 1 143 16 view .LVU1669
 5186 0170 0123     		movs	r3, #1
 5187 0172 0293     		str	r3, [sp, #8]
 120:Drivers/SOES/Src/esc_coe.c ****    uint8_t si, sic, c;
 5188              		.loc 1 120 13 view .LVU1670
 5189 0174 4C46     		mov	r4, r9
 5190 0176 D7E7     		b	.L286
 5191              	.LVL534:
 5192              	.L304:
 220:Drivers/SOES/Src/esc_coe.c ****    }
 5193              		.loc 1 220 7 is_stmt 1 view .LVU1671
 220:Drivers/SOES/Src/esc_coe.c ****    }
 5194              		.loc 1 220 18 is_stmt 0 view .LVU1672
 5195 0178 0023     		movs	r3, #0
 5196 017a 059A     		ldr	r2, [sp, #20]
 5197 017c 1360     		str	r3, [r2]
 5198 017e 6CE7     		b	.L305
 5199              	.LVL535:
 5200              	.L306:
 129:Drivers/SOES/Src/esc_coe.c ****    }
 5201              		.loc 1 129 14 view .LVU1673
 5202 0180 0020     		movs	r0, #0
 5203              	.LVL536:
 5204              	.L283:
 224:Drivers/SOES/Src/esc_coe.c **** 
 5205              		.loc 1 224 1 view .LVU1674
 5206 0182 07B0     		add	sp, sp, #28
 5207              		.cfi_remember_state
 5208              		.cfi_def_cfa_offset 36
 5209              		@ sp needed
 5210 0184 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 5211              	.LVL537:
 5212              	.L307:
 5213              		.cfi_restore_state
 135:Drivers/SOES/Src/esc_coe.c ****    }
 5214              		.loc 1 135 14 view .LVU1675
 5215 0188 0020     		movs	r0, #0
 5216              	.LVL538:
 135:Drivers/SOES/Src/esc_coe.c ****    }
 5217              		.loc 1 135 14 view .LVU1676
 5218 018a FAE7     		b	.L283
 5219              	.L314:
 5220              		.align	2
 5221              	.L313:
 5222 018c 00000000 		.word	SDOobjects
ARM GAS  /tmp/ccpADs8h.s 			page 148


 5223              		.cfi_endproc
 5224              	.LFE2:
 5226              		.section	.text.ESC_coeprocess,"ax",%progbits
 5227              		.align	1
 5228              		.global	ESC_coeprocess
 5229              		.syntax unified
 5230              		.thumb
 5231              		.thumb_func
 5233              	ESC_coeprocess:
 5234              	.LFB20:
1350:Drivers/SOES/Src/esc_coe.c ****    _MBXh *mbh;
 5235              		.loc 1 1350 1 is_stmt 1 view -0
 5236              		.cfi_startproc
 5237              		@ args = 0, pretend = 0, frame = 0
 5238              		@ frame_needed = 0, uses_anonymous_args = 0
 5239 0000 08B5     		push	{r3, lr}
 5240              		.cfi_def_cfa_offset 8
 5241              		.cfi_offset 3, -8
 5242              		.cfi_offset 14, -4
1351:Drivers/SOES/Src/esc_coe.c ****    _COEsdo *coesdo;
 5243              		.loc 1 1351 4 view .LVU1678
1352:Drivers/SOES/Src/esc_coe.c ****    _COEobjdesc *coeobjdesc;
 5244              		.loc 1 1352 4 view .LVU1679
1353:Drivers/SOES/Src/esc_coe.c ****    uint8_t service;
 5245              		.loc 1 1353 4 view .LVU1680
1354:Drivers/SOES/Src/esc_coe.c ****    if (ESCvar.MBXrun == 0)
 5246              		.loc 1 1354 4 view .LVU1681
1355:Drivers/SOES/Src/esc_coe.c ****    {
 5247              		.loc 1 1355 4 view .LVU1682
1355:Drivers/SOES/Src/esc_coe.c ****    {
 5248              		.loc 1 1355 14 is_stmt 0 view .LVU1683
 5249 0002 4F4B     		ldr	r3, .L343
 5250 0004 93F86430 		ldrb	r3, [r3, #100]	@ zero_extendqisi2
1355:Drivers/SOES/Src/esc_coe.c ****    {
 5251              		.loc 1 1355 7 view .LVU1684
 5252 0008 A3B1     		cbz	r3, .L315
1359:Drivers/SOES/Src/esc_coe.c ****    {
 5253              		.loc 1 1359 4 is_stmt 1 view .LVU1685
1359:Drivers/SOES/Src/esc_coe.c ****    {
 5254              		.loc 1 1359 15 is_stmt 0 view .LVU1686
 5255 000a 4D4B     		ldr	r3, .L343
 5256 000c 93F88A30 		ldrb	r3, [r3, #138]	@ zero_extendqisi2
1359:Drivers/SOES/Src/esc_coe.c ****    {
 5257              		.loc 1 1359 7 view .LVU1687
 5258 0010 1BB9     		cbnz	r3, .L317
1359:Drivers/SOES/Src/esc_coe.c ****    {
 5259              		.loc 1 1359 37 discriminator 1 view .LVU1688
 5260 0012 4C4B     		ldr	r3, .L343+4
 5261 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1359:Drivers/SOES/Src/esc_coe.c ****    {
 5262              		.loc 1 1359 20 discriminator 1 view .LVU1689
 5263 0016 012B     		cmp	r3, #1
 5264 0018 0DD0     		beq	.L332
 5265              	.L317:
1374:Drivers/SOES/Src/esc_coe.c ****    {
 5266              		.loc 1 1374 4 is_stmt 1 view .LVU1690
1374:Drivers/SOES/Src/esc_coe.c ****    {
ARM GAS  /tmp/ccpADs8h.s 			page 149


 5267              		.loc 1 1374 42 is_stmt 0 view .LVU1691
 5268 001a 494B     		ldr	r3, .L343
 5269 001c D3F88830 		ldr	r3, [r3, #136]
 5270 0020 03F0FF13 		and	r3, r3, #16711935
1374:Drivers/SOES/Src/esc_coe.c ****    {
 5271              		.loc 1 1374 7 view .LVU1692
 5272 0024 B3F5981F 		cmp	r3, #1245184
 5273 0028 18D0     		beq	.L333
 5274              	.L319:
1379:Drivers/SOES/Src/esc_coe.c ****    {
 5275              		.loc 1 1379 4 is_stmt 1 view .LVU1693
1379:Drivers/SOES/Src/esc_coe.c ****    {
 5276              		.loc 1 1379 14 is_stmt 0 view .LVU1694
 5277 002a 454B     		ldr	r3, .L343
 5278 002c 93F88A30 		ldrb	r3, [r3, #138]	@ zero_extendqisi2
1379:Drivers/SOES/Src/esc_coe.c ****    {
 5279              		.loc 1 1379 7 view .LVU1695
 5280 0030 032B     		cmp	r3, #3
 5281 0032 16D0     		beq	.L334
 5282              	.L315:
1469:Drivers/SOES/Src/esc_coe.c **** 
 5283              		.loc 1 1469 1 view .LVU1696
 5284 0034 08BD     		pop	{r3, pc}
 5285              	.L332:
1361:Drivers/SOES/Src/esc_coe.c ****       if (mbh->mbxtype == MBXCOE)
 5286              		.loc 1 1361 7 is_stmt 1 view .LVU1697
 5287              	.LVL539:
1362:Drivers/SOES/Src/esc_coe.c ****       {
 5288              		.loc 1 1362 7 view .LVU1698
1362:Drivers/SOES/Src/esc_coe.c ****       {
 5289              		.loc 1 1362 24 is_stmt 0 view .LVU1699
 5290 0036 444B     		ldr	r3, .L343+8
 5291 0038 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 5292 003a 03F00F03 		and	r3, r3, #15
1362:Drivers/SOES/Src/esc_coe.c ****       {
 5293              		.loc 1 1362 10 view .LVU1700
 5294 003e 032B     		cmp	r3, #3
 5295 0040 EBD1     		bne	.L317
1364:Drivers/SOES/Src/esc_coe.c ****          {
 5296              		.loc 1 1364 10 is_stmt 1 view .LVU1701
1364:Drivers/SOES/Src/esc_coe.c ****          {
 5297              		.loc 1 1364 14 is_stmt 0 view .LVU1702
 5298 0042 414B     		ldr	r3, .L343+8
 5299 0044 1B88     		ldrh	r3, [r3]	@ unaligned
1364:Drivers/SOES/Src/esc_coe.c ****          {
 5300              		.loc 1 1364 13 view .LVU1703
 5301 0046 072B     		cmp	r3, #7
 5302 0048 04D9     		bls	.L335
1370:Drivers/SOES/Src/esc_coe.c ****          }
 5303              		.loc 1 1370 13 is_stmt 1 view .LVU1704
1370:Drivers/SOES/Src/esc_coe.c ****          }
 5304              		.loc 1 1370 24 is_stmt 0 view .LVU1705
 5305 004a 3D4B     		ldr	r3, .L343
 5306 004c 0322     		movs	r2, #3
 5307 004e 83F88A20 		strb	r2, [r3, #138]
 5308 0052 E2E7     		b	.L317
 5309              	.L335:
ARM GAS  /tmp/ccpADs8h.s 			page 150


1366:Drivers/SOES/Src/esc_coe.c ****          }
 5310              		.loc 1 1366 13 is_stmt 1 view .LVU1706
 5311 0054 0820     		movs	r0, #8
 5312 0056 FFF7FEFF 		bl	MBX_error
 5313              	.LVL540:
 5314 005a DEE7     		b	.L317
 5315              	.LVL541:
 5316              	.L333:
1377:Drivers/SOES/Src/esc_coe.c ****    }
 5317              		.loc 1 1377 7 view .LVU1707
 5318 005c FFF7FEFF 		bl	SDO_getodlistcont
 5319              	.LVL542:
 5320 0060 E3E7     		b	.L319
 5321              	.L334:
1381:Drivers/SOES/Src/esc_coe.c ****       coeobjdesc = (_COEobjdesc *) &MBX[0];
 5322              		.loc 1 1381 7 view .LVU1708
 5323              	.LVL543:
1382:Drivers/SOES/Src/esc_coe.c ****       service = etohs (coesdo->coeheader.numberservice) >> 12;
 5324              		.loc 1 1382 7 view .LVU1709
1383:Drivers/SOES/Src/esc_coe.c ****       if (service == COE_SDOREQUEST)
 5325              		.loc 1 1383 7 view .LVU1710
1383:Drivers/SOES/Src/esc_coe.c ****       if (service == COE_SDOREQUEST)
 5326              		.loc 1 1383 17 is_stmt 0 view .LVU1711
 5327 0062 394B     		ldr	r3, .L343+8
 5328 0064 DB88     		ldrh	r3, [r3, #6]	@ unaligned
1383:Drivers/SOES/Src/esc_coe.c ****       if (service == COE_SDOREQUEST)
 5329              		.loc 1 1383 15 view .LVU1712
 5330 0066 1B0B     		lsrs	r3, r3, #12
 5331              	.LVL544:
1384:Drivers/SOES/Src/esc_coe.c ****       {
 5332              		.loc 1 1384 7 is_stmt 1 view .LVU1713
1384:Drivers/SOES/Src/esc_coe.c ****       {
 5333              		.loc 1 1384 10 is_stmt 0 view .LVU1714
 5334 0068 022B     		cmp	r3, #2
 5335 006a 11D0     		beq	.L336
1427:Drivers/SOES/Src/esc_coe.c ****                && (coeobjdesc->infoheader.opcode == 0x01))
 5336              		.loc 1 1427 10 is_stmt 1 view .LVU1715
1427:Drivers/SOES/Src/esc_coe.c ****                && (coeobjdesc->infoheader.opcode == 0x01))
 5337              		.loc 1 1427 13 is_stmt 0 view .LVU1716
 5338 006c 082B     		cmp	r3, #8
 5339 006e 42D0     		beq	.L337
 5340              	.L326:
1435:Drivers/SOES/Src/esc_coe.c ****                   && (coeobjdesc->infoheader.opcode == 0x03))
 5341              		.loc 1 1435 13 is_stmt 1 view .LVU1717
1435:Drivers/SOES/Src/esc_coe.c ****                   && (coeobjdesc->infoheader.opcode == 0x03))
 5342              		.loc 1 1435 16 is_stmt 0 view .LVU1718
 5343 0070 082B     		cmp	r3, #8
 5344 0072 49D0     		beq	.L338
 5345              	.L327:
1443:Drivers/SOES/Src/esc_coe.c ****                      && (coeobjdesc->infoheader.opcode == 0x05))
 5346              		.loc 1 1443 16 is_stmt 1 view .LVU1719
1443:Drivers/SOES/Src/esc_coe.c ****                      && (coeobjdesc->infoheader.opcode == 0x05))
 5347              		.loc 1 1443 19 is_stmt 0 view .LVU1720
 5348 0074 082B     		cmp	r3, #8
 5349 0076 50D0     		beq	.L339
 5350              	.L328:
1451:Drivers/SOES/Src/esc_coe.c ****                   {
ARM GAS  /tmp/ccpADs8h.s 			page 151


 5351              		.loc 1 1451 19 is_stmt 1 view .LVU1721
1453:Drivers/SOES/Src/esc_coe.c ****                      {
 5352              		.loc 1 1453 22 view .LVU1722
1453:Drivers/SOES/Src/esc_coe.c ****                      {
 5353              		.loc 1 1453 25 is_stmt 0 view .LVU1723
 5354 0078 002B     		cmp	r3, #0
 5355 007a 57D1     		bne	.L329
1455:Drivers/SOES/Src/esc_coe.c ****                      }
 5356              		.loc 1 1455 25 is_stmt 1 view .LVU1724
 5357 007c 0520     		movs	r0, #5
 5358 007e FFF7FEFF 		bl	MBX_error
 5359              	.LVL545:
 5360              	.L330:
1461:Drivers/SOES/Src/esc_coe.c ****                      ESCvar.xoe = 0;
 5361              		.loc 1 1461 22 view .LVU1725
1461:Drivers/SOES/Src/esc_coe.c ****                      ESCvar.xoe = 0;
 5362              		.loc 1 1461 42 is_stmt 0 view .LVU1726
 5363 0082 0023     		movs	r3, #0
 5364 0084 2F4A     		ldr	r2, .L343+4
 5365 0086 1370     		strb	r3, [r2]
1462:Drivers/SOES/Src/esc_coe.c ****                   }
 5366              		.loc 1 1462 22 is_stmt 1 view .LVU1727
1462:Drivers/SOES/Src/esc_coe.c ****                   }
 5367              		.loc 1 1462 33 is_stmt 0 view .LVU1728
 5368 0088 2D4A     		ldr	r2, .L343
 5369 008a 82F88A30 		strb	r3, [r2, #138]
 5370 008e D1E7     		b	.L315
 5371              	.LVL546:
 5372              	.L336:
1386:Drivers/SOES/Src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE))
 5373              		.loc 1 1386 10 is_stmt 1 view .LVU1729
1386:Drivers/SOES/Src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE))
 5374              		.loc 1 1386 15 is_stmt 0 view .LVU1730
 5375 0090 2D4B     		ldr	r3, .L343+8
 5376              	.LVL547:
1386:Drivers/SOES/Src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE))
 5377              		.loc 1 1386 15 view .LVU1731
 5378 0092 1A7A     		ldrb	r2, [r3, #8]	@ zero_extendqisi2
 5379 0094 02F0E003 		and	r3, r2, #224
 5380              	.LVL548:
1386:Drivers/SOES/Src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE))
 5381              		.loc 1 1386 13 view .LVU1732
 5382 0098 402B     		cmp	r3, #64
 5383 009a 0AD0     		beq	.L340
 5384              	.L321:
1399:Drivers/SOES/Src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE)
 5385              		.loc 1 1399 15 is_stmt 1 view .LVU1733
1399:Drivers/SOES/Src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE)
 5386              		.loc 1 1399 18 is_stmt 0 view .LVU1734
 5387 009c 02F0EF01 		and	r1, r2, #239
 5388 00a0 6029     		cmp	r1, #96
 5389 00a2 13D0     		beq	.L341
 5390              	.L323:
1406:Drivers/SOES/Src/esc_coe.c ****          {
 5391              		.loc 1 1406 15 is_stmt 1 view .LVU1735
1406:Drivers/SOES/Src/esc_coe.c ****          {
 5392              		.loc 1 1406 18 is_stmt 0 view .LVU1736
ARM GAS  /tmp/ccpADs8h.s 			page 152


 5393 00a4 202B     		cmp	r3, #32
 5394 00a6 1DD0     		beq	.L342
1418:Drivers/SOES/Src/esc_coe.c ****          {
 5395              		.loc 1 1418 15 is_stmt 1 view .LVU1737
1418:Drivers/SOES/Src/esc_coe.c ****          {
 5396              		.loc 1 1418 18 is_stmt 0 view .LVU1738
 5397 00a8 002B     		cmp	r3, #0
 5398 00aa C3D1     		bne	.L315
1421:Drivers/SOES/Src/esc_coe.c ****          }
 5399              		.loc 1 1421 13 is_stmt 1 view .LVU1739
 5400 00ac FFF7FEFF 		bl	SDO_downloadsegment
 5401              	.LVL549:
1421:Drivers/SOES/Src/esc_coe.c ****          }
 5402              		.loc 1 1421 13 is_stmt 0 view .LVU1740
 5403 00b0 C0E7     		b	.L315
 5404              	.LVL550:
 5405              	.L340:
1387:Drivers/SOES/Src/esc_coe.c ****          {
 5406              		.loc 1 1387 20 view .LVU1741
 5407 00b2 2549     		ldr	r1, .L343+8
 5408              	.LVL551:
1387:Drivers/SOES/Src/esc_coe.c ****          {
 5409              		.loc 1 1387 20 view .LVU1742
 5410 00b4 0988     		ldrh	r1, [r1]	@ unaligned
 5411              	.LVL552:
1387:Drivers/SOES/Src/esc_coe.c ****          {
 5412              		.loc 1 1387 16 view .LVU1743
 5413 00b6 0A29     		cmp	r1, #10
 5414 00b8 F0D1     		bne	.L321
1390:Drivers/SOES/Src/esc_coe.c ****             {
 5415              		.loc 1 1390 13 is_stmt 1 view .LVU1744
1390:Drivers/SOES/Src/esc_coe.c ****             {
 5416              		.loc 1 1390 16 is_stmt 0 view .LVU1745
 5417 00ba 12F0100F 		tst	r2, #16
 5418 00be 02D0     		beq	.L322
1392:Drivers/SOES/Src/esc_coe.c ****             }
 5419              		.loc 1 1392 16 is_stmt 1 view .LVU1746
 5420 00c0 FFF7FEFF 		bl	SDO_upload_complete_access
 5421              	.LVL553:
1392:Drivers/SOES/Src/esc_coe.c ****             }
 5422              		.loc 1 1392 16 is_stmt 0 view .LVU1747
 5423 00c4 B6E7     		b	.L315
 5424              	.LVL554:
 5425              	.L322:
1396:Drivers/SOES/Src/esc_coe.c ****             }
 5426              		.loc 1 1396 16 is_stmt 1 view .LVU1748
 5427 00c6 FFF7FEFF 		bl	SDO_upload
 5428              	.LVL555:
1396:Drivers/SOES/Src/esc_coe.c ****             }
 5429              		.loc 1 1396 16 is_stmt 0 view .LVU1749
 5430 00ca B3E7     		b	.L315
 5431              	.LVL556:
 5432              	.L341:
1400:Drivers/SOES/Src/esc_coe.c ****                && (ESCvar.segmented == MBXSEU))
 5433              		.loc 1 1400 20 view .LVU1750
 5434 00cc 1E49     		ldr	r1, .L343+8
 5435              	.LVL557:
ARM GAS  /tmp/ccpADs8h.s 			page 153


1400:Drivers/SOES/Src/esc_coe.c ****                && (ESCvar.segmented == MBXSEU))
 5436              		.loc 1 1400 20 view .LVU1751
 5437 00ce 0988     		ldrh	r1, [r1]	@ unaligned
 5438              	.LVL558:
1400:Drivers/SOES/Src/esc_coe.c ****                && (ESCvar.segmented == MBXSEU))
 5439              		.loc 1 1400 16 view .LVU1752
 5440 00d0 0A29     		cmp	r1, #10
 5441 00d2 E7D1     		bne	.L323
1401:Drivers/SOES/Src/esc_coe.c ****          {
 5442              		.loc 1 1401 26 view .LVU1753
 5443 00d4 1A49     		ldr	r1, .L343
 5444 00d6 91F88D10 		ldrb	r1, [r1, #141]	@ zero_extendqisi2
1401:Drivers/SOES/Src/esc_coe.c ****          {
 5445              		.loc 1 1401 16 view .LVU1754
 5446 00da 4029     		cmp	r1, #64
 5447 00dc E2D1     		bne	.L323
1404:Drivers/SOES/Src/esc_coe.c ****          }
 5448              		.loc 1 1404 13 is_stmt 1 view .LVU1755
 5449 00de FFF7FEFF 		bl	SDO_uploadsegment
 5450              	.LVL559:
1404:Drivers/SOES/Src/esc_coe.c ****          }
 5451              		.loc 1 1404 13 is_stmt 0 view .LVU1756
 5452 00e2 A7E7     		b	.L315
 5453              	.LVL560:
 5454              	.L342:
1409:Drivers/SOES/Src/esc_coe.c ****             {
 5455              		.loc 1 1409 13 is_stmt 1 view .LVU1757
1409:Drivers/SOES/Src/esc_coe.c ****             {
 5456              		.loc 1 1409 16 is_stmt 0 view .LVU1758
 5457 00e4 12F0100F 		tst	r2, #16
 5458 00e8 02D0     		beq	.L325
1411:Drivers/SOES/Src/esc_coe.c ****             }
 5459              		.loc 1 1411 16 is_stmt 1 view .LVU1759
 5460 00ea FFF7FEFF 		bl	SDO_download_complete_access
 5461              	.LVL561:
1411:Drivers/SOES/Src/esc_coe.c ****             }
 5462              		.loc 1 1411 16 is_stmt 0 view .LVU1760
 5463 00ee A1E7     		b	.L315
 5464              	.LVL562:
 5465              	.L325:
1415:Drivers/SOES/Src/esc_coe.c ****             }
 5466              		.loc 1 1415 16 is_stmt 1 view .LVU1761
 5467 00f0 FFF7FEFF 		bl	SDO_download
 5468              	.LVL563:
1415:Drivers/SOES/Src/esc_coe.c ****             }
 5469              		.loc 1 1415 16 is_stmt 0 view .LVU1762
 5470 00f4 9EE7     		b	.L315
 5471              	.LVL564:
 5472              	.L337:
1428:Drivers/SOES/Src/esc_coe.c ****          {
 5473              		.loc 1 1428 50 view .LVU1763
 5474 00f6 144A     		ldr	r2, .L343+8
 5475 00f8 127A     		ldrb	r2, [r2, #8]	@ zero_extendqisi2
 5476 00fa 02F07F02 		and	r2, r2, #127
1428:Drivers/SOES/Src/esc_coe.c ****          {
 5477              		.loc 1 1428 16 view .LVU1764
 5478 00fe 012A     		cmp	r2, #1
ARM GAS  /tmp/ccpADs8h.s 			page 154


 5479 0100 B6D1     		bne	.L326
1430:Drivers/SOES/Src/esc_coe.c ****          }
 5480              		.loc 1 1430 13 is_stmt 1 view .LVU1765
 5481 0102 FFF7FEFF 		bl	SDO_getodlist
 5482              	.LVL565:
1430:Drivers/SOES/Src/esc_coe.c ****          }
 5483              		.loc 1 1430 13 is_stmt 0 view .LVU1766
 5484 0106 95E7     		b	.L315
 5485              	.LVL566:
 5486              	.L338:
1436:Drivers/SOES/Src/esc_coe.c ****             {
 5487              		.loc 1 1436 53 view .LVU1767
 5488 0108 0F4A     		ldr	r2, .L343+8
 5489 010a 127A     		ldrb	r2, [r2, #8]	@ zero_extendqisi2
 5490 010c 02F07F02 		and	r2, r2, #127
1436:Drivers/SOES/Src/esc_coe.c ****             {
 5491              		.loc 1 1436 19 view .LVU1768
 5492 0110 032A     		cmp	r2, #3
 5493 0112 AFD1     		bne	.L327
1438:Drivers/SOES/Src/esc_coe.c ****             }
 5494              		.loc 1 1438 16 is_stmt 1 view .LVU1769
 5495 0114 FFF7FEFF 		bl	SDO_getod
 5496              	.LVL567:
1438:Drivers/SOES/Src/esc_coe.c ****             }
 5497              		.loc 1 1438 16 is_stmt 0 view .LVU1770
 5498 0118 8CE7     		b	.L315
 5499              	.LVL568:
 5500              	.L339:
1444:Drivers/SOES/Src/esc_coe.c ****                {
 5501              		.loc 1 1444 56 view .LVU1771
 5502 011a 0B4A     		ldr	r2, .L343+8
 5503 011c 127A     		ldrb	r2, [r2, #8]	@ zero_extendqisi2
 5504 011e 02F07F02 		and	r2, r2, #127
1444:Drivers/SOES/Src/esc_coe.c ****                {
 5505              		.loc 1 1444 22 view .LVU1772
 5506 0122 052A     		cmp	r2, #5
 5507 0124 A8D1     		bne	.L328
1446:Drivers/SOES/Src/esc_coe.c ****                }
 5508              		.loc 1 1446 19 is_stmt 1 view .LVU1773
 5509 0126 FFF7FEFF 		bl	SDO_geted
 5510              	.LVL569:
1446:Drivers/SOES/Src/esc_coe.c ****                }
 5511              		.loc 1 1446 19 is_stmt 0 view .LVU1774
 5512 012a 83E7     		b	.L315
 5513              	.LVL570:
 5514              	.L329:
1459:Drivers/SOES/Src/esc_coe.c ****                      }
 5515              		.loc 1 1459 25 is_stmt 1 view .LVU1775
 5516 012c 0649     		ldr	r1, .L343+8
 5517 012e 074B     		ldr	r3, .L343+12
 5518              	.LVL571:
1459:Drivers/SOES/Src/esc_coe.c ****                      }
 5519              		.loc 1 1459 25 is_stmt 0 view .LVU1776
 5520 0130 CA7A     		ldrb	r2, [r1, #11]	@ zero_extendqisi2
 5521 0132 B1F80910 		ldrh	r1, [r1, #9]	@ unaligned
 5522              	.LVL572:
1459:Drivers/SOES/Src/esc_coe.c ****                      }
ARM GAS  /tmp/ccpADs8h.s 			page 155


 5523              		.loc 1 1459 25 view .LVU1777
 5524 0136 0020     		movs	r0, #0
 5525 0138 FFF7FEFF 		bl	SDO_abort
 5526              	.LVL573:
1459:Drivers/SOES/Src/esc_coe.c ****                      }
 5527              		.loc 1 1459 25 view .LVU1778
 5528 013c A1E7     		b	.L330
 5529              	.L344:
 5530 013e 00BF     		.align	2
 5531              	.L343:
 5532 0140 00000000 		.word	ESCvar
 5533 0144 00000000 		.word	MBXcontrol
 5534 0148 00000000 		.word	MBX
 5535 014c 00000106 		.word	100728832
 5536              		.cfi_endproc
 5537              	.LFE20:
 5539              		.section	.text.COE_initDefaultValues,"ax",%progbits
 5540              		.align	1
 5541              		.global	COE_initDefaultValues
 5542              		.syntax unified
 5543              		.thumb
 5544              		.thumb_func
 5546              	COE_initDefaultValues:
 5547              	.LFB25:
1650:Drivers/SOES/Src/esc_coe.c **** 
1651:Drivers/SOES/Src/esc_coe.c **** /**
1652:Drivers/SOES/Src/esc_coe.c ****  * Init default values for SDO objects
1653:Drivers/SOES/Src/esc_coe.c ****  */
1654:Drivers/SOES/Src/esc_coe.c **** void COE_initDefaultValues (void)
1655:Drivers/SOES/Src/esc_coe.c **** {
 5548              		.loc 1 1655 1 is_stmt 1 view -0
 5549              		.cfi_startproc
 5550              		@ args = 0, pretend = 0, frame = 0
 5551              		@ frame_needed = 0, uses_anonymous_args = 0
1656:Drivers/SOES/Src/esc_coe.c ****    int i;
 5552              		.loc 1 1656 4 view .LVU1780
1657:Drivers/SOES/Src/esc_coe.c ****    const _objd *objd;
 5553              		.loc 1 1657 4 view .LVU1781
1658:Drivers/SOES/Src/esc_coe.c ****    int n;
 5554              		.loc 1 1658 4 view .LVU1782
1659:Drivers/SOES/Src/esc_coe.c ****    uint8_t maxsub;
 5555              		.loc 1 1659 4 view .LVU1783
1660:Drivers/SOES/Src/esc_coe.c **** 
1661:Drivers/SOES/Src/esc_coe.c ****    /* Let application decide if initialization will be skipped */
1662:Drivers/SOES/Src/esc_coe.c ****    if (ESCvar.skip_default_initialization)
 5556              		.loc 1 1662 4 view .LVU1784
 5557              		.loc 1 1662 14 is_stmt 0 view .LVU1785
 5558 0000 1A4B     		ldr	r3, .L358
 5559 0002 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
 5560              		.loc 1 1662 7 view .LVU1786
 5561 0006 83BB     		cbnz	r3, .L352
1655:Drivers/SOES/Src/esc_coe.c ****    int i;
 5562              		.loc 1 1655 1 view .LVU1787
 5563 0008 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 5564              		.cfi_def_cfa_offset 24
 5565              		.cfi_offset 4, -24
 5566              		.cfi_offset 5, -20
ARM GAS  /tmp/ccpADs8h.s 			page 156


 5567              		.cfi_offset 6, -16
 5568              		.cfi_offset 7, -12
 5569              		.cfi_offset 8, -8
 5570              		.cfi_offset 14, -4
1663:Drivers/SOES/Src/esc_coe.c ****    {
1664:Drivers/SOES/Src/esc_coe.c ****       return;
1665:Drivers/SOES/Src/esc_coe.c ****    }
1666:Drivers/SOES/Src/esc_coe.c **** 
1667:Drivers/SOES/Src/esc_coe.c ****    /* Set default values from object descriptor */
1668:Drivers/SOES/Src/esc_coe.c ****    for (n = 0; SDOobjects[n].index != 0xffff; n++)
 5571              		.loc 1 1668 11 view .LVU1788
 5572 000c 4FF00008 		mov	r8, #0
 5573 0010 12E0     		b	.L347
 5574              	.LVL574:
 5575              	.L356:
1669:Drivers/SOES/Src/esc_coe.c ****    {
1670:Drivers/SOES/Src/esc_coe.c ****       objd = SDOobjects[n].objdesc;
1671:Drivers/SOES/Src/esc_coe.c ****       maxsub = SDOobjects[n].maxsub;
1672:Drivers/SOES/Src/esc_coe.c **** 
1673:Drivers/SOES/Src/esc_coe.c ****       i = 0;
1674:Drivers/SOES/Src/esc_coe.c ****       do
1675:Drivers/SOES/Src/esc_coe.c ****       {
1676:Drivers/SOES/Src/esc_coe.c ****          if (objd[i].data != NULL)
1677:Drivers/SOES/Src/esc_coe.c ****          {
1678:Drivers/SOES/Src/esc_coe.c ****             COE_setValue (&objd[i], objd[i].value);
 5576              		.loc 1 1678 13 is_stmt 1 view .LVU1789
 5577 0012 C268     		ldr	r2, [r0, #12]	@ unaligned
 5578 0014 0023     		movs	r3, #0
 5579 0016 FFF7FEFF 		bl	COE_setValue
 5580              	.LVL575:
 5581              	.L348:
1679:Drivers/SOES/Src/esc_coe.c ****             DPRINT ("%04x:%02x = %x\n", SDOobjects[n].index, objd[i].subindex, objd[i].value);
 5582              		.loc 1 1679 94 view .LVU1790
1680:Drivers/SOES/Src/esc_coe.c ****          }
1681:Drivers/SOES/Src/esc_coe.c ****       } while (objd[i++].subindex < maxsub);
 5583              		.loc 1 1681 15 view .LVU1791
 5584              		.loc 1 1681 22 is_stmt 0 view .LVU1792
 5585 001a 0134     		adds	r4, r4, #1
 5586              	.LVL576:
 5587              		.loc 1 1681 25 view .LVU1793
 5588 001c 725B     		ldrh	r2, [r6, r5]	@ unaligned
 5589              		.loc 1 1681 35 view .LVU1794
 5590 001e BBB2     		uxth	r3, r7
 5591              		.loc 1 1681 7 view .LVU1795
 5592 0020 9A42     		cmp	r2, r3
 5593 0022 07D2     		bcs	.L355
 5594              	.LVL577:
 5595              	.L349:
1674:Drivers/SOES/Src/esc_coe.c ****       {
 5596              		.loc 1 1674 7 is_stmt 1 view .LVU1796
1676:Drivers/SOES/Src/esc_coe.c ****          {
 5597              		.loc 1 1676 10 view .LVU1797
1676:Drivers/SOES/Src/esc_coe.c ****          {
 5598              		.loc 1 1676 18 is_stmt 0 view .LVU1798
 5599 0024 04EB8403 		add	r3, r4, r4, lsl #2
 5600 0028 9D00     		lsls	r5, r3, #2
 5601 002a 7019     		adds	r0, r6, r5
ARM GAS  /tmp/ccpADs8h.s 			page 157


1676:Drivers/SOES/Src/esc_coe.c ****          {
 5602              		.loc 1 1676 21 view .LVU1799
 5603 002c 0369     		ldr	r3, [r0, #16]	@ unaligned
1676:Drivers/SOES/Src/esc_coe.c ****          {
 5604              		.loc 1 1676 13 view .LVU1800
 5605 002e 002B     		cmp	r3, #0
 5606 0030 EFD1     		bne	.L356
1676:Drivers/SOES/Src/esc_coe.c ****          {
 5607              		.loc 1 1676 13 view .LVU1801
 5608 0032 F2E7     		b	.L348
 5609              	.L355:
1668:Drivers/SOES/Src/esc_coe.c ****    {
 5610              		.loc 1 1668 47 is_stmt 1 discriminator 2 view .LVU1802
1668:Drivers/SOES/Src/esc_coe.c ****    {
 5611              		.loc 1 1668 48 is_stmt 0 discriminator 2 view .LVU1803
 5612 0034 08F10108 		add	r8, r8, #1
 5613              	.LVL578:
 5614              	.L347:
1668:Drivers/SOES/Src/esc_coe.c ****    {
 5615              		.loc 1 1668 16 is_stmt 1 discriminator 1 view .LVU1804
1668:Drivers/SOES/Src/esc_coe.c ****    {
 5616              		.loc 1 1668 29 is_stmt 0 discriminator 1 view .LVU1805
 5617 0038 C8EBC802 		rsb	r2, r8, r8, lsl #3
 5618 003c 5300     		lsls	r3, r2, #1
 5619 003e 0C4A     		ldr	r2, .L358+4
 5620 0040 D25A     		ldrh	r2, [r2, r3]	@ unaligned
1668:Drivers/SOES/Src/esc_coe.c ****    {
 5621              		.loc 1 1668 4 discriminator 1 view .LVU1806
 5622 0042 4FF6FF73 		movw	r3, #65535
 5623 0046 9A42     		cmp	r2, r3
 5624 0048 09D0     		beq	.L357
1670:Drivers/SOES/Src/esc_coe.c ****       maxsub = SDOobjects[n].maxsub;
 5625              		.loc 1 1670 7 is_stmt 1 view .LVU1807
1670:Drivers/SOES/Src/esc_coe.c ****       maxsub = SDOobjects[n].maxsub;
 5626              		.loc 1 1670 12 is_stmt 0 view .LVU1808
 5627 004a C8EBC803 		rsb	r3, r8, r8, lsl #3
 5628 004e 5A00     		lsls	r2, r3, #1
 5629 0050 074B     		ldr	r3, .L358+4
 5630 0052 1344     		add	r3, r3, r2
 5631 0054 D3F80A60 		ldr	r6, [r3, #10]	@ unaligned
 5632              	.LVL579:
1671:Drivers/SOES/Src/esc_coe.c **** 
 5633              		.loc 1 1671 7 is_stmt 1 view .LVU1809
1671:Drivers/SOES/Src/esc_coe.c **** 
 5634              		.loc 1 1671 14 is_stmt 0 view .LVU1810
 5635 0058 1F79     		ldrb	r7, [r3, #4]	@ zero_extendqisi2
 5636              	.LVL580:
1673:Drivers/SOES/Src/esc_coe.c ****       do
 5637              		.loc 1 1673 7 is_stmt 1 view .LVU1811
1673:Drivers/SOES/Src/esc_coe.c ****       do
 5638              		.loc 1 1673 9 is_stmt 0 view .LVU1812
 5639 005a 0024     		movs	r4, #0
 5640 005c E2E7     		b	.L349
 5641              	.LVL581:
 5642              	.L357:
1682:Drivers/SOES/Src/esc_coe.c ****    }
1683:Drivers/SOES/Src/esc_coe.c **** 
ARM GAS  /tmp/ccpADs8h.s 			page 158


1684:Drivers/SOES/Src/esc_coe.c ****    /* Let application override default values */
1685:Drivers/SOES/Src/esc_coe.c ****    if (ESCvar.set_defaults_hook != NULL)
 5643              		.loc 1 1685 4 is_stmt 1 view .LVU1813
 5644              		.loc 1 1685 14 is_stmt 0 view .LVU1814
 5645 005e 034B     		ldr	r3, .L358
 5646 0060 9B6A     		ldr	r3, [r3, #40]
 5647              		.loc 1 1685 7 view .LVU1815
 5648 0062 03B1     		cbz	r3, .L345
1686:Drivers/SOES/Src/esc_coe.c ****    {
1687:Drivers/SOES/Src/esc_coe.c ****       ESCvar.set_defaults_hook();
 5649              		.loc 1 1687 7 is_stmt 1 view .LVU1816
 5650 0064 9847     		blx	r3
 5651              	.LVL582:
 5652              	.L345:
1688:Drivers/SOES/Src/esc_coe.c ****    }
1689:Drivers/SOES/Src/esc_coe.c **** }
 5653              		.loc 1 1689 1 is_stmt 0 view .LVU1817
 5654 0066 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 5655              	.LVL583:
 5656              	.L352:
 5657              		.cfi_def_cfa_offset 0
 5658              		.cfi_restore 4
 5659              		.cfi_restore 5
 5660              		.cfi_restore 6
 5661              		.cfi_restore 7
 5662              		.cfi_restore 8
 5663              		.cfi_restore 14
 5664              		.loc 1 1689 1 view .LVU1818
 5665 006a 7047     		bx	lr
 5666              	.L359:
 5667              		.align	2
 5668              	.L358:
 5669 006c 00000000 		.word	ESCvar
 5670 0070 00000000 		.word	SDOobjects
 5671              		.cfi_endproc
 5672              	.LFE25:
 5674              		.section	.rodata.COE_pdoPack.str1.4,"aMS",%progbits,1
 5675              		.align	2
 5676              	.LC2:
 5677 0000 28287569 		.ascii	"((uintptr_t)buffer & 0x07) == 0\000"
 5677      6E747074 
 5677      725F7429 
 5677      62756666 
 5677      65722026 
 5678              		.section	.text.COE_pdoPack,"ax",%progbits
 5679              		.align	1
 5680              		.global	COE_pdoPack
 5681              		.syntax unified
 5682              		.thumb
 5683              		.thumb_func
 5685              	COE_pdoPack:
 5686              	.LVL584:
 5687              	.LFB26:
1690:Drivers/SOES/Src/esc_coe.c **** 
1691:Drivers/SOES/Src/esc_coe.c **** /**
1692:Drivers/SOES/Src/esc_coe.c ****  * Pack process data
1693:Drivers/SOES/Src/esc_coe.c ****  *
ARM GAS  /tmp/ccpADs8h.s 			page 159


1694:Drivers/SOES/Src/esc_coe.c ****  * This function reads mapped objects and constructs the process data
1695:Drivers/SOES/Src/esc_coe.c ****  * inputs (TXPDO).
1696:Drivers/SOES/Src/esc_coe.c ****  *
1697:Drivers/SOES/Src/esc_coe.c ****  * @param[in] buffer     = input process data
1698:Drivers/SOES/Src/esc_coe.c ****  * @param[in] nmappings  = number of mappings in sync manager
1699:Drivers/SOES/Src/esc_coe.c ****  * @param[in] mappings   = list of mapped objects in sync manager
1700:Drivers/SOES/Src/esc_coe.c ****  */
1701:Drivers/SOES/Src/esc_coe.c **** void COE_pdoPack (uint8_t * buffer, int nmappings, _SMmap * mappings)
1702:Drivers/SOES/Src/esc_coe.c **** {
 5688              		.loc 1 1702 1 is_stmt 1 view -0
 5689              		.cfi_startproc
 5690              		@ args = 0, pretend = 0, frame = 0
 5691              		@ frame_needed = 0, uses_anonymous_args = 0
 5692              		.loc 1 1702 1 is_stmt 0 view .LVU1820
 5693 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 5694              		.cfi_def_cfa_offset 28
 5695              		.cfi_offset 4, -28
 5696              		.cfi_offset 5, -24
 5697              		.cfi_offset 6, -20
 5698              		.cfi_offset 7, -16
 5699              		.cfi_offset 8, -12
 5700              		.cfi_offset 9, -8
 5701              		.cfi_offset 14, -4
 5702 0004 83B0     		sub	sp, sp, #12
 5703              		.cfi_def_cfa_offset 40
1703:Drivers/SOES/Src/esc_coe.c ****    int ix;
 5704              		.loc 1 1703 4 is_stmt 1 view .LVU1821
1704:Drivers/SOES/Src/esc_coe.c **** 
1705:Drivers/SOES/Src/esc_coe.c ****    /* Check that buffer is aligned on 64-bit boundary */
1706:Drivers/SOES/Src/esc_coe.c ****    CC_ASSERT (((uintptr_t)buffer & 0x07) == 0);
 5705              		.loc 1 1706 4 view .LVU1822
 5706 0006 10F0070F 		tst	r0, #7
 5707 000a 04D1     		bne	.L367
 5708 000c 8046     		mov	r8, r0
 5709 000e 0F46     		mov	r7, r1
 5710 0010 1646     		mov	r6, r2
1707:Drivers/SOES/Src/esc_coe.c **** 
1708:Drivers/SOES/Src/esc_coe.c ****    for (ix = 0; ix < nmappings; ix++)
 5711              		.loc 1 1708 12 is_stmt 0 view .LVU1823
 5712 0012 0024     		movs	r4, #0
 5713 0014 10E0     		b	.L361
 5714              	.L367:
1706:Drivers/SOES/Src/esc_coe.c **** 
 5715              		.loc 1 1706 4 discriminator 1 view .LVU1824
 5716 0016 154B     		ldr	r3, .L369
 5717 0018 154A     		ldr	r2, .L369+4
 5718              	.LVL585:
1706:Drivers/SOES/Src/esc_coe.c **** 
 5719              		.loc 1 1706 4 discriminator 1 view .LVU1825
 5720 001a 40F2AA61 		movw	r1, #1706
 5721              	.LVL586:
1706:Drivers/SOES/Src/esc_coe.c **** 
 5722              		.loc 1 1706 4 discriminator 1 view .LVU1826
 5723 001e 1548     		ldr	r0, .L369+8
 5724              	.LVL587:
1706:Drivers/SOES/Src/esc_coe.c **** 
 5725              		.loc 1 1706 4 discriminator 1 view .LVU1827
ARM GAS  /tmp/ccpADs8h.s 			page 160


 5726 0020 FFF7FEFF 		bl	__assert_func
 5727              	.LVL588:
 5728              	.L363:
 5729              	.LBB32:
 5730              	.LBB33:
1709:Drivers/SOES/Src/esc_coe.c ****    {
1710:Drivers/SOES/Src/esc_coe.c ****       const _objd * obj = mappings[ix].obj;
1711:Drivers/SOES/Src/esc_coe.c ****       uint16_t offset = mappings[ix].offset;
1712:Drivers/SOES/Src/esc_coe.c **** 
1713:Drivers/SOES/Src/esc_coe.c ****       if (obj != NULL)
1714:Drivers/SOES/Src/esc_coe.c ****       {
1715:Drivers/SOES/Src/esc_coe.c ****          if (obj->bitlength > 64)
1716:Drivers/SOES/Src/esc_coe.c ****          {
1717:Drivers/SOES/Src/esc_coe.c ****             memcpy (
1718:Drivers/SOES/Src/esc_coe.c ****                &buffer[BITS2BYTES (offset)],
1719:Drivers/SOES/Src/esc_coe.c ****                obj->data,
1720:Drivers/SOES/Src/esc_coe.c ****                BITS2BYTES (obj->bitlength)
1721:Drivers/SOES/Src/esc_coe.c ****             );
1722:Drivers/SOES/Src/esc_coe.c ****          }
1723:Drivers/SOES/Src/esc_coe.c ****          else
1724:Drivers/SOES/Src/esc_coe.c ****          {
1725:Drivers/SOES/Src/esc_coe.c ****             /* Atomically get object value */
1726:Drivers/SOES/Src/esc_coe.c ****             uint64_t value = COE_getValue (obj);
 5731              		.loc 1 1726 13 is_stmt 1 view .LVU1828
 5732              		.loc 1 1726 30 is_stmt 0 view .LVU1829
 5733 0024 FFF7FEFF 		bl	COE_getValue
 5734              	.LVL589:
1727:Drivers/SOES/Src/esc_coe.c ****             COE_bitsliceSet (
 5735              		.loc 1 1727 13 is_stmt 1 view .LVU1830
 5736 0028 CDE90001 		strd	r0, [sp]
 5737 002c 2A46     		mov	r2, r5
 5738 002e 4946     		mov	r1, r9
 5739 0030 4046     		mov	r0, r8
 5740              	.LVL590:
 5741              		.loc 1 1727 13 is_stmt 0 view .LVU1831
 5742 0032 FFF7FEFF 		bl	COE_bitsliceSet
 5743              	.LVL591:
 5744              	.L362:
 5745              		.loc 1 1727 13 view .LVU1832
 5746              	.LBE33:
 5747              	.LBE32:
1708:Drivers/SOES/Src/esc_coe.c ****    {
 5748              		.loc 1 1708 33 is_stmt 1 discriminator 2 view .LVU1833
1708:Drivers/SOES/Src/esc_coe.c ****    {
 5749              		.loc 1 1708 35 is_stmt 0 discriminator 2 view .LVU1834
 5750 0036 0134     		adds	r4, r4, #1
 5751              	.LVL592:
 5752              	.L361:
1708:Drivers/SOES/Src/esc_coe.c ****    {
 5753              		.loc 1 1708 17 is_stmt 1 discriminator 1 view .LVU1835
1708:Drivers/SOES/Src/esc_coe.c ****    {
 5754              		.loc 1 1708 4 is_stmt 0 discriminator 1 view .LVU1836
 5755 0038 BC42     		cmp	r4, r7
 5756 003a 14DA     		bge	.L368
 5757              	.LBB34:
1710:Drivers/SOES/Src/esc_coe.c ****       uint16_t offset = mappings[ix].offset;
 5758              		.loc 1 1710 7 is_stmt 1 view .LVU1837
ARM GAS  /tmp/ccpADs8h.s 			page 161


1710:Drivers/SOES/Src/esc_coe.c ****       uint16_t offset = mappings[ix].offset;
 5759              		.loc 1 1710 35 is_stmt 0 view .LVU1838
 5760 003c 06EBC403 		add	r3, r6, r4, lsl #3
1710:Drivers/SOES/Src/esc_coe.c ****       uint16_t offset = mappings[ix].offset;
 5761              		.loc 1 1710 21 view .LVU1839
 5762 0040 56F83400 		ldr	r0, [r6, r4, lsl #3]
 5763              	.LVL593:
1711:Drivers/SOES/Src/esc_coe.c **** 
 5764              		.loc 1 1711 7 is_stmt 1 view .LVU1840
1711:Drivers/SOES/Src/esc_coe.c **** 
 5765              		.loc 1 1711 16 is_stmt 0 view .LVU1841
 5766 0044 B3F80490 		ldrh	r9, [r3, #4]
 5767              	.LVL594:
1713:Drivers/SOES/Src/esc_coe.c ****       {
 5768              		.loc 1 1713 7 is_stmt 1 view .LVU1842
1713:Drivers/SOES/Src/esc_coe.c ****       {
 5769              		.loc 1 1713 10 is_stmt 0 view .LVU1843
 5770 0048 0028     		cmp	r0, #0
 5771 004a F4D0     		beq	.L362
1715:Drivers/SOES/Src/esc_coe.c ****          {
 5772              		.loc 1 1715 10 is_stmt 1 view .LVU1844
1715:Drivers/SOES/Src/esc_coe.c ****          {
 5773              		.loc 1 1715 17 is_stmt 0 view .LVU1845
 5774 004c 8588     		ldrh	r5, [r0, #4]	@ unaligned
1715:Drivers/SOES/Src/esc_coe.c ****          {
 5775              		.loc 1 1715 13 view .LVU1846
 5776 004e 402D     		cmp	r5, #64
 5777 0050 E8D9     		bls	.L363
1717:Drivers/SOES/Src/esc_coe.c ****                &buffer[BITS2BYTES (offset)],
 5778              		.loc 1 1717 13 is_stmt 1 view .LVU1847
1718:Drivers/SOES/Src/esc_coe.c ****                obj->data,
 5779              		.loc 1 1718 24 is_stmt 0 view .LVU1848
 5780 0052 09F10709 		add	r9, r9, #7
 5781              	.LVL595:
1720:Drivers/SOES/Src/esc_coe.c ****             );
 5782              		.loc 1 1720 16 view .LVU1849
 5783 0056 EA1D     		adds	r2, r5, #7
1717:Drivers/SOES/Src/esc_coe.c ****                &buffer[BITS2BYTES (offset)],
 5784              		.loc 1 1717 13 view .LVU1850
 5785 0058 D210     		asrs	r2, r2, #3
 5786 005a 0169     		ldr	r1, [r0, #16]	@ unaligned
 5787 005c 08EBE900 		add	r0, r8, r9, asr #3
 5788              	.LVL596:
1717:Drivers/SOES/Src/esc_coe.c ****                &buffer[BITS2BYTES (offset)],
 5789              		.loc 1 1717 13 view .LVU1851
 5790 0060 FFF7FEFF 		bl	memcpy
 5791              	.LVL597:
1717:Drivers/SOES/Src/esc_coe.c ****                &buffer[BITS2BYTES (offset)],
 5792              		.loc 1 1717 13 view .LVU1852
 5793 0064 E7E7     		b	.L362
 5794              	.LVL598:
 5795              	.L368:
1717:Drivers/SOES/Src/esc_coe.c ****                &buffer[BITS2BYTES (offset)],
 5796              		.loc 1 1717 13 view .LVU1853
 5797              	.LBE34:
1728:Drivers/SOES/Src/esc_coe.c ****                (uint64_t *)buffer,
1729:Drivers/SOES/Src/esc_coe.c ****                offset,
ARM GAS  /tmp/ccpADs8h.s 			page 162


1730:Drivers/SOES/Src/esc_coe.c ****                obj->bitlength,
1731:Drivers/SOES/Src/esc_coe.c ****                value
1732:Drivers/SOES/Src/esc_coe.c ****             );
1733:Drivers/SOES/Src/esc_coe.c ****          }
1734:Drivers/SOES/Src/esc_coe.c ****       }
1735:Drivers/SOES/Src/esc_coe.c ****    }
1736:Drivers/SOES/Src/esc_coe.c **** }
 5798              		.loc 1 1736 1 view .LVU1854
 5799 0066 03B0     		add	sp, sp, #12
 5800              		.cfi_def_cfa_offset 28
 5801              		@ sp needed
 5802 0068 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 5803              	.LVL599:
 5804              	.L370:
 5805              		.loc 1 1736 1 view .LVU1855
 5806              		.align	2
 5807              	.L369:
 5808 006c 00000000 		.word	.LC2
 5809 0070 00000000 		.word	.LANCHOR1
 5810 0074 04000000 		.word	.LC1
 5811              		.cfi_endproc
 5812              	.LFE26:
 5814              		.section	.text.COE_pdoUnpack,"ax",%progbits
 5815              		.align	1
 5816              		.global	COE_pdoUnpack
 5817              		.syntax unified
 5818              		.thumb
 5819              		.thumb_func
 5821              	COE_pdoUnpack:
 5822              	.LVL600:
 5823              	.LFB27:
1737:Drivers/SOES/Src/esc_coe.c **** 
1738:Drivers/SOES/Src/esc_coe.c **** /**
1739:Drivers/SOES/Src/esc_coe.c ****  * Unpack process data
1740:Drivers/SOES/Src/esc_coe.c ****  *
1741:Drivers/SOES/Src/esc_coe.c ****  * This function unpacks process data output (RXPDO) and writes to the
1742:Drivers/SOES/Src/esc_coe.c ****  * mapped objects.
1743:Drivers/SOES/Src/esc_coe.c ****  *
1744:Drivers/SOES/Src/esc_coe.c ****  * @param[in] buffer    = output process data
1745:Drivers/SOES/Src/esc_coe.c ****  * @param[in] nmappings = number of mappings in sync manager
1746:Drivers/SOES/Src/esc_coe.c ****  * @param[in] mappings  = list of mapped objects in sync manager
1747:Drivers/SOES/Src/esc_coe.c ****  */
1748:Drivers/SOES/Src/esc_coe.c **** void COE_pdoUnpack (uint8_t * buffer, int nmappings, _SMmap * mappings)
1749:Drivers/SOES/Src/esc_coe.c **** {
 5824              		.loc 1 1749 1 is_stmt 1 view -0
 5825              		.cfi_startproc
 5826              		@ args = 0, pretend = 0, frame = 0
 5827              		@ frame_needed = 0, uses_anonymous_args = 0
 5828              		.loc 1 1749 1 is_stmt 0 view .LVU1857
 5829 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 5830              		.cfi_def_cfa_offset 24
 5831              		.cfi_offset 4, -24
 5832              		.cfi_offset 5, -20
 5833              		.cfi_offset 6, -16
 5834              		.cfi_offset 7, -12
 5835              		.cfi_offset 8, -8
 5836              		.cfi_offset 14, -4
ARM GAS  /tmp/ccpADs8h.s 			page 163


1750:Drivers/SOES/Src/esc_coe.c ****    int ix;
 5837              		.loc 1 1750 4 is_stmt 1 view .LVU1858
1751:Drivers/SOES/Src/esc_coe.c **** 
1752:Drivers/SOES/Src/esc_coe.c ****    /* Check that buffer is aligned on 64-bit boundary */
1753:Drivers/SOES/Src/esc_coe.c ****    CC_ASSERT (((uintptr_t)buffer & 0x07) == 0);
 5838              		.loc 1 1753 4 view .LVU1859
 5839 0004 10F0070F 		tst	r0, #7
 5840 0008 04D1     		bne	.L378
 5841 000a 8046     		mov	r8, r0
 5842 000c 0F46     		mov	r7, r1
 5843 000e 1646     		mov	r6, r2
1754:Drivers/SOES/Src/esc_coe.c **** 
1755:Drivers/SOES/Src/esc_coe.c ****    for (ix = 0; ix < nmappings; ix++)
 5844              		.loc 1 1755 12 is_stmt 0 view .LVU1860
 5845 0010 0024     		movs	r4, #0
 5846 0012 0FE0     		b	.L372
 5847              	.L378:
1753:Drivers/SOES/Src/esc_coe.c **** 
 5848              		.loc 1 1753 4 discriminator 1 view .LVU1861
 5849 0014 134B     		ldr	r3, .L380
 5850 0016 144A     		ldr	r2, .L380+4
 5851              	.LVL601:
1753:Drivers/SOES/Src/esc_coe.c **** 
 5852              		.loc 1 1753 4 discriminator 1 view .LVU1862
 5853 0018 40F2D961 		movw	r1, #1753
 5854              	.LVL602:
1753:Drivers/SOES/Src/esc_coe.c **** 
 5855              		.loc 1 1753 4 discriminator 1 view .LVU1863
 5856 001c 1348     		ldr	r0, .L380+8
 5857              	.LVL603:
1753:Drivers/SOES/Src/esc_coe.c **** 
 5858              		.loc 1 1753 4 discriminator 1 view .LVU1864
 5859 001e FFF7FEFF 		bl	__assert_func
 5860              	.LVL604:
 5861              	.L374:
 5862              	.LBB35:
 5863              	.LBB36:
1756:Drivers/SOES/Src/esc_coe.c ****    {
1757:Drivers/SOES/Src/esc_coe.c ****       const _objd * obj = mappings[ix].obj;
1758:Drivers/SOES/Src/esc_coe.c ****       uint16_t offset = mappings[ix].offset;
1759:Drivers/SOES/Src/esc_coe.c **** 
1760:Drivers/SOES/Src/esc_coe.c ****       if (obj != NULL)
1761:Drivers/SOES/Src/esc_coe.c ****       {
1762:Drivers/SOES/Src/esc_coe.c ****          if (obj->bitlength > 64)
1763:Drivers/SOES/Src/esc_coe.c ****          {
1764:Drivers/SOES/Src/esc_coe.c ****             memcpy (
1765:Drivers/SOES/Src/esc_coe.c ****                obj->data,
1766:Drivers/SOES/Src/esc_coe.c ****                &buffer[BITS2BYTES (offset)],
1767:Drivers/SOES/Src/esc_coe.c ****                BITS2BYTES (obj->bitlength)
1768:Drivers/SOES/Src/esc_coe.c ****             );
1769:Drivers/SOES/Src/esc_coe.c ****          }
1770:Drivers/SOES/Src/esc_coe.c ****          else
1771:Drivers/SOES/Src/esc_coe.c ****          {
1772:Drivers/SOES/Src/esc_coe.c ****             /* Atomically set object value */
1773:Drivers/SOES/Src/esc_coe.c ****             uint64_t value = COE_bitsliceGet (
 5864              		.loc 1 1773 13 is_stmt 1 view .LVU1865
 5865              		.loc 1 1773 30 is_stmt 0 view .LVU1866
ARM GAS  /tmp/ccpADs8h.s 			page 164


 5866 0022 4046     		mov	r0, r8
 5867 0024 FFF7FEFF 		bl	COE_bitsliceGet
 5868              	.LVL605:
 5869              		.loc 1 1773 30 view .LVU1867
 5870 0028 0246     		mov	r2, r0
 5871 002a 0B46     		mov	r3, r1
 5872              	.LVL606:
1774:Drivers/SOES/Src/esc_coe.c ****                (uint64_t *)buffer,
1775:Drivers/SOES/Src/esc_coe.c ****                offset,
1776:Drivers/SOES/Src/esc_coe.c ****                obj->bitlength
1777:Drivers/SOES/Src/esc_coe.c ****             );
1778:Drivers/SOES/Src/esc_coe.c ****             COE_setValue (obj, value);
 5873              		.loc 1 1778 13 is_stmt 1 view .LVU1868
 5874 002c 2846     		mov	r0, r5
 5875 002e FFF7FEFF 		bl	COE_setValue
 5876              	.LVL607:
 5877              	.L373:
 5878              		.loc 1 1778 13 is_stmt 0 view .LVU1869
 5879              	.LBE36:
 5880              	.LBE35:
1755:Drivers/SOES/Src/esc_coe.c ****    {
 5881              		.loc 1 1755 33 is_stmt 1 discriminator 2 view .LVU1870
1755:Drivers/SOES/Src/esc_coe.c ****    {
 5882              		.loc 1 1755 35 is_stmt 0 discriminator 2 view .LVU1871
 5883 0032 0134     		adds	r4, r4, #1
 5884              	.LVL608:
 5885              	.L372:
1755:Drivers/SOES/Src/esc_coe.c ****    {
 5886              		.loc 1 1755 17 is_stmt 1 discriminator 1 view .LVU1872
1755:Drivers/SOES/Src/esc_coe.c ****    {
 5887              		.loc 1 1755 4 is_stmt 0 discriminator 1 view .LVU1873
 5888 0034 BC42     		cmp	r4, r7
 5889 0036 12DA     		bge	.L379
 5890              	.LBB37:
1757:Drivers/SOES/Src/esc_coe.c ****       uint16_t offset = mappings[ix].offset;
 5891              		.loc 1 1757 7 is_stmt 1 view .LVU1874
1757:Drivers/SOES/Src/esc_coe.c ****       uint16_t offset = mappings[ix].offset;
 5892              		.loc 1 1757 35 is_stmt 0 view .LVU1875
 5893 0038 06EBC403 		add	r3, r6, r4, lsl #3
1757:Drivers/SOES/Src/esc_coe.c ****       uint16_t offset = mappings[ix].offset;
 5894              		.loc 1 1757 21 view .LVU1876
 5895 003c 56F83450 		ldr	r5, [r6, r4, lsl #3]
 5896              	.LVL609:
1758:Drivers/SOES/Src/esc_coe.c **** 
 5897              		.loc 1 1758 7 is_stmt 1 view .LVU1877
1758:Drivers/SOES/Src/esc_coe.c **** 
 5898              		.loc 1 1758 16 is_stmt 0 view .LVU1878
 5899 0040 9988     		ldrh	r1, [r3, #4]
 5900              	.LVL610:
1760:Drivers/SOES/Src/esc_coe.c ****       {
 5901              		.loc 1 1760 7 is_stmt 1 view .LVU1879
1760:Drivers/SOES/Src/esc_coe.c ****       {
 5902              		.loc 1 1760 10 is_stmt 0 view .LVU1880
 5903 0042 002D     		cmp	r5, #0
 5904 0044 F5D0     		beq	.L373
1762:Drivers/SOES/Src/esc_coe.c ****          {
 5905              		.loc 1 1762 10 is_stmt 1 view .LVU1881
ARM GAS  /tmp/ccpADs8h.s 			page 165


1762:Drivers/SOES/Src/esc_coe.c ****          {
 5906              		.loc 1 1762 17 is_stmt 0 view .LVU1882
 5907 0046 AA88     		ldrh	r2, [r5, #4]	@ unaligned
1762:Drivers/SOES/Src/esc_coe.c ****          {
 5908              		.loc 1 1762 13 view .LVU1883
 5909 0048 402A     		cmp	r2, #64
 5910 004a EAD9     		bls	.L374
1764:Drivers/SOES/Src/esc_coe.c ****                obj->data,
 5911              		.loc 1 1764 13 is_stmt 1 view .LVU1884
1766:Drivers/SOES/Src/esc_coe.c ****                BITS2BYTES (obj->bitlength)
 5912              		.loc 1 1766 24 is_stmt 0 view .LVU1885
 5913 004c 0731     		adds	r1, r1, #7
 5914              	.LVL611:
1767:Drivers/SOES/Src/esc_coe.c ****             );
 5915              		.loc 1 1767 16 view .LVU1886
 5916 004e 0732     		adds	r2, r2, #7
1764:Drivers/SOES/Src/esc_coe.c ****                obj->data,
 5917              		.loc 1 1764 13 view .LVU1887
 5918 0050 D210     		asrs	r2, r2, #3
 5919 0052 08EBE101 		add	r1, r8, r1, asr #3
 5920              	.LVL612:
1764:Drivers/SOES/Src/esc_coe.c ****                obj->data,
 5921              		.loc 1 1764 13 view .LVU1888
 5922 0056 2869     		ldr	r0, [r5, #16]	@ unaligned
 5923 0058 FFF7FEFF 		bl	memcpy
 5924              	.LVL613:
1764:Drivers/SOES/Src/esc_coe.c ****                obj->data,
 5925              		.loc 1 1764 13 view .LVU1889
 5926 005c E9E7     		b	.L373
 5927              	.LVL614:
 5928              	.L379:
1764:Drivers/SOES/Src/esc_coe.c ****                obj->data,
 5929              		.loc 1 1764 13 view .LVU1890
 5930              	.LBE37:
1779:Drivers/SOES/Src/esc_coe.c ****          }
1780:Drivers/SOES/Src/esc_coe.c ****       }
1781:Drivers/SOES/Src/esc_coe.c ****    }
1782:Drivers/SOES/Src/esc_coe.c **** }
 5931              		.loc 1 1782 1 view .LVU1891
 5932 005e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 5933              	.LVL615:
 5934              	.L381:
 5935              		.loc 1 1782 1 view .LVU1892
 5936 0062 00BF     		.align	2
 5937              	.L380:
 5938 0064 00000000 		.word	.LC2
 5939 0068 00000000 		.word	.LANCHOR2
 5940 006c 04000000 		.word	.LC1
 5941              		.cfi_endproc
 5942              	.LFE27:
 5944              		.section	.text.COE_maxSub,"ax",%progbits
 5945              		.align	1
 5946              		.global	COE_maxSub
 5947              		.syntax unified
 5948              		.thumb
 5949              		.thumb_func
 5951              	COE_maxSub:
ARM GAS  /tmp/ccpADs8h.s 			page 166


 5952              	.LVL616:
 5953              	.LFB28:
1783:Drivers/SOES/Src/esc_coe.c **** 
1784:Drivers/SOES/Src/esc_coe.c **** /**
1785:Drivers/SOES/Src/esc_coe.c ****  * Fetch max subindex
1786:Drivers/SOES/Src/esc_coe.c ****  *
1787:Drivers/SOES/Src/esc_coe.c ****  * This function fetches the value of subindex 0 (max subindex).
1788:Drivers/SOES/Src/esc_coe.c ****  *
1789:Drivers/SOES/Src/esc_coe.c ****  * @param[in] index = object index
1790:Drivers/SOES/Src/esc_coe.c ****  */
1791:Drivers/SOES/Src/esc_coe.c **** uint8_t COE_maxSub (uint16_t index)
1792:Drivers/SOES/Src/esc_coe.c **** {
 5954              		.loc 1 1792 1 is_stmt 1 view -0
 5955              		.cfi_startproc
 5956              		@ args = 0, pretend = 0, frame = 0
 5957              		@ frame_needed = 0, uses_anonymous_args = 0
 5958              		.loc 1 1792 1 is_stmt 0 view .LVU1894
 5959 0000 08B5     		push	{r3, lr}
 5960              		.cfi_def_cfa_offset 8
 5961              		.cfi_offset 3, -8
 5962              		.cfi_offset 14, -4
1793:Drivers/SOES/Src/esc_coe.c ****    int nidx;
 5963              		.loc 1 1793 4 is_stmt 1 view .LVU1895
1794:Drivers/SOES/Src/esc_coe.c ****    uint8_t maxsub;
 5964              		.loc 1 1794 4 view .LVU1896
1795:Drivers/SOES/Src/esc_coe.c **** 
1796:Drivers/SOES/Src/esc_coe.c ****    nidx = SDO_findobject (index);
 5965              		.loc 1 1796 4 view .LVU1897
 5966              		.loc 1 1796 11 is_stmt 0 view .LVU1898
 5967 0002 FFF7FEFF 		bl	SDO_findobject
 5968              	.LVL617:
1797:Drivers/SOES/Src/esc_coe.c ****    if (nidx == -1)
 5969              		.loc 1 1797 4 is_stmt 1 view .LVU1899
 5970              		.loc 1 1797 7 is_stmt 0 view .LVU1900
 5971 0006 B0F1FF3F 		cmp	r0, #-1
 5972 000a 0DD0     		beq	.L385
1798:Drivers/SOES/Src/esc_coe.c ****       return 0;
1799:Drivers/SOES/Src/esc_coe.c **** 
1800:Drivers/SOES/Src/esc_coe.c ****    maxsub = OBJ_VALUE_FETCH (maxsub, SDOobjects[nidx].objdesc[0]);
 5973              		.loc 1 1800 4 is_stmt 1 view .LVU1901
 5974              		.loc 1 1800 13 is_stmt 0 view .LVU1902
 5975 000c C0EBC000 		rsb	r0, r0, r0, lsl #3
 5976              	.LVL618:
 5977              		.loc 1 1800 13 view .LVU1903
 5978 0010 064B     		ldr	r3, .L387
 5979 0012 03EB4000 		add	r0, r3, r0, lsl #1
 5980 0016 D0F80A20 		ldr	r2, [r0, #10]	@ unaligned
 5981 001a 1369     		ldr	r3, [r2, #16]	@ unaligned
 5982              		.loc 1 1800 11 view .LVU1904
 5983 001c 0BB1     		cbz	r3, .L384
 5984              		.loc 1 1800 11 discriminator 1 view .LVU1905
 5985 001e 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 5986              	.L383:
1801:Drivers/SOES/Src/esc_coe.c ****    return maxsub;
1802:Drivers/SOES/Src/esc_coe.c **** }
 5987              		.loc 1 1802 1 view .LVU1906
 5988 0020 08BD     		pop	{r3, pc}
ARM GAS  /tmp/ccpADs8h.s 			page 167


 5989              	.L384:
1800:Drivers/SOES/Src/esc_coe.c ****    return maxsub;
 5990              		.loc 1 1800 13 discriminator 2 view .LVU1907
 5991 0022 D068     		ldr	r0, [r2, #12]	@ unaligned
1800:Drivers/SOES/Src/esc_coe.c ****    return maxsub;
 5992              		.loc 1 1800 11 discriminator 2 view .LVU1908
 5993 0024 C0B2     		uxtb	r0, r0
 5994 0026 FBE7     		b	.L383
 5995              	.LVL619:
 5996              	.L385:
1798:Drivers/SOES/Src/esc_coe.c ****       return 0;
 5997              		.loc 1 1798 14 view .LVU1909
 5998 0028 0020     		movs	r0, #0
 5999              	.LVL620:
1798:Drivers/SOES/Src/esc_coe.c ****       return 0;
 6000              		.loc 1 1798 14 view .LVU1910
 6001 002a F9E7     		b	.L383
 6002              	.L388:
 6003              		.align	2
 6004              	.L387:
 6005 002c 00000000 		.word	SDOobjects
 6006              		.cfi_endproc
 6007              	.LFE28:
 6009              		.section	.rodata.__func__.0,"a"
 6010              		.align	2
 6011              		.set	.LANCHOR2,. + 0
 6014              	__func__.0:
 6015 0000 434F455F 		.ascii	"COE_pdoUnpack\000"
 6015      70646F55 
 6015      6E706163 
 6015      6B00
 6016              		.section	.rodata.__func__.1,"a"
 6017              		.align	2
 6018              		.set	.LANCHOR0,. + 0
 6021              	__func__.1:
 6022 0000 434F455F 		.ascii	"COE_getValue\000"
 6022      67657456 
 6022      616C7565 
 6022      00
 6023              		.section	.rodata.__func__.2,"a"
 6024              		.align	2
 6025              		.set	.LANCHOR1,. + 0
 6028              	__func__.2:
 6029 0000 434F455F 		.ascii	"COE_pdoPack\000"
 6029      70646F50 
 6029      61636B00 
 6030              		.text
 6031              	.Letext0:
 6032              		.file 2 "/usr/share/gcc-arm-none-eabi-10.3-2021.10/lib/gcc/arm-none-eabi/10.3.1/include/stddef.h"
 6033              		.file 3 "/usr/share/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/machine/_default_types.h"
 6034              		.file 4 "/usr/share/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/sys/_stdint.h"
 6035              		.file 5 "Drivers/SOES/Inc/esc_coe.h"
 6036              		.file 6 "Drivers/SOES/Inc/esc.h"
 6037              		.file 7 "/usr/share/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/assert.h"
 6038              		.file 8 "<built-in>"
ARM GAS  /tmp/ccpADs8h.s 			page 168


DEFINED SYMBOLS
                            *ABS*:0000000000000000 esc_coe.c
     /tmp/ccpADs8h.s:20     .text.init_coesdo:0000000000000000 $t
     /tmp/ccpADs8h.s:25     .text.init_coesdo:0000000000000000 init_coesdo
     /tmp/ccpADs8h.s:74     .text.COE_bitsliceGet:0000000000000000 $t
     /tmp/ccpADs8h.s:79     .text.COE_bitsliceGet:0000000000000000 COE_bitsliceGet
     /tmp/ccpADs8h.s:229    .text.COE_bitsliceSet:0000000000000000 $t
     /tmp/ccpADs8h.s:234    .text.COE_bitsliceSet:0000000000000000 COE_bitsliceSet
     /tmp/ccpADs8h.s:432    .text.COE_setValue:0000000000000000 $t
     /tmp/ccpADs8h.s:437    .text.COE_setValue:0000000000000000 COE_setValue
     /tmp/ccpADs8h.s:454    .text.COE_setValue:000000000000000c $d
     /tmp/ccpADs8h.s:549    .text.SDO_getodlistcont:0000000000000000 $t
     /tmp/ccpADs8h.s:554    .text.SDO_getodlistcont:0000000000000000 SDO_getodlistcont
     /tmp/ccpADs8h.s:750    .text.SDO_getodlistcont:00000000000000d4 $d
     /tmp/ccpADs8h.s:758    .text.SDO_infoerror:0000000000000000 $t
     /tmp/ccpADs8h.s:763    .text.SDO_infoerror:0000000000000000 SDO_infoerror
     /tmp/ccpADs8h.s:863    .text.SDO_infoerror:0000000000000070 $d
     /tmp/ccpADs8h.s:870    .text.SDO_getodlist:0000000000000000 $t
     /tmp/ccpADs8h.s:875    .text.SDO_getodlist:0000000000000000 SDO_getodlist
     /tmp/ccpADs8h.s:1224   .text.SDO_getodlist:0000000000000168 $d
     /tmp/ccpADs8h.s:1234   .text.SDO_abort:0000000000000000 $t
     /tmp/ccpADs8h.s:1239   .text.SDO_abort:0000000000000000 SDO_abort
     /tmp/ccpADs8h.s:1331   .text.SDO_abort:0000000000000060 $d
     /tmp/ccpADs8h.s:1338   .text.set_state_idle:0000000000000000 $t
     /tmp/ccpADs8h.s:1343   .text.set_state_idle:0000000000000000 set_state_idle
     /tmp/ccpADs8h.s:1381   .text.set_state_idle:0000000000000018 $d
     /tmp/ccpADs8h.s:1387   .text.copy2mbx:0000000000000000 $t
     /tmp/ccpADs8h.s:1392   .text.copy2mbx:0000000000000000 copy2mbx
     /tmp/ccpADs8h.s:1420   .text.SDO_uploadsegment:0000000000000000 $t
     /tmp/ccpADs8h.s:1425   .text.SDO_uploadsegment:0000000000000000 SDO_uploadsegment
     /tmp/ccpADs8h.s:1646   .text.SDO_uploadsegment:0000000000000108 $d
     /tmp/ccpADs8h.s:1654   .text.complete_access_subindex_loop:0000000000000000 $t
     /tmp/ccpADs8h.s:1659   .text.complete_access_subindex_loop:0000000000000000 complete_access_subindex_loop
     /tmp/ccpADs8h.s:2007   .text.complete_access_subindex_loop:0000000000000180 $d
     /tmp/ccpADs8h.s:2014   .text.SDO_downloadsegment:0000000000000000 $t
     /tmp/ccpADs8h.s:2019   .text.SDO_downloadsegment:0000000000000000 SDO_downloadsegment
     /tmp/ccpADs8h.s:2182   .text.SDO_downloadsegment:00000000000000b0 $d
     /tmp/ccpADs8h.s:2191   .rodata.COE_getValue.str1.4:0000000000000000 $d
     /tmp/ccpADs8h.s:2198   .text.COE_getValue:0000000000000000 $t
     /tmp/ccpADs8h.s:2203   .text.COE_getValue:0000000000000000 COE_getValue
     /tmp/ccpADs8h.s:2226   .text.COE_getValue:000000000000000e $d
     /tmp/ccpADs8h.s:2349   .text.COE_getValue:0000000000000074 $d
     /tmp/ccpADs8h.s:2356   .text.SDO_findsubindex:0000000000000000 $t
     /tmp/ccpADs8h.s:2362   .text.SDO_findsubindex:0000000000000000 SDO_findsubindex
     /tmp/ccpADs8h.s:2461   .text.SDO_findsubindex:0000000000000058 $d
     /tmp/ccpADs8h.s:2466   .text.SDO_findobject:0000000000000000 $t
     /tmp/ccpADs8h.s:2472   .text.SDO_findobject:0000000000000000 SDO_findobject
     /tmp/ccpADs8h.s:2522   .text.SDO_findobject:0000000000000020 $d
     /tmp/ccpADs8h.s:2527   .text.complete_access_get_variables:0000000000000000 $t
     /tmp/ccpADs8h.s:2532   .text.complete_access_get_variables:0000000000000000 complete_access_get_variables
     /tmp/ccpADs8h.s:2614   .text.complete_access_get_variables:0000000000000040 $d
     /tmp/ccpADs8h.s:2621   .text.SDO_upload_complete_access:0000000000000000 $t
     /tmp/ccpADs8h.s:2626   .text.SDO_upload_complete_access:0000000000000000 SDO_upload_complete_access
     /tmp/ccpADs8h.s:2972   .text.SDO_upload_complete_access:00000000000001f8 $d
     /tmp/ccpADs8h.s:2982   .text.SDO_download_complete_access:0000000000000000 $t
     /tmp/ccpADs8h.s:2987   .text.SDO_download_complete_access:0000000000000000 SDO_download_complete_access
     /tmp/ccpADs8h.s:3264   .text.SDO_download_complete_access:0000000000000158 $d
ARM GAS  /tmp/ccpADs8h.s 			page 169


     /tmp/ccpADs8h.s:3274   .text.SDO_upload:0000000000000000 $t
     /tmp/ccpADs8h.s:3279   .text.SDO_upload:0000000000000000 SDO_upload
     /tmp/ccpADs8h.s:3751   .text.SDO_upload:000000000000020c $d
     /tmp/ccpADs8h.s:3762   .text.SDO_download:0000000000000000 $t
     /tmp/ccpADs8h.s:3767   .text.SDO_download:0000000000000000 SDO_download
     /tmp/ccpADs8h.s:4241   .text.SDO_download:000000000000021c $d
     /tmp/ccpADs8h.s:4254   .text.SDO_getod:0000000000000000 $t
     /tmp/ccpADs8h.s:4259   .text.SDO_getod:0000000000000000 SDO_getod
     /tmp/ccpADs8h.s:4545   .text.SDO_getod:0000000000000140 $d
     /tmp/ccpADs8h.s:4554   .text.SDO_geted:0000000000000000 $t
     /tmp/ccpADs8h.s:4559   .text.SDO_geted:0000000000000000 SDO_geted
     /tmp/ccpADs8h.s:4798   .text.SDO_geted:00000000000000dc $d
     /tmp/ccpADs8h.s:4808   .text.sizeOfPDO:0000000000000000 $t
     /tmp/ccpADs8h.s:4814   .text.sizeOfPDO:0000000000000000 sizeOfPDO
     /tmp/ccpADs8h.s:5222   .text.sizeOfPDO:000000000000018c $d
     /tmp/ccpADs8h.s:5227   .text.ESC_coeprocess:0000000000000000 $t
     /tmp/ccpADs8h.s:5233   .text.ESC_coeprocess:0000000000000000 ESC_coeprocess
     /tmp/ccpADs8h.s:5532   .text.ESC_coeprocess:0000000000000140 $d
     /tmp/ccpADs8h.s:5540   .text.COE_initDefaultValues:0000000000000000 $t
     /tmp/ccpADs8h.s:5546   .text.COE_initDefaultValues:0000000000000000 COE_initDefaultValues
     /tmp/ccpADs8h.s:5669   .text.COE_initDefaultValues:000000000000006c $d
     /tmp/ccpADs8h.s:5675   .rodata.COE_pdoPack.str1.4:0000000000000000 $d
     /tmp/ccpADs8h.s:5679   .text.COE_pdoPack:0000000000000000 $t
     /tmp/ccpADs8h.s:5685   .text.COE_pdoPack:0000000000000000 COE_pdoPack
     /tmp/ccpADs8h.s:5808   .text.COE_pdoPack:000000000000006c $d
     /tmp/ccpADs8h.s:5815   .text.COE_pdoUnpack:0000000000000000 $t
     /tmp/ccpADs8h.s:5821   .text.COE_pdoUnpack:0000000000000000 COE_pdoUnpack
     /tmp/ccpADs8h.s:5938   .text.COE_pdoUnpack:0000000000000064 $d
     /tmp/ccpADs8h.s:5945   .text.COE_maxSub:0000000000000000 $t
     /tmp/ccpADs8h.s:5951   .text.COE_maxSub:0000000000000000 COE_maxSub
     /tmp/ccpADs8h.s:6005   .text.COE_maxSub:000000000000002c $d
     /tmp/ccpADs8h.s:6010   .rodata.__func__.0:0000000000000000 $d
     /tmp/ccpADs8h.s:6014   .rodata.__func__.0:0000000000000000 __func__.0
     /tmp/ccpADs8h.s:6017   .rodata.__func__.1:0000000000000000 $d
     /tmp/ccpADs8h.s:6021   .rodata.__func__.1:0000000000000000 __func__.1
     /tmp/ccpADs8h.s:6024   .rodata.__func__.2:0000000000000000 $d
     /tmp/ccpADs8h.s:6028   .rodata.__func__.2:0000000000000000 __func__.2
     /tmp/ccpADs8h.s:509    .text.COE_setValue:0000000000000043 $d
     /tmp/ccpADs8h.s:509    .text.COE_setValue:0000000000000044 $t
     /tmp/ccpADs8h.s:2281   .text.COE_getValue:0000000000000045 $d
     /tmp/ccpADs8h.s:2281   .text.COE_getValue:0000000000000046 $t

UNDEFINED SYMBOLS
ESC_claimbuffer
ESCvar
MBX
MBXcontrol
SDOobjects
memcpy
ESC_upload_post_objecthandler
memset
ESC_download_post_objecthandler
__assert_func
ESC_upload_pre_objecthandler
ESC_download_pre_objecthandler
MBX_error
