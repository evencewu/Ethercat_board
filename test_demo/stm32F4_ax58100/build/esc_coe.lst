ARM GAS  /tmp/ccpX7xVZ.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"esc_coe.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.init_coesdo,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	init_coesdo:
  26              	.LVL0:
  27              	.LFB9:
  28              		.file 1 "Lib/soes/src/esc_coe.c"
   1:Lib/soes/src/esc_coe.c **** /*
   2:Lib/soes/src/esc_coe.c ****  * Licensed under the GNU General Public License version 2 with exceptions. See
   3:Lib/soes/src/esc_coe.c ****  * LICENSE file in the project root for full license information
   4:Lib/soes/src/esc_coe.c ****  */
   5:Lib/soes/src/esc_coe.c **** 
   6:Lib/soes/src/esc_coe.c ****  /** \file
   7:Lib/soes/src/esc_coe.c ****  * \brief
   8:Lib/soes/src/esc_coe.c ****  * CAN over EtherCAT (CoE) module.
   9:Lib/soes/src/esc_coe.c ****  *
  10:Lib/soes/src/esc_coe.c ****  * SDO read / write and SDO service functions
  11:Lib/soes/src/esc_coe.c ****  */
  12:Lib/soes/src/esc_coe.c **** 
  13:Lib/soes/src/esc_coe.c **** #include <stdlib.h>
  14:Lib/soes/src/esc_coe.c **** #include <stddef.h>
  15:Lib/soes/src/esc_coe.c **** #include <stdbool.h>
  16:Lib/soes/src/esc_coe.c **** #include <string.h>
  17:Lib/soes/src/esc_coe.c **** #include <cc.h>
  18:Lib/soes/src/esc_coe.c **** #include "esc.h"
  19:Lib/soes/src/esc_coe.c **** #include "esc_coe.h"
  20:Lib/soes/src/esc_coe.c **** 
  21:Lib/soes/src/esc_coe.c **** #define BITS2BYTES(b) ((b + 7U) >> 3)
  22:Lib/soes/src/esc_coe.c **** #define BITSPOS2BYTESOFFSET(b) (b >> 3)
  23:Lib/soes/src/esc_coe.c **** 
  24:Lib/soes/src/esc_coe.c **** /* Fetch value from object dictionary */
  25:Lib/soes/src/esc_coe.c **** #define OBJ_VALUE_FETCH(v, o) \
  26:Lib/soes/src/esc_coe.c ****    ((o).data ? *(__typeof__ (v) *)(o).data : (__typeof__ (v))(o).value)
  27:Lib/soes/src/esc_coe.c **** 
  28:Lib/soes/src/esc_coe.c **** #define SDO_COMMAND(byte)         \
  29:Lib/soes/src/esc_coe.c ****    (byte & 0xe0)
  30:Lib/soes/src/esc_coe.c **** #define SDO_COMPLETE_ACCESS(byte) \
ARM GAS  /tmp/ccpX7xVZ.s 			page 2


  31:Lib/soes/src/esc_coe.c ****    ((byte & COE_COMPLETEACCESS) == COE_COMPLETEACCESS)
  32:Lib/soes/src/esc_coe.c **** 
  33:Lib/soes/src/esc_coe.c **** #define READ_ACCESS(access, state) \
  34:Lib/soes/src/esc_coe.c ****       (((access & ATYPE_Rpre) && (state == ESCpreop))   || \
  35:Lib/soes/src/esc_coe.c ****        ((access & ATYPE_Rsafe) && (state == ESCsafeop)) || \
  36:Lib/soes/src/esc_coe.c ****        ((access & ATYPE_Rop) && (state == ESCop)))
  37:Lib/soes/src/esc_coe.c **** 
  38:Lib/soes/src/esc_coe.c **** #define WRITE_ACCESS(access, state) \
  39:Lib/soes/src/esc_coe.c ****       (((access & ATYPE_Wpre) && (state == ESCpreop))   || \
  40:Lib/soes/src/esc_coe.c ****        ((access & ATYPE_Wsafe) && (state == ESCsafeop)) || \
  41:Lib/soes/src/esc_coe.c ****        ((access & ATYPE_Wop) && (state == ESCop)))
  42:Lib/soes/src/esc_coe.c **** 
  43:Lib/soes/src/esc_coe.c **** typedef enum { UPLOAD, DOWNLOAD } load_t;
  44:Lib/soes/src/esc_coe.c **** 
  45:Lib/soes/src/esc_coe.c **** /** Search for an object sub-index.
  46:Lib/soes/src/esc_coe.c ****  *
  47:Lib/soes/src/esc_coe.c ****  * @param[in] nidx   = local array index of object we want to find sub-index to
  48:Lib/soes/src/esc_coe.c ****  * @param[in] subindex   = value on sub-index of object we want to locate
  49:Lib/soes/src/esc_coe.c ****  * @return local array index if we succeed, -1 if we didn't find the index.
  50:Lib/soes/src/esc_coe.c ****  */
  51:Lib/soes/src/esc_coe.c **** int16_t SDO_findsubindex (int32_t nidx, uint8_t subindex)
  52:Lib/soes/src/esc_coe.c **** {
  53:Lib/soes/src/esc_coe.c ****    const _objd *objd;
  54:Lib/soes/src/esc_coe.c ****    int16_t n = 0;
  55:Lib/soes/src/esc_coe.c ****    uint8_t maxsub;
  56:Lib/soes/src/esc_coe.c ****    objd = SDOobjects[nidx].objdesc;
  57:Lib/soes/src/esc_coe.c ****    maxsub = SDOobjects[nidx].maxsub;
  58:Lib/soes/src/esc_coe.c **** 
  59:Lib/soes/src/esc_coe.c ****    /* Since most objects contain all subindexes (i.e. are not sparse),
  60:Lib/soes/src/esc_coe.c ****     * check the most likely scenario first
  61:Lib/soes/src/esc_coe.c ****     */
  62:Lib/soes/src/esc_coe.c ****    if ((subindex <= maxsub) && ((objd + subindex)->subindex == subindex))
  63:Lib/soes/src/esc_coe.c ****    {
  64:Lib/soes/src/esc_coe.c ****       return subindex;
  65:Lib/soes/src/esc_coe.c ****    }
  66:Lib/soes/src/esc_coe.c **** 
  67:Lib/soes/src/esc_coe.c ****    while (((objd + n)->subindex < subindex) && (n < maxsub))
  68:Lib/soes/src/esc_coe.c ****    {
  69:Lib/soes/src/esc_coe.c ****       n++;
  70:Lib/soes/src/esc_coe.c ****    }
  71:Lib/soes/src/esc_coe.c ****    if ((objd + n)->subindex != subindex)
  72:Lib/soes/src/esc_coe.c ****    {
  73:Lib/soes/src/esc_coe.c ****       return -1;
  74:Lib/soes/src/esc_coe.c ****    }
  75:Lib/soes/src/esc_coe.c ****    return n;
  76:Lib/soes/src/esc_coe.c **** }
  77:Lib/soes/src/esc_coe.c **** 
  78:Lib/soes/src/esc_coe.c **** /** Search for an object index matching the wanted value in the Object List.
  79:Lib/soes/src/esc_coe.c ****  *
  80:Lib/soes/src/esc_coe.c ****  * @param[in] index   = value on index of object we want to locate
  81:Lib/soes/src/esc_coe.c ****  * @return local array index if we succeed, -1 if we didn't find the index.
  82:Lib/soes/src/esc_coe.c ****  */
  83:Lib/soes/src/esc_coe.c **** int32_t SDO_findobject (uint16_t index)
  84:Lib/soes/src/esc_coe.c **** {
  85:Lib/soes/src/esc_coe.c ****    int32_t n = 0;
  86:Lib/soes/src/esc_coe.c ****    while (SDOobjects[n].index < index)
  87:Lib/soes/src/esc_coe.c ****    {
ARM GAS  /tmp/ccpX7xVZ.s 			page 3


  88:Lib/soes/src/esc_coe.c ****       n++;
  89:Lib/soes/src/esc_coe.c ****    }
  90:Lib/soes/src/esc_coe.c ****    if (SDOobjects[n].index != index)
  91:Lib/soes/src/esc_coe.c ****    {
  92:Lib/soes/src/esc_coe.c ****       return -1;
  93:Lib/soes/src/esc_coe.c ****    }
  94:Lib/soes/src/esc_coe.c ****    return n;
  95:Lib/soes/src/esc_coe.c **** }
  96:Lib/soes/src/esc_coe.c **** 
  97:Lib/soes/src/esc_coe.c **** /**
  98:Lib/soes/src/esc_coe.c ****  * Calculate the size in Bytes of RxPDO or TxPDOs by adding the
  99:Lib/soes/src/esc_coe.c ****  * objects in SyncManager SDO 1C1x.
 100:Lib/soes/src/esc_coe.c ****  *
 101:Lib/soes/src/esc_coe.c ****  * A list of mapped objects is created for fast lookup of
 102:Lib/soes/src/esc_coe.c ****  * dynamically mapped process data. The max size of the list (@a
 103:Lib/soes/src/esc_coe.c ****  * max_mappings) can be set to 0 if dynamic processdata is not
 104:Lib/soes/src/esc_coe.c ****  * supported.
 105:Lib/soes/src/esc_coe.c ****  *
 106:Lib/soes/src/esc_coe.c ****  * The output variable @a nmappings is set to 0 if dynamic processdata
 107:Lib/soes/src/esc_coe.c ****  * is not supported. It is set to the number of mapped objects if
 108:Lib/soes/src/esc_coe.c ****  * dynamic processdata is supported, or -1 if the mapping was
 109:Lib/soes/src/esc_coe.c ****  * incorrect.
 110:Lib/soes/src/esc_coe.c **** 
 111:Lib/soes/src/esc_coe.c ****  * @param[in] index = SM index
 112:Lib/soes/src/esc_coe.c ****  * @param[out] nmappings = number of mapped objects in SM, or -1 if
 113:Lib/soes/src/esc_coe.c ****  *   mapping is invalid
 114:Lib/soes/src/esc_coe.c ****  * @param[out] mappings = list of mapped objects in SM
 115:Lib/soes/src/esc_coe.c ****  * @param[out] max_mappings = max number of mapped objects in SM
 116:Lib/soes/src/esc_coe.c ****  * @return size of RxPDO or TxPDOs in Bytes.
 117:Lib/soes/src/esc_coe.c ****  */
 118:Lib/soes/src/esc_coe.c **** uint16_t sizeOfPDO (uint16_t index, int * nmappings, _SMmap * mappings,
 119:Lib/soes/src/esc_coe.c ****                     int max_mappings)
 120:Lib/soes/src/esc_coe.c **** {
 121:Lib/soes/src/esc_coe.c ****    uint32_t offset = 0;
 122:Lib/soes/src/esc_coe.c ****    uint16_t hobj;
 123:Lib/soes/src/esc_coe.c ****    uint8_t si, sic, c;
 124:Lib/soes/src/esc_coe.c ****    int32_t nidx;
 125:Lib/soes/src/esc_coe.c ****    const _objd *objd;
 126:Lib/soes/src/esc_coe.c ****    const _objd *objd1c1x;
 127:Lib/soes/src/esc_coe.c ****    int mapIx = 0;
 128:Lib/soes/src/esc_coe.c **** 
 129:Lib/soes/src/esc_coe.c ****    if ((index != RX_PDO_OBJIDX) && (index != TX_PDO_OBJIDX))
 130:Lib/soes/src/esc_coe.c ****    {
 131:Lib/soes/src/esc_coe.c ****       return 0;
 132:Lib/soes/src/esc_coe.c ****    }
 133:Lib/soes/src/esc_coe.c **** 
 134:Lib/soes/src/esc_coe.c ****    nidx = SDO_findobject (index);
 135:Lib/soes/src/esc_coe.c ****    if(nidx < 0)
 136:Lib/soes/src/esc_coe.c ****    {
 137:Lib/soes/src/esc_coe.c ****       return 0;
 138:Lib/soes/src/esc_coe.c ****    }
 139:Lib/soes/src/esc_coe.c **** 
 140:Lib/soes/src/esc_coe.c ****    objd1c1x = SDOobjects[nidx].objdesc;
 141:Lib/soes/src/esc_coe.c **** 
 142:Lib/soes/src/esc_coe.c ****    si = OBJ_VALUE_FETCH (si, objd1c1x[0]);
 143:Lib/soes/src/esc_coe.c ****    if (si)
 144:Lib/soes/src/esc_coe.c ****    {
ARM GAS  /tmp/ccpX7xVZ.s 			page 4


 145:Lib/soes/src/esc_coe.c ****       for (sic = 1; sic <= si; sic++)
 146:Lib/soes/src/esc_coe.c ****       {
 147:Lib/soes/src/esc_coe.c ****          hobj = OBJ_VALUE_FETCH (hobj, objd1c1x[sic]);
 148:Lib/soes/src/esc_coe.c ****          nidx = SDO_findobject (hobj);
 149:Lib/soes/src/esc_coe.c ****          if (nidx >= 0)
 150:Lib/soes/src/esc_coe.c ****          {
 151:Lib/soes/src/esc_coe.c ****             uint8_t maxsub;
 152:Lib/soes/src/esc_coe.c **** 
 153:Lib/soes/src/esc_coe.c ****             objd = SDOobjects[nidx].objdesc;
 154:Lib/soes/src/esc_coe.c ****             maxsub = OBJ_VALUE_FETCH (maxsub, objd[0]);
 155:Lib/soes/src/esc_coe.c **** 
 156:Lib/soes/src/esc_coe.c ****             for (c = 1; c <= maxsub; c++)
 157:Lib/soes/src/esc_coe.c ****             {
 158:Lib/soes/src/esc_coe.c ****                uint32_t value = OBJ_VALUE_FETCH (value, objd[c]);
 159:Lib/soes/src/esc_coe.c ****                uint8_t bitlength = value & 0xFF;
 160:Lib/soes/src/esc_coe.c **** 
 161:Lib/soes/src/esc_coe.c ****                if (max_mappings > 0)
 162:Lib/soes/src/esc_coe.c ****                {
 163:Lib/soes/src/esc_coe.c ****                   uint16_t index = (uint16_t)(value >> 16);
 164:Lib/soes/src/esc_coe.c ****                   uint8_t subindex = (value >> 8) & 0xFF;
 165:Lib/soes/src/esc_coe.c ****                   const _objd * mapping;
 166:Lib/soes/src/esc_coe.c **** 
 167:Lib/soes/src/esc_coe.c ****                   if (mapIx == max_mappings)
 168:Lib/soes/src/esc_coe.c ****                   {
 169:Lib/soes/src/esc_coe.c ****                      /* Too many mapped objects */
 170:Lib/soes/src/esc_coe.c ****                      *nmappings = -1;
 171:Lib/soes/src/esc_coe.c ****                      return 0;
 172:Lib/soes/src/esc_coe.c ****                   }
 173:Lib/soes/src/esc_coe.c **** 
 174:Lib/soes/src/esc_coe.c ****                   DPRINT ("%04"PRIx32":%02"PRIx32" @ %"PRIu32"\n",
 175:Lib/soes/src/esc_coe.c ****                         index,
 176:Lib/soes/src/esc_coe.c ****                         subindex,
 177:Lib/soes/src/esc_coe.c ****                         offset);
 178:Lib/soes/src/esc_coe.c **** 
 179:Lib/soes/src/esc_coe.c ****                   if (index == 0 && subindex == 0)
 180:Lib/soes/src/esc_coe.c ****                   {
 181:Lib/soes/src/esc_coe.c ****                      /* Padding element */
 182:Lib/soes/src/esc_coe.c ****                      mapping = NULL;
 183:Lib/soes/src/esc_coe.c ****                   }
 184:Lib/soes/src/esc_coe.c ****                   else
 185:Lib/soes/src/esc_coe.c ****                   {
 186:Lib/soes/src/esc_coe.c ****                      nidx = SDO_findobject (index);
 187:Lib/soes/src/esc_coe.c ****                      if (nidx >= 0)
 188:Lib/soes/src/esc_coe.c ****                      {
 189:Lib/soes/src/esc_coe.c ****                         int16_t nsub;
 190:Lib/soes/src/esc_coe.c **** 
 191:Lib/soes/src/esc_coe.c ****                         nsub = SDO_findsubindex (nidx, subindex);
 192:Lib/soes/src/esc_coe.c ****                         if (nsub < 0)
 193:Lib/soes/src/esc_coe.c ****                         {
 194:Lib/soes/src/esc_coe.c ****                            /* Mapped subindex does not exist */
 195:Lib/soes/src/esc_coe.c ****                            *nmappings = -1;
 196:Lib/soes/src/esc_coe.c ****                            return 0;
 197:Lib/soes/src/esc_coe.c ****                         }
 198:Lib/soes/src/esc_coe.c **** 
 199:Lib/soes/src/esc_coe.c ****                         mapping = &SDOobjects[nidx].objdesc[nsub];
 200:Lib/soes/src/esc_coe.c ****                      }
 201:Lib/soes/src/esc_coe.c ****                      else
ARM GAS  /tmp/ccpX7xVZ.s 			page 5


 202:Lib/soes/src/esc_coe.c ****                      {
 203:Lib/soes/src/esc_coe.c ****                         /* Mapped index does not exist */
 204:Lib/soes/src/esc_coe.c ****                         *nmappings = -1;
 205:Lib/soes/src/esc_coe.c ****                         return 0;
 206:Lib/soes/src/esc_coe.c ****                      }
 207:Lib/soes/src/esc_coe.c ****                   }
 208:Lib/soes/src/esc_coe.c **** 
 209:Lib/soes/src/esc_coe.c ****                   mappings[mapIx].obj = mapping;
 210:Lib/soes/src/esc_coe.c ****                   /* Save object list reference */
 211:Lib/soes/src/esc_coe.c ****                   if(mapping != NULL)
 212:Lib/soes/src/esc_coe.c ****                   {
 213:Lib/soes/src/esc_coe.c ****                      mappings[mapIx].objectlistitem = &SDOobjects[nidx];
 214:Lib/soes/src/esc_coe.c ****                   }
 215:Lib/soes/src/esc_coe.c ****                   else
 216:Lib/soes/src/esc_coe.c ****                   {
 217:Lib/soes/src/esc_coe.c ****                      mappings[mapIx].objectlistitem = NULL;
 218:Lib/soes/src/esc_coe.c ****                   }
 219:Lib/soes/src/esc_coe.c ****                   mappings[mapIx++].offset = offset;
 220:Lib/soes/src/esc_coe.c ****                }
 221:Lib/soes/src/esc_coe.c **** 
 222:Lib/soes/src/esc_coe.c ****                offset += bitlength;
 223:Lib/soes/src/esc_coe.c ****             }
 224:Lib/soes/src/esc_coe.c ****          }
 225:Lib/soes/src/esc_coe.c ****       }
 226:Lib/soes/src/esc_coe.c ****    }
 227:Lib/soes/src/esc_coe.c **** 
 228:Lib/soes/src/esc_coe.c ****    if (max_mappings > 0)
 229:Lib/soes/src/esc_coe.c ****    {
 230:Lib/soes/src/esc_coe.c ****       *nmappings = mapIx;
 231:Lib/soes/src/esc_coe.c ****    }
 232:Lib/soes/src/esc_coe.c ****    else
 233:Lib/soes/src/esc_coe.c ****    {
 234:Lib/soes/src/esc_coe.c ****       *nmappings = 0;
 235:Lib/soes/src/esc_coe.c ****    }
 236:Lib/soes/src/esc_coe.c **** 
 237:Lib/soes/src/esc_coe.c ****    return BITS2BYTES (offset) & 0xFFFF;
 238:Lib/soes/src/esc_coe.c **** }
 239:Lib/soes/src/esc_coe.c **** 
 240:Lib/soes/src/esc_coe.c **** /** Copy to mailbox.
 241:Lib/soes/src/esc_coe.c ****  *
 242:Lib/soes/src/esc_coe.c ****  * @param[in] source = pointer to source
 243:Lib/soes/src/esc_coe.c ****  * @param[in] dest   = pointer to destination
 244:Lib/soes/src/esc_coe.c ****  * @param[in] size   = Size to copy
 245:Lib/soes/src/esc_coe.c ****  */
 246:Lib/soes/src/esc_coe.c **** static void copy2mbx (void *source, void *dest, size_t size)
 247:Lib/soes/src/esc_coe.c **** {
 248:Lib/soes/src/esc_coe.c ****    memcpy (dest, source, size);
 249:Lib/soes/src/esc_coe.c **** }
 250:Lib/soes/src/esc_coe.c **** 
 251:Lib/soes/src/esc_coe.c **** /** Function for sending an SDO Abort reply.
 252:Lib/soes/src/esc_coe.c ****  *
 253:Lib/soes/src/esc_coe.c ****  * @param[in] reusembx   = mailbox buffer to use (if 0 then claim a new buffer)
 254:Lib/soes/src/esc_coe.c ****  * @param[in] index      = index of object causing abort reply
 255:Lib/soes/src/esc_coe.c ****  * @param[in] sub-index  = sub-index of object causing abort reply
 256:Lib/soes/src/esc_coe.c ****  * @param[in] abortcode  = abort code to send in reply
 257:Lib/soes/src/esc_coe.c ****  */
 258:Lib/soes/src/esc_coe.c **** static void SDO_abort (uint8_t reusembx, uint16_t index, uint8_t subindex, uint32_t abortcode)
ARM GAS  /tmp/ccpX7xVZ.s 			page 6


 259:Lib/soes/src/esc_coe.c **** {
 260:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
 261:Lib/soes/src/esc_coe.c ****    _COEsdo *coeres;
 262:Lib/soes/src/esc_coe.c ****    if (reusembx)
 263:Lib/soes/src/esc_coe.c ****       MBXout = reusembx;
 264:Lib/soes/src/esc_coe.c ****    else
 265:Lib/soes/src/esc_coe.c ****       MBXout = ESC_claimbuffer ();
 266:Lib/soes/src/esc_coe.c ****    if (MBXout)
 267:Lib/soes/src/esc_coe.c ****    {
 268:Lib/soes/src/esc_coe.c ****       coeres = (_COEsdo *) &MBX[MBXout * ESC_MBXSIZE];
 269:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 270:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.mbxtype = MBXCOE;
 271:Lib/soes/src/esc_coe.c ****       coeres->coeheader.numberservice =
 272:Lib/soes/src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOREQUEST << 12));
 273:Lib/soes/src/esc_coe.c ****       coeres->index = htoes (index);
 274:Lib/soes/src/esc_coe.c ****       coeres->subindex = subindex;
 275:Lib/soes/src/esc_coe.c ****       coeres->command = COE_COMMAND_SDOABORT;
 276:Lib/soes/src/esc_coe.c ****       coeres->size = htoel (abortcode);
 277:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 278:Lib/soes/src/esc_coe.c ****    }
 279:Lib/soes/src/esc_coe.c **** }
 280:Lib/soes/src/esc_coe.c **** 
 281:Lib/soes/src/esc_coe.c **** static void set_state_idle (uint8_t reusembx,
 282:Lib/soes/src/esc_coe.c ****                            uint16_t index,
 283:Lib/soes/src/esc_coe.c ****                            uint8_t subindex,
 284:Lib/soes/src/esc_coe.c ****                            uint32_t abortcode)
 285:Lib/soes/src/esc_coe.c **** {
 286:Lib/soes/src/esc_coe.c ****    if (abortcode != 0)
 287:Lib/soes/src/esc_coe.c ****    {
 288:Lib/soes/src/esc_coe.c ****       SDO_abort (reusembx, index, subindex, abortcode);
 289:Lib/soes/src/esc_coe.c ****    }
 290:Lib/soes/src/esc_coe.c **** 
 291:Lib/soes/src/esc_coe.c ****    MBXcontrol[0].state = MBXstate_idle;
 292:Lib/soes/src/esc_coe.c ****    ESCvar.xoe = 0;
 293:Lib/soes/src/esc_coe.c **** }
 294:Lib/soes/src/esc_coe.c **** 
 295:Lib/soes/src/esc_coe.c **** /** Function for responding on requested SDO Upload, sending the content
 296:Lib/soes/src/esc_coe.c ****  *  requested in a free Mailbox buffer. Depending of size of data expedited,
 297:Lib/soes/src/esc_coe.c ****  *  normal or segmented transfer is used. On error an SDO Abort will be sent.
 298:Lib/soes/src/esc_coe.c ****  */
 299:Lib/soes/src/esc_coe.c **** static void SDO_upload (void)
 300:Lib/soes/src/esc_coe.c **** {
 301:Lib/soes/src/esc_coe.c ****    _COEsdo *coesdo, *coeres;
 302:Lib/soes/src/esc_coe.c ****    uint16_t index;
 303:Lib/soes/src/esc_coe.c ****    uint8_t subindex;
 304:Lib/soes/src/esc_coe.c ****    int32_t nidx;
 305:Lib/soes/src/esc_coe.c ****    int16_t nsub;
 306:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
 307:Lib/soes/src/esc_coe.c ****    uint32_t size;
 308:Lib/soes/src/esc_coe.c ****    uint8_t dss;
 309:Lib/soes/src/esc_coe.c ****    uint32_t abort = 1;
 310:Lib/soes/src/esc_coe.c ****    const _objd *objd;
 311:Lib/soes/src/esc_coe.c ****    coesdo = (_COEsdo *) &MBX[0];
 312:Lib/soes/src/esc_coe.c ****    index = etohs (coesdo->index);
 313:Lib/soes/src/esc_coe.c ****    subindex = coesdo->subindex;
 314:Lib/soes/src/esc_coe.c ****    nidx = SDO_findobject (index);
 315:Lib/soes/src/esc_coe.c ****    if (nidx >= 0)
ARM GAS  /tmp/ccpX7xVZ.s 			page 7


 316:Lib/soes/src/esc_coe.c ****    {
 317:Lib/soes/src/esc_coe.c ****       nsub = SDO_findsubindex (nidx, subindex);
 318:Lib/soes/src/esc_coe.c ****       if (nsub >= 0)
 319:Lib/soes/src/esc_coe.c ****       {
 320:Lib/soes/src/esc_coe.c ****          objd = SDOobjects[nidx].objdesc;
 321:Lib/soes/src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 322:Lib/soes/src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 323:Lib/soes/src/esc_coe.c ****          if (!READ_ACCESS(access, state))
 324:Lib/soes/src/esc_coe.c ****          {
 325:Lib/soes/src/esc_coe.c ****             set_state_idle (0, index, subindex, ABORT_WRITEONLY);
 326:Lib/soes/src/esc_coe.c ****             return;
 327:Lib/soes/src/esc_coe.c ****          }
 328:Lib/soes/src/esc_coe.c ****          MBXout = ESC_claimbuffer ();
 329:Lib/soes/src/esc_coe.c ****          if (MBXout)
 330:Lib/soes/src/esc_coe.c ****          {
 331:Lib/soes/src/esc_coe.c ****             coeres = (_COEsdo *) &MBX[MBXout * ESC_MBXSIZE];
 332:Lib/soes/src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 333:Lib/soes/src/esc_coe.c ****             coeres->mbxheader.mbxtype = MBXCOE;
 334:Lib/soes/src/esc_coe.c ****             coeres->coeheader.numberservice =
 335:Lib/soes/src/esc_coe.c ****                htoes ((0 & 0x01f) | (COE_SDORESPONSE << 12));
 336:Lib/soes/src/esc_coe.c ****             size = (objd + nsub)->bitlength;
 337:Lib/soes/src/esc_coe.c ****             /* expedited bits used calculation */
 338:Lib/soes/src/esc_coe.c ****             dss = 0x0c;
 339:Lib/soes/src/esc_coe.c ****             if (size > 8)
 340:Lib/soes/src/esc_coe.c ****             {
 341:Lib/soes/src/esc_coe.c ****                dss = 0x08;
 342:Lib/soes/src/esc_coe.c ****             }
 343:Lib/soes/src/esc_coe.c ****             if (size > 16)
 344:Lib/soes/src/esc_coe.c ****             {
 345:Lib/soes/src/esc_coe.c ****                dss = 0x04;
 346:Lib/soes/src/esc_coe.c ****             }
 347:Lib/soes/src/esc_coe.c ****             if (size > 24)
 348:Lib/soes/src/esc_coe.c ****             {
 349:Lib/soes/src/esc_coe.c ****                dss = 0x00;
 350:Lib/soes/src/esc_coe.c ****             }
 351:Lib/soes/src/esc_coe.c ****             coeres->index = htoes (index);
 352:Lib/soes/src/esc_coe.c ****             coeres->subindex = subindex;
 353:Lib/soes/src/esc_coe.c ****             coeres->command = COE_COMMAND_UPLOADRESPONSE |
 354:Lib/soes/src/esc_coe.c ****                COE_SIZE_INDICATOR;
 355:Lib/soes/src/esc_coe.c ****             /* convert bits to bytes */
 356:Lib/soes/src/esc_coe.c ****             size = BITS2BYTES(size);
 357:Lib/soes/src/esc_coe.c ****             if (size <= 4)
 358:Lib/soes/src/esc_coe.c ****             {
 359:Lib/soes/src/esc_coe.c ****                /* expedited response i.e. length<=4 bytes */
 360:Lib/soes/src/esc_coe.c ****                coeres->command |= (COE_EXPEDITED_INDICATOR | dss);
 361:Lib/soes/src/esc_coe.c ****                void *dataptr = ((objd + nsub)->data) ?
 362:Lib/soes/src/esc_coe.c ****                      (objd + nsub)->data : (void *)&((objd + nsub)->value);
 363:Lib/soes/src/esc_coe.c ****                abort = ESC_upload_pre_objecthandler (index, subindex,
 364:Lib/soes/src/esc_coe.c ****                      dataptr, (size_t *)&size, (objd + nsub)->flags);
 365:Lib/soes/src/esc_coe.c ****                if (abort == 0)
 366:Lib/soes/src/esc_coe.c ****                {
 367:Lib/soes/src/esc_coe.c ****                   if ((objd + nsub)->data == NULL)
 368:Lib/soes/src/esc_coe.c ****                   {
 369:Lib/soes/src/esc_coe.c ****                      /* use constant value */
 370:Lib/soes/src/esc_coe.c ****                      coeres->size = htoel ((objd + nsub)->value);
 371:Lib/soes/src/esc_coe.c ****                   }
 372:Lib/soes/src/esc_coe.c ****                   else
ARM GAS  /tmp/ccpX7xVZ.s 			page 8


 373:Lib/soes/src/esc_coe.c ****                   {
 374:Lib/soes/src/esc_coe.c ****                      /* use dynamic data */
 375:Lib/soes/src/esc_coe.c ****                      copy2mbx ((objd + nsub)->data, &(coeres->size), size);
 376:Lib/soes/src/esc_coe.c ****                   }
 377:Lib/soes/src/esc_coe.c ****                }
 378:Lib/soes/src/esc_coe.c ****                else
 379:Lib/soes/src/esc_coe.c ****                {
 380:Lib/soes/src/esc_coe.c ****                   set_state_idle (MBXout, index, subindex, abort);
 381:Lib/soes/src/esc_coe.c ****                   return;
 382:Lib/soes/src/esc_coe.c ****                }
 383:Lib/soes/src/esc_coe.c ****             }
 384:Lib/soes/src/esc_coe.c ****             else
 385:Lib/soes/src/esc_coe.c ****             {
 386:Lib/soes/src/esc_coe.c ****                /* normal response i.e. length>4 bytes */
 387:Lib/soes/src/esc_coe.c ****                abort = ESC_upload_pre_objecthandler (index, subindex,
 388:Lib/soes/src/esc_coe.c ****                      (objd + nsub)->data, (size_t *)&size, (objd + nsub)->flags);
 389:Lib/soes/src/esc_coe.c ****                if (abort == 0)
 390:Lib/soes/src/esc_coe.c ****                {
 391:Lib/soes/src/esc_coe.c ****                   /* set total size in bytes */
 392:Lib/soes/src/esc_coe.c ****                   ESCvar.frags = size;
 393:Lib/soes/src/esc_coe.c ****                   coeres->size = htoel (size);
 394:Lib/soes/src/esc_coe.c ****                   if ((size + COE_HEADERSIZE) > ESC_MBXDSIZE)
 395:Lib/soes/src/esc_coe.c ****                   {
 396:Lib/soes/src/esc_coe.c ****                      /* segmented transfer needed */
 397:Lib/soes/src/esc_coe.c ****                      /* limit to mailbox size */
 398:Lib/soes/src/esc_coe.c ****                      size = ESC_MBXDSIZE - COE_HEADERSIZE;
 399:Lib/soes/src/esc_coe.c ****                      /* number of bytes done */
 400:Lib/soes/src/esc_coe.c ****                      ESCvar.fragsleft = size;
 401:Lib/soes/src/esc_coe.c ****                      /* signal segmented transfer */
 402:Lib/soes/src/esc_coe.c ****                      ESCvar.segmented = MBXSEU;
 403:Lib/soes/src/esc_coe.c ****                      ESCvar.data = (objd + nsub)->data;
 404:Lib/soes/src/esc_coe.c ****                      ESCvar.flags = (objd + nsub)->flags;
 405:Lib/soes/src/esc_coe.c ****                   }
 406:Lib/soes/src/esc_coe.c ****                   else
 407:Lib/soes/src/esc_coe.c ****                   {
 408:Lib/soes/src/esc_coe.c ****                      ESCvar.segmented = 0;
 409:Lib/soes/src/esc_coe.c ****                   }
 410:Lib/soes/src/esc_coe.c ****                   coeres->mbxheader.length = htoes (COE_HEADERSIZE + size);
 411:Lib/soes/src/esc_coe.c **** 
 412:Lib/soes/src/esc_coe.c ****                   /* use dynamic data */
 413:Lib/soes/src/esc_coe.c ****                   copy2mbx ((objd + nsub)->data, (&(coeres->size)) + 1, size);
 414:Lib/soes/src/esc_coe.c ****                }
 415:Lib/soes/src/esc_coe.c ****                else
 416:Lib/soes/src/esc_coe.c ****                {
 417:Lib/soes/src/esc_coe.c ****                   set_state_idle (MBXout, index, subindex, abort);
 418:Lib/soes/src/esc_coe.c ****                   return;
 419:Lib/soes/src/esc_coe.c ****                }
 420:Lib/soes/src/esc_coe.c ****             }
 421:Lib/soes/src/esc_coe.c ****             if ((abort == 0) && (ESCvar.segmented == 0))
 422:Lib/soes/src/esc_coe.c ****             {
 423:Lib/soes/src/esc_coe.c ****                abort = ESC_upload_post_objecthandler (index, subindex,
 424:Lib/soes/src/esc_coe.c ****                                                       (objd + nsub)->flags);
 425:Lib/soes/src/esc_coe.c ****                if (abort != 0)
 426:Lib/soes/src/esc_coe.c ****                {
 427:Lib/soes/src/esc_coe.c ****                   set_state_idle (MBXout, index, subindex, abort);
 428:Lib/soes/src/esc_coe.c ****                   return;
 429:Lib/soes/src/esc_coe.c ****                }
ARM GAS  /tmp/ccpX7xVZ.s 			page 9


 430:Lib/soes/src/esc_coe.c ****             }
 431:Lib/soes/src/esc_coe.c ****             MBXcontrol[MBXout].state = MBXstate_outreq;
 432:Lib/soes/src/esc_coe.c ****          }
 433:Lib/soes/src/esc_coe.c ****       }
 434:Lib/soes/src/esc_coe.c ****       else
 435:Lib/soes/src/esc_coe.c ****       {
 436:Lib/soes/src/esc_coe.c ****          SDO_abort (0, index, subindex, ABORT_NOSUBINDEX);
 437:Lib/soes/src/esc_coe.c ****       }
 438:Lib/soes/src/esc_coe.c ****    }
 439:Lib/soes/src/esc_coe.c ****    else
 440:Lib/soes/src/esc_coe.c ****    {
 441:Lib/soes/src/esc_coe.c ****       SDO_abort (0, index, subindex, ABORT_NOOBJECT);
 442:Lib/soes/src/esc_coe.c ****    }
 443:Lib/soes/src/esc_coe.c ****    MBXcontrol[0].state = MBXstate_idle;
 444:Lib/soes/src/esc_coe.c ****    ESCvar.xoe = 0;
 445:Lib/soes/src/esc_coe.c **** }
 446:Lib/soes/src/esc_coe.c **** 
 447:Lib/soes/src/esc_coe.c **** static uint32_t complete_access_get_variables(_COEsdo *coesdo, uint16_t *index,
 448:Lib/soes/src/esc_coe.c ****                                               uint8_t *subindex, int32_t *nidx,
 449:Lib/soes/src/esc_coe.c ****                                               int16_t *nsub)
 450:Lib/soes/src/esc_coe.c **** {
 451:Lib/soes/src/esc_coe.c ****    *index = etohs (coesdo->index);
 452:Lib/soes/src/esc_coe.c ****    *subindex = coesdo->subindex;
 453:Lib/soes/src/esc_coe.c **** 
 454:Lib/soes/src/esc_coe.c ****    /* A Complete Access must start with Subindex 0 or Subindex 1 */
 455:Lib/soes/src/esc_coe.c ****    if (*subindex > 1)
 456:Lib/soes/src/esc_coe.c ****    {
 457:Lib/soes/src/esc_coe.c ****       return ABORT_UNSUPPORTED;
 458:Lib/soes/src/esc_coe.c ****    }
 459:Lib/soes/src/esc_coe.c **** 
 460:Lib/soes/src/esc_coe.c ****    *nidx = SDO_findobject (*index);
 461:Lib/soes/src/esc_coe.c ****    if (*nidx < 0)
 462:Lib/soes/src/esc_coe.c ****    {
 463:Lib/soes/src/esc_coe.c ****       return ABORT_NOOBJECT;
 464:Lib/soes/src/esc_coe.c ****    }
 465:Lib/soes/src/esc_coe.c **** 
 466:Lib/soes/src/esc_coe.c ****    *nsub = SDO_findsubindex (*nidx, *subindex);
 467:Lib/soes/src/esc_coe.c ****    if (*nsub < 0)
 468:Lib/soes/src/esc_coe.c ****    {
 469:Lib/soes/src/esc_coe.c ****       return ABORT_NOSUBINDEX;
 470:Lib/soes/src/esc_coe.c ****    }
 471:Lib/soes/src/esc_coe.c **** 
 472:Lib/soes/src/esc_coe.c ****    return 0;
 473:Lib/soes/src/esc_coe.c **** }
 474:Lib/soes/src/esc_coe.c **** 
 475:Lib/soes/src/esc_coe.c **** static uint32_t complete_access_subindex_loop(const _objd *objd,
 476:Lib/soes/src/esc_coe.c ****                                               int32_t nidx,
 477:Lib/soes/src/esc_coe.c ****                                               int16_t nsub,
 478:Lib/soes/src/esc_coe.c ****                                               uint8_t *mbxdata,
 479:Lib/soes/src/esc_coe.c ****                                               load_t load_type,
 480:Lib/soes/src/esc_coe.c ****                                               uint32_t max_bytes)
 481:Lib/soes/src/esc_coe.c **** {
 482:Lib/soes/src/esc_coe.c ****    /* Objects with dynamic entries cannot be accessed with Complete Access */
 483:Lib/soes/src/esc_coe.c ****    if ((objd->datatype == DTYPE_VISIBLE_STRING) ||
 484:Lib/soes/src/esc_coe.c ****        (objd->datatype == DTYPE_OCTET_STRING)   ||
 485:Lib/soes/src/esc_coe.c ****        (objd->datatype == DTYPE_UNICODE_STRING))
 486:Lib/soes/src/esc_coe.c ****    {
ARM GAS  /tmp/ccpX7xVZ.s 			page 10


 487:Lib/soes/src/esc_coe.c ****       return ABORT_CA_NOT_SUPPORTED;
 488:Lib/soes/src/esc_coe.c ****    }
 489:Lib/soes/src/esc_coe.c **** 
 490:Lib/soes/src/esc_coe.c ****    uint32_t size = 0;
 491:Lib/soes/src/esc_coe.c **** 
 492:Lib/soes/src/esc_coe.c ****    /* Clear padded mbxdata byte [1] on upload */
 493:Lib/soes/src/esc_coe.c ****    if ((load_type == UPLOAD) && (mbxdata != NULL))
 494:Lib/soes/src/esc_coe.c ****    {
 495:Lib/soes/src/esc_coe.c ****       mbxdata[1] = 0;
 496:Lib/soes/src/esc_coe.c ****    }
 497:Lib/soes/src/esc_coe.c **** 
 498:Lib/soes/src/esc_coe.c ****    while (nsub <= SDOobjects[nidx].maxsub)
 499:Lib/soes/src/esc_coe.c ****    {
 500:Lib/soes/src/esc_coe.c ****       uint16_t bitlen = (objd + nsub)->bitlength;
 501:Lib/soes/src/esc_coe.c ****       void *ul_source = ((objd + nsub)->data != NULL) ?
 502:Lib/soes/src/esc_coe.c ****             (objd + nsub)->data : (void *)&((objd + nsub)->value);
 503:Lib/soes/src/esc_coe.c ****       uint8_t bitoffset = size % 8;
 504:Lib/soes/src/esc_coe.c ****       uint8_t access = (objd + nsub)->flags & 0x3f;
 505:Lib/soes/src/esc_coe.c ****       uint8_t state = ESCvar.ALstatus & 0x0f;
 506:Lib/soes/src/esc_coe.c **** 
 507:Lib/soes/src/esc_coe.c ****       if ((bitlen % 8) == 0)
 508:Lib/soes/src/esc_coe.c ****       {
 509:Lib/soes/src/esc_coe.c ****          if (bitoffset != 0)
 510:Lib/soes/src/esc_coe.c ****          {
 511:Lib/soes/src/esc_coe.c ****             /* move on to next byte boundary */
 512:Lib/soes/src/esc_coe.c ****             size += (8U - bitoffset);
 513:Lib/soes/src/esc_coe.c ****          }
 514:Lib/soes/src/esc_coe.c ****          if (mbxdata != NULL)
 515:Lib/soes/src/esc_coe.c ****          {
 516:Lib/soes/src/esc_coe.c ****             /* copy a non-bit data type to a byte boundary */
 517:Lib/soes/src/esc_coe.c ****             if (load_type == UPLOAD)
 518:Lib/soes/src/esc_coe.c ****             {
 519:Lib/soes/src/esc_coe.c ****                if (READ_ACCESS(access, state))
 520:Lib/soes/src/esc_coe.c ****                {
 521:Lib/soes/src/esc_coe.c ****                   memcpy(&mbxdata[BITS2BYTES(size)], ul_source,
 522:Lib/soes/src/esc_coe.c ****                         BITS2BYTES(bitlen));
 523:Lib/soes/src/esc_coe.c ****                }
 524:Lib/soes/src/esc_coe.c ****                else
 525:Lib/soes/src/esc_coe.c ****                {
 526:Lib/soes/src/esc_coe.c ****                   /* return zeroes for upload of WO objects */
 527:Lib/soes/src/esc_coe.c ****                   memset(&mbxdata[BITS2BYTES(size)], 0, BITS2BYTES(bitlen));
 528:Lib/soes/src/esc_coe.c ****                }
 529:Lib/soes/src/esc_coe.c ****             }
 530:Lib/soes/src/esc_coe.c ****             /* download of RO objects shall be ignored */
 531:Lib/soes/src/esc_coe.c ****             else if (WRITE_ACCESS(access, state))
 532:Lib/soes/src/esc_coe.c ****             {
 533:Lib/soes/src/esc_coe.c ****                memcpy((objd + nsub)->data, &mbxdata[BITS2BYTES(size)],
 534:Lib/soes/src/esc_coe.c ****                      BITS2BYTES(bitlen));
 535:Lib/soes/src/esc_coe.c ****             }
 536:Lib/soes/src/esc_coe.c ****          }
 537:Lib/soes/src/esc_coe.c ****       }
 538:Lib/soes/src/esc_coe.c ****       else if ((load_type == UPLOAD) && (mbxdata != NULL))
 539:Lib/soes/src/esc_coe.c ****       {
 540:Lib/soes/src/esc_coe.c ****          /* copy a bit data type into correct position */
 541:Lib/soes/src/esc_coe.c ****          uint32_t bitmask = (1U << bitlen) - 1U;
 542:Lib/soes/src/esc_coe.c ****          uint32_t tempmask;
 543:Lib/soes/src/esc_coe.c ****          if (READ_ACCESS(access, state))
ARM GAS  /tmp/ccpX7xVZ.s 			page 11


 544:Lib/soes/src/esc_coe.c ****          {
 545:Lib/soes/src/esc_coe.c ****             if (bitoffset == 0)
 546:Lib/soes/src/esc_coe.c ****             {
 547:Lib/soes/src/esc_coe.c ****                mbxdata[BITSPOS2BYTESOFFSET(size)] = 0;
 548:Lib/soes/src/esc_coe.c ****             }
 549:Lib/soes/src/esc_coe.c ****             tempmask = (*(uint8_t *)ul_source & bitmask) << bitoffset;
 550:Lib/soes/src/esc_coe.c ****             mbxdata[BITSPOS2BYTESOFFSET(size)] |= (uint8_t)tempmask;
 551:Lib/soes/src/esc_coe.c ****          }
 552:Lib/soes/src/esc_coe.c ****          else
 553:Lib/soes/src/esc_coe.c ****          {
 554:Lib/soes/src/esc_coe.c ****             tempmask = ~(bitmask << bitoffset);
 555:Lib/soes/src/esc_coe.c ****             mbxdata[BITSPOS2BYTESOFFSET(size)] &= (uint8_t)tempmask;
 556:Lib/soes/src/esc_coe.c ****          }
 557:Lib/soes/src/esc_coe.c ****       }
 558:Lib/soes/src/esc_coe.c **** 
 559:Lib/soes/src/esc_coe.c ****       /* Subindex 0 is padded to 16 bit */
 560:Lib/soes/src/esc_coe.c ****       size += (nsub == 0) ? 16 : bitlen;
 561:Lib/soes/src/esc_coe.c ****       nsub++;
 562:Lib/soes/src/esc_coe.c **** 
 563:Lib/soes/src/esc_coe.c ****       if ((max_bytes > 0) && (BITS2BYTES(size) >= max_bytes))
 564:Lib/soes/src/esc_coe.c ****       {
 565:Lib/soes/src/esc_coe.c ****          break;
 566:Lib/soes/src/esc_coe.c ****       }
 567:Lib/soes/src/esc_coe.c ****    }
 568:Lib/soes/src/esc_coe.c **** 
 569:Lib/soes/src/esc_coe.c ****    return size;
 570:Lib/soes/src/esc_coe.c **** }
 571:Lib/soes/src/esc_coe.c **** 
 572:Lib/soes/src/esc_coe.c **** static void init_coesdo(_COEsdo *coesdo,
 573:Lib/soes/src/esc_coe.c ****                         uint8_t sdoservice,
 574:Lib/soes/src/esc_coe.c ****                         uint8_t command,
 575:Lib/soes/src/esc_coe.c ****                         uint16_t index,
 576:Lib/soes/src/esc_coe.c ****                         uint8_t subindex)
 577:Lib/soes/src/esc_coe.c **** {
  29              		.loc 1 577 1 view -0
  30              		.cfi_startproc
  31              		@ args = 4, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 577 1 is_stmt 0 view .LVU1
  34 0000 00B5     		push	{lr}
  35              		.cfi_def_cfa_offset 4
  36              		.cfi_offset 14, -4
 578:Lib/soes/src/esc_coe.c ****    coesdo->mbxheader.length = htoes(COE_DEFAULTLENGTH);
  37              		.loc 1 578 4 is_stmt 1 view .LVU2
  38              		.loc 1 578 29 is_stmt 0 view .LVU3
  39 0002 4FF00A0C 		mov	ip, #10
  40 0006 A0F800C0 		strh	ip, [r0]	@ movhi
 579:Lib/soes/src/esc_coe.c ****    coesdo->mbxheader.mbxtype = MBXCOE;
  41              		.loc 1 579 4 is_stmt 1 view .LVU4
  42              		.loc 1 579 30 is_stmt 0 view .LVU5
  43 000a 90F805C0 		ldrb	ip, [r0, #5]	@ zero_extendqisi2
  44 000e 4FF0030E 		mov	lr, #3
  45 0012 6EF3030C 		bfi	ip, lr, #0, #4
  46 0016 80F805C0 		strb	ip, [r0, #5]
  47              	.LVL1:
 580:Lib/soes/src/esc_coe.c ****    coesdo->coeheader.numberservice = htoes(sdoservice << 12);
  48              		.loc 1 580 4 is_stmt 1 view .LVU6
ARM GAS  /tmp/ccpX7xVZ.s 			page 12


  49              		.loc 1 580 38 is_stmt 0 view .LVU7
  50 001a 0903     		lsls	r1, r1, #12
  51              	.LVL2:
  52              		.loc 1 580 36 view .LVU8
  53 001c C180     		strh	r1, [r0, #6]	@ movhi
 581:Lib/soes/src/esc_coe.c ****    coesdo->command = command;
  54              		.loc 1 581 4 is_stmt 1 view .LVU9
  55              		.loc 1 581 20 is_stmt 0 view .LVU10
  56 001e 0272     		strb	r2, [r0, #8]
 582:Lib/soes/src/esc_coe.c ****    coesdo->index = htoes(index);
  57              		.loc 1 582 4 is_stmt 1 view .LVU11
  58              		.loc 1 582 18 is_stmt 0 view .LVU12
  59 0020 A0F80930 		strh	r3, [r0, #9]	@ unaligned
 583:Lib/soes/src/esc_coe.c ****    coesdo->subindex = subindex;
  60              		.loc 1 583 4 is_stmt 1 view .LVU13
  61              		.loc 1 583 21 is_stmt 0 view .LVU14
  62 0024 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
  63              	.LVL3:
  64              		.loc 1 583 21 view .LVU15
  65 0028 C372     		strb	r3, [r0, #11]
 584:Lib/soes/src/esc_coe.c **** }
  66              		.loc 1 584 1 view .LVU16
  67 002a 5DF804FB 		ldr	pc, [sp], #4
  68              		.cfi_endproc
  69              	.LFE9:
  71              		.section	.text.COE_bitsliceGet,"ax",%progbits
  72              		.align	1
  73              		.syntax unified
  74              		.thumb
  75              		.thumb_func
  77              	COE_bitsliceGet:
  78              	.LVL4:
  79              	.LFB21:
 585:Lib/soes/src/esc_coe.c **** 
 586:Lib/soes/src/esc_coe.c **** /** Function for responding on requested SDO Upload with Complete Access,
 587:Lib/soes/src/esc_coe.c ****  *  sending the content requested in a free Mailbox buffer. Depending of
 588:Lib/soes/src/esc_coe.c ****  *  size of data expedited, normal or segmented transfer is used.
 589:Lib/soes/src/esc_coe.c ****  *  On error an SDO Abort will be sent.
 590:Lib/soes/src/esc_coe.c ****  */
 591:Lib/soes/src/esc_coe.c **** static void SDO_upload_complete_access (void)
 592:Lib/soes/src/esc_coe.c **** {
 593:Lib/soes/src/esc_coe.c ****    _COEsdo *coesdo = (_COEsdo *) &MBX[0];
 594:Lib/soes/src/esc_coe.c ****    uint16_t index;
 595:Lib/soes/src/esc_coe.c ****    uint8_t subindex;
 596:Lib/soes/src/esc_coe.c ****    int32_t nidx;
 597:Lib/soes/src/esc_coe.c ****    int16_t nsub;
 598:Lib/soes/src/esc_coe.c ****    uint32_t abortcode = complete_access_get_variables
 599:Lib/soes/src/esc_coe.c ****                            (coesdo, &index, &subindex, &nidx, &nsub);
 600:Lib/soes/src/esc_coe.c ****    if (abortcode != 0)
 601:Lib/soes/src/esc_coe.c ****    {
 602:Lib/soes/src/esc_coe.c ****       set_state_idle (0, index, subindex, abortcode);
 603:Lib/soes/src/esc_coe.c ****       return;
 604:Lib/soes/src/esc_coe.c ****    }
 605:Lib/soes/src/esc_coe.c **** 
 606:Lib/soes/src/esc_coe.c ****    uint8_t MBXout = ESC_claimbuffer ();
 607:Lib/soes/src/esc_coe.c ****    if (MBXout == 0)
 608:Lib/soes/src/esc_coe.c ****    {
ARM GAS  /tmp/ccpX7xVZ.s 			page 13


 609:Lib/soes/src/esc_coe.c ****       /* It is a bad idea to call SDO_abort when ESC_claimbuffer fails,
 610:Lib/soes/src/esc_coe.c ****        * because SDO_abort will also call ESC_claimbuffer ...
 611:Lib/soes/src/esc_coe.c ****        */
 612:Lib/soes/src/esc_coe.c ****       set_state_idle (0, index, subindex, 0);
 613:Lib/soes/src/esc_coe.c ****       return;
 614:Lib/soes/src/esc_coe.c ****    }
 615:Lib/soes/src/esc_coe.c **** 
 616:Lib/soes/src/esc_coe.c ****    const _objd *objd = SDOobjects[nidx].objdesc;
 617:Lib/soes/src/esc_coe.c **** 
 618:Lib/soes/src/esc_coe.c ****    /* loop through the subindexes to get the total size */
 619:Lib/soes/src/esc_coe.c ****    uint32_t size = complete_access_subindex_loop(objd, nidx, nsub, NULL, UPLOAD, 0);
 620:Lib/soes/src/esc_coe.c **** 
 621:Lib/soes/src/esc_coe.c ****    /* expedited bits used calculation */
 622:Lib/soes/src/esc_coe.c ****    uint8_t dss = (size > 24) ? 0 : (uint8_t)(4U * (3U - ((size - 1U) >> 3)));
 623:Lib/soes/src/esc_coe.c **** 
 624:Lib/soes/src/esc_coe.c ****    /* convert bits to bytes */
 625:Lib/soes/src/esc_coe.c ****    size = BITS2BYTES(size);
 626:Lib/soes/src/esc_coe.c **** 
 627:Lib/soes/src/esc_coe.c ****    if (size > 0xffff)
 628:Lib/soes/src/esc_coe.c ****    {
 629:Lib/soes/src/esc_coe.c ****       /* 'size' is in this case actually an abort code */
 630:Lib/soes/src/esc_coe.c ****       set_state_idle (MBXout, index, subindex, size);
 631:Lib/soes/src/esc_coe.c ****       return;
 632:Lib/soes/src/esc_coe.c ****    }
 633:Lib/soes/src/esc_coe.c **** 
 634:Lib/soes/src/esc_coe.c ****    /* check that upload data fits in the preallocated buffer */
 635:Lib/soes/src/esc_coe.c ****    if ((size + PREALLOC_FACTOR * COE_HEADERSIZE) > PREALLOC_BUFFER_SIZE)
 636:Lib/soes/src/esc_coe.c ****    {
 637:Lib/soes/src/esc_coe.c ****       set_state_idle (MBXout, index, subindex, ABORT_CA_NOT_SUPPORTED);
 638:Lib/soes/src/esc_coe.c ****       return;
 639:Lib/soes/src/esc_coe.c ****    }
 640:Lib/soes/src/esc_coe.c ****    abortcode = ESC_upload_pre_objecthandler(index, subindex,
 641:Lib/soes/src/esc_coe.c ****          objd->data, (size_t *)&size, objd->flags | COMPLETE_ACCESS_FLAG);
 642:Lib/soes/src/esc_coe.c ****    if (abortcode != 0)
 643:Lib/soes/src/esc_coe.c ****    {
 644:Lib/soes/src/esc_coe.c ****       set_state_idle (MBXout, index, subindex, abortcode);
 645:Lib/soes/src/esc_coe.c ****       return;
 646:Lib/soes/src/esc_coe.c ****    }
 647:Lib/soes/src/esc_coe.c **** 
 648:Lib/soes/src/esc_coe.c ****    /* copy subindex data into the preallocated buffer */
 649:Lib/soes/src/esc_coe.c ****    complete_access_subindex_loop(objd, nidx, nsub, ESCvar.mbxdata, UPLOAD, 0);
 650:Lib/soes/src/esc_coe.c **** 
 651:Lib/soes/src/esc_coe.c ****    _COEsdo *coeres = (_COEsdo *) &MBX[MBXout * ESC_MBXSIZE];
 652:Lib/soes/src/esc_coe.c ****    init_coesdo(coeres, COE_SDORESPONSE,
 653:Lib/soes/src/esc_coe.c ****          COE_COMMAND_UPLOADRESPONSE | COE_COMPLETEACCESS | COE_SIZE_INDICATOR,
 654:Lib/soes/src/esc_coe.c ****          index, subindex);
 655:Lib/soes/src/esc_coe.c **** 
 656:Lib/soes/src/esc_coe.c ****    ESCvar.segmented = 0;
 657:Lib/soes/src/esc_coe.c **** 
 658:Lib/soes/src/esc_coe.c ****    if (size <= 4)
 659:Lib/soes/src/esc_coe.c ****    {
 660:Lib/soes/src/esc_coe.c ****       /* expedited response, i.e. length <= 4 bytes */
 661:Lib/soes/src/esc_coe.c ****       coeres->command |= (COE_EXPEDITED_INDICATOR | dss);
 662:Lib/soes/src/esc_coe.c ****       memcpy(&(coeres->size), ESCvar.mbxdata, size);
 663:Lib/soes/src/esc_coe.c ****    }
 664:Lib/soes/src/esc_coe.c ****    else
 665:Lib/soes/src/esc_coe.c ****    {
ARM GAS  /tmp/ccpX7xVZ.s 			page 14


 666:Lib/soes/src/esc_coe.c ****       /* normal response, i.e. length > 4 bytes */
 667:Lib/soes/src/esc_coe.c ****       coeres->size = htoel (size);
 668:Lib/soes/src/esc_coe.c **** 
 669:Lib/soes/src/esc_coe.c ****       if ((size + COE_HEADERSIZE) > ESC_MBXDSIZE)
 670:Lib/soes/src/esc_coe.c ****       {
 671:Lib/soes/src/esc_coe.c ****          /* segmented transfer needed */
 672:Lib/soes/src/esc_coe.c ****          /* set total size in bytes */
 673:Lib/soes/src/esc_coe.c ****          ESCvar.frags = size;
 674:Lib/soes/src/esc_coe.c ****          /* limit to mailbox size */
 675:Lib/soes/src/esc_coe.c ****          size = ESC_MBXDSIZE - COE_HEADERSIZE;
 676:Lib/soes/src/esc_coe.c ****          /* number of bytes done */
 677:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft = size;
 678:Lib/soes/src/esc_coe.c ****          /* signal segmented transfer */
 679:Lib/soes/src/esc_coe.c ****          ESCvar.segmented = MBXSEU;
 680:Lib/soes/src/esc_coe.c ****          ESCvar.data = ESCvar.mbxdata;
 681:Lib/soes/src/esc_coe.c ****          ESCvar.flags = COMPLETE_ACCESS_FLAG;
 682:Lib/soes/src/esc_coe.c ****       }
 683:Lib/soes/src/esc_coe.c **** 
 684:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_HEADERSIZE + size);
 685:Lib/soes/src/esc_coe.c ****       memcpy((&(coeres->size)) + 1, ESCvar.mbxdata, size);
 686:Lib/soes/src/esc_coe.c ****    }
 687:Lib/soes/src/esc_coe.c **** 
 688:Lib/soes/src/esc_coe.c ****    if (ESCvar.segmented == 0)
 689:Lib/soes/src/esc_coe.c ****    {
 690:Lib/soes/src/esc_coe.c ****       abortcode = ESC_upload_post_objecthandler (index, subindex,
 691:Lib/soes/src/esc_coe.c ****             objd->flags | COMPLETE_ACCESS_FLAG);
 692:Lib/soes/src/esc_coe.c **** 
 693:Lib/soes/src/esc_coe.c ****       if (abortcode != 0)
 694:Lib/soes/src/esc_coe.c ****       {
 695:Lib/soes/src/esc_coe.c ****          set_state_idle (MBXout, index, subindex, abortcode);
 696:Lib/soes/src/esc_coe.c ****          return;
 697:Lib/soes/src/esc_coe.c ****       }
 698:Lib/soes/src/esc_coe.c ****    }
 699:Lib/soes/src/esc_coe.c **** 
 700:Lib/soes/src/esc_coe.c ****    MBXcontrol[MBXout].state = MBXstate_outreq;
 701:Lib/soes/src/esc_coe.c **** 
 702:Lib/soes/src/esc_coe.c ****    set_state_idle (MBXout, index, subindex, 0);
 703:Lib/soes/src/esc_coe.c **** }
 704:Lib/soes/src/esc_coe.c **** 
 705:Lib/soes/src/esc_coe.c **** /** Function for handling the following SDO Upload if previous SDOUpload
 706:Lib/soes/src/esc_coe.c ****  * response was flagged it needed to be segmented.
 707:Lib/soes/src/esc_coe.c ****  */
 708:Lib/soes/src/esc_coe.c **** static void SDO_uploadsegment (void)
 709:Lib/soes/src/esc_coe.c **** {
 710:Lib/soes/src/esc_coe.c ****    _COEsdo *coesdo, *coeres;
 711:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
 712:Lib/soes/src/esc_coe.c ****    uint32_t size, offset, abort;
 713:Lib/soes/src/esc_coe.c ****    coesdo = (_COEsdo *) &MBX[0];
 714:Lib/soes/src/esc_coe.c ****    MBXout = ESC_claimbuffer ();
 715:Lib/soes/src/esc_coe.c ****    if (MBXout)
 716:Lib/soes/src/esc_coe.c ****    {
 717:Lib/soes/src/esc_coe.c ****       coeres = (_COEsdo *) &MBX[MBXout * ESC_MBXSIZE];
 718:Lib/soes/src/esc_coe.c ****       offset = ESCvar.fragsleft;
 719:Lib/soes/src/esc_coe.c ****       size = ESCvar.frags - ESCvar.fragsleft;
 720:Lib/soes/src/esc_coe.c ****       uint8_t command = COE_COMMAND_UPLOADSEGMENT |
 721:Lib/soes/src/esc_coe.c ****             (coesdo->command & COE_TOGGLEBIT);  /* copy toggle bit */
 722:Lib/soes/src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE, command,
ARM GAS  /tmp/ccpX7xVZ.s 			page 15


 723:Lib/soes/src/esc_coe.c ****             coesdo->index, coesdo->subindex);
 724:Lib/soes/src/esc_coe.c ****       if ((size + COE_SEGMENTHEADERSIZE) > ESC_MBXDSIZE)
 725:Lib/soes/src/esc_coe.c ****       {
 726:Lib/soes/src/esc_coe.c ****          /* more segmented transfer needed */
 727:Lib/soes/src/esc_coe.c ****          /* limit to mailbox size */
 728:Lib/soes/src/esc_coe.c ****          size = ESC_MBXDSIZE - COE_SEGMENTHEADERSIZE;
 729:Lib/soes/src/esc_coe.c ****          /* number of bytes done */
 730:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft += size;
 731:Lib/soes/src/esc_coe.c ****          coeres->mbxheader.length = htoes (COE_SEGMENTHEADERSIZE + size);
 732:Lib/soes/src/esc_coe.c ****       }
 733:Lib/soes/src/esc_coe.c ****       else
 734:Lib/soes/src/esc_coe.c ****       {
 735:Lib/soes/src/esc_coe.c ****          /* last segment */
 736:Lib/soes/src/esc_coe.c ****          ESCvar.segmented = 0;
 737:Lib/soes/src/esc_coe.c ****          ESCvar.frags = 0;
 738:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft = 0;
 739:Lib/soes/src/esc_coe.c ****          coeres->command |= COE_COMMAND_LASTSEGMENTBIT;
 740:Lib/soes/src/esc_coe.c ****          if (size >= 7)
 741:Lib/soes/src/esc_coe.c ****          {
 742:Lib/soes/src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_SEGMENTHEADERSIZE + size);
 743:Lib/soes/src/esc_coe.c ****          }
 744:Lib/soes/src/esc_coe.c ****          else
 745:Lib/soes/src/esc_coe.c ****          {
 746:Lib/soes/src/esc_coe.c ****             coeres->command |= (uint8_t)((7U - size) << 1);
 747:Lib/soes/src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 748:Lib/soes/src/esc_coe.c ****          }
 749:Lib/soes/src/esc_coe.c ****       }
 750:Lib/soes/src/esc_coe.c ****       copy2mbx ((uint8_t *) ESCvar.data + offset, (&(coeres->command)) + 1,
 751:Lib/soes/src/esc_coe.c ****             size);        /* copy to mailbox */
 752:Lib/soes/src/esc_coe.c **** 
 753:Lib/soes/src/esc_coe.c ****       if (ESCvar.segmented == 0)
 754:Lib/soes/src/esc_coe.c ****       {
 755:Lib/soes/src/esc_coe.c ****          abort = ESC_upload_post_objecthandler (etohs (coesdo->index),
 756:Lib/soes/src/esc_coe.c ****                coesdo->subindex, ESCvar.flags);
 757:Lib/soes/src/esc_coe.c ****          if (abort != 0)
 758:Lib/soes/src/esc_coe.c ****          {
 759:Lib/soes/src/esc_coe.c ****             set_state_idle (MBXout, etohs (coesdo->index), coesdo->subindex, abort);
 760:Lib/soes/src/esc_coe.c ****             return;
 761:Lib/soes/src/esc_coe.c ****          }
 762:Lib/soes/src/esc_coe.c ****       }
 763:Lib/soes/src/esc_coe.c **** 
 764:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 765:Lib/soes/src/esc_coe.c ****    }
 766:Lib/soes/src/esc_coe.c ****    MBXcontrol[0].state = MBXstate_idle;
 767:Lib/soes/src/esc_coe.c ****    ESCvar.xoe = 0;
 768:Lib/soes/src/esc_coe.c **** }
 769:Lib/soes/src/esc_coe.c **** 
 770:Lib/soes/src/esc_coe.c **** 
 771:Lib/soes/src/esc_coe.c **** /** Function for handling incoming requested SDO Download, validating the
 772:Lib/soes/src/esc_coe.c ****  * request and sending an response. On error an SDO Abort will be sent.
 773:Lib/soes/src/esc_coe.c ****  */
 774:Lib/soes/src/esc_coe.c **** static void SDO_download (void)
 775:Lib/soes/src/esc_coe.c **** {
 776:Lib/soes/src/esc_coe.c ****    _COEsdo *coesdo, *coeres;
 777:Lib/soes/src/esc_coe.c ****    uint16_t index;
 778:Lib/soes/src/esc_coe.c ****    uint8_t subindex;
 779:Lib/soes/src/esc_coe.c ****    int32_t nidx;
ARM GAS  /tmp/ccpX7xVZ.s 			page 16


 780:Lib/soes/src/esc_coe.c ****    int16_t nsub;
 781:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
 782:Lib/soes/src/esc_coe.c ****    uint32_t size, actsize;
 783:Lib/soes/src/esc_coe.c ****    const _objd *objd;
 784:Lib/soes/src/esc_coe.c ****    uint32_t *mbxdata;
 785:Lib/soes/src/esc_coe.c ****    uint32_t abort;
 786:Lib/soes/src/esc_coe.c **** 
 787:Lib/soes/src/esc_coe.c ****    coesdo = (_COEsdo *) &MBX[0];
 788:Lib/soes/src/esc_coe.c ****    index = etohs (coesdo->index);
 789:Lib/soes/src/esc_coe.c ****    subindex = coesdo->subindex;
 790:Lib/soes/src/esc_coe.c ****    nidx = SDO_findobject (index);
 791:Lib/soes/src/esc_coe.c ****    if (nidx >= 0)
 792:Lib/soes/src/esc_coe.c ****    {
 793:Lib/soes/src/esc_coe.c ****       nsub = SDO_findsubindex (nidx, subindex);
 794:Lib/soes/src/esc_coe.c ****       if (nsub >= 0)
 795:Lib/soes/src/esc_coe.c ****       {
 796:Lib/soes/src/esc_coe.c ****          objd = SDOobjects[nidx].objdesc;
 797:Lib/soes/src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 798:Lib/soes/src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 799:Lib/soes/src/esc_coe.c ****          if (WRITE_ACCESS(access, state))
 800:Lib/soes/src/esc_coe.c ****          {
 801:Lib/soes/src/esc_coe.c ****             /* expedited? */
 802:Lib/soes/src/esc_coe.c ****             if (coesdo->command & COE_EXPEDITED_INDICATOR)
 803:Lib/soes/src/esc_coe.c ****             {
 804:Lib/soes/src/esc_coe.c ****                size = 4U - ((coesdo->command & 0x0CU) >> 2);
 805:Lib/soes/src/esc_coe.c ****                mbxdata = &(coesdo->size);
 806:Lib/soes/src/esc_coe.c ****             }
 807:Lib/soes/src/esc_coe.c ****             else
 808:Lib/soes/src/esc_coe.c ****             {
 809:Lib/soes/src/esc_coe.c ****                /* normal download */
 810:Lib/soes/src/esc_coe.c ****                size = (etohl (coesdo->size) & 0xffff);
 811:Lib/soes/src/esc_coe.c ****                mbxdata = (&(coesdo->size)) + 1;
 812:Lib/soes/src/esc_coe.c ****             }
 813:Lib/soes/src/esc_coe.c ****             actsize = BITS2BYTES((objd + nsub)->bitlength);
 814:Lib/soes/src/esc_coe.c ****             if (actsize != size)
 815:Lib/soes/src/esc_coe.c ****             {
 816:Lib/soes/src/esc_coe.c ****                /* entries with data types VISIBLE_STRING, OCTET_STRING,
 817:Lib/soes/src/esc_coe.c ****                 * UNICODE_STRING, ARRAY_OF_INT, ARRAY_OF_SINT,
 818:Lib/soes/src/esc_coe.c ****                 * ARRAY_OF_DINT, and ARRAY_OF_UDINT may have flexible length
 819:Lib/soes/src/esc_coe.c ****                 */
 820:Lib/soes/src/esc_coe.c ****                uint16_t type = (objd + nsub)->datatype;
 821:Lib/soes/src/esc_coe.c ****                if (type == DTYPE_VISIBLE_STRING)
 822:Lib/soes/src/esc_coe.c ****                {
 823:Lib/soes/src/esc_coe.c ****                   /* pad with zeroes up to the maximum size of the entry */
 824:Lib/soes/src/esc_coe.c ****                   memset((objd + nsub)->data + size, 0, actsize - size);
 825:Lib/soes/src/esc_coe.c ****                }
 826:Lib/soes/src/esc_coe.c ****                else if ((type != DTYPE_OCTET_STRING) &&
 827:Lib/soes/src/esc_coe.c ****                         (type != DTYPE_UNICODE_STRING) &&
 828:Lib/soes/src/esc_coe.c ****                         (type != DTYPE_ARRAY_OF_INT) &&
 829:Lib/soes/src/esc_coe.c ****                         (type != DTYPE_ARRAY_OF_SINT) &&
 830:Lib/soes/src/esc_coe.c ****                         (type != DTYPE_ARRAY_OF_DINT) &&
 831:Lib/soes/src/esc_coe.c ****                         (type != DTYPE_ARRAY_OF_UDINT))
 832:Lib/soes/src/esc_coe.c ****                {
 833:Lib/soes/src/esc_coe.c ****                   set_state_idle (0, index, subindex, ABORT_TYPEMISMATCH);
 834:Lib/soes/src/esc_coe.c ****                   return;
 835:Lib/soes/src/esc_coe.c ****                }
 836:Lib/soes/src/esc_coe.c ****             }
ARM GAS  /tmp/ccpX7xVZ.s 			page 17


 837:Lib/soes/src/esc_coe.c ****             abort = ESC_download_pre_objecthandler (
 838:Lib/soes/src/esc_coe.c ****                   index,
 839:Lib/soes/src/esc_coe.c ****                   subindex,
 840:Lib/soes/src/esc_coe.c ****                   mbxdata,
 841:Lib/soes/src/esc_coe.c ****                   size,
 842:Lib/soes/src/esc_coe.c ****                   (objd + nsub)->flags
 843:Lib/soes/src/esc_coe.c ****             );
 844:Lib/soes/src/esc_coe.c ****             if (abort == 0)
 845:Lib/soes/src/esc_coe.c ****             {
 846:Lib/soes/src/esc_coe.c ****                if ((size > 4) &&
 847:Lib/soes/src/esc_coe.c ****                      (size > (coesdo->mbxheader.length - COE_HEADERSIZE)))
 848:Lib/soes/src/esc_coe.c ****                {
 849:Lib/soes/src/esc_coe.c ****                   size = coesdo->mbxheader.length - COE_HEADERSIZE;
 850:Lib/soes/src/esc_coe.c ****                   /* signal segmented transfer */
 851:Lib/soes/src/esc_coe.c ****                   ESCvar.segmented = MBXSED;
 852:Lib/soes/src/esc_coe.c ****                   ESCvar.data = (objd + nsub)->data + size;
 853:Lib/soes/src/esc_coe.c ****                   ESCvar.index = index;
 854:Lib/soes/src/esc_coe.c ****                   ESCvar.subindex = subindex;
 855:Lib/soes/src/esc_coe.c ****                   ESCvar.flags = (objd + nsub)->flags;
 856:Lib/soes/src/esc_coe.c ****                }
 857:Lib/soes/src/esc_coe.c ****                else
 858:Lib/soes/src/esc_coe.c ****                {
 859:Lib/soes/src/esc_coe.c ****                   ESCvar.segmented = 0;
 860:Lib/soes/src/esc_coe.c ****                }
 861:Lib/soes/src/esc_coe.c ****                copy2mbx (mbxdata, (objd + nsub)->data, size);
 862:Lib/soes/src/esc_coe.c ****                MBXout = ESC_claimbuffer ();
 863:Lib/soes/src/esc_coe.c ****                if (MBXout)
 864:Lib/soes/src/esc_coe.c ****                {
 865:Lib/soes/src/esc_coe.c ****                   coeres = (_COEsdo *) &MBX[MBXout * ESC_MBXSIZE];
 866:Lib/soes/src/esc_coe.c ****                   coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 867:Lib/soes/src/esc_coe.c ****                   coeres->mbxheader.mbxtype = MBXCOE;
 868:Lib/soes/src/esc_coe.c ****                   coeres->coeheader.numberservice =
 869:Lib/soes/src/esc_coe.c ****                         htoes ((0 & 0x01f) | (COE_SDORESPONSE << 12));
 870:Lib/soes/src/esc_coe.c ****                   coeres->index = htoes (index);
 871:Lib/soes/src/esc_coe.c ****                   coeres->subindex = subindex;
 872:Lib/soes/src/esc_coe.c ****                   coeres->command = COE_COMMAND_DOWNLOADRESPONSE;
 873:Lib/soes/src/esc_coe.c ****                   coeres->size = htoel (0);
 874:Lib/soes/src/esc_coe.c ****                   MBXcontrol[MBXout].state = MBXstate_outreq;
 875:Lib/soes/src/esc_coe.c ****                }
 876:Lib/soes/src/esc_coe.c ****                if (ESCvar.segmented == 0)
 877:Lib/soes/src/esc_coe.c ****                {
 878:Lib/soes/src/esc_coe.c ****                   /* external object write handler */
 879:Lib/soes/src/esc_coe.c ****                   abort = ESC_download_post_objecthandler (index, subindex, (objd + nsub)->flags);
 880:Lib/soes/src/esc_coe.c ****                   if (abort != 0)
 881:Lib/soes/src/esc_coe.c ****                   {
 882:Lib/soes/src/esc_coe.c ****                      SDO_abort (MBXout, index, subindex, abort);
 883:Lib/soes/src/esc_coe.c ****                   }
 884:Lib/soes/src/esc_coe.c ****                }
 885:Lib/soes/src/esc_coe.c ****             }
 886:Lib/soes/src/esc_coe.c ****             else
 887:Lib/soes/src/esc_coe.c ****             {
 888:Lib/soes/src/esc_coe.c ****                SDO_abort (0, index, subindex, abort);
 889:Lib/soes/src/esc_coe.c ****             }
 890:Lib/soes/src/esc_coe.c ****          }
 891:Lib/soes/src/esc_coe.c ****          else
 892:Lib/soes/src/esc_coe.c ****          {
 893:Lib/soes/src/esc_coe.c ****             if (access == ATYPE_RO)
ARM GAS  /tmp/ccpX7xVZ.s 			page 18


 894:Lib/soes/src/esc_coe.c ****             {
 895:Lib/soes/src/esc_coe.c ****                SDO_abort (0, index, subindex, ABORT_READONLY);
 896:Lib/soes/src/esc_coe.c **** 
 897:Lib/soes/src/esc_coe.c ****             }
 898:Lib/soes/src/esc_coe.c ****             else
 899:Lib/soes/src/esc_coe.c ****             {
 900:Lib/soes/src/esc_coe.c ****                SDO_abort (0, index, subindex, ABORT_NOTINTHISSTATE);
 901:Lib/soes/src/esc_coe.c ****             }
 902:Lib/soes/src/esc_coe.c ****          }
 903:Lib/soes/src/esc_coe.c ****       }
 904:Lib/soes/src/esc_coe.c ****       else
 905:Lib/soes/src/esc_coe.c ****       {
 906:Lib/soes/src/esc_coe.c ****          SDO_abort (0, index, subindex, ABORT_NOSUBINDEX);
 907:Lib/soes/src/esc_coe.c ****       }
 908:Lib/soes/src/esc_coe.c ****    }
 909:Lib/soes/src/esc_coe.c ****    else
 910:Lib/soes/src/esc_coe.c ****    {
 911:Lib/soes/src/esc_coe.c ****       SDO_abort (0, index, subindex, ABORT_NOOBJECT);
 912:Lib/soes/src/esc_coe.c ****    }
 913:Lib/soes/src/esc_coe.c ****    MBXcontrol[0].state = MBXstate_idle;
 914:Lib/soes/src/esc_coe.c ****    ESCvar.xoe = 0;
 915:Lib/soes/src/esc_coe.c **** }
 916:Lib/soes/src/esc_coe.c **** 
 917:Lib/soes/src/esc_coe.c **** /** Function for handling incoming requested SDO Download with Complete Access,
 918:Lib/soes/src/esc_coe.c ****  *  validating the request and sending a response. On error an SDO Abort will
 919:Lib/soes/src/esc_coe.c ****  *  be sent.
 920:Lib/soes/src/esc_coe.c ****  */
 921:Lib/soes/src/esc_coe.c **** static void SDO_download_complete_access (void)
 922:Lib/soes/src/esc_coe.c **** {
 923:Lib/soes/src/esc_coe.c ****    _COEsdo *coesdo = (_COEsdo *) &MBX[0];
 924:Lib/soes/src/esc_coe.c ****    uint16_t index;
 925:Lib/soes/src/esc_coe.c ****    uint8_t subindex;
 926:Lib/soes/src/esc_coe.c ****    int32_t nidx;
 927:Lib/soes/src/esc_coe.c ****    int16_t nsub;
 928:Lib/soes/src/esc_coe.c ****    uint32_t abortcode = complete_access_get_variables
 929:Lib/soes/src/esc_coe.c ****                            (coesdo, &index, &subindex, &nidx, &nsub);
 930:Lib/soes/src/esc_coe.c ****    if (abortcode != 0)
 931:Lib/soes/src/esc_coe.c ****    {
 932:Lib/soes/src/esc_coe.c ****       set_state_idle (0, index, subindex, abortcode);
 933:Lib/soes/src/esc_coe.c ****       return;
 934:Lib/soes/src/esc_coe.c ****    }
 935:Lib/soes/src/esc_coe.c **** 
 936:Lib/soes/src/esc_coe.c ****    uint32_t bytes;
 937:Lib/soes/src/esc_coe.c ****    uint32_t *mbxdata = &(coesdo->size);
 938:Lib/soes/src/esc_coe.c **** 
 939:Lib/soes/src/esc_coe.c ****    if (coesdo->command & COE_EXPEDITED_INDICATOR)
 940:Lib/soes/src/esc_coe.c ****    {
 941:Lib/soes/src/esc_coe.c ****       /* expedited download */
 942:Lib/soes/src/esc_coe.c ****       bytes = 4U - ((coesdo->command & 0x0CU) >> 2);
 943:Lib/soes/src/esc_coe.c ****    }
 944:Lib/soes/src/esc_coe.c ****    else
 945:Lib/soes/src/esc_coe.c ****    {
 946:Lib/soes/src/esc_coe.c ****       /* normal download */
 947:Lib/soes/src/esc_coe.c ****       bytes = (etohl (coesdo->size) & 0xffff);
 948:Lib/soes/src/esc_coe.c ****       mbxdata++;
 949:Lib/soes/src/esc_coe.c ****    }
 950:Lib/soes/src/esc_coe.c **** 
ARM GAS  /tmp/ccpX7xVZ.s 			page 19


 951:Lib/soes/src/esc_coe.c ****    const _objd *objd = SDOobjects[nidx].objdesc;
 952:Lib/soes/src/esc_coe.c **** 
 953:Lib/soes/src/esc_coe.c ****    /* loop through the subindexes to get the total size */
 954:Lib/soes/src/esc_coe.c ****    uint32_t size = complete_access_subindex_loop(objd, nidx, nsub, NULL, DOWNLOAD, 0);
 955:Lib/soes/src/esc_coe.c ****    size = BITS2BYTES(size);
 956:Lib/soes/src/esc_coe.c ****    if (size > 0xffff)
 957:Lib/soes/src/esc_coe.c ****    {
 958:Lib/soes/src/esc_coe.c ****       /* 'size' is in this case actually an abort code */
 959:Lib/soes/src/esc_coe.c ****       set_state_idle (0, index, subindex, size);
 960:Lib/soes/src/esc_coe.c ****       return;
 961:Lib/soes/src/esc_coe.c ****    }
 962:Lib/soes/src/esc_coe.c ****    /* The document ETG.1020 S (R) V1.3.0, chapter 12.2, states that
 963:Lib/soes/src/esc_coe.c ****     * "The SDO Download Complete Access data length shall always match
 964:Lib/soes/src/esc_coe.c ****     * the full current object size (defined by SubIndex0)".
 965:Lib/soes/src/esc_coe.c ****     * But EtherCAT Conformance Test Tool doesn't follow this rule for some test
 966:Lib/soes/src/esc_coe.c ****     * cases, which is the reason to here only check for 'less than or equal'.
 967:Lib/soes/src/esc_coe.c ****     */
 968:Lib/soes/src/esc_coe.c ****    else if (bytes <= size)
 969:Lib/soes/src/esc_coe.c ****    {
 970:Lib/soes/src/esc_coe.c ****       abortcode = ESC_download_pre_objecthandler(index, subindex, mbxdata,
 971:Lib/soes/src/esc_coe.c ****             size, objd->flags | COMPLETE_ACCESS_FLAG);
 972:Lib/soes/src/esc_coe.c ****       if (abortcode != 0)
 973:Lib/soes/src/esc_coe.c ****       {
 974:Lib/soes/src/esc_coe.c ****          set_state_idle (0, index, subindex, abortcode);
 975:Lib/soes/src/esc_coe.c ****          return;
 976:Lib/soes/src/esc_coe.c ****       }
 977:Lib/soes/src/esc_coe.c **** 
 978:Lib/soes/src/esc_coe.c ****       if ((bytes + COE_HEADERSIZE) > ESC_MBXDSIZE)
 979:Lib/soes/src/esc_coe.c ****       {
 980:Lib/soes/src/esc_coe.c ****          /* check that download data fits in the preallocated buffer */
 981:Lib/soes/src/esc_coe.c ****          if ((bytes + PREALLOC_FACTOR * COE_HEADERSIZE) > PREALLOC_BUFFER_SIZE)
 982:Lib/soes/src/esc_coe.c ****          {
 983:Lib/soes/src/esc_coe.c ****              set_state_idle(0, index, subindex, ABORT_CA_NOT_SUPPORTED);
 984:Lib/soes/src/esc_coe.c ****              return;
 985:Lib/soes/src/esc_coe.c ****          }
 986:Lib/soes/src/esc_coe.c ****          /* set total size in bytes */
 987:Lib/soes/src/esc_coe.c ****          ESCvar.frags = bytes;
 988:Lib/soes/src/esc_coe.c ****          /* limit to mailbox size */
 989:Lib/soes/src/esc_coe.c ****          size = ESC_MBXDSIZE - COE_HEADERSIZE;
 990:Lib/soes/src/esc_coe.c ****          /* number of bytes done */
 991:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft = size;
 992:Lib/soes/src/esc_coe.c ****          ESCvar.segmented = MBXSED;
 993:Lib/soes/src/esc_coe.c ****          ESCvar.data = ESCvar.mbxdata + size;
 994:Lib/soes/src/esc_coe.c ****          ESCvar.index = index;
 995:Lib/soes/src/esc_coe.c ****          ESCvar.subindex = subindex;
 996:Lib/soes/src/esc_coe.c ****          ESCvar.flags = COMPLETE_ACCESS_FLAG;
 997:Lib/soes/src/esc_coe.c ****          /* Store the data */
 998:Lib/soes/src/esc_coe.c ****          copy2mbx (mbxdata, ESCvar.mbxdata, size);
 999:Lib/soes/src/esc_coe.c ****       }
1000:Lib/soes/src/esc_coe.c ****       else
1001:Lib/soes/src/esc_coe.c ****       {
1002:Lib/soes/src/esc_coe.c ****          ESCvar.segmented = 0;
1003:Lib/soes/src/esc_coe.c ****          /* copy download data to subindexes */
1004:Lib/soes/src/esc_coe.c ****          complete_access_subindex_loop(objd, nidx, nsub, (uint8_t *)mbxdata, DOWNLOAD, bytes);
1005:Lib/soes/src/esc_coe.c **** 
1006:Lib/soes/src/esc_coe.c ****          abortcode = ESC_download_post_objecthandler(index, subindex,
1007:Lib/soes/src/esc_coe.c ****                objd->flags | COMPLETE_ACCESS_FLAG);
ARM GAS  /tmp/ccpX7xVZ.s 			page 20


1008:Lib/soes/src/esc_coe.c ****          if (abortcode != 0)
1009:Lib/soes/src/esc_coe.c ****          {
1010:Lib/soes/src/esc_coe.c ****             set_state_idle (0, index, subindex, abortcode);
1011:Lib/soes/src/esc_coe.c ****             return;
1012:Lib/soes/src/esc_coe.c ****          }
1013:Lib/soes/src/esc_coe.c ****       }
1014:Lib/soes/src/esc_coe.c ****    }
1015:Lib/soes/src/esc_coe.c ****    else
1016:Lib/soes/src/esc_coe.c ****    {
1017:Lib/soes/src/esc_coe.c ****       set_state_idle (0, index, subindex, ABORT_TYPEMISMATCH);
1018:Lib/soes/src/esc_coe.c ****       return;
1019:Lib/soes/src/esc_coe.c ****    }
1020:Lib/soes/src/esc_coe.c **** 
1021:Lib/soes/src/esc_coe.c ****    uint8_t MBXout = ESC_claimbuffer ();
1022:Lib/soes/src/esc_coe.c ****    if (MBXout > 0)
1023:Lib/soes/src/esc_coe.c ****    {
1024:Lib/soes/src/esc_coe.c ****       _COEsdo *coeres = (_COEsdo *) &MBX[MBXout * ESC_MBXSIZE];
1025:Lib/soes/src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE,
1026:Lib/soes/src/esc_coe.c ****                   COE_COMMAND_DOWNLOADRESPONSE | COE_COMPLETEACCESS,
1027:Lib/soes/src/esc_coe.c ****                   index, subindex);
1028:Lib/soes/src/esc_coe.c **** 
1029:Lib/soes/src/esc_coe.c ****       coeres->size = 0;
1030:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
1031:Lib/soes/src/esc_coe.c ****    }
1032:Lib/soes/src/esc_coe.c **** 
1033:Lib/soes/src/esc_coe.c ****    set_state_idle (MBXout, index, subindex, 0);
1034:Lib/soes/src/esc_coe.c **** }
1035:Lib/soes/src/esc_coe.c **** 
1036:Lib/soes/src/esc_coe.c **** static void SDO_downloadsegment (void)
1037:Lib/soes/src/esc_coe.c **** {
1038:Lib/soes/src/esc_coe.c ****    _COEsdo *coesdo = (_COEsdo *) &MBX[0];
1039:Lib/soes/src/esc_coe.c ****    uint8_t MBXout = ESC_claimbuffer ();
1040:Lib/soes/src/esc_coe.c ****    if (MBXout)
1041:Lib/soes/src/esc_coe.c ****    {
1042:Lib/soes/src/esc_coe.c ****       _COEsdo *coeres = (_COEsdo *) &MBX[MBXout * ESC_MBXSIZE];
1043:Lib/soes/src/esc_coe.c ****       uint32_t size = coesdo->mbxheader.length - 3U;
1044:Lib/soes/src/esc_coe.c ****       if (size == 7)
1045:Lib/soes/src/esc_coe.c ****       {
1046:Lib/soes/src/esc_coe.c ****          size = 7 - ((coesdo->command >> 1) & 7);
1047:Lib/soes/src/esc_coe.c ****       }
1048:Lib/soes/src/esc_coe.c ****       uint8_t command = COE_COMMAND_DOWNLOADSEGRESP;
1049:Lib/soes/src/esc_coe.c ****       uint8_t command2 = (coesdo->command & COE_TOGGLEBIT);  /* copy toggle bit */
1050:Lib/soes/src/esc_coe.c ****       command |= command2;
1051:Lib/soes/src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE, command, 0, 0);
1052:Lib/soes/src/esc_coe.c **** 
1053:Lib/soes/src/esc_coe.c ****       void *mbxdata = &(coesdo->index);  /* data pointer */
1054:Lib/soes/src/esc_coe.c ****       copy2mbx (mbxdata, ESCvar.data, size);
1055:Lib/soes/src/esc_coe.c **** 
1056:Lib/soes/src/esc_coe.c ****       if (coesdo->command & COE_COMMAND_LASTSEGMENTBIT)
1057:Lib/soes/src/esc_coe.c ****       {
1058:Lib/soes/src/esc_coe.c ****          if(ESCvar.flags == COMPLETE_ACCESS_FLAG)
1059:Lib/soes/src/esc_coe.c ****          {
1060:Lib/soes/src/esc_coe.c ****             int32_t nidx;
1061:Lib/soes/src/esc_coe.c ****             int16_t nsub;
1062:Lib/soes/src/esc_coe.c **** 
1063:Lib/soes/src/esc_coe.c ****             if(ESCvar.frags > ESCvar.fragsleft + size)
1064:Lib/soes/src/esc_coe.c ****             {
ARM GAS  /tmp/ccpX7xVZ.s 			page 21


1065:Lib/soes/src/esc_coe.c ****                set_state_idle (0, ESCvar.index, ESCvar.subindex, ABORT_TYPEMISMATCH);
1066:Lib/soes/src/esc_coe.c ****                return;
1067:Lib/soes/src/esc_coe.c ****             }
1068:Lib/soes/src/esc_coe.c **** 
1069:Lib/soes/src/esc_coe.c ****             nidx = SDO_findobject(ESCvar.index);
1070:Lib/soes/src/esc_coe.c ****             nsub = SDO_findsubindex (nidx, ESCvar.subindex);
1071:Lib/soes/src/esc_coe.c **** 
1072:Lib/soes/src/esc_coe.c ****             if ((nidx < 0) || (nsub < 0))
1073:Lib/soes/src/esc_coe.c ****             {
1074:Lib/soes/src/esc_coe.c ****                set_state_idle (0, ESCvar.index, ESCvar.subindex, ABORT_NOOBJECT);
1075:Lib/soes/src/esc_coe.c ****                return;
1076:Lib/soes/src/esc_coe.c ****             }
1077:Lib/soes/src/esc_coe.c **** 
1078:Lib/soes/src/esc_coe.c ****             /* copy download data to subindexes */
1079:Lib/soes/src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
1080:Lib/soes/src/esc_coe.c ****             complete_access_subindex_loop(objd,
1081:Lib/soes/src/esc_coe.c ****                   nidx,
1082:Lib/soes/src/esc_coe.c ****                   nsub,
1083:Lib/soes/src/esc_coe.c ****                   (uint8_t *)ESCvar.mbxdata,
1084:Lib/soes/src/esc_coe.c ****                   DOWNLOAD,
1085:Lib/soes/src/esc_coe.c ****                   ESCvar.frags);
1086:Lib/soes/src/esc_coe.c **** 
1087:Lib/soes/src/esc_coe.c ****          }
1088:Lib/soes/src/esc_coe.c ****          /* last segment */
1089:Lib/soes/src/esc_coe.c ****          ESCvar.segmented = 0;
1090:Lib/soes/src/esc_coe.c ****          ESCvar.frags = 0;
1091:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft = 0;
1092:Lib/soes/src/esc_coe.c ****          /* external object write handler */
1093:Lib/soes/src/esc_coe.c ****          uint32_t abort = ESC_download_post_objecthandler
1094:Lib/soes/src/esc_coe.c ****                (ESCvar.index, ESCvar.subindex, ESCvar.flags);
1095:Lib/soes/src/esc_coe.c ****          if (abort != 0)
1096:Lib/soes/src/esc_coe.c ****          {
1097:Lib/soes/src/esc_coe.c ****             set_state_idle (MBXout, ESCvar.index, ESCvar.subindex, abort);
1098:Lib/soes/src/esc_coe.c ****             return;
1099:Lib/soes/src/esc_coe.c ****          }
1100:Lib/soes/src/esc_coe.c ****       }
1101:Lib/soes/src/esc_coe.c ****       else
1102:Lib/soes/src/esc_coe.c ****       {
1103:Lib/soes/src/esc_coe.c ****          /* more segmented transfer needed: increase offset */
1104:Lib/soes/src/esc_coe.c ****          ESCvar.data += size;
1105:Lib/soes/src/esc_coe.c ****          /* number of bytes done */
1106:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft += size;
1107:Lib/soes/src/esc_coe.c ****       }
1108:Lib/soes/src/esc_coe.c **** 
1109:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
1110:Lib/soes/src/esc_coe.c ****    }
1111:Lib/soes/src/esc_coe.c **** 
1112:Lib/soes/src/esc_coe.c ****    set_state_idle (0, 0, 0, 0);
1113:Lib/soes/src/esc_coe.c **** }
1114:Lib/soes/src/esc_coe.c **** 
1115:Lib/soes/src/esc_coe.c **** /** Function for sending an SDO Info Error reply.
1116:Lib/soes/src/esc_coe.c ****  *
1117:Lib/soes/src/esc_coe.c ****  * @param[in] abortcode  = = abort code to send in reply
1118:Lib/soes/src/esc_coe.c ****  */
1119:Lib/soes/src/esc_coe.c **** static void SDO_infoerror (uint32_t abortcode)
1120:Lib/soes/src/esc_coe.c **** {
1121:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
ARM GAS  /tmp/ccpX7xVZ.s 			page 22


1122:Lib/soes/src/esc_coe.c ****    _COEobjdesc *coeres;
1123:Lib/soes/src/esc_coe.c ****    MBXout = ESC_claimbuffer ();
1124:Lib/soes/src/esc_coe.c ****    if (MBXout)
1125:Lib/soes/src/esc_coe.c ****    {
1126:Lib/soes/src/esc_coe.c ****       coeres = (_COEobjdesc *) &MBX[MBXout * ESC_MBXSIZE];
1127:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_HEADERSIZE);
1128:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.mbxtype = MBXCOE;
1129:Lib/soes/src/esc_coe.c ****       coeres->coeheader.numberservice =
1130:Lib/soes/src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
1131:Lib/soes/src/esc_coe.c ****       /* SDO info error request */
1132:Lib/soes/src/esc_coe.c ****       coeres->infoheader.opcode = COE_INFOERROR;
1133:Lib/soes/src/esc_coe.c ****       coeres->infoheader.incomplete = 0;
1134:Lib/soes/src/esc_coe.c ****       coeres->infoheader.reserved = 0x00;
1135:Lib/soes/src/esc_coe.c ****       coeres->infoheader.fragmentsleft = 0;
1136:Lib/soes/src/esc_coe.c ****       coeres->index = (uint16_t)htoel (abortcode);
1137:Lib/soes/src/esc_coe.c ****       coeres->datatype = (uint16_t)(htoel (abortcode) >> 16);
1138:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
1139:Lib/soes/src/esc_coe.c ****       MBXcontrol[0].state = MBXstate_idle;
1140:Lib/soes/src/esc_coe.c ****       ESCvar.xoe = 0;
1141:Lib/soes/src/esc_coe.c ****    }
1142:Lib/soes/src/esc_coe.c **** }
1143:Lib/soes/src/esc_coe.c **** 
1144:Lib/soes/src/esc_coe.c **** #define ODLISTSIZE  ((uint32_t)(ESC_MBX1_sml - ESC_MBXHSIZE - sizeof(_COEh) - sizeof(_INFOh) - 2U) 
1145:Lib/soes/src/esc_coe.c **** 
1146:Lib/soes/src/esc_coe.c **** /** Function for handling incoming requested SDO Get OD List, validating the
1147:Lib/soes/src/esc_coe.c ****  * request and sending an response. On error an SDO Info Error will be sent.
1148:Lib/soes/src/esc_coe.c ****  */
1149:Lib/soes/src/esc_coe.c **** static void SDO_getodlist (void)
1150:Lib/soes/src/esc_coe.c **** {
1151:Lib/soes/src/esc_coe.c ****    uint32_t frags;
1152:Lib/soes/src/esc_coe.c ****    uint8_t MBXout = 0;
1153:Lib/soes/src/esc_coe.c ****    uint16_t entries = 0;
1154:Lib/soes/src/esc_coe.c ****    uint16_t i, n;
1155:Lib/soes/src/esc_coe.c ****    uint16_t *p;
1156:Lib/soes/src/esc_coe.c ****    _COEobjdesc *coel, *coer;
1157:Lib/soes/src/esc_coe.c **** 
1158:Lib/soes/src/esc_coe.c ****    while (SDOobjects[entries].index != 0xffff)
1159:Lib/soes/src/esc_coe.c ****    {
1160:Lib/soes/src/esc_coe.c ****       entries++;
1161:Lib/soes/src/esc_coe.c ****    }
1162:Lib/soes/src/esc_coe.c ****    ESCvar.entries = entries;
1163:Lib/soes/src/esc_coe.c ****    frags = ((uint32_t)(entries << 1) + ODLISTSIZE - 1U);
1164:Lib/soes/src/esc_coe.c ****    frags /= ODLISTSIZE;
1165:Lib/soes/src/esc_coe.c ****    coer = (_COEobjdesc *) &MBX[0];
1166:Lib/soes/src/esc_coe.c ****    /* check for unsupported opcodes */
1167:Lib/soes/src/esc_coe.c ****    if (etohs (coer->index) > 0x01)
1168:Lib/soes/src/esc_coe.c ****    {
1169:Lib/soes/src/esc_coe.c ****       SDO_infoerror (ABORT_UNSUPPORTED);
1170:Lib/soes/src/esc_coe.c ****    }
1171:Lib/soes/src/esc_coe.c ****    else
1172:Lib/soes/src/esc_coe.c ****    {
1173:Lib/soes/src/esc_coe.c ****       MBXout = ESC_claimbuffer ();
1174:Lib/soes/src/esc_coe.c ****    }
1175:Lib/soes/src/esc_coe.c ****    if (MBXout)
1176:Lib/soes/src/esc_coe.c ****    {
1177:Lib/soes/src/esc_coe.c ****       coel = (_COEobjdesc *) &MBX[MBXout * ESC_MBXSIZE];
1178:Lib/soes/src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
ARM GAS  /tmp/ccpX7xVZ.s 			page 23


1179:Lib/soes/src/esc_coe.c ****       coel->coeheader.numberservice =
1180:Lib/soes/src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
1181:Lib/soes/src/esc_coe.c ****       coel->infoheader.opcode = COE_GETODLISTRESPONSE;
1182:Lib/soes/src/esc_coe.c ****       /* number of objects request */
1183:Lib/soes/src/esc_coe.c ****       if (etohs (coer->index) == 0x00)
1184:Lib/soes/src/esc_coe.c ****       {
1185:Lib/soes/src/esc_coe.c ****          coel->index = htoes (0x00);
1186:Lib/soes/src/esc_coe.c ****          coel->infoheader.incomplete = 0;
1187:Lib/soes/src/esc_coe.c ****          coel->infoheader.reserved = 0x00;
1188:Lib/soes/src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (0);
1189:Lib/soes/src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
1190:Lib/soes/src/esc_coe.c ****          ESCvar.xoe = 0;
1191:Lib/soes/src/esc_coe.c ****          ESCvar.frags = frags;
1192:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft = frags - 1;
1193:Lib/soes/src/esc_coe.c ****          p = &(coel->datatype);
1194:Lib/soes/src/esc_coe.c ****          *p = htoes (entries);
1195:Lib/soes/src/esc_coe.c ****          p++;
1196:Lib/soes/src/esc_coe.c ****          *p = 0;
1197:Lib/soes/src/esc_coe.c ****          p++;
1198:Lib/soes/src/esc_coe.c ****          *p = 0;
1199:Lib/soes/src/esc_coe.c ****          p++;
1200:Lib/soes/src/esc_coe.c ****          *p = 0;
1201:Lib/soes/src/esc_coe.c ****          p++;
1202:Lib/soes/src/esc_coe.c ****          *p = 0;
1203:Lib/soes/src/esc_coe.c ****          coel->mbxheader.length = htoes (0x08 + (5 << 1));
1204:Lib/soes/src/esc_coe.c ****       }
1205:Lib/soes/src/esc_coe.c ****       /* only return all objects */
1206:Lib/soes/src/esc_coe.c ****       if (etohs (coer->index) == 0x01)
1207:Lib/soes/src/esc_coe.c ****       {
1208:Lib/soes/src/esc_coe.c ****          if (frags > 1)
1209:Lib/soes/src/esc_coe.c ****          {
1210:Lib/soes/src/esc_coe.c ****             coel->infoheader.incomplete = 1;
1211:Lib/soes/src/esc_coe.c ****             ESCvar.xoe = MBXCOE + MBXODL;
1212:Lib/soes/src/esc_coe.c ****             n = ODLISTSIZE >> 1;
1213:Lib/soes/src/esc_coe.c ****          }
1214:Lib/soes/src/esc_coe.c ****          else
1215:Lib/soes/src/esc_coe.c ****          {
1216:Lib/soes/src/esc_coe.c ****             coel->infoheader.incomplete = 0;
1217:Lib/soes/src/esc_coe.c ****             MBXcontrol[0].state = MBXstate_idle;
1218:Lib/soes/src/esc_coe.c ****             ESCvar.xoe = 0;
1219:Lib/soes/src/esc_coe.c ****             n = entries;
1220:Lib/soes/src/esc_coe.c ****          }
1221:Lib/soes/src/esc_coe.c ****          coel->infoheader.reserved = 0x00;
1222:Lib/soes/src/esc_coe.c ****          ESCvar.frags = frags;
1223:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft = frags - 1;
1224:Lib/soes/src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (ESCvar.fragsleft);
1225:Lib/soes/src/esc_coe.c ****          coel->index = htoes (0x01);
1226:Lib/soes/src/esc_coe.c **** 
1227:Lib/soes/src/esc_coe.c ****          p = &(coel->datatype);
1228:Lib/soes/src/esc_coe.c ****          for (i = 0; i < n; i++)
1229:Lib/soes/src/esc_coe.c ****          {
1230:Lib/soes/src/esc_coe.c ****             *p = htoes (SDOobjects[i].index);
1231:Lib/soes/src/esc_coe.c ****             p++;
1232:Lib/soes/src/esc_coe.c ****          }
1233:Lib/soes/src/esc_coe.c **** 
1234:Lib/soes/src/esc_coe.c ****          coel->mbxheader.length = htoes (0x08 + (n << 1));
1235:Lib/soes/src/esc_coe.c ****       }
ARM GAS  /tmp/ccpX7xVZ.s 			page 24


1236:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
1237:Lib/soes/src/esc_coe.c ****    }
1238:Lib/soes/src/esc_coe.c **** }
1239:Lib/soes/src/esc_coe.c **** /** Function for continuing sending left overs from previous requested
1240:Lib/soes/src/esc_coe.c ****  * SDO Get OD List, validating the request and sending an response.
1241:Lib/soes/src/esc_coe.c ****  */
1242:Lib/soes/src/esc_coe.c **** static void SDO_getodlistcont (void)
1243:Lib/soes/src/esc_coe.c **** {
1244:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
1245:Lib/soes/src/esc_coe.c ****    uint16_t i, n, s;
1246:Lib/soes/src/esc_coe.c ****    uint16_t *p;
1247:Lib/soes/src/esc_coe.c ****    _COEobjdesc *coel;
1248:Lib/soes/src/esc_coe.c **** 
1249:Lib/soes/src/esc_coe.c ****    MBXout = ESC_claimbuffer ();
1250:Lib/soes/src/esc_coe.c ****    if (MBXout)
1251:Lib/soes/src/esc_coe.c ****    {
1252:Lib/soes/src/esc_coe.c ****       coel = (_COEobjdesc *) &MBX[MBXout * ESC_MBXSIZE];
1253:Lib/soes/src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
1254:Lib/soes/src/esc_coe.c ****       coel->coeheader.numberservice =
1255:Lib/soes/src/esc_coe.c ****          htoes (COE_SDOINFORMATION << 12);
1256:Lib/soes/src/esc_coe.c ****       coel->infoheader.opcode = COE_GETODLISTRESPONSE;
1257:Lib/soes/src/esc_coe.c ****       s = (uint16_t)((ESCvar.frags - ESCvar.fragsleft) * (ODLISTSIZE >> 1));
1258:Lib/soes/src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
1259:Lib/soes/src/esc_coe.c ****       {
1260:Lib/soes/src/esc_coe.c ****          coel->infoheader.incomplete = 1;
1261:Lib/soes/src/esc_coe.c ****          n = (uint16_t)(s + (ODLISTSIZE >> 1));
1262:Lib/soes/src/esc_coe.c ****       }
1263:Lib/soes/src/esc_coe.c ****       else
1264:Lib/soes/src/esc_coe.c ****       {
1265:Lib/soes/src/esc_coe.c ****          coel->infoheader.incomplete = 0;
1266:Lib/soes/src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
1267:Lib/soes/src/esc_coe.c ****          ESCvar.xoe = 0;
1268:Lib/soes/src/esc_coe.c ****          n = ESCvar.entries;
1269:Lib/soes/src/esc_coe.c ****       }
1270:Lib/soes/src/esc_coe.c ****       coel->infoheader.reserved = 0x00;
1271:Lib/soes/src/esc_coe.c ****       ESCvar.fragsleft--;
1272:Lib/soes/src/esc_coe.c ****       coel->infoheader.fragmentsleft = htoes ((uint16_t)ESCvar.fragsleft);
1273:Lib/soes/src/esc_coe.c ****       /* pointer 2 bytes back to exclude index */
1274:Lib/soes/src/esc_coe.c ****       p = &(coel->index);
1275:Lib/soes/src/esc_coe.c ****       for (i = s; i < n; i++)
1276:Lib/soes/src/esc_coe.c ****       {
1277:Lib/soes/src/esc_coe.c ****          *p = htoes (SDOobjects[i].index);
1278:Lib/soes/src/esc_coe.c ****          p++;
1279:Lib/soes/src/esc_coe.c ****       }
1280:Lib/soes/src/esc_coe.c ****       coel->mbxheader.length = htoes (0x06 + ((n - s) << 1));
1281:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
1282:Lib/soes/src/esc_coe.c ****    }
1283:Lib/soes/src/esc_coe.c **** }
1284:Lib/soes/src/esc_coe.c **** 
1285:Lib/soes/src/esc_coe.c **** /** Function for handling incoming requested SDO Get Object Description,
1286:Lib/soes/src/esc_coe.c ****  * validating the request and sending an response. On error an
1287:Lib/soes/src/esc_coe.c ****  * SDO Info Error will be sent.
1288:Lib/soes/src/esc_coe.c ****  */
1289:Lib/soes/src/esc_coe.c **** static void SDO_getod (void)
1290:Lib/soes/src/esc_coe.c **** {
1291:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
1292:Lib/soes/src/esc_coe.c ****    uint16_t index;
ARM GAS  /tmp/ccpX7xVZ.s 			page 25


1293:Lib/soes/src/esc_coe.c ****    int32_t nidx;
1294:Lib/soes/src/esc_coe.c ****    uint8_t *d;
1295:Lib/soes/src/esc_coe.c ****    const uint8_t *s;
1296:Lib/soes/src/esc_coe.c ****    uint8_t n = 0;
1297:Lib/soes/src/esc_coe.c ****    _COEobjdesc *coer, *coel;
1298:Lib/soes/src/esc_coe.c ****    coer = (_COEobjdesc *) &MBX[0];
1299:Lib/soes/src/esc_coe.c ****    index = etohs (coer->index);
1300:Lib/soes/src/esc_coe.c ****    nidx = SDO_findobject (index);
1301:Lib/soes/src/esc_coe.c ****    if (nidx >= 0)
1302:Lib/soes/src/esc_coe.c ****    {
1303:Lib/soes/src/esc_coe.c ****       MBXout = ESC_claimbuffer ();
1304:Lib/soes/src/esc_coe.c ****       if (MBXout)
1305:Lib/soes/src/esc_coe.c ****       {
1306:Lib/soes/src/esc_coe.c ****          coel = (_COEobjdesc *) &MBX[MBXout * ESC_MBXSIZE];
1307:Lib/soes/src/esc_coe.c ****          coel->mbxheader.mbxtype = MBXCOE;
1308:Lib/soes/src/esc_coe.c ****          coel->coeheader.numberservice =
1309:Lib/soes/src/esc_coe.c ****             htoes (COE_SDOINFORMATION << 12);
1310:Lib/soes/src/esc_coe.c ****          coel->infoheader.opcode = COE_GETODRESPONSE;
1311:Lib/soes/src/esc_coe.c ****          coel->infoheader.incomplete = 0;
1312:Lib/soes/src/esc_coe.c ****          coel->infoheader.reserved = 0x00;
1313:Lib/soes/src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (0);
1314:Lib/soes/src/esc_coe.c ****          coel->index = htoes (index);
1315:Lib/soes/src/esc_coe.c ****          if (SDOobjects[nidx].objtype == OTYPE_VAR)
1316:Lib/soes/src/esc_coe.c ****          {
1317:Lib/soes/src/esc_coe.c ****             int32_t nsub = SDO_findsubindex (nidx, 0);
1318:Lib/soes/src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
1319:Lib/soes/src/esc_coe.c ****             coel->datatype = htoes ((objd + nsub)->datatype);
1320:Lib/soes/src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].maxsub;
1321:Lib/soes/src/esc_coe.c ****          }
1322:Lib/soes/src/esc_coe.c ****          else if (SDOobjects[nidx].objtype == OTYPE_ARRAY)
1323:Lib/soes/src/esc_coe.c ****          {
1324:Lib/soes/src/esc_coe.c ****             int32_t nsub = SDO_findsubindex (nidx, 0);
1325:Lib/soes/src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
1326:Lib/soes/src/esc_coe.c ****             coel->datatype = htoes ((objd + nsub)->datatype);
1327:Lib/soes/src/esc_coe.c ****             coel->maxsub = (uint8_t)SDOobjects[nidx].objdesc->value;
1328:Lib/soes/src/esc_coe.c ****          }
1329:Lib/soes/src/esc_coe.c ****          else
1330:Lib/soes/src/esc_coe.c ****          {
1331:Lib/soes/src/esc_coe.c ****             coel->datatype = htoes (0);
1332:Lib/soes/src/esc_coe.c ****             coel->maxsub = (uint8_t)SDOobjects[nidx].objdesc->value;
1333:Lib/soes/src/esc_coe.c ****          }
1334:Lib/soes/src/esc_coe.c ****          coel->objectcode = (uint8_t)SDOobjects[nidx].objtype;
1335:Lib/soes/src/esc_coe.c ****          s = (uint8_t *) SDOobjects[nidx].name;
1336:Lib/soes/src/esc_coe.c ****          d = (uint8_t *) &(coel->name);
1337:Lib/soes/src/esc_coe.c ****          while (*s && (n < (ESC_MBXDSIZE - 0x0c)))
1338:Lib/soes/src/esc_coe.c ****          {
1339:Lib/soes/src/esc_coe.c ****             *d = *s;
1340:Lib/soes/src/esc_coe.c ****             n++;
1341:Lib/soes/src/esc_coe.c ****             s++;
1342:Lib/soes/src/esc_coe.c ****             d++;
1343:Lib/soes/src/esc_coe.c ****          }
1344:Lib/soes/src/esc_coe.c ****          *d = *s;
1345:Lib/soes/src/esc_coe.c ****          coel->mbxheader.length = htoes (0x0C + n);
1346:Lib/soes/src/esc_coe.c ****          MBXcontrol[MBXout].state = MBXstate_outreq;
1347:Lib/soes/src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
1348:Lib/soes/src/esc_coe.c ****          ESCvar.xoe = 0;
1349:Lib/soes/src/esc_coe.c ****       }
ARM GAS  /tmp/ccpX7xVZ.s 			page 26


1350:Lib/soes/src/esc_coe.c ****    }
1351:Lib/soes/src/esc_coe.c ****    else
1352:Lib/soes/src/esc_coe.c ****    {
1353:Lib/soes/src/esc_coe.c ****       SDO_infoerror (ABORT_NOOBJECT);
1354:Lib/soes/src/esc_coe.c ****    }
1355:Lib/soes/src/esc_coe.c **** }
1356:Lib/soes/src/esc_coe.c **** 
1357:Lib/soes/src/esc_coe.c **** /** Function for handling incoming requested SDO Get Entry Description,
1358:Lib/soes/src/esc_coe.c ****  * validating the request and sending an response. On error an
1359:Lib/soes/src/esc_coe.c ****  * SDO Info Error will be sent.
1360:Lib/soes/src/esc_coe.c ****  */
1361:Lib/soes/src/esc_coe.c **** static void SDO_geted (void)
1362:Lib/soes/src/esc_coe.c **** {
1363:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
1364:Lib/soes/src/esc_coe.c ****    uint16_t index;
1365:Lib/soes/src/esc_coe.c ****    int32_t nidx;
1366:Lib/soes/src/esc_coe.c ****    int16_t nsub;
1367:Lib/soes/src/esc_coe.c ****    uint8_t subindex;
1368:Lib/soes/src/esc_coe.c ****    uint8_t *d;
1369:Lib/soes/src/esc_coe.c ****    const uint8_t *s;
1370:Lib/soes/src/esc_coe.c ****    const _objd *objd;
1371:Lib/soes/src/esc_coe.c ****    uint8_t n = 0;
1372:Lib/soes/src/esc_coe.c ****    _COEentdesc *coer, *coel;
1373:Lib/soes/src/esc_coe.c ****    coer = (_COEentdesc *) &MBX[0];
1374:Lib/soes/src/esc_coe.c ****    index = etohs (coer->index);
1375:Lib/soes/src/esc_coe.c ****    subindex = coer->subindex;
1376:Lib/soes/src/esc_coe.c ****    nidx = SDO_findobject (index);
1377:Lib/soes/src/esc_coe.c ****    if (nidx >= 0)
1378:Lib/soes/src/esc_coe.c ****    {
1379:Lib/soes/src/esc_coe.c ****       nsub = SDO_findsubindex (nidx, subindex);
1380:Lib/soes/src/esc_coe.c ****       if (nsub >= 0)
1381:Lib/soes/src/esc_coe.c ****       {
1382:Lib/soes/src/esc_coe.c ****          objd = SDOobjects[nidx].objdesc;
1383:Lib/soes/src/esc_coe.c ****          MBXout = ESC_claimbuffer ();
1384:Lib/soes/src/esc_coe.c ****          if (MBXout)
1385:Lib/soes/src/esc_coe.c ****          {
1386:Lib/soes/src/esc_coe.c ****             coel = (_COEentdesc *) &MBX[MBXout * ESC_MBXSIZE];
1387:Lib/soes/src/esc_coe.c ****             coel->mbxheader.mbxtype = MBXCOE;
1388:Lib/soes/src/esc_coe.c ****             coel->coeheader.numberservice =
1389:Lib/soes/src/esc_coe.c ****                htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
1390:Lib/soes/src/esc_coe.c ****             coel->infoheader.opcode = COE_ENTRYDESCRIPTIONRESPONSE;
1391:Lib/soes/src/esc_coe.c ****             coel->infoheader.incomplete = 0;
1392:Lib/soes/src/esc_coe.c ****             coel->infoheader.reserved = 0x00;
1393:Lib/soes/src/esc_coe.c ****             coel->infoheader.fragmentsleft = htoes (0);
1394:Lib/soes/src/esc_coe.c ****             coel->index = htoes (index);
1395:Lib/soes/src/esc_coe.c ****             coel->subindex = subindex;
1396:Lib/soes/src/esc_coe.c ****             coel->valueinfo = COE_VALUEINFO_ACCESS +
1397:Lib/soes/src/esc_coe.c ****                COE_VALUEINFO_OBJECT + COE_VALUEINFO_MAPPABLE;
1398:Lib/soes/src/esc_coe.c ****             coel->datatype = htoes ((objd + nsub)->datatype);
1399:Lib/soes/src/esc_coe.c ****             coel->bitlength = htoes ((objd + nsub)->bitlength);
1400:Lib/soes/src/esc_coe.c ****             coel->access = htoes ((objd + nsub)->flags);
1401:Lib/soes/src/esc_coe.c ****             s = (uint8_t *) (objd + nsub)->name;
1402:Lib/soes/src/esc_coe.c ****             d = (uint8_t *) &(coel->name);
1403:Lib/soes/src/esc_coe.c ****             while (*s && (n < (ESC_MBXDSIZE - 0x10)))
1404:Lib/soes/src/esc_coe.c ****             {
1405:Lib/soes/src/esc_coe.c ****                *d = *s;
1406:Lib/soes/src/esc_coe.c ****                n++;
ARM GAS  /tmp/ccpX7xVZ.s 			page 27


1407:Lib/soes/src/esc_coe.c ****                s++;
1408:Lib/soes/src/esc_coe.c ****                d++;
1409:Lib/soes/src/esc_coe.c ****             }
1410:Lib/soes/src/esc_coe.c ****             *d = *s;
1411:Lib/soes/src/esc_coe.c ****             coel->mbxheader.length = htoes (0x10 + n);
1412:Lib/soes/src/esc_coe.c ****             MBXcontrol[MBXout].state = MBXstate_outreq;
1413:Lib/soes/src/esc_coe.c ****             MBXcontrol[0].state = MBXstate_idle;
1414:Lib/soes/src/esc_coe.c ****             ESCvar.xoe = 0;
1415:Lib/soes/src/esc_coe.c ****          }
1416:Lib/soes/src/esc_coe.c ****       }
1417:Lib/soes/src/esc_coe.c ****       else
1418:Lib/soes/src/esc_coe.c ****       {
1419:Lib/soes/src/esc_coe.c ****          SDO_infoerror (ABORT_NOSUBINDEX);
1420:Lib/soes/src/esc_coe.c ****       }
1421:Lib/soes/src/esc_coe.c ****    }
1422:Lib/soes/src/esc_coe.c ****    else
1423:Lib/soes/src/esc_coe.c ****    {
1424:Lib/soes/src/esc_coe.c ****       SDO_infoerror (ABORT_NOOBJECT);
1425:Lib/soes/src/esc_coe.c ****    }
1426:Lib/soes/src/esc_coe.c **** }
1427:Lib/soes/src/esc_coe.c **** 
1428:Lib/soes/src/esc_coe.c **** /** Main CoE function checking the status on current mailbox buffers carrying
1429:Lib/soes/src/esc_coe.c ****  * data, distributing the mailboxes to appropriate CoE functions.
1430:Lib/soes/src/esc_coe.c ****  * On Error an MBX_error or SDO Abort will be sent depending on error cause.
1431:Lib/soes/src/esc_coe.c ****  */
1432:Lib/soes/src/esc_coe.c **** void ESC_coeprocess (void)
1433:Lib/soes/src/esc_coe.c **** {
1434:Lib/soes/src/esc_coe.c ****    _MBXh *mbh;
1435:Lib/soes/src/esc_coe.c ****    _COEsdo *coesdo;
1436:Lib/soes/src/esc_coe.c ****    _COEobjdesc *coeobjdesc;
1437:Lib/soes/src/esc_coe.c ****    uint16_t service;
1438:Lib/soes/src/esc_coe.c ****    if (ESCvar.MBXrun == 0)
1439:Lib/soes/src/esc_coe.c ****    {
1440:Lib/soes/src/esc_coe.c ****       return;
1441:Lib/soes/src/esc_coe.c ****    }
1442:Lib/soes/src/esc_coe.c ****    if (!ESCvar.xoe && (MBXcontrol[0].state == MBXstate_inclaim))
1443:Lib/soes/src/esc_coe.c ****    {
1444:Lib/soes/src/esc_coe.c ****       mbh = (_MBXh *) &MBX[0];
1445:Lib/soes/src/esc_coe.c ****       if (mbh->mbxtype == MBXCOE)
1446:Lib/soes/src/esc_coe.c ****       {
1447:Lib/soes/src/esc_coe.c ****          if (etohs (mbh->length) < COE_MINIMUM_LENGTH)
1448:Lib/soes/src/esc_coe.c ****          {
1449:Lib/soes/src/esc_coe.c ****             MBX_error (MBXERR_INVALIDSIZE);
1450:Lib/soes/src/esc_coe.c ****          }
1451:Lib/soes/src/esc_coe.c ****          else
1452:Lib/soes/src/esc_coe.c ****          {
1453:Lib/soes/src/esc_coe.c ****             ESCvar.xoe = MBXCOE;
1454:Lib/soes/src/esc_coe.c ****          }
1455:Lib/soes/src/esc_coe.c ****       }
1456:Lib/soes/src/esc_coe.c ****    }
1457:Lib/soes/src/esc_coe.c ****    if ((ESCvar.xoe == (MBXCOE + MBXODL)) && (!ESCvar.mbxoutpost))
1458:Lib/soes/src/esc_coe.c ****    {
1459:Lib/soes/src/esc_coe.c ****       /* continue get OD list */
1460:Lib/soes/src/esc_coe.c ****       SDO_getodlistcont ();
1461:Lib/soes/src/esc_coe.c ****    }
1462:Lib/soes/src/esc_coe.c ****    if (ESCvar.xoe == MBXCOE)
1463:Lib/soes/src/esc_coe.c ****    {
ARM GAS  /tmp/ccpX7xVZ.s 			page 28


1464:Lib/soes/src/esc_coe.c ****       coesdo = (_COEsdo *) &MBX[0];
1465:Lib/soes/src/esc_coe.c ****       coeobjdesc = (_COEobjdesc *) &MBX[0];
1466:Lib/soes/src/esc_coe.c ****       service = etohs (coesdo->coeheader.numberservice) >> 12;
1467:Lib/soes/src/esc_coe.c ****       if (service == COE_SDOREQUEST)
1468:Lib/soes/src/esc_coe.c ****       {
1469:Lib/soes/src/esc_coe.c ****          if ((SDO_COMMAND(coesdo->command) == COE_COMMAND_UPLOADREQUEST)
1470:Lib/soes/src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE))
1471:Lib/soes/src/esc_coe.c ****          {
1472:Lib/soes/src/esc_coe.c ****             /* initiate SDO upload request */
1473:Lib/soes/src/esc_coe.c ****             if (SDO_COMPLETE_ACCESS(coesdo->command))
1474:Lib/soes/src/esc_coe.c ****             {
1475:Lib/soes/src/esc_coe.c ****                SDO_upload_complete_access ();
1476:Lib/soes/src/esc_coe.c ****             }
1477:Lib/soes/src/esc_coe.c ****             else
1478:Lib/soes/src/esc_coe.c ****             {
1479:Lib/soes/src/esc_coe.c ****                SDO_upload ();
1480:Lib/soes/src/esc_coe.c ****             }
1481:Lib/soes/src/esc_coe.c ****          }
1482:Lib/soes/src/esc_coe.c ****          else if (((coesdo->command & 0xef) == COE_COMMAND_UPLOADSEGREQ)
1483:Lib/soes/src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE)
1484:Lib/soes/src/esc_coe.c ****                && (ESCvar.segmented == MBXSEU))
1485:Lib/soes/src/esc_coe.c ****          {
1486:Lib/soes/src/esc_coe.c ****             /* SDO upload segment request */
1487:Lib/soes/src/esc_coe.c ****             SDO_uploadsegment ();
1488:Lib/soes/src/esc_coe.c ****          }
1489:Lib/soes/src/esc_coe.c ****          else if (SDO_COMMAND(coesdo->command) == COE_COMMAND_DOWNLOADREQUEST)
1490:Lib/soes/src/esc_coe.c ****          {
1491:Lib/soes/src/esc_coe.c ****             /* initiate SDO download request */
1492:Lib/soes/src/esc_coe.c ****             if (SDO_COMPLETE_ACCESS(coesdo->command))
1493:Lib/soes/src/esc_coe.c ****             {
1494:Lib/soes/src/esc_coe.c ****                SDO_download_complete_access ();
1495:Lib/soes/src/esc_coe.c ****             }
1496:Lib/soes/src/esc_coe.c ****             else
1497:Lib/soes/src/esc_coe.c ****             {
1498:Lib/soes/src/esc_coe.c ****                SDO_download ();
1499:Lib/soes/src/esc_coe.c ****             }
1500:Lib/soes/src/esc_coe.c ****          }
1501:Lib/soes/src/esc_coe.c ****          else if (SDO_COMMAND(coesdo->command) == COE_COMMAND_DOWNLOADSEGREQ)
1502:Lib/soes/src/esc_coe.c ****          {
1503:Lib/soes/src/esc_coe.c ****             /* SDO download segment request */
1504:Lib/soes/src/esc_coe.c ****             SDO_downloadsegment ();
1505:Lib/soes/src/esc_coe.c ****          }
1506:Lib/soes/src/esc_coe.c ****       }
1507:Lib/soes/src/esc_coe.c ****       /* initiate SDO get OD list */
1508:Lib/soes/src/esc_coe.c ****       else
1509:Lib/soes/src/esc_coe.c ****       {
1510:Lib/soes/src/esc_coe.c ****          if ((service == COE_SDOINFORMATION)
1511:Lib/soes/src/esc_coe.c ****                && (coeobjdesc->infoheader.opcode == 0x01))
1512:Lib/soes/src/esc_coe.c ****          {
1513:Lib/soes/src/esc_coe.c ****             SDO_getodlist ();
1514:Lib/soes/src/esc_coe.c ****          }
1515:Lib/soes/src/esc_coe.c ****          /* initiate SDO get OD */
1516:Lib/soes/src/esc_coe.c ****          else
1517:Lib/soes/src/esc_coe.c ****          {
1518:Lib/soes/src/esc_coe.c ****             if ((service == COE_SDOINFORMATION)
1519:Lib/soes/src/esc_coe.c ****                   && (coeobjdesc->infoheader.opcode == 0x03))
1520:Lib/soes/src/esc_coe.c ****             {
ARM GAS  /tmp/ccpX7xVZ.s 			page 29


1521:Lib/soes/src/esc_coe.c ****                SDO_getod ();
1522:Lib/soes/src/esc_coe.c ****             }
1523:Lib/soes/src/esc_coe.c ****             /* initiate SDO get ED */
1524:Lib/soes/src/esc_coe.c ****             else
1525:Lib/soes/src/esc_coe.c ****             {
1526:Lib/soes/src/esc_coe.c ****                if ((service == COE_SDOINFORMATION)
1527:Lib/soes/src/esc_coe.c ****                      && (coeobjdesc->infoheader.opcode == 0x05))
1528:Lib/soes/src/esc_coe.c ****                {
1529:Lib/soes/src/esc_coe.c ****                   SDO_geted ();
1530:Lib/soes/src/esc_coe.c ****                }
1531:Lib/soes/src/esc_coe.c ****                else
1532:Lib/soes/src/esc_coe.c ****                {
1533:Lib/soes/src/esc_coe.c ****                   /* COE not recognised above */
1534:Lib/soes/src/esc_coe.c ****                   if (ESCvar.xoe == MBXCOE)
1535:Lib/soes/src/esc_coe.c ****                   {
1536:Lib/soes/src/esc_coe.c ****                      if (service == 0)
1537:Lib/soes/src/esc_coe.c ****                      {
1538:Lib/soes/src/esc_coe.c ****                         MBX_error (MBXERR_INVALIDHEADER);
1539:Lib/soes/src/esc_coe.c ****                      }
1540:Lib/soes/src/esc_coe.c ****                      else
1541:Lib/soes/src/esc_coe.c ****                      {
1542:Lib/soes/src/esc_coe.c ****                         SDO_abort (0, etohs (coesdo->index), coesdo->subindex, ABORT_UNSUPPORTED);
1543:Lib/soes/src/esc_coe.c ****                      }
1544:Lib/soes/src/esc_coe.c ****                      MBXcontrol[0].state = MBXstate_idle;
1545:Lib/soes/src/esc_coe.c ****                      ESCvar.xoe = 0;
1546:Lib/soes/src/esc_coe.c ****                   }
1547:Lib/soes/src/esc_coe.c ****                }
1548:Lib/soes/src/esc_coe.c ****             }
1549:Lib/soes/src/esc_coe.c ****          }
1550:Lib/soes/src/esc_coe.c ****       }
1551:Lib/soes/src/esc_coe.c ****    }
1552:Lib/soes/src/esc_coe.c **** }
1553:Lib/soes/src/esc_coe.c **** 
1554:Lib/soes/src/esc_coe.c **** /**
1555:Lib/soes/src/esc_coe.c ****  * Get value from bitmap
1556:Lib/soes/src/esc_coe.c ****  *
1557:Lib/soes/src/esc_coe.c ****  * This function gets a value from a bitmap.
1558:Lib/soes/src/esc_coe.c ****  *
1559:Lib/soes/src/esc_coe.c ****  * @param[in] bitmap = bitmap containing value
1560:Lib/soes/src/esc_coe.c ****  * @param[in] offset = start offset
1561:Lib/soes/src/esc_coe.c ****  * @param[in] length = number of bits to get
1562:Lib/soes/src/esc_coe.c ****  * @return bitslice value
1563:Lib/soes/src/esc_coe.c ****  */
1564:Lib/soes/src/esc_coe.c **** static uint64_t COE_bitsliceGet (uint64_t * bitmap, unsigned int offset, unsigned int length)
1565:Lib/soes/src/esc_coe.c **** {
  80              		.loc 1 1565 1 is_stmt 1 view -0
  81              		.cfi_startproc
  82              		@ args = 0, pretend = 0, frame = 0
  83              		@ frame_needed = 0, uses_anonymous_args = 0
  84              		.loc 1 1565 1 is_stmt 0 view .LVU18
  85 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
  86              		.cfi_def_cfa_offset 24
  87              		.cfi_offset 4, -24
  88              		.cfi_offset 5, -20
  89              		.cfi_offset 6, -16
  90              		.cfi_offset 7, -12
  91              		.cfi_offset 8, -8
ARM GAS  /tmp/ccpX7xVZ.s 			page 30


  92              		.cfi_offset 14, -4
1566:Lib/soes/src/esc_coe.c ****    const unsigned int word_offset = offset / 64;
  93              		.loc 1 1566 4 is_stmt 1 view .LVU19
  94              		.loc 1 1566 23 is_stmt 0 view .LVU20
  95 0004 8D09     		lsrs	r5, r1, #6
  96              	.LVL5:
1567:Lib/soes/src/esc_coe.c ****    const unsigned int bit_offset = offset % 64;
  97              		.loc 1 1567 4 is_stmt 1 view .LVU21
  98              		.loc 1 1567 23 is_stmt 0 view .LVU22
  99 0006 01F03F03 		and	r3, r1, #63
 100              	.LVL6:
1568:Lib/soes/src/esc_coe.c ****    const uint64_t mask = (length == 64) ? UINT64_MAX : (1ULL << length) - 1;
 101              		.loc 1 1568 4 is_stmt 1 view .LVU23
 102              		.loc 1 1568 54 is_stmt 0 view .LVU24
 103 000a 402A     		cmp	r2, #64
 104 000c 43D0     		beq	.L6
 105              		.loc 1 1568 62 discriminator 1 view .LVU25
 106 000e 4FF0010E 		mov	lr, #1
 107 0012 A2F12001 		sub	r1, r2, #32
 108              	.LVL7:
 109              		.loc 1 1568 62 discriminator 1 view .LVU26
 110 0016 C2F12004 		rsb	r4, r2, #32
 111 001a 0EFA01F1 		lsl	r1, lr, r1
 112 001e 2EFA04F4 		lsr	r4, lr, r4
 113 0022 2143     		orrs	r1, r1, r4
 114 0024 0EFA02FE 		lsl	lr, lr, r2
 115              		.loc 1 1568 54 discriminator 1 view .LVU27
 116 0028 1EF1FF3E 		adds	lr, lr, #-1
 117 002c 41F1FF38 		adc	r8, r1, #-1
 118              	.L4:
 119              	.LVL8:
1569:Lib/soes/src/esc_coe.c ****    uint64_t w0;
 120              		.loc 1 1569 4 is_stmt 1 discriminator 4 view .LVU28
1570:Lib/soes/src/esc_coe.c ****    uint64_t w1 = 0;
 121              		.loc 1 1570 4 discriminator 4 view .LVU29
1571:Lib/soes/src/esc_coe.c **** 
1572:Lib/soes/src/esc_coe.c ****    /* Get the least significant word */
1573:Lib/soes/src/esc_coe.c ****    w0 = bitmap[word_offset];
 122              		.loc 1 1573 4 discriminator 4 view .LVU30
 123              		.loc 1 1573 15 is_stmt 0 discriminator 4 view .LVU31
 124 0030 00EBC504 		add	r4, r0, r5, lsl #3
 125              		.loc 1 1573 7 discriminator 4 view .LVU32
 126 0034 6468     		ldr	r4, [r4, #4]
 127              	.LVL9:
1574:Lib/soes/src/esc_coe.c ****    w0 = w0 >> bit_offset;
 128              		.loc 1 1574 4 is_stmt 1 discriminator 4 view .LVU33
 129              		.loc 1 1574 7 is_stmt 0 discriminator 4 view .LVU34
 130 0036 C3F12007 		rsb	r7, r3, #32
 131 003a A3F12006 		sub	r6, r3, #32
 132 003e 50F83510 		ldr	r1, [r0, r5, lsl #3]
 133 0042 21FA03FC 		lsr	ip, r1, r3
 134 0046 04FA07F7 		lsl	r7, r4, r7
 135 004a 4CEA070C 		orr	ip, ip, r7
 136 004e 24FA06F6 		lsr	r6, r4, r6
 137 0052 4CEA060C 		orr	ip, ip, r6
 138 0056 DC40     		lsrs	r4, r4, r3
 139              	.LVL10:
ARM GAS  /tmp/ccpX7xVZ.s 			page 31


1575:Lib/soes/src/esc_coe.c **** 
1576:Lib/soes/src/esc_coe.c ****    /* Get the most significant word, if required */
1577:Lib/soes/src/esc_coe.c ****    if (length + bit_offset > 64)
 140              		.loc 1 1577 4 is_stmt 1 discriminator 4 view .LVU35
 141              		.loc 1 1577 15 is_stmt 0 discriminator 4 view .LVU36
 142 0058 1A44     		add	r2, r2, r3
 143              	.LVL11:
 144              		.loc 1 1577 7 discriminator 4 view .LVU37
 145 005a 402A     		cmp	r2, #64
 146 005c 1FD9     		bls	.L7
1578:Lib/soes/src/esc_coe.c ****    {
1579:Lib/soes/src/esc_coe.c ****       w1 = bitmap[word_offset + 1];
 147              		.loc 1 1579 7 is_stmt 1 view .LVU38
 148              		.loc 1 1579 18 is_stmt 0 view .LVU39
 149 005e 0135     		adds	r5, r5, #1
 150              	.LVL12:
 151              		.loc 1 1579 18 view .LVU40
 152 0060 00EBC502 		add	r2, r0, r5, lsl #3
 153              		.loc 1 1579 10 view .LVU41
 154 0064 50F83500 		ldr	r0, [r0, r5, lsl #3]
 155              	.LVL13:
 156              		.loc 1 1579 10 view .LVU42
 157 0068 5268     		ldr	r2, [r2, #4]
 158              	.LVL14:
1580:Lib/soes/src/esc_coe.c ****       w1 = w1 << (64 - bit_offset);
 159              		.loc 1 1580 7 is_stmt 1 view .LVU43
 160              		.loc 1 1580 22 is_stmt 0 view .LVU44
 161 006a C3F14006 		rsb	r6, r3, #64
 162              		.loc 1 1580 10 view .LVU45
 163 006e C3F12005 		rsb	r5, r3, #32
 164              	.LVL15:
 165              		.loc 1 1580 10 view .LVU46
 166 0072 203B     		subs	r3, r3, #32
 167              	.LVL16:
 168              		.loc 1 1580 10 view .LVU47
 169 0074 B240     		lsls	r2, r2, r6
 170              	.LVL17:
 171              		.loc 1 1580 10 view .LVU48
 172 0076 00FA05F5 		lsl	r5, r0, r5
 173 007a 2A43     		orrs	r2, r2, r5
 174 007c 20FA03F3 		lsr	r3, r0, r3
 175              	.LVL18:
 176              		.loc 1 1580 10 view .LVU49
 177 0080 1A43     		orrs	r2, r2, r3
 178 0082 B040     		lsls	r0, r0, r6
 179              	.LVL19:
 180              	.L5:
1581:Lib/soes/src/esc_coe.c ****    }
1582:Lib/soes/src/esc_coe.c **** 
1583:Lib/soes/src/esc_coe.c ****    w0 = (w1 | w0);
 181              		.loc 1 1583 4 is_stmt 1 view .LVU50
 182              		.loc 1 1583 7 is_stmt 0 view .LVU51
 183 0084 40EA0C00 		orr	r0, r0, ip
 184              	.LVL20:
 185              		.loc 1 1583 7 view .LVU52
 186 0088 2243     		orrs	r2, r2, r4
 187              	.LVL21:
ARM GAS  /tmp/ccpX7xVZ.s 			page 32


1584:Lib/soes/src/esc_coe.c ****    return (w0 & mask);
 188              		.loc 1 1584 4 is_stmt 1 view .LVU53
1585:Lib/soes/src/esc_coe.c **** }
 189              		.loc 1 1585 1 is_stmt 0 view .LVU54
 190 008a 0EEA0000 		and	r0, lr, r0
 191              	.LVL22:
 192              		.loc 1 1585 1 view .LVU55
 193 008e 08EA0201 		and	r1, r8, r2
 194 0092 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 195              	.LVL23:
 196              	.L6:
1568:Lib/soes/src/esc_coe.c ****    uint64_t w0;
 197              		.loc 1 1568 54 view .LVU56
 198 0096 4FF0FF3E 		mov	lr, #-1
 199 009a F046     		mov	r8, lr
 200 009c C8E7     		b	.L4
 201              	.LVL24:
 202              	.L7:
1570:Lib/soes/src/esc_coe.c **** 
 203              		.loc 1 1570 13 view .LVU57
 204 009e 0020     		movs	r0, #0
 205              	.LVL25:
1570:Lib/soes/src/esc_coe.c **** 
 206              		.loc 1 1570 13 view .LVU58
 207 00a0 0246     		mov	r2, r0
 208 00a2 EFE7     		b	.L5
 209              		.cfi_endproc
 210              	.LFE21:
 212              		.section	.text.COE_bitsliceSet,"ax",%progbits
 213              		.align	1
 214              		.syntax unified
 215              		.thumb
 216              		.thumb_func
 218              	COE_bitsliceSet:
 219              	.LVL26:
 220              	.LFB22:
1586:Lib/soes/src/esc_coe.c **** 
1587:Lib/soes/src/esc_coe.c **** /**
1588:Lib/soes/src/esc_coe.c ****  * Set value in bitmap
1589:Lib/soes/src/esc_coe.c ****  *
1590:Lib/soes/src/esc_coe.c ****  * This function sets a value in a bitmap.
1591:Lib/soes/src/esc_coe.c ****  *
1592:Lib/soes/src/esc_coe.c ****  * @param[in] bitmap = bitmap to contain value
1593:Lib/soes/src/esc_coe.c ****  * @param[in] offset = start offset
1594:Lib/soes/src/esc_coe.c ****  * @param[in] length = number of bits to set
1595:Lib/soes/src/esc_coe.c ****  * @param[in] value  = value to set
1596:Lib/soes/src/esc_coe.c ****  */
1597:Lib/soes/src/esc_coe.c **** static void COE_bitsliceSet (uint64_t * bitmap, unsigned int offset, unsigned int length,
1598:Lib/soes/src/esc_coe.c ****                              uint64_t value)
1599:Lib/soes/src/esc_coe.c **** {
 221              		.loc 1 1599 1 is_stmt 1 view -0
 222              		.cfi_startproc
 223              		@ args = 8, pretend = 0, frame = 8
 224              		@ frame_needed = 0, uses_anonymous_args = 0
 225              		.loc 1 1599 1 is_stmt 0 view .LVU60
 226 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 227              		.cfi_def_cfa_offset 36
ARM GAS  /tmp/ccpX7xVZ.s 			page 33


 228              		.cfi_offset 4, -36
 229              		.cfi_offset 5, -32
 230              		.cfi_offset 6, -28
 231              		.cfi_offset 7, -24
 232              		.cfi_offset 8, -20
 233              		.cfi_offset 9, -16
 234              		.cfi_offset 10, -12
 235              		.cfi_offset 11, -8
 236              		.cfi_offset 14, -4
 237 0004 83B0     		sub	sp, sp, #12
 238              		.cfi_def_cfa_offset 48
 239 0006 0C9C     		ldr	r4, [sp, #48]
 240 0008 0D9F     		ldr	r7, [sp, #52]
1600:Lib/soes/src/esc_coe.c ****    const unsigned int word_offset = offset / 64;
 241              		.loc 1 1600 4 is_stmt 1 view .LVU61
 242              		.loc 1 1600 23 is_stmt 0 view .LVU62
 243 000a 8E09     		lsrs	r6, r1, #6
 244              	.LVL27:
1601:Lib/soes/src/esc_coe.c ****    const unsigned int bit_offset = offset % 64;
 245              		.loc 1 1601 4 is_stmt 1 view .LVU63
 246              		.loc 1 1601 23 is_stmt 0 view .LVU64
 247 000c 01F03F01 		and	r1, r1, #63
 248              	.LVL28:
1602:Lib/soes/src/esc_coe.c ****    const uint64_t mask = (length == 64) ? UINT64_MAX : (1ULL << length) - 1;
 249              		.loc 1 1602 4 is_stmt 1 view .LVU65
 250              		.loc 1 1602 54 is_stmt 0 view .LVU66
 251 0010 402A     		cmp	r2, #64
 252 0012 7AD0     		beq	.L12
 253              		.loc 1 1602 62 discriminator 1 view .LVU67
 254 0014 0123     		movs	r3, #1
 255 0016 A2F1200E 		sub	lr, r2, #32
 256 001a C2F12005 		rsb	r5, r2, #32
 257 001e 03FA0EFE 		lsl	lr, r3, lr
 258 0022 23FA05F5 		lsr	r5, r3, r5
 259 0026 4EEA050E 		orr	lr, lr, r5
 260 002a 9340     		lsls	r3, r3, r2
 261              		.loc 1 1602 54 discriminator 1 view .LVU68
 262 002c 013B     		subs	r3, r3, #1
 263 002e 4EF1FF3E 		adc	lr, lr, #-1
 264              	.L10:
 265              	.LVL29:
1603:Lib/soes/src/esc_coe.c ****    const uint64_t mask0 = mask << bit_offset;
 266              		.loc 1 1603 4 is_stmt 1 discriminator 4 view .LVU69
 267              		.loc 1 1603 19 is_stmt 0 discriminator 4 view .LVU70
 268 0032 A1F1200C 		sub	ip, r1, #32
 269 0036 C1F12005 		rsb	r5, r1, #32
 270 003a 0EFA01F8 		lsl	r8, lr, r1
 271 003e 03FA0CFC 		lsl	ip, r3, ip
 272 0042 48EA0C08 		orr	r8, r8, ip
 273 0046 23FA05F5 		lsr	r5, r3, r5
 274 004a 48EA0508 		orr	r8, r8, r5
 275 004e 03FA01F5 		lsl	r5, r3, r1
 276 0052 0195     		str	r5, [sp, #4]
1604:Lib/soes/src/esc_coe.c ****    uint64_t v0 = value << bit_offset;
 277              		.loc 1 1604 4 is_stmt 1 discriminator 4 view .LVU71
 278              		.loc 1 1604 13 is_stmt 0 discriminator 4 view .LVU72
 279 0054 A1F1200A 		sub	r10, r1, #32
ARM GAS  /tmp/ccpX7xVZ.s 			page 34


 280 0058 C1F12009 		rsb	r9, r1, #32
 281 005c 07FA01FC 		lsl	ip, r7, r1
 282 0060 04FA0AFA 		lsl	r10, r4, r10
 283 0064 4CEA0A0C 		orr	ip, ip, r10
 284 0068 24FA09F9 		lsr	r9, r4, r9
 285 006c 4CEA090C 		orr	ip, ip, r9
 286 0070 04FA01F9 		lsl	r9, r4, r1
1605:Lib/soes/src/esc_coe.c ****    uint64_t w0 = bitmap[word_offset];
 287              		.loc 1 1605 4 is_stmt 1 discriminator 4 view .LVU73
 288              		.loc 1 1605 24 is_stmt 0 discriminator 4 view .LVU74
 289 0074 00EBC60A 		add	r10, r0, r6, lsl #3
 290              		.loc 1 1605 13 discriminator 4 view .LVU75
 291 0078 50F836B0 		ldr	fp, [r0, r6, lsl #3]
 292              	.LVL30:
1606:Lib/soes/src/esc_coe.c **** 
1607:Lib/soes/src/esc_coe.c ****    /* Set the least significant word */
1608:Lib/soes/src/esc_coe.c ****    w0 = (w0 & ~mask0) | (v0 & mask0);
 293              		.loc 1 1608 4 is_stmt 1 discriminator 4 view .LVU76
 294 007c 89EA0B09 		eor	r9, r9, fp
 295 0080 DAF80450 		ldr	r5, [r10, #4]
 296 0084 8CEA050C 		eor	ip, ip, r5
 297 0088 019D     		ldr	r5, [sp, #4]
 298 008a 09EA0509 		and	r9, r9, r5
 299 008e 0CEA080C 		and	ip, ip, r8
 300              		.loc 1 1608 7 is_stmt 0 discriminator 4 view .LVU77
 301 0092 89EA0B09 		eor	r9, r9, fp
 302 0096 DAF80450 		ldr	r5, [r10, #4]
 303 009a 8CEA0505 		eor	r5, ip, r5
 304              	.LVL31:
1609:Lib/soes/src/esc_coe.c ****    bitmap[word_offset] = w0;
 305              		.loc 1 1609 4 is_stmt 1 discriminator 4 view .LVU78
 306              		.loc 1 1609 24 is_stmt 0 discriminator 4 view .LVU79
 307 009e 40F83690 		str	r9, [r0, r6, lsl #3]
 308 00a2 CAF80450 		str	r5, [r10, #4]
1610:Lib/soes/src/esc_coe.c **** 
1611:Lib/soes/src/esc_coe.c ****    /* Set the most significant word, if required */
1612:Lib/soes/src/esc_coe.c ****    if (length + bit_offset > 64)
 309              		.loc 1 1612 4 is_stmt 1 discriminator 4 view .LVU80
 310              		.loc 1 1612 15 is_stmt 0 discriminator 4 view .LVU81
 311 00a6 0A44     		add	r2, r2, r1
 312              	.LVL32:
 313              		.loc 1 1612 7 discriminator 4 view .LVU82
 314 00a8 402A     		cmp	r2, #64
 315 00aa 2BD9     		bls	.L9
 316              	.LBB2:
1613:Lib/soes/src/esc_coe.c ****    {
1614:Lib/soes/src/esc_coe.c ****       const uint64_t mask1 = mask >> (64 - bit_offset);
 317              		.loc 1 1614 7 is_stmt 1 view .LVU83
 318              		.loc 1 1614 42 is_stmt 0 view .LVU84
 319 00ac C1F14002 		rsb	r2, r1, #64
 320              		.loc 1 1614 22 view .LVU85
 321 00b0 A1F12005 		sub	r5, r1, #32
 322              	.LVL33:
 323              		.loc 1 1614 22 view .LVU86
 324 00b4 C1F12001 		rsb	r1, r1, #32
 325              	.LVL34:
 326              		.loc 1 1614 22 view .LVU87
ARM GAS  /tmp/ccpX7xVZ.s 			page 35


 327 00b8 D340     		lsrs	r3, r3, r2
 328              	.LVL35:
 329              		.loc 1 1614 22 view .LVU88
 330 00ba 0EFA05F5 		lsl	r5, lr, r5
 331              	.LVL36:
 332              		.loc 1 1614 22 view .LVU89
 333 00be 2B43     		orrs	r3, r3, r5
 334 00c0 2EFA01F1 		lsr	r1, lr, r1
 335 00c4 0B43     		orrs	r3, r3, r1
 336 00c6 2EFA02FE 		lsr	lr, lr, r2
 337              	.LVL37:
1615:Lib/soes/src/esc_coe.c ****       uint64_t v1 = value >> (64 - bit_offset);
 338              		.loc 1 1615 7 is_stmt 1 view .LVU90
 339              		.loc 1 1615 16 is_stmt 0 view .LVU91
 340 00ca C2F12005 		rsb	r5, r2, #32
 341 00ce A2F12001 		sub	r1, r2, #32
 342 00d2 D440     		lsrs	r4, r4, r2
 343 00d4 07FA05F5 		lsl	r5, r7, r5
 344 00d8 2C43     		orrs	r4, r4, r5
 345 00da 27FA01F1 		lsr	r1, r7, r1
 346 00de 0C43     		orrs	r4, r4, r1
 347 00e0 D740     		lsrs	r7, r7, r2
 348              	.LVL38:
1616:Lib/soes/src/esc_coe.c ****       uint64_t w1 = bitmap[word_offset + 1];
 349              		.loc 1 1616 7 is_stmt 1 view .LVU92
 350              		.loc 1 1616 27 is_stmt 0 view .LVU93
 351 00e2 0136     		adds	r6, r6, #1
 352              	.LVL39:
 353              		.loc 1 1616 27 view .LVU94
 354 00e4 00EBC605 		add	r5, r0, r6, lsl #3
 355              		.loc 1 1616 16 view .LVU95
 356 00e8 50F83610 		ldr	r1, [r0, r6, lsl #3]
 357 00ec 6A68     		ldr	r2, [r5, #4]
 358              	.LVL40:
1617:Lib/soes/src/esc_coe.c **** 
1618:Lib/soes/src/esc_coe.c ****       w1 = (w1 & ~mask1) | (v1 & mask1);
 359              		.loc 1 1618 7 is_stmt 1 view .LVU96
 360 00ee 4C40     		eors	r4, r4, r1
 361              	.LVL41:
 362              		.loc 1 1618 7 is_stmt 0 view .LVU97
 363 00f0 5740     		eors	r7, r7, r2
 364              	.LVL42:
 365              		.loc 1 1618 7 view .LVU98
 366 00f2 1C40     		ands	r4, r4, r3
 367 00f4 07EA0E0E 		and	lr, r7, lr
 368              	.LVL43:
 369              		.loc 1 1618 10 view .LVU99
 370 00f8 4C40     		eors	r4, r4, r1
 371 00fa 82EA0E02 		eor	r2, r2, lr
 372              	.LVL44:
1619:Lib/soes/src/esc_coe.c ****       bitmap[word_offset + 1] = w1;
 373              		.loc 1 1619 7 is_stmt 1 view .LVU100
 374              		.loc 1 1619 31 is_stmt 0 view .LVU101
 375 00fe 40F83640 		str	r4, [r0, r6, lsl #3]
 376              	.LVL45:
 377              		.loc 1 1619 31 view .LVU102
 378 0102 6A60     		str	r2, [r5, #4]
ARM GAS  /tmp/ccpX7xVZ.s 			page 36


 379              	.LVL46:
 380              	.L9:
 381              		.loc 1 1619 31 view .LVU103
 382              	.LBE2:
1620:Lib/soes/src/esc_coe.c ****    }
1621:Lib/soes/src/esc_coe.c **** }
 383              		.loc 1 1621 1 view .LVU104
 384 0104 03B0     		add	sp, sp, #12
 385              		.cfi_remember_state
 386              		.cfi_def_cfa_offset 36
 387              		@ sp needed
 388 0106 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 389              	.LVL47:
 390              	.L12:
 391              		.cfi_restore_state
1602:Lib/soes/src/esc_coe.c ****    const uint64_t mask0 = mask << bit_offset;
 392              		.loc 1 1602 54 view .LVU105
 393 010a 4FF0FF33 		mov	r3, #-1
 394 010e 9E46     		mov	lr, r3
 395 0110 8FE7     		b	.L10
 396              		.cfi_endproc
 397              	.LFE22:
 399              		.section	.text.COE_setValue,"ax",%progbits
 400              		.align	1
 401              		.syntax unified
 402              		.thumb
 403              		.thumb_func
 405              	COE_setValue:
 406              	.LVL48:
 407              	.LFB24:
1622:Lib/soes/src/esc_coe.c **** 
1623:Lib/soes/src/esc_coe.c **** /**
1624:Lib/soes/src/esc_coe.c ****  * Get object value
1625:Lib/soes/src/esc_coe.c ****  *
1626:Lib/soes/src/esc_coe.c ****  * This function atomically gets an object value.
1627:Lib/soes/src/esc_coe.c ****  *
1628:Lib/soes/src/esc_coe.c ****  * @param[in] obj   = object description
1629:Lib/soes/src/esc_coe.c ****  * @return object value
1630:Lib/soes/src/esc_coe.c ****  */
1631:Lib/soes/src/esc_coe.c **** static uint64_t COE_getValue (const _objd * obj)
1632:Lib/soes/src/esc_coe.c **** {
1633:Lib/soes/src/esc_coe.c ****    uint64_t value = 0;
1634:Lib/soes/src/esc_coe.c **** 
1635:Lib/soes/src/esc_coe.c ****    /* TODO: const data */
1636:Lib/soes/src/esc_coe.c **** 
1637:Lib/soes/src/esc_coe.c ****    switch(obj->datatype)
1638:Lib/soes/src/esc_coe.c ****    {
1639:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT1:
1640:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT2:
1641:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT3:
1642:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT4:
1643:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT5:
1644:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT6:
1645:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT7:
1646:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT8:
1647:Lib/soes/src/esc_coe.c ****    case DTYPE_BOOLEAN:
1648:Lib/soes/src/esc_coe.c ****    case DTYPE_UNSIGNED8:
ARM GAS  /tmp/ccpX7xVZ.s 			page 37


1649:Lib/soes/src/esc_coe.c ****    case DTYPE_INTEGER8:
1650:Lib/soes/src/esc_coe.c ****    case DTYPE_BITARR8:
1651:Lib/soes/src/esc_coe.c ****       value = *(uint8_t *)obj->data;
1652:Lib/soes/src/esc_coe.c ****       break;
1653:Lib/soes/src/esc_coe.c **** 
1654:Lib/soes/src/esc_coe.c ****    case DTYPE_UNSIGNED16:
1655:Lib/soes/src/esc_coe.c ****    case DTYPE_INTEGER16:
1656:Lib/soes/src/esc_coe.c ****    case DTYPE_BITARR16:
1657:Lib/soes/src/esc_coe.c ****       value = *(uint16_t *)obj->data;
1658:Lib/soes/src/esc_coe.c ****       break;
1659:Lib/soes/src/esc_coe.c **** 
1660:Lib/soes/src/esc_coe.c ****    case DTYPE_REAL32:
1661:Lib/soes/src/esc_coe.c ****    case DTYPE_UNSIGNED32:
1662:Lib/soes/src/esc_coe.c ****    case DTYPE_INTEGER32:
1663:Lib/soes/src/esc_coe.c ****    case DTYPE_BITARR32:
1664:Lib/soes/src/esc_coe.c ****       value = *(uint32_t *)obj->data;
1665:Lib/soes/src/esc_coe.c ****       break;
1666:Lib/soes/src/esc_coe.c **** 
1667:Lib/soes/src/esc_coe.c ****    case DTYPE_REAL64:
1668:Lib/soes/src/esc_coe.c ****    case DTYPE_UNSIGNED64:
1669:Lib/soes/src/esc_coe.c ****    case DTYPE_INTEGER64:
1670:Lib/soes/src/esc_coe.c ****       /* FIXME: must be atomic */
1671:Lib/soes/src/esc_coe.c ****       value = *(uint64_t *)obj->data;
1672:Lib/soes/src/esc_coe.c ****       break;
1673:Lib/soes/src/esc_coe.c **** 
1674:Lib/soes/src/esc_coe.c ****    default:
1675:Lib/soes/src/esc_coe.c ****       CC_ASSERT (0);
1676:Lib/soes/src/esc_coe.c ****    }
1677:Lib/soes/src/esc_coe.c **** 
1678:Lib/soes/src/esc_coe.c ****    return value;
1679:Lib/soes/src/esc_coe.c **** }
1680:Lib/soes/src/esc_coe.c **** 
1681:Lib/soes/src/esc_coe.c **** /**
1682:Lib/soes/src/esc_coe.c ****  * Set object value
1683:Lib/soes/src/esc_coe.c ****  *
1684:Lib/soes/src/esc_coe.c ****  * This function atomically sets an object value.
1685:Lib/soes/src/esc_coe.c ****  *
1686:Lib/soes/src/esc_coe.c ****  * @param[in] obj   = object description
1687:Lib/soes/src/esc_coe.c ****  * @param[in] value = new value
1688:Lib/soes/src/esc_coe.c ****  */
1689:Lib/soes/src/esc_coe.c **** static void COE_setValue (const _objd * obj, uint64_t value)
1690:Lib/soes/src/esc_coe.c **** {
 408              		.loc 1 1690 1 is_stmt 1 view -0
 409              		.cfi_startproc
 410              		@ args = 0, pretend = 0, frame = 0
 411              		@ frame_needed = 0, uses_anonymous_args = 0
 412              		@ link register save eliminated.
1691:Lib/soes/src/esc_coe.c ****    switch(obj->datatype)
 413              		.loc 1 1691 4 view .LVU107
 414              		.loc 1 1691 14 is_stmt 0 view .LVU108
 415 0000 4188     		ldrh	r1, [r0, #2]
 416              		.loc 1 1691 4 view .LVU109
 417 0002 0139     		subs	r1, r1, #1
 418 0004 3629     		cmp	r1, #54
 419 0006 29D8     		bhi	.L14
 420 0008 DFE801F0 		tbb	[pc, r1]
 421              	.L17:
ARM GAS  /tmp/ccpX7xVZ.s 			page 38


 422 000c 1C       		.byte	(.L16-.L17)/2
 423 000d 1C       		.byte	(.L16-.L17)/2
 424 000e 1F       		.byte	(.L19-.L17)/2
 425 000f 22       		.byte	(.L18-.L17)/2
 426 0010 1C       		.byte	(.L16-.L17)/2
 427 0011 1F       		.byte	(.L19-.L17)/2
 428 0012 22       		.byte	(.L18-.L17)/2
 429 0013 22       		.byte	(.L18-.L17)/2
 430 0014 28       		.byte	(.L14-.L17)/2
 431 0015 28       		.byte	(.L14-.L17)/2
 432 0016 28       		.byte	(.L14-.L17)/2
 433 0017 28       		.byte	(.L14-.L17)/2
 434 0018 28       		.byte	(.L14-.L17)/2
 435 0019 28       		.byte	(.L14-.L17)/2
 436 001a 28       		.byte	(.L14-.L17)/2
 437 001b 28       		.byte	(.L14-.L17)/2
 438 001c 25       		.byte	(.L20-.L17)/2
 439 001d 28       		.byte	(.L14-.L17)/2
 440 001e 28       		.byte	(.L14-.L17)/2
 441 001f 28       		.byte	(.L14-.L17)/2
 442 0020 25       		.byte	(.L20-.L17)/2
 443 0021 28       		.byte	(.L14-.L17)/2
 444 0022 28       		.byte	(.L14-.L17)/2
 445 0023 28       		.byte	(.L14-.L17)/2
 446 0024 28       		.byte	(.L14-.L17)/2
 447 0025 28       		.byte	(.L14-.L17)/2
 448 0026 25       		.byte	(.L20-.L17)/2
 449 0027 28       		.byte	(.L14-.L17)/2
 450 0028 28       		.byte	(.L14-.L17)/2
 451 0029 28       		.byte	(.L14-.L17)/2
 452 002a 28       		.byte	(.L14-.L17)/2
 453 002b 28       		.byte	(.L14-.L17)/2
 454 002c 28       		.byte	(.L14-.L17)/2
 455 002d 28       		.byte	(.L14-.L17)/2
 456 002e 28       		.byte	(.L14-.L17)/2
 457 002f 28       		.byte	(.L14-.L17)/2
 458 0030 28       		.byte	(.L14-.L17)/2
 459 0031 28       		.byte	(.L14-.L17)/2
 460 0032 28       		.byte	(.L14-.L17)/2
 461 0033 28       		.byte	(.L14-.L17)/2
 462 0034 28       		.byte	(.L14-.L17)/2
 463 0035 28       		.byte	(.L14-.L17)/2
 464 0036 28       		.byte	(.L14-.L17)/2
 465 0037 28       		.byte	(.L14-.L17)/2
 466 0038 1C       		.byte	(.L16-.L17)/2
 467 0039 1F       		.byte	(.L19-.L17)/2
 468 003a 22       		.byte	(.L18-.L17)/2
 469 003b 1C       		.byte	(.L16-.L17)/2
 470 003c 1C       		.byte	(.L16-.L17)/2
 471 003d 1C       		.byte	(.L16-.L17)/2
 472 003e 1C       		.byte	(.L16-.L17)/2
 473 003f 1C       		.byte	(.L16-.L17)/2
 474 0040 1C       		.byte	(.L16-.L17)/2
 475 0041 1C       		.byte	(.L16-.L17)/2
 476 0042 1C       		.byte	(.L16-.L17)/2
 477 0043 00       		.p2align 1
 478              	.L16:
ARM GAS  /tmp/ccpX7xVZ.s 			page 39


1692:Lib/soes/src/esc_coe.c ****    {
1693:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT1:
1694:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT2:
1695:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT3:
1696:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT4:
1697:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT5:
1698:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT6:
1699:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT7:
1700:Lib/soes/src/esc_coe.c ****    case DTYPE_BIT8:
1701:Lib/soes/src/esc_coe.c ****    case DTYPE_BOOLEAN:
1702:Lib/soes/src/esc_coe.c ****    case DTYPE_UNSIGNED8:
1703:Lib/soes/src/esc_coe.c ****    case DTYPE_INTEGER8:
1704:Lib/soes/src/esc_coe.c ****    case DTYPE_BITARR8:
1705:Lib/soes/src/esc_coe.c ****       *(uint8_t *)obj->data = value & UINT8_MAX;
 479              		.loc 1 1705 7 is_stmt 1 view .LVU110
 480              		.loc 1 1705 22 is_stmt 0 view .LVU111
 481 0044 0369     		ldr	r3, [r0, #16]
 482              		.loc 1 1705 29 view .LVU112
 483 0046 1A70     		strb	r2, [r3]
1706:Lib/soes/src/esc_coe.c ****       break;
 484              		.loc 1 1706 7 is_stmt 1 view .LVU113
 485 0048 7047     		bx	lr
 486              	.L19:
1707:Lib/soes/src/esc_coe.c **** 
1708:Lib/soes/src/esc_coe.c ****    case DTYPE_UNSIGNED16:
1709:Lib/soes/src/esc_coe.c ****    case DTYPE_INTEGER16:
1710:Lib/soes/src/esc_coe.c ****    case DTYPE_BITARR16:
1711:Lib/soes/src/esc_coe.c ****       *(uint16_t *)obj->data = value & UINT16_MAX;
 487              		.loc 1 1711 7 view .LVU114
 488              		.loc 1 1711 23 is_stmt 0 view .LVU115
 489 004a 0369     		ldr	r3, [r0, #16]
 490              		.loc 1 1711 30 view .LVU116
 491 004c 1A80     		strh	r2, [r3]	@ movhi
1712:Lib/soes/src/esc_coe.c ****       break;
 492              		.loc 1 1712 7 is_stmt 1 view .LVU117
 493 004e 7047     		bx	lr
 494              	.L18:
1713:Lib/soes/src/esc_coe.c **** 
1714:Lib/soes/src/esc_coe.c ****    case DTYPE_REAL32:
1715:Lib/soes/src/esc_coe.c ****    case DTYPE_UNSIGNED32:
1716:Lib/soes/src/esc_coe.c ****    case DTYPE_INTEGER32:
1717:Lib/soes/src/esc_coe.c ****    case DTYPE_BITARR32:
1718:Lib/soes/src/esc_coe.c ****       *(uint32_t *)obj->data = value & UINT32_MAX;
 495              		.loc 1 1718 7 view .LVU118
 496              		.loc 1 1718 23 is_stmt 0 view .LVU119
 497 0050 0369     		ldr	r3, [r0, #16]
 498              		.loc 1 1718 30 view .LVU120
 499 0052 1A60     		str	r2, [r3]
1719:Lib/soes/src/esc_coe.c ****       break;
 500              		.loc 1 1719 7 is_stmt 1 view .LVU121
 501 0054 7047     		bx	lr
 502              	.L20:
1720:Lib/soes/src/esc_coe.c **** 
1721:Lib/soes/src/esc_coe.c ****    case DTYPE_REAL64:
1722:Lib/soes/src/esc_coe.c ****    case DTYPE_UNSIGNED64:
1723:Lib/soes/src/esc_coe.c ****    case DTYPE_INTEGER64:
1724:Lib/soes/src/esc_coe.c ****       /* FIXME: must be atomic */
ARM GAS  /tmp/ccpX7xVZ.s 			page 40


1725:Lib/soes/src/esc_coe.c ****       *(uint64_t *)obj->data = value;
 503              		.loc 1 1725 7 view .LVU122
 504              		.loc 1 1725 23 is_stmt 0 view .LVU123
 505 0056 0169     		ldr	r1, [r0, #16]
 506              		.loc 1 1725 30 view .LVU124
 507 0058 0A60     		str	r2, [r1]
 508 005a 4B60     		str	r3, [r1, #4]
1726:Lib/soes/src/esc_coe.c ****       break;
 509              		.loc 1 1726 7 is_stmt 1 view .LVU125
 510              	.L14:
1727:Lib/soes/src/esc_coe.c **** 
1728:Lib/soes/src/esc_coe.c ****    default:
1729:Lib/soes/src/esc_coe.c ****       DPRINT ("ignored\n");
1730:Lib/soes/src/esc_coe.c ****       break;
1731:Lib/soes/src/esc_coe.c ****    }
1732:Lib/soes/src/esc_coe.c **** }
 511              		.loc 1 1732 1 is_stmt 0 view .LVU126
 512 005c 7047     		bx	lr
 513              		.cfi_endproc
 514              	.LFE24:
 516              		.section	.text.SDO_getodlistcont,"ax",%progbits
 517              		.align	1
 518              		.syntax unified
 519              		.thumb
 520              		.thumb_func
 522              	SDO_getodlistcont:
 523              	.LFB17:
1243:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
 524              		.loc 1 1243 1 is_stmt 1 view -0
 525              		.cfi_startproc
 526              		@ args = 0, pretend = 0, frame = 0
 527              		@ frame_needed = 0, uses_anonymous_args = 0
 528 0000 70B5     		push	{r4, r5, r6, lr}
 529              		.cfi_def_cfa_offset 16
 530              		.cfi_offset 4, -16
 531              		.cfi_offset 5, -12
 532              		.cfi_offset 6, -8
 533              		.cfi_offset 14, -4
1244:Lib/soes/src/esc_coe.c ****    uint16_t i, n, s;
 534              		.loc 1 1244 4 view .LVU128
1245:Lib/soes/src/esc_coe.c ****    uint16_t *p;
 535              		.loc 1 1245 4 view .LVU129
1246:Lib/soes/src/esc_coe.c ****    _COEobjdesc *coel;
 536              		.loc 1 1246 4 view .LVU130
1247:Lib/soes/src/esc_coe.c **** 
 537              		.loc 1 1247 4 view .LVU131
1249:Lib/soes/src/esc_coe.c ****    if (MBXout)
 538              		.loc 1 1249 4 view .LVU132
1249:Lib/soes/src/esc_coe.c ****    if (MBXout)
 539              		.loc 1 1249 13 is_stmt 0 view .LVU133
 540 0002 FFF7FEFF 		bl	ESC_claimbuffer
 541              	.LVL49:
1250:Lib/soes/src/esc_coe.c ****    {
 542              		.loc 1 1250 4 is_stmt 1 view .LVU134
1250:Lib/soes/src/esc_coe.c ****    {
 543              		.loc 1 1250 7 is_stmt 0 view .LVU135
 544 0006 0028     		cmp	r0, #0
ARM GAS  /tmp/ccpX7xVZ.s 			page 41


 545 0008 59D0     		beq	.L21
 546 000a 8646     		mov	lr, r0
1252:Lib/soes/src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 547              		.loc 1 1252 7 is_stmt 1 view .LVU136
1252:Lib/soes/src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 548              		.loc 1 1252 44 is_stmt 0 view .LVU137
 549 000c 2C49     		ldr	r1, .L28
 550 000e CB6E     		ldr	r3, [r1, #108]
1252:Lib/soes/src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 551              		.loc 1 1252 42 view .LVU138
 552 0010 03FB00FC 		mul	ip, r3, r0
1252:Lib/soes/src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 553              		.loc 1 1252 12 view .LVU139
 554 0014 2B4C     		ldr	r4, .L28+4
 555 0016 0CEB0402 		add	r2, ip, r4
 556              	.LVL50:
1253:Lib/soes/src/esc_coe.c ****       coel->coeheader.numberservice =
 557              		.loc 1 1253 7 is_stmt 1 view .LVU140
1253:Lib/soes/src/esc_coe.c ****       coel->coeheader.numberservice =
 558              		.loc 1 1253 31 is_stmt 0 view .LVU141
 559 001a 5379     		ldrb	r3, [r2, #5]	@ zero_extendqisi2
 560 001c 0320     		movs	r0, #3
 561              	.LVL51:
1253:Lib/soes/src/esc_coe.c ****       coel->coeheader.numberservice =
 562              		.loc 1 1253 31 view .LVU142
 563 001e 60F30303 		bfi	r3, r0, #0, #4
 564 0022 5371     		strb	r3, [r2, #5]
1254:Lib/soes/src/esc_coe.c ****          htoes (COE_SDOINFORMATION << 12);
 565              		.loc 1 1254 7 is_stmt 1 view .LVU143
1254:Lib/soes/src/esc_coe.c ****          htoes (COE_SDOINFORMATION << 12);
 566              		.loc 1 1254 37 is_stmt 0 view .LVU144
 567 0024 4FF40043 		mov	r3, #32768
 568 0028 D380     		strh	r3, [r2, #6]	@ movhi
1256:Lib/soes/src/esc_coe.c ****       s = (uint16_t)((ESCvar.frags - ESCvar.fragsleft) * (ODLISTSIZE >> 1));
 569              		.loc 1 1256 7 is_stmt 1 view .LVU145
1256:Lib/soes/src/esc_coe.c ****       s = (uint16_t)((ESCvar.frags - ESCvar.fragsleft) * (ODLISTSIZE >> 1));
 570              		.loc 1 1256 31 is_stmt 0 view .LVU146
 571 002a 137A     		ldrb	r3, [r2, #8]	@ zero_extendqisi2
 572 002c 0220     		movs	r0, #2
 573 002e 60F30603 		bfi	r3, r0, #0, #7
 574 0032 1372     		strb	r3, [r2, #8]
1257:Lib/soes/src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
 575              		.loc 1 1257 7 is_stmt 1 view .LVU147
1257:Lib/soes/src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
 576              		.loc 1 1257 29 is_stmt 0 view .LVU148
 577 0034 D1F89C30 		ldr	r3, [r1, #156]
1257:Lib/soes/src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
 578              		.loc 1 1257 44 view .LVU149
 579 0038 D1F8A000 		ldr	r0, [r1, #160]
1257:Lib/soes/src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
 580              		.loc 1 1257 36 view .LVU150
 581 003c 1B1A     		subs	r3, r3, r0
1257:Lib/soes/src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
 582              		.loc 1 1257 11 view .LVU151
 583 003e 9BB2     		uxth	r3, r3
1257:Lib/soes/src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
 584              		.loc 1 1257 59 view .LVU152
ARM GAS  /tmp/ccpX7xVZ.s 			page 42


 585 0040 496F     		ldr	r1, [r1, #116]
 586 0042 4E88     		ldrh	r6, [r1, #2]
 587 0044 0E3E     		subs	r6, r6, #14
1257:Lib/soes/src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
 588              		.loc 1 1257 11 view .LVU153
 589 0046 C6F34E06 		ubfx	r6, r6, #1, #15
1257:Lib/soes/src/esc_coe.c ****       if (ESCvar.fragsleft > 1)
 590              		.loc 1 1257 9 view .LVU154
 591 004a 13FB06F3 		smulbb	r3, r3, r6
 592 004e 9EB2     		uxth	r6, r3
 593              	.LVL52:
1258:Lib/soes/src/esc_coe.c ****       {
 594              		.loc 1 1258 7 is_stmt 1 view .LVU155
1258:Lib/soes/src/esc_coe.c ****       {
 595              		.loc 1 1258 10 is_stmt 0 view .LVU156
 596 0050 0128     		cmp	r0, #1
 597 0052 13D9     		bls	.L23
1260:Lib/soes/src/esc_coe.c ****          n = (uint16_t)(s + (ODLISTSIZE >> 1));
 598              		.loc 1 1260 10 is_stmt 1 view .LVU157
1260:Lib/soes/src/esc_coe.c ****          n = (uint16_t)(s + (ODLISTSIZE >> 1));
 599              		.loc 1 1260 38 is_stmt 0 view .LVU158
 600 0054 137A     		ldrb	r3, [r2, #8]	@ zero_extendqisi2
 601 0056 43F08003 		orr	r3, r3, #128
 602 005a 1372     		strb	r3, [r2, #8]
1261:Lib/soes/src/esc_coe.c ****       }
 603              		.loc 1 1261 10 is_stmt 1 view .LVU159
1261:Lib/soes/src/esc_coe.c ****       }
 604              		.loc 1 1261 30 is_stmt 0 view .LVU160
 605 005c 4988     		ldrh	r1, [r1, #2]
 606 005e 0E39     		subs	r1, r1, #14
1261:Lib/soes/src/esc_coe.c ****       }
 607              		.loc 1 1261 14 view .LVU161
 608 0060 C1F34E01 		ubfx	r1, r1, #1, #15
1261:Lib/soes/src/esc_coe.c ****       }
 609              		.loc 1 1261 12 view .LVU162
 610 0064 3144     		add	r1, r1, r6
 611 0066 89B2     		uxth	r1, r1
 612              	.LVL53:
 613              	.L24:
1270:Lib/soes/src/esc_coe.c ****       ESCvar.fragsleft--;
 614              		.loc 1 1270 7 is_stmt 1 view .LVU163
1270:Lib/soes/src/esc_coe.c ****       ESCvar.fragsleft--;
 615              		.loc 1 1270 33 is_stmt 0 view .LVU164
 616 0068 0023     		movs	r3, #0
 617 006a 5372     		strb	r3, [r2, #9]
1271:Lib/soes/src/esc_coe.c ****       coel->infoheader.fragmentsleft = htoes ((uint16_t)ESCvar.fragsleft);
 618              		.loc 1 1271 7 is_stmt 1 view .LVU165
1271:Lib/soes/src/esc_coe.c ****       coel->infoheader.fragmentsleft = htoes ((uint16_t)ESCvar.fragsleft);
 619              		.loc 1 1271 23 is_stmt 0 view .LVU166
 620 006c 0138     		subs	r0, r0, #1
 621 006e 144B     		ldr	r3, .L28
 622 0070 C3F8A000 		str	r0, [r3, #160]
1272:Lib/soes/src/esc_coe.c ****       /* pointer 2 bytes back to exclude index */
 623              		.loc 1 1272 7 is_stmt 1 view .LVU167
1272:Lib/soes/src/esc_coe.c ****       /* pointer 2 bytes back to exclude index */
 624              		.loc 1 1272 38 is_stmt 0 view .LVU168
 625 0074 5081     		strh	r0, [r2, #10]	@ movhi
ARM GAS  /tmp/ccpX7xVZ.s 			page 43


1274:Lib/soes/src/esc_coe.c ****       for (i = s; i < n; i++)
 626              		.loc 1 1274 7 is_stmt 1 view .LVU169
1274:Lib/soes/src/esc_coe.c ****       for (i = s; i < n; i++)
 627              		.loc 1 1274 9 is_stmt 0 view .LVU170
 628 0076 0C32     		adds	r2, r2, #12
 629              	.LVL54:
1275:Lib/soes/src/esc_coe.c ****       {
 630              		.loc 1 1275 7 is_stmt 1 view .LVU171
1275:Lib/soes/src/esc_coe.c ****       {
 631              		.loc 1 1275 14 is_stmt 0 view .LVU172
 632 0078 3346     		mov	r3, r6
1275:Lib/soes/src/esc_coe.c ****       {
 633              		.loc 1 1275 7 view .LVU173
 634 007a 13E0     		b	.L25
 635              	.LVL55:
 636              	.L23:
1265:Lib/soes/src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
 637              		.loc 1 1265 10 is_stmt 1 view .LVU174
1265:Lib/soes/src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
 638              		.loc 1 1265 38 is_stmt 0 view .LVU175
 639 007c 137A     		ldrb	r3, [r2, #8]	@ zero_extendqisi2
 640 007e 6FF3C713 		bfc	r3, #7, #1
 641 0082 1372     		strb	r3, [r2, #8]
1266:Lib/soes/src/esc_coe.c ****          ESCvar.xoe = 0;
 642              		.loc 1 1266 10 is_stmt 1 view .LVU176
1266:Lib/soes/src/esc_coe.c ****          ESCvar.xoe = 0;
 643              		.loc 1 1266 30 is_stmt 0 view .LVU177
 644 0084 0021     		movs	r1, #0
 645 0086 104B     		ldr	r3, .L28+8
 646 0088 1970     		strb	r1, [r3]
1267:Lib/soes/src/esc_coe.c ****          n = ESCvar.entries;
 647              		.loc 1 1267 10 is_stmt 1 view .LVU178
1267:Lib/soes/src/esc_coe.c ****          n = ESCvar.entries;
 648              		.loc 1 1267 21 is_stmt 0 view .LVU179
 649 008a 0D4B     		ldr	r3, .L28
 650 008c 83F88E10 		strb	r1, [r3, #142]
1268:Lib/soes/src/esc_coe.c ****       }
 651              		.loc 1 1268 10 is_stmt 1 view .LVU180
1268:Lib/soes/src/esc_coe.c ****       }
 652              		.loc 1 1268 12 is_stmt 0 view .LVU181
 653 0090 B3F89810 		ldrh	r1, [r3, #152]
 654              	.LVL56:
1268:Lib/soes/src/esc_coe.c ****       }
 655              		.loc 1 1268 12 view .LVU182
 656 0094 E8E7     		b	.L24
 657              	.LVL57:
 658              	.L26:
1277:Lib/soes/src/esc_coe.c ****          p++;
 659              		.loc 1 1277 10 is_stmt 1 discriminator 3 view .LVU183
1277:Lib/soes/src/esc_coe.c ****          p++;
 660              		.loc 1 1277 15 is_stmt 0 discriminator 3 view .LVU184
 661 0096 1801     		lsls	r0, r3, #4
 662 0098 0C4D     		ldr	r5, .L28+12
 663 009a 285A     		ldrh	r0, [r5, r0]
1277:Lib/soes/src/esc_coe.c ****          p++;
 664              		.loc 1 1277 13 discriminator 3 view .LVU185
 665 009c 22F8020B 		strh	r0, [r2], #2	@ movhi
ARM GAS  /tmp/ccpX7xVZ.s 			page 44


 666              	.LVL58:
1278:Lib/soes/src/esc_coe.c ****       }
 667              		.loc 1 1278 10 is_stmt 1 discriminator 3 view .LVU186
1275:Lib/soes/src/esc_coe.c ****       {
 668              		.loc 1 1275 26 discriminator 3 view .LVU187
1275:Lib/soes/src/esc_coe.c ****       {
 669              		.loc 1 1275 27 is_stmt 0 discriminator 3 view .LVU188
 670 00a0 0133     		adds	r3, r3, #1
 671              	.LVL59:
1275:Lib/soes/src/esc_coe.c ****       {
 672              		.loc 1 1275 27 discriminator 3 view .LVU189
 673 00a2 9BB2     		uxth	r3, r3
 674              	.LVL60:
 675              	.L25:
1275:Lib/soes/src/esc_coe.c ****       {
 676              		.loc 1 1275 19 is_stmt 1 discriminator 1 view .LVU190
1275:Lib/soes/src/esc_coe.c ****       {
 677              		.loc 1 1275 7 is_stmt 0 discriminator 1 view .LVU191
 678 00a4 8B42     		cmp	r3, r1
 679 00a6 F6D3     		bcc	.L26
1280:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 680              		.loc 1 1280 7 is_stmt 1 view .LVU192
1280:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 681              		.loc 1 1280 32 is_stmt 0 view .LVU193
 682 00a8 8B1B     		subs	r3, r1, r6
 683              	.LVL61:
1280:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 684              		.loc 1 1280 32 view .LVU194
 685 00aa 9BB2     		uxth	r3, r3
 686 00ac 5B00     		lsls	r3, r3, #1
 687 00ae 9BB2     		uxth	r3, r3
 688 00b0 0633     		adds	r3, r3, #6
1280:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 689              		.loc 1 1280 30 view .LVU195
 690 00b2 24F80C30 		strh	r3, [r4, ip]	@ movhi
1281:Lib/soes/src/esc_coe.c ****    }
 691              		.loc 1 1281 7 is_stmt 1 view .LVU196
1281:Lib/soes/src/esc_coe.c ****    }
 692              		.loc 1 1281 32 is_stmt 0 view .LVU197
 693 00b6 044B     		ldr	r3, .L28+8
 694 00b8 0322     		movs	r2, #3
 695              	.LVL62:
1281:Lib/soes/src/esc_coe.c ****    }
 696              		.loc 1 1281 32 view .LVU198
 697 00ba 03F80E20 		strb	r2, [r3, lr]
 698              	.LVL63:
 699              	.L21:
1283:Lib/soes/src/esc_coe.c **** 
 700              		.loc 1 1283 1 view .LVU199
 701 00be 70BD     		pop	{r4, r5, r6, pc}
 702              	.L29:
 703              		.align	2
 704              	.L28:
 705 00c0 00000000 		.word	ESCvar
 706 00c4 00000000 		.word	MBX
 707 00c8 00000000 		.word	MBXcontrol
 708 00cc 00000000 		.word	SDOobjects
ARM GAS  /tmp/ccpX7xVZ.s 			page 45


 709              		.cfi_endproc
 710              	.LFE17:
 712              		.section	.text.SDO_infoerror,"ax",%progbits
 713              		.align	1
 714              		.syntax unified
 715              		.thumb
 716              		.thumb_func
 718              	SDO_infoerror:
 719              	.LVL64:
 720              	.LFB15:
1120:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
 721              		.loc 1 1120 1 is_stmt 1 view -0
 722              		.cfi_startproc
 723              		@ args = 0, pretend = 0, frame = 0
 724              		@ frame_needed = 0, uses_anonymous_args = 0
1120:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
 725              		.loc 1 1120 1 is_stmt 0 view .LVU201
 726 0000 38B5     		push	{r3, r4, r5, lr}
 727              		.cfi_def_cfa_offset 16
 728              		.cfi_offset 3, -16
 729              		.cfi_offset 4, -12
 730              		.cfi_offset 5, -8
 731              		.cfi_offset 14, -4
 732 0002 0446     		mov	r4, r0
1121:Lib/soes/src/esc_coe.c ****    _COEobjdesc *coeres;
 733              		.loc 1 1121 4 is_stmt 1 view .LVU202
1122:Lib/soes/src/esc_coe.c ****    MBXout = ESC_claimbuffer ();
 734              		.loc 1 1122 4 view .LVU203
1123:Lib/soes/src/esc_coe.c ****    if (MBXout)
 735              		.loc 1 1123 4 view .LVU204
1123:Lib/soes/src/esc_coe.c ****    if (MBXout)
 736              		.loc 1 1123 13 is_stmt 0 view .LVU205
 737 0004 FFF7FEFF 		bl	ESC_claimbuffer
 738              	.LVL65:
1124:Lib/soes/src/esc_coe.c ****    {
 739              		.loc 1 1124 4 is_stmt 1 view .LVU206
1124:Lib/soes/src/esc_coe.c ****    {
 740              		.loc 1 1124 7 is_stmt 0 view .LVU207
 741 0008 40B3     		cbz	r0, .L30
 742 000a 0146     		mov	r1, r0
1126:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_HEADERSIZE);
 743              		.loc 1 1126 7 is_stmt 1 view .LVU208
1126:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_HEADERSIZE);
 744              		.loc 1 1126 46 is_stmt 0 view .LVU209
 745 000c 1448     		ldr	r0, .L33
 746              	.LVL66:
1126:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_HEADERSIZE);
 747              		.loc 1 1126 46 view .LVU210
 748 000e C26E     		ldr	r2, [r0, #108]
1126:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_HEADERSIZE);
 749              		.loc 1 1126 44 view .LVU211
 750 0010 01FB02F2 		mul	r2, r1, r2
1126:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_HEADERSIZE);
 751              		.loc 1 1126 14 view .LVU212
 752 0014 134D     		ldr	r5, .L33+4
 753 0016 5319     		adds	r3, r2, r5
 754              	.LVL67:
ARM GAS  /tmp/ccpX7xVZ.s 			page 46


1127:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.mbxtype = MBXCOE;
 755              		.loc 1 1127 7 is_stmt 1 view .LVU213
1127:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.mbxtype = MBXCOE;
 756              		.loc 1 1127 32 is_stmt 0 view .LVU214
 757 0018 4FF00A0C 		mov	ip, #10
 758 001c 22F805C0 		strh	ip, [r2, r5]	@ movhi
1128:Lib/soes/src/esc_coe.c ****       coeres->coeheader.numberservice =
 759              		.loc 1 1128 7 is_stmt 1 view .LVU215
1128:Lib/soes/src/esc_coe.c ****       coeres->coeheader.numberservice =
 760              		.loc 1 1128 33 is_stmt 0 view .LVU216
 761 0020 5A79     		ldrb	r2, [r3, #5]	@ zero_extendqisi2
 762 0022 4FF0030C 		mov	ip, #3
 763 0026 6CF30302 		bfi	r2, ip, #0, #4
 764 002a 5A71     		strb	r2, [r3, #5]
1129:Lib/soes/src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 765              		.loc 1 1129 7 is_stmt 1 view .LVU217
1129:Lib/soes/src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 766              		.loc 1 1129 39 is_stmt 0 view .LVU218
 767 002c 4FF40042 		mov	r2, #32768
 768 0030 DA80     		strh	r2, [r3, #6]	@ movhi
1132:Lib/soes/src/esc_coe.c ****       coeres->infoheader.incomplete = 0;
 769              		.loc 1 1132 7 is_stmt 1 view .LVU219
1132:Lib/soes/src/esc_coe.c ****       coeres->infoheader.incomplete = 0;
 770              		.loc 1 1132 33 is_stmt 0 view .LVU220
 771 0032 1A7A     		ldrb	r2, [r3, #8]	@ zero_extendqisi2
 772 0034 0725     		movs	r5, #7
 773 0036 65F30602 		bfi	r2, r5, #0, #7
 774 003a 1A72     		strb	r2, [r3, #8]
1133:Lib/soes/src/esc_coe.c ****       coeres->infoheader.reserved = 0x00;
 775              		.loc 1 1133 7 is_stmt 1 view .LVU221
1133:Lib/soes/src/esc_coe.c ****       coeres->infoheader.reserved = 0x00;
 776              		.loc 1 1133 37 is_stmt 0 view .LVU222
 777 003c D2B2     		uxtb	r2, r2
 778 003e 6FF3C712 		bfc	r2, #7, #1
 779 0042 1A72     		strb	r2, [r3, #8]
1134:Lib/soes/src/esc_coe.c ****       coeres->infoheader.fragmentsleft = 0;
 780              		.loc 1 1134 7 is_stmt 1 view .LVU223
1134:Lib/soes/src/esc_coe.c ****       coeres->infoheader.fragmentsleft = 0;
 781              		.loc 1 1134 35 is_stmt 0 view .LVU224
 782 0044 0022     		movs	r2, #0
 783 0046 5A72     		strb	r2, [r3, #9]
1135:Lib/soes/src/esc_coe.c ****       coeres->index = (uint16_t)htoel (abortcode);
 784              		.loc 1 1135 7 is_stmt 1 view .LVU225
1135:Lib/soes/src/esc_coe.c ****       coeres->index = (uint16_t)htoel (abortcode);
 785              		.loc 1 1135 40 is_stmt 0 view .LVU226
 786 0048 5A81     		strh	r2, [r3, #10]	@ movhi
1136:Lib/soes/src/esc_coe.c ****       coeres->datatype = (uint16_t)(htoel (abortcode) >> 16);
 787              		.loc 1 1136 7 is_stmt 1 view .LVU227
1136:Lib/soes/src/esc_coe.c ****       coeres->datatype = (uint16_t)(htoel (abortcode) >> 16);
 788              		.loc 1 1136 21 is_stmt 0 view .LVU228
 789 004a 9C81     		strh	r4, [r3, #12]	@ movhi
1137:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 790              		.loc 1 1137 7 is_stmt 1 view .LVU229
1137:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 791              		.loc 1 1137 26 is_stmt 0 view .LVU230
 792 004c 240C     		lsrs	r4, r4, #16
 793              	.LVL68:
ARM GAS  /tmp/ccpX7xVZ.s 			page 47


1137:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 794              		.loc 1 1137 24 view .LVU231
 795 004e DC81     		strh	r4, [r3, #14]	@ movhi
1138:Lib/soes/src/esc_coe.c ****       MBXcontrol[0].state = MBXstate_idle;
 796              		.loc 1 1138 7 is_stmt 1 view .LVU232
1138:Lib/soes/src/esc_coe.c ****       MBXcontrol[0].state = MBXstate_idle;
 797              		.loc 1 1138 32 is_stmt 0 view .LVU233
 798 0050 054B     		ldr	r3, .L33+8
 799              	.LVL69:
1138:Lib/soes/src/esc_coe.c ****       MBXcontrol[0].state = MBXstate_idle;
 800              		.loc 1 1138 32 view .LVU234
 801 0052 03F801C0 		strb	ip, [r3, r1]
1139:Lib/soes/src/esc_coe.c ****       ESCvar.xoe = 0;
 802              		.loc 1 1139 7 is_stmt 1 view .LVU235
1139:Lib/soes/src/esc_coe.c ****       ESCvar.xoe = 0;
 803              		.loc 1 1139 27 is_stmt 0 view .LVU236
 804 0056 1A70     		strb	r2, [r3]
1140:Lib/soes/src/esc_coe.c ****    }
 805              		.loc 1 1140 7 is_stmt 1 view .LVU237
1140:Lib/soes/src/esc_coe.c ****    }
 806              		.loc 1 1140 18 is_stmt 0 view .LVU238
 807 0058 80F88E20 		strb	r2, [r0, #142]
 808              	.LVL70:
 809              	.L30:
1142:Lib/soes/src/esc_coe.c **** 
 810              		.loc 1 1142 1 view .LVU239
 811 005c 38BD     		pop	{r3, r4, r5, pc}
 812              	.L34:
 813 005e 00BF     		.align	2
 814              	.L33:
 815 0060 00000000 		.word	ESCvar
 816 0064 00000000 		.word	MBX
 817 0068 00000000 		.word	MBXcontrol
 818              		.cfi_endproc
 819              	.LFE15:
 821              		.section	.text.SDO_getodlist,"ax",%progbits
 822              		.align	1
 823              		.syntax unified
 824              		.thumb
 825              		.thumb_func
 827              	SDO_getodlist:
 828              	.LFB16:
1150:Lib/soes/src/esc_coe.c ****    uint32_t frags;
 829              		.loc 1 1150 1 is_stmt 1 view -0
 830              		.cfi_startproc
 831              		@ args = 0, pretend = 0, frame = 0
 832              		@ frame_needed = 0, uses_anonymous_args = 0
 833 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 834              		.cfi_def_cfa_offset 24
 835              		.cfi_offset 3, -24
 836              		.cfi_offset 4, -20
 837              		.cfi_offset 5, -16
 838              		.cfi_offset 6, -12
 839              		.cfi_offset 7, -8
 840              		.cfi_offset 14, -4
1151:Lib/soes/src/esc_coe.c ****    uint8_t MBXout = 0;
 841              		.loc 1 1151 4 view .LVU241
ARM GAS  /tmp/ccpX7xVZ.s 			page 48


1152:Lib/soes/src/esc_coe.c ****    uint16_t entries = 0;
 842              		.loc 1 1152 4 view .LVU242
 843              	.LVL71:
1153:Lib/soes/src/esc_coe.c ****    uint16_t i, n;
 844              		.loc 1 1153 4 view .LVU243
1154:Lib/soes/src/esc_coe.c ****    uint16_t *p;
 845              		.loc 1 1154 4 view .LVU244
1155:Lib/soes/src/esc_coe.c ****    _COEobjdesc *coel, *coer;
 846              		.loc 1 1155 4 view .LVU245
1156:Lib/soes/src/esc_coe.c **** 
 847              		.loc 1 1156 4 view .LVU246
1158:Lib/soes/src/esc_coe.c ****    {
 848              		.loc 1 1158 4 view .LVU247
1153:Lib/soes/src/esc_coe.c ****    uint16_t i, n;
 849              		.loc 1 1153 13 is_stmt 0 view .LVU248
 850 0002 0024     		movs	r4, #0
1158:Lib/soes/src/esc_coe.c ****    {
 851              		.loc 1 1158 10 view .LVU249
 852 0004 01E0     		b	.L36
 853              	.LVL72:
 854              	.L37:
1160:Lib/soes/src/esc_coe.c ****    }
 855              		.loc 1 1160 7 is_stmt 1 view .LVU250
1160:Lib/soes/src/esc_coe.c ****    }
 856              		.loc 1 1160 14 is_stmt 0 view .LVU251
 857 0006 0134     		adds	r4, r4, #1
 858              	.LVL73:
1160:Lib/soes/src/esc_coe.c ****    }
 859              		.loc 1 1160 14 view .LVU252
 860 0008 A4B2     		uxth	r4, r4
 861              	.LVL74:
 862              	.L36:
1158:Lib/soes/src/esc_coe.c ****    {
 863              		.loc 1 1158 10 is_stmt 1 view .LVU253
1158:Lib/soes/src/esc_coe.c ****    {
 864              		.loc 1 1158 30 is_stmt 0 view .LVU254
 865 000a 2301     		lsls	r3, r4, #4
 866 000c 464A     		ldr	r2, .L48
 867 000e D25A     		ldrh	r2, [r2, r3]
1158:Lib/soes/src/esc_coe.c ****    {
 868              		.loc 1 1158 10 view .LVU255
 869 0010 4FF6FF73 		movw	r3, #65535
 870 0014 9A42     		cmp	r2, r3
 871 0016 F6D1     		bne	.L37
1162:Lib/soes/src/esc_coe.c ****    frags = ((uint32_t)(entries << 1) + ODLISTSIZE - 1U);
 872              		.loc 1 1162 4 is_stmt 1 view .LVU256
1162:Lib/soes/src/esc_coe.c ****    frags = ((uint32_t)(entries << 1) + ODLISTSIZE - 1U);
 873              		.loc 1 1162 19 is_stmt 0 view .LVU257
 874 0018 444B     		ldr	r3, .L48+4
 875 001a A3F89840 		strh	r4, [r3, #152]	@ movhi
1163:Lib/soes/src/esc_coe.c ****    frags /= ODLISTSIZE;
 876              		.loc 1 1163 4 is_stmt 1 view .LVU258
1163:Lib/soes/src/esc_coe.c ****    frags /= ODLISTSIZE;
 877              		.loc 1 1163 40 is_stmt 0 view .LVU259
 878 001e 5B6F     		ldr	r3, [r3, #116]
 879 0020 5D88     		ldrh	r5, [r3, #2]
 880 0022 0E3D     		subs	r5, r5, #14
ARM GAS  /tmp/ccpX7xVZ.s 			page 49


 881 0024 25F00105 		bic	r5, r5, #1
 882 0028 2D04     		lsls	r5, r5, #16
 883 002a 2D0C     		lsrs	r5, r5, #16
1163:Lib/soes/src/esc_coe.c ****    frags /= ODLISTSIZE;
 884              		.loc 1 1163 38 view .LVU260
 885 002c 05EB4401 		add	r1, r5, r4, lsl #1
1163:Lib/soes/src/esc_coe.c ****    frags /= ODLISTSIZE;
 886              		.loc 1 1163 10 view .LVU261
 887 0030 0139     		subs	r1, r1, #1
 888              	.LVL75:
1164:Lib/soes/src/esc_coe.c ****    coer = (_COEobjdesc *) &MBX[0];
 889              		.loc 1 1164 4 is_stmt 1 view .LVU262
1164:Lib/soes/src/esc_coe.c ****    coer = (_COEobjdesc *) &MBX[0];
 890              		.loc 1 1164 10 is_stmt 0 view .LVU263
 891 0032 B1FBF5F5 		udiv	r5, r1, r5
 892              	.LVL76:
1165:Lib/soes/src/esc_coe.c ****    /* check for unsupported opcodes */
 893              		.loc 1 1165 4 is_stmt 1 view .LVU264
1167:Lib/soes/src/esc_coe.c ****    {
 894              		.loc 1 1167 4 view .LVU265
1167:Lib/soes/src/esc_coe.c ****    {
 895              		.loc 1 1167 8 is_stmt 0 view .LVU266
 896 0036 3E4B     		ldr	r3, .L48+8
 897 0038 9B89     		ldrh	r3, [r3, #12]	@ unaligned
1167:Lib/soes/src/esc_coe.c ****    {
 898              		.loc 1 1167 7 view .LVU267
 899 003a 012B     		cmp	r3, #1
 900 003c 03D9     		bls	.L38
1169:Lib/soes/src/esc_coe.c ****    }
 901              		.loc 1 1169 7 is_stmt 1 view .LVU268
 902 003e 3D48     		ldr	r0, .L48+12
 903 0040 FFF7FEFF 		bl	SDO_infoerror
 904              	.LVL77:
1175:Lib/soes/src/esc_coe.c ****    {
 905              		.loc 1 1175 4 view .LVU269
 906              	.L35:
1238:Lib/soes/src/esc_coe.c **** /** Function for continuing sending left overs from previous requested
 907              		.loc 1 1238 1 is_stmt 0 view .LVU270
 908 0044 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 909              	.LVL78:
 910              	.L38:
1173:Lib/soes/src/esc_coe.c ****    }
 911              		.loc 1 1173 7 is_stmt 1 view .LVU271
1173:Lib/soes/src/esc_coe.c ****    }
 912              		.loc 1 1173 16 is_stmt 0 view .LVU272
 913 0046 FFF7FEFF 		bl	ESC_claimbuffer
 914              	.LVL79:
1175:Lib/soes/src/esc_coe.c ****    {
 915              		.loc 1 1175 4 is_stmt 1 view .LVU273
1175:Lib/soes/src/esc_coe.c ****    {
 916              		.loc 1 1175 7 is_stmt 0 view .LVU274
 917 004a 8446     		mov	ip, r0
 918 004c 0028     		cmp	r0, #0
 919 004e F9D0     		beq	.L35
1177:Lib/soes/src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 920              		.loc 1 1177 7 is_stmt 1 view .LVU275
1177:Lib/soes/src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
ARM GAS  /tmp/ccpX7xVZ.s 			page 50


 921              		.loc 1 1177 44 is_stmt 0 view .LVU276
 922 0050 364B     		ldr	r3, .L48+4
 923 0052 D86E     		ldr	r0, [r3, #108]
 924              	.LVL80:
1177:Lib/soes/src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 925              		.loc 1 1177 42 view .LVU277
 926 0054 00FB0CF0 		mul	r0, r0, ip
1177:Lib/soes/src/esc_coe.c ****       coel->mbxheader.mbxtype = MBXCOE;
 927              		.loc 1 1177 12 view .LVU278
 928 0058 354E     		ldr	r6, .L48+8
 929 005a 8319     		adds	r3, r0, r6
 930              	.LVL81:
1178:Lib/soes/src/esc_coe.c ****       coel->coeheader.numberservice =
 931              		.loc 1 1178 7 is_stmt 1 view .LVU279
1178:Lib/soes/src/esc_coe.c ****       coel->coeheader.numberservice =
 932              		.loc 1 1178 31 is_stmt 0 view .LVU280
 933 005c 5A79     		ldrb	r2, [r3, #5]	@ zero_extendqisi2
 934 005e 0321     		movs	r1, #3
 935 0060 61F30302 		bfi	r2, r1, #0, #4
 936 0064 5A71     		strb	r2, [r3, #5]
1179:Lib/soes/src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 937              		.loc 1 1179 7 is_stmt 1 view .LVU281
1179:Lib/soes/src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 938              		.loc 1 1179 37 is_stmt 0 view .LVU282
 939 0066 4FF40042 		mov	r2, #32768
 940 006a DA80     		strh	r2, [r3, #6]	@ movhi
1181:Lib/soes/src/esc_coe.c ****       /* number of objects request */
 941              		.loc 1 1181 7 is_stmt 1 view .LVU283
1181:Lib/soes/src/esc_coe.c ****       /* number of objects request */
 942              		.loc 1 1181 31 is_stmt 0 view .LVU284
 943 006c 1A7A     		ldrb	r2, [r3, #8]	@ zero_extendqisi2
 944 006e 0221     		movs	r1, #2
 945 0070 61F30602 		bfi	r2, r1, #0, #7
 946 0074 1A72     		strb	r2, [r3, #8]
1183:Lib/soes/src/esc_coe.c ****       {
 947              		.loc 1 1183 7 is_stmt 1 view .LVU285
1183:Lib/soes/src/esc_coe.c ****       {
 948              		.loc 1 1183 11 is_stmt 0 view .LVU286
 949 0076 B289     		ldrh	r2, [r6, #12]	@ unaligned
1183:Lib/soes/src/esc_coe.c ****       {
 950              		.loc 1 1183 10 view .LVU287
 951 0078 BAB9     		cbnz	r2, .L40
1185:Lib/soes/src/esc_coe.c ****          coel->infoheader.incomplete = 0;
 952              		.loc 1 1185 10 is_stmt 1 view .LVU288
1185:Lib/soes/src/esc_coe.c ****          coel->infoheader.incomplete = 0;
 953              		.loc 1 1185 22 is_stmt 0 view .LVU289
 954 007a 9A81     		strh	r2, [r3, #12]	@ movhi
1186:Lib/soes/src/esc_coe.c ****          coel->infoheader.reserved = 0x00;
 955              		.loc 1 1186 10 is_stmt 1 view .LVU290
1186:Lib/soes/src/esc_coe.c ****          coel->infoheader.reserved = 0x00;
 956              		.loc 1 1186 38 is_stmt 0 view .LVU291
 957 007c 197A     		ldrb	r1, [r3, #8]	@ zero_extendqisi2
 958 007e 62F3C711 		bfi	r1, r2, #7, #1
 959 0082 1972     		strb	r1, [r3, #8]
1187:Lib/soes/src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (0);
 960              		.loc 1 1187 10 is_stmt 1 view .LVU292
1187:Lib/soes/src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (0);
ARM GAS  /tmp/ccpX7xVZ.s 			page 51


 961              		.loc 1 1187 36 is_stmt 0 view .LVU293
 962 0084 5A72     		strb	r2, [r3, #9]
1188:Lib/soes/src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
 963              		.loc 1 1188 10 is_stmt 1 view .LVU294
1188:Lib/soes/src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
 964              		.loc 1 1188 41 is_stmt 0 view .LVU295
 965 0086 5A81     		strh	r2, [r3, #10]	@ movhi
1189:Lib/soes/src/esc_coe.c ****          ESCvar.xoe = 0;
 966              		.loc 1 1189 10 is_stmt 1 view .LVU296
1189:Lib/soes/src/esc_coe.c ****          ESCvar.xoe = 0;
 967              		.loc 1 1189 30 is_stmt 0 view .LVU297
 968 0088 2B49     		ldr	r1, .L48+16
 969 008a 0A70     		strb	r2, [r1]
1190:Lib/soes/src/esc_coe.c ****          ESCvar.frags = frags;
 970              		.loc 1 1190 10 is_stmt 1 view .LVU298
1190:Lib/soes/src/esc_coe.c ****          ESCvar.frags = frags;
 971              		.loc 1 1190 21 is_stmt 0 view .LVU299
 972 008c 2749     		ldr	r1, .L48+4
 973 008e 81F88E20 		strb	r2, [r1, #142]
1191:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft = frags - 1;
 974              		.loc 1 1191 10 is_stmt 1 view .LVU300
1191:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft = frags - 1;
 975              		.loc 1 1191 23 is_stmt 0 view .LVU301
 976 0092 C1F89C50 		str	r5, [r1, #156]
1192:Lib/soes/src/esc_coe.c ****          p = &(coel->datatype);
 977              		.loc 1 1192 10 is_stmt 1 view .LVU302
1192:Lib/soes/src/esc_coe.c ****          p = &(coel->datatype);
 978              		.loc 1 1192 35 is_stmt 0 view .LVU303
 979 0096 6F1E     		subs	r7, r5, #1
1192:Lib/soes/src/esc_coe.c ****          p = &(coel->datatype);
 980              		.loc 1 1192 27 view .LVU304
 981 0098 C1F8A070 		str	r7, [r1, #160]
1193:Lib/soes/src/esc_coe.c ****          *p = htoes (entries);
 982              		.loc 1 1193 10 is_stmt 1 view .LVU305
 983              	.LVL82:
1194:Lib/soes/src/esc_coe.c ****          p++;
 984              		.loc 1 1194 10 view .LVU306
1194:Lib/soes/src/esc_coe.c ****          p++;
 985              		.loc 1 1194 13 is_stmt 0 view .LVU307
 986 009c DC81     		strh	r4, [r3, #14]	@ movhi
1195:Lib/soes/src/esc_coe.c ****          *p = 0;
 987              		.loc 1 1195 10 is_stmt 1 view .LVU308
 988              	.LVL83:
1196:Lib/soes/src/esc_coe.c ****          p++;
 989              		.loc 1 1196 10 view .LVU309
1196:Lib/soes/src/esc_coe.c ****          p++;
 990              		.loc 1 1196 13 is_stmt 0 view .LVU310
 991 009e 1A82     		strh	r2, [r3, #16]	@ movhi
1197:Lib/soes/src/esc_coe.c ****          *p = 0;
 992              		.loc 1 1197 10 is_stmt 1 view .LVU311
 993              	.LVL84:
1198:Lib/soes/src/esc_coe.c ****          p++;
 994              		.loc 1 1198 10 view .LVU312
1198:Lib/soes/src/esc_coe.c ****          p++;
 995              		.loc 1 1198 13 is_stmt 0 view .LVU313
 996 00a0 5A82     		strh	r2, [r3, #18]	@ movhi
1199:Lib/soes/src/esc_coe.c ****          *p = 0;
ARM GAS  /tmp/ccpX7xVZ.s 			page 52


 997              		.loc 1 1199 10 is_stmt 1 view .LVU314
 998              	.LVL85:
1200:Lib/soes/src/esc_coe.c ****          p++;
 999              		.loc 1 1200 10 view .LVU315
1200:Lib/soes/src/esc_coe.c ****          p++;
 1000              		.loc 1 1200 13 is_stmt 0 view .LVU316
 1001 00a2 9A82     		strh	r2, [r3, #20]	@ movhi
1201:Lib/soes/src/esc_coe.c ****          *p = 0;
 1002              		.loc 1 1201 10 is_stmt 1 view .LVU317
 1003              	.LVL86:
1202:Lib/soes/src/esc_coe.c ****          coel->mbxheader.length = htoes (0x08 + (5 << 1));
 1004              		.loc 1 1202 10 view .LVU318
1202:Lib/soes/src/esc_coe.c ****          coel->mbxheader.length = htoes (0x08 + (5 << 1));
 1005              		.loc 1 1202 13 is_stmt 0 view .LVU319
 1006 00a4 DA82     		strh	r2, [r3, #22]	@ movhi
1203:Lib/soes/src/esc_coe.c ****       }
 1007              		.loc 1 1203 10 is_stmt 1 view .LVU320
1203:Lib/soes/src/esc_coe.c ****       }
 1008              		.loc 1 1203 33 is_stmt 0 view .LVU321
 1009 00a6 1222     		movs	r2, #18
 1010 00a8 8253     		strh	r2, [r0, r6]	@ movhi
 1011              	.LVL87:
 1012              	.L40:
1206:Lib/soes/src/esc_coe.c ****       {
 1013              		.loc 1 1206 7 is_stmt 1 view .LVU322
1206:Lib/soes/src/esc_coe.c ****       {
 1014              		.loc 1 1206 11 is_stmt 0 view .LVU323
 1015 00aa 214A     		ldr	r2, .L48+8
 1016 00ac 9289     		ldrh	r2, [r2, #12]	@ unaligned
1206:Lib/soes/src/esc_coe.c ****       {
 1017              		.loc 1 1206 10 view .LVU324
 1018 00ae 012A     		cmp	r2, #1
 1019 00b0 04D0     		beq	.L47
 1020              	.LVL88:
 1021              	.L41:
1236:Lib/soes/src/esc_coe.c ****    }
 1022              		.loc 1 1236 7 is_stmt 1 view .LVU325
1236:Lib/soes/src/esc_coe.c ****    }
 1023              		.loc 1 1236 32 is_stmt 0 view .LVU326
 1024 00b2 214B     		ldr	r3, .L48+16
 1025 00b4 0322     		movs	r2, #3
 1026 00b6 03F80C20 		strb	r2, [r3, ip]
1238:Lib/soes/src/esc_coe.c **** /** Function for continuing sending left overs from previous requested
 1027              		.loc 1 1238 1 view .LVU327
 1028 00ba C3E7     		b	.L35
 1029              	.LVL89:
 1030              	.L47:
1208:Lib/soes/src/esc_coe.c ****          {
 1031              		.loc 1 1208 10 is_stmt 1 view .LVU328
1208:Lib/soes/src/esc_coe.c ****          {
 1032              		.loc 1 1208 13 is_stmt 0 view .LVU329
 1033 00bc 012D     		cmp	r5, #1
 1034 00be 19D9     		bls	.L42
1210:Lib/soes/src/esc_coe.c ****             ESCvar.xoe = MBXCOE + MBXODL;
 1035              		.loc 1 1210 13 is_stmt 1 view .LVU330
1210:Lib/soes/src/esc_coe.c ****             ESCvar.xoe = MBXCOE + MBXODL;
 1036              		.loc 1 1210 41 is_stmt 0 view .LVU331
ARM GAS  /tmp/ccpX7xVZ.s 			page 53


 1037 00c0 1A7A     		ldrb	r2, [r3, #8]	@ zero_extendqisi2
 1038 00c2 42F08002 		orr	r2, r2, #128
 1039 00c6 1A72     		strb	r2, [r3, #8]
1211:Lib/soes/src/esc_coe.c ****             n = ODLISTSIZE >> 1;
 1040              		.loc 1 1211 13 is_stmt 1 view .LVU332
1211:Lib/soes/src/esc_coe.c ****             n = ODLISTSIZE >> 1;
 1041              		.loc 1 1211 24 is_stmt 0 view .LVU333
 1042 00c8 184A     		ldr	r2, .L48+4
 1043 00ca 1321     		movs	r1, #19
 1044 00cc 82F88E10 		strb	r1, [r2, #142]
1212:Lib/soes/src/esc_coe.c ****          }
 1045              		.loc 1 1212 13 is_stmt 1 view .LVU334
1212:Lib/soes/src/esc_coe.c ****          }
 1046              		.loc 1 1212 17 is_stmt 0 view .LVU335
 1047 00d0 526F     		ldr	r2, [r2, #116]
 1048 00d2 5488     		ldrh	r4, [r2, #2]
 1049              	.LVL90:
1212:Lib/soes/src/esc_coe.c ****          }
 1050              		.loc 1 1212 17 view .LVU336
 1051 00d4 0E3C     		subs	r4, r4, #14
1212:Lib/soes/src/esc_coe.c ****          }
 1052              		.loc 1 1212 15 view .LVU337
 1053 00d6 C4F34E04 		ubfx	r4, r4, #1, #15
 1054              	.LVL91:
 1055              	.L43:
1221:Lib/soes/src/esc_coe.c ****          ESCvar.frags = frags;
 1056              		.loc 1 1221 10 is_stmt 1 view .LVU338
1221:Lib/soes/src/esc_coe.c ****          ESCvar.frags = frags;
 1057              		.loc 1 1221 36 is_stmt 0 view .LVU339
 1058 00da 0022     		movs	r2, #0
 1059 00dc 5A72     		strb	r2, [r3, #9]
1222:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft = frags - 1;
 1060              		.loc 1 1222 10 is_stmt 1 view .LVU340
1222:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft = frags - 1;
 1061              		.loc 1 1222 23 is_stmt 0 view .LVU341
 1062 00de 134F     		ldr	r7, .L48+4
 1063 00e0 C7F89C50 		str	r5, [r7, #156]
1223:Lib/soes/src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (ESCvar.fragsleft);
 1064              		.loc 1 1223 10 is_stmt 1 view .LVU342
1223:Lib/soes/src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (ESCvar.fragsleft);
 1065              		.loc 1 1223 35 is_stmt 0 view .LVU343
 1066 00e4 013D     		subs	r5, r5, #1
 1067              	.LVL92:
1223:Lib/soes/src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (ESCvar.fragsleft);
 1068              		.loc 1 1223 27 view .LVU344
 1069 00e6 C7F8A050 		str	r5, [r7, #160]
1224:Lib/soes/src/esc_coe.c ****          coel->index = htoes (0x01);
 1070              		.loc 1 1224 10 is_stmt 1 view .LVU345
1224:Lib/soes/src/esc_coe.c ****          coel->index = htoes (0x01);
 1071              		.loc 1 1224 41 is_stmt 0 view .LVU346
 1072 00ea 5D81     		strh	r5, [r3, #10]	@ movhi
1225:Lib/soes/src/esc_coe.c **** 
 1073              		.loc 1 1225 10 is_stmt 1 view .LVU347
1225:Lib/soes/src/esc_coe.c **** 
 1074              		.loc 1 1225 22 is_stmt 0 view .LVU348
 1075 00ec 0121     		movs	r1, #1
 1076 00ee 9981     		strh	r1, [r3, #12]	@ movhi
ARM GAS  /tmp/ccpX7xVZ.s 			page 54


1227:Lib/soes/src/esc_coe.c ****          for (i = 0; i < n; i++)
 1077              		.loc 1 1227 10 is_stmt 1 view .LVU349
1227:Lib/soes/src/esc_coe.c ****          for (i = 0; i < n; i++)
 1078              		.loc 1 1227 12 is_stmt 0 view .LVU350
 1079 00f0 0E33     		adds	r3, r3, #14
 1080              	.LVL93:
1228:Lib/soes/src/esc_coe.c ****          {
 1081              		.loc 1 1228 10 is_stmt 1 view .LVU351
1228:Lib/soes/src/esc_coe.c ****          {
 1082              		.loc 1 1228 10 is_stmt 0 view .LVU352
 1083 00f2 11E0     		b	.L44
 1084              	.LVL94:
 1085              	.L42:
1216:Lib/soes/src/esc_coe.c ****             MBXcontrol[0].state = MBXstate_idle;
 1086              		.loc 1 1216 13 is_stmt 1 view .LVU353
1216:Lib/soes/src/esc_coe.c ****             MBXcontrol[0].state = MBXstate_idle;
 1087              		.loc 1 1216 41 is_stmt 0 view .LVU354
 1088 00f4 1A7A     		ldrb	r2, [r3, #8]	@ zero_extendqisi2
 1089 00f6 6FF3C712 		bfc	r2, #7, #1
 1090 00fa 1A72     		strb	r2, [r3, #8]
1217:Lib/soes/src/esc_coe.c ****             ESCvar.xoe = 0;
 1091              		.loc 1 1217 13 is_stmt 1 view .LVU355
1217:Lib/soes/src/esc_coe.c ****             ESCvar.xoe = 0;
 1092              		.loc 1 1217 33 is_stmt 0 view .LVU356
 1093 00fc 0022     		movs	r2, #0
 1094 00fe 0E49     		ldr	r1, .L48+16
 1095 0100 0A70     		strb	r2, [r1]
1218:Lib/soes/src/esc_coe.c ****             n = entries;
 1096              		.loc 1 1218 13 is_stmt 1 view .LVU357
1218:Lib/soes/src/esc_coe.c ****             n = entries;
 1097              		.loc 1 1218 24 is_stmt 0 view .LVU358
 1098 0102 0A49     		ldr	r1, .L48+4
 1099 0104 81F88E20 		strb	r2, [r1, #142]
1219:Lib/soes/src/esc_coe.c ****          }
 1100              		.loc 1 1219 13 is_stmt 1 view .LVU359
 1101              	.LVL95:
1219:Lib/soes/src/esc_coe.c ****          }
 1102              		.loc 1 1219 13 is_stmt 0 view .LVU360
 1103 0108 E7E7     		b	.L43
 1104              	.LVL96:
 1105              	.L45:
1230:Lib/soes/src/esc_coe.c ****             p++;
 1106              		.loc 1 1230 13 is_stmt 1 discriminator 3 view .LVU361
1230:Lib/soes/src/esc_coe.c ****             p++;
 1107              		.loc 1 1230 18 is_stmt 0 discriminator 3 view .LVU362
 1108 010a 1101     		lsls	r1, r2, #4
 1109 010c 064D     		ldr	r5, .L48
 1110 010e 695A     		ldrh	r1, [r5, r1]
1230:Lib/soes/src/esc_coe.c ****             p++;
 1111              		.loc 1 1230 16 discriminator 3 view .LVU363
 1112 0110 23F8021B 		strh	r1, [r3], #2	@ movhi
 1113              	.LVL97:
1231:Lib/soes/src/esc_coe.c ****          }
 1114              		.loc 1 1231 13 is_stmt 1 discriminator 3 view .LVU364
1228:Lib/soes/src/esc_coe.c ****          {
 1115              		.loc 1 1228 29 discriminator 3 view .LVU365
1228:Lib/soes/src/esc_coe.c ****          {
ARM GAS  /tmp/ccpX7xVZ.s 			page 55


 1116              		.loc 1 1228 30 is_stmt 0 discriminator 3 view .LVU366
 1117 0114 0132     		adds	r2, r2, #1
 1118              	.LVL98:
1228:Lib/soes/src/esc_coe.c ****          {
 1119              		.loc 1 1228 30 discriminator 3 view .LVU367
 1120 0116 92B2     		uxth	r2, r2
 1121              	.LVL99:
 1122              	.L44:
1228:Lib/soes/src/esc_coe.c ****          {
 1123              		.loc 1 1228 22 is_stmt 1 discriminator 1 view .LVU368
1228:Lib/soes/src/esc_coe.c ****          {
 1124              		.loc 1 1228 10 is_stmt 0 discriminator 1 view .LVU369
 1125 0118 A242     		cmp	r2, r4
 1126 011a F6D3     		bcc	.L45
1234:Lib/soes/src/esc_coe.c ****       }
 1127              		.loc 1 1234 10 is_stmt 1 view .LVU370
1234:Lib/soes/src/esc_coe.c ****       }
 1128              		.loc 1 1234 35 is_stmt 0 view .LVU371
 1129 011c 6300     		lsls	r3, r4, #1
 1130              	.LVL100:
1234:Lib/soes/src/esc_coe.c ****       }
 1131              		.loc 1 1234 35 view .LVU372
 1132 011e 9BB2     		uxth	r3, r3
 1133 0120 0833     		adds	r3, r3, #8
1234:Lib/soes/src/esc_coe.c ****       }
 1134              		.loc 1 1234 33 view .LVU373
 1135 0122 3352     		strh	r3, [r6, r0]	@ movhi
 1136 0124 C5E7     		b	.L41
 1137              	.L49:
 1138 0126 00BF     		.align	2
 1139              	.L48:
 1140 0128 00000000 		.word	SDOobjects
 1141 012c 00000000 		.word	ESCvar
 1142 0130 00000000 		.word	MBX
 1143 0134 00000106 		.word	100728832
 1144 0138 00000000 		.word	MBXcontrol
 1145              		.cfi_endproc
 1146              	.LFE16:
 1148              		.section	.text.SDO_abort,"ax",%progbits
 1149              		.align	1
 1150              		.syntax unified
 1151              		.thumb
 1152              		.thumb_func
 1154              	SDO_abort:
 1155              	.LVL101:
 1156              	.LFB4:
 259:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
 1157              		.loc 1 259 1 is_stmt 1 view -0
 1158              		.cfi_startproc
 1159              		@ args = 0, pretend = 0, frame = 0
 1160              		@ frame_needed = 0, uses_anonymous_args = 0
 259:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
 1161              		.loc 1 259 1 is_stmt 0 view .LVU375
 1162 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1163              		.cfi_def_cfa_offset 24
 1164              		.cfi_offset 3, -24
 1165              		.cfi_offset 4, -20
ARM GAS  /tmp/ccpX7xVZ.s 			page 56


 1166              		.cfi_offset 5, -16
 1167              		.cfi_offset 6, -12
 1168              		.cfi_offset 7, -8
 1169              		.cfi_offset 14, -4
 1170 0002 0E46     		mov	r6, r1
 1171 0004 1546     		mov	r5, r2
 1172 0006 1F46     		mov	r7, r3
 260:Lib/soes/src/esc_coe.c ****    _COEsdo *coeres;
 1173              		.loc 1 260 4 is_stmt 1 view .LVU376
 261:Lib/soes/src/esc_coe.c ****    if (reusembx)
 1174              		.loc 1 261 4 view .LVU377
 262:Lib/soes/src/esc_coe.c ****       MBXout = reusembx;
 1175              		.loc 1 262 4 view .LVU378
 262:Lib/soes/src/esc_coe.c ****       MBXout = reusembx;
 1176              		.loc 1 262 7 is_stmt 0 view .LVU379
 1177 0008 0446     		mov	r4, r0
 1178 000a 00B3     		cbz	r0, .L54
 1179              	.LVL102:
 1180              	.L51:
 266:Lib/soes/src/esc_coe.c ****    {
 1181              		.loc 1 266 4 is_stmt 1 view .LVU380
 266:Lib/soes/src/esc_coe.c ****    {
 1182              		.loc 1 266 7 is_stmt 0 view .LVU381
 1183 000c F4B1     		cbz	r4, .L50
 268:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1184              		.loc 1 268 7 is_stmt 1 view .LVU382
 268:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1185              		.loc 1 268 42 is_stmt 0 view .LVU383
 1186 000e 124B     		ldr	r3, .L55
 1187 0010 D86E     		ldr	r0, [r3, #108]
 268:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1188              		.loc 1 268 40 view .LVU384
 1189 0012 04FB00F0 		mul	r0, r4, r0
 268:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1190              		.loc 1 268 14 view .LVU385
 1191 0016 114B     		ldr	r3, .L55+4
 1192 0018 00EB030C 		add	ip, r0, r3
 1193              	.LVL103:
 269:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.mbxtype = MBXCOE;
 1194              		.loc 1 269 7 is_stmt 1 view .LVU386
 269:Lib/soes/src/esc_coe.c ****       coeres->mbxheader.mbxtype = MBXCOE;
 1195              		.loc 1 269 32 is_stmt 0 view .LVU387
 1196 001c 0A22     		movs	r2, #10
 1197 001e C252     		strh	r2, [r0, r3]	@ movhi
 270:Lib/soes/src/esc_coe.c ****       coeres->coeheader.numberservice =
 1198              		.loc 1 270 7 is_stmt 1 view .LVU388
 270:Lib/soes/src/esc_coe.c ****       coeres->coeheader.numberservice =
 1199              		.loc 1 270 33 is_stmt 0 view .LVU389
 1200 0020 9CF80520 		ldrb	r2, [ip, #5]	@ zero_extendqisi2
 1201 0024 0323     		movs	r3, #3
 1202 0026 63F30302 		bfi	r2, r3, #0, #4
 1203 002a 8CF80520 		strb	r2, [ip, #5]
 271:Lib/soes/src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOREQUEST << 12));
 1204              		.loc 1 271 7 is_stmt 1 view .LVU390
 271:Lib/soes/src/esc_coe.c ****          htoes ((0 & 0x01f) | (COE_SDOREQUEST << 12));
 1205              		.loc 1 271 39 is_stmt 0 view .LVU391
 1206 002e 4FF40052 		mov	r2, #8192
ARM GAS  /tmp/ccpX7xVZ.s 			page 57


 1207 0032 ACF80620 		strh	r2, [ip, #6]	@ movhi
 273:Lib/soes/src/esc_coe.c ****       coeres->subindex = subindex;
 1208              		.loc 1 273 7 is_stmt 1 view .LVU392
 273:Lib/soes/src/esc_coe.c ****       coeres->subindex = subindex;
 1209              		.loc 1 273 21 is_stmt 0 view .LVU393
 1210 0036 ACF80960 		strh	r6, [ip, #9]	@ unaligned
 274:Lib/soes/src/esc_coe.c ****       coeres->command = COE_COMMAND_SDOABORT;
 1211              		.loc 1 274 7 is_stmt 1 view .LVU394
 274:Lib/soes/src/esc_coe.c ****       coeres->command = COE_COMMAND_SDOABORT;
 1212              		.loc 1 274 24 is_stmt 0 view .LVU395
 1213 003a 8CF80B50 		strb	r5, [ip, #11]
 275:Lib/soes/src/esc_coe.c ****       coeres->size = htoel (abortcode);
 1214              		.loc 1 275 7 is_stmt 1 view .LVU396
 275:Lib/soes/src/esc_coe.c ****       coeres->size = htoel (abortcode);
 1215              		.loc 1 275 23 is_stmt 0 view .LVU397
 1216 003e 8022     		movs	r2, #128
 1217 0040 8CF80820 		strb	r2, [ip, #8]
 276:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 1218              		.loc 1 276 7 is_stmt 1 view .LVU398
 276:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 1219              		.loc 1 276 20 is_stmt 0 view .LVU399
 1220 0044 CCF80C70 		str	r7, [ip, #12]
 277:Lib/soes/src/esc_coe.c ****    }
 1221              		.loc 1 277 7 is_stmt 1 view .LVU400
 277:Lib/soes/src/esc_coe.c ****    }
 1222              		.loc 1 277 32 is_stmt 0 view .LVU401
 1223 0048 054A     		ldr	r2, .L55+8
 1224 004a 1355     		strb	r3, [r2, r4]
 1225              	.LVL104:
 1226              	.L50:
 279:Lib/soes/src/esc_coe.c **** 
 1227              		.loc 1 279 1 view .LVU402
 1228 004c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1229              	.LVL105:
 1230              	.L54:
 265:Lib/soes/src/esc_coe.c ****    if (MBXout)
 1231              		.loc 1 265 7 is_stmt 1 view .LVU403
 265:Lib/soes/src/esc_coe.c ****    if (MBXout)
 1232              		.loc 1 265 16 is_stmt 0 view .LVU404
 1233 004e FFF7FEFF 		bl	ESC_claimbuffer
 1234              	.LVL106:
 265:Lib/soes/src/esc_coe.c ****    if (MBXout)
 1235              		.loc 1 265 16 view .LVU405
 1236 0052 0446     		mov	r4, r0
 1237              	.LVL107:
 265:Lib/soes/src/esc_coe.c ****    if (MBXout)
 1238              		.loc 1 265 16 view .LVU406
 1239 0054 DAE7     		b	.L51
 1240              	.L56:
 1241 0056 00BF     		.align	2
 1242              	.L55:
 1243 0058 00000000 		.word	ESCvar
 1244 005c 00000000 		.word	MBX
 1245 0060 00000000 		.word	MBXcontrol
 1246              		.cfi_endproc
 1247              	.LFE4:
 1249              		.section	.text.set_state_idle,"ax",%progbits
ARM GAS  /tmp/ccpX7xVZ.s 			page 58


 1250              		.align	1
 1251              		.syntax unified
 1252              		.thumb
 1253              		.thumb_func
 1255              	set_state_idle:
 1256              	.LVL108:
 1257              	.LFB5:
 285:Lib/soes/src/esc_coe.c ****    if (abortcode != 0)
 1258              		.loc 1 285 1 is_stmt 1 view -0
 1259              		.cfi_startproc
 1260              		@ args = 0, pretend = 0, frame = 0
 1261              		@ frame_needed = 0, uses_anonymous_args = 0
 285:Lib/soes/src/esc_coe.c ****    if (abortcode != 0)
 1262              		.loc 1 285 1 is_stmt 0 view .LVU408
 1263 0000 08B5     		push	{r3, lr}
 1264              		.cfi_def_cfa_offset 8
 1265              		.cfi_offset 3, -8
 1266              		.cfi_offset 14, -4
 286:Lib/soes/src/esc_coe.c ****    {
 1267              		.loc 1 286 4 is_stmt 1 view .LVU409
 286:Lib/soes/src/esc_coe.c ****    {
 1268              		.loc 1 286 7 is_stmt 0 view .LVU410
 1269 0002 33B9     		cbnz	r3, .L60
 1270              	.LVL109:
 1271              	.L58:
 291:Lib/soes/src/esc_coe.c ****    ESCvar.xoe = 0;
 1272              		.loc 1 291 4 is_stmt 1 view .LVU411
 291:Lib/soes/src/esc_coe.c ****    ESCvar.xoe = 0;
 1273              		.loc 1 291 24 is_stmt 0 view .LVU412
 1274 0004 0023     		movs	r3, #0
 1275 0006 044A     		ldr	r2, .L61
 1276 0008 1370     		strb	r3, [r2]
 292:Lib/soes/src/esc_coe.c **** }
 1277              		.loc 1 292 4 is_stmt 1 view .LVU413
 292:Lib/soes/src/esc_coe.c **** }
 1278              		.loc 1 292 15 is_stmt 0 view .LVU414
 1279 000a 044A     		ldr	r2, .L61+4
 1280 000c 82F88E30 		strb	r3, [r2, #142]
 293:Lib/soes/src/esc_coe.c **** 
 1281              		.loc 1 293 1 view .LVU415
 1282 0010 08BD     		pop	{r3, pc}
 1283              	.LVL110:
 1284              	.L60:
 288:Lib/soes/src/esc_coe.c ****    }
 1285              		.loc 1 288 7 is_stmt 1 view .LVU416
 1286 0012 FFF7FEFF 		bl	SDO_abort
 1287              	.LVL111:
 288:Lib/soes/src/esc_coe.c ****    }
 1288              		.loc 1 288 7 is_stmt 0 view .LVU417
 1289 0016 F5E7     		b	.L58
 1290              	.L62:
 1291              		.align	2
 1292              	.L61:
 1293 0018 00000000 		.word	MBXcontrol
 1294 001c 00000000 		.word	ESCvar
 1295              		.cfi_endproc
 1296              	.LFE5:
ARM GAS  /tmp/ccpX7xVZ.s 			page 59


 1298              		.section	.text.copy2mbx,"ax",%progbits
 1299              		.align	1
 1300              		.syntax unified
 1301              		.thumb
 1302              		.thumb_func
 1304              	copy2mbx:
 1305              	.LVL112:
 1306              	.LFB3:
 247:Lib/soes/src/esc_coe.c ****    memcpy (dest, source, size);
 1307              		.loc 1 247 1 is_stmt 1 view -0
 1308              		.cfi_startproc
 1309              		@ args = 0, pretend = 0, frame = 0
 1310              		@ frame_needed = 0, uses_anonymous_args = 0
 247:Lib/soes/src/esc_coe.c ****    memcpy (dest, source, size);
 1311              		.loc 1 247 1 is_stmt 0 view .LVU419
 1312 0000 08B5     		push	{r3, lr}
 1313              		.cfi_def_cfa_offset 8
 1314              		.cfi_offset 3, -8
 1315              		.cfi_offset 14, -4
 1316 0002 0B46     		mov	r3, r1
 248:Lib/soes/src/esc_coe.c **** }
 1317              		.loc 1 248 4 is_stmt 1 view .LVU420
 1318 0004 0146     		mov	r1, r0
 1319              	.LVL113:
 248:Lib/soes/src/esc_coe.c **** }
 1320              		.loc 1 248 4 is_stmt 0 view .LVU421
 1321 0006 1846     		mov	r0, r3
 1322              	.LVL114:
 248:Lib/soes/src/esc_coe.c **** }
 1323              		.loc 1 248 4 view .LVU422
 1324 0008 FFF7FEFF 		bl	memcpy
 1325              	.LVL115:
 249:Lib/soes/src/esc_coe.c **** 
 1326              		.loc 1 249 1 view .LVU423
 1327 000c 08BD     		pop	{r3, pc}
 1328              		.cfi_endproc
 1329              	.LFE3:
 1331              		.section	.text.SDO_uploadsegment,"ax",%progbits
 1332              		.align	1
 1333              		.syntax unified
 1334              		.thumb
 1335              		.thumb_func
 1337              	SDO_uploadsegment:
 1338              	.LFB11:
 709:Lib/soes/src/esc_coe.c ****    _COEsdo *coesdo, *coeres;
 1339              		.loc 1 709 1 is_stmt 1 view -0
 1340              		.cfi_startproc
 1341              		@ args = 0, pretend = 0, frame = 0
 1342              		@ frame_needed = 0, uses_anonymous_args = 0
 1343 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 1344              		.cfi_def_cfa_offset 32
 1345              		.cfi_offset 4, -32
 1346              		.cfi_offset 5, -28
 1347              		.cfi_offset 6, -24
 1348              		.cfi_offset 7, -20
 1349              		.cfi_offset 8, -16
 1350              		.cfi_offset 9, -12
ARM GAS  /tmp/ccpX7xVZ.s 			page 60


 1351              		.cfi_offset 10, -8
 1352              		.cfi_offset 14, -4
 1353 0004 82B0     		sub	sp, sp, #8
 1354              		.cfi_def_cfa_offset 40
 710:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
 1355              		.loc 1 710 4 view .LVU425
 711:Lib/soes/src/esc_coe.c ****    uint32_t size, offset, abort;
 1356              		.loc 1 711 4 view .LVU426
 712:Lib/soes/src/esc_coe.c ****    coesdo = (_COEsdo *) &MBX[0];
 1357              		.loc 1 712 4 view .LVU427
 713:Lib/soes/src/esc_coe.c ****    MBXout = ESC_claimbuffer ();
 1358              		.loc 1 713 4 view .LVU428
 1359              	.LVL116:
 714:Lib/soes/src/esc_coe.c ****    if (MBXout)
 1360              		.loc 1 714 4 view .LVU429
 714:Lib/soes/src/esc_coe.c ****    if (MBXout)
 1361              		.loc 1 714 13 is_stmt 0 view .LVU430
 1362 0006 FFF7FEFF 		bl	ESC_claimbuffer
 1363              	.LVL117:
 715:Lib/soes/src/esc_coe.c ****    {
 1364              		.loc 1 715 4 is_stmt 1 view .LVU431
 715:Lib/soes/src/esc_coe.c ****    {
 1365              		.loc 1 715 7 is_stmt 0 view .LVU432
 1366 000a 40B9     		cbnz	r0, .L73
 1367              	.LVL118:
 1368              	.L66:
 766:Lib/soes/src/esc_coe.c ****    ESCvar.xoe = 0;
 1369              		.loc 1 766 4 is_stmt 1 view .LVU433
 766:Lib/soes/src/esc_coe.c ****    ESCvar.xoe = 0;
 1370              		.loc 1 766 24 is_stmt 0 view .LVU434
 1371 000c 0023     		movs	r3, #0
 1372 000e 394A     		ldr	r2, .L75
 1373 0010 1370     		strb	r3, [r2]
 767:Lib/soes/src/esc_coe.c **** }
 1374              		.loc 1 767 4 is_stmt 1 view .LVU435
 767:Lib/soes/src/esc_coe.c **** }
 1375              		.loc 1 767 15 is_stmt 0 view .LVU436
 1376 0012 394A     		ldr	r2, .L75+4
 1377 0014 82F88E30 		strb	r3, [r2, #142]
 1378              	.L65:
 768:Lib/soes/src/esc_coe.c **** 
 1379              		.loc 1 768 1 view .LVU437
 1380 0018 02B0     		add	sp, sp, #8
 1381              		.cfi_remember_state
 1382              		.cfi_def_cfa_offset 32
 1383              		@ sp needed
 1384 001a BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 1385              	.LVL119:
 1386              	.L73:
 1387              		.cfi_restore_state
 768:Lib/soes/src/esc_coe.c **** 
 1388              		.loc 1 768 1 view .LVU438
 1389 001e 0646     		mov	r6, r0
 1390              	.LBB3:
 717:Lib/soes/src/esc_coe.c ****       offset = ESCvar.fragsleft;
 1391              		.loc 1 717 7 is_stmt 1 view .LVU439
 717:Lib/soes/src/esc_coe.c ****       offset = ESCvar.fragsleft;
ARM GAS  /tmp/ccpX7xVZ.s 			page 61


 1392              		.loc 1 717 42 is_stmt 0 view .LVU440
 1393 0020 354F     		ldr	r7, .L75+4
 1394 0022 FB6E     		ldr	r3, [r7, #108]
 717:Lib/soes/src/esc_coe.c ****       offset = ESCvar.fragsleft;
 1395              		.loc 1 717 40 view .LVU441
 1396 0024 03FB00F8 		mul	r8, r3, r0
 717:Lib/soes/src/esc_coe.c ****       offset = ESCvar.fragsleft;
 1397              		.loc 1 717 14 view .LVU442
 1398 0028 344D     		ldr	r5, .L75+8
 1399 002a 08EB0509 		add	r9, r8, r5
 1400              	.LVL120:
 718:Lib/soes/src/esc_coe.c ****       size = ESCvar.frags - ESCvar.fragsleft;
 1401              		.loc 1 718 7 is_stmt 1 view .LVU443
 718:Lib/soes/src/esc_coe.c ****       size = ESCvar.frags - ESCvar.fragsleft;
 1402              		.loc 1 718 14 is_stmt 0 view .LVU444
 1403 002e D7F8A0A0 		ldr	r10, [r7, #160]
 1404              	.LVL121:
 719:Lib/soes/src/esc_coe.c ****       uint8_t command = COE_COMMAND_UPLOADSEGMENT |
 1405              		.loc 1 719 7 is_stmt 1 view .LVU445
 719:Lib/soes/src/esc_coe.c ****       uint8_t command = COE_COMMAND_UPLOADSEGMENT |
 1406              		.loc 1 719 20 is_stmt 0 view .LVU446
 1407 0032 D7F89C40 		ldr	r4, [r7, #156]
 719:Lib/soes/src/esc_coe.c ****       uint8_t command = COE_COMMAND_UPLOADSEGMENT |
 1408              		.loc 1 719 12 view .LVU447
 1409 0036 A4EB0A04 		sub	r4, r4, r10
 1410              	.LVL122:
 720:Lib/soes/src/esc_coe.c ****             (coesdo->command & COE_TOGGLEBIT);  /* copy toggle bit */
 1411              		.loc 1 720 7 is_stmt 1 view .LVU448
 721:Lib/soes/src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE, command,
 1412              		.loc 1 721 20 is_stmt 0 view .LVU449
 1413 003a 2A7A     		ldrb	r2, [r5, #8]	@ zero_extendqisi2
 1414              	.LVL123:
 722:Lib/soes/src/esc_coe.c ****             coesdo->index, coesdo->subindex);
 1415              		.loc 1 722 7 is_stmt 1 view .LVU450
 1416 003c EB7A     		ldrb	r3, [r5, #11]	@ zero_extendqisi2
 1417 003e 0093     		str	r3, [sp]
 1418 0040 B5F80930 		ldrh	r3, [r5, #9]	@ unaligned
 1419 0044 02F01002 		and	r2, r2, #16
 1420              	.LVL124:
 722:Lib/soes/src/esc_coe.c ****             coesdo->index, coesdo->subindex);
 1421              		.loc 1 722 7 is_stmt 0 view .LVU451
 1422 0048 0321     		movs	r1, #3
 1423 004a 4846     		mov	r0, r9
 1424              	.LVL125:
 722:Lib/soes/src/esc_coe.c ****             coesdo->index, coesdo->subindex);
 1425              		.loc 1 722 7 view .LVU452
 1426 004c FFF7FEFF 		bl	init_coesdo
 1427              	.LVL126:
 724:Lib/soes/src/esc_coe.c ****       {
 1428              		.loc 1 724 7 is_stmt 1 view .LVU453
 724:Lib/soes/src/esc_coe.c ****       {
 1429              		.loc 1 724 17 is_stmt 0 view .LVU454
 1430 0050 E11C     		adds	r1, r4, #3
 724:Lib/soes/src/esc_coe.c ****       {
 1431              		.loc 1 724 44 view .LVU455
 1432 0052 FB6E     		ldr	r3, [r7, #108]
 1433 0054 9A1F     		subs	r2, r3, #6
ARM GAS  /tmp/ccpX7xVZ.s 			page 62


 724:Lib/soes/src/esc_coe.c ****       {
 1434              		.loc 1 724 10 view .LVU456
 1435 0056 9142     		cmp	r1, r2
 1436 0058 19D9     		bls	.L67
 728:Lib/soes/src/esc_coe.c ****          /* number of bytes done */
 1437              		.loc 1 728 10 is_stmt 1 view .LVU457
 728:Lib/soes/src/esc_coe.c ****          /* number of bytes done */
 1438              		.loc 1 728 15 is_stmt 0 view .LVU458
 1439 005a A3F10904 		sub	r4, r3, #9
 1440              	.LVL127:
 730:Lib/soes/src/esc_coe.c ****          coeres->mbxheader.length = htoes (COE_SEGMENTHEADERSIZE + size);
 1441              		.loc 1 730 10 is_stmt 1 view .LVU459
 730:Lib/soes/src/esc_coe.c ****          coeres->mbxheader.length = htoes (COE_SEGMENTHEADERSIZE + size);
 1442              		.loc 1 730 27 is_stmt 0 view .LVU460
 1443 005e D7F8A030 		ldr	r3, [r7, #160]
 1444 0062 2344     		add	r3, r3, r4
 1445 0064 C7F8A030 		str	r3, [r7, #160]
 731:Lib/soes/src/esc_coe.c ****       }
 1446              		.loc 1 731 10 is_stmt 1 view .LVU461
 731:Lib/soes/src/esc_coe.c ****       }
 1447              		.loc 1 731 37 is_stmt 0 view .LVU462
 1448 0068 E31C     		adds	r3, r4, #3
 731:Lib/soes/src/esc_coe.c ****       }
 1449              		.loc 1 731 35 view .LVU463
 1450 006a 25F80830 		strh	r3, [r5, r8]	@ movhi
 1451              	.L68:
 750:Lib/soes/src/esc_coe.c ****             size);        /* copy to mailbox */
 1452              		.loc 1 750 7 is_stmt 1 view .LVU464
 750:Lib/soes/src/esc_coe.c ****             size);        /* copy to mailbox */
 1453              		.loc 1 750 35 is_stmt 0 view .LVU465
 1454 006e 224D     		ldr	r5, .L75+4
 1455 0070 D5F89400 		ldr	r0, [r5, #148]
 750:Lib/soes/src/esc_coe.c ****             size);        /* copy to mailbox */
 1456              		.loc 1 750 7 view .LVU466
 1457 0074 2246     		mov	r2, r4
 1458 0076 09F10901 		add	r1, r9, #9
 1459 007a 5044     		add	r0, r0, r10
 1460 007c FFF7FEFF 		bl	copy2mbx
 1461              	.LVL128:
 753:Lib/soes/src/esc_coe.c ****       {
 1462              		.loc 1 753 7 is_stmt 1 view .LVU467
 753:Lib/soes/src/esc_coe.c ****       {
 1463              		.loc 1 753 17 is_stmt 0 view .LVU468
 1464 0080 95F89130 		ldrb	r3, [r5, #145]	@ zero_extendqisi2
 753:Lib/soes/src/esc_coe.c ****       {
 1465              		.loc 1 753 10 view .LVU469
 1466 0084 1BB3     		cbz	r3, .L74
 1467              	.L70:
 764:Lib/soes/src/esc_coe.c ****    }
 1468              		.loc 1 764 7 is_stmt 1 view .LVU470
 764:Lib/soes/src/esc_coe.c ****    }
 1469              		.loc 1 764 32 is_stmt 0 view .LVU471
 1470 0086 1B4B     		ldr	r3, .L75
 1471 0088 0322     		movs	r2, #3
 1472 008a 9A55     		strb	r2, [r3, r6]
 1473 008c BEE7     		b	.L66
 1474              	.L67:
ARM GAS  /tmp/ccpX7xVZ.s 			page 63


 736:Lib/soes/src/esc_coe.c ****          ESCvar.frags = 0;
 1475              		.loc 1 736 10 is_stmt 1 view .LVU472
 736:Lib/soes/src/esc_coe.c ****          ESCvar.frags = 0;
 1476              		.loc 1 736 27 is_stmt 0 view .LVU473
 1477 008e 1A4B     		ldr	r3, .L75+4
 1478 0090 0022     		movs	r2, #0
 1479 0092 83F89120 		strb	r2, [r3, #145]
 737:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft = 0;
 1480              		.loc 1 737 10 is_stmt 1 view .LVU474
 737:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft = 0;
 1481              		.loc 1 737 23 is_stmt 0 view .LVU475
 1482 0096 C3F89C20 		str	r2, [r3, #156]
 738:Lib/soes/src/esc_coe.c ****          coeres->command |= COE_COMMAND_LASTSEGMENTBIT;
 1483              		.loc 1 738 10 is_stmt 1 view .LVU476
 738:Lib/soes/src/esc_coe.c ****          coeres->command |= COE_COMMAND_LASTSEGMENTBIT;
 1484              		.loc 1 738 27 is_stmt 0 view .LVU477
 1485 009a C3F8A020 		str	r2, [r3, #160]
 739:Lib/soes/src/esc_coe.c ****          if (size >= 7)
 1486              		.loc 1 739 10 is_stmt 1 view .LVU478
 739:Lib/soes/src/esc_coe.c ****          if (size >= 7)
 1487              		.loc 1 739 26 is_stmt 0 view .LVU479
 1488 009e 99F80830 		ldrb	r3, [r9, #8]	@ zero_extendqisi2
 1489 00a2 43F00103 		orr	r3, r3, #1
 1490 00a6 89F80830 		strb	r3, [r9, #8]
 740:Lib/soes/src/esc_coe.c ****          {
 1491              		.loc 1 740 10 is_stmt 1 view .LVU480
 740:Lib/soes/src/esc_coe.c ****          {
 1492              		.loc 1 740 13 is_stmt 0 view .LVU481
 1493 00aa 062C     		cmp	r4, #6
 1494 00ac 03D9     		bls	.L69
 742:Lib/soes/src/esc_coe.c ****          }
 1495              		.loc 1 742 13 is_stmt 1 view .LVU482
 742:Lib/soes/src/esc_coe.c ****          }
 1496              		.loc 1 742 40 is_stmt 0 view .LVU483
 1497 00ae E31C     		adds	r3, r4, #3
 742:Lib/soes/src/esc_coe.c ****          }
 1498              		.loc 1 742 38 view .LVU484
 1499 00b0 25F80830 		strh	r3, [r5, r8]	@ movhi
 1500 00b4 DBE7     		b	.L68
 1501              	.L69:
 746:Lib/soes/src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1502              		.loc 1 746 13 is_stmt 1 view .LVU485
 746:Lib/soes/src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1503              		.loc 1 746 46 is_stmt 0 view .LVU486
 1504 00b6 C4F10702 		rsb	r2, r4, #7
 1505 00ba D2B2     		uxtb	r2, r2
 746:Lib/soes/src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1506              		.loc 1 746 32 view .LVU487
 1507 00bc 5200     		lsls	r2, r2, #1
 1508 00be D2B2     		uxtb	r2, r2
 746:Lib/soes/src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 1509              		.loc 1 746 29 view .LVU488
 1510 00c0 1343     		orrs	r3, r3, r2
 1511 00c2 89F80830 		strb	r3, [r9, #8]
 747:Lib/soes/src/esc_coe.c ****          }
 1512              		.loc 1 747 13 is_stmt 1 view .LVU489
 747:Lib/soes/src/esc_coe.c ****          }
ARM GAS  /tmp/ccpX7xVZ.s 			page 64


 1513              		.loc 1 747 38 is_stmt 0 view .LVU490
 1514 00c6 0A23     		movs	r3, #10
 1515 00c8 28F80530 		strh	r3, [r8, r5]	@ movhi
 1516 00cc CFE7     		b	.L68
 1517              	.L74:
 755:Lib/soes/src/esc_coe.c ****                coesdo->subindex, ESCvar.flags);
 1518              		.loc 1 755 10 is_stmt 1 view .LVU491
 755:Lib/soes/src/esc_coe.c ****                coesdo->subindex, ESCvar.flags);
 1519              		.loc 1 755 49 is_stmt 0 view .LVU492
 1520 00ce 0B4B     		ldr	r3, .L75+8
 755:Lib/soes/src/esc_coe.c ****                coesdo->subindex, ESCvar.flags);
 1521              		.loc 1 755 18 view .LVU493
 1522 00d0 B5F8A820 		ldrh	r2, [r5, #168]
 1523 00d4 D97A     		ldrb	r1, [r3, #11]	@ zero_extendqisi2
 1524 00d6 B3F80900 		ldrh	r0, [r3, #9]	@ unaligned
 1525 00da FFF7FEFF 		bl	ESC_upload_post_objecthandler
 1526              	.LVL129:
 757:Lib/soes/src/esc_coe.c ****          {
 1527              		.loc 1 757 10 is_stmt 1 view .LVU494
 757:Lib/soes/src/esc_coe.c ****          {
 1528              		.loc 1 757 13 is_stmt 0 view .LVU495
 1529 00de 0346     		mov	r3, r0
 1530 00e0 0028     		cmp	r0, #0
 1531 00e2 D0D0     		beq	.L70
 759:Lib/soes/src/esc_coe.c ****             return;
 1532              		.loc 1 759 13 is_stmt 1 view .LVU496
 759:Lib/soes/src/esc_coe.c ****             return;
 1533              		.loc 1 759 37 is_stmt 0 view .LVU497
 1534 00e4 0549     		ldr	r1, .L75+8
 759:Lib/soes/src/esc_coe.c ****             return;
 1535              		.loc 1 759 13 view .LVU498
 1536 00e6 CA7A     		ldrb	r2, [r1, #11]	@ zero_extendqisi2
 1537 00e8 B1F80910 		ldrh	r1, [r1, #9]	@ unaligned
 1538 00ec 3046     		mov	r0, r6
 1539              	.LVL130:
 759:Lib/soes/src/esc_coe.c ****             return;
 1540              		.loc 1 759 13 view .LVU499
 1541 00ee FFF7FEFF 		bl	set_state_idle
 1542              	.LVL131:
 760:Lib/soes/src/esc_coe.c ****          }
 1543              		.loc 1 760 13 is_stmt 1 view .LVU500
 1544 00f2 91E7     		b	.L65
 1545              	.L76:
 1546              		.align	2
 1547              	.L75:
 1548 00f4 00000000 		.word	MBXcontrol
 1549 00f8 00000000 		.word	ESCvar
 1550 00fc 00000000 		.word	MBX
 1551              	.LBE3:
 1552              		.cfi_endproc
 1553              	.LFE11:
 1555              		.section	.text.complete_access_subindex_loop,"ax",%progbits
 1556              		.align	1
 1557              		.syntax unified
 1558              		.thumb
 1559              		.thumb_func
 1561              	complete_access_subindex_loop:
ARM GAS  /tmp/ccpX7xVZ.s 			page 65


 1562              	.LVL132:
 1563              	.LFB8:
 481:Lib/soes/src/esc_coe.c ****    /* Objects with dynamic entries cannot be accessed with Complete Access */
 1564              		.loc 1 481 1 view -0
 1565              		.cfi_startproc
 1566              		@ args = 8, pretend = 0, frame = 0
 1567              		@ frame_needed = 0, uses_anonymous_args = 0
 481:Lib/soes/src/esc_coe.c ****    /* Objects with dynamic entries cannot be accessed with Complete Access */
 1568              		.loc 1 481 1 is_stmt 0 view .LVU502
 1569 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1570              		.cfi_def_cfa_offset 40
 1571              		.cfi_offset 3, -40
 1572              		.cfi_offset 4, -36
 1573              		.cfi_offset 5, -32
 1574              		.cfi_offset 6, -28
 1575              		.cfi_offset 7, -24
 1576              		.cfi_offset 8, -20
 1577              		.cfi_offset 9, -16
 1578              		.cfi_offset 10, -12
 1579              		.cfi_offset 11, -8
 1580              		.cfi_offset 14, -4
 1581 0004 1F46     		mov	r7, r3
 1582 0006 9DF828B0 		ldrb	fp, [sp, #40]	@ zero_extendqisi2
 1583 000a DDF82C80 		ldr	r8, [sp, #44]
 483:Lib/soes/src/esc_coe.c ****        (objd->datatype == DTYPE_OCTET_STRING)   ||
 1584              		.loc 1 483 4 is_stmt 1 view .LVU503
 483:Lib/soes/src/esc_coe.c ****        (objd->datatype == DTYPE_OCTET_STRING)   ||
 1585              		.loc 1 483 13 is_stmt 0 view .LVU504
 1586 000e 4388     		ldrh	r3, [r0, #2]
 1587              	.LVL133:
 484:Lib/soes/src/esc_coe.c ****        (objd->datatype == DTYPE_UNICODE_STRING))
 1588              		.loc 1 484 49 view .LVU505
 1589 0010 093B     		subs	r3, r3, #9
 1590 0012 9BB2     		uxth	r3, r3
 483:Lib/soes/src/esc_coe.c ****        (objd->datatype == DTYPE_OCTET_STRING)   ||
 1591              		.loc 1 483 7 view .LVU506
 1592 0014 022B     		cmp	r3, #2
 1593 0016 40F2A080 		bls	.L100
 1594 001a 8146     		mov	r9, r0
 1595 001c 8A46     		mov	r10, r1
 1596 001e 1446     		mov	r4, r2
 490:Lib/soes/src/esc_coe.c **** 
 1597              		.loc 1 490 4 is_stmt 1 view .LVU507
 1598              	.LVL134:
 493:Lib/soes/src/esc_coe.c ****    {
 1599              		.loc 1 493 4 view .LVU508
 493:Lib/soes/src/esc_coe.c ****    {
 1600              		.loc 1 493 7 is_stmt 0 view .LVU509
 1601 0020 BBF1000F 		cmp	fp, #0
 1602 0024 02D1     		bne	.L79
 493:Lib/soes/src/esc_coe.c ****    {
 1603              		.loc 1 493 30 discriminator 1 view .LVU510
 1604 0026 0FB1     		cbz	r7, .L79
 495:Lib/soes/src/esc_coe.c ****    }
 1605              		.loc 1 495 7 is_stmt 1 view .LVU511
 495:Lib/soes/src/esc_coe.c ****    }
 1606              		.loc 1 495 18 is_stmt 0 view .LVU512
ARM GAS  /tmp/ccpX7xVZ.s 			page 66


 1607 0028 0023     		movs	r3, #0
 1608 002a 7B70     		strb	r3, [r7, #1]
 1609              	.L79:
 1610              	.LBB4:
 560:Lib/soes/src/esc_coe.c ****       nsub++;
 1611              		.loc 1 560 32 view .LVU513
 1612 002c 0026     		movs	r6, #0
 1613 002e 49E0     		b	.L98
 1614              	.LVL135:
 1615              	.L104:
 502:Lib/soes/src/esc_coe.c ****       uint8_t bitoffset = size % 8;
 1616              		.loc 1 502 33 discriminator 2 view .LVU514
 1617 0030 03F10C01 		add	r1, r3, #12
 1618 0034 55E0     		b	.L80
 1619              	.LVL136:
 1620              	.L86:
 521:Lib/soes/src/esc_coe.c ****                         BITS2BYTES(bitlen));
 1621              		.loc 1 521 19 is_stmt 1 view .LVU515
 521:Lib/soes/src/esc_coe.c ****                         BITS2BYTES(bitlen));
 1622              		.loc 1 521 35 is_stmt 0 view .LVU516
 1623 0036 F01D     		adds	r0, r6, #7
 522:Lib/soes/src/esc_coe.c ****                }
 1624              		.loc 1 522 25 view .LVU517
 1625 0038 EA1D     		adds	r2, r5, #7
 1626              	.LVL137:
 521:Lib/soes/src/esc_coe.c ****                         BITS2BYTES(bitlen));
 1627              		.loc 1 521 19 view .LVU518
 1628 003a D208     		lsrs	r2, r2, #3
 1629 003c 07EBD000 		add	r0, r7, r0, lsr #3
 1630 0040 FFF7FEFF 		bl	memcpy
 1631              	.LVL138:
 521:Lib/soes/src/esc_coe.c ****                         BITS2BYTES(bitlen));
 1632              		.loc 1 521 19 view .LVU519
 1633 0044 32E0     		b	.L83
 1634              	.LVL139:
 1635              	.L84:
 531:Lib/soes/src/esc_coe.c ****             {
 1636              		.loc 1 531 18 is_stmt 1 view .LVU520
 531:Lib/soes/src/esc_coe.c ****             {
 1637              		.loc 1 531 21 is_stmt 0 view .LVU521
 1638 0046 1CF0080F 		tst	ip, #8
 1639 004a 01D0     		beq	.L89
 531:Lib/soes/src/esc_coe.c ****             {
 1640              		.loc 1 531 22 discriminator 1 view .LVU522
 1641 004c 022B     		cmp	r3, #2
 1642 004e 09D0     		beq	.L90
 1643              	.L89:
 531:Lib/soes/src/esc_coe.c ****             {
 1644              		.loc 1 531 22 discriminator 3 view .LVU523
 1645 0050 1CF0100F 		tst	ip, #16
 1646 0054 01D0     		beq	.L91
 531:Lib/soes/src/esc_coe.c ****             {
 1647              		.loc 1 531 22 discriminator 4 view .LVU524
 1648 0056 042B     		cmp	r3, #4
 1649 0058 04D0     		beq	.L90
 1650              	.L91:
 531:Lib/soes/src/esc_coe.c ****             {
ARM GAS  /tmp/ccpX7xVZ.s 			page 67


 1651              		.loc 1 531 22 discriminator 6 view .LVU525
 1652 005a 1CF0200F 		tst	ip, #32
 1653 005e 25D0     		beq	.L83
 531:Lib/soes/src/esc_coe.c ****             {
 1654              		.loc 1 531 22 discriminator 7 view .LVU526
 1655 0060 082B     		cmp	r3, #8
 1656 0062 23D1     		bne	.L83
 1657              	.L90:
 533:Lib/soes/src/esc_coe.c ****                      BITS2BYTES(bitlen));
 1658              		.loc 1 533 16 is_stmt 1 view .LVU527
 533:Lib/soes/src/esc_coe.c ****                      BITS2BYTES(bitlen));
 1659              		.loc 1 533 53 is_stmt 0 view .LVU528
 1660 0064 F11D     		adds	r1, r6, #7
 1661              	.LVL140:
 534:Lib/soes/src/esc_coe.c ****             }
 1662              		.loc 1 534 22 view .LVU529
 1663 0066 EA1D     		adds	r2, r5, #7
 1664              	.LVL141:
 533:Lib/soes/src/esc_coe.c ****                      BITS2BYTES(bitlen));
 1665              		.loc 1 533 16 view .LVU530
 1666 0068 D208     		lsrs	r2, r2, #3
 1667 006a 07EBD101 		add	r1, r7, r1, lsr #3
 1668 006e FFF7FEFF 		bl	memcpy
 1669              	.LVL142:
 533:Lib/soes/src/esc_coe.c ****                      BITS2BYTES(bitlen));
 1670              		.loc 1 533 16 view .LVU531
 1671 0072 1BE0     		b	.L83
 1672              	.LVL143:
 1673              	.L81:
 538:Lib/soes/src/esc_coe.c ****       {
 1674              		.loc 1 538 12 is_stmt 1 view .LVU532
 538:Lib/soes/src/esc_coe.c ****       {
 1675              		.loc 1 538 15 is_stmt 0 view .LVU533
 1676 0074 BBF1000F 		cmp	fp, #0
 1677 0078 18D1     		bne	.L83
 538:Lib/soes/src/esc_coe.c ****       {
 1678              		.loc 1 538 38 discriminator 1 view .LVU534
 1679 007a BFB1     		cbz	r7, .L83
 1680              	.LBB5:
 541:Lib/soes/src/esc_coe.c ****          uint32_t tempmask;
 1681              		.loc 1 541 10 is_stmt 1 view .LVU535
 541:Lib/soes/src/esc_coe.c ****          uint32_t tempmask;
 1682              		.loc 1 541 33 is_stmt 0 view .LVU536
 1683 007c 0120     		movs	r0, #1
 1684 007e A840     		lsls	r0, r0, r5
 541:Lib/soes/src/esc_coe.c ****          uint32_t tempmask;
 1685              		.loc 1 541 19 view .LVU537
 1686 0080 0138     		subs	r0, r0, #1
 1687              	.LVL144:
 542:Lib/soes/src/esc_coe.c ****          if (READ_ACCESS(access, state))
 1688              		.loc 1 542 10 is_stmt 1 view .LVU538
 543:Lib/soes/src/esc_coe.c ****          {
 1689              		.loc 1 543 10 view .LVU539
 543:Lib/soes/src/esc_coe.c ****          {
 1690              		.loc 1 543 13 is_stmt 0 view .LVU540
 1691 0082 1CF0010F 		tst	ip, #1
 1692 0086 01D0     		beq	.L92
ARM GAS  /tmp/ccpX7xVZ.s 			page 68


 543:Lib/soes/src/esc_coe.c ****          {
 1693              		.loc 1 543 14 discriminator 1 view .LVU541
 1694 0088 022B     		cmp	r3, #2
 1695 008a 56D0     		beq	.L93
 1696              	.L92:
 543:Lib/soes/src/esc_coe.c ****          {
 1697              		.loc 1 543 14 discriminator 3 view .LVU542
 1698 008c 1CF0020F 		tst	ip, #2
 1699 0090 01D0     		beq	.L94
 543:Lib/soes/src/esc_coe.c ****          {
 1700              		.loc 1 543 14 discriminator 4 view .LVU543
 1701 0092 042B     		cmp	r3, #4
 1702 0094 51D0     		beq	.L93
 1703              	.L94:
 543:Lib/soes/src/esc_coe.c ****          {
 1704              		.loc 1 543 14 discriminator 6 view .LVU544
 1705 0096 1CF0040F 		tst	ip, #4
 1706 009a 01D0     		beq	.L95
 543:Lib/soes/src/esc_coe.c ****          {
 1707              		.loc 1 543 14 discriminator 7 view .LVU545
 1708 009c 082B     		cmp	r3, #8
 1709 009e 4CD0     		beq	.L93
 1710              	.L95:
 554:Lib/soes/src/esc_coe.c ****             mbxdata[BITSPOS2BYTESOFFSET(size)] &= (uint8_t)tempmask;
 1711              		.loc 1 554 13 is_stmt 1 view .LVU546
 554:Lib/soes/src/esc_coe.c ****             mbxdata[BITSPOS2BYTESOFFSET(size)] &= (uint8_t)tempmask;
 1712              		.loc 1 554 34 is_stmt 0 view .LVU547
 1713 00a0 9040     		lsls	r0, r0, r2
 1714              	.LVL145:
 555:Lib/soes/src/esc_coe.c ****          }
 1715              		.loc 1 555 13 is_stmt 1 view .LVU548
 555:Lib/soes/src/esc_coe.c ****          }
 1716              		.loc 1 555 48 is_stmt 0 view .LVU549
 1717 00a2 F308     		lsrs	r3, r6, #3
 1718              	.LVL146:
 555:Lib/soes/src/esc_coe.c ****          }
 1719              		.loc 1 555 48 view .LVU550
 1720 00a4 FA5C     		ldrb	r2, [r7, r3]	@ zero_extendqisi2
 1721              	.LVL147:
 555:Lib/soes/src/esc_coe.c ****          }
 1722              		.loc 1 555 48 view .LVU551
 1723 00a6 22EA0000 		bic	r0, r2, r0
 1724              	.LVL148:
 555:Lib/soes/src/esc_coe.c ****          }
 1725              		.loc 1 555 48 view .LVU552
 1726 00aa F854     		strb	r0, [r7, r3]
 1727              	.LVL149:
 1728              	.L83:
 555:Lib/soes/src/esc_coe.c ****          }
 1729              		.loc 1 555 48 view .LVU553
 1730              	.LBE5:
 560:Lib/soes/src/esc_coe.c ****       nsub++;
 1731              		.loc 1 560 7 is_stmt 1 view .LVU554
 560:Lib/soes/src/esc_coe.c ****       nsub++;
 1732              		.loc 1 560 32 is_stmt 0 view .LVU555
 1733 00ac 04B9     		cbnz	r4, .L97
 560:Lib/soes/src/esc_coe.c ****       nsub++;
ARM GAS  /tmp/ccpX7xVZ.s 			page 69


 1734              		.loc 1 560 32 view .LVU556
 1735 00ae 1025     		movs	r5, #16
 1736              	.LVL150:
 1737              	.L97:
 560:Lib/soes/src/esc_coe.c ****       nsub++;
 1738              		.loc 1 560 12 discriminator 4 view .LVU557
 1739 00b0 2E44     		add	r6, r6, r5
 1740              	.LVL151:
 561:Lib/soes/src/esc_coe.c **** 
 1741              		.loc 1 561 7 is_stmt 1 discriminator 4 view .LVU558
 561:Lib/soes/src/esc_coe.c **** 
 1742              		.loc 1 561 11 is_stmt 0 discriminator 4 view .LVU559
 1743 00b2 0134     		adds	r4, r4, #1
 1744              	.LVL152:
 561:Lib/soes/src/esc_coe.c **** 
 1745              		.loc 1 561 11 discriminator 4 view .LVU560
 1746 00b4 24B2     		sxth	r4, r4
 1747              	.LVL153:
 563:Lib/soes/src/esc_coe.c ****       {
 1748              		.loc 1 563 7 is_stmt 1 discriminator 4 view .LVU561
 563:Lib/soes/src/esc_coe.c ****       {
 1749              		.loc 1 563 10 is_stmt 0 discriminator 4 view .LVU562
 1750 00b6 B8F1000F 		cmp	r8, #0
 1751 00ba 03D0     		beq	.L98
 563:Lib/soes/src/esc_coe.c ****       {
 1752              		.loc 1 563 31 discriminator 1 view .LVU563
 1753 00bc F31D     		adds	r3, r6, #7
 563:Lib/soes/src/esc_coe.c ****       {
 1754              		.loc 1 563 27 discriminator 1 view .LVU564
 1755 00be B8EBD30F 		cmp	r8, r3, lsr #3
 1756 00c2 4BD9     		bls	.L77
 1757              	.LVL154:
 1758              	.L98:
 563:Lib/soes/src/esc_coe.c ****       {
 1759              		.loc 1 563 27 discriminator 1 view .LVU565
 1760              	.LBE4:
 498:Lib/soes/src/esc_coe.c ****    {
 1761              		.loc 1 498 10 is_stmt 1 view .LVU566
 498:Lib/soes/src/esc_coe.c ****    {
 1762              		.loc 1 498 35 is_stmt 0 view .LVU567
 1763 00c4 274B     		ldr	r3, .L105
 1764 00c6 03EB0A13 		add	r3, r3, r10, lsl #4
 1765 00ca 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 498:Lib/soes/src/esc_coe.c ****    {
 1766              		.loc 1 498 10 view .LVU568
 1767 00cc 9C42     		cmp	r4, r3
 1768 00ce 45DC     		bgt	.L77
 1769              	.LBB7:
 500:Lib/soes/src/esc_coe.c ****       void *ul_source = ((objd + nsub)->data != NULL) ?
 1770              		.loc 1 500 7 is_stmt 1 view .LVU569
 500:Lib/soes/src/esc_coe.c ****       void *ul_source = ((objd + nsub)->data != NULL) ?
 1771              		.loc 1 500 31 is_stmt 0 view .LVU570
 1772 00d0 04EB8403 		add	r3, r4, r4, lsl #2
 1773 00d4 09EB8303 		add	r3, r9, r3, lsl #2
 500:Lib/soes/src/esc_coe.c ****       void *ul_source = ((objd + nsub)->data != NULL) ?
 1774              		.loc 1 500 16 view .LVU571
 1775 00d8 9D88     		ldrh	r5, [r3, #4]
ARM GAS  /tmp/ccpX7xVZ.s 			page 70


 1776              	.LVL155:
 501:Lib/soes/src/esc_coe.c ****             (objd + nsub)->data : (void *)&((objd + nsub)->value);
 1777              		.loc 1 501 7 is_stmt 1 view .LVU572
 501:Lib/soes/src/esc_coe.c ****             (objd + nsub)->data : (void *)&((objd + nsub)->value);
 1778              		.loc 1 501 39 is_stmt 0 view .LVU573
 1779 00da 1869     		ldr	r0, [r3, #16]
 502:Lib/soes/src/esc_coe.c ****       uint8_t bitoffset = size % 8;
 1780              		.loc 1 502 33 view .LVU574
 1781 00dc 0028     		cmp	r0, #0
 1782 00de A7D0     		beq	.L104
 1783 00e0 0146     		mov	r1, r0
 1784              	.L80:
 1785              	.LVL156:
 503:Lib/soes/src/esc_coe.c ****       uint8_t access = (objd + nsub)->flags & 0x3f;
 1786              		.loc 1 503 7 is_stmt 1 view .LVU575
 503:Lib/soes/src/esc_coe.c ****       uint8_t access = (objd + nsub)->flags & 0x3f;
 1787              		.loc 1 503 15 is_stmt 0 view .LVU576
 1788 00e2 06F00702 		and	r2, r6, #7
 1789              	.LVL157:
 504:Lib/soes/src/esc_coe.c ****       uint8_t state = ESCvar.ALstatus & 0x0f;
 1790              		.loc 1 504 7 is_stmt 1 view .LVU577
 504:Lib/soes/src/esc_coe.c ****       uint8_t state = ESCvar.ALstatus & 0x0f;
 1791              		.loc 1 504 45 is_stmt 0 view .LVU578
 1792 00e6 93F806C0 		ldrb	ip, [r3, #6]	@ zero_extendqisi2
 1793              	.LVL158:
 505:Lib/soes/src/esc_coe.c **** 
 1794              		.loc 1 505 7 is_stmt 1 view .LVU579
 505:Lib/soes/src/esc_coe.c **** 
 1795              		.loc 1 505 39 is_stmt 0 view .LVU580
 1796 00ea 1F4B     		ldr	r3, .L105+4
 1797 00ec 93F88030 		ldrb	r3, [r3, #128]	@ zero_extendqisi2
 505:Lib/soes/src/esc_coe.c **** 
 1798              		.loc 1 505 15 view .LVU581
 1799 00f0 03F00F03 		and	r3, r3, #15
 1800              	.LVL159:
 507:Lib/soes/src/esc_coe.c ****       {
 1801              		.loc 1 507 7 is_stmt 1 view .LVU582
 507:Lib/soes/src/esc_coe.c ****       {
 1802              		.loc 1 507 10 is_stmt 0 view .LVU583
 1803 00f4 15F0070F 		tst	r5, #7
 1804 00f8 BCD1     		bne	.L81
 509:Lib/soes/src/esc_coe.c ****          {
 1805              		.loc 1 509 10 is_stmt 1 view .LVU584
 509:Lib/soes/src/esc_coe.c ****          {
 1806              		.loc 1 509 13 is_stmt 0 view .LVU585
 1807 00fa 0AB1     		cbz	r2, .L82
 512:Lib/soes/src/esc_coe.c ****          }
 1808              		.loc 1 512 13 is_stmt 1 view .LVU586
 512:Lib/soes/src/esc_coe.c ****          }
 1809              		.loc 1 512 18 is_stmt 0 view .LVU587
 1810 00fc B61A     		subs	r6, r6, r2
 1811              	.LVL160:
 512:Lib/soes/src/esc_coe.c ****          }
 1812              		.loc 1 512 18 view .LVU588
 1813 00fe 0836     		adds	r6, r6, #8
 1814              	.LVL161:
 1815              	.L82:
ARM GAS  /tmp/ccpX7xVZ.s 			page 71


 514:Lib/soes/src/esc_coe.c ****          {
 1816              		.loc 1 514 10 is_stmt 1 view .LVU589
 514:Lib/soes/src/esc_coe.c ****          {
 1817              		.loc 1 514 13 is_stmt 0 view .LVU590
 1818 0100 002F     		cmp	r7, #0
 1819 0102 D3D0     		beq	.L83
 517:Lib/soes/src/esc_coe.c ****             {
 1820              		.loc 1 517 13 is_stmt 1 view .LVU591
 517:Lib/soes/src/esc_coe.c ****             {
 1821              		.loc 1 517 16 is_stmt 0 view .LVU592
 1822 0104 BBF1000F 		cmp	fp, #0
 1823 0108 9DD1     		bne	.L84
 519:Lib/soes/src/esc_coe.c ****                {
 1824              		.loc 1 519 16 is_stmt 1 view .LVU593
 519:Lib/soes/src/esc_coe.c ****                {
 1825              		.loc 1 519 19 is_stmt 0 view .LVU594
 1826 010a 1CF0010F 		tst	ip, #1
 1827 010e 01D0     		beq	.L85
 519:Lib/soes/src/esc_coe.c ****                {
 1828              		.loc 1 519 20 discriminator 1 view .LVU595
 1829 0110 022B     		cmp	r3, #2
 1830 0112 90D0     		beq	.L86
 1831              	.L85:
 519:Lib/soes/src/esc_coe.c ****                {
 1832              		.loc 1 519 20 discriminator 3 view .LVU596
 1833 0114 1CF0020F 		tst	ip, #2
 1834 0118 01D0     		beq	.L87
 519:Lib/soes/src/esc_coe.c ****                {
 1835              		.loc 1 519 20 discriminator 4 view .LVU597
 1836 011a 042B     		cmp	r3, #4
 1837 011c 8BD0     		beq	.L86
 1838              	.L87:
 519:Lib/soes/src/esc_coe.c ****                {
 1839              		.loc 1 519 20 discriminator 6 view .LVU598
 1840 011e 1CF0040F 		tst	ip, #4
 1841 0122 01D0     		beq	.L88
 519:Lib/soes/src/esc_coe.c ****                {
 1842              		.loc 1 519 20 discriminator 7 view .LVU599
 1843 0124 082B     		cmp	r3, #8
 1844 0126 86D0     		beq	.L86
 1845              	.L88:
 527:Lib/soes/src/esc_coe.c ****                }
 1846              		.loc 1 527 19 is_stmt 1 view .LVU600
 527:Lib/soes/src/esc_coe.c ****                }
 1847              		.loc 1 527 35 is_stmt 0 view .LVU601
 1848 0128 F01D     		adds	r0, r6, #7
 527:Lib/soes/src/esc_coe.c ****                }
 1849              		.loc 1 527 57 view .LVU602
 1850 012a EA1D     		adds	r2, r5, #7
 1851              	.LVL162:
 527:Lib/soes/src/esc_coe.c ****                }
 1852              		.loc 1 527 19 view .LVU603
 1853 012c D208     		lsrs	r2, r2, #3
 1854 012e 0021     		movs	r1, #0
 1855              	.LVL163:
 527:Lib/soes/src/esc_coe.c ****                }
 1856              		.loc 1 527 19 view .LVU604
ARM GAS  /tmp/ccpX7xVZ.s 			page 72


 1857 0130 07EBD000 		add	r0, r7, r0, lsr #3
 1858 0134 FFF7FEFF 		bl	memset
 1859              	.LVL164:
 527:Lib/soes/src/esc_coe.c ****                }
 1860              		.loc 1 527 19 view .LVU605
 1861 0138 B8E7     		b	.L83
 1862              	.LVL165:
 1863              	.L93:
 1864              	.LBB6:
 545:Lib/soes/src/esc_coe.c ****             {
 1865              		.loc 1 545 13 is_stmt 1 view .LVU606
 545:Lib/soes/src/esc_coe.c ****             {
 1866              		.loc 1 545 16 is_stmt 0 view .LVU607
 1867 013a 22B9     		cbnz	r2, .L96
 547:Lib/soes/src/esc_coe.c ****             }
 1868              		.loc 1 547 16 is_stmt 1 view .LVU608
 547:Lib/soes/src/esc_coe.c ****             }
 1869              		.loc 1 547 24 is_stmt 0 view .LVU609
 1870 013c F308     		lsrs	r3, r6, #3
 1871              	.LVL166:
 547:Lib/soes/src/esc_coe.c ****             }
 1872              		.loc 1 547 51 view .LVU610
 1873 013e 4FF0000C 		mov	ip, #0
 1874              	.LVL167:
 547:Lib/soes/src/esc_coe.c ****             }
 1875              		.loc 1 547 51 view .LVU611
 1876 0142 07F803C0 		strb	ip, [r7, r3]
 1877              	.LVL168:
 1878              	.L96:
 549:Lib/soes/src/esc_coe.c ****             mbxdata[BITSPOS2BYTESOFFSET(size)] |= (uint8_t)tempmask;
 1879              		.loc 1 549 13 is_stmt 1 view .LVU612
 549:Lib/soes/src/esc_coe.c ****             mbxdata[BITSPOS2BYTESOFFSET(size)] |= (uint8_t)tempmask;
 1880              		.loc 1 549 25 is_stmt 0 view .LVU613
 1881 0146 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 549:Lib/soes/src/esc_coe.c ****             mbxdata[BITSPOS2BYTESOFFSET(size)] |= (uint8_t)tempmask;
 1882              		.loc 1 549 47 view .LVU614
 1883 0148 0340     		ands	r3, r3, r0
 549:Lib/soes/src/esc_coe.c ****             mbxdata[BITSPOS2BYTESOFFSET(size)] |= (uint8_t)tempmask;
 1884              		.loc 1 549 22 view .LVU615
 1885 014a 03FA02F2 		lsl	r2, r3, r2
 1886              	.LVL169:
 550:Lib/soes/src/esc_coe.c ****          }
 1887              		.loc 1 550 13 is_stmt 1 view .LVU616
 550:Lib/soes/src/esc_coe.c ****          }
 1888              		.loc 1 550 48 is_stmt 0 view .LVU617
 1889 014e F308     		lsrs	r3, r6, #3
 550:Lib/soes/src/esc_coe.c ****          }
 1890              		.loc 1 550 51 view .LVU618
 1891 0150 D2B2     		uxtb	r2, r2
 1892              	.LVL170:
 550:Lib/soes/src/esc_coe.c ****          }
 1893              		.loc 1 550 48 view .LVU619
 1894 0152 F95C     		ldrb	r1, [r7, r3]	@ zero_extendqisi2
 1895              	.LVL171:
 550:Lib/soes/src/esc_coe.c ****          }
 1896              		.loc 1 550 48 view .LVU620
 1897 0154 0A43     		orrs	r2, r2, r1
ARM GAS  /tmp/ccpX7xVZ.s 			page 73


 1898 0156 FA54     		strb	r2, [r7, r3]
 550:Lib/soes/src/esc_coe.c ****          }
 1899              		.loc 1 550 48 view .LVU621
 1900 0158 A8E7     		b	.L83
 1901              	.LVL172:
 1902              	.L100:
 550:Lib/soes/src/esc_coe.c ****          }
 1903              		.loc 1 550 48 view .LVU622
 1904              	.LBE6:
 1905              	.LBE7:
 487:Lib/soes/src/esc_coe.c ****    }
 1906              		.loc 1 487 14 view .LVU623
 1907 015a 044E     		ldr	r6, .L105+8
 1908              	.LVL173:
 1909              	.L77:
 570:Lib/soes/src/esc_coe.c **** 
 1910              		.loc 1 570 1 view .LVU624
 1911 015c 3046     		mov	r0, r6
 1912 015e BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1913              	.LVL174:
 1914              	.L106:
 570:Lib/soes/src/esc_coe.c **** 
 1915              		.loc 1 570 1 view .LVU625
 1916 0162 00BF     		.align	2
 1917              	.L105:
 1918 0164 00000000 		.word	SDOobjects
 1919 0168 00000000 		.word	ESCvar
 1920 016c 04000106 		.word	100728836
 1921              		.cfi_endproc
 1922              	.LFE8:
 1924              		.section	.rodata.COE_getValue.str1.4,"aMS",%progbits,1
 1925              		.align	2
 1926              	.LC0:
 1927 0000 3000     		.ascii	"0\000"
 1928 0002 0000     		.align	2
 1929              	.LC1:
 1930 0004 4C69622F 		.ascii	"Lib/soes/src/esc_coe.c\000"
 1930      736F6573 
 1930      2F737263 
 1930      2F657363 
 1930      5F636F65 
 1931              		.section	.text.COE_getValue,"ax",%progbits
 1932              		.align	1
 1933              		.syntax unified
 1934              		.thumb
 1935              		.thumb_func
 1937              	COE_getValue:
 1938              	.LVL175:
 1939              	.LFB23:
1632:Lib/soes/src/esc_coe.c ****    uint64_t value = 0;
 1940              		.loc 1 1632 1 is_stmt 1 view -0
 1941              		.cfi_startproc
 1942              		@ args = 0, pretend = 0, frame = 0
 1943              		@ frame_needed = 0, uses_anonymous_args = 0
1632:Lib/soes/src/esc_coe.c ****    uint64_t value = 0;
 1944              		.loc 1 1632 1 is_stmt 0 view .LVU627
 1945 0000 08B5     		push	{r3, lr}
ARM GAS  /tmp/ccpX7xVZ.s 			page 74


 1946              		.cfi_def_cfa_offset 8
 1947              		.cfi_offset 3, -8
 1948              		.cfi_offset 14, -4
1633:Lib/soes/src/esc_coe.c **** 
 1949              		.loc 1 1633 4 is_stmt 1 view .LVU628
 1950              	.LVL176:
1637:Lib/soes/src/esc_coe.c ****    {
 1951              		.loc 1 1637 4 view .LVU629
1637:Lib/soes/src/esc_coe.c ****    {
 1952              		.loc 1 1637 14 is_stmt 0 view .LVU630
 1953 0002 4388     		ldrh	r3, [r0, #2]
1637:Lib/soes/src/esc_coe.c ****    {
 1954              		.loc 1 1637 4 view .LVU631
 1955 0004 013B     		subs	r3, r3, #1
 1956 0006 362B     		cmp	r3, #54
 1957 0008 2DD8     		bhi	.L108
 1958 000a DFE803F0 		tbb	[pc, r3]
 1959              	.L110:
 1960 000e 1C       		.byte	(.L109-.L110)/2
 1961 000f 1C       		.byte	(.L109-.L110)/2
 1962 0010 20       		.byte	(.L112-.L110)/2
 1963 0011 24       		.byte	(.L111-.L110)/2
 1964 0012 1C       		.byte	(.L109-.L110)/2
 1965 0013 20       		.byte	(.L112-.L110)/2
 1966 0014 24       		.byte	(.L111-.L110)/2
 1967 0015 24       		.byte	(.L111-.L110)/2
 1968 0016 2C       		.byte	(.L108-.L110)/2
 1969 0017 2C       		.byte	(.L108-.L110)/2
 1970 0018 2C       		.byte	(.L108-.L110)/2
 1971 0019 2C       		.byte	(.L108-.L110)/2
 1972 001a 2C       		.byte	(.L108-.L110)/2
 1973 001b 2C       		.byte	(.L108-.L110)/2
 1974 001c 2C       		.byte	(.L108-.L110)/2
 1975 001d 2C       		.byte	(.L108-.L110)/2
 1976 001e 28       		.byte	(.L113-.L110)/2
 1977 001f 2C       		.byte	(.L108-.L110)/2
 1978 0020 2C       		.byte	(.L108-.L110)/2
 1979 0021 2C       		.byte	(.L108-.L110)/2
 1980 0022 28       		.byte	(.L113-.L110)/2
 1981 0023 2C       		.byte	(.L108-.L110)/2
 1982 0024 2C       		.byte	(.L108-.L110)/2
 1983 0025 2C       		.byte	(.L108-.L110)/2
 1984 0026 2C       		.byte	(.L108-.L110)/2
 1985 0027 2C       		.byte	(.L108-.L110)/2
 1986 0028 28       		.byte	(.L113-.L110)/2
 1987 0029 2C       		.byte	(.L108-.L110)/2
 1988 002a 2C       		.byte	(.L108-.L110)/2
 1989 002b 2C       		.byte	(.L108-.L110)/2
 1990 002c 2C       		.byte	(.L108-.L110)/2
 1991 002d 2C       		.byte	(.L108-.L110)/2
 1992 002e 2C       		.byte	(.L108-.L110)/2
 1993 002f 2C       		.byte	(.L108-.L110)/2
 1994 0030 2C       		.byte	(.L108-.L110)/2
 1995 0031 2C       		.byte	(.L108-.L110)/2
 1996 0032 2C       		.byte	(.L108-.L110)/2
 1997 0033 2C       		.byte	(.L108-.L110)/2
 1998 0034 2C       		.byte	(.L108-.L110)/2
ARM GAS  /tmp/ccpX7xVZ.s 			page 75


 1999 0035 2C       		.byte	(.L108-.L110)/2
 2000 0036 2C       		.byte	(.L108-.L110)/2
 2001 0037 2C       		.byte	(.L108-.L110)/2
 2002 0038 2C       		.byte	(.L108-.L110)/2
 2003 0039 2C       		.byte	(.L108-.L110)/2
 2004 003a 1C       		.byte	(.L109-.L110)/2
 2005 003b 20       		.byte	(.L112-.L110)/2
 2006 003c 24       		.byte	(.L111-.L110)/2
 2007 003d 1C       		.byte	(.L109-.L110)/2
 2008 003e 1C       		.byte	(.L109-.L110)/2
 2009 003f 1C       		.byte	(.L109-.L110)/2
 2010 0040 1C       		.byte	(.L109-.L110)/2
 2011 0041 1C       		.byte	(.L109-.L110)/2
 2012 0042 1C       		.byte	(.L109-.L110)/2
 2013 0043 1C       		.byte	(.L109-.L110)/2
 2014 0044 1C       		.byte	(.L109-.L110)/2
 2015 0045 00       		.p2align 1
 2016              	.L109:
1651:Lib/soes/src/esc_coe.c ****       break;
 2017              		.loc 1 1651 7 is_stmt 1 view .LVU632
1651:Lib/soes/src/esc_coe.c ****       break;
 2018              		.loc 1 1651 30 is_stmt 0 view .LVU633
 2019 0046 0369     		ldr	r3, [r0, #16]
1651:Lib/soes/src/esc_coe.c ****       break;
 2020              		.loc 1 1651 13 view .LVU634
 2021 0048 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 2022              	.LVL177:
1651:Lib/soes/src/esc_coe.c ****       break;
 2023              		.loc 1 1651 13 view .LVU635
 2024 004a 0021     		movs	r1, #0
 2025              	.LVL178:
1652:Lib/soes/src/esc_coe.c **** 
 2026              		.loc 1 1652 7 is_stmt 1 view .LVU636
 2027              	.L107:
1679:Lib/soes/src/esc_coe.c **** 
 2028              		.loc 1 1679 1 is_stmt 0 view .LVU637
 2029 004c 08BD     		pop	{r3, pc}
 2030              	.LVL179:
 2031              	.L112:
1657:Lib/soes/src/esc_coe.c ****       break;
 2032              		.loc 1 1657 7 is_stmt 1 view .LVU638
1657:Lib/soes/src/esc_coe.c ****       break;
 2033              		.loc 1 1657 31 is_stmt 0 view .LVU639
 2034 004e 0369     		ldr	r3, [r0, #16]
1657:Lib/soes/src/esc_coe.c ****       break;
 2035              		.loc 1 1657 13 view .LVU640
 2036 0050 1888     		ldrh	r0, [r3]
 2037              	.LVL180:
1657:Lib/soes/src/esc_coe.c ****       break;
 2038              		.loc 1 1657 13 view .LVU641
 2039 0052 0021     		movs	r1, #0
 2040              	.LVL181:
1658:Lib/soes/src/esc_coe.c **** 
 2041              		.loc 1 1658 7 is_stmt 1 view .LVU642
 2042 0054 FAE7     		b	.L107
 2043              	.LVL182:
 2044              	.L111:
ARM GAS  /tmp/ccpX7xVZ.s 			page 76


1664:Lib/soes/src/esc_coe.c ****       break;
 2045              		.loc 1 1664 7 view .LVU643
1664:Lib/soes/src/esc_coe.c ****       break;
 2046              		.loc 1 1664 31 is_stmt 0 view .LVU644
 2047 0056 0369     		ldr	r3, [r0, #16]
1664:Lib/soes/src/esc_coe.c ****       break;
 2048              		.loc 1 1664 13 view .LVU645
 2049 0058 1868     		ldr	r0, [r3]
 2050              	.LVL183:
1664:Lib/soes/src/esc_coe.c ****       break;
 2051              		.loc 1 1664 13 view .LVU646
 2052 005a 0021     		movs	r1, #0
 2053              	.LVL184:
1665:Lib/soes/src/esc_coe.c **** 
 2054              		.loc 1 1665 7 is_stmt 1 view .LVU647
 2055 005c F6E7     		b	.L107
 2056              	.LVL185:
 2057              	.L113:
1671:Lib/soes/src/esc_coe.c ****       break;
 2058              		.loc 1 1671 7 view .LVU648
1671:Lib/soes/src/esc_coe.c ****       break;
 2059              		.loc 1 1671 31 is_stmt 0 view .LVU649
 2060 005e 0369     		ldr	r3, [r0, #16]
1671:Lib/soes/src/esc_coe.c ****       break;
 2061              		.loc 1 1671 13 view .LVU650
 2062 0060 1868     		ldr	r0, [r3]
 2063              	.LVL186:
1671:Lib/soes/src/esc_coe.c ****       break;
 2064              		.loc 1 1671 13 view .LVU651
 2065 0062 5968     		ldr	r1, [r3, #4]
 2066              	.LVL187:
1672:Lib/soes/src/esc_coe.c **** 
 2067              		.loc 1 1672 7 is_stmt 1 view .LVU652
 2068 0064 F2E7     		b	.L107
 2069              	.LVL188:
 2070              	.L108:
1675:Lib/soes/src/esc_coe.c ****    }
 2071              		.loc 1 1675 7 view .LVU653
 2072 0066 034B     		ldr	r3, .L116
 2073 0068 034A     		ldr	r2, .L116+4
 2074 006a 40F28B61 		movw	r1, #1675
 2075 006e 0348     		ldr	r0, .L116+8
 2076              	.LVL189:
1675:Lib/soes/src/esc_coe.c ****    }
 2077              		.loc 1 1675 7 is_stmt 0 view .LVU654
 2078 0070 FFF7FEFF 		bl	__assert_func
 2079              	.LVL190:
 2080              	.L117:
 2081              		.align	2
 2082              	.L116:
 2083 0074 00000000 		.word	.LC0
 2084 0078 00000000 		.word	.LANCHOR0
 2085 007c 04000000 		.word	.LC1
 2086              		.cfi_endproc
 2087              	.LFE23:
 2089              		.section	.text.SDO_findsubindex,"ax",%progbits
 2090              		.align	1
ARM GAS  /tmp/ccpX7xVZ.s 			page 77


 2091              		.global	SDO_findsubindex
 2092              		.syntax unified
 2093              		.thumb
 2094              		.thumb_func
 2096              	SDO_findsubindex:
 2097              	.LVL191:
 2098              	.LFB0:
  52:Lib/soes/src/esc_coe.c ****    const _objd *objd;
 2099              		.loc 1 52 1 is_stmt 1 view -0
 2100              		.cfi_startproc
 2101              		@ args = 0, pretend = 0, frame = 0
 2102              		@ frame_needed = 0, uses_anonymous_args = 0
 2103              		@ link register save eliminated.
  52:Lib/soes/src/esc_coe.c ****    const _objd *objd;
 2104              		.loc 1 52 1 is_stmt 0 view .LVU656
 2105 0000 10B4     		push	{r4}
 2106              		.cfi_def_cfa_offset 4
 2107              		.cfi_offset 4, -4
  53:Lib/soes/src/esc_coe.c ****    int16_t n = 0;
 2108              		.loc 1 53 4 is_stmt 1 view .LVU657
  54:Lib/soes/src/esc_coe.c ****    uint8_t maxsub;
 2109              		.loc 1 54 4 view .LVU658
 2110              	.LVL192:
  55:Lib/soes/src/esc_coe.c ****    objd = SDOobjects[nidx].objdesc;
 2111              		.loc 1 55 4 view .LVU659
  56:Lib/soes/src/esc_coe.c ****    maxsub = SDOobjects[nidx].maxsub;
 2112              		.loc 1 56 4 view .LVU660
  56:Lib/soes/src/esc_coe.c ****    maxsub = SDOobjects[nidx].maxsub;
 2113              		.loc 1 56 9 is_stmt 0 view .LVU661
 2114 0002 144B     		ldr	r3, .L129
 2115 0004 03EB0010 		add	r0, r3, r0, lsl #4
 2116              	.LVL193:
  56:Lib/soes/src/esc_coe.c ****    maxsub = SDOobjects[nidx].maxsub;
 2117              		.loc 1 56 9 view .LVU662
 2118 0008 C468     		ldr	r4, [r0, #12]
 2119              	.LVL194:
  57:Lib/soes/src/esc_coe.c **** 
 2120              		.loc 1 57 4 is_stmt 1 view .LVU663
  57:Lib/soes/src/esc_coe.c **** 
 2121              		.loc 1 57 11 is_stmt 0 view .LVU664
 2122 000a 90F804C0 		ldrb	ip, [r0, #4]	@ zero_extendqisi2
 2123              	.LVL195:
  62:Lib/soes/src/esc_coe.c ****    {
 2124              		.loc 1 62 4 is_stmt 1 view .LVU665
  62:Lib/soes/src/esc_coe.c ****    {
 2125              		.loc 1 62 7 is_stmt 0 view .LVU666
 2126 000e 8C45     		cmp	ip, r1
 2127 0010 08D3     		bcc	.L125
  62:Lib/soes/src/esc_coe.c ****    {
 2128              		.loc 1 62 39 discriminator 1 view .LVU667
 2129 0012 01EB8103 		add	r3, r1, r1, lsl #2
  62:Lib/soes/src/esc_coe.c ****    {
 2130              		.loc 1 62 50 discriminator 1 view .LVU668
 2131 0016 34F82320 		ldrh	r2, [r4, r3, lsl #2]
  62:Lib/soes/src/esc_coe.c ****    {
 2132              		.loc 1 62 61 discriminator 1 view .LVU669
 2133 001a 8BB2     		uxth	r3, r1
ARM GAS  /tmp/ccpX7xVZ.s 			page 78


  62:Lib/soes/src/esc_coe.c ****    {
 2134              		.loc 1 62 29 discriminator 1 view .LVU670
 2135 001c 9A42     		cmp	r2, r3
 2136 001e 0ED0     		beq	.L120
 2137 0020 0020     		movs	r0, #0
 2138 0022 00E0     		b	.L121
 2139              	.L125:
 2140 0024 0020     		movs	r0, #0
 2141              	.LVL196:
 2142              	.L121:
  67:Lib/soes/src/esc_coe.c ****    {
 2143              		.loc 1 67 10 is_stmt 1 view .LVU671
  67:Lib/soes/src/esc_coe.c ****    {
 2144              		.loc 1 67 18 is_stmt 0 view .LVU672
 2145 0026 00EB8003 		add	r3, r0, r0, lsl #2
  67:Lib/soes/src/esc_coe.c ****    {
 2146              		.loc 1 67 22 view .LVU673
 2147 002a 34F82320 		ldrh	r2, [r4, r3, lsl #2]
  67:Lib/soes/src/esc_coe.c ****    {
 2148              		.loc 1 67 33 view .LVU674
 2149 002e 8BB2     		uxth	r3, r1
  67:Lib/soes/src/esc_coe.c ****    {
 2150              		.loc 1 67 10 view .LVU675
 2151 0030 9A42     		cmp	r2, r3
 2152 0032 06D2     		bcs	.L123
  67:Lib/soes/src/esc_coe.c ****    {
 2153              		.loc 1 67 45 discriminator 1 view .LVU676
 2154 0034 6045     		cmp	r0, ip
 2155 0036 04DA     		bge	.L123
  69:Lib/soes/src/esc_coe.c ****    }
 2156              		.loc 1 69 7 is_stmt 1 view .LVU677
  69:Lib/soes/src/esc_coe.c ****    }
 2157              		.loc 1 69 8 is_stmt 0 view .LVU678
 2158 0038 0130     		adds	r0, r0, #1
 2159              	.LVL197:
  69:Lib/soes/src/esc_coe.c ****    }
 2160              		.loc 1 69 8 view .LVU679
 2161 003a 00B2     		sxth	r0, r0
 2162              	.LVL198:
  69:Lib/soes/src/esc_coe.c ****    }
 2163              		.loc 1 69 8 view .LVU680
 2164 003c F3E7     		b	.L121
 2165              	.LVL199:
 2166              	.L120:
  64:Lib/soes/src/esc_coe.c ****    }
 2167              		.loc 1 64 7 is_stmt 1 view .LVU681
  64:Lib/soes/src/esc_coe.c ****    }
 2168              		.loc 1 64 14 is_stmt 0 view .LVU682
 2169 003e 08B2     		sxth	r0, r1
 2170 0040 01E0     		b	.L122
 2171              	.LVL200:
 2172              	.L123:
  71:Lib/soes/src/esc_coe.c ****    {
 2173              		.loc 1 71 4 is_stmt 1 view .LVU683
  71:Lib/soes/src/esc_coe.c ****    {
 2174              		.loc 1 71 7 is_stmt 0 view .LVU684
 2175 0042 9A42     		cmp	r2, r3
ARM GAS  /tmp/ccpX7xVZ.s 			page 79


 2176 0044 02D1     		bne	.L128
 2177              	.LVL201:
 2178              	.L122:
  76:Lib/soes/src/esc_coe.c **** 
 2179              		.loc 1 76 1 view .LVU685
 2180 0046 5DF8044B 		ldr	r4, [sp], #4
 2181              		.cfi_remember_state
 2182              		.cfi_restore 4
 2183              		.cfi_def_cfa_offset 0
 2184              	.LVL202:
  76:Lib/soes/src/esc_coe.c **** 
 2185              		.loc 1 76 1 view .LVU686
 2186 004a 7047     		bx	lr
 2187              	.LVL203:
 2188              	.L128:
 2189              		.cfi_restore_state
  73:Lib/soes/src/esc_coe.c ****    }
 2190              		.loc 1 73 14 view .LVU687
 2191 004c 4FF0FF30 		mov	r0, #-1
 2192              	.LVL204:
  73:Lib/soes/src/esc_coe.c ****    }
 2193              		.loc 1 73 14 view .LVU688
 2194 0050 F9E7     		b	.L122
 2195              	.L130:
 2196 0052 00BF     		.align	2
 2197              	.L129:
 2198 0054 00000000 		.word	SDOobjects
 2199              		.cfi_endproc
 2200              	.LFE0:
 2202              		.section	.text.SDO_findobject,"ax",%progbits
 2203              		.align	1
 2204              		.global	SDO_findobject
 2205              		.syntax unified
 2206              		.thumb
 2207              		.thumb_func
 2209              	SDO_findobject:
 2210              	.LVL205:
 2211              	.LFB1:
  84:Lib/soes/src/esc_coe.c ****    int32_t n = 0;
 2212              		.loc 1 84 1 is_stmt 1 view -0
 2213              		.cfi_startproc
 2214              		@ args = 0, pretend = 0, frame = 0
 2215              		@ frame_needed = 0, uses_anonymous_args = 0
 2216              		@ link register save eliminated.
  84:Lib/soes/src/esc_coe.c ****    int32_t n = 0;
 2217              		.loc 1 84 1 is_stmt 0 view .LVU690
 2218 0000 0146     		mov	r1, r0
  85:Lib/soes/src/esc_coe.c ****    while (SDOobjects[n].index < index)
 2219              		.loc 1 85 4 is_stmt 1 view .LVU691
 2220              	.LVL206:
  86:Lib/soes/src/esc_coe.c ****    {
 2221              		.loc 1 86 4 view .LVU692
  85:Lib/soes/src/esc_coe.c ****    while (SDOobjects[n].index < index)
 2222              		.loc 1 85 12 is_stmt 0 view .LVU693
 2223 0002 0020     		movs	r0, #0
 2224              	.LVL207:
  86:Lib/soes/src/esc_coe.c ****    {
ARM GAS  /tmp/ccpX7xVZ.s 			page 80


 2225              		.loc 1 86 10 view .LVU694
 2226 0004 00E0     		b	.L132
 2227              	.LVL208:
 2228              	.L133:
  88:Lib/soes/src/esc_coe.c ****    }
 2229              		.loc 1 88 7 is_stmt 1 view .LVU695
  88:Lib/soes/src/esc_coe.c ****    }
 2230              		.loc 1 88 8 is_stmt 0 view .LVU696
 2231 0006 0130     		adds	r0, r0, #1
 2232              	.LVL209:
 2233              	.L132:
  86:Lib/soes/src/esc_coe.c ****    {
 2234              		.loc 1 86 10 is_stmt 1 view .LVU697
  86:Lib/soes/src/esc_coe.c ****    {
 2235              		.loc 1 86 24 is_stmt 0 view .LVU698
 2236 0008 0301     		lsls	r3, r0, #4
 2237 000a 044A     		ldr	r2, .L137
 2238 000c D35A     		ldrh	r3, [r2, r3]
  86:Lib/soes/src/esc_coe.c ****    {
 2239              		.loc 1 86 10 view .LVU699
 2240 000e 8B42     		cmp	r3, r1
 2241 0010 F9D3     		bcc	.L133
  90:Lib/soes/src/esc_coe.c ****    {
 2242              		.loc 1 90 4 is_stmt 1 view .LVU700
  90:Lib/soes/src/esc_coe.c ****    {
 2243              		.loc 1 90 7 is_stmt 0 view .LVU701
 2244 0012 00D1     		bne	.L136
 2245              	.LVL210:
 2246              	.L131:
  95:Lib/soes/src/esc_coe.c **** 
 2247              		.loc 1 95 1 view .LVU702
 2248 0014 7047     		bx	lr
 2249              	.LVL211:
 2250              	.L136:
  92:Lib/soes/src/esc_coe.c ****    }
 2251              		.loc 1 92 14 view .LVU703
 2252 0016 4FF0FF30 		mov	r0, #-1
 2253              	.LVL212:
  92:Lib/soes/src/esc_coe.c ****    }
 2254              		.loc 1 92 14 view .LVU704
 2255 001a FBE7     		b	.L131
 2256              	.L138:
 2257              		.align	2
 2258              	.L137:
 2259 001c 00000000 		.word	SDOobjects
 2260              		.cfi_endproc
 2261              	.LFE1:
 2263              		.section	.text.complete_access_get_variables,"ax",%progbits
 2264              		.align	1
 2265              		.syntax unified
 2266              		.thumb
 2267              		.thumb_func
 2269              	complete_access_get_variables:
 2270              	.LVL213:
 2271              	.LFB7:
 450:Lib/soes/src/esc_coe.c ****    *index = etohs (coesdo->index);
 2272              		.loc 1 450 1 is_stmt 1 view -0
ARM GAS  /tmp/ccpX7xVZ.s 			page 81


 2273              		.cfi_startproc
 2274              		@ args = 4, pretend = 0, frame = 0
 2275              		@ frame_needed = 0, uses_anonymous_args = 0
 450:Lib/soes/src/esc_coe.c ****    *index = etohs (coesdo->index);
 2276              		.loc 1 450 1 is_stmt 0 view .LVU706
 2277 0000 38B5     		push	{r3, r4, r5, lr}
 2278              		.cfi_def_cfa_offset 16
 2279              		.cfi_offset 3, -16
 2280              		.cfi_offset 4, -12
 2281              		.cfi_offset 5, -8
 2282              		.cfi_offset 14, -4
 2283 0002 1D46     		mov	r5, r3
 451:Lib/soes/src/esc_coe.c ****    *subindex = coesdo->subindex;
 2284              		.loc 1 451 4 is_stmt 1 view .LVU707
 451:Lib/soes/src/esc_coe.c ****    *subindex = coesdo->subindex;
 2285              		.loc 1 451 13 is_stmt 0 view .LVU708
 2286 0004 B0F80930 		ldrh	r3, [r0, #9]	@ unaligned
 2287              	.LVL214:
 451:Lib/soes/src/esc_coe.c ****    *subindex = coesdo->subindex;
 2288              		.loc 1 451 11 view .LVU709
 2289 0008 0B80     		strh	r3, [r1]	@ movhi
 452:Lib/soes/src/esc_coe.c **** 
 2290              		.loc 1 452 4 is_stmt 1 view .LVU710
 452:Lib/soes/src/esc_coe.c **** 
 2291              		.loc 1 452 22 is_stmt 0 view .LVU711
 2292 000a C37A     		ldrb	r3, [r0, #11]	@ zero_extendqisi2
 452:Lib/soes/src/esc_coe.c **** 
 2293              		.loc 1 452 14 view .LVU712
 2294 000c 1370     		strb	r3, [r2]
 455:Lib/soes/src/esc_coe.c ****    {
 2295              		.loc 1 455 4 is_stmt 1 view .LVU713
 455:Lib/soes/src/esc_coe.c ****    {
 2296              		.loc 1 455 7 is_stmt 0 view .LVU714
 2297 000e 012B     		cmp	r3, #1
 2298 0010 0FD8     		bhi	.L141
 2299 0012 1446     		mov	r4, r2
 460:Lib/soes/src/esc_coe.c ****    if (*nidx < 0)
 2300              		.loc 1 460 4 is_stmt 1 view .LVU715
 460:Lib/soes/src/esc_coe.c ****    if (*nidx < 0)
 2301              		.loc 1 460 12 is_stmt 0 view .LVU716
 2302 0014 0888     		ldrh	r0, [r1]
 2303              	.LVL215:
 460:Lib/soes/src/esc_coe.c ****    if (*nidx < 0)
 2304              		.loc 1 460 12 view .LVU717
 2305 0016 FFF7FEFF 		bl	SDO_findobject
 2306              	.LVL216:
 460:Lib/soes/src/esc_coe.c ****    if (*nidx < 0)
 2307              		.loc 1 460 10 view .LVU718
 2308 001a 2860     		str	r0, [r5]
 461:Lib/soes/src/esc_coe.c ****    {
 2309              		.loc 1 461 4 is_stmt 1 view .LVU719
 461:Lib/soes/src/esc_coe.c ****    {
 2310              		.loc 1 461 7 is_stmt 0 view .LVU720
 2311 001c 0028     		cmp	r0, #0
 2312 001e 0ADB     		blt	.L142
 466:Lib/soes/src/esc_coe.c ****    if (*nsub < 0)
 2313              		.loc 1 466 4 is_stmt 1 view .LVU721
ARM GAS  /tmp/ccpX7xVZ.s 			page 82


 466:Lib/soes/src/esc_coe.c ****    if (*nsub < 0)
 2314              		.loc 1 466 12 is_stmt 0 view .LVU722
 2315 0020 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 2316 0022 FFF7FEFF 		bl	SDO_findsubindex
 2317              	.LVL217:
 466:Lib/soes/src/esc_coe.c ****    if (*nsub < 0)
 2318              		.loc 1 466 10 view .LVU723
 2319 0026 049B     		ldr	r3, [sp, #16]
 2320 0028 1880     		strh	r0, [r3]	@ movhi
 467:Lib/soes/src/esc_coe.c ****    {
 2321              		.loc 1 467 4 is_stmt 1 view .LVU724
 467:Lib/soes/src/esc_coe.c ****    {
 2322              		.loc 1 467 7 is_stmt 0 view .LVU725
 2323 002a 0028     		cmp	r0, #0
 2324 002c 05DB     		blt	.L143
 472:Lib/soes/src/esc_coe.c **** }
 2325              		.loc 1 472 11 view .LVU726
 2326 002e 0020     		movs	r0, #0
 2327              	.LVL218:
 2328              	.L139:
 473:Lib/soes/src/esc_coe.c **** 
 2329              		.loc 1 473 1 view .LVU727
 2330 0030 38BD     		pop	{r3, r4, r5, pc}
 2331              	.LVL219:
 2332              	.L141:
 457:Lib/soes/src/esc_coe.c ****    }
 2333              		.loc 1 457 14 view .LVU728
 2334 0032 0348     		ldr	r0, .L145
 2335              	.LVL220:
 457:Lib/soes/src/esc_coe.c ****    }
 2336              		.loc 1 457 14 view .LVU729
 2337 0034 FCE7     		b	.L139
 2338              	.LVL221:
 2339              	.L142:
 463:Lib/soes/src/esc_coe.c ****    }
 2340              		.loc 1 463 14 view .LVU730
 2341 0036 0348     		ldr	r0, .L145+4
 2342 0038 FAE7     		b	.L139
 2343              	.L143:
 469:Lib/soes/src/esc_coe.c ****    }
 2344              		.loc 1 469 14 view .LVU731
 2345 003a 0348     		ldr	r0, .L145+8
 2346 003c F8E7     		b	.L139
 2347              	.L146:
 2348 003e 00BF     		.align	2
 2349              	.L145:
 2350 0040 00000106 		.word	100728832
 2351 0044 00000206 		.word	100794368
 2352 0048 11000906 		.word	101253137
 2353              		.cfi_endproc
 2354              	.LFE7:
 2356              		.section	.text.SDO_upload_complete_access,"ax",%progbits
 2357              		.align	1
 2358              		.syntax unified
 2359              		.thumb
 2360              		.thumb_func
 2362              	SDO_upload_complete_access:
ARM GAS  /tmp/ccpX7xVZ.s 			page 83


 2363              	.LFB10:
 592:Lib/soes/src/esc_coe.c ****    _COEsdo *coesdo = (_COEsdo *) &MBX[0];
 2364              		.loc 1 592 1 is_stmt 1 view -0
 2365              		.cfi_startproc
 2366              		@ args = 0, pretend = 0, frame = 16
 2367              		@ frame_needed = 0, uses_anonymous_args = 0
 2368 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2369              		.cfi_def_cfa_offset 36
 2370              		.cfi_offset 4, -36
 2371              		.cfi_offset 5, -32
 2372              		.cfi_offset 6, -28
 2373              		.cfi_offset 7, -24
 2374              		.cfi_offset 8, -20
 2375              		.cfi_offset 9, -16
 2376              		.cfi_offset 10, -12
 2377              		.cfi_offset 11, -8
 2378              		.cfi_offset 14, -4
 2379 0004 87B0     		sub	sp, sp, #28
 2380              		.cfi_def_cfa_offset 64
 593:Lib/soes/src/esc_coe.c ****    uint16_t index;
 2381              		.loc 1 593 4 view .LVU733
 2382              	.LVL222:
 594:Lib/soes/src/esc_coe.c ****    uint8_t subindex;
 2383              		.loc 1 594 4 view .LVU734
 595:Lib/soes/src/esc_coe.c ****    int32_t nidx;
 2384              		.loc 1 595 4 view .LVU735
 596:Lib/soes/src/esc_coe.c ****    int16_t nsub;
 2385              		.loc 1 596 4 view .LVU736
 597:Lib/soes/src/esc_coe.c ****    uint32_t abortcode = complete_access_get_variables
 2386              		.loc 1 597 4 view .LVU737
 598:Lib/soes/src/esc_coe.c ****                            (coesdo, &index, &subindex, &nidx, &nsub);
 2387              		.loc 1 598 4 view .LVU738
 598:Lib/soes/src/esc_coe.c ****                            (coesdo, &index, &subindex, &nidx, &nsub);
 2388              		.loc 1 598 25 is_stmt 0 view .LVU739
 2389 0006 0DF10E03 		add	r3, sp, #14
 2390 000a 0093     		str	r3, [sp]
 2391 000c 04AB     		add	r3, sp, #16
 2392 000e 0DF11502 		add	r2, sp, #21
 2393 0012 0DF11601 		add	r1, sp, #22
 2394 0016 7648     		ldr	r0, .L169
 2395 0018 FFF7FEFF 		bl	complete_access_get_variables
 2396              	.LVL223:
 600:Lib/soes/src/esc_coe.c ****    {
 2397              		.loc 1 600 4 is_stmt 1 view .LVU740
 600:Lib/soes/src/esc_coe.c ****    {
 2398              		.loc 1 600 7 is_stmt 0 view .LVU741
 2399 001c 0028     		cmp	r0, #0
 2400 001e 40F0A180 		bne	.L162
 606:Lib/soes/src/esc_coe.c ****    if (MBXout == 0)
 2401              		.loc 1 606 4 is_stmt 1 view .LVU742
 606:Lib/soes/src/esc_coe.c ****    if (MBXout == 0)
 2402              		.loc 1 606 21 is_stmt 0 view .LVU743
 2403 0022 FFF7FEFF 		bl	ESC_claimbuffer
 2404              	.LVL224:
 607:Lib/soes/src/esc_coe.c ****    {
 2405              		.loc 1 607 4 is_stmt 1 view .LVU744
 607:Lib/soes/src/esc_coe.c ****    {
ARM GAS  /tmp/ccpX7xVZ.s 			page 84


 2406              		.loc 1 607 7 is_stmt 0 view .LVU745
 2407 0026 0646     		mov	r6, r0
 2408 0028 0028     		cmp	r0, #0
 2409 002a 00F0A680 		beq	.L163
 616:Lib/soes/src/esc_coe.c **** 
 2410              		.loc 1 616 4 is_stmt 1 view .LVU746
 616:Lib/soes/src/esc_coe.c **** 
 2411              		.loc 1 616 40 is_stmt 0 view .LVU747
 2412 002e 0499     		ldr	r1, [sp, #16]
 616:Lib/soes/src/esc_coe.c **** 
 2413              		.loc 1 616 17 view .LVU748
 2414 0030 704B     		ldr	r3, .L169+4
 2415 0032 03EB0113 		add	r3, r3, r1, lsl #4
 2416 0036 DD68     		ldr	r5, [r3, #12]
 2417              	.LVL225:
 619:Lib/soes/src/esc_coe.c **** 
 2418              		.loc 1 619 4 is_stmt 1 view .LVU749
 619:Lib/soes/src/esc_coe.c **** 
 2419              		.loc 1 619 20 is_stmt 0 view .LVU750
 2420 0038 0023     		movs	r3, #0
 2421 003a 0193     		str	r3, [sp, #4]
 2422 003c 0093     		str	r3, [sp]
 2423 003e BDF90E20 		ldrsh	r2, [sp, #14]
 2424 0042 2846     		mov	r0, r5
 2425              	.LVL226:
 619:Lib/soes/src/esc_coe.c **** 
 2426              		.loc 1 619 20 view .LVU751
 2427 0044 FFF7FEFF 		bl	complete_access_subindex_loop
 2428              	.LVL227:
 619:Lib/soes/src/esc_coe.c **** 
 2429              		.loc 1 619 13 view .LVU752
 2430 0048 0290     		str	r0, [sp, #8]
 622:Lib/soes/src/esc_coe.c **** 
 2431              		.loc 1 622 4 is_stmt 1 view .LVU753
 622:Lib/soes/src/esc_coe.c **** 
 2432              		.loc 1 622 12 is_stmt 0 view .LVU754
 2433 004a 1828     		cmp	r0, #24
 2434 004c 00F29E80 		bhi	.L160
 622:Lib/soes/src/esc_coe.c **** 
 2435              		.loc 1 622 64 discriminator 1 view .LVU755
 2436 0050 441E     		subs	r4, r0, #1
 622:Lib/soes/src/esc_coe.c **** 
 2437              		.loc 1 622 70 discriminator 1 view .LVU756
 2438 0052 E408     		lsrs	r4, r4, #3
 622:Lib/soes/src/esc_coe.c **** 
 2439              		.loc 1 622 55 discriminator 1 view .LVU757
 2440 0054 C4F10304 		rsb	r4, r4, #3
 622:Lib/soes/src/esc_coe.c **** 
 2441              		.loc 1 622 36 discriminator 1 view .LVU758
 2442 0058 E4B2     		uxtb	r4, r4
 622:Lib/soes/src/esc_coe.c **** 
 2443              		.loc 1 622 12 discriminator 1 view .LVU759
 2444 005a A400     		lsls	r4, r4, #2
 2445 005c E4B2     		uxtb	r4, r4
 2446              	.L151:
 2447              	.LVL228:
 625:Lib/soes/src/esc_coe.c **** 
ARM GAS  /tmp/ccpX7xVZ.s 			page 85


 2448              		.loc 1 625 4 is_stmt 1 discriminator 4 view .LVU760
 625:Lib/soes/src/esc_coe.c **** 
 2449              		.loc 1 625 11 is_stmt 0 discriminator 4 view .LVU761
 2450 005e 0730     		adds	r0, r0, #7
 2451 0060 C308     		lsrs	r3, r0, #3
 625:Lib/soes/src/esc_coe.c **** 
 2452              		.loc 1 625 9 discriminator 4 view .LVU762
 2453 0062 0293     		str	r3, [sp, #8]
 627:Lib/soes/src/esc_coe.c ****    {
 2454              		.loc 1 627 4 is_stmt 1 discriminator 4 view .LVU763
 627:Lib/soes/src/esc_coe.c ****    {
 2455              		.loc 1 627 7 is_stmt 0 discriminator 4 view .LVU764
 2456 0064 B3F5803F 		cmp	r3, #65536
 2457 0068 80F09280 		bcs	.L164
 635:Lib/soes/src/esc_coe.c ****    {
 2458              		.loc 1 635 4 is_stmt 1 view .LVU765
 635:Lib/soes/src/esc_coe.c ****    {
 2459              		.loc 1 635 14 is_stmt 0 view .LVU766
 2460 006c 1E33     		adds	r3, r3, #30
 635:Lib/soes/src/esc_coe.c ****    {
 2461              		.loc 1 635 7 view .LVU767
 2462 006e B3F5C06F 		cmp	r3, #1536
 2463 0072 00F29580 		bhi	.L165
 640:Lib/soes/src/esc_coe.c ****          objd->data, (size_t *)&size, objd->flags | COMPLETE_ACCESS_FLAG);
 2464              		.loc 1 640 4 is_stmt 1 view .LVU768
 641:Lib/soes/src/esc_coe.c ****    if (abortcode != 0)
 2465              		.loc 1 641 43 is_stmt 0 view .LVU769
 2466 0076 EB88     		ldrh	r3, [r5, #6]
 640:Lib/soes/src/esc_coe.c ****          objd->data, (size_t *)&size, objd->flags | COMPLETE_ACCESS_FLAG);
 2467              		.loc 1 640 16 view .LVU770
 2468 0078 2A69     		ldr	r2, [r5, #16]
 2469 007a 43F40043 		orr	r3, r3, #32768
 2470 007e 0093     		str	r3, [sp]
 2471 0080 02AB     		add	r3, sp, #8
 2472 0082 9DF81510 		ldrb	r1, [sp, #21]	@ zero_extendqisi2
 2473 0086 BDF81600 		ldrh	r0, [sp, #22]
 2474 008a FFF7FEFF 		bl	ESC_upload_pre_objecthandler
 2475              	.LVL229:
 642:Lib/soes/src/esc_coe.c ****    {
 2476              		.loc 1 642 4 is_stmt 1 view .LVU771
 642:Lib/soes/src/esc_coe.c ****    {
 2477              		.loc 1 642 7 is_stmt 0 view .LVU772
 2478 008e 0346     		mov	r3, r0
 2479 0090 0028     		cmp	r0, #0
 2480 0092 40F08E80 		bne	.L166
 649:Lib/soes/src/esc_coe.c **** 
 2481              		.loc 1 649 4 is_stmt 1 view .LVU773
 2482 0096 584F     		ldr	r7, .L169+8
 2483 0098 4FF0000A 		mov	r10, #0
 2484 009c CDF804A0 		str	r10, [sp, #4]
 2485 00a0 CDF800A0 		str	r10, [sp]
 2486 00a4 3B46     		mov	r3, r7
 2487 00a6 BDF90E20 		ldrsh	r2, [sp, #14]
 2488 00aa 0499     		ldr	r1, [sp, #16]
 2489 00ac 2846     		mov	r0, r5
 2490              	.LVL230:
 649:Lib/soes/src/esc_coe.c **** 
ARM GAS  /tmp/ccpX7xVZ.s 			page 86


 2491              		.loc 1 649 4 is_stmt 0 view .LVU774
 2492 00ae FFF7FEFF 		bl	complete_access_subindex_loop
 2493              	.LVL231:
 651:Lib/soes/src/esc_coe.c ****    init_coesdo(coeres, COE_SDORESPONSE,
 2494              		.loc 1 651 4 is_stmt 1 view .LVU775
 651:Lib/soes/src/esc_coe.c ****    init_coesdo(coeres, COE_SDORESPONSE,
 2495              		.loc 1 651 48 is_stmt 0 view .LVU776
 2496 00b2 57F87E3C 		ldr	r3, [r7, #-126]
 651:Lib/soes/src/esc_coe.c ****    init_coesdo(coeres, COE_SDORESPONSE,
 2497              		.loc 1 651 46 view .LVU777
 2498 00b6 03FB06F8 		mul	r8, r3, r6
 651:Lib/soes/src/esc_coe.c ****    init_coesdo(coeres, COE_SDORESPONSE,
 2499              		.loc 1 651 13 view .LVU778
 2500 00ba DFF834B1 		ldr	fp, .L169
 2501 00be 08EB0B09 		add	r9, r8, fp
 2502              	.LVL232:
 652:Lib/soes/src/esc_coe.c ****          COE_COMMAND_UPLOADRESPONSE | COE_COMPLETEACCESS | COE_SIZE_INDICATOR,
 2503              		.loc 1 652 4 is_stmt 1 view .LVU779
 2504 00c2 9DF81530 		ldrb	r3, [sp, #21]	@ zero_extendqisi2
 2505 00c6 0093     		str	r3, [sp]
 2506 00c8 BDF81630 		ldrh	r3, [sp, #22]
 2507 00cc 5122     		movs	r2, #81
 2508 00ce 0321     		movs	r1, #3
 2509 00d0 4846     		mov	r0, r9
 2510 00d2 FFF7FEFF 		bl	init_coesdo
 2511              	.LVL233:
 656:Lib/soes/src/esc_coe.c **** 
 2512              		.loc 1 656 4 view .LVU780
 656:Lib/soes/src/esc_coe.c **** 
 2513              		.loc 1 656 21 is_stmt 0 view .LVU781
 2514 00d6 07F859AC 		strb	r10, [r7, #-89]
 651:Lib/soes/src/esc_coe.c ****    init_coesdo(coeres, COE_SDORESPONSE,
 2515              		.loc 1 651 48 view .LVU782
 2516 00da EA3F     		subs	r7, r7, #234
 658:Lib/soes/src/esc_coe.c ****    {
 2517              		.loc 1 658 4 is_stmt 1 view .LVU783
 658:Lib/soes/src/esc_coe.c ****    {
 2518              		.loc 1 658 13 is_stmt 0 view .LVU784
 2519 00dc 029A     		ldr	r2, [sp, #8]
 658:Lib/soes/src/esc_coe.c ****    {
 2520              		.loc 1 658 7 view .LVU785
 2521 00de 042A     		cmp	r2, #4
 2522 00e0 6FD9     		bls	.L167
 667:Lib/soes/src/esc_coe.c **** 
 2523              		.loc 1 667 7 is_stmt 1 view .LVU786
 667:Lib/soes/src/esc_coe.c **** 
 2524              		.loc 1 667 20 is_stmt 0 view .LVU787
 2525 00e2 C9F80C20 		str	r2, [r9, #12]
 669:Lib/soes/src/esc_coe.c ****       {
 2526              		.loc 1 669 7 is_stmt 1 view .LVU788
 669:Lib/soes/src/esc_coe.c ****       {
 2527              		.loc 1 669 17 is_stmt 0 view .LVU789
 2528 00e6 02F10A03 		add	r3, r2, #10
 669:Lib/soes/src/esc_coe.c ****       {
 2529              		.loc 1 669 37 view .LVU790
 2530 00ea 4449     		ldr	r1, .L169+12
 2531 00ec C96E     		ldr	r1, [r1, #108]
ARM GAS  /tmp/ccpX7xVZ.s 			page 87


 2532 00ee 881F     		subs	r0, r1, #6
 669:Lib/soes/src/esc_coe.c ****       {
 2533              		.loc 1 669 10 view .LVU791
 2534 00f0 8342     		cmp	r3, r0
 2535 00f2 11D9     		bls	.L157
 673:Lib/soes/src/esc_coe.c ****          /* limit to mailbox size */
 2536              		.loc 1 673 10 is_stmt 1 view .LVU792
 673:Lib/soes/src/esc_coe.c ****          /* limit to mailbox size */
 2537              		.loc 1 673 23 is_stmt 0 view .LVU793
 2538 00f4 414B     		ldr	r3, .L169+12
 2539 00f6 C3F89C20 		str	r2, [r3, #156]
 675:Lib/soes/src/esc_coe.c ****          /* number of bytes done */
 2540              		.loc 1 675 10 is_stmt 1 view .LVU794
 675:Lib/soes/src/esc_coe.c ****          /* number of bytes done */
 2541              		.loc 1 675 30 is_stmt 0 view .LVU795
 2542 00fa 1039     		subs	r1, r1, #16
 675:Lib/soes/src/esc_coe.c ****          /* number of bytes done */
 2543              		.loc 1 675 15 view .LVU796
 2544 00fc 0291     		str	r1, [sp, #8]
 677:Lib/soes/src/esc_coe.c ****          /* signal segmented transfer */
 2545              		.loc 1 677 10 is_stmt 1 view .LVU797
 677:Lib/soes/src/esc_coe.c ****          /* signal segmented transfer */
 2546              		.loc 1 677 27 is_stmt 0 view .LVU798
 2547 00fe C3F8A010 		str	r1, [r3, #160]
 679:Lib/soes/src/esc_coe.c ****          ESCvar.data = ESCvar.mbxdata;
 2548              		.loc 1 679 10 is_stmt 1 view .LVU799
 679:Lib/soes/src/esc_coe.c ****          ESCvar.data = ESCvar.mbxdata;
 2549              		.loc 1 679 27 is_stmt 0 view .LVU800
 2550 0102 4022     		movs	r2, #64
 2551 0104 83F89120 		strb	r2, [r3, #145]
 680:Lib/soes/src/esc_coe.c ****          ESCvar.flags = COMPLETE_ACCESS_FLAG;
 2552              		.loc 1 680 10 is_stmt 1 view .LVU801
 680:Lib/soes/src/esc_coe.c ****          ESCvar.flags = COMPLETE_ACCESS_FLAG;
 2553              		.loc 1 680 22 is_stmt 0 view .LVU802
 2554 0108 03F1EA02 		add	r2, r3, #234
 2555 010c C3F89420 		str	r2, [r3, #148]
 681:Lib/soes/src/esc_coe.c ****       }
 2556              		.loc 1 681 10 is_stmt 1 view .LVU803
 681:Lib/soes/src/esc_coe.c ****       }
 2557              		.loc 1 681 23 is_stmt 0 view .LVU804
 2558 0110 4FF40042 		mov	r2, #32768
 2559 0114 A3F8A820 		strh	r2, [r3, #168]	@ movhi
 2560              	.L157:
 684:Lib/soes/src/esc_coe.c ****       memcpy((&(coeres->size)) + 1, ESCvar.mbxdata, size);
 2561              		.loc 1 684 7 is_stmt 1 view .LVU805
 684:Lib/soes/src/esc_coe.c ****       memcpy((&(coeres->size)) + 1, ESCvar.mbxdata, size);
 2562              		.loc 1 684 34 is_stmt 0 view .LVU806
 2563 0118 029A     		ldr	r2, [sp, #8]
 2564 011a 02F10A03 		add	r3, r2, #10
 684:Lib/soes/src/esc_coe.c ****       memcpy((&(coeres->size)) + 1, ESCvar.mbxdata, size);
 2565              		.loc 1 684 32 view .LVU807
 2566 011e 2BF80830 		strh	r3, [fp, r8]	@ movhi
 685:Lib/soes/src/esc_coe.c ****    }
 2567              		.loc 1 685 7 is_stmt 1 view .LVU808
 2568 0122 3549     		ldr	r1, .L169+8
 2569 0124 09F11000 		add	r0, r9, #16
 2570 0128 FFF7FEFF 		bl	memcpy
ARM GAS  /tmp/ccpX7xVZ.s 			page 88


 2571              	.LVL234:
 2572              	.L156:
 688:Lib/soes/src/esc_coe.c ****    {
 2573              		.loc 1 688 4 view .LVU809
 688:Lib/soes/src/esc_coe.c ****    {
 2574              		.loc 1 688 14 is_stmt 0 view .LVU810
 2575 012c 334B     		ldr	r3, .L169+12
 2576 012e 93F89130 		ldrb	r3, [r3, #145]	@ zero_extendqisi2
 688:Lib/soes/src/esc_coe.c ****    {
 2577              		.loc 1 688 7 view .LVU811
 2578 0132 5BB9     		cbnz	r3, .L158
 690:Lib/soes/src/esc_coe.c ****             objd->flags | COMPLETE_ACCESS_FLAG);
 2579              		.loc 1 690 7 is_stmt 1 view .LVU812
 691:Lib/soes/src/esc_coe.c **** 
 2580              		.loc 1 691 17 is_stmt 0 view .LVU813
 2581 0134 EA88     		ldrh	r2, [r5, #6]
 690:Lib/soes/src/esc_coe.c ****             objd->flags | COMPLETE_ACCESS_FLAG);
 2582              		.loc 1 690 19 view .LVU814
 2583 0136 42F40042 		orr	r2, r2, #32768
 2584 013a 9DF81510 		ldrb	r1, [sp, #21]	@ zero_extendqisi2
 2585 013e BDF81600 		ldrh	r0, [sp, #22]
 2586 0142 FFF7FEFF 		bl	ESC_upload_post_objecthandler
 2587              	.LVL235:
 693:Lib/soes/src/esc_coe.c ****       {
 2588              		.loc 1 693 7 is_stmt 1 view .LVU815
 693:Lib/soes/src/esc_coe.c ****       {
 2589              		.loc 1 693 10 is_stmt 0 view .LVU816
 2590 0146 0346     		mov	r3, r0
 2591 0148 0028     		cmp	r0, #0
 2592 014a 48D1     		bne	.L168
 2593              	.LVL236:
 2594              	.L158:
 700:Lib/soes/src/esc_coe.c **** 
 2595              		.loc 1 700 4 is_stmt 1 view .LVU817
 700:Lib/soes/src/esc_coe.c **** 
 2596              		.loc 1 700 29 is_stmt 0 view .LVU818
 2597 014c 2C4B     		ldr	r3, .L169+16
 2598 014e 0322     		movs	r2, #3
 2599 0150 9A55     		strb	r2, [r3, r6]
 702:Lib/soes/src/esc_coe.c **** }
 2600              		.loc 1 702 4 is_stmt 1 view .LVU819
 2601 0152 0023     		movs	r3, #0
 2602 0154 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2603 0158 BDF81610 		ldrh	r1, [sp, #22]
 2604 015c 3046     		mov	r0, r6
 2605 015e FFF7FEFF 		bl	set_state_idle
 2606              	.LVL237:
 2607 0162 07E0     		b	.L147
 2608              	.LVL238:
 2609              	.L162:
 702:Lib/soes/src/esc_coe.c **** }
 2610              		.loc 1 702 4 is_stmt 0 view .LVU820
 2611 0164 0346     		mov	r3, r0
 602:Lib/soes/src/esc_coe.c ****       return;
 2612              		.loc 1 602 7 is_stmt 1 view .LVU821
 2613 0166 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2614 016a BDF81610 		ldrh	r1, [sp, #22]
ARM GAS  /tmp/ccpX7xVZ.s 			page 89


 2615 016e 0020     		movs	r0, #0
 2616              	.LVL239:
 602:Lib/soes/src/esc_coe.c ****       return;
 2617              		.loc 1 602 7 is_stmt 0 view .LVU822
 2618 0170 FFF7FEFF 		bl	set_state_idle
 2619              	.LVL240:
 603:Lib/soes/src/esc_coe.c ****    }
 2620              		.loc 1 603 7 is_stmt 1 view .LVU823
 2621              	.L147:
 703:Lib/soes/src/esc_coe.c **** 
 2622              		.loc 1 703 1 is_stmt 0 view .LVU824
 2623 0174 07B0     		add	sp, sp, #28
 2624              		.cfi_remember_state
 2625              		.cfi_def_cfa_offset 36
 2626              		@ sp needed
 2627 0176 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2628              	.LVL241:
 2629              	.L163:
 2630              		.cfi_restore_state
 612:Lib/soes/src/esc_coe.c ****       return;
 2631              		.loc 1 612 7 is_stmt 1 view .LVU825
 2632 017a 0023     		movs	r3, #0
 2633 017c 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2634 0180 BDF81610 		ldrh	r1, [sp, #22]
 2635 0184 1846     		mov	r0, r3
 2636              	.LVL242:
 612:Lib/soes/src/esc_coe.c ****       return;
 2637              		.loc 1 612 7 is_stmt 0 view .LVU826
 2638 0186 FFF7FEFF 		bl	set_state_idle
 2639              	.LVL243:
 613:Lib/soes/src/esc_coe.c ****    }
 2640              		.loc 1 613 7 is_stmt 1 view .LVU827
 2641 018a F3E7     		b	.L147
 2642              	.LVL244:
 2643              	.L160:
 622:Lib/soes/src/esc_coe.c **** 
 2644              		.loc 1 622 12 is_stmt 0 view .LVU828
 2645 018c 0024     		movs	r4, #0
 2646 018e 66E7     		b	.L151
 2647              	.LVL245:
 2648              	.L164:
 630:Lib/soes/src/esc_coe.c ****       return;
 2649              		.loc 1 630 7 is_stmt 1 view .LVU829
 2650 0190 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2651 0194 BDF81610 		ldrh	r1, [sp, #22]
 2652 0198 3046     		mov	r0, r6
 2653 019a FFF7FEFF 		bl	set_state_idle
 2654              	.LVL246:
 631:Lib/soes/src/esc_coe.c ****    }
 2655              		.loc 1 631 7 view .LVU830
 2656 019e E9E7     		b	.L147
 2657              	.L165:
 637:Lib/soes/src/esc_coe.c ****       return;
 2658              		.loc 1 637 7 view .LVU831
 2659 01a0 184B     		ldr	r3, .L169+20
 2660 01a2 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2661 01a6 BDF81610 		ldrh	r1, [sp, #22]
ARM GAS  /tmp/ccpX7xVZ.s 			page 90


 2662 01aa 3046     		mov	r0, r6
 2663 01ac FFF7FEFF 		bl	set_state_idle
 2664              	.LVL247:
 638:Lib/soes/src/esc_coe.c ****    }
 2665              		.loc 1 638 7 view .LVU832
 2666 01b0 E0E7     		b	.L147
 2667              	.LVL248:
 2668              	.L166:
 644:Lib/soes/src/esc_coe.c ****       return;
 2669              		.loc 1 644 7 view .LVU833
 2670 01b2 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2671 01b6 BDF81610 		ldrh	r1, [sp, #22]
 2672 01ba 3046     		mov	r0, r6
 2673              	.LVL249:
 644:Lib/soes/src/esc_coe.c ****       return;
 2674              		.loc 1 644 7 is_stmt 0 view .LVU834
 2675 01bc FFF7FEFF 		bl	set_state_idle
 2676              	.LVL250:
 645:Lib/soes/src/esc_coe.c ****    }
 2677              		.loc 1 645 7 is_stmt 1 view .LVU835
 2678 01c0 D8E7     		b	.L147
 2679              	.LVL251:
 2680              	.L167:
 661:Lib/soes/src/esc_coe.c ****       memcpy(&(coeres->size), ESCvar.mbxdata, size);
 2681              		.loc 1 661 7 view .LVU836
 661:Lib/soes/src/esc_coe.c ****       memcpy(&(coeres->size), ESCvar.mbxdata, size);
 2682              		.loc 1 661 23 is_stmt 0 view .LVU837
 2683 01c2 99F80830 		ldrb	r3, [r9, #8]	@ zero_extendqisi2
 2684 01c6 1C43     		orrs	r4, r4, r3
 2685              	.LVL252:
 661:Lib/soes/src/esc_coe.c ****       memcpy(&(coeres->size), ESCvar.mbxdata, size);
 2686              		.loc 1 661 23 view .LVU838
 2687 01c8 44F00204 		orr	r4, r4, #2
 2688 01cc 89F80840 		strb	r4, [r9, #8]
 662:Lib/soes/src/esc_coe.c ****    }
 2689              		.loc 1 662 7 is_stmt 1 view .LVU839
 2690 01d0 07F1EA01 		add	r1, r7, #234
 2691 01d4 09F10C00 		add	r0, r9, #12
 2692 01d8 FFF7FEFF 		bl	memcpy
 2693              	.LVL253:
 2694 01dc A6E7     		b	.L156
 2695              	.LVL254:
 2696              	.L168:
 695:Lib/soes/src/esc_coe.c ****          return;
 2697              		.loc 1 695 10 view .LVU840
 2698 01de 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2699 01e2 BDF81610 		ldrh	r1, [sp, #22]
 2700 01e6 3046     		mov	r0, r6
 2701              	.LVL255:
 695:Lib/soes/src/esc_coe.c ****          return;
 2702              		.loc 1 695 10 is_stmt 0 view .LVU841
 2703 01e8 FFF7FEFF 		bl	set_state_idle
 2704              	.LVL256:
 696:Lib/soes/src/esc_coe.c ****       }
 2705              		.loc 1 696 10 is_stmt 1 view .LVU842
 2706 01ec C2E7     		b	.L147
 2707              	.L170:
ARM GAS  /tmp/ccpX7xVZ.s 			page 91


 2708 01ee 00BF     		.align	2
 2709              	.L169:
 2710 01f0 00000000 		.word	MBX
 2711 01f4 00000000 		.word	SDOobjects
 2712 01f8 EA000000 		.word	ESCvar+234
 2713 01fc 00000000 		.word	ESCvar
 2714 0200 00000000 		.word	MBXcontrol
 2715 0204 04000106 		.word	100728836
 2716              		.cfi_endproc
 2717              	.LFE10:
 2719              		.section	.text.SDO_download_complete_access,"ax",%progbits
 2720              		.align	1
 2721              		.syntax unified
 2722              		.thumb
 2723              		.thumb_func
 2725              	SDO_download_complete_access:
 2726              	.LFB13:
 922:Lib/soes/src/esc_coe.c ****    _COEsdo *coesdo = (_COEsdo *) &MBX[0];
 2727              		.loc 1 922 1 view -0
 2728              		.cfi_startproc
 2729              		@ args = 0, pretend = 0, frame = 16
 2730              		@ frame_needed = 0, uses_anonymous_args = 0
 2731 0000 70B5     		push	{r4, r5, r6, lr}
 2732              		.cfi_def_cfa_offset 16
 2733              		.cfi_offset 4, -16
 2734              		.cfi_offset 5, -12
 2735              		.cfi_offset 6, -8
 2736              		.cfi_offset 14, -4
 2737 0002 86B0     		sub	sp, sp, #24
 2738              		.cfi_def_cfa_offset 40
 923:Lib/soes/src/esc_coe.c ****    uint16_t index;
 2739              		.loc 1 923 4 view .LVU844
 2740              	.LVL257:
 924:Lib/soes/src/esc_coe.c ****    uint8_t subindex;
 2741              		.loc 1 924 4 view .LVU845
 925:Lib/soes/src/esc_coe.c ****    int32_t nidx;
 2742              		.loc 1 925 4 view .LVU846
 926:Lib/soes/src/esc_coe.c ****    int16_t nsub;
 2743              		.loc 1 926 4 view .LVU847
 927:Lib/soes/src/esc_coe.c ****    uint32_t abortcode = complete_access_get_variables
 2744              		.loc 1 927 4 view .LVU848
 928:Lib/soes/src/esc_coe.c ****                            (coesdo, &index, &subindex, &nidx, &nsub);
 2745              		.loc 1 928 4 view .LVU849
 928:Lib/soes/src/esc_coe.c ****                            (coesdo, &index, &subindex, &nidx, &nsub);
 2746              		.loc 1 928 25 is_stmt 0 view .LVU850
 2747 0004 0DF10E03 		add	r3, sp, #14
 2748 0008 0093     		str	r3, [sp]
 2749 000a 04AB     		add	r3, sp, #16
 2750 000c 0DF11502 		add	r2, sp, #21
 2751 0010 0DF11601 		add	r1, sp, #22
 2752 0014 6948     		ldr	r0, .L190
 2753 0016 FFF7FEFF 		bl	complete_access_get_variables
 2754              	.LVL258:
 930:Lib/soes/src/esc_coe.c ****    {
 2755              		.loc 1 930 4 is_stmt 1 view .LVU851
 930:Lib/soes/src/esc_coe.c ****    {
 2756              		.loc 1 930 7 is_stmt 0 view .LVU852
ARM GAS  /tmp/ccpX7xVZ.s 			page 92


 2757 001a 0028     		cmp	r0, #0
 2758 001c 66D1     		bne	.L185
 936:Lib/soes/src/esc_coe.c ****    uint32_t *mbxdata = &(coesdo->size);
 2759              		.loc 1 936 4 is_stmt 1 view .LVU853
 937:Lib/soes/src/esc_coe.c **** 
 2760              		.loc 1 937 4 view .LVU854
 2761              	.LVL259:
 939:Lib/soes/src/esc_coe.c ****    {
 2762              		.loc 1 939 4 view .LVU855
 939:Lib/soes/src/esc_coe.c ****    {
 2763              		.loc 1 939 14 is_stmt 0 view .LVU856
 2764 001e 674B     		ldr	r3, .L190
 2765 0020 1C7A     		ldrb	r4, [r3, #8]	@ zero_extendqisi2
 939:Lib/soes/src/esc_coe.c ****    {
 2766              		.loc 1 939 7 view .LVU857
 2767 0022 14F0020F 		tst	r4, #2
 2768 0026 6AD0     		beq	.L174
 942:Lib/soes/src/esc_coe.c ****    }
 2769              		.loc 1 942 7 is_stmt 1 view .LVU858
 942:Lib/soes/src/esc_coe.c ****    }
 2770              		.loc 1 942 47 is_stmt 0 view .LVU859
 2771 0028 C4F38104 		ubfx	r4, r4, #2, #2
 942:Lib/soes/src/esc_coe.c ****    }
 2772              		.loc 1 942 13 view .LVU860
 2773 002c C4F10404 		rsb	r4, r4, #4
 2774              	.LVL260:
 937:Lib/soes/src/esc_coe.c **** 
 2775              		.loc 1 937 14 view .LVU861
 2776 0030 03F10C05 		add	r5, r3, #12
 2777              	.LVL261:
 2778              	.L175:
 951:Lib/soes/src/esc_coe.c **** 
 2779              		.loc 1 951 4 is_stmt 1 view .LVU862
 951:Lib/soes/src/esc_coe.c **** 
 2780              		.loc 1 951 40 is_stmt 0 view .LVU863
 2781 0034 0499     		ldr	r1, [sp, #16]
 951:Lib/soes/src/esc_coe.c **** 
 2782              		.loc 1 951 17 view .LVU864
 2783 0036 624B     		ldr	r3, .L190+4
 2784 0038 03EB0113 		add	r3, r3, r1, lsl #4
 2785 003c DE68     		ldr	r6, [r3, #12]
 2786              	.LVL262:
 954:Lib/soes/src/esc_coe.c ****    size = BITS2BYTES(size);
 2787              		.loc 1 954 4 is_stmt 1 view .LVU865
 954:Lib/soes/src/esc_coe.c ****    size = BITS2BYTES(size);
 2788              		.loc 1 954 20 is_stmt 0 view .LVU866
 2789 003e 0023     		movs	r3, #0
 2790 0040 0193     		str	r3, [sp, #4]
 2791 0042 0122     		movs	r2, #1
 2792 0044 0092     		str	r2, [sp]
 2793 0046 BDF90E20 		ldrsh	r2, [sp, #14]
 2794 004a 3046     		mov	r0, r6
 2795              	.LVL263:
 954:Lib/soes/src/esc_coe.c ****    size = BITS2BYTES(size);
 2796              		.loc 1 954 20 view .LVU867
 2797 004c FFF7FEFF 		bl	complete_access_subindex_loop
 2798              	.LVL264:
ARM GAS  /tmp/ccpX7xVZ.s 			page 93


 955:Lib/soes/src/esc_coe.c ****    if (size > 0xffff)
 2799              		.loc 1 955 4 is_stmt 1 view .LVU868
 955:Lib/soes/src/esc_coe.c ****    if (size > 0xffff)
 2800              		.loc 1 955 11 is_stmt 0 view .LVU869
 2801 0050 0730     		adds	r0, r0, #7
 2802              	.LVL265:
 955:Lib/soes/src/esc_coe.c ****    if (size > 0xffff)
 2803              		.loc 1 955 9 view .LVU870
 2804 0052 C308     		lsrs	r3, r0, #3
 2805              	.LVL266:
 956:Lib/soes/src/esc_coe.c ****    {
 2806              		.loc 1 956 4 is_stmt 1 view .LVU871
 956:Lib/soes/src/esc_coe.c ****    {
 2807              		.loc 1 956 7 is_stmt 0 view .LVU872
 2808 0054 B0F5002F 		cmp	r0, #524288
 2809 0058 56D2     		bcs	.L186
 968:Lib/soes/src/esc_coe.c ****    {
 2810              		.loc 1 968 9 is_stmt 1 view .LVU873
 968:Lib/soes/src/esc_coe.c ****    {
 2811              		.loc 1 968 12 is_stmt 0 view .LVU874
 2812 005a 9C42     		cmp	r4, r3
 2813 005c 00F28F80 		bhi	.L177
 970:Lib/soes/src/esc_coe.c ****             size, objd->flags | COMPLETE_ACCESS_FLAG);
 2814              		.loc 1 970 7 is_stmt 1 view .LVU875
 971:Lib/soes/src/esc_coe.c ****       if (abortcode != 0)
 2815              		.loc 1 971 23 is_stmt 0 view .LVU876
 2816 0060 F288     		ldrh	r2, [r6, #6]
 970:Lib/soes/src/esc_coe.c ****             size, objd->flags | COMPLETE_ACCESS_FLAG);
 2817              		.loc 1 970 19 view .LVU877
 2818 0062 42F40042 		orr	r2, r2, #32768
 2819 0066 0092     		str	r2, [sp]
 2820 0068 2A46     		mov	r2, r5
 2821 006a 9DF81510 		ldrb	r1, [sp, #21]	@ zero_extendqisi2
 2822 006e BDF81600 		ldrh	r0, [sp, #22]
 2823 0072 FFF7FEFF 		bl	ESC_download_pre_objecthandler
 2824              	.LVL267:
 972:Lib/soes/src/esc_coe.c ****       {
 2825              		.loc 1 972 7 is_stmt 1 view .LVU878
 972:Lib/soes/src/esc_coe.c ****       {
 2826              		.loc 1 972 10 is_stmt 0 view .LVU879
 2827 0076 0346     		mov	r3, r0
 2828 0078 0028     		cmp	r0, #0
 2829 007a 4DD1     		bne	.L187
 978:Lib/soes/src/esc_coe.c ****       {
 2830              		.loc 1 978 7 is_stmt 1 view .LVU880
 978:Lib/soes/src/esc_coe.c ****       {
 2831              		.loc 1 978 18 is_stmt 0 view .LVU881
 2832 007c 04F10A03 		add	r3, r4, #10
 978:Lib/soes/src/esc_coe.c ****       {
 2833              		.loc 1 978 38 view .LVU882
 2834 0080 504A     		ldr	r2, .L190+8
 2835 0082 D26E     		ldr	r2, [r2, #108]
 2836 0084 911F     		subs	r1, r2, #6
 978:Lib/soes/src/esc_coe.c ****       {
 2837              		.loc 1 978 10 view .LVU883
 2838 0086 8B42     		cmp	r3, r1
 2839 0088 57D9     		bls	.L179
ARM GAS  /tmp/ccpX7xVZ.s 			page 94


 981:Lib/soes/src/esc_coe.c ****          {
 2840              		.loc 1 981 10 is_stmt 1 view .LVU884
 981:Lib/soes/src/esc_coe.c ****          {
 2841              		.loc 1 981 21 is_stmt 0 view .LVU885
 2842 008a 04F11E03 		add	r3, r4, #30
 981:Lib/soes/src/esc_coe.c ****          {
 2843              		.loc 1 981 13 view .LVU886
 2844 008e B3F5C06F 		cmp	r3, #1536
 2845 0092 49D8     		bhi	.L188
 987:Lib/soes/src/esc_coe.c ****          /* limit to mailbox size */
 2846              		.loc 1 987 10 is_stmt 1 view .LVU887
 987:Lib/soes/src/esc_coe.c ****          /* limit to mailbox size */
 2847              		.loc 1 987 23 is_stmt 0 view .LVU888
 2848 0094 4B4B     		ldr	r3, .L190+8
 2849 0096 C3F89C40 		str	r4, [r3, #156]
 989:Lib/soes/src/esc_coe.c ****          /* number of bytes done */
 2850              		.loc 1 989 10 is_stmt 1 view .LVU889
 989:Lib/soes/src/esc_coe.c ****          /* number of bytes done */
 2851              		.loc 1 989 15 is_stmt 0 view .LVU890
 2852 009a 103A     		subs	r2, r2, #16
 2853              	.LVL268:
 991:Lib/soes/src/esc_coe.c ****          ESCvar.segmented = MBXSED;
 2854              		.loc 1 991 10 is_stmt 1 view .LVU891
 991:Lib/soes/src/esc_coe.c ****          ESCvar.segmented = MBXSED;
 2855              		.loc 1 991 27 is_stmt 0 view .LVU892
 2856 009c C3F8A020 		str	r2, [r3, #160]
 992:Lib/soes/src/esc_coe.c ****          ESCvar.data = ESCvar.mbxdata + size;
 2857              		.loc 1 992 10 is_stmt 1 view .LVU893
 992:Lib/soes/src/esc_coe.c ****          ESCvar.data = ESCvar.mbxdata + size;
 2858              		.loc 1 992 27 is_stmt 0 view .LVU894
 2859 00a0 5021     		movs	r1, #80
 2860 00a2 83F89110 		strb	r1, [r3, #145]
 993:Lib/soes/src/esc_coe.c ****          ESCvar.index = index;
 2861              		.loc 1 993 10 is_stmt 1 view .LVU895
 993:Lib/soes/src/esc_coe.c ****          ESCvar.index = index;
 2862              		.loc 1 993 39 is_stmt 0 view .LVU896
 2863 00a6 03F1EA01 		add	r1, r3, #234
 2864 00aa 5018     		adds	r0, r2, r1
 2865              	.LVL269:
 993:Lib/soes/src/esc_coe.c ****          ESCvar.index = index;
 2866              		.loc 1 993 22 view .LVU897
 2867 00ac C3F89400 		str	r0, [r3, #148]
 994:Lib/soes/src/esc_coe.c ****          ESCvar.subindex = subindex;
 2868              		.loc 1 994 10 is_stmt 1 view .LVU898
 994:Lib/soes/src/esc_coe.c ****          ESCvar.subindex = subindex;
 2869              		.loc 1 994 23 is_stmt 0 view .LVU899
 2870 00b0 BDF81600 		ldrh	r0, [sp, #22]
 2871 00b4 A3F8A400 		strh	r0, [r3, #164]	@ movhi
 995:Lib/soes/src/esc_coe.c ****          ESCvar.flags = COMPLETE_ACCESS_FLAG;
 2872              		.loc 1 995 10 is_stmt 1 view .LVU900
 995:Lib/soes/src/esc_coe.c ****          ESCvar.flags = COMPLETE_ACCESS_FLAG;
 2873              		.loc 1 995 26 is_stmt 0 view .LVU901
 2874 00b8 9DF81500 		ldrb	r0, [sp, #21]	@ zero_extendqisi2
 2875 00bc 83F8A600 		strb	r0, [r3, #166]
 996:Lib/soes/src/esc_coe.c ****          /* Store the data */
 2876              		.loc 1 996 10 is_stmt 1 view .LVU902
 996:Lib/soes/src/esc_coe.c ****          /* Store the data */
ARM GAS  /tmp/ccpX7xVZ.s 			page 95


 2877              		.loc 1 996 23 is_stmt 0 view .LVU903
 2878 00c0 4FF40040 		mov	r0, #32768
 2879 00c4 A3F8A800 		strh	r0, [r3, #168]	@ movhi
 998:Lib/soes/src/esc_coe.c ****       }
 2880              		.loc 1 998 10 is_stmt 1 view .LVU904
 2881 00c8 2846     		mov	r0, r5
 2882 00ca FFF7FEFF 		bl	copy2mbx
 2883              	.LVL270:
 2884              	.L181:
1021:Lib/soes/src/esc_coe.c ****    if (MBXout > 0)
 2885              		.loc 1 1021 4 view .LVU905
1021:Lib/soes/src/esc_coe.c ****    if (MBXout > 0)
 2886              		.loc 1 1021 21 is_stmt 0 view .LVU906
 2887 00ce FFF7FEFF 		bl	ESC_claimbuffer
 2888              	.LVL271:
1022:Lib/soes/src/esc_coe.c ****    {
 2889              		.loc 1 1022 4 is_stmt 1 view .LVU907
1022:Lib/soes/src/esc_coe.c ****    {
 2890              		.loc 1 1022 7 is_stmt 0 view .LVU908
 2891 00d2 0446     		mov	r4, r0
 2892              	.LVL272:
1022:Lib/soes/src/esc_coe.c ****    {
 2893              		.loc 1 1022 7 view .LVU909
 2894 00d4 0028     		cmp	r0, #0
 2895 00d6 5BD1     		bne	.L189
 2896              	.LVL273:
 2897              	.L182:
1033:Lib/soes/src/esc_coe.c **** }
 2898              		.loc 1 1033 4 is_stmt 1 view .LVU910
 2899 00d8 0023     		movs	r3, #0
 2900 00da 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2901 00de BDF81610 		ldrh	r1, [sp, #22]
 2902 00e2 2046     		mov	r0, r4
 2903 00e4 FFF7FEFF 		bl	set_state_idle
 2904              	.LVL274:
 2905              	.L171:
1034:Lib/soes/src/esc_coe.c **** 
 2906              		.loc 1 1034 1 is_stmt 0 view .LVU911
 2907 00e8 06B0     		add	sp, sp, #24
 2908              		.cfi_remember_state
 2909              		.cfi_def_cfa_offset 16
 2910              		@ sp needed
 2911 00ea 70BD     		pop	{r4, r5, r6, pc}
 2912              	.LVL275:
 2913              	.L185:
 2914              		.cfi_restore_state
1034:Lib/soes/src/esc_coe.c **** 
 2915              		.loc 1 1034 1 view .LVU912
 2916 00ec 0346     		mov	r3, r0
 932:Lib/soes/src/esc_coe.c ****       return;
 2917              		.loc 1 932 7 is_stmt 1 view .LVU913
 2918 00ee 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2919 00f2 BDF81610 		ldrh	r1, [sp, #22]
 2920 00f6 0020     		movs	r0, #0
 2921              	.LVL276:
 932:Lib/soes/src/esc_coe.c ****       return;
 2922              		.loc 1 932 7 is_stmt 0 view .LVU914
ARM GAS  /tmp/ccpX7xVZ.s 			page 96


 2923 00f8 FFF7FEFF 		bl	set_state_idle
 2924              	.LVL277:
 933:Lib/soes/src/esc_coe.c ****    }
 2925              		.loc 1 933 7 is_stmt 1 view .LVU915
 2926 00fc F4E7     		b	.L171
 2927              	.LVL278:
 2928              	.L174:
 947:Lib/soes/src/esc_coe.c ****       mbxdata++;
 2929              		.loc 1 947 7 view .LVU916
 947:Lib/soes/src/esc_coe.c ****       mbxdata++;
 2930              		.loc 1 947 16 is_stmt 0 view .LVU917
 2931 00fe 2F4D     		ldr	r5, .L190
 2932 0100 EC68     		ldr	r4, [r5, #12]	@ unaligned
 947:Lib/soes/src/esc_coe.c ****       mbxdata++;
 2933              		.loc 1 947 13 view .LVU918
 2934 0102 A4B2     		uxth	r4, r4
 2935              	.LVL279:
 948:Lib/soes/src/esc_coe.c ****    }
 2936              		.loc 1 948 7 is_stmt 1 view .LVU919
 948:Lib/soes/src/esc_coe.c ****    }
 2937              		.loc 1 948 14 is_stmt 0 view .LVU920
 2938 0104 1035     		adds	r5, r5, #16
 2939 0106 95E7     		b	.L175
 2940              	.LVL280:
 2941              	.L186:
 959:Lib/soes/src/esc_coe.c ****       return;
 2942              		.loc 1 959 7 is_stmt 1 view .LVU921
 2943 0108 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2944 010c BDF81610 		ldrh	r1, [sp, #22]
 2945 0110 0020     		movs	r0, #0
 2946 0112 FFF7FEFF 		bl	set_state_idle
 2947              	.LVL281:
 960:Lib/soes/src/esc_coe.c ****    }
 2948              		.loc 1 960 7 view .LVU922
 2949 0116 E7E7     		b	.L171
 2950              	.LVL282:
 2951              	.L187:
 974:Lib/soes/src/esc_coe.c ****          return;
 2952              		.loc 1 974 10 view .LVU923
 2953 0118 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2954 011c BDF81610 		ldrh	r1, [sp, #22]
 2955 0120 0020     		movs	r0, #0
 2956              	.LVL283:
 974:Lib/soes/src/esc_coe.c ****          return;
 2957              		.loc 1 974 10 is_stmt 0 view .LVU924
 2958 0122 FFF7FEFF 		bl	set_state_idle
 2959              	.LVL284:
 975:Lib/soes/src/esc_coe.c ****       }
 2960              		.loc 1 975 10 is_stmt 1 view .LVU925
 2961 0126 DFE7     		b	.L171
 2962              	.LVL285:
 2963              	.L188:
 983:Lib/soes/src/esc_coe.c ****              return;
 2964              		.loc 1 983 14 view .LVU926
 2965 0128 274B     		ldr	r3, .L190+12
 2966 012a 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 2967 012e BDF81610 		ldrh	r1, [sp, #22]
ARM GAS  /tmp/ccpX7xVZ.s 			page 97


 2968 0132 0020     		movs	r0, #0
 2969              	.LVL286:
 983:Lib/soes/src/esc_coe.c ****              return;
 2970              		.loc 1 983 14 is_stmt 0 view .LVU927
 2971 0134 FFF7FEFF 		bl	set_state_idle
 2972              	.LVL287:
 984:Lib/soes/src/esc_coe.c ****          }
 2973              		.loc 1 984 14 is_stmt 1 view .LVU928
 2974 0138 D6E7     		b	.L171
 2975              	.LVL288:
 2976              	.L179:
1002:Lib/soes/src/esc_coe.c ****          /* copy download data to subindexes */
 2977              		.loc 1 1002 10 view .LVU929
1002:Lib/soes/src/esc_coe.c ****          /* copy download data to subindexes */
 2978              		.loc 1 1002 27 is_stmt 0 view .LVU930
 2979 013a 224B     		ldr	r3, .L190+8
 2980 013c 0022     		movs	r2, #0
 2981 013e 83F89120 		strb	r2, [r3, #145]
1004:Lib/soes/src/esc_coe.c **** 
 2982              		.loc 1 1004 10 is_stmt 1 view .LVU931
 2983 0142 0194     		str	r4, [sp, #4]
 2984 0144 0123     		movs	r3, #1
 2985 0146 0093     		str	r3, [sp]
 2986 0148 2B46     		mov	r3, r5
 2987 014a BDF90E20 		ldrsh	r2, [sp, #14]
 2988 014e 0499     		ldr	r1, [sp, #16]
 2989 0150 3046     		mov	r0, r6
 2990              	.LVL289:
1004:Lib/soes/src/esc_coe.c **** 
 2991              		.loc 1 1004 10 is_stmt 0 view .LVU932
 2992 0152 FFF7FEFF 		bl	complete_access_subindex_loop
 2993              	.LVL290:
1006:Lib/soes/src/esc_coe.c ****                objd->flags | COMPLETE_ACCESS_FLAG);
 2994              		.loc 1 1006 10 is_stmt 1 view .LVU933
1007:Lib/soes/src/esc_coe.c ****          if (abortcode != 0)
 2995              		.loc 1 1007 20 is_stmt 0 view .LVU934
 2996 0156 F288     		ldrh	r2, [r6, #6]
1006:Lib/soes/src/esc_coe.c ****                objd->flags | COMPLETE_ACCESS_FLAG);
 2997              		.loc 1 1006 22 view .LVU935
 2998 0158 42F40042 		orr	r2, r2, #32768
 2999 015c 9DF81510 		ldrb	r1, [sp, #21]	@ zero_extendqisi2
 3000 0160 BDF81600 		ldrh	r0, [sp, #22]
 3001 0164 FFF7FEFF 		bl	ESC_download_post_objecthandler
 3002              	.LVL291:
1008:Lib/soes/src/esc_coe.c ****          {
 3003              		.loc 1 1008 10 is_stmt 1 view .LVU936
1008:Lib/soes/src/esc_coe.c ****          {
 3004              		.loc 1 1008 13 is_stmt 0 view .LVU937
 3005 0168 0346     		mov	r3, r0
 3006 016a 0028     		cmp	r0, #0
 3007 016c AFD0     		beq	.L181
1010:Lib/soes/src/esc_coe.c ****             return;
 3008              		.loc 1 1010 13 is_stmt 1 view .LVU938
 3009 016e 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 3010 0172 BDF81610 		ldrh	r1, [sp, #22]
 3011 0176 0020     		movs	r0, #0
 3012              	.LVL292:
ARM GAS  /tmp/ccpX7xVZ.s 			page 98


1010:Lib/soes/src/esc_coe.c ****             return;
 3013              		.loc 1 1010 13 is_stmt 0 view .LVU939
 3014 0178 FFF7FEFF 		bl	set_state_idle
 3015              	.LVL293:
1011:Lib/soes/src/esc_coe.c ****          }
 3016              		.loc 1 1011 13 is_stmt 1 view .LVU940
 3017 017c B4E7     		b	.L171
 3018              	.LVL294:
 3019              	.L177:
1017:Lib/soes/src/esc_coe.c ****       return;
 3020              		.loc 1 1017 7 view .LVU941
 3021 017e 134B     		ldr	r3, .L190+16
 3022              	.LVL295:
1017:Lib/soes/src/esc_coe.c ****       return;
 3023              		.loc 1 1017 7 is_stmt 0 view .LVU942
 3024 0180 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 3025 0184 BDF81610 		ldrh	r1, [sp, #22]
 3026 0188 0020     		movs	r0, #0
 3027              	.LVL296:
1017:Lib/soes/src/esc_coe.c ****       return;
 3028              		.loc 1 1017 7 view .LVU943
 3029 018a FFF7FEFF 		bl	set_state_idle
 3030              	.LVL297:
1018:Lib/soes/src/esc_coe.c ****    }
 3031              		.loc 1 1018 7 is_stmt 1 view .LVU944
 3032 018e ABE7     		b	.L171
 3033              	.LVL298:
 3034              	.L189:
 3035              	.LBB8:
1024:Lib/soes/src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE,
 3036              		.loc 1 1024 7 view .LVU945
1024:Lib/soes/src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE,
 3037              		.loc 1 1024 51 is_stmt 0 view .LVU946
 3038 0190 0C4B     		ldr	r3, .L190+8
 3039 0192 DB6E     		ldr	r3, [r3, #108]
1024:Lib/soes/src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE,
 3040              		.loc 1 1024 16 view .LVU947
 3041 0194 094D     		ldr	r5, .L190
 3042              	.LVL299:
1024:Lib/soes/src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE,
 3043              		.loc 1 1024 16 view .LVU948
 3044 0196 03FB0055 		mla	r5, r3, r0, r5
 3045              	.LVL300:
1025:Lib/soes/src/esc_coe.c ****                   COE_COMMAND_DOWNLOADRESPONSE | COE_COMPLETEACCESS,
 3046              		.loc 1 1025 7 is_stmt 1 view .LVU949
 3047 019a 9DF81530 		ldrb	r3, [sp, #21]	@ zero_extendqisi2
 3048 019e 0093     		str	r3, [sp]
 3049 01a0 BDF81630 		ldrh	r3, [sp, #22]
 3050 01a4 7022     		movs	r2, #112
 3051 01a6 0321     		movs	r1, #3
 3052 01a8 2846     		mov	r0, r5
 3053              	.LVL301:
1025:Lib/soes/src/esc_coe.c ****                   COE_COMMAND_DOWNLOADRESPONSE | COE_COMPLETEACCESS,
 3054              		.loc 1 1025 7 is_stmt 0 view .LVU950
 3055 01aa FFF7FEFF 		bl	init_coesdo
 3056              	.LVL302:
1029:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
ARM GAS  /tmp/ccpX7xVZ.s 			page 99


 3057              		.loc 1 1029 7 is_stmt 1 view .LVU951
1029:Lib/soes/src/esc_coe.c ****       MBXcontrol[MBXout].state = MBXstate_outreq;
 3058              		.loc 1 1029 20 is_stmt 0 view .LVU952
 3059 01ae 0023     		movs	r3, #0
 3060 01b0 EB60     		str	r3, [r5, #12]
1030:Lib/soes/src/esc_coe.c ****    }
 3061              		.loc 1 1030 7 is_stmt 1 view .LVU953
1030:Lib/soes/src/esc_coe.c ****    }
 3062              		.loc 1 1030 32 is_stmt 0 view .LVU954
 3063 01b2 074B     		ldr	r3, .L190+20
 3064 01b4 0322     		movs	r2, #3
 3065 01b6 1A55     		strb	r2, [r3, r4]
 3066 01b8 8EE7     		b	.L182
 3067              	.L191:
 3068 01ba 00BF     		.align	2
 3069              	.L190:
 3070 01bc 00000000 		.word	MBX
 3071 01c0 00000000 		.word	SDOobjects
 3072 01c4 00000000 		.word	ESCvar
 3073 01c8 04000106 		.word	100728836
 3074 01cc 10000706 		.word	101122064
 3075 01d0 00000000 		.word	MBXcontrol
 3076              	.LBE8:
 3077              		.cfi_endproc
 3078              	.LFE13:
 3080              		.section	.text.SDO_upload,"ax",%progbits
 3081              		.align	1
 3082              		.syntax unified
 3083              		.thumb
 3084              		.thumb_func
 3086              	SDO_upload:
 3087              	.LFB6:
 300:Lib/soes/src/esc_coe.c ****    _COEsdo *coesdo, *coeres;
 3088              		.loc 1 300 1 is_stmt 1 view -0
 3089              		.cfi_startproc
 3090              		@ args = 0, pretend = 0, frame = 8
 3091              		@ frame_needed = 0, uses_anonymous_args = 0
 3092 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 3093              		.cfi_def_cfa_offset 36
 3094              		.cfi_offset 4, -36
 3095              		.cfi_offset 5, -32
 3096              		.cfi_offset 6, -28
 3097              		.cfi_offset 7, -24
 3098              		.cfi_offset 8, -20
 3099              		.cfi_offset 9, -16
 3100              		.cfi_offset 10, -12
 3101              		.cfi_offset 11, -8
 3102              		.cfi_offset 14, -4
 3103 0004 85B0     		sub	sp, sp, #20
 3104              		.cfi_def_cfa_offset 56
 301:Lib/soes/src/esc_coe.c ****    uint16_t index;
 3105              		.loc 1 301 4 view .LVU956
 302:Lib/soes/src/esc_coe.c ****    uint8_t subindex;
 3106              		.loc 1 302 4 view .LVU957
 303:Lib/soes/src/esc_coe.c ****    int32_t nidx;
 3107              		.loc 1 303 4 view .LVU958
 304:Lib/soes/src/esc_coe.c ****    int16_t nsub;
ARM GAS  /tmp/ccpX7xVZ.s 			page 100


 3108              		.loc 1 304 4 view .LVU959
 305:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
 3109              		.loc 1 305 4 view .LVU960
 306:Lib/soes/src/esc_coe.c ****    uint32_t size;
 3110              		.loc 1 306 4 view .LVU961
 307:Lib/soes/src/esc_coe.c ****    uint8_t dss;
 3111              		.loc 1 307 4 view .LVU962
 308:Lib/soes/src/esc_coe.c ****    uint32_t abort = 1;
 3112              		.loc 1 308 4 view .LVU963
 309:Lib/soes/src/esc_coe.c ****    const _objd *objd;
 3113              		.loc 1 309 4 view .LVU964
 3114              	.LVL303:
 310:Lib/soes/src/esc_coe.c ****    coesdo = (_COEsdo *) &MBX[0];
 3115              		.loc 1 310 4 view .LVU965
 311:Lib/soes/src/esc_coe.c ****    index = etohs (coesdo->index);
 3116              		.loc 1 311 4 view .LVU966
 312:Lib/soes/src/esc_coe.c ****    subindex = coesdo->subindex;
 3117              		.loc 1 312 4 view .LVU967
 312:Lib/soes/src/esc_coe.c ****    subindex = coesdo->subindex;
 3118              		.loc 1 312 10 is_stmt 0 view .LVU968
 3119 0006 7C4B     		ldr	r3, .L221
 3120 0008 B3F80960 		ldrh	r6, [r3, #9]	@ unaligned
 3121 000c B5B2     		uxth	r5, r6
 3122              	.LVL304:
 313:Lib/soes/src/esc_coe.c ****    nidx = SDO_findobject (index);
 3123              		.loc 1 313 4 is_stmt 1 view .LVU969
 313:Lib/soes/src/esc_coe.c ****    nidx = SDO_findobject (index);
 3124              		.loc 1 313 13 is_stmt 0 view .LVU970
 3125 000e DF7A     		ldrb	r7, [r3, #11]	@ zero_extendqisi2
 3126              	.LVL305:
 314:Lib/soes/src/esc_coe.c ****    if (nidx >= 0)
 3127              		.loc 1 314 4 is_stmt 1 view .LVU971
 314:Lib/soes/src/esc_coe.c ****    if (nidx >= 0)
 3128              		.loc 1 314 11 is_stmt 0 view .LVU972
 3129 0010 2846     		mov	r0, r5
 3130 0012 FFF7FEFF 		bl	SDO_findobject
 3131              	.LVL306:
 315:Lib/soes/src/esc_coe.c ****    {
 3132              		.loc 1 315 4 is_stmt 1 view .LVU973
 315:Lib/soes/src/esc_coe.c ****    {
 3133              		.loc 1 315 7 is_stmt 0 view .LVU974
 3134 0016 041E     		subs	r4, r0, #0
 3135 0018 C0F2DE80 		blt	.L193
 317:Lib/soes/src/esc_coe.c ****       if (nsub >= 0)
 3136              		.loc 1 317 7 is_stmt 1 view .LVU975
 317:Lib/soes/src/esc_coe.c ****       if (nsub >= 0)
 3137              		.loc 1 317 14 is_stmt 0 view .LVU976
 3138 001c 3946     		mov	r1, r7
 3139 001e 2046     		mov	r0, r4
 317:Lib/soes/src/esc_coe.c ****       if (nsub >= 0)
 3140              		.loc 1 317 14 view .LVU977
 3141 0020 FFF7FEFF 		bl	SDO_findsubindex
 3142              	.LVL307:
 318:Lib/soes/src/esc_coe.c ****       {
 3143              		.loc 1 318 7 is_stmt 1 view .LVU978
 318:Lib/soes/src/esc_coe.c ****       {
 3144              		.loc 1 318 10 is_stmt 0 view .LVU979
ARM GAS  /tmp/ccpX7xVZ.s 			page 101


 3145 0024 0028     		cmp	r0, #0
 3146              	.LVL308:
 318:Lib/soes/src/esc_coe.c ****       {
 3147              		.loc 1 318 10 view .LVU980
 3148 0026 C0F2D080 		blt	.L194
 3149              	.LBB9:
 320:Lib/soes/src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 3150              		.loc 1 320 10 is_stmt 1 view .LVU981
 320:Lib/soes/src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 3151              		.loc 1 320 15 is_stmt 0 view .LVU982
 3152 002a 744B     		ldr	r3, .L221+4
 3153 002c 03EB0414 		add	r4, r3, r4, lsl #4
 3154              	.LVL309:
 320:Lib/soes/src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 3155              		.loc 1 320 15 view .LVU983
 3156 0030 E468     		ldr	r4, [r4, #12]
 3157              	.LVL310:
 321:Lib/soes/src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3158              		.loc 1 321 10 is_stmt 1 view .LVU984
 321:Lib/soes/src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3159              		.loc 1 321 33 is_stmt 0 view .LVU985
 3160 0032 00EB8000 		add	r0, r0, r0, lsl #2
 3161 0036 04EB8004 		add	r4, r4, r0, lsl #2
 3162              	.LVL311:
 321:Lib/soes/src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3163              		.loc 1 321 48 view .LVU986
 3164 003a A279     		ldrb	r2, [r4, #6]	@ zero_extendqisi2
 3165              	.LVL312:
 322:Lib/soes/src/esc_coe.c ****          if (!READ_ACCESS(access, state))
 3166              		.loc 1 322 10 is_stmt 1 view .LVU987
 322:Lib/soes/src/esc_coe.c ****          if (!READ_ACCESS(access, state))
 3167              		.loc 1 322 42 is_stmt 0 view .LVU988
 3168 003c 704B     		ldr	r3, .L221+8
 3169 003e 93F88030 		ldrb	r3, [r3, #128]	@ zero_extendqisi2
 322:Lib/soes/src/esc_coe.c ****          if (!READ_ACCESS(access, state))
 3170              		.loc 1 322 18 view .LVU989
 3171 0042 03F00F03 		and	r3, r3, #15
 3172              	.LVL313:
 323:Lib/soes/src/esc_coe.c ****          {
 3173              		.loc 1 323 10 is_stmt 1 view .LVU990
 323:Lib/soes/src/esc_coe.c ****          {
 3174              		.loc 1 323 13 is_stmt 0 view .LVU991
 3175 0046 12F0010F 		tst	r2, #1
 3176 004a 01D0     		beq	.L195
 323:Lib/soes/src/esc_coe.c ****          {
 3177              		.loc 1 323 15 discriminator 2 view .LVU992
 3178 004c 022B     		cmp	r3, #2
 3179 004e 10D0     		beq	.L196
 3180              	.L195:
 323:Lib/soes/src/esc_coe.c ****          {
 3181              		.loc 1 323 15 discriminator 3 view .LVU993
 3182 0050 12F0020F 		tst	r2, #2
 3183 0054 01D0     		beq	.L197
 323:Lib/soes/src/esc_coe.c ****          {
 3184              		.loc 1 323 15 discriminator 5 view .LVU994
 3185 0056 042B     		cmp	r3, #4
 3186 0058 0BD0     		beq	.L196
ARM GAS  /tmp/ccpX7xVZ.s 			page 102


 3187              	.L197:
 323:Lib/soes/src/esc_coe.c ****          {
 3188              		.loc 1 323 14 discriminator 6 view .LVU995
 3189 005a 12F0040F 		tst	r2, #4
 3190 005e 01D0     		beq	.L198
 323:Lib/soes/src/esc_coe.c ****          {
 3191              		.loc 1 323 15 discriminator 7 view .LVU996
 3192 0060 082B     		cmp	r3, #8
 3193 0062 06D0     		beq	.L196
 3194              	.L198:
 325:Lib/soes/src/esc_coe.c ****             return;
 3195              		.loc 1 325 13 is_stmt 1 view .LVU997
 3196 0064 674B     		ldr	r3, .L221+12
 3197              	.LVL314:
 325:Lib/soes/src/esc_coe.c ****             return;
 3198              		.loc 1 325 13 is_stmt 0 view .LVU998
 3199 0066 3A46     		mov	r2, r7
 3200              	.LVL315:
 325:Lib/soes/src/esc_coe.c ****             return;
 3201              		.loc 1 325 13 view .LVU999
 3202 0068 2946     		mov	r1, r5
 3203 006a 0020     		movs	r0, #0
 3204 006c FFF7FEFF 		bl	set_state_idle
 3205              	.LVL316:
 326:Lib/soes/src/esc_coe.c ****          }
 3206              		.loc 1 326 13 is_stmt 1 view .LVU1000
 3207 0070 BEE0     		b	.L192
 3208              	.LVL317:
 3209              	.L196:
 328:Lib/soes/src/esc_coe.c ****          if (MBXout)
 3210              		.loc 1 328 10 view .LVU1001
 328:Lib/soes/src/esc_coe.c ****          if (MBXout)
 3211              		.loc 1 328 19 is_stmt 0 view .LVU1002
 3212 0072 FFF7FEFF 		bl	ESC_claimbuffer
 3213              	.LVL318:
 329:Lib/soes/src/esc_coe.c ****          {
 3214              		.loc 1 329 10 is_stmt 1 view .LVU1003
 329:Lib/soes/src/esc_coe.c ****          {
 3215              		.loc 1 329 13 is_stmt 0 view .LVU1004
 3216 0076 8246     		mov	r10, r0
 3217 0078 0028     		cmp	r0, #0
 3218 007a 00F0B380 		beq	.L200
 331:Lib/soes/src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 3219              		.loc 1 331 13 is_stmt 1 view .LVU1005
 331:Lib/soes/src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 3220              		.loc 1 331 48 is_stmt 0 view .LVU1006
 3221 007e 604B     		ldr	r3, .L221+8
 3222 0080 DB6E     		ldr	r3, [r3, #108]
 331:Lib/soes/src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 3223              		.loc 1 331 46 view .LVU1007
 3224 0082 03FB00F9 		mul	r9, r3, r0
 331:Lib/soes/src/esc_coe.c ****             coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 3225              		.loc 1 331 20 view .LVU1008
 3226 0086 DFF870B1 		ldr	fp, .L221
 3227 008a 09EB0B08 		add	r8, r9, fp
 3228              	.LVL319:
 332:Lib/soes/src/esc_coe.c ****             coeres->mbxheader.mbxtype = MBXCOE;
ARM GAS  /tmp/ccpX7xVZ.s 			page 103


 3229              		.loc 1 332 13 is_stmt 1 view .LVU1009
 332:Lib/soes/src/esc_coe.c ****             coeres->mbxheader.mbxtype = MBXCOE;
 3230              		.loc 1 332 38 is_stmt 0 view .LVU1010
 3231 008e 0A23     		movs	r3, #10
 3232 0090 29F80B30 		strh	r3, [r9, fp]	@ movhi
 333:Lib/soes/src/esc_coe.c ****             coeres->coeheader.numberservice =
 3233              		.loc 1 333 13 is_stmt 1 view .LVU1011
 333:Lib/soes/src/esc_coe.c ****             coeres->coeheader.numberservice =
 3234              		.loc 1 333 39 is_stmt 0 view .LVU1012
 3235 0094 98F80530 		ldrb	r3, [r8, #5]	@ zero_extendqisi2
 3236 0098 0322     		movs	r2, #3
 3237 009a 62F30303 		bfi	r3, r2, #0, #4
 3238 009e 88F80530 		strb	r3, [r8, #5]
 334:Lib/soes/src/esc_coe.c ****                htoes ((0 & 0x01f) | (COE_SDORESPONSE << 12));
 3239              		.loc 1 334 13 is_stmt 1 view .LVU1013
 334:Lib/soes/src/esc_coe.c ****                htoes ((0 & 0x01f) | (COE_SDORESPONSE << 12));
 3240              		.loc 1 334 45 is_stmt 0 view .LVU1014
 3241 00a2 4FF44053 		mov	r3, #12288
 3242 00a6 A8F80630 		strh	r3, [r8, #6]	@ movhi
 336:Lib/soes/src/esc_coe.c ****             /* expedited bits used calculation */
 3243              		.loc 1 336 13 is_stmt 1 view .LVU1015
 336:Lib/soes/src/esc_coe.c ****             /* expedited bits used calculation */
 3244              		.loc 1 336 33 is_stmt 0 view .LVU1016
 3245 00aa A388     		ldrh	r3, [r4, #4]
 336:Lib/soes/src/esc_coe.c ****             /* expedited bits used calculation */
 3246              		.loc 1 336 18 view .LVU1017
 3247 00ac 0393     		str	r3, [sp, #12]
 338:Lib/soes/src/esc_coe.c ****             if (size > 8)
 3248              		.loc 1 338 13 is_stmt 1 view .LVU1018
 3249              	.LVL320:
 339:Lib/soes/src/esc_coe.c ****             {
 3250              		.loc 1 339 13 view .LVU1019
 339:Lib/soes/src/esc_coe.c ****             {
 3251              		.loc 1 339 16 is_stmt 0 view .LVU1020
 3252 00ae 082B     		cmp	r3, #8
 3253 00b0 33D8     		bhi	.L214
 338:Lib/soes/src/esc_coe.c ****             if (size > 8)
 3254              		.loc 1 338 17 view .LVU1021
 3255 00b2 0C22     		movs	r2, #12
 3256              	.L201:
 3257              	.LVL321:
 343:Lib/soes/src/esc_coe.c ****             {
 3258              		.loc 1 343 13 is_stmt 1 view .LVU1022
 343:Lib/soes/src/esc_coe.c ****             {
 3259              		.loc 1 343 16 is_stmt 0 view .LVU1023
 3260 00b4 102B     		cmp	r3, #16
 3261 00b6 00D9     		bls	.L202
 345:Lib/soes/src/esc_coe.c ****             }
 3262              		.loc 1 345 20 view .LVU1024
 3263 00b8 0422     		movs	r2, #4
 3264              	.LVL322:
 3265              	.L202:
 347:Lib/soes/src/esc_coe.c ****             {
 3266              		.loc 1 347 13 is_stmt 1 view .LVU1025
 347:Lib/soes/src/esc_coe.c ****             {
 3267              		.loc 1 347 16 is_stmt 0 view .LVU1026
 3268 00ba 182B     		cmp	r3, #24
ARM GAS  /tmp/ccpX7xVZ.s 			page 104


 3269 00bc 00D9     		bls	.L203
 349:Lib/soes/src/esc_coe.c ****             }
 3270              		.loc 1 349 20 view .LVU1027
 3271 00be 0022     		movs	r2, #0
 3272              	.LVL323:
 3273              	.L203:
 351:Lib/soes/src/esc_coe.c ****             coeres->subindex = subindex;
 3274              		.loc 1 351 13 is_stmt 1 view .LVU1028
 351:Lib/soes/src/esc_coe.c ****             coeres->subindex = subindex;
 3275              		.loc 1 351 27 is_stmt 0 view .LVU1029
 3276 00c0 A8F80960 		strh	r6, [r8, #9]	@ unaligned
 352:Lib/soes/src/esc_coe.c ****             coeres->command = COE_COMMAND_UPLOADRESPONSE |
 3277              		.loc 1 352 13 is_stmt 1 view .LVU1030
 352:Lib/soes/src/esc_coe.c ****             coeres->command = COE_COMMAND_UPLOADRESPONSE |
 3278              		.loc 1 352 30 is_stmt 0 view .LVU1031
 3279 00c4 88F80B70 		strb	r7, [r8, #11]
 353:Lib/soes/src/esc_coe.c ****                COE_SIZE_INDICATOR;
 3280              		.loc 1 353 13 is_stmt 1 view .LVU1032
 353:Lib/soes/src/esc_coe.c ****                COE_SIZE_INDICATOR;
 3281              		.loc 1 353 29 is_stmt 0 view .LVU1033
 3282 00c8 4121     		movs	r1, #65
 3283 00ca 88F80810 		strb	r1, [r8, #8]
 356:Lib/soes/src/esc_coe.c ****             if (size <= 4)
 3284              		.loc 1 356 13 is_stmt 1 view .LVU1034
 356:Lib/soes/src/esc_coe.c ****             if (size <= 4)
 3285              		.loc 1 356 20 is_stmt 0 view .LVU1035
 3286 00ce 0733     		adds	r3, r3, #7
 3287 00d0 DB08     		lsrs	r3, r3, #3
 356:Lib/soes/src/esc_coe.c ****             if (size <= 4)
 3288              		.loc 1 356 18 view .LVU1036
 3289 00d2 0393     		str	r3, [sp, #12]
 357:Lib/soes/src/esc_coe.c ****             {
 3290              		.loc 1 357 13 is_stmt 1 view .LVU1037
 357:Lib/soes/src/esc_coe.c ****             {
 3291              		.loc 1 357 16 is_stmt 0 view .LVU1038
 3292 00d4 042B     		cmp	r3, #4
 3293 00d6 30D8     		bhi	.L204
 3294              	.LBB10:
 360:Lib/soes/src/esc_coe.c ****                void *dataptr = ((objd + nsub)->data) ?
 3295              		.loc 1 360 16 is_stmt 1 view .LVU1039
 360:Lib/soes/src/esc_coe.c ****                void *dataptr = ((objd + nsub)->data) ?
 3296              		.loc 1 360 32 is_stmt 0 view .LVU1040
 3297 00d8 42F04302 		orr	r2, r2, #67
 3298              	.LVL324:
 360:Lib/soes/src/esc_coe.c ****                void *dataptr = ((objd + nsub)->data) ?
 3299              		.loc 1 360 32 view .LVU1041
 3300 00dc 88F80820 		strb	r2, [r8, #8]
 361:Lib/soes/src/esc_coe.c ****                      (objd + nsub)->data : (void *)&((objd + nsub)->value);
 3301              		.loc 1 361 16 is_stmt 1 view .LVU1042
 361:Lib/soes/src/esc_coe.c ****                      (objd + nsub)->data : (void *)&((objd + nsub)->value);
 3302              		.loc 1 361 46 is_stmt 0 view .LVU1043
 3303 00e0 2269     		ldr	r2, [r4, #16]
 362:Lib/soes/src/esc_coe.c ****                abort = ESC_upload_pre_objecthandler (index, subindex,
 3304              		.loc 1 362 42 view .LVU1044
 3305 00e2 E2B1     		cbz	r2, .L218
 3306              	.L205:
 3307              	.LVL325:
ARM GAS  /tmp/ccpX7xVZ.s 			page 105


 363:Lib/soes/src/esc_coe.c ****                      dataptr, (size_t *)&size, (objd + nsub)->flags);
 3308              		.loc 1 363 16 is_stmt 1 view .LVU1045
 363:Lib/soes/src/esc_coe.c ****                      dataptr, (size_t *)&size, (objd + nsub)->flags);
 3309              		.loc 1 363 24 is_stmt 0 view .LVU1046
 3310 00e4 E388     		ldrh	r3, [r4, #6]
 3311 00e6 0093     		str	r3, [sp]
 3312 00e8 03AB     		add	r3, sp, #12
 3313 00ea 3946     		mov	r1, r7
 3314 00ec 2846     		mov	r0, r5
 3315              	.LVL326:
 363:Lib/soes/src/esc_coe.c ****                      dataptr, (size_t *)&size, (objd + nsub)->flags);
 3316              		.loc 1 363 24 view .LVU1047
 3317 00ee FFF7FEFF 		bl	ESC_upload_pre_objecthandler
 3318              	.LVL327:
 365:Lib/soes/src/esc_coe.c ****                {
 3319              		.loc 1 365 16 is_stmt 1 view .LVU1048
 365:Lib/soes/src/esc_coe.c ****                {
 3320              		.loc 1 365 19 is_stmt 0 view .LVU1049
 3321 00f2 0646     		mov	r6, r0
 3322              	.LVL328:
 365:Lib/soes/src/esc_coe.c ****                {
 3323              		.loc 1 365 19 view .LVU1050
 3324 00f4 D0B9     		cbnz	r0, .L206
 367:Lib/soes/src/esc_coe.c ****                   {
 3325              		.loc 1 367 19 is_stmt 1 view .LVU1051
 367:Lib/soes/src/esc_coe.c ****                   {
 3326              		.loc 1 367 36 is_stmt 0 view .LVU1052
 3327 00f6 2069     		ldr	r0, [r4, #16]
 3328              	.LVL329:
 367:Lib/soes/src/esc_coe.c ****                   {
 3329              		.loc 1 367 22 view .LVU1053
 3330 00f8 A0B1     		cbz	r0, .L219
 375:Lib/soes/src/esc_coe.c ****                   }
 3331              		.loc 1 375 22 is_stmt 1 view .LVU1054
 3332 00fa 039A     		ldr	r2, [sp, #12]
 3333 00fc 08F10C01 		add	r1, r8, #12
 3334 0100 FFF7FEFF 		bl	copy2mbx
 3335              	.LVL330:
 3336              	.L208:
 375:Lib/soes/src/esc_coe.c ****                   }
 3337              		.loc 1 375 22 is_stmt 0 view .LVU1055
 3338              	.LBE10:
 421:Lib/soes/src/esc_coe.c ****             {
 3339              		.loc 1 421 13 is_stmt 1 view .LVU1056
 421:Lib/soes/src/esc_coe.c ****             {
 3340              		.loc 1 421 16 is_stmt 0 view .LVU1057
 3341 0104 26B9     		cbnz	r6, .L212
 421:Lib/soes/src/esc_coe.c ****             {
 3342              		.loc 1 421 40 discriminator 1 view .LVU1058
 3343 0106 3E4B     		ldr	r3, .L221+8
 3344 0108 93F89130 		ldrb	r3, [r3, #145]	@ zero_extendqisi2
 421:Lib/soes/src/esc_coe.c ****             {
 3345              		.loc 1 421 30 discriminator 1 view .LVU1059
 3346 010c 002B     		cmp	r3, #0
 3347 010e 4ED0     		beq	.L220
 3348              	.LVL331:
 3349              	.L212:
ARM GAS  /tmp/ccpX7xVZ.s 			page 106


 431:Lib/soes/src/esc_coe.c ****          }
 3350              		.loc 1 431 13 is_stmt 1 view .LVU1060
 431:Lib/soes/src/esc_coe.c ****          }
 3351              		.loc 1 431 38 is_stmt 0 view .LVU1061
 3352 0110 3D4B     		ldr	r3, .L221+16
 3353 0112 0322     		movs	r2, #3
 3354 0114 03F80A20 		strb	r2, [r3, r10]
 3355 0118 64E0     		b	.L200
 3356              	.LVL332:
 3357              	.L214:
 341:Lib/soes/src/esc_coe.c ****             }
 3358              		.loc 1 341 20 view .LVU1062
 3359 011a 0822     		movs	r2, #8
 3360 011c CAE7     		b	.L201
 3361              	.LVL333:
 3362              	.L218:
 3363              	.LBB11:
 362:Lib/soes/src/esc_coe.c ****                abort = ESC_upload_pre_objecthandler (index, subindex,
 3364              		.loc 1 362 42 discriminator 2 view .LVU1063
 3365 011e 04F10C02 		add	r2, r4, #12
 3366 0122 DFE7     		b	.L205
 3367              	.LVL334:
 3368              	.L219:
 370:Lib/soes/src/esc_coe.c ****                   }
 3369              		.loc 1 370 22 is_stmt 1 view .LVU1064
 370:Lib/soes/src/esc_coe.c ****                   }
 3370              		.loc 1 370 37 is_stmt 0 view .LVU1065
 3371 0124 E368     		ldr	r3, [r4, #12]
 370:Lib/soes/src/esc_coe.c ****                   }
 3372              		.loc 1 370 35 view .LVU1066
 3373 0126 C8F80C30 		str	r3, [r8, #12]
 3374 012a EBE7     		b	.L208
 3375              	.LVL335:
 3376              	.L206:
 380:Lib/soes/src/esc_coe.c ****                   return;
 3377              		.loc 1 380 19 is_stmt 1 view .LVU1067
 3378 012c 0346     		mov	r3, r0
 3379 012e 3A46     		mov	r2, r7
 3380 0130 2946     		mov	r1, r5
 3381 0132 5046     		mov	r0, r10
 3382              	.LVL336:
 380:Lib/soes/src/esc_coe.c ****                   return;
 3383              		.loc 1 380 19 is_stmt 0 view .LVU1068
 3384 0134 FFF7FEFF 		bl	set_state_idle
 3385              	.LVL337:
 381:Lib/soes/src/esc_coe.c ****                }
 3386              		.loc 1 381 19 is_stmt 1 view .LVU1069
 3387 0138 5AE0     		b	.L192
 3388              	.LVL338:
 3389              	.L204:
 381:Lib/soes/src/esc_coe.c ****                }
 3390              		.loc 1 381 19 is_stmt 0 view .LVU1070
 3391              	.LBE11:
 387:Lib/soes/src/esc_coe.c ****                      (objd + nsub)->data, (size_t *)&size, (objd + nsub)->flags);
 3392              		.loc 1 387 16 is_stmt 1 view .LVU1071
 387:Lib/soes/src/esc_coe.c ****                      (objd + nsub)->data, (size_t *)&size, (objd + nsub)->flags);
 3393              		.loc 1 387 24 is_stmt 0 view .LVU1072
ARM GAS  /tmp/ccpX7xVZ.s 			page 107


 3394 013a 2269     		ldr	r2, [r4, #16]
 3395              	.LVL339:
 387:Lib/soes/src/esc_coe.c ****                      (objd + nsub)->data, (size_t *)&size, (objd + nsub)->flags);
 3396              		.loc 1 387 24 view .LVU1073
 3397 013c E388     		ldrh	r3, [r4, #6]
 3398 013e 0093     		str	r3, [sp]
 3399 0140 03AB     		add	r3, sp, #12
 3400 0142 3946     		mov	r1, r7
 3401 0144 2846     		mov	r0, r5
 3402              	.LVL340:
 387:Lib/soes/src/esc_coe.c ****                      (objd + nsub)->data, (size_t *)&size, (objd + nsub)->flags);
 3403              		.loc 1 387 24 view .LVU1074
 3404 0146 FFF7FEFF 		bl	ESC_upload_pre_objecthandler
 3405              	.LVL341:
 389:Lib/soes/src/esc_coe.c ****                {
 3406              		.loc 1 389 16 is_stmt 1 view .LVU1075
 389:Lib/soes/src/esc_coe.c ****                {
 3407              		.loc 1 389 19 is_stmt 0 view .LVU1076
 3408 014a 0646     		mov	r6, r0
 3409              	.LVL342:
 389:Lib/soes/src/esc_coe.c ****                {
 3410              		.loc 1 389 19 view .LVU1077
 3411 014c 40BB     		cbnz	r0, .L209
 392:Lib/soes/src/esc_coe.c ****                   coeres->size = htoel (size);
 3412              		.loc 1 392 19 is_stmt 1 view .LVU1078
 392:Lib/soes/src/esc_coe.c ****                   coeres->size = htoel (size);
 3413              		.loc 1 392 32 is_stmt 0 view .LVU1079
 3414 014e 039B     		ldr	r3, [sp, #12]
 3415 0150 2B4A     		ldr	r2, .L221+8
 3416 0152 C2F89C30 		str	r3, [r2, #156]
 393:Lib/soes/src/esc_coe.c ****                   if ((size + COE_HEADERSIZE) > ESC_MBXDSIZE)
 3417              		.loc 1 393 19 is_stmt 1 view .LVU1080
 393:Lib/soes/src/esc_coe.c ****                   if ((size + COE_HEADERSIZE) > ESC_MBXDSIZE)
 3418              		.loc 1 393 32 is_stmt 0 view .LVU1081
 3419 0156 C8F80C30 		str	r3, [r8, #12]
 394:Lib/soes/src/esc_coe.c ****                   {
 3420              		.loc 1 394 19 is_stmt 1 view .LVU1082
 394:Lib/soes/src/esc_coe.c ****                   {
 3421              		.loc 1 394 29 is_stmt 0 view .LVU1083
 3422 015a 0A33     		adds	r3, r3, #10
 394:Lib/soes/src/esc_coe.c ****                   {
 3423              		.loc 1 394 49 view .LVU1084
 3424 015c D26E     		ldr	r2, [r2, #108]
 3425 015e 911F     		subs	r1, r2, #6
 394:Lib/soes/src/esc_coe.c ****                   {
 3426              		.loc 1 394 22 view .LVU1085
 3427 0160 8B42     		cmp	r3, r1
 3428 0162 18D9     		bls	.L210
 398:Lib/soes/src/esc_coe.c ****                      /* number of bytes done */
 3429              		.loc 1 398 22 is_stmt 1 view .LVU1086
 398:Lib/soes/src/esc_coe.c ****                      /* number of bytes done */
 3430              		.loc 1 398 42 is_stmt 0 view .LVU1087
 3431 0164 103A     		subs	r2, r2, #16
 398:Lib/soes/src/esc_coe.c ****                      /* number of bytes done */
 3432              		.loc 1 398 27 view .LVU1088
 3433 0166 0392     		str	r2, [sp, #12]
 400:Lib/soes/src/esc_coe.c ****                      /* signal segmented transfer */
ARM GAS  /tmp/ccpX7xVZ.s 			page 108


 3434              		.loc 1 400 22 is_stmt 1 view .LVU1089
 400:Lib/soes/src/esc_coe.c ****                      /* signal segmented transfer */
 3435              		.loc 1 400 39 is_stmt 0 view .LVU1090
 3436 0168 254B     		ldr	r3, .L221+8
 3437 016a C3F8A020 		str	r2, [r3, #160]
 402:Lib/soes/src/esc_coe.c ****                      ESCvar.data = (objd + nsub)->data;
 3438              		.loc 1 402 22 is_stmt 1 view .LVU1091
 402:Lib/soes/src/esc_coe.c ****                      ESCvar.data = (objd + nsub)->data;
 3439              		.loc 1 402 39 is_stmt 0 view .LVU1092
 3440 016e 4022     		movs	r2, #64
 3441 0170 83F89120 		strb	r2, [r3, #145]
 403:Lib/soes/src/esc_coe.c ****                      ESCvar.flags = (objd + nsub)->flags;
 3442              		.loc 1 403 22 is_stmt 1 view .LVU1093
 403:Lib/soes/src/esc_coe.c ****                      ESCvar.flags = (objd + nsub)->flags;
 3443              		.loc 1 403 49 is_stmt 0 view .LVU1094
 3444 0174 2269     		ldr	r2, [r4, #16]
 403:Lib/soes/src/esc_coe.c ****                      ESCvar.flags = (objd + nsub)->flags;
 3445              		.loc 1 403 34 view .LVU1095
 3446 0176 C3F89420 		str	r2, [r3, #148]
 404:Lib/soes/src/esc_coe.c ****                   }
 3447              		.loc 1 404 22 is_stmt 1 view .LVU1096
 404:Lib/soes/src/esc_coe.c ****                   }
 3448              		.loc 1 404 50 is_stmt 0 view .LVU1097
 3449 017a E288     		ldrh	r2, [r4, #6]
 404:Lib/soes/src/esc_coe.c ****                   }
 3450              		.loc 1 404 35 view .LVU1098
 3451 017c A3F8A820 		strh	r2, [r3, #168]	@ movhi
 3452              	.L211:
 410:Lib/soes/src/esc_coe.c **** 
 3453              		.loc 1 410 19 is_stmt 1 view .LVU1099
 410:Lib/soes/src/esc_coe.c **** 
 3454              		.loc 1 410 46 is_stmt 0 view .LVU1100
 3455 0180 039A     		ldr	r2, [sp, #12]
 3456 0182 02F10A03 		add	r3, r2, #10
 410:Lib/soes/src/esc_coe.c **** 
 3457              		.loc 1 410 44 view .LVU1101
 3458 0186 2BF80930 		strh	r3, [fp, r9]	@ movhi
 413:Lib/soes/src/esc_coe.c ****                }
 3459              		.loc 1 413 19 is_stmt 1 view .LVU1102
 3460 018a 08F11001 		add	r1, r8, #16
 3461 018e 2069     		ldr	r0, [r4, #16]
 3462              	.LVL343:
 413:Lib/soes/src/esc_coe.c ****                }
 3463              		.loc 1 413 19 is_stmt 0 view .LVU1103
 3464 0190 FFF7FEFF 		bl	copy2mbx
 3465              	.LVL344:
 3466 0194 B6E7     		b	.L208
 3467              	.LVL345:
 3468              	.L210:
 408:Lib/soes/src/esc_coe.c ****                   }
 3469              		.loc 1 408 22 is_stmt 1 view .LVU1104
 408:Lib/soes/src/esc_coe.c ****                   }
 3470              		.loc 1 408 39 is_stmt 0 view .LVU1105
 3471 0196 1A4B     		ldr	r3, .L221+8
 3472 0198 0022     		movs	r2, #0
 3473 019a 83F89120 		strb	r2, [r3, #145]
 3474 019e EFE7     		b	.L211
ARM GAS  /tmp/ccpX7xVZ.s 			page 109


 3475              	.L209:
 417:Lib/soes/src/esc_coe.c ****                   return;
 3476              		.loc 1 417 19 is_stmt 1 view .LVU1106
 3477 01a0 0346     		mov	r3, r0
 3478 01a2 3A46     		mov	r2, r7
 3479 01a4 2946     		mov	r1, r5
 3480 01a6 5046     		mov	r0, r10
 3481              	.LVL346:
 417:Lib/soes/src/esc_coe.c ****                   return;
 3482              		.loc 1 417 19 is_stmt 0 view .LVU1107
 3483 01a8 FFF7FEFF 		bl	set_state_idle
 3484              	.LVL347:
 418:Lib/soes/src/esc_coe.c ****                }
 3485              		.loc 1 418 19 is_stmt 1 view .LVU1108
 3486 01ac 20E0     		b	.L192
 3487              	.L220:
 423:Lib/soes/src/esc_coe.c ****                                                       (objd + nsub)->flags);
 3488              		.loc 1 423 16 view .LVU1109
 423:Lib/soes/src/esc_coe.c ****                                                       (objd + nsub)->flags);
 3489              		.loc 1 423 24 is_stmt 0 view .LVU1110
 3490 01ae E288     		ldrh	r2, [r4, #6]
 3491 01b0 3946     		mov	r1, r7
 3492 01b2 2846     		mov	r0, r5
 3493 01b4 FFF7FEFF 		bl	ESC_upload_post_objecthandler
 3494              	.LVL348:
 425:Lib/soes/src/esc_coe.c ****                {
 3495              		.loc 1 425 16 is_stmt 1 view .LVU1111
 425:Lib/soes/src/esc_coe.c ****                {
 3496              		.loc 1 425 19 is_stmt 0 view .LVU1112
 3497 01b8 0346     		mov	r3, r0
 3498 01ba 0028     		cmp	r0, #0
 3499 01bc A8D0     		beq	.L212
 427:Lib/soes/src/esc_coe.c ****                   return;
 3500              		.loc 1 427 19 is_stmt 1 view .LVU1113
 3501 01be 3A46     		mov	r2, r7
 3502 01c0 2946     		mov	r1, r5
 3503 01c2 5046     		mov	r0, r10
 3504              	.LVL349:
 427:Lib/soes/src/esc_coe.c ****                   return;
 3505              		.loc 1 427 19 is_stmt 0 view .LVU1114
 3506 01c4 FFF7FEFF 		bl	set_state_idle
 3507              	.LVL350:
 428:Lib/soes/src/esc_coe.c ****                }
 3508              		.loc 1 428 19 is_stmt 1 view .LVU1115
 3509 01c8 12E0     		b	.L192
 3510              	.LVL351:
 3511              	.L194:
 428:Lib/soes/src/esc_coe.c ****                }
 3512              		.loc 1 428 19 is_stmt 0 view .LVU1116
 3513              	.LBE9:
 436:Lib/soes/src/esc_coe.c ****       }
 3514              		.loc 1 436 10 is_stmt 1 view .LVU1117
 3515 01ca 104B     		ldr	r3, .L221+20
 3516 01cc 3A46     		mov	r2, r7
 3517 01ce 2946     		mov	r1, r5
 3518 01d0 0020     		movs	r0, #0
 3519 01d2 FFF7FEFF 		bl	SDO_abort
ARM GAS  /tmp/ccpX7xVZ.s 			page 110


 3520              	.LVL352:
 3521 01d6 05E0     		b	.L200
 3522              	.LVL353:
 3523              	.L193:
 441:Lib/soes/src/esc_coe.c ****    }
 3524              		.loc 1 441 7 view .LVU1118
 3525 01d8 0D4B     		ldr	r3, .L221+24
 3526 01da 3A46     		mov	r2, r7
 3527 01dc 2946     		mov	r1, r5
 3528 01de 0020     		movs	r0, #0
 3529              	.LVL354:
 441:Lib/soes/src/esc_coe.c ****    }
 3530              		.loc 1 441 7 is_stmt 0 view .LVU1119
 3531 01e0 FFF7FEFF 		bl	SDO_abort
 3532              	.LVL355:
 3533              	.L200:
 443:Lib/soes/src/esc_coe.c ****    ESCvar.xoe = 0;
 3534              		.loc 1 443 4 is_stmt 1 discriminator 3 view .LVU1120
 443:Lib/soes/src/esc_coe.c ****    ESCvar.xoe = 0;
 3535              		.loc 1 443 24 is_stmt 0 discriminator 3 view .LVU1121
 3536 01e4 0023     		movs	r3, #0
 3537 01e6 084A     		ldr	r2, .L221+16
 3538 01e8 1370     		strb	r3, [r2]
 444:Lib/soes/src/esc_coe.c **** }
 3539              		.loc 1 444 4 is_stmt 1 discriminator 3 view .LVU1122
 444:Lib/soes/src/esc_coe.c **** }
 3540              		.loc 1 444 15 is_stmt 0 discriminator 3 view .LVU1123
 3541 01ea 054A     		ldr	r2, .L221+8
 3542 01ec 82F88E30 		strb	r3, [r2, #142]
 3543              	.L192:
 445:Lib/soes/src/esc_coe.c **** 
 3544              		.loc 1 445 1 view .LVU1124
 3545 01f0 05B0     		add	sp, sp, #20
 3546              		.cfi_def_cfa_offset 36
 3547              		@ sp needed
 3548 01f2 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 3549              	.LVL356:
 3550              	.L222:
 445:Lib/soes/src/esc_coe.c **** 
 3551              		.loc 1 445 1 view .LVU1125
 3552 01f6 00BF     		.align	2
 3553              	.L221:
 3554 01f8 00000000 		.word	MBX
 3555 01fc 00000000 		.word	SDOobjects
 3556 0200 00000000 		.word	ESCvar
 3557 0204 01000106 		.word	100728833
 3558 0208 00000000 		.word	MBXcontrol
 3559 020c 11000906 		.word	101253137
 3560 0210 00000206 		.word	100794368
 3561              		.cfi_endproc
 3562              	.LFE6:
 3564              		.section	.text.SDO_download,"ax",%progbits
 3565              		.align	1
 3566              		.syntax unified
 3567              		.thumb
 3568              		.thumb_func
 3570              	SDO_download:
ARM GAS  /tmp/ccpX7xVZ.s 			page 111


 3571              	.LFB12:
 775:Lib/soes/src/esc_coe.c ****    _COEsdo *coesdo, *coeres;
 3572              		.loc 1 775 1 is_stmt 1 view -0
 3573              		.cfi_startproc
 3574              		@ args = 0, pretend = 0, frame = 0
 3575              		@ frame_needed = 0, uses_anonymous_args = 0
 3576 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 3577              		.cfi_def_cfa_offset 28
 3578              		.cfi_offset 4, -28
 3579              		.cfi_offset 5, -24
 3580              		.cfi_offset 6, -20
 3581              		.cfi_offset 7, -16
 3582              		.cfi_offset 8, -12
 3583              		.cfi_offset 9, -8
 3584              		.cfi_offset 14, -4
 3585 0004 83B0     		sub	sp, sp, #12
 3586              		.cfi_def_cfa_offset 40
 776:Lib/soes/src/esc_coe.c ****    uint16_t index;
 3587              		.loc 1 776 4 view .LVU1127
 777:Lib/soes/src/esc_coe.c ****    uint8_t subindex;
 3588              		.loc 1 777 4 view .LVU1128
 778:Lib/soes/src/esc_coe.c ****    int32_t nidx;
 3589              		.loc 1 778 4 view .LVU1129
 779:Lib/soes/src/esc_coe.c ****    int16_t nsub;
 3590              		.loc 1 779 4 view .LVU1130
 780:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
 3591              		.loc 1 780 4 view .LVU1131
 781:Lib/soes/src/esc_coe.c ****    uint32_t size, actsize;
 3592              		.loc 1 781 4 view .LVU1132
 782:Lib/soes/src/esc_coe.c ****    const _objd *objd;
 3593              		.loc 1 782 4 view .LVU1133
 783:Lib/soes/src/esc_coe.c ****    uint32_t *mbxdata;
 3594              		.loc 1 783 4 view .LVU1134
 784:Lib/soes/src/esc_coe.c ****    uint32_t abort;
 3595              		.loc 1 784 4 view .LVU1135
 785:Lib/soes/src/esc_coe.c **** 
 3596              		.loc 1 785 4 view .LVU1136
 787:Lib/soes/src/esc_coe.c ****    index = etohs (coesdo->index);
 3597              		.loc 1 787 4 view .LVU1137
 3598              	.LVL357:
 788:Lib/soes/src/esc_coe.c ****    subindex = coesdo->subindex;
 3599              		.loc 1 788 4 view .LVU1138
 788:Lib/soes/src/esc_coe.c ****    subindex = coesdo->subindex;
 3600              		.loc 1 788 10 is_stmt 0 view .LVU1139
 3601 0006 7C4B     		ldr	r3, .L244
 3602 0008 B3F80970 		ldrh	r7, [r3, #9]	@ unaligned
 3603 000c BDB2     		uxth	r5, r7
 3604              	.LVL358:
 789:Lib/soes/src/esc_coe.c ****    nidx = SDO_findobject (index);
 3605              		.loc 1 789 4 is_stmt 1 view .LVU1140
 789:Lib/soes/src/esc_coe.c ****    nidx = SDO_findobject (index);
 3606              		.loc 1 789 13 is_stmt 0 view .LVU1141
 3607 000e DE7A     		ldrb	r6, [r3, #11]	@ zero_extendqisi2
 3608              	.LVL359:
 790:Lib/soes/src/esc_coe.c ****    if (nidx >= 0)
 3609              		.loc 1 790 4 is_stmt 1 view .LVU1142
 790:Lib/soes/src/esc_coe.c ****    if (nidx >= 0)
ARM GAS  /tmp/ccpX7xVZ.s 			page 112


 3610              		.loc 1 790 11 is_stmt 0 view .LVU1143
 3611 0010 2846     		mov	r0, r5
 3612 0012 FFF7FEFF 		bl	SDO_findobject
 3613              	.LVL360:
 791:Lib/soes/src/esc_coe.c ****    {
 3614              		.loc 1 791 4 is_stmt 1 view .LVU1144
 791:Lib/soes/src/esc_coe.c ****    {
 3615              		.loc 1 791 7 is_stmt 0 view .LVU1145
 3616 0016 041E     		subs	r4, r0, #0
 3617 0018 C0F2DF80 		blt	.L224
 793:Lib/soes/src/esc_coe.c ****       if (nsub >= 0)
 3618              		.loc 1 793 7 is_stmt 1 view .LVU1146
 793:Lib/soes/src/esc_coe.c ****       if (nsub >= 0)
 3619              		.loc 1 793 14 is_stmt 0 view .LVU1147
 3620 001c 3146     		mov	r1, r6
 3621 001e 2046     		mov	r0, r4
 793:Lib/soes/src/esc_coe.c ****       if (nsub >= 0)
 3622              		.loc 1 793 14 view .LVU1148
 3623 0020 FFF7FEFF 		bl	SDO_findsubindex
 3624              	.LVL361:
 794:Lib/soes/src/esc_coe.c ****       {
 3625              		.loc 1 794 7 is_stmt 1 view .LVU1149
 794:Lib/soes/src/esc_coe.c ****       {
 3626              		.loc 1 794 10 is_stmt 0 view .LVU1150
 3627 0024 0028     		cmp	r0, #0
 3628              	.LVL362:
 794:Lib/soes/src/esc_coe.c ****       {
 3629              		.loc 1 794 10 view .LVU1151
 3630 0026 C0F2D180 		blt	.L225
 3631              	.LBB12:
 796:Lib/soes/src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 3632              		.loc 1 796 10 is_stmt 1 view .LVU1152
 796:Lib/soes/src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 3633              		.loc 1 796 15 is_stmt 0 view .LVU1153
 3634 002a 744B     		ldr	r3, .L244+4
 3635 002c 03EB0414 		add	r4, r3, r4, lsl #4
 3636              	.LVL363:
 796:Lib/soes/src/esc_coe.c ****          uint8_t access = (objd + nsub)->flags & 0x3f;
 3637              		.loc 1 796 15 view .LVU1154
 3638 0030 E468     		ldr	r4, [r4, #12]
 3639              	.LVL364:
 797:Lib/soes/src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3640              		.loc 1 797 10 is_stmt 1 view .LVU1155
 797:Lib/soes/src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3641              		.loc 1 797 33 is_stmt 0 view .LVU1156
 3642 0032 00EB8000 		add	r0, r0, r0, lsl #2
 3643 0036 04EB8004 		add	r4, r4, r0, lsl #2
 3644              	.LVL365:
 797:Lib/soes/src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3645              		.loc 1 797 48 view .LVU1157
 3646 003a A379     		ldrb	r3, [r4, #6]	@ zero_extendqisi2
 797:Lib/soes/src/esc_coe.c ****          uint8_t state = ESCvar.ALstatus & 0x0f;
 3647              		.loc 1 797 18 view .LVU1158
 3648 003c 03F03F01 		and	r1, r3, #63
 3649              	.LVL366:
 798:Lib/soes/src/esc_coe.c ****          if (WRITE_ACCESS(access, state))
 3650              		.loc 1 798 10 is_stmt 1 view .LVU1159
ARM GAS  /tmp/ccpX7xVZ.s 			page 113


 798:Lib/soes/src/esc_coe.c ****          if (WRITE_ACCESS(access, state))
 3651              		.loc 1 798 42 is_stmt 0 view .LVU1160
 3652 0040 6F4A     		ldr	r2, .L244+8
 3653 0042 92F88020 		ldrb	r2, [r2, #128]	@ zero_extendqisi2
 798:Lib/soes/src/esc_coe.c ****          if (WRITE_ACCESS(access, state))
 3654              		.loc 1 798 18 view .LVU1161
 3655 0046 02F00F02 		and	r2, r2, #15
 3656              	.LVL367:
 799:Lib/soes/src/esc_coe.c ****          {
 3657              		.loc 1 799 10 is_stmt 1 view .LVU1162
 799:Lib/soes/src/esc_coe.c ****          {
 3658              		.loc 1 799 13 is_stmt 0 view .LVU1163
 3659 004a 13F0080F 		tst	r3, #8
 3660 004e 01D0     		beq	.L226
 799:Lib/soes/src/esc_coe.c ****          {
 3661              		.loc 1 799 14 discriminator 1 view .LVU1164
 3662 0050 022A     		cmp	r2, #2
 3663 0052 13D0     		beq	.L227
 3664              	.L226:
 799:Lib/soes/src/esc_coe.c ****          {
 3665              		.loc 1 799 14 discriminator 3 view .LVU1165
 3666 0054 13F0100F 		tst	r3, #16
 3667 0058 01D0     		beq	.L228
 799:Lib/soes/src/esc_coe.c ****          {
 3668              		.loc 1 799 14 discriminator 4 view .LVU1166
 3669 005a 042A     		cmp	r2, #4
 3670 005c 0ED0     		beq	.L227
 3671              	.L228:
 799:Lib/soes/src/esc_coe.c ****          {
 3672              		.loc 1 799 14 discriminator 6 view .LVU1167
 3673 005e 13F0200F 		tst	r3, #32
 3674 0062 01D0     		beq	.L229
 799:Lib/soes/src/esc_coe.c ****          {
 3675              		.loc 1 799 14 discriminator 7 view .LVU1168
 3676 0064 082A     		cmp	r2, #8
 3677 0066 09D0     		beq	.L227
 3678              	.L229:
 893:Lib/soes/src/esc_coe.c ****             {
 3679              		.loc 1 893 13 is_stmt 1 view .LVU1169
 893:Lib/soes/src/esc_coe.c ****             {
 3680              		.loc 1 893 16 is_stmt 0 view .LVU1170
 3681 0068 0729     		cmp	r1, #7
 3682 006a 00F0A880 		beq	.L242
 900:Lib/soes/src/esc_coe.c ****             }
 3683              		.loc 1 900 16 is_stmt 1 view .LVU1171
 3684 006e 654B     		ldr	r3, .L244+12
 3685 0070 3246     		mov	r2, r6
 3686              	.LVL368:
 900:Lib/soes/src/esc_coe.c ****             }
 3687              		.loc 1 900 16 is_stmt 0 view .LVU1172
 3688 0072 2946     		mov	r1, r5
 3689              	.LVL369:
 900:Lib/soes/src/esc_coe.c ****             }
 3690              		.loc 1 900 16 view .LVU1173
 3691 0074 0020     		movs	r0, #0
 3692 0076 FFF7FEFF 		bl	SDO_abort
 3693              	.LVL370:
ARM GAS  /tmp/ccpX7xVZ.s 			page 114


 900:Lib/soes/src/esc_coe.c ****             }
 3694              		.loc 1 900 16 view .LVU1174
 3695 007a B4E0     		b	.L239
 3696              	.LVL371:
 3697              	.L227:
 802:Lib/soes/src/esc_coe.c ****             {
 3698              		.loc 1 802 13 is_stmt 1 view .LVU1175
 802:Lib/soes/src/esc_coe.c ****             {
 3699              		.loc 1 802 23 is_stmt 0 view .LVU1176
 3700 007c 5E4B     		ldr	r3, .L244
 3701 007e 93F80880 		ldrb	r8, [r3, #8]	@ zero_extendqisi2
 802:Lib/soes/src/esc_coe.c ****             {
 3702              		.loc 1 802 16 view .LVU1177
 3703 0082 18F0020F 		tst	r8, #2
 3704 0086 29D0     		beq	.L230
 804:Lib/soes/src/esc_coe.c ****                mbxdata = &(coesdo->size);
 3705              		.loc 1 804 16 is_stmt 1 view .LVU1178
 804:Lib/soes/src/esc_coe.c ****                mbxdata = &(coesdo->size);
 3706              		.loc 1 804 55 is_stmt 0 view .LVU1179
 3707 0088 C8F38108 		ubfx	r8, r8, #2, #2
 804:Lib/soes/src/esc_coe.c ****                mbxdata = &(coesdo->size);
 3708              		.loc 1 804 21 view .LVU1180
 3709 008c C8F10408 		rsb	r8, r8, #4
 3710              	.LVL372:
 805:Lib/soes/src/esc_coe.c ****             }
 3711              		.loc 1 805 16 is_stmt 1 view .LVU1181
 805:Lib/soes/src/esc_coe.c ****             }
 3712              		.loc 1 805 24 is_stmt 0 view .LVU1182
 3713 0090 03F10C09 		add	r9, r3, #12
 3714              	.LVL373:
 3715              	.L231:
 813:Lib/soes/src/esc_coe.c ****             if (actsize != size)
 3716              		.loc 1 813 13 is_stmt 1 view .LVU1183
 813:Lib/soes/src/esc_coe.c ****             if (actsize != size)
 3717              		.loc 1 813 23 is_stmt 0 view .LVU1184
 3718 0094 A388     		ldrh	r3, [r4, #4]
 3719 0096 0733     		adds	r3, r3, #7
 813:Lib/soes/src/esc_coe.c ****             if (actsize != size)
 3720              		.loc 1 813 21 view .LVU1185
 3721 0098 DA08     		lsrs	r2, r3, #3
 3722              	.LVL374:
 814:Lib/soes/src/esc_coe.c ****             {
 3723              		.loc 1 814 13 is_stmt 1 view .LVU1186
 814:Lib/soes/src/esc_coe.c ****             {
 3724              		.loc 1 814 16 is_stmt 0 view .LVU1187
 3725 009a B8EBD30F 		cmp	r8, r3, lsr #3
 3726 009e 2CD0     		beq	.L232
 3727              	.LBB13:
 820:Lib/soes/src/esc_coe.c ****                if (type == DTYPE_VISIBLE_STRING)
 3728              		.loc 1 820 16 is_stmt 1 view .LVU1188
 820:Lib/soes/src/esc_coe.c ****                if (type == DTYPE_VISIBLE_STRING)
 3729              		.loc 1 820 25 is_stmt 0 view .LVU1189
 3730 00a0 6388     		ldrh	r3, [r4, #2]
 3731              	.LVL375:
 821:Lib/soes/src/esc_coe.c ****                {
 3732              		.loc 1 821 16 is_stmt 1 view .LVU1190
 821:Lib/soes/src/esc_coe.c ****                {
ARM GAS  /tmp/ccpX7xVZ.s 			page 115


 3733              		.loc 1 821 19 is_stmt 0 view .LVU1191
 3734 00a2 092B     		cmp	r3, #9
 3735 00a4 22D0     		beq	.L243
 826:Lib/soes/src/esc_coe.c ****                         (type != DTYPE_UNICODE_STRING) &&
 3736              		.loc 1 826 21 is_stmt 1 view .LVU1192
 826:Lib/soes/src/esc_coe.c ****                         (type != DTYPE_UNICODE_STRING) &&
 3737              		.loc 1 826 54 is_stmt 0 view .LVU1193
 3738 00a6 A3F10A02 		sub	r2, r3, #10
 3739              	.LVL376:
 826:Lib/soes/src/esc_coe.c ****                         (type != DTYPE_UNICODE_STRING) &&
 3740              		.loc 1 826 54 view .LVU1194
 3741 00aa 92B2     		uxth	r2, r2
 826:Lib/soes/src/esc_coe.c ****                         (type != DTYPE_UNICODE_STRING) &&
 3742              		.loc 1 826 24 view .LVU1195
 3743 00ac 012A     		cmp	r2, #1
 3744 00ae 24D9     		bls	.L232
 827:Lib/soes/src/esc_coe.c ****                         (type != DTYPE_ARRAY_OF_INT) &&
 3745              		.loc 1 827 56 view .LVU1196
 3746 00b0 B3F5187F 		cmp	r3, #608
 3747 00b4 21D0     		beq	.L232
 828:Lib/soes/src/esc_coe.c ****                         (type != DTYPE_ARRAY_OF_SINT) &&
 3748              		.loc 1 828 54 view .LVU1197
 3749 00b6 40F26122 		movw	r2, #609
 3750 00ba 9342     		cmp	r3, r2
 3751 00bc 1DD0     		beq	.L232
 829:Lib/soes/src/esc_coe.c ****                         (type != DTYPE_ARRAY_OF_DINT) &&
 3752              		.loc 1 829 55 view .LVU1198
 3753 00be 40F26222 		movw	r2, #610
 3754 00c2 9342     		cmp	r3, r2
 3755 00c4 19D0     		beq	.L232
 830:Lib/soes/src/esc_coe.c ****                         (type != DTYPE_ARRAY_OF_UDINT))
 3756              		.loc 1 830 55 view .LVU1199
 3757 00c6 40F26322 		movw	r2, #611
 3758 00ca 9342     		cmp	r3, r2
 3759 00cc 15D0     		beq	.L232
 833:Lib/soes/src/esc_coe.c ****                   return;
 3760              		.loc 1 833 19 is_stmt 1 view .LVU1200
 3761 00ce 4E4B     		ldr	r3, .L244+16
 3762              	.LVL377:
 833:Lib/soes/src/esc_coe.c ****                   return;
 3763              		.loc 1 833 19 is_stmt 0 view .LVU1201
 3764 00d0 3246     		mov	r2, r6
 3765 00d2 2946     		mov	r1, r5
 3766              	.LVL378:
 833:Lib/soes/src/esc_coe.c ****                   return;
 3767              		.loc 1 833 19 view .LVU1202
 3768 00d4 0020     		movs	r0, #0
 3769 00d6 FFF7FEFF 		bl	set_state_idle
 3770              	.LVL379:
 834:Lib/soes/src/esc_coe.c ****                }
 3771              		.loc 1 834 19 is_stmt 1 view .LVU1203
 3772 00da 8AE0     		b	.L223
 3773              	.LVL380:
 3774              	.L230:
 834:Lib/soes/src/esc_coe.c ****                }
 3775              		.loc 1 834 19 is_stmt 0 view .LVU1204
 3776              	.LBE13:
ARM GAS  /tmp/ccpX7xVZ.s 			page 116


 810:Lib/soes/src/esc_coe.c ****                mbxdata = (&(coesdo->size)) + 1;
 3777              		.loc 1 810 16 is_stmt 1 view .LVU1205
 810:Lib/soes/src/esc_coe.c ****                mbxdata = (&(coesdo->size)) + 1;
 3778              		.loc 1 810 24 is_stmt 0 view .LVU1206
 3779 00dc 464B     		ldr	r3, .L244
 3780 00de D3F80C80 		ldr	r8, [r3, #12]	@ unaligned
 810:Lib/soes/src/esc_coe.c ****                mbxdata = (&(coesdo->size)) + 1;
 3781              		.loc 1 810 21 view .LVU1207
 3782 00e2 1FFA88F8 		uxth	r8, r8
 3783              	.LVL381:
 811:Lib/soes/src/esc_coe.c ****             }
 3784              		.loc 1 811 16 is_stmt 1 view .LVU1208
 811:Lib/soes/src/esc_coe.c ****             }
 3785              		.loc 1 811 24 is_stmt 0 view .LVU1209
 3786 00e6 03F11009 		add	r9, r3, #16
 3787 00ea D3E7     		b	.L231
 3788              	.LVL382:
 3789              	.L243:
 3790              	.LBB14:
 824:Lib/soes/src/esc_coe.c ****                }
 3791              		.loc 1 824 19 is_stmt 1 view .LVU1210
 824:Lib/soes/src/esc_coe.c ****                }
 3792              		.loc 1 824 39 is_stmt 0 view .LVU1211
 3793 00ec 2069     		ldr	r0, [r4, #16]
 824:Lib/soes/src/esc_coe.c ****                }
 3794              		.loc 1 824 19 view .LVU1212
 3795 00ee A2EB0802 		sub	r2, r2, r8
 3796              	.LVL383:
 824:Lib/soes/src/esc_coe.c ****                }
 3797              		.loc 1 824 19 view .LVU1213
 3798 00f2 0021     		movs	r1, #0
 3799              	.LVL384:
 824:Lib/soes/src/esc_coe.c ****                }
 3800              		.loc 1 824 19 view .LVU1214
 3801 00f4 4044     		add	r0, r0, r8
 3802 00f6 FFF7FEFF 		bl	memset
 3803              	.LVL385:
 3804              	.L232:
 824:Lib/soes/src/esc_coe.c ****                }
 3805              		.loc 1 824 19 view .LVU1215
 3806              	.LBE14:
 837:Lib/soes/src/esc_coe.c ****                   index,
 3807              		.loc 1 837 13 is_stmt 1 view .LVU1216
 837:Lib/soes/src/esc_coe.c ****                   index,
 3808              		.loc 1 837 21 is_stmt 0 view .LVU1217
 3809 00fa E388     		ldrh	r3, [r4, #6]
 3810 00fc 0093     		str	r3, [sp]
 3811 00fe 4346     		mov	r3, r8
 3812 0100 4A46     		mov	r2, r9
 3813 0102 3146     		mov	r1, r6
 3814 0104 2846     		mov	r0, r5
 3815 0106 FFF7FEFF 		bl	ESC_download_pre_objecthandler
 3816              	.LVL386:
 844:Lib/soes/src/esc_coe.c ****             {
 3817              		.loc 1 844 13 is_stmt 1 view .LVU1218
 844:Lib/soes/src/esc_coe.c ****             {
 3818              		.loc 1 844 16 is_stmt 0 view .LVU1219
ARM GAS  /tmp/ccpX7xVZ.s 			page 117


 3819 010a 0346     		mov	r3, r0
 3820 010c 0028     		cmp	r0, #0
 3821 010e 50D1     		bne	.L235
 846:Lib/soes/src/esc_coe.c ****                      (size > (coesdo->mbxheader.length - COE_HEADERSIZE)))
 3822              		.loc 1 846 16 is_stmt 1 view .LVU1220
 846:Lib/soes/src/esc_coe.c ****                      (size > (coesdo->mbxheader.length - COE_HEADERSIZE)))
 3823              		.loc 1 846 19 is_stmt 0 view .LVU1221
 3824 0110 B8F1040F 		cmp	r8, #4
 3825 0114 15D9     		bls	.L236
 847:Lib/soes/src/esc_coe.c ****                {
 3826              		.loc 1 847 48 discriminator 1 view .LVU1222
 3827 0116 384B     		ldr	r3, .L244
 3828 0118 1B88     		ldrh	r3, [r3]	@ unaligned
 847:Lib/soes/src/esc_coe.c ****                {
 3829              		.loc 1 847 56 discriminator 1 view .LVU1223
 3830 011a 0A3B     		subs	r3, r3, #10
 846:Lib/soes/src/esc_coe.c ****                      (size > (coesdo->mbxheader.length - COE_HEADERSIZE)))
 3831              		.loc 1 846 31 discriminator 1 view .LVU1224
 3832 011c 4345     		cmp	r3, r8
 3833 011e 10D2     		bcs	.L236
 849:Lib/soes/src/esc_coe.c ****                   /* signal segmented transfer */
 3834              		.loc 1 849 19 is_stmt 1 view .LVU1225
 3835              	.LVL387:
 851:Lib/soes/src/esc_coe.c ****                   ESCvar.data = (objd + nsub)->data + size;
 3836              		.loc 1 851 19 view .LVU1226
 851:Lib/soes/src/esc_coe.c ****                   ESCvar.data = (objd + nsub)->data + size;
 3837              		.loc 1 851 36 is_stmt 0 view .LVU1227
 3838 0120 374A     		ldr	r2, .L244+8
 3839 0122 5021     		movs	r1, #80
 3840 0124 82F89110 		strb	r1, [r2, #145]
 852:Lib/soes/src/esc_coe.c ****                   ESCvar.index = index;
 3841              		.loc 1 852 19 is_stmt 1 view .LVU1228
 852:Lib/soes/src/esc_coe.c ****                   ESCvar.index = index;
 3842              		.loc 1 852 46 is_stmt 0 view .LVU1229
 3843 0128 2169     		ldr	r1, [r4, #16]
 852:Lib/soes/src/esc_coe.c ****                   ESCvar.index = index;
 3844              		.loc 1 852 53 view .LVU1230
 3845 012a 1944     		add	r1, r1, r3
 852:Lib/soes/src/esc_coe.c ****                   ESCvar.index = index;
 3846              		.loc 1 852 31 view .LVU1231
 3847 012c C2F89410 		str	r1, [r2, #148]
 853:Lib/soes/src/esc_coe.c ****                   ESCvar.subindex = subindex;
 3848              		.loc 1 853 19 is_stmt 1 view .LVU1232
 853:Lib/soes/src/esc_coe.c ****                   ESCvar.subindex = subindex;
 3849              		.loc 1 853 32 is_stmt 0 view .LVU1233
 3850 0130 A2F8A470 		strh	r7, [r2, #164]	@ movhi
 854:Lib/soes/src/esc_coe.c ****                   ESCvar.flags = (objd + nsub)->flags;
 3851              		.loc 1 854 19 is_stmt 1 view .LVU1234
 854:Lib/soes/src/esc_coe.c ****                   ESCvar.flags = (objd + nsub)->flags;
 3852              		.loc 1 854 35 is_stmt 0 view .LVU1235
 3853 0134 82F8A660 		strb	r6, [r2, #166]
 855:Lib/soes/src/esc_coe.c ****                }
 3854              		.loc 1 855 19 is_stmt 1 view .LVU1236
 855:Lib/soes/src/esc_coe.c ****                }
 3855              		.loc 1 855 47 is_stmt 0 view .LVU1237
 3856 0138 E188     		ldrh	r1, [r4, #6]
 855:Lib/soes/src/esc_coe.c ****                }
ARM GAS  /tmp/ccpX7xVZ.s 			page 118


 3857              		.loc 1 855 32 view .LVU1238
 3858 013a A2F8A810 		strh	r1, [r2, #168]	@ movhi
 849:Lib/soes/src/esc_coe.c ****                   /* signal segmented transfer */
 3859              		.loc 1 849 24 view .LVU1239
 3860 013e 9846     		mov	r8, r3
 855:Lib/soes/src/esc_coe.c ****                }
 3861              		.loc 1 855 32 view .LVU1240
 3862 0140 03E0     		b	.L237
 3863              	.LVL388:
 3864              	.L236:
 859:Lib/soes/src/esc_coe.c ****                }
 3865              		.loc 1 859 19 is_stmt 1 view .LVU1241
 859:Lib/soes/src/esc_coe.c ****                }
 3866              		.loc 1 859 36 is_stmt 0 view .LVU1242
 3867 0142 2F4B     		ldr	r3, .L244+8
 3868 0144 0022     		movs	r2, #0
 3869 0146 83F89120 		strb	r2, [r3, #145]
 3870              	.L237:
 861:Lib/soes/src/esc_coe.c ****                MBXout = ESC_claimbuffer ();
 3871              		.loc 1 861 16 is_stmt 1 view .LVU1243
 3872 014a 4246     		mov	r2, r8
 3873 014c 2169     		ldr	r1, [r4, #16]
 3874 014e 4846     		mov	r0, r9
 3875              	.LVL389:
 861:Lib/soes/src/esc_coe.c ****                MBXout = ESC_claimbuffer ();
 3876              		.loc 1 861 16 is_stmt 0 view .LVU1244
 3877 0150 FFF7FEFF 		bl	copy2mbx
 3878              	.LVL390:
 862:Lib/soes/src/esc_coe.c ****                if (MBXout)
 3879              		.loc 1 862 16 is_stmt 1 view .LVU1245
 862:Lib/soes/src/esc_coe.c ****                if (MBXout)
 3880              		.loc 1 862 25 is_stmt 0 view .LVU1246
 3881 0154 FFF7FEFF 		bl	ESC_claimbuffer
 3882              	.LVL391:
 863:Lib/soes/src/esc_coe.c ****                {
 3883              		.loc 1 863 16 is_stmt 1 view .LVU1247
 863:Lib/soes/src/esc_coe.c ****                {
 3884              		.loc 1 863 19 is_stmt 0 view .LVU1248
 3885 0158 8046     		mov	r8, r0
 3886              	.LVL392:
 863:Lib/soes/src/esc_coe.c ****                {
 3887              		.loc 1 863 19 view .LVU1249
 3888 015a C8B1     		cbz	r0, .L238
 865:Lib/soes/src/esc_coe.c ****                   coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 3889              		.loc 1 865 19 is_stmt 1 view .LVU1250
 865:Lib/soes/src/esc_coe.c ****                   coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 3890              		.loc 1 865 54 is_stmt 0 view .LVU1251
 3891 015c 284B     		ldr	r3, .L244+8
 3892 015e DA6E     		ldr	r2, [r3, #108]
 865:Lib/soes/src/esc_coe.c ****                   coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 3893              		.loc 1 865 52 view .LVU1252
 3894 0160 02FB00F2 		mul	r2, r2, r0
 865:Lib/soes/src/esc_coe.c ****                   coeres->mbxheader.length = htoes (COE_DEFAULTLENGTH);
 3895              		.loc 1 865 26 view .LVU1253
 3896 0164 2449     		ldr	r1, .L244
 3897 0166 5318     		adds	r3, r2, r1
 3898              	.LVL393:
ARM GAS  /tmp/ccpX7xVZ.s 			page 119


 866:Lib/soes/src/esc_coe.c ****                   coeres->mbxheader.mbxtype = MBXCOE;
 3899              		.loc 1 866 19 is_stmt 1 view .LVU1254
 866:Lib/soes/src/esc_coe.c ****                   coeres->mbxheader.mbxtype = MBXCOE;
 3900              		.loc 1 866 44 is_stmt 0 view .LVU1255
 3901 0168 0A20     		movs	r0, #10
 3902              	.LVL394:
 866:Lib/soes/src/esc_coe.c ****                   coeres->mbxheader.mbxtype = MBXCOE;
 3903              		.loc 1 866 44 view .LVU1256
 3904 016a 5052     		strh	r0, [r2, r1]	@ movhi
 867:Lib/soes/src/esc_coe.c ****                   coeres->coeheader.numberservice =
 3905              		.loc 1 867 19 is_stmt 1 view .LVU1257
 867:Lib/soes/src/esc_coe.c ****                   coeres->coeheader.numberservice =
 3906              		.loc 1 867 45 is_stmt 0 view .LVU1258
 3907 016c 5979     		ldrb	r1, [r3, #5]	@ zero_extendqisi2
 3908 016e 0322     		movs	r2, #3
 3909 0170 62F30301 		bfi	r1, r2, #0, #4
 3910 0174 5971     		strb	r1, [r3, #5]
 868:Lib/soes/src/esc_coe.c ****                         htoes ((0 & 0x01f) | (COE_SDORESPONSE << 12));
 3911              		.loc 1 868 19 is_stmt 1 view .LVU1259
 868:Lib/soes/src/esc_coe.c ****                         htoes ((0 & 0x01f) | (COE_SDORESPONSE << 12));
 3912              		.loc 1 868 51 is_stmt 0 view .LVU1260
 3913 0176 4FF44051 		mov	r1, #12288
 3914 017a D980     		strh	r1, [r3, #6]	@ movhi
 870:Lib/soes/src/esc_coe.c ****                   coeres->subindex = subindex;
 3915              		.loc 1 870 19 is_stmt 1 view .LVU1261
 870:Lib/soes/src/esc_coe.c ****                   coeres->subindex = subindex;
 3916              		.loc 1 870 33 is_stmt 0 view .LVU1262
 3917 017c A3F80970 		strh	r7, [r3, #9]	@ unaligned
 871:Lib/soes/src/esc_coe.c ****                   coeres->command = COE_COMMAND_DOWNLOADRESPONSE;
 3918              		.loc 1 871 19 is_stmt 1 view .LVU1263
 871:Lib/soes/src/esc_coe.c ****                   coeres->command = COE_COMMAND_DOWNLOADRESPONSE;
 3919              		.loc 1 871 36 is_stmt 0 view .LVU1264
 3920 0180 DE72     		strb	r6, [r3, #11]
 872:Lib/soes/src/esc_coe.c ****                   coeres->size = htoel (0);
 3921              		.loc 1 872 19 is_stmt 1 view .LVU1265
 872:Lib/soes/src/esc_coe.c ****                   coeres->size = htoel (0);
 3922              		.loc 1 872 35 is_stmt 0 view .LVU1266
 3923 0182 6021     		movs	r1, #96
 3924 0184 1972     		strb	r1, [r3, #8]
 873:Lib/soes/src/esc_coe.c ****                   MBXcontrol[MBXout].state = MBXstate_outreq;
 3925              		.loc 1 873 19 is_stmt 1 view .LVU1267
 873:Lib/soes/src/esc_coe.c ****                   MBXcontrol[MBXout].state = MBXstate_outreq;
 3926              		.loc 1 873 32 is_stmt 0 view .LVU1268
 3927 0186 0021     		movs	r1, #0
 3928 0188 D960     		str	r1, [r3, #12]
 874:Lib/soes/src/esc_coe.c ****                }
 3929              		.loc 1 874 19 is_stmt 1 view .LVU1269
 874:Lib/soes/src/esc_coe.c ****                }
 3930              		.loc 1 874 44 is_stmt 0 view .LVU1270
 3931 018a 204B     		ldr	r3, .L244+20
 3932              	.LVL395:
 874:Lib/soes/src/esc_coe.c ****                }
 3933              		.loc 1 874 44 view .LVU1271
 3934 018c 03F80820 		strb	r2, [r3, r8]
 3935              	.LVL396:
 3936              	.L238:
 876:Lib/soes/src/esc_coe.c ****                {
ARM GAS  /tmp/ccpX7xVZ.s 			page 120


 3937              		.loc 1 876 16 is_stmt 1 view .LVU1272
 876:Lib/soes/src/esc_coe.c ****                {
 3938              		.loc 1 876 26 is_stmt 0 view .LVU1273
 3939 0190 1B4B     		ldr	r3, .L244+8
 3940 0192 93F89130 		ldrb	r3, [r3, #145]	@ zero_extendqisi2
 876:Lib/soes/src/esc_coe.c ****                {
 3941              		.loc 1 876 19 view .LVU1274
 3942 0196 33BB     		cbnz	r3, .L239
 879:Lib/soes/src/esc_coe.c ****                   if (abort != 0)
 3943              		.loc 1 879 19 is_stmt 1 view .LVU1275
 879:Lib/soes/src/esc_coe.c ****                   if (abort != 0)
 3944              		.loc 1 879 27 is_stmt 0 view .LVU1276
 3945 0198 E288     		ldrh	r2, [r4, #6]
 3946 019a 3146     		mov	r1, r6
 3947 019c 2846     		mov	r0, r5
 3948 019e FFF7FEFF 		bl	ESC_download_post_objecthandler
 3949              	.LVL397:
 880:Lib/soes/src/esc_coe.c ****                   {
 3950              		.loc 1 880 19 is_stmt 1 view .LVU1277
 880:Lib/soes/src/esc_coe.c ****                   {
 3951              		.loc 1 880 22 is_stmt 0 view .LVU1278
 3952 01a2 0346     		mov	r3, r0
 3953 01a4 F8B1     		cbz	r0, .L239
 882:Lib/soes/src/esc_coe.c ****                   }
 3954              		.loc 1 882 22 is_stmt 1 view .LVU1279
 3955 01a6 3246     		mov	r2, r6
 3956 01a8 2946     		mov	r1, r5
 3957 01aa 4046     		mov	r0, r8
 3958              	.LVL398:
 882:Lib/soes/src/esc_coe.c ****                   }
 3959              		.loc 1 882 22 is_stmt 0 view .LVU1280
 3960 01ac FFF7FEFF 		bl	SDO_abort
 3961              	.LVL399:
 882:Lib/soes/src/esc_coe.c ****                   }
 3962              		.loc 1 882 22 view .LVU1281
 3963 01b0 19E0     		b	.L239
 3964              	.LVL400:
 3965              	.L235:
 888:Lib/soes/src/esc_coe.c ****             }
 3966              		.loc 1 888 16 is_stmt 1 view .LVU1282
 3967 01b2 3246     		mov	r2, r6
 3968 01b4 2946     		mov	r1, r5
 3969 01b6 0020     		movs	r0, #0
 3970              	.LVL401:
 888:Lib/soes/src/esc_coe.c ****             }
 3971              		.loc 1 888 16 is_stmt 0 view .LVU1283
 3972 01b8 FFF7FEFF 		bl	SDO_abort
 3973              	.LVL402:
 888:Lib/soes/src/esc_coe.c ****             }
 3974              		.loc 1 888 16 view .LVU1284
 3975 01bc 13E0     		b	.L239
 3976              	.LVL403:
 3977              	.L242:
 895:Lib/soes/src/esc_coe.c **** 
 3978              		.loc 1 895 16 is_stmt 1 view .LVU1285
 3979 01be 144B     		ldr	r3, .L244+24
 3980 01c0 3246     		mov	r2, r6
ARM GAS  /tmp/ccpX7xVZ.s 			page 121


 3981              	.LVL404:
 895:Lib/soes/src/esc_coe.c **** 
 3982              		.loc 1 895 16 is_stmt 0 view .LVU1286
 3983 01c2 2946     		mov	r1, r5
 3984              	.LVL405:
 895:Lib/soes/src/esc_coe.c **** 
 3985              		.loc 1 895 16 view .LVU1287
 3986 01c4 0020     		movs	r0, #0
 3987 01c6 FFF7FEFF 		bl	SDO_abort
 3988              	.LVL406:
 895:Lib/soes/src/esc_coe.c **** 
 3989              		.loc 1 895 16 view .LVU1288
 3990 01ca 0CE0     		b	.L239
 3991              	.LVL407:
 3992              	.L225:
 895:Lib/soes/src/esc_coe.c **** 
 3993              		.loc 1 895 16 view .LVU1289
 3994              	.LBE12:
 906:Lib/soes/src/esc_coe.c ****       }
 3995              		.loc 1 906 10 is_stmt 1 view .LVU1290
 3996 01cc 114B     		ldr	r3, .L244+28
 3997 01ce 3246     		mov	r2, r6
 3998 01d0 2946     		mov	r1, r5
 3999 01d2 0020     		movs	r0, #0
 4000 01d4 FFF7FEFF 		bl	SDO_abort
 4001              	.LVL408:
 4002 01d8 05E0     		b	.L239
 4003              	.LVL409:
 4004              	.L224:
 911:Lib/soes/src/esc_coe.c ****    }
 4005              		.loc 1 911 7 view .LVU1291
 4006 01da 0F4B     		ldr	r3, .L244+32
 4007 01dc 3246     		mov	r2, r6
 4008 01de 2946     		mov	r1, r5
 4009 01e0 0020     		movs	r0, #0
 4010              	.LVL410:
 911:Lib/soes/src/esc_coe.c ****    }
 4011              		.loc 1 911 7 is_stmt 0 view .LVU1292
 4012 01e2 FFF7FEFF 		bl	SDO_abort
 4013              	.LVL411:
 4014              	.L239:
 913:Lib/soes/src/esc_coe.c ****    ESCvar.xoe = 0;
 4015              		.loc 1 913 4 is_stmt 1 view .LVU1293
 913:Lib/soes/src/esc_coe.c ****    ESCvar.xoe = 0;
 4016              		.loc 1 913 24 is_stmt 0 view .LVU1294
 4017 01e6 0023     		movs	r3, #0
 4018 01e8 084A     		ldr	r2, .L244+20
 4019 01ea 1370     		strb	r3, [r2]
 914:Lib/soes/src/esc_coe.c **** }
 4020              		.loc 1 914 4 is_stmt 1 view .LVU1295
 914:Lib/soes/src/esc_coe.c **** }
 4021              		.loc 1 914 15 is_stmt 0 view .LVU1296
 4022 01ec 044A     		ldr	r2, .L244+8
 4023 01ee 82F88E30 		strb	r3, [r2, #142]
 4024              	.L223:
 915:Lib/soes/src/esc_coe.c **** 
 4025              		.loc 1 915 1 view .LVU1297
ARM GAS  /tmp/ccpX7xVZ.s 			page 122


 4026 01f2 03B0     		add	sp, sp, #12
 4027              		.cfi_def_cfa_offset 28
 4028              		@ sp needed
 4029 01f4 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 4030              	.LVL412:
 4031              	.L245:
 915:Lib/soes/src/esc_coe.c **** 
 4032              		.loc 1 915 1 view .LVU1298
 4033              		.align	2
 4034              	.L244:
 4035 01f8 00000000 		.word	MBX
 4036 01fc 00000000 		.word	SDOobjects
 4037 0200 00000000 		.word	ESCvar
 4038 0204 22000008 		.word	134217762
 4039 0208 10000706 		.word	101122064
 4040 020c 00000000 		.word	MBXcontrol
 4041 0210 02000106 		.word	100728834
 4042 0214 11000906 		.word	101253137
 4043 0218 00000206 		.word	100794368
 4044              		.cfi_endproc
 4045              	.LFE12:
 4047              		.section	.text.SDO_downloadsegment,"ax",%progbits
 4048              		.align	1
 4049              		.syntax unified
 4050              		.thumb
 4051              		.thumb_func
 4053              	SDO_downloadsegment:
 4054              	.LFB14:
1037:Lib/soes/src/esc_coe.c ****    _COEsdo *coesdo = (_COEsdo *) &MBX[0];
 4055              		.loc 1 1037 1 is_stmt 1 view -0
 4056              		.cfi_startproc
 4057              		@ args = 0, pretend = 0, frame = 0
 4058              		@ frame_needed = 0, uses_anonymous_args = 0
 4059 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 4060              		.cfi_def_cfa_offset 24
 4061              		.cfi_offset 4, -24
 4062              		.cfi_offset 5, -20
 4063              		.cfi_offset 6, -16
 4064              		.cfi_offset 7, -12
 4065              		.cfi_offset 8, -8
 4066              		.cfi_offset 14, -4
 4067 0004 82B0     		sub	sp, sp, #8
 4068              		.cfi_def_cfa_offset 32
1038:Lib/soes/src/esc_coe.c ****    uint8_t MBXout = ESC_claimbuffer ();
 4069              		.loc 1 1038 4 view .LVU1300
 4070              	.LVL413:
1039:Lib/soes/src/esc_coe.c ****    if (MBXout)
 4071              		.loc 1 1039 4 view .LVU1301
1039:Lib/soes/src/esc_coe.c ****    if (MBXout)
 4072              		.loc 1 1039 21 is_stmt 0 view .LVU1302
 4073 0006 FFF7FEFF 		bl	ESC_claimbuffer
 4074              	.LVL414:
1040:Lib/soes/src/esc_coe.c ****    {
 4075              		.loc 1 1040 4 is_stmt 1 view .LVU1303
1040:Lib/soes/src/esc_coe.c ****    {
 4076              		.loc 1 1040 7 is_stmt 0 view .LVU1304
 4077 000a 0028     		cmp	r0, #0
ARM GAS  /tmp/ccpX7xVZ.s 			page 123


 4078 000c 00F08C80 		beq	.L247
 4079 0010 0646     		mov	r6, r0
 4080              	.LBB15:
1042:Lib/soes/src/esc_coe.c ****       uint32_t size = coesdo->mbxheader.length - 3U;
 4081              		.loc 1 1042 7 is_stmt 1 view .LVU1305
1042:Lib/soes/src/esc_coe.c ****       uint32_t size = coesdo->mbxheader.length - 3U;
 4082              		.loc 1 1042 51 is_stmt 0 view .LVU1306
 4083 0012 4A4B     		ldr	r3, .L259
 4084 0014 D86E     		ldr	r0, [r3, #108]
 4085              	.LVL415:
1042:Lib/soes/src/esc_coe.c ****       uint32_t size = coesdo->mbxheader.length - 3U;
 4086              		.loc 1 1042 16 view .LVU1307
 4087 0016 4A4B     		ldr	r3, .L259+4
 4088 0018 00FB0630 		mla	r0, r0, r6, r3
 4089              	.LVL416:
1043:Lib/soes/src/esc_coe.c ****       if (size == 7)
 4090              		.loc 1 1043 7 is_stmt 1 view .LVU1308
1043:Lib/soes/src/esc_coe.c ****       if (size == 7)
 4091              		.loc 1 1043 40 is_stmt 0 view .LVU1309
 4092 001c 1B88     		ldrh	r3, [r3]	@ unaligned
1043:Lib/soes/src/esc_coe.c ****       if (size == 7)
 4093              		.loc 1 1043 16 view .LVU1310
 4094 001e DC1E     		subs	r4, r3, #3
 4095              	.LVL417:
1044:Lib/soes/src/esc_coe.c ****       {
 4096              		.loc 1 1044 7 is_stmt 1 view .LVU1311
1044:Lib/soes/src/esc_coe.c ****       {
 4097              		.loc 1 1044 10 is_stmt 0 view .LVU1312
 4098 0020 0A2B     		cmp	r3, #10
 4099 0022 5BD0     		beq	.L257
 4100              	.L248:
1048:Lib/soes/src/esc_coe.c ****       uint8_t command2 = (coesdo->command & COE_TOGGLEBIT);  /* copy toggle bit */
 4101              		.loc 1 1048 7 is_stmt 1 view .LVU1313
 4102              	.LVL418:
1049:Lib/soes/src/esc_coe.c ****       command |= command2;
 4103              		.loc 1 1049 7 view .LVU1314
1049:Lib/soes/src/esc_coe.c ****       command |= command2;
 4104              		.loc 1 1049 33 is_stmt 0 view .LVU1315
 4105 0024 464D     		ldr	r5, .L259+4
 4106 0026 2A7A     		ldrb	r2, [r5, #8]	@ zero_extendqisi2
1049:Lib/soes/src/esc_coe.c ****       command |= command2;
 4107              		.loc 1 1049 15 view .LVU1316
 4108 0028 02F01002 		and	r2, r2, #16
 4109              	.LVL419:
1050:Lib/soes/src/esc_coe.c ****       init_coesdo(coeres, COE_SDORESPONSE, command, 0, 0);
 4110              		.loc 1 1050 7 is_stmt 1 view .LVU1317
1051:Lib/soes/src/esc_coe.c **** 
 4111              		.loc 1 1051 7 view .LVU1318
 4112 002c 0023     		movs	r3, #0
 4113 002e 0093     		str	r3, [sp]
 4114 0030 42F02002 		orr	r2, r2, #32
 4115              	.LVL420:
1051:Lib/soes/src/esc_coe.c **** 
 4116              		.loc 1 1051 7 is_stmt 0 view .LVU1319
 4117 0034 0321     		movs	r1, #3
 4118 0036 FFF7FEFF 		bl	init_coesdo
 4119              	.LVL421:
ARM GAS  /tmp/ccpX7xVZ.s 			page 124


1053:Lib/soes/src/esc_coe.c ****       copy2mbx (mbxdata, ESCvar.data, size);
 4120              		.loc 1 1053 7 is_stmt 1 view .LVU1320
1054:Lib/soes/src/esc_coe.c **** 
 4121              		.loc 1 1054 7 view .LVU1321
 4122 003a 2246     		mov	r2, r4
 4123 003c 3F4B     		ldr	r3, .L259
 4124 003e D3F89410 		ldr	r1, [r3, #148]
 4125 0042 05F10900 		add	r0, r5, #9
 4126 0046 FFF7FEFF 		bl	copy2mbx
 4127              	.LVL422:
1056:Lib/soes/src/esc_coe.c ****       {
 4128              		.loc 1 1056 7 view .LVU1322
1056:Lib/soes/src/esc_coe.c ****       {
 4129              		.loc 1 1056 17 is_stmt 0 view .LVU1323
 4130 004a 2B7A     		ldrb	r3, [r5, #8]	@ zero_extendqisi2
1056:Lib/soes/src/esc_coe.c ****       {
 4131              		.loc 1 1056 10 view .LVU1324
 4132 004c 13F0010F 		tst	r3, #1
 4133 0050 5CD0     		beq	.L249
 4134              	.LBB16:
1058:Lib/soes/src/esc_coe.c ****          {
 4135              		.loc 1 1058 10 is_stmt 1 view .LVU1325
1058:Lib/soes/src/esc_coe.c ****          {
 4136              		.loc 1 1058 19 is_stmt 0 view .LVU1326
 4137 0052 3A4B     		ldr	r3, .L259
 4138 0054 B3F8A830 		ldrh	r3, [r3, #168]
1058:Lib/soes/src/esc_coe.c ****          {
 4139              		.loc 1 1058 12 view .LVU1327
 4140 0058 B3F5004F 		cmp	r3, #32768
 4141 005c 23D1     		bne	.L250
 4142              	.LBB17:
1060:Lib/soes/src/esc_coe.c ****             int16_t nsub;
 4143              		.loc 1 1060 13 is_stmt 1 view .LVU1328
1061:Lib/soes/src/esc_coe.c **** 
 4144              		.loc 1 1061 13 view .LVU1329
1063:Lib/soes/src/esc_coe.c ****             {
 4145              		.loc 1 1063 13 view .LVU1330
1063:Lib/soes/src/esc_coe.c ****             {
 4146              		.loc 1 1063 22 is_stmt 0 view .LVU1331
 4147 005e 374B     		ldr	r3, .L259
 4148 0060 D3F89C50 		ldr	r5, [r3, #156]
1063:Lib/soes/src/esc_coe.c ****             {
 4149              		.loc 1 1063 37 view .LVU1332
 4150 0064 D3F8A030 		ldr	r3, [r3, #160]
1063:Lib/soes/src/esc_coe.c ****             {
 4151              		.loc 1 1063 48 view .LVU1333
 4152 0068 1C44     		add	r4, r4, r3
 4153              	.LVL423:
1063:Lib/soes/src/esc_coe.c ****             {
 4154              		.loc 1 1063 15 view .LVU1334
 4155 006a A542     		cmp	r5, r4
 4156 006c 3DD8     		bhi	.L258
1069:Lib/soes/src/esc_coe.c ****             nsub = SDO_findsubindex (nidx, ESCvar.subindex);
 4157              		.loc 1 1069 13 is_stmt 1 view .LVU1335
1069:Lib/soes/src/esc_coe.c ****             nsub = SDO_findsubindex (nidx, ESCvar.subindex);
 4158              		.loc 1 1069 20 is_stmt 0 view .LVU1336
 4159 006e 334F     		ldr	r7, .L259
ARM GAS  /tmp/ccpX7xVZ.s 			page 125


 4160 0070 B7F8A480 		ldrh	r8, [r7, #164]
 4161 0074 4046     		mov	r0, r8
 4162 0076 FFF7FEFF 		bl	SDO_findobject
 4163              	.LVL424:
 4164 007a 0446     		mov	r4, r0
 4165              	.LVL425:
1070:Lib/soes/src/esc_coe.c **** 
 4166              		.loc 1 1070 13 is_stmt 1 view .LVU1337
1070:Lib/soes/src/esc_coe.c **** 
 4167              		.loc 1 1070 20 is_stmt 0 view .LVU1338
 4168 007c 97F8A670 		ldrb	r7, [r7, #166]	@ zero_extendqisi2
 4169 0080 3946     		mov	r1, r7
 4170 0082 FFF7FEFF 		bl	SDO_findsubindex
 4171              	.LVL426:
1070:Lib/soes/src/esc_coe.c **** 
 4172              		.loc 1 1070 20 view .LVU1339
 4173 0086 0246     		mov	r2, r0
 4174              	.LVL427:
1072:Lib/soes/src/esc_coe.c ****             {
 4175              		.loc 1 1072 13 is_stmt 1 view .LVU1340
1072:Lib/soes/src/esc_coe.c ****             {
 4176              		.loc 1 1072 16 is_stmt 0 view .LVU1341
 4177 0088 002C     		cmp	r4, #0
 4178 008a 38DB     		blt	.L253
1072:Lib/soes/src/esc_coe.c ****             {
 4179              		.loc 1 1072 28 discriminator 1 view .LVU1342
 4180 008c 0028     		cmp	r0, #0
 4181 008e 36DB     		blt	.L253
1079:Lib/soes/src/esc_coe.c ****             complete_access_subindex_loop(objd,
 4182              		.loc 1 1079 13 is_stmt 1 view .LVU1343
1079:Lib/soes/src/esc_coe.c ****             complete_access_subindex_loop(objd,
 4183              		.loc 1 1079 26 is_stmt 0 view .LVU1344
 4184 0090 2C48     		ldr	r0, .L259+8
 4185              	.LVL428:
1079:Lib/soes/src/esc_coe.c ****             complete_access_subindex_loop(objd,
 4186              		.loc 1 1079 26 view .LVU1345
 4187 0092 00EB0410 		add	r0, r0, r4, lsl #4
 4188              	.LVL429:
1080:Lib/soes/src/esc_coe.c ****                   nidx,
 4189              		.loc 1 1080 13 is_stmt 1 view .LVU1346
 4190 0096 0195     		str	r5, [sp, #4]
 4191 0098 0123     		movs	r3, #1
 4192 009a 0093     		str	r3, [sp]
 4193 009c 2A4B     		ldr	r3, .L259+12
 4194 009e 2146     		mov	r1, r4
 4195 00a0 C068     		ldr	r0, [r0, #12]
 4196              	.LVL430:
1080:Lib/soes/src/esc_coe.c ****                   nidx,
 4197              		.loc 1 1080 13 is_stmt 0 view .LVU1347
 4198 00a2 FFF7FEFF 		bl	complete_access_subindex_loop
 4199              	.LVL431:
 4200              	.L250:
1080:Lib/soes/src/esc_coe.c ****                   nidx,
 4201              		.loc 1 1080 13 view .LVU1348
 4202              	.LBE17:
1089:Lib/soes/src/esc_coe.c ****          ESCvar.frags = 0;
 4203              		.loc 1 1089 10 is_stmt 1 view .LVU1349
ARM GAS  /tmp/ccpX7xVZ.s 			page 126


1089:Lib/soes/src/esc_coe.c ****          ESCvar.frags = 0;
 4204              		.loc 1 1089 27 is_stmt 0 view .LVU1350
 4205 00a6 254B     		ldr	r3, .L259
 4206 00a8 0022     		movs	r2, #0
 4207 00aa 83F89120 		strb	r2, [r3, #145]
1090:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft = 0;
 4208              		.loc 1 1090 10 is_stmt 1 view .LVU1351
1090:Lib/soes/src/esc_coe.c ****          ESCvar.fragsleft = 0;
 4209              		.loc 1 1090 23 is_stmt 0 view .LVU1352
 4210 00ae C3F89C20 		str	r2, [r3, #156]
1091:Lib/soes/src/esc_coe.c ****          /* external object write handler */
 4211              		.loc 1 1091 10 is_stmt 1 view .LVU1353
1091:Lib/soes/src/esc_coe.c ****          /* external object write handler */
 4212              		.loc 1 1091 27 is_stmt 0 view .LVU1354
 4213 00b2 C3F8A020 		str	r2, [r3, #160]
1093:Lib/soes/src/esc_coe.c ****                (ESCvar.index, ESCvar.subindex, ESCvar.flags);
 4214              		.loc 1 1093 10 is_stmt 1 view .LVU1355
1093:Lib/soes/src/esc_coe.c ****                (ESCvar.index, ESCvar.subindex, ESCvar.flags);
 4215              		.loc 1 1093 27 is_stmt 0 view .LVU1356
 4216 00b6 B3F8A820 		ldrh	r2, [r3, #168]
 4217 00ba 93F8A610 		ldrb	r1, [r3, #166]	@ zero_extendqisi2
 4218 00be B3F8A400 		ldrh	r0, [r3, #164]
 4219 00c2 FFF7FEFF 		bl	ESC_download_post_objecthandler
 4220              	.LVL432:
1095:Lib/soes/src/esc_coe.c ****          {
 4221              		.loc 1 1095 10 is_stmt 1 view .LVU1357
1095:Lib/soes/src/esc_coe.c ****          {
 4222              		.loc 1 1095 13 is_stmt 0 view .LVU1358
 4223 00c6 0346     		mov	r3, r0
 4224 00c8 58B3     		cbz	r0, .L255
1097:Lib/soes/src/esc_coe.c ****             return;
 4225              		.loc 1 1097 13 is_stmt 1 view .LVU1359
 4226 00ca 1C49     		ldr	r1, .L259
 4227 00cc 91F8A620 		ldrb	r2, [r1, #166]	@ zero_extendqisi2
 4228 00d0 B1F8A410 		ldrh	r1, [r1, #164]
 4229 00d4 3046     		mov	r0, r6
 4230              	.LVL433:
1097:Lib/soes/src/esc_coe.c ****             return;
 4231              		.loc 1 1097 13 is_stmt 0 view .LVU1360
 4232 00d6 FFF7FEFF 		bl	set_state_idle
 4233              	.LVL434:
1098:Lib/soes/src/esc_coe.c ****          }
 4234              		.loc 1 1098 13 is_stmt 1 view .LVU1361
 4235 00da 2BE0     		b	.L246
 4236              	.LVL435:
 4237              	.L257:
1098:Lib/soes/src/esc_coe.c ****          }
 4238              		.loc 1 1098 13 is_stmt 0 view .LVU1362
 4239              	.LBE16:
1046:Lib/soes/src/esc_coe.c ****       }
 4240              		.loc 1 1046 10 is_stmt 1 view .LVU1363
1046:Lib/soes/src/esc_coe.c ****       }
 4241              		.loc 1 1046 29 is_stmt 0 view .LVU1364
 4242 00dc 184B     		ldr	r3, .L259+4
 4243 00de 1C7A     		ldrb	r4, [r3, #8]	@ zero_extendqisi2
 4244              	.LVL436:
1046:Lib/soes/src/esc_coe.c ****       }
ARM GAS  /tmp/ccpX7xVZ.s 			page 127


 4245              		.loc 1 1046 19 view .LVU1365
 4246 00e0 6FEA5404 		mvn	r4, r4, lsr #1
1046:Lib/soes/src/esc_coe.c ****       }
 4247              		.loc 1 1046 15 view .LVU1366
 4248 00e4 04F00704 		and	r4, r4, #7
 4249              	.LVL437:
1046:Lib/soes/src/esc_coe.c ****       }
 4250              		.loc 1 1046 15 view .LVU1367
 4251 00e8 9CE7     		b	.L248
 4252              	.LVL438:
 4253              	.L258:
 4254              	.LBB19:
 4255              	.LBB18:
1065:Lib/soes/src/esc_coe.c ****                return;
 4256              		.loc 1 1065 16 is_stmt 1 view .LVU1368
 4257 00ea 1449     		ldr	r1, .L259
 4258 00ec 174B     		ldr	r3, .L259+16
 4259 00ee 91F8A620 		ldrb	r2, [r1, #166]	@ zero_extendqisi2
 4260 00f2 B1F8A410 		ldrh	r1, [r1, #164]
 4261 00f6 0020     		movs	r0, #0
 4262 00f8 FFF7FEFF 		bl	set_state_idle
 4263              	.LVL439:
1066:Lib/soes/src/esc_coe.c ****             }
 4264              		.loc 1 1066 16 view .LVU1369
 4265 00fc 1AE0     		b	.L246
 4266              	.LVL440:
 4267              	.L253:
1074:Lib/soes/src/esc_coe.c ****                return;
 4268              		.loc 1 1074 16 view .LVU1370
 4269 00fe 144B     		ldr	r3, .L259+20
 4270 0100 3A46     		mov	r2, r7
 4271 0102 4146     		mov	r1, r8
 4272 0104 0020     		movs	r0, #0
 4273              	.LVL441:
1074:Lib/soes/src/esc_coe.c ****                return;
 4274              		.loc 1 1074 16 is_stmt 0 view .LVU1371
 4275 0106 FFF7FEFF 		bl	set_state_idle
 4276              	.LVL442:
1075:Lib/soes/src/esc_coe.c ****             }
 4277              		.loc 1 1075 16 is_stmt 1 view .LVU1372
 4278 010a 13E0     		b	.L246
 4279              	.LVL443:
 4280              	.L249:
1075:Lib/soes/src/esc_coe.c ****             }
 4281              		.loc 1 1075 16 is_stmt 0 view .LVU1373
 4282              	.LBE18:
 4283              	.LBE19:
1104:Lib/soes/src/esc_coe.c ****          /* number of bytes done */
 4284              		.loc 1 1104 10 is_stmt 1 view .LVU1374
1104:Lib/soes/src/esc_coe.c ****          /* number of bytes done */
 4285              		.loc 1 1104 22 is_stmt 0 view .LVU1375
 4286 010c 0B4B     		ldr	r3, .L259
 4287 010e D3F89420 		ldr	r2, [r3, #148]
 4288 0112 2244     		add	r2, r2, r4
 4289 0114 C3F89420 		str	r2, [r3, #148]
1106:Lib/soes/src/esc_coe.c ****       }
 4290              		.loc 1 1106 10 is_stmt 1 view .LVU1376
ARM GAS  /tmp/ccpX7xVZ.s 			page 128


1106:Lib/soes/src/esc_coe.c ****       }
 4291              		.loc 1 1106 27 is_stmt 0 view .LVU1377
 4292 0118 D3F8A020 		ldr	r2, [r3, #160]
 4293 011c 2244     		add	r2, r2, r4
 4294 011e C3F8A020 		str	r2, [r3, #160]
 4295              	.LVL444:
 4296              	.L255:
1109:Lib/soes/src/esc_coe.c ****    }
 4297              		.loc 1 1109 7 is_stmt 1 view .LVU1378
1109:Lib/soes/src/esc_coe.c ****    }
 4298              		.loc 1 1109 32 is_stmt 0 view .LVU1379
 4299 0122 0C4B     		ldr	r3, .L259+24
 4300 0124 0322     		movs	r2, #3
 4301 0126 9A55     		strb	r2, [r3, r6]
 4302              	.LVL445:
 4303              	.L247:
1109:Lib/soes/src/esc_coe.c ****    }
 4304              		.loc 1 1109 32 view .LVU1380
 4305              	.LBE15:
1112:Lib/soes/src/esc_coe.c **** }
 4306              		.loc 1 1112 4 is_stmt 1 view .LVU1381
 4307 0128 0023     		movs	r3, #0
 4308 012a 1A46     		mov	r2, r3
 4309 012c 1946     		mov	r1, r3
 4310 012e 1846     		mov	r0, r3
 4311 0130 FFF7FEFF 		bl	set_state_idle
 4312              	.LVL446:
 4313              	.L246:
1113:Lib/soes/src/esc_coe.c **** 
 4314              		.loc 1 1113 1 is_stmt 0 view .LVU1382
 4315 0134 02B0     		add	sp, sp, #8
 4316              		.cfi_def_cfa_offset 24
 4317              		@ sp needed
 4318 0136 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 4319              	.L260:
 4320 013a 00BF     		.align	2
 4321              	.L259:
 4322 013c 00000000 		.word	ESCvar
 4323 0140 00000000 		.word	MBX
 4324 0144 00000000 		.word	SDOobjects
 4325 0148 EA000000 		.word	ESCvar+234
 4326 014c 10000706 		.word	101122064
 4327 0150 00000206 		.word	100794368
 4328 0154 00000000 		.word	MBXcontrol
 4329              		.cfi_endproc
 4330              	.LFE14:
 4332              		.section	.text.SDO_getod,"ax",%progbits
 4333              		.align	1
 4334              		.syntax unified
 4335              		.thumb
 4336              		.thumb_func
 4338              	SDO_getod:
 4339              	.LFB18:
1290:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
 4340              		.loc 1 1290 1 is_stmt 1 view -0
 4341              		.cfi_startproc
 4342              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccpX7xVZ.s 			page 129


 4343              		@ frame_needed = 0, uses_anonymous_args = 0
 4344 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 4345              		.cfi_def_cfa_offset 32
 4346              		.cfi_offset 3, -32
 4347              		.cfi_offset 4, -28
 4348              		.cfi_offset 5, -24
 4349              		.cfi_offset 6, -20
 4350              		.cfi_offset 7, -16
 4351              		.cfi_offset 8, -12
 4352              		.cfi_offset 9, -8
 4353              		.cfi_offset 14, -4
1291:Lib/soes/src/esc_coe.c ****    uint16_t index;
 4354              		.loc 1 1291 4 view .LVU1384
1292:Lib/soes/src/esc_coe.c ****    int32_t nidx;
 4355              		.loc 1 1292 4 view .LVU1385
1293:Lib/soes/src/esc_coe.c ****    uint8_t *d;
 4356              		.loc 1 1293 4 view .LVU1386
1294:Lib/soes/src/esc_coe.c ****    const uint8_t *s;
 4357              		.loc 1 1294 4 view .LVU1387
1295:Lib/soes/src/esc_coe.c ****    uint8_t n = 0;
 4358              		.loc 1 1295 4 view .LVU1388
1296:Lib/soes/src/esc_coe.c ****    _COEobjdesc *coer, *coel;
 4359              		.loc 1 1296 4 view .LVU1389
 4360              	.LVL447:
1297:Lib/soes/src/esc_coe.c ****    coer = (_COEobjdesc *) &MBX[0];
 4361              		.loc 1 1297 4 view .LVU1390
1298:Lib/soes/src/esc_coe.c ****    index = etohs (coer->index);
 4362              		.loc 1 1298 4 view .LVU1391
1299:Lib/soes/src/esc_coe.c ****    nidx = SDO_findobject (index);
 4363              		.loc 1 1299 4 view .LVU1392
1299:Lib/soes/src/esc_coe.c ****    nidx = SDO_findobject (index);
 4364              		.loc 1 1299 10 is_stmt 0 view .LVU1393
 4365 0004 444B     		ldr	r3, .L273
 4366 0006 B3F80C90 		ldrh	r9, [r3, #12]	@ unaligned
 4367              	.LVL448:
1300:Lib/soes/src/esc_coe.c ****    if (nidx >= 0)
 4368              		.loc 1 1300 4 is_stmt 1 view .LVU1394
1300:Lib/soes/src/esc_coe.c ****    if (nidx >= 0)
 4369              		.loc 1 1300 11 is_stmt 0 view .LVU1395
 4370 000a 1FFA89F0 		uxth	r0, r9
 4371 000e FFF7FEFF 		bl	SDO_findobject
 4372              	.LVL449:
1301:Lib/soes/src/esc_coe.c ****    {
 4373              		.loc 1 1301 4 is_stmt 1 view .LVU1396
1301:Lib/soes/src/esc_coe.c ****    {
 4374              		.loc 1 1301 7 is_stmt 0 view .LVU1397
 4375 0012 B0F10008 		subs	r8, r0, #0
 4376 0016 7ADB     		blt	.L262
1303:Lib/soes/src/esc_coe.c ****       if (MBXout)
 4377              		.loc 1 1303 7 is_stmt 1 view .LVU1398
1303:Lib/soes/src/esc_coe.c ****       if (MBXout)
 4378              		.loc 1 1303 16 is_stmt 0 view .LVU1399
 4379 0018 FFF7FEFF 		bl	ESC_claimbuffer
 4380              	.LVL450:
1304:Lib/soes/src/esc_coe.c ****       {
 4381              		.loc 1 1304 7 is_stmt 1 view .LVU1400
1304:Lib/soes/src/esc_coe.c ****       {
ARM GAS  /tmp/ccpX7xVZ.s 			page 130


 4382              		.loc 1 1304 10 is_stmt 0 view .LVU1401
 4383 001c 0546     		mov	r5, r0
 4384 001e 0028     		cmp	r0, #0
 4385 0020 78D0     		beq	.L261
1306:Lib/soes/src/esc_coe.c ****          coel->mbxheader.mbxtype = MBXCOE;
 4386              		.loc 1 1306 10 is_stmt 1 view .LVU1402
1306:Lib/soes/src/esc_coe.c ****          coel->mbxheader.mbxtype = MBXCOE;
 4387              		.loc 1 1306 47 is_stmt 0 view .LVU1403
 4388 0022 3E4B     		ldr	r3, .L273+4
 4389 0024 DC6E     		ldr	r4, [r3, #108]
1306:Lib/soes/src/esc_coe.c ****          coel->mbxheader.mbxtype = MBXCOE;
 4390              		.loc 1 1306 45 view .LVU1404
 4391 0026 00FB04F4 		mul	r4, r0, r4
1306:Lib/soes/src/esc_coe.c ****          coel->mbxheader.mbxtype = MBXCOE;
 4392              		.loc 1 1306 15 view .LVU1405
 4393 002a 3B4E     		ldr	r6, .L273
 4394 002c A719     		adds	r7, r4, r6
 4395              	.LVL451:
1307:Lib/soes/src/esc_coe.c ****          coel->coeheader.numberservice =
 4396              		.loc 1 1307 10 is_stmt 1 view .LVU1406
1307:Lib/soes/src/esc_coe.c ****          coel->coeheader.numberservice =
 4397              		.loc 1 1307 34 is_stmt 0 view .LVU1407
 4398 002e 7B79     		ldrb	r3, [r7, #5]	@ zero_extendqisi2
 4399 0030 0322     		movs	r2, #3
 4400 0032 62F30303 		bfi	r3, r2, #0, #4
 4401 0036 7B71     		strb	r3, [r7, #5]
1308:Lib/soes/src/esc_coe.c ****             htoes (COE_SDOINFORMATION << 12);
 4402              		.loc 1 1308 10 is_stmt 1 view .LVU1408
1308:Lib/soes/src/esc_coe.c ****             htoes (COE_SDOINFORMATION << 12);
 4403              		.loc 1 1308 40 is_stmt 0 view .LVU1409
 4404 0038 4FF40043 		mov	r3, #32768
 4405 003c FB80     		strh	r3, [r7, #6]	@ movhi
1310:Lib/soes/src/esc_coe.c ****          coel->infoheader.incomplete = 0;
 4406              		.loc 1 1310 10 is_stmt 1 view .LVU1410
1310:Lib/soes/src/esc_coe.c ****          coel->infoheader.incomplete = 0;
 4407              		.loc 1 1310 34 is_stmt 0 view .LVU1411
 4408 003e 3B7A     		ldrb	r3, [r7, #8]	@ zero_extendqisi2
 4409 0040 0422     		movs	r2, #4
 4410 0042 62F30603 		bfi	r3, r2, #0, #7
 4411 0046 3B72     		strb	r3, [r7, #8]
1311:Lib/soes/src/esc_coe.c ****          coel->infoheader.reserved = 0x00;
 4412              		.loc 1 1311 10 is_stmt 1 view .LVU1412
1311:Lib/soes/src/esc_coe.c ****          coel->infoheader.reserved = 0x00;
 4413              		.loc 1 1311 38 is_stmt 0 view .LVU1413
 4414 0048 DBB2     		uxtb	r3, r3
 4415 004a 6FF3C713 		bfc	r3, #7, #1
 4416 004e 3B72     		strb	r3, [r7, #8]
1312:Lib/soes/src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (0);
 4417              		.loc 1 1312 10 is_stmt 1 view .LVU1414
1312:Lib/soes/src/esc_coe.c ****          coel->infoheader.fragmentsleft = htoes (0);
 4418              		.loc 1 1312 36 is_stmt 0 view .LVU1415
 4419 0050 0023     		movs	r3, #0
 4420 0052 7B72     		strb	r3, [r7, #9]
1313:Lib/soes/src/esc_coe.c ****          coel->index = htoes (index);
 4421              		.loc 1 1313 10 is_stmt 1 view .LVU1416
1313:Lib/soes/src/esc_coe.c ****          coel->index = htoes (index);
 4422              		.loc 1 1313 41 is_stmt 0 view .LVU1417
ARM GAS  /tmp/ccpX7xVZ.s 			page 131


 4423 0054 7B81     		strh	r3, [r7, #10]	@ movhi
1314:Lib/soes/src/esc_coe.c ****          if (SDOobjects[nidx].objtype == OTYPE_VAR)
 4424              		.loc 1 1314 10 is_stmt 1 view .LVU1418
1314:Lib/soes/src/esc_coe.c ****          if (SDOobjects[nidx].objtype == OTYPE_VAR)
 4425              		.loc 1 1314 22 is_stmt 0 view .LVU1419
 4426 0056 A7F80C90 		strh	r9, [r7, #12]	@ movhi
1315:Lib/soes/src/esc_coe.c ****          {
 4427              		.loc 1 1315 10 is_stmt 1 view .LVU1420
1315:Lib/soes/src/esc_coe.c ****          {
 4428              		.loc 1 1315 30 is_stmt 0 view .LVU1421
 4429 005a 314B     		ldr	r3, .L273+8
 4430 005c 03EB0813 		add	r3, r3, r8, lsl #4
 4431 0060 B3F80290 		ldrh	r9, [r3, #2]
 4432              	.LVL452:
1315:Lib/soes/src/esc_coe.c ****          {
 4433              		.loc 1 1315 13 view .LVU1422
 4434 0064 B9F1070F 		cmp	r9, #7
 4435 0068 15D0     		beq	.L271
1322:Lib/soes/src/esc_coe.c ****          {
 4436              		.loc 1 1322 15 is_stmt 1 view .LVU1423
1322:Lib/soes/src/esc_coe.c ****          {
 4437              		.loc 1 1322 18 is_stmt 0 view .LVU1424
 4438 006a B9F1080F 		cmp	r9, #8
 4439 006e 23D0     		beq	.L272
1331:Lib/soes/src/esc_coe.c ****             coel->maxsub = (uint8_t)SDOobjects[nidx].objdesc->value;
 4440              		.loc 1 1331 13 is_stmt 1 view .LVU1425
1331:Lib/soes/src/esc_coe.c ****             coel->maxsub = (uint8_t)SDOobjects[nidx].objdesc->value;
 4441              		.loc 1 1331 28 is_stmt 0 view .LVU1426
 4442 0070 0023     		movs	r3, #0
 4443 0072 FB81     		strh	r3, [r7, #14]	@ movhi
1332:Lib/soes/src/esc_coe.c ****          }
 4444              		.loc 1 1332 13 is_stmt 1 view .LVU1427
1332:Lib/soes/src/esc_coe.c ****          }
 4445              		.loc 1 1332 53 is_stmt 0 view .LVU1428
 4446 0074 2A4B     		ldr	r3, .L273+8
 4447 0076 03EB0813 		add	r3, r3, r8, lsl #4
 4448 007a DB68     		ldr	r3, [r3, #12]
1332:Lib/soes/src/esc_coe.c ****          }
 4449              		.loc 1 1332 28 view .LVU1429
 4450 007c 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
1332:Lib/soes/src/esc_coe.c ****          }
 4451              		.loc 1 1332 26 view .LVU1430
 4452 007e 3B74     		strb	r3, [r7, #16]
 4453              	.LVL453:
 4454              	.L265:
1334:Lib/soes/src/esc_coe.c ****          s = (uint8_t *) SDOobjects[nidx].name;
 4455              		.loc 1 1334 10 is_stmt 1 view .LVU1431
1334:Lib/soes/src/esc_coe.c ****          s = (uint8_t *) SDOobjects[nidx].name;
 4456              		.loc 1 1334 27 is_stmt 0 view .LVU1432
 4457 0080 87F81190 		strb	r9, [r7, #17]
1335:Lib/soes/src/esc_coe.c ****          d = (uint8_t *) &(coel->name);
 4458              		.loc 1 1335 10 is_stmt 1 view .LVU1433
1335:Lib/soes/src/esc_coe.c ****          d = (uint8_t *) &(coel->name);
 4459              		.loc 1 1335 12 is_stmt 0 view .LVU1434
 4460 0084 2648     		ldr	r0, .L273+8
 4461 0086 00EB0810 		add	r0, r0, r8, lsl #4
 4462 008a D0F808C0 		ldr	ip, [r0, #8]
ARM GAS  /tmp/ccpX7xVZ.s 			page 132


 4463              	.LVL454:
1336:Lib/soes/src/esc_coe.c ****          while (*s && (n < (ESC_MBXDSIZE - 0x0c)))
 4464              		.loc 1 1336 10 is_stmt 1 view .LVU1435
1336:Lib/soes/src/esc_coe.c ****          while (*s && (n < (ESC_MBXDSIZE - 0x0c)))
 4465              		.loc 1 1336 12 is_stmt 0 view .LVU1436
 4466 008e 07F11201 		add	r1, r7, #18
 4467              	.LVL455:
1337:Lib/soes/src/esc_coe.c ****          {
 4468              		.loc 1 1337 10 is_stmt 1 view .LVU1437
1296:Lib/soes/src/esc_coe.c ****    _COEobjdesc *coer, *coel;
 4469              		.loc 1 1296 12 is_stmt 0 view .LVU1438
 4470 0092 0023     		movs	r3, #0
1337:Lib/soes/src/esc_coe.c ****          {
 4471              		.loc 1 1337 16 view .LVU1439
 4472 0094 27E0     		b	.L267
 4473              	.LVL456:
 4474              	.L271:
 4475              	.LBB20:
1317:Lib/soes/src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
 4476              		.loc 1 1317 13 is_stmt 1 view .LVU1440
1317:Lib/soes/src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
 4477              		.loc 1 1317 28 is_stmt 0 view .LVU1441
 4478 0096 0021     		movs	r1, #0
 4479 0098 4046     		mov	r0, r8
 4480              	.LVL457:
1317:Lib/soes/src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
 4481              		.loc 1 1317 28 view .LVU1442
 4482 009a FFF7FEFF 		bl	SDO_findsubindex
 4483              	.LVL458:
1318:Lib/soes/src/esc_coe.c ****             coel->datatype = htoes ((objd + nsub)->datatype);
 4484              		.loc 1 1318 13 is_stmt 1 view .LVU1443
1318:Lib/soes/src/esc_coe.c ****             coel->datatype = htoes ((objd + nsub)->datatype);
 4485              		.loc 1 1318 26 is_stmt 0 view .LVU1444
 4486 009e 204B     		ldr	r3, .L273+8
 4487 00a0 03EB0813 		add	r3, r3, r8, lsl #4
 4488 00a4 DA68     		ldr	r2, [r3, #12]
 4489              	.LVL459:
1319:Lib/soes/src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].maxsub;
 4490              		.loc 1 1319 13 is_stmt 1 view .LVU1445
1319:Lib/soes/src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].maxsub;
 4491              		.loc 1 1319 30 is_stmt 0 view .LVU1446
 4492 00a6 00EB8000 		add	r0, r0, r0, lsl #2
 4493              	.LVL460:
1319:Lib/soes/src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].maxsub;
 4494              		.loc 1 1319 30 view .LVU1447
 4495 00aa 02EB8000 		add	r0, r2, r0, lsl #2
 4496 00ae 4288     		ldrh	r2, [r0, #2]
 4497              	.LVL461:
1319:Lib/soes/src/esc_coe.c ****             coel->maxsub = SDOobjects[nidx].maxsub;
 4498              		.loc 1 1319 28 view .LVU1448
 4499 00b0 FA81     		strh	r2, [r7, #14]	@ movhi
1320:Lib/soes/src/esc_coe.c ****          }
 4500              		.loc 1 1320 13 is_stmt 1 view .LVU1449
1320:Lib/soes/src/esc_coe.c ****          }
 4501              		.loc 1 1320 44 is_stmt 0 view .LVU1450
 4502 00b2 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 4503              	.LVL462:
ARM GAS  /tmp/ccpX7xVZ.s 			page 133


1320:Lib/soes/src/esc_coe.c ****          }
 4504              		.loc 1 1320 26 view .LVU1451
 4505 00b4 3B74     		strb	r3, [r7, #16]
 4506              	.LBE20:
 4507 00b6 E3E7     		b	.L265
 4508              	.LVL463:
 4509              	.L272:
 4510              	.LBB21:
1324:Lib/soes/src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
 4511              		.loc 1 1324 13 is_stmt 1 view .LVU1452
1324:Lib/soes/src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
 4512              		.loc 1 1324 28 is_stmt 0 view .LVU1453
 4513 00b8 0021     		movs	r1, #0
 4514 00ba 4046     		mov	r0, r8
 4515              	.LVL464:
1324:Lib/soes/src/esc_coe.c ****             const _objd *objd = SDOobjects[nidx].objdesc;
 4516              		.loc 1 1324 28 view .LVU1454
 4517 00bc FFF7FEFF 		bl	SDO_findsubindex
 4518              	.LVL465:
1325:Lib/soes/src/esc_coe.c ****             coel->datatype = htoes ((objd + nsub)->datatype);
 4519              		.loc 1 1325 13 is_stmt 1 view .LVU1455
1325:Lib/soes/src/esc_coe.c ****             coel->datatype = htoes ((objd + nsub)->datatype);
 4520              		.loc 1 1325 26 is_stmt 0 view .LVU1456
 4521 00c0 174B     		ldr	r3, .L273+8
 4522 00c2 03EB0813 		add	r3, r3, r8, lsl #4
 4523 00c6 DB68     		ldr	r3, [r3, #12]
 4524              	.LVL466:
1326:Lib/soes/src/esc_coe.c ****             coel->maxsub = (uint8_t)SDOobjects[nidx].objdesc->value;
 4525              		.loc 1 1326 13 is_stmt 1 view .LVU1457
1326:Lib/soes/src/esc_coe.c ****             coel->maxsub = (uint8_t)SDOobjects[nidx].objdesc->value;
 4526              		.loc 1 1326 30 is_stmt 0 view .LVU1458
 4527 00c8 00EB8000 		add	r0, r0, r0, lsl #2
 4528              	.LVL467:
1326:Lib/soes/src/esc_coe.c ****             coel->maxsub = (uint8_t)SDOobjects[nidx].objdesc->value;
 4529              		.loc 1 1326 30 view .LVU1459
 4530 00cc 03EB8000 		add	r0, r3, r0, lsl #2
 4531 00d0 4288     		ldrh	r2, [r0, #2]
1326:Lib/soes/src/esc_coe.c ****             coel->maxsub = (uint8_t)SDOobjects[nidx].objdesc->value;
 4532              		.loc 1 1326 28 view .LVU1460
 4533 00d2 FA81     		strh	r2, [r7, #14]	@ movhi
1327:Lib/soes/src/esc_coe.c ****          }
 4534              		.loc 1 1327 13 is_stmt 1 view .LVU1461
1327:Lib/soes/src/esc_coe.c ****          }
 4535              		.loc 1 1327 28 is_stmt 0 view .LVU1462
 4536 00d4 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 4537              	.LVL468:
1327:Lib/soes/src/esc_coe.c ****          }
 4538              		.loc 1 1327 26 view .LVU1463
 4539 00d6 3B74     		strb	r3, [r7, #16]
 4540              	.LBE21:
 4541 00d8 D2E7     		b	.L265
 4542              	.LVL469:
 4543              	.L269:
1339:Lib/soes/src/esc_coe.c ****             n++;
 4544              		.loc 1 1339 13 is_stmt 1 view .LVU1464
1339:Lib/soes/src/esc_coe.c ****             n++;
 4545              		.loc 1 1339 16 is_stmt 0 view .LVU1465
ARM GAS  /tmp/ccpX7xVZ.s 			page 134


 4546 00da 01F8010B 		strb	r0, [r1], #1
 4547              	.LVL470:
1340:Lib/soes/src/esc_coe.c ****             s++;
 4548              		.loc 1 1340 13 is_stmt 1 view .LVU1466
1340:Lib/soes/src/esc_coe.c ****             s++;
 4549              		.loc 1 1340 14 is_stmt 0 view .LVU1467
 4550 00de 0133     		adds	r3, r3, #1
 4551              	.LVL471:
1340:Lib/soes/src/esc_coe.c ****             s++;
 4552              		.loc 1 1340 14 view .LVU1468
 4553 00e0 DBB2     		uxtb	r3, r3
 4554              	.LVL472:
1341:Lib/soes/src/esc_coe.c ****             d++;
 4555              		.loc 1 1341 13 is_stmt 1 view .LVU1469
1341:Lib/soes/src/esc_coe.c ****             d++;
 4556              		.loc 1 1341 14 is_stmt 0 view .LVU1470
 4557 00e2 0CF1010C 		add	ip, ip, #1
 4558              	.LVL473:
1342:Lib/soes/src/esc_coe.c ****          }
 4559              		.loc 1 1342 13 is_stmt 1 view .LVU1471
 4560              	.L267:
1337:Lib/soes/src/esc_coe.c ****          {
 4561              		.loc 1 1337 16 view .LVU1472
1337:Lib/soes/src/esc_coe.c ****          {
 4562              		.loc 1 1337 17 is_stmt 0 view .LVU1473
 4563 00e6 9CF80000 		ldrb	r0, [ip]	@ zero_extendqisi2
1337:Lib/soes/src/esc_coe.c ****          {
 4564              		.loc 1 1337 16 view .LVU1474
 4565 00ea 20B1     		cbz	r0, .L268
1337:Lib/soes/src/esc_coe.c ****          {
 4566              		.loc 1 1337 29 discriminator 1 view .LVU1475
 4567 00ec 0B4A     		ldr	r2, .L273+4
 4568 00ee D26E     		ldr	r2, [r2, #108]
1337:Lib/soes/src/esc_coe.c ****          {
 4569              		.loc 1 1337 42 discriminator 1 view .LVU1476
 4570 00f0 123A     		subs	r2, r2, #18
1337:Lib/soes/src/esc_coe.c ****          {
 4571              		.loc 1 1337 20 discriminator 1 view .LVU1477
 4572 00f2 9342     		cmp	r3, r2
 4573 00f4 F1D3     		bcc	.L269
 4574              	.L268:
1344:Lib/soes/src/esc_coe.c ****          coel->mbxheader.length = htoes (0x0C + n);
 4575              		.loc 1 1344 10 is_stmt 1 view .LVU1478
1344:Lib/soes/src/esc_coe.c ****          coel->mbxheader.length = htoes (0x0C + n);
 4576              		.loc 1 1344 13 is_stmt 0 view .LVU1479
 4577 00f6 0870     		strb	r0, [r1]
1345:Lib/soes/src/esc_coe.c ****          MBXcontrol[MBXout].state = MBXstate_outreq;
 4578              		.loc 1 1345 10 is_stmt 1 view .LVU1480
1345:Lib/soes/src/esc_coe.c ****          MBXcontrol[MBXout].state = MBXstate_outreq;
 4579              		.loc 1 1345 35 is_stmt 0 view .LVU1481
 4580 00f8 0C33     		adds	r3, r3, #12
 4581              	.LVL474:
1345:Lib/soes/src/esc_coe.c ****          MBXcontrol[MBXout].state = MBXstate_outreq;
 4582              		.loc 1 1345 33 view .LVU1482
 4583 00fa A353     		strh	r3, [r4, r6]	@ movhi
1346:Lib/soes/src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
 4584              		.loc 1 1346 10 is_stmt 1 view .LVU1483
ARM GAS  /tmp/ccpX7xVZ.s 			page 135


1346:Lib/soes/src/esc_coe.c ****          MBXcontrol[0].state = MBXstate_idle;
 4585              		.loc 1 1346 35 is_stmt 0 view .LVU1484
 4586 00fc 094A     		ldr	r2, .L273+12
 4587 00fe 0323     		movs	r3, #3
 4588 0100 5355     		strb	r3, [r2, r5]
1347:Lib/soes/src/esc_coe.c ****          ESCvar.xoe = 0;
 4589              		.loc 1 1347 10 is_stmt 1 view .LVU1485
1347:Lib/soes/src/esc_coe.c ****          ESCvar.xoe = 0;
 4590              		.loc 1 1347 30 is_stmt 0 view .LVU1486
 4591 0102 0023     		movs	r3, #0
 4592 0104 1370     		strb	r3, [r2]
1348:Lib/soes/src/esc_coe.c ****       }
 4593              		.loc 1 1348 10 is_stmt 1 view .LVU1487
1348:Lib/soes/src/esc_coe.c ****       }
 4594              		.loc 1 1348 21 is_stmt 0 view .LVU1488
 4595 0106 054A     		ldr	r2, .L273+4
 4596 0108 82F88E30 		strb	r3, [r2, #142]
 4597 010c 02E0     		b	.L261
 4598              	.LVL475:
 4599              	.L262:
1353:Lib/soes/src/esc_coe.c ****    }
 4600              		.loc 1 1353 7 is_stmt 1 view .LVU1489
 4601 010e 0648     		ldr	r0, .L273+16
 4602              	.LVL476:
1353:Lib/soes/src/esc_coe.c ****    }
 4603              		.loc 1 1353 7 is_stmt 0 view .LVU1490
 4604 0110 FFF7FEFF 		bl	SDO_infoerror
 4605              	.LVL477:
 4606              	.L261:
1355:Lib/soes/src/esc_coe.c **** 
 4607              		.loc 1 1355 1 view .LVU1491
 4608 0114 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 4609              	.LVL478:
 4610              	.L274:
1355:Lib/soes/src/esc_coe.c **** 
 4611              		.loc 1 1355 1 view .LVU1492
 4612              		.align	2
 4613              	.L273:
 4614 0118 00000000 		.word	MBX
 4615 011c 00000000 		.word	ESCvar
 4616 0120 00000000 		.word	SDOobjects
 4617 0124 00000000 		.word	MBXcontrol
 4618 0128 00000206 		.word	100794368
 4619              		.cfi_endproc
 4620              	.LFE18:
 4622              		.section	.text.SDO_geted,"ax",%progbits
 4623              		.align	1
 4624              		.syntax unified
 4625              		.thumb
 4626              		.thumb_func
 4628              	SDO_geted:
 4629              	.LFB19:
1362:Lib/soes/src/esc_coe.c ****    uint8_t MBXout;
 4630              		.loc 1 1362 1 is_stmt 1 view -0
 4631              		.cfi_startproc
 4632              		@ args = 0, pretend = 0, frame = 0
 4633              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccpX7xVZ.s 			page 136


 4634 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 4635              		.cfi_def_cfa_offset 24
 4636              		.cfi_offset 4, -24
 4637              		.cfi_offset 5, -20
 4638              		.cfi_offset 6, -16
 4639              		.cfi_offset 7, -12
 4640              		.cfi_offset 8, -8
 4641              		.cfi_offset 14, -4
1363:Lib/soes/src/esc_coe.c ****    uint16_t index;
 4642              		.loc 1 1363 4 view .LVU1494
1364:Lib/soes/src/esc_coe.c ****    int32_t nidx;
 4643              		.loc 1 1364 4 view .LVU1495
1365:Lib/soes/src/esc_coe.c ****    int16_t nsub;
 4644              		.loc 1 1365 4 view .LVU1496
1366:Lib/soes/src/esc_coe.c ****    uint8_t subindex;
 4645              		.loc 1 1366 4 view .LVU1497
1367:Lib/soes/src/esc_coe.c ****    uint8_t *d;
 4646              		.loc 1 1367 4 view .LVU1498
1368:Lib/soes/src/esc_coe.c ****    const uint8_t *s;
 4647              		.loc 1 1368 4 view .LVU1499
1369:Lib/soes/src/esc_coe.c ****    const _objd *objd;
 4648              		.loc 1 1369 4 view .LVU1500
1370:Lib/soes/src/esc_coe.c ****    uint8_t n = 0;
 4649              		.loc 1 1370 4 view .LVU1501
1371:Lib/soes/src/esc_coe.c ****    _COEentdesc *coer, *coel;
 4650              		.loc 1 1371 4 view .LVU1502
 4651              	.LVL479:
1372:Lib/soes/src/esc_coe.c ****    coer = (_COEentdesc *) &MBX[0];
 4652              		.loc 1 1372 4 view .LVU1503
1373:Lib/soes/src/esc_coe.c ****    index = etohs (coer->index);
 4653              		.loc 1 1373 4 view .LVU1504
1374:Lib/soes/src/esc_coe.c ****    subindex = coer->subindex;
 4654              		.loc 1 1374 4 view .LVU1505
1374:Lib/soes/src/esc_coe.c ****    subindex = coer->subindex;
 4655              		.loc 1 1374 10 is_stmt 0 view .LVU1506
 4656 0004 344B     		ldr	r3, .L283
 4657 0006 9D89     		ldrh	r5, [r3, #12]	@ unaligned
 4658              	.LVL480:
1375:Lib/soes/src/esc_coe.c ****    nidx = SDO_findobject (index);
 4659              		.loc 1 1375 4 is_stmt 1 view .LVU1507
1375:Lib/soes/src/esc_coe.c ****    nidx = SDO_findobject (index);
 4660              		.loc 1 1375 13 is_stmt 0 view .LVU1508
 4661 0008 9E7B     		ldrb	r6, [r3, #14]	@ zero_extendqisi2
 4662              	.LVL481:
1376:Lib/soes/src/esc_coe.c ****    if (nidx >= 0)
 4663              		.loc 1 1376 4 is_stmt 1 view .LVU1509
1376:Lib/soes/src/esc_coe.c ****    if (nidx >= 0)
 4664              		.loc 1 1376 11 is_stmt 0 view .LVU1510
 4665 000a A8B2     		uxth	r0, r5
 4666 000c FFF7FEFF 		bl	SDO_findobject
 4667              	.LVL482:
1377:Lib/soes/src/esc_coe.c ****    {
 4668              		.loc 1 1377 4 is_stmt 1 view .LVU1511
1377:Lib/soes/src/esc_coe.c ****    {
 4669              		.loc 1 1377 7 is_stmt 0 view .LVU1512
 4670 0010 071E     		subs	r7, r0, #0
 4671 0012 5CDB     		blt	.L276
ARM GAS  /tmp/ccpX7xVZ.s 			page 137


1379:Lib/soes/src/esc_coe.c ****       if (nsub >= 0)
 4672              		.loc 1 1379 7 is_stmt 1 view .LVU1513
1379:Lib/soes/src/esc_coe.c ****       if (nsub >= 0)
 4673              		.loc 1 1379 14 is_stmt 0 view .LVU1514
 4674 0014 3146     		mov	r1, r6
 4675 0016 3846     		mov	r0, r7
1379:Lib/soes/src/esc_coe.c ****       if (nsub >= 0)
 4676              		.loc 1 1379 14 view .LVU1515
 4677 0018 FFF7FEFF 		bl	SDO_findsubindex
 4678              	.LVL483:
1380:Lib/soes/src/esc_coe.c ****       {
 4679              		.loc 1 1380 7 is_stmt 1 view .LVU1516
1380:Lib/soes/src/esc_coe.c ****       {
 4680              		.loc 1 1380 10 is_stmt 0 view .LVU1517
 4681 001c 041E     		subs	r4, r0, #0
 4682 001e 51DB     		blt	.L277
1382:Lib/soes/src/esc_coe.c ****          MBXout = ESC_claimbuffer ();
 4683              		.loc 1 1382 10 is_stmt 1 view .LVU1518
1382:Lib/soes/src/esc_coe.c ****          MBXout = ESC_claimbuffer ();
 4684              		.loc 1 1382 15 is_stmt 0 view .LVU1519
 4685 0020 2E48     		ldr	r0, .L283+4
 4686              	.LVL484:
1382:Lib/soes/src/esc_coe.c ****          MBXout = ESC_claimbuffer ();
 4687              		.loc 1 1382 15 view .LVU1520
 4688 0022 00EB0710 		add	r0, r0, r7, lsl #4
 4689 0026 C768     		ldr	r7, [r0, #12]
 4690              	.LVL485:
1383:Lib/soes/src/esc_coe.c ****          if (MBXout)
 4691              		.loc 1 1383 10 is_stmt 1 view .LVU1521
1383:Lib/soes/src/esc_coe.c ****          if (MBXout)
 4692              		.loc 1 1383 19 is_stmt 0 view .LVU1522
 4693 0028 FFF7FEFF 		bl	ESC_claimbuffer
 4694              	.LVL486:
1384:Lib/soes/src/esc_coe.c ****          {
 4695              		.loc 1 1384 10 is_stmt 1 view .LVU1523
1384:Lib/soes/src/esc_coe.c ****          {
 4696              		.loc 1 1384 13 is_stmt 0 view .LVU1524
 4697 002c 8646     		mov	lr, r0
 4698 002e 0028     		cmp	r0, #0
 4699 0030 4BD0     		beq	.L275
1386:Lib/soes/src/esc_coe.c ****             coel->mbxheader.mbxtype = MBXCOE;
 4700              		.loc 1 1386 13 is_stmt 1 view .LVU1525
1386:Lib/soes/src/esc_coe.c ****             coel->mbxheader.mbxtype = MBXCOE;
 4701              		.loc 1 1386 50 is_stmt 0 view .LVU1526
 4702 0032 2B4B     		ldr	r3, .L283+8
 4703 0034 DB6E     		ldr	r3, [r3, #108]
1386:Lib/soes/src/esc_coe.c ****             coel->mbxheader.mbxtype = MBXCOE;
 4704              		.loc 1 1386 48 view .LVU1527
 4705 0036 03FB00FC 		mul	ip, r3, r0
1386:Lib/soes/src/esc_coe.c ****             coel->mbxheader.mbxtype = MBXCOE;
 4706              		.loc 1 1386 18 view .LVU1528
 4707 003a 2748     		ldr	r0, .L283
 4708              	.LVL487:
1386:Lib/soes/src/esc_coe.c ****             coel->mbxheader.mbxtype = MBXCOE;
 4709              		.loc 1 1386 18 view .LVU1529
 4710 003c 0CEB0002 		add	r2, ip, r0
 4711              	.LVL488:
ARM GAS  /tmp/ccpX7xVZ.s 			page 138


1387:Lib/soes/src/esc_coe.c ****             coel->coeheader.numberservice =
 4712              		.loc 1 1387 13 is_stmt 1 view .LVU1530
1387:Lib/soes/src/esc_coe.c ****             coel->coeheader.numberservice =
 4713              		.loc 1 1387 37 is_stmt 0 view .LVU1531
 4714 0040 5379     		ldrb	r3, [r2, #5]	@ zero_extendqisi2
 4715 0042 0321     		movs	r1, #3
 4716 0044 61F30303 		bfi	r3, r1, #0, #4
 4717 0048 5371     		strb	r3, [r2, #5]
1388:Lib/soes/src/esc_coe.c ****                htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 4718              		.loc 1 1388 13 is_stmt 1 view .LVU1532
1388:Lib/soes/src/esc_coe.c ****                htoes ((0 & 0x01f) | (COE_SDOINFORMATION << 12));
 4719              		.loc 1 1388 43 is_stmt 0 view .LVU1533
 4720 004a 0023     		movs	r3, #0
 4721 004c 9371     		strb	r3, [r2, #6]
 4722 004e 6FF07F01 		mvn	r1, #127
 4723 0052 D171     		strb	r1, [r2, #7]
1390:Lib/soes/src/esc_coe.c ****             coel->infoheader.incomplete = 0;
 4724              		.loc 1 1390 13 is_stmt 1 view .LVU1534
1390:Lib/soes/src/esc_coe.c ****             coel->infoheader.incomplete = 0;
 4725              		.loc 1 1390 37 is_stmt 0 view .LVU1535
 4726 0054 117A     		ldrb	r1, [r2, #8]	@ zero_extendqisi2
 4727 0056 4FF00608 		mov	r8, #6
 4728 005a 68F30601 		bfi	r1, r8, #0, #7
 4729 005e 1172     		strb	r1, [r2, #8]
1391:Lib/soes/src/esc_coe.c ****             coel->infoheader.reserved = 0x00;
 4730              		.loc 1 1391 13 is_stmt 1 view .LVU1536
1391:Lib/soes/src/esc_coe.c ****             coel->infoheader.reserved = 0x00;
 4731              		.loc 1 1391 41 is_stmt 0 view .LVU1537
 4732 0060 C9B2     		uxtb	r1, r1
 4733 0062 63F3C711 		bfi	r1, r3, #7, #1
 4734 0066 1172     		strb	r1, [r2, #8]
1392:Lib/soes/src/esc_coe.c ****             coel->infoheader.fragmentsleft = htoes (0);
 4735              		.loc 1 1392 13 is_stmt 1 view .LVU1538
1392:Lib/soes/src/esc_coe.c ****             coel->infoheader.fragmentsleft = htoes (0);
 4736              		.loc 1 1392 39 is_stmt 0 view .LVU1539
 4737 0068 5372     		strb	r3, [r2, #9]
1393:Lib/soes/src/esc_coe.c ****             coel->index = htoes (index);
 4738              		.loc 1 1393 13 is_stmt 1 view .LVU1540
1393:Lib/soes/src/esc_coe.c ****             coel->index = htoes (index);
 4739              		.loc 1 1393 44 is_stmt 0 view .LVU1541
 4740 006a 9372     		strb	r3, [r2, #10]
 4741 006c D372     		strb	r3, [r2, #11]
1394:Lib/soes/src/esc_coe.c ****             coel->subindex = subindex;
 4742              		.loc 1 1394 13 is_stmt 1 view .LVU1542
1394:Lib/soes/src/esc_coe.c ****             coel->subindex = subindex;
 4743              		.loc 1 1394 25 is_stmt 0 view .LVU1543
 4744 006e 9581     		strh	r5, [r2, #12]	@ unaligned
1395:Lib/soes/src/esc_coe.c ****             coel->valueinfo = COE_VALUEINFO_ACCESS +
 4745              		.loc 1 1395 13 is_stmt 1 view .LVU1544
1395:Lib/soes/src/esc_coe.c ****             coel->valueinfo = COE_VALUEINFO_ACCESS +
 4746              		.loc 1 1395 28 is_stmt 0 view .LVU1545
 4747 0070 9673     		strb	r6, [r2, #14]
1396:Lib/soes/src/esc_coe.c ****                COE_VALUEINFO_OBJECT + COE_VALUEINFO_MAPPABLE;
 4748              		.loc 1 1396 13 is_stmt 1 view .LVU1546
1396:Lib/soes/src/esc_coe.c ****                COE_VALUEINFO_OBJECT + COE_VALUEINFO_MAPPABLE;
 4749              		.loc 1 1396 29 is_stmt 0 view .LVU1547
 4750 0072 0721     		movs	r1, #7
ARM GAS  /tmp/ccpX7xVZ.s 			page 139


 4751 0074 D173     		strb	r1, [r2, #15]
1398:Lib/soes/src/esc_coe.c ****             coel->bitlength = htoes ((objd + nsub)->bitlength);
 4752              		.loc 1 1398 13 is_stmt 1 view .LVU1548
1398:Lib/soes/src/esc_coe.c ****             coel->bitlength = htoes ((objd + nsub)->bitlength);
 4753              		.loc 1 1398 30 is_stmt 0 view .LVU1549
 4754 0076 04EB8404 		add	r4, r4, r4, lsl #2
 4755 007a 07EB8407 		add	r7, r7, r4, lsl #2
 4756              	.LVL489:
1398:Lib/soes/src/esc_coe.c ****             coel->bitlength = htoes ((objd + nsub)->bitlength);
 4757              		.loc 1 1398 30 view .LVU1550
 4758 007e 7988     		ldrh	r1, [r7, #2]
1398:Lib/soes/src/esc_coe.c ****             coel->bitlength = htoes ((objd + nsub)->bitlength);
 4759              		.loc 1 1398 28 view .LVU1551
 4760 0080 1182     		strh	r1, [r2, #16]	@ unaligned
1399:Lib/soes/src/esc_coe.c ****             coel->access = htoes ((objd + nsub)->flags);
 4761              		.loc 1 1399 13 is_stmt 1 view .LVU1552
1399:Lib/soes/src/esc_coe.c ****             coel->access = htoes ((objd + nsub)->flags);
 4762              		.loc 1 1399 31 is_stmt 0 view .LVU1553
 4763 0082 B988     		ldrh	r1, [r7, #4]
1399:Lib/soes/src/esc_coe.c ****             coel->access = htoes ((objd + nsub)->flags);
 4764              		.loc 1 1399 29 view .LVU1554
 4765 0084 5182     		strh	r1, [r2, #18]	@ unaligned
1400:Lib/soes/src/esc_coe.c ****             s = (uint8_t *) (objd + nsub)->name;
 4766              		.loc 1 1400 13 is_stmt 1 view .LVU1555
1400:Lib/soes/src/esc_coe.c ****             s = (uint8_t *) (objd + nsub)->name;
 4767              		.loc 1 1400 28 is_stmt 0 view .LVU1556
 4768 0086 F988     		ldrh	r1, [r7, #6]
1400:Lib/soes/src/esc_coe.c ****             s = (uint8_t *) (objd + nsub)->name;
 4769              		.loc 1 1400 26 view .LVU1557
 4770 0088 9182     		strh	r1, [r2, #20]	@ unaligned
1401:Lib/soes/src/esc_coe.c ****             d = (uint8_t *) &(coel->name);
 4771              		.loc 1 1401 13 is_stmt 1 view .LVU1558
1401:Lib/soes/src/esc_coe.c ****             d = (uint8_t *) &(coel->name);
 4772              		.loc 1 1401 15 is_stmt 0 view .LVU1559
 4773 008a BD68     		ldr	r5, [r7, #8]
 4774              	.LVL490:
1402:Lib/soes/src/esc_coe.c ****             while (*s && (n < (ESC_MBXDSIZE - 0x10)))
 4775              		.loc 1 1402 13 is_stmt 1 view .LVU1560
1402:Lib/soes/src/esc_coe.c ****             while (*s && (n < (ESC_MBXDSIZE - 0x10)))
 4776              		.loc 1 1402 15 is_stmt 0 view .LVU1561
 4777 008c 1632     		adds	r2, r2, #22
 4778              	.LVL491:
1403:Lib/soes/src/esc_coe.c ****             {
 4779              		.loc 1 1403 13 is_stmt 1 view .LVU1562
 4780              	.L279:
1403:Lib/soes/src/esc_coe.c ****             {
 4781              		.loc 1 1403 19 view .LVU1563
1403:Lib/soes/src/esc_coe.c ****             {
 4782              		.loc 1 1403 20 is_stmt 0 view .LVU1564
 4783 008e 2C78     		ldrb	r4, [r5]	@ zero_extendqisi2
1403:Lib/soes/src/esc_coe.c ****             {
 4784              		.loc 1 1403 19 view .LVU1565
 4785 0090 54B1     		cbz	r4, .L280
1403:Lib/soes/src/esc_coe.c ****             {
 4786              		.loc 1 1403 32 discriminator 1 view .LVU1566
 4787 0092 1349     		ldr	r1, .L283+8
 4788 0094 C96E     		ldr	r1, [r1, #108]
ARM GAS  /tmp/ccpX7xVZ.s 			page 140


1403:Lib/soes/src/esc_coe.c ****             {
 4789              		.loc 1 1403 45 discriminator 1 view .LVU1567
 4790 0096 1639     		subs	r1, r1, #22
1403:Lib/soes/src/esc_coe.c ****             {
 4791              		.loc 1 1403 23 discriminator 1 view .LVU1568
 4792 0098 8B42     		cmp	r3, r1
 4793 009a 05D2     		bcs	.L280
1405:Lib/soes/src/esc_coe.c ****                n++;
 4794              		.loc 1 1405 16 is_stmt 1 view .LVU1569
1405:Lib/soes/src/esc_coe.c ****                n++;
 4795              		.loc 1 1405 19 is_stmt 0 view .LVU1570
 4796 009c 02F8014B 		strb	r4, [r2], #1
 4797              	.LVL492:
1406:Lib/soes/src/esc_coe.c ****                s++;
 4798              		.loc 1 1406 16 is_stmt 1 view .LVU1571
1406:Lib/soes/src/esc_coe.c ****                s++;
 4799              		.loc 1 1406 17 is_stmt 0 view .LVU1572
 4800 00a0 0133     		adds	r3, r3, #1
 4801              	.LVL493:
1406:Lib/soes/src/esc_coe.c ****                s++;
 4802              		.loc 1 1406 17 view .LVU1573
 4803 00a2 DBB2     		uxtb	r3, r3
 4804              	.LVL494:
1407:Lib/soes/src/esc_coe.c ****                d++;
 4805              		.loc 1 1407 16 is_stmt 1 view .LVU1574
1407:Lib/soes/src/esc_coe.c ****                d++;
 4806              		.loc 1 1407 17 is_stmt 0 view .LVU1575
 4807 00a4 0135     		adds	r5, r5, #1
 4808              	.LVL495:
1408:Lib/soes/src/esc_coe.c ****             }
 4809              		.loc 1 1408 16 is_stmt 1 view .LVU1576
1408:Lib/soes/src/esc_coe.c ****             }
 4810              		.loc 1 1408 16 is_stmt 0 view .LVU1577
 4811 00a6 F2E7     		b	.L279
 4812              	.L280:
1410:Lib/soes/src/esc_coe.c ****             coel->mbxheader.length = htoes (0x10 + n);
 4813              		.loc 1 1410 13 is_stmt 1 view .LVU1578
1410:Lib/soes/src/esc_coe.c ****             coel->mbxheader.length = htoes (0x10 + n);
 4814              		.loc 1 1410 16 is_stmt 0 view .LVU1579
 4815 00a8 1470     		strb	r4, [r2]
1411:Lib/soes/src/esc_coe.c ****             MBXcontrol[MBXout].state = MBXstate_outreq;
 4816              		.loc 1 1411 13 is_stmt 1 view .LVU1580
1411:Lib/soes/src/esc_coe.c ****             MBXcontrol[MBXout].state = MBXstate_outreq;
 4817              		.loc 1 1411 38 is_stmt 0 view .LVU1581
 4818 00aa 1033     		adds	r3, r3, #16
 4819              	.LVL496:
1411:Lib/soes/src/esc_coe.c ****             MBXcontrol[MBXout].state = MBXstate_outreq;
 4820              		.loc 1 1411 36 view .LVU1582
 4821 00ac 2CF80030 		strh	r3, [ip, r0]	@ unaligned
1412:Lib/soes/src/esc_coe.c ****             MBXcontrol[0].state = MBXstate_idle;
 4822              		.loc 1 1412 13 is_stmt 1 view .LVU1583
1412:Lib/soes/src/esc_coe.c ****             MBXcontrol[0].state = MBXstate_idle;
 4823              		.loc 1 1412 38 is_stmt 0 view .LVU1584
 4824 00b0 0C4A     		ldr	r2, .L283+12
 4825              	.LVL497:
1412:Lib/soes/src/esc_coe.c ****             MBXcontrol[0].state = MBXstate_idle;
 4826              		.loc 1 1412 38 view .LVU1585
ARM GAS  /tmp/ccpX7xVZ.s 			page 141


 4827 00b2 0323     		movs	r3, #3
 4828 00b4 02F80E30 		strb	r3, [r2, lr]
1413:Lib/soes/src/esc_coe.c ****             ESCvar.xoe = 0;
 4829              		.loc 1 1413 13 is_stmt 1 view .LVU1586
1413:Lib/soes/src/esc_coe.c ****             ESCvar.xoe = 0;
 4830              		.loc 1 1413 33 is_stmt 0 view .LVU1587
 4831 00b8 0023     		movs	r3, #0
 4832 00ba 1370     		strb	r3, [r2]
1414:Lib/soes/src/esc_coe.c ****          }
 4833              		.loc 1 1414 13 is_stmt 1 view .LVU1588
1414:Lib/soes/src/esc_coe.c ****          }
 4834              		.loc 1 1414 24 is_stmt 0 view .LVU1589
 4835 00bc 084A     		ldr	r2, .L283+8
 4836 00be 82F88E30 		strb	r3, [r2, #142]
 4837 00c2 02E0     		b	.L275
 4838              	.LVL498:
 4839              	.L277:
1419:Lib/soes/src/esc_coe.c ****       }
 4840              		.loc 1 1419 10 is_stmt 1 view .LVU1590
 4841 00c4 0848     		ldr	r0, .L283+16
 4842              	.LVL499:
1419:Lib/soes/src/esc_coe.c ****       }
 4843              		.loc 1 1419 10 is_stmt 0 view .LVU1591
 4844 00c6 FFF7FEFF 		bl	SDO_infoerror
 4845              	.LVL500:
 4846              	.L275:
1426:Lib/soes/src/esc_coe.c **** 
 4847              		.loc 1 1426 1 view .LVU1592
 4848 00ca BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 4849              	.LVL501:
 4850              	.L276:
1424:Lib/soes/src/esc_coe.c ****    }
 4851              		.loc 1 1424 7 is_stmt 1 view .LVU1593
 4852 00ce 0748     		ldr	r0, .L283+20
 4853              	.LVL502:
1424:Lib/soes/src/esc_coe.c ****    }
 4854              		.loc 1 1424 7 is_stmt 0 view .LVU1594
 4855 00d0 FFF7FEFF 		bl	SDO_infoerror
 4856              	.LVL503:
1426:Lib/soes/src/esc_coe.c **** 
 4857              		.loc 1 1426 1 view .LVU1595
 4858 00d4 F9E7     		b	.L275
 4859              	.L284:
 4860 00d6 00BF     		.align	2
 4861              	.L283:
 4862 00d8 00000000 		.word	MBX
 4863 00dc 00000000 		.word	SDOobjects
 4864 00e0 00000000 		.word	ESCvar
 4865 00e4 00000000 		.word	MBXcontrol
 4866 00e8 11000906 		.word	101253137
 4867 00ec 00000206 		.word	100794368
 4868              		.cfi_endproc
 4869              	.LFE19:
 4871              		.section	.text.sizeOfPDO,"ax",%progbits
 4872              		.align	1
 4873              		.global	sizeOfPDO
 4874              		.syntax unified
ARM GAS  /tmp/ccpX7xVZ.s 			page 142


 4875              		.thumb
 4876              		.thumb_func
 4878              	sizeOfPDO:
 4879              	.LVL504:
 4880              	.LFB2:
 120:Lib/soes/src/esc_coe.c ****    uint32_t offset = 0;
 4881              		.loc 1 120 1 is_stmt 1 view -0
 4882              		.cfi_startproc
 4883              		@ args = 0, pretend = 0, frame = 24
 4884              		@ frame_needed = 0, uses_anonymous_args = 0
 120:Lib/soes/src/esc_coe.c ****    uint32_t offset = 0;
 4885              		.loc 1 120 1 is_stmt 0 view .LVU1597
 4886 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 4887              		.cfi_def_cfa_offset 36
 4888              		.cfi_offset 4, -36
 4889              		.cfi_offset 5, -32
 4890              		.cfi_offset 6, -28
 4891              		.cfi_offset 7, -24
 4892              		.cfi_offset 8, -20
 4893              		.cfi_offset 9, -16
 4894              		.cfi_offset 10, -12
 4895              		.cfi_offset 11, -8
 4896              		.cfi_offset 14, -4
 4897 0004 87B0     		sub	sp, sp, #28
 4898              		.cfi_def_cfa_offset 64
 4899 0006 0591     		str	r1, [sp, #20]
 4900 0008 0192     		str	r2, [sp, #4]
 4901 000a 9B46     		mov	fp, r3
 121:Lib/soes/src/esc_coe.c ****    uint16_t hobj;
 4902              		.loc 1 121 4 is_stmt 1 view .LVU1598
 4903              	.LVL505:
 122:Lib/soes/src/esc_coe.c ****    uint8_t si, sic, c;
 4904              		.loc 1 122 4 view .LVU1599
 123:Lib/soes/src/esc_coe.c ****    int32_t nidx;
 4905              		.loc 1 123 4 view .LVU1600
 124:Lib/soes/src/esc_coe.c ****    const _objd *objd;
 4906              		.loc 1 124 4 view .LVU1601
 125:Lib/soes/src/esc_coe.c ****    const _objd *objd1c1x;
 4907              		.loc 1 125 4 view .LVU1602
 126:Lib/soes/src/esc_coe.c ****    int mapIx = 0;
 4908              		.loc 1 126 4 view .LVU1603
 127:Lib/soes/src/esc_coe.c **** 
 4909              		.loc 1 127 4 view .LVU1604
 129:Lib/soes/src/esc_coe.c ****    {
 4910              		.loc 1 129 4 view .LVU1605
 129:Lib/soes/src/esc_coe.c ****    {
 4911              		.loc 1 129 33 is_stmt 0 view .LVU1606
 4912 000c A0F5E053 		sub	r3, r0, #7168
 4913              	.LVL506:
 129:Lib/soes/src/esc_coe.c ****    {
 4914              		.loc 1 129 33 view .LVU1607
 4915 0010 123B     		subs	r3, r3, #18
 4916 0012 9BB2     		uxth	r3, r3
 129:Lib/soes/src/esc_coe.c ****    {
 4917              		.loc 1 129 7 view .LVU1608
 4918 0014 012B     		cmp	r3, #1
 4919 0016 00F2AE80 		bhi	.L311
ARM GAS  /tmp/ccpX7xVZ.s 			page 143


 134:Lib/soes/src/esc_coe.c ****    if(nidx < 0)
 4920              		.loc 1 134 4 is_stmt 1 view .LVU1609
 134:Lib/soes/src/esc_coe.c ****    if(nidx < 0)
 4921              		.loc 1 134 11 is_stmt 0 view .LVU1610
 4922 001a FFF7FEFF 		bl	SDO_findobject
 4923              	.LVL507:
 135:Lib/soes/src/esc_coe.c ****    {
 4924              		.loc 1 135 4 is_stmt 1 view .LVU1611
 135:Lib/soes/src/esc_coe.c ****    {
 4925              		.loc 1 135 6 is_stmt 0 view .LVU1612
 4926 001e 0028     		cmp	r0, #0
 135:Lib/soes/src/esc_coe.c ****    {
 4927              		.loc 1 135 6 view .LVU1613
 4928 0020 C0F2AD80 		blt	.L312
 140:Lib/soes/src/esc_coe.c **** 
 4929              		.loc 1 140 4 is_stmt 1 view .LVU1614
 140:Lib/soes/src/esc_coe.c **** 
 4930              		.loc 1 140 13 is_stmt 0 view .LVU1615
 4931 0024 574B     		ldr	r3, .L318
 4932 0026 03EB0010 		add	r0, r3, r0, lsl #4
 4933              	.LVL508:
 140:Lib/soes/src/esc_coe.c **** 
 4934              		.loc 1 140 13 view .LVU1616
 4935 002a C368     		ldr	r3, [r0, #12]
 4936 002c 0493     		str	r3, [sp, #16]
 4937              	.LVL509:
 142:Lib/soes/src/esc_coe.c ****    if (si)
 4938              		.loc 1 142 4 is_stmt 1 view .LVU1617
 142:Lib/soes/src/esc_coe.c ****    if (si)
 4939              		.loc 1 142 9 is_stmt 0 view .LVU1618
 4940 002e 1B69     		ldr	r3, [r3, #16]
 4941              	.LVL510:
 142:Lib/soes/src/esc_coe.c ****    if (si)
 4942              		.loc 1 142 7 view .LVU1619
 4943 0030 9BB1     		cbz	r3, .L287
 142:Lib/soes/src/esc_coe.c ****    if (si)
 4944              		.loc 1 142 7 discriminator 1 view .LVU1620
 4945 0032 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4946 0034 0393     		str	r3, [sp, #12]
 4947              	.L288:
 4948              	.LVL511:
 143:Lib/soes/src/esc_coe.c ****    {
 4949              		.loc 1 143 4 is_stmt 1 discriminator 4 view .LVU1621
 143:Lib/soes/src/esc_coe.c ****    {
 4950              		.loc 1 143 7 is_stmt 0 discriminator 4 view .LVU1622
 4951 0036 039B     		ldr	r3, [sp, #12]
 4952 0038 002B     		cmp	r3, #0
 4953 003a 40F09280 		bne	.L313
 127:Lib/soes/src/esc_coe.c **** 
 4954              		.loc 1 127 8 view .LVU1623
 4955 003e 4FF00008 		mov	r8, #0
 121:Lib/soes/src/esc_coe.c ****    uint16_t hobj;
 4956              		.loc 1 121 13 view .LVU1624
 4957 0042 4746     		mov	r7, r8
 4958              	.LVL512:
 4959              	.L290:
 228:Lib/soes/src/esc_coe.c ****    {
ARM GAS  /tmp/ccpX7xVZ.s 			page 144


 4960              		.loc 1 228 4 is_stmt 1 view .LVU1625
 228:Lib/soes/src/esc_coe.c ****    {
 4961              		.loc 1 228 7 is_stmt 0 view .LVU1626
 4962 0044 BBF1000F 		cmp	fp, #0
 4963 0048 40F39180 		ble	.L309
 230:Lib/soes/src/esc_coe.c ****    }
 4964              		.loc 1 230 7 is_stmt 1 view .LVU1627
 230:Lib/soes/src/esc_coe.c ****    }
 4965              		.loc 1 230 18 is_stmt 0 view .LVU1628
 4966 004c 059B     		ldr	r3, [sp, #20]
 4967 004e C3F80080 		str	r8, [r3]
 4968              	.L310:
 237:Lib/soes/src/esc_coe.c **** }
 4969              		.loc 1 237 4 is_stmt 1 view .LVU1629
 237:Lib/soes/src/esc_coe.c **** }
 4970              		.loc 1 237 11 is_stmt 0 view .LVU1630
 4971 0052 F81D     		adds	r0, r7, #7
 237:Lib/soes/src/esc_coe.c **** }
 4972              		.loc 1 237 31 view .LVU1631
 4973 0054 C0F3CF00 		ubfx	r0, r0, #3, #16
 4974 0058 8EE0     		b	.L286
 4975              	.LVL513:
 4976              	.L287:
 142:Lib/soes/src/esc_coe.c ****    if (si)
 4977              		.loc 1 142 7 discriminator 2 view .LVU1632
 4978 005a 049B     		ldr	r3, [sp, #16]
 4979 005c 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 4980 005e 0393     		str	r3, [sp, #12]
 4981 0060 E9E7     		b	.L288
 4982              	.LVL514:
 4983              	.L291:
 147:Lib/soes/src/esc_coe.c ****          nidx = SDO_findobject (hobj);
 4984              		.loc 1 147 15 discriminator 2 view .LVU1633
 4985 0062 9889     		ldrh	r0, [r3, #12]
 4986 0064 6CE0     		b	.L292
 4987              	.LVL515:
 4988              	.L294:
 4989              	.LBB22:
 154:Lib/soes/src/esc_coe.c **** 
 4990              		.loc 1 154 20 discriminator 2 view .LVU1634
 4991 0066 9AF80C30 		ldrb	r3, [r10, #12]	@ zero_extendqisi2
 4992 006a 0093     		str	r3, [sp]
 4993 006c 77E0     		b	.L295
 4994              	.LVL516:
 4995              	.L297:
 4996              	.LBB23:
 158:Lib/soes/src/esc_coe.c ****                uint8_t bitlength = value & 0xFF;
 4997              		.loc 1 158 33 discriminator 2 view .LVU1635
 4998 006e DE68     		ldr	r6, [r3, #12]
 4999 0070 36E0     		b	.L298
 5000              	.LVL517:
 5001              	.L317:
 5002              	.LBB24:
 170:Lib/soes/src/esc_coe.c ****                      return 0;
 5003              		.loc 1 170 22 is_stmt 1 view .LVU1636
 170:Lib/soes/src/esc_coe.c ****                      return 0;
 5004              		.loc 1 170 33 is_stmt 0 view .LVU1637
ARM GAS  /tmp/ccpX7xVZ.s 			page 145


 5005 0072 4FF0FF33 		mov	r3, #-1
 5006 0076 059A     		ldr	r2, [sp, #20]
 5007 0078 1360     		str	r3, [r2]
 171:Lib/soes/src/esc_coe.c ****                   }
 5008              		.loc 1 171 22 is_stmt 1 view .LVU1638
 171:Lib/soes/src/esc_coe.c ****                   }
 5009              		.loc 1 171 29 is_stmt 0 view .LVU1639
 5010 007a 0020     		movs	r0, #0
 5011              	.LVL518:
 171:Lib/soes/src/esc_coe.c ****                   }
 5012              		.loc 1 171 29 view .LVU1640
 5013 007c 7CE0     		b	.L286
 5014              	.LVL519:
 5015              	.L301:
 186:Lib/soes/src/esc_coe.c ****                      if (nidx >= 0)
 5016              		.loc 1 186 22 is_stmt 1 view .LVU1641
 186:Lib/soes/src/esc_coe.c ****                      if (nidx >= 0)
 5017              		.loc 1 186 29 is_stmt 0 view .LVU1642
 5018 007e FFF7FEFF 		bl	SDO_findobject
 5019              	.LVL520:
 187:Lib/soes/src/esc_coe.c ****                      {
 5020              		.loc 1 187 22 is_stmt 1 view .LVU1643
 187:Lib/soes/src/esc_coe.c ****                      {
 5021              		.loc 1 187 25 is_stmt 0 view .LVU1644
 5022 0082 051E     		subs	r5, r0, #0
 5023 0084 41DB     		blt	.L303
 5024              	.LBB25:
 189:Lib/soes/src/esc_coe.c **** 
 5025              		.loc 1 189 25 is_stmt 1 view .LVU1645
 191:Lib/soes/src/esc_coe.c ****                         if (nsub < 0)
 5026              		.loc 1 191 25 view .LVU1646
 191:Lib/soes/src/esc_coe.c ****                         if (nsub < 0)
 5027              		.loc 1 191 32 is_stmt 0 view .LVU1647
 5028 0086 4946     		mov	r1, r9
 5029 0088 2846     		mov	r0, r5
 191:Lib/soes/src/esc_coe.c ****                         if (nsub < 0)
 5030              		.loc 1 191 32 view .LVU1648
 5031 008a FFF7FEFF 		bl	SDO_findsubindex
 5032              	.LVL521:
 192:Lib/soes/src/esc_coe.c ****                         {
 5033              		.loc 1 192 25 is_stmt 1 view .LVU1649
 192:Lib/soes/src/esc_coe.c ****                         {
 5034              		.loc 1 192 28 is_stmt 0 view .LVU1650
 5035 008e 0028     		cmp	r0, #0
 5036              	.LVL522:
 192:Lib/soes/src/esc_coe.c ****                         {
 5037              		.loc 1 192 28 view .LVU1651
 5038 0090 35DB     		blt	.L316
 199:Lib/soes/src/esc_coe.c ****                      }
 5039              		.loc 1 199 25 is_stmt 1 view .LVU1652
 199:Lib/soes/src/esc_coe.c ****                      }
 5040              		.loc 1 199 52 is_stmt 0 view .LVU1653
 5041 0092 3C4B     		ldr	r3, .L318
 5042 0094 03EB0513 		add	r3, r3, r5, lsl #4
 5043 0098 DB68     		ldr	r3, [r3, #12]
 199:Lib/soes/src/esc_coe.c ****                      }
 5044              		.loc 1 199 60 view .LVU1654
ARM GAS  /tmp/ccpX7xVZ.s 			page 146


 5045 009a 00EB8000 		add	r0, r0, r0, lsl #2
 199:Lib/soes/src/esc_coe.c ****                      }
 5046              		.loc 1 199 33 view .LVU1655
 5047 009e 03EB8000 		add	r0, r3, r0, lsl #2
 5048              	.LVL523:
 5049              	.L302:
 199:Lib/soes/src/esc_coe.c ****                      }
 5050              		.loc 1 199 33 view .LVU1656
 5051              	.LBE25:
 209:Lib/soes/src/esc_coe.c ****                   /* Save object list reference */
 5052              		.loc 1 209 19 is_stmt 1 view .LVU1657
 209:Lib/soes/src/esc_coe.c ****                   /* Save object list reference */
 5053              		.loc 1 209 27 is_stmt 0 view .LVU1658
 5054 00a2 08EB4803 		add	r3, r8, r8, lsl #1
 5055 00a6 0199     		ldr	r1, [sp, #4]
 5056 00a8 01EB8302 		add	r2, r1, r3, lsl #2
 209:Lib/soes/src/esc_coe.c ****                   /* Save object list reference */
 5057              		.loc 1 209 39 view .LVU1659
 5058 00ac 41F82300 		str	r0, [r1, r3, lsl #2]
 211:Lib/soes/src/esc_coe.c ****                   {
 5059              		.loc 1 211 19 is_stmt 1 view .LVU1660
 211:Lib/soes/src/esc_coe.c ****                   {
 5060              		.loc 1 211 21 is_stmt 0 view .LVU1661
 5061 00b0 0028     		cmp	r0, #0
 5062 00b2 30D0     		beq	.L305
 213:Lib/soes/src/esc_coe.c ****                   }
 5063              		.loc 1 213 22 is_stmt 1 view .LVU1662
 213:Lib/soes/src/esc_coe.c ****                   }
 5064              		.loc 1 213 55 is_stmt 0 view .LVU1663
 5065 00b4 334B     		ldr	r3, .L318
 5066 00b6 03EB0513 		add	r3, r3, r5, lsl #4
 213:Lib/soes/src/esc_coe.c ****                   }
 5067              		.loc 1 213 53 view .LVU1664
 5068 00ba 5360     		str	r3, [r2, #4]
 5069              	.L306:
 219:Lib/soes/src/esc_coe.c ****                }
 5070              		.loc 1 219 19 is_stmt 1 view .LVU1665
 219:Lib/soes/src/esc_coe.c ****                }
 5071              		.loc 1 219 33 is_stmt 0 view .LVU1666
 5072 00bc 08F10108 		add	r8, r8, #1
 5073              	.LVL524:
 219:Lib/soes/src/esc_coe.c ****                }
 5074              		.loc 1 219 44 view .LVU1667
 5075 00c0 9760     		str	r7, [r2, #8]
 5076              	.LVL525:
 5077              	.L299:
 219:Lib/soes/src/esc_coe.c ****                }
 5078              		.loc 1 219 44 view .LVU1668
 5079              	.LBE24:
 222:Lib/soes/src/esc_coe.c ****             }
 5080              		.loc 1 222 16 is_stmt 1 discriminator 2 view .LVU1669
 222:Lib/soes/src/esc_coe.c ****             }
 5081              		.loc 1 222 23 is_stmt 0 discriminator 2 view .LVU1670
 5082 00c2 57FA86F7 		uxtab	r7, r7, r6
 5083              	.LVL526:
 222:Lib/soes/src/esc_coe.c ****             }
 5084              		.loc 1 222 23 discriminator 2 view .LVU1671
ARM GAS  /tmp/ccpX7xVZ.s 			page 147


 5085              	.LBE23:
 156:Lib/soes/src/esc_coe.c ****             {
 5086              		.loc 1 156 38 is_stmt 1 discriminator 2 view .LVU1672
 156:Lib/soes/src/esc_coe.c ****             {
 5087              		.loc 1 156 39 is_stmt 0 discriminator 2 view .LVU1673
 5088 00c6 0134     		adds	r4, r4, #1
 5089              	.LVL527:
 156:Lib/soes/src/esc_coe.c ****             {
 5090              		.loc 1 156 39 discriminator 2 view .LVU1674
 5091 00c8 E4B2     		uxtb	r4, r4
 5092              	.LVL528:
 5093              	.L296:
 156:Lib/soes/src/esc_coe.c ****             {
 5094              		.loc 1 156 25 is_stmt 1 discriminator 1 view .LVU1675
 156:Lib/soes/src/esc_coe.c ****             {
 5095              		.loc 1 156 13 is_stmt 0 discriminator 1 view .LVU1676
 5096 00ca 009B     		ldr	r3, [sp]
 5097 00cc 9C42     		cmp	r4, r3
 5098 00ce 25D8     		bhi	.L293
 5099              	.LBB28:
 158:Lib/soes/src/esc_coe.c ****                uint8_t bitlength = value & 0xFF;
 5100              		.loc 1 158 16 is_stmt 1 view .LVU1677
 158:Lib/soes/src/esc_coe.c ****                uint8_t bitlength = value & 0xFF;
 5101              		.loc 1 158 33 is_stmt 0 view .LVU1678
 5102 00d0 04EB8403 		add	r3, r4, r4, lsl #2
 5103 00d4 0AEB8303 		add	r3, r10, r3, lsl #2
 5104 00d8 1A69     		ldr	r2, [r3, #16]
 5105 00da 002A     		cmp	r2, #0
 5106 00dc C7D0     		beq	.L297
 158:Lib/soes/src/esc_coe.c ****                uint8_t bitlength = value & 0xFF;
 5107              		.loc 1 158 33 discriminator 1 view .LVU1679
 5108 00de 1668     		ldr	r6, [r2]
 5109              	.L298:
 5110              	.LVL529:
 159:Lib/soes/src/esc_coe.c **** 
 5111              		.loc 1 159 16 is_stmt 1 discriminator 4 view .LVU1680
 161:Lib/soes/src/esc_coe.c ****                {
 5112              		.loc 1 161 16 discriminator 4 view .LVU1681
 161:Lib/soes/src/esc_coe.c ****                {
 5113              		.loc 1 161 19 is_stmt 0 discriminator 4 view .LVU1682
 5114 00e0 BBF1000F 		cmp	fp, #0
 5115 00e4 EDDD     		ble	.L299
 5116              	.LBB27:
 163:Lib/soes/src/esc_coe.c ****                   uint8_t subindex = (value >> 8) & 0xFF;
 5117              		.loc 1 163 19 is_stmt 1 view .LVU1683
 163:Lib/soes/src/esc_coe.c ****                   uint8_t subindex = (value >> 8) & 0xFF;
 5118              		.loc 1 163 28 is_stmt 0 view .LVU1684
 5119 00e6 300C     		lsrs	r0, r6, #16
 5120              	.LVL530:
 164:Lib/soes/src/esc_coe.c ****                   const _objd * mapping;
 5121              		.loc 1 164 19 is_stmt 1 view .LVU1685
 164:Lib/soes/src/esc_coe.c ****                   const _objd * mapping;
 5122              		.loc 1 164 27 is_stmt 0 view .LVU1686
 5123 00e8 C6F30729 		ubfx	r9, r6, #8, #8
 5124              	.LVL531:
 165:Lib/soes/src/esc_coe.c **** 
 5125              		.loc 1 165 19 is_stmt 1 view .LVU1687
ARM GAS  /tmp/ccpX7xVZ.s 			page 148


 167:Lib/soes/src/esc_coe.c ****                   {
 5126              		.loc 1 167 19 view .LVU1688
 167:Lib/soes/src/esc_coe.c ****                   {
 5127              		.loc 1 167 22 is_stmt 0 view .LVU1689
 5128 00ec D845     		cmp	r8, fp
 5129 00ee C0D0     		beq	.L317
 177:Lib/soes/src/esc_coe.c **** 
 5130              		.loc 1 177 32 is_stmt 1 view .LVU1690
 179:Lib/soes/src/esc_coe.c ****                   {
 5131              		.loc 1 179 19 view .LVU1691
 179:Lib/soes/src/esc_coe.c ****                   {
 5132              		.loc 1 179 22 is_stmt 0 view .LVU1692
 5133 00f0 0028     		cmp	r0, #0
 5134 00f2 C4D1     		bne	.L301
 179:Lib/soes/src/esc_coe.c ****                   {
 5135              		.loc 1 179 34 discriminator 1 view .LVU1693
 5136 00f4 B9F1000F 		cmp	r9, #0
 5137 00f8 C1D1     		bne	.L301
 182:Lib/soes/src/esc_coe.c ****                   }
 5138              		.loc 1 182 30 view .LVU1694
 5139 00fa 0020     		movs	r0, #0
 5140              	.LVL532:
 182:Lib/soes/src/esc_coe.c ****                   }
 5141              		.loc 1 182 30 view .LVU1695
 5142 00fc D1E7     		b	.L302
 5143              	.L316:
 5144              	.LBB26:
 195:Lib/soes/src/esc_coe.c ****                            return 0;
 5145              		.loc 1 195 28 is_stmt 1 view .LVU1696
 195:Lib/soes/src/esc_coe.c ****                            return 0;
 5146              		.loc 1 195 39 is_stmt 0 view .LVU1697
 5147 00fe 4FF0FF33 		mov	r3, #-1
 5148 0102 059A     		ldr	r2, [sp, #20]
 5149 0104 1360     		str	r3, [r2]
 196:Lib/soes/src/esc_coe.c ****                         }
 5150              		.loc 1 196 28 is_stmt 1 view .LVU1698
 196:Lib/soes/src/esc_coe.c ****                         }
 5151              		.loc 1 196 35 is_stmt 0 view .LVU1699
 5152 0106 0020     		movs	r0, #0
 5153 0108 36E0     		b	.L286
 5154              	.LVL533:
 5155              	.L303:
 196:Lib/soes/src/esc_coe.c ****                         }
 5156              		.loc 1 196 35 view .LVU1700
 5157              	.LBE26:
 204:Lib/soes/src/esc_coe.c ****                         return 0;
 5158              		.loc 1 204 25 is_stmt 1 view .LVU1701
 204:Lib/soes/src/esc_coe.c ****                         return 0;
 5159              		.loc 1 204 36 is_stmt 0 view .LVU1702
 5160 010a 4FF0FF33 		mov	r3, #-1
 5161 010e 059A     		ldr	r2, [sp, #20]
 5162 0110 1360     		str	r3, [r2]
 205:Lib/soes/src/esc_coe.c ****                      }
 5163              		.loc 1 205 25 is_stmt 1 view .LVU1703
 205:Lib/soes/src/esc_coe.c ****                      }
 5164              		.loc 1 205 32 is_stmt 0 view .LVU1704
 5165 0112 0020     		movs	r0, #0
ARM GAS  /tmp/ccpX7xVZ.s 			page 149


 5166              	.LVL534:
 205:Lib/soes/src/esc_coe.c ****                      }
 5167              		.loc 1 205 32 view .LVU1705
 5168 0114 30E0     		b	.L286
 5169              	.LVL535:
 5170              	.L305:
 217:Lib/soes/src/esc_coe.c ****                   }
 5171              		.loc 1 217 22 is_stmt 1 view .LVU1706
 217:Lib/soes/src/esc_coe.c ****                   }
 5172              		.loc 1 217 53 is_stmt 0 view .LVU1707
 5173 0116 0023     		movs	r3, #0
 5174 0118 5360     		str	r3, [r2, #4]
 5175 011a CFE7     		b	.L306
 5176              	.LVL536:
 5177              	.L293:
 217:Lib/soes/src/esc_coe.c ****                   }
 5178              		.loc 1 217 53 view .LVU1708
 5179              	.LBE27:
 5180              	.LBE28:
 5181              	.LBE22:
 145:Lib/soes/src/esc_coe.c ****       {
 5182              		.loc 1 145 32 is_stmt 1 discriminator 2 view .LVU1709
 145:Lib/soes/src/esc_coe.c ****       {
 5183              		.loc 1 145 35 is_stmt 0 discriminator 2 view .LVU1710
 5184 011c 029B     		ldr	r3, [sp, #8]
 5185 011e 0133     		adds	r3, r3, #1
 5186 0120 DBB2     		uxtb	r3, r3
 5187 0122 0293     		str	r3, [sp, #8]
 5188              	.LVL537:
 5189              	.L289:
 145:Lib/soes/src/esc_coe.c ****       {
 5190              		.loc 1 145 21 is_stmt 1 discriminator 1 view .LVU1711
 145:Lib/soes/src/esc_coe.c ****       {
 5191              		.loc 1 145 7 is_stmt 0 discriminator 1 view .LVU1712
 5192 0124 029B     		ldr	r3, [sp, #8]
 5193 0126 039A     		ldr	r2, [sp, #12]
 5194 0128 9342     		cmp	r3, r2
 5195 012a 8BD8     		bhi	.L290
 147:Lib/soes/src/esc_coe.c ****          nidx = SDO_findobject (hobj);
 5196              		.loc 1 147 10 is_stmt 1 view .LVU1713
 147:Lib/soes/src/esc_coe.c ****          nidx = SDO_findobject (hobj);
 5197              		.loc 1 147 17 is_stmt 0 view .LVU1714
 5198 012c 029B     		ldr	r3, [sp, #8]
 5199 012e 03EB8303 		add	r3, r3, r3, lsl #2
 5200 0132 049A     		ldr	r2, [sp, #16]
 5201 0134 02EB8303 		add	r3, r2, r3, lsl #2
 5202 0138 1A69     		ldr	r2, [r3, #16]
 147:Lib/soes/src/esc_coe.c ****          nidx = SDO_findobject (hobj);
 5203              		.loc 1 147 15 view .LVU1715
 5204 013a 002A     		cmp	r2, #0
 5205 013c 91D0     		beq	.L291
 147:Lib/soes/src/esc_coe.c ****          nidx = SDO_findobject (hobj);
 5206              		.loc 1 147 15 discriminator 1 view .LVU1716
 5207 013e 1088     		ldrh	r0, [r2]
 5208              	.L292:
 5209              	.LVL538:
 148:Lib/soes/src/esc_coe.c ****          if (nidx >= 0)
ARM GAS  /tmp/ccpX7xVZ.s 			page 150


 5210              		.loc 1 148 10 is_stmt 1 discriminator 4 view .LVU1717
 148:Lib/soes/src/esc_coe.c ****          if (nidx >= 0)
 5211              		.loc 1 148 17 is_stmt 0 discriminator 4 view .LVU1718
 5212 0140 FFF7FEFF 		bl	SDO_findobject
 5213              	.LVL539:
 149:Lib/soes/src/esc_coe.c ****          {
 5214              		.loc 1 149 10 is_stmt 1 discriminator 4 view .LVU1719
 149:Lib/soes/src/esc_coe.c ****          {
 5215              		.loc 1 149 13 is_stmt 0 discriminator 4 view .LVU1720
 5216 0144 051E     		subs	r5, r0, #0
 5217 0146 E9DB     		blt	.L293
 5218              	.LBB29:
 151:Lib/soes/src/esc_coe.c **** 
 5219              		.loc 1 151 13 is_stmt 1 view .LVU1721
 153:Lib/soes/src/esc_coe.c ****             maxsub = OBJ_VALUE_FETCH (maxsub, objd[0]);
 5220              		.loc 1 153 13 view .LVU1722
 153:Lib/soes/src/esc_coe.c ****             maxsub = OBJ_VALUE_FETCH (maxsub, objd[0]);
 5221              		.loc 1 153 18 is_stmt 0 view .LVU1723
 5222 0148 0E4B     		ldr	r3, .L318
 5223 014a 03EB0513 		add	r3, r3, r5, lsl #4
 5224 014e D3F80CA0 		ldr	r10, [r3, #12]
 5225              	.LVL540:
 154:Lib/soes/src/esc_coe.c **** 
 5226              		.loc 1 154 13 is_stmt 1 view .LVU1724
 154:Lib/soes/src/esc_coe.c **** 
 5227              		.loc 1 154 22 is_stmt 0 view .LVU1725
 5228 0152 DAF81030 		ldr	r3, [r10, #16]
 154:Lib/soes/src/esc_coe.c **** 
 5229              		.loc 1 154 20 view .LVU1726
 5230 0156 002B     		cmp	r3, #0
 5231 0158 85D0     		beq	.L294
 154:Lib/soes/src/esc_coe.c **** 
 5232              		.loc 1 154 20 discriminator 1 view .LVU1727
 5233 015a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5234 015c 0093     		str	r3, [sp]
 5235              	.L295:
 5236              	.LVL541:
 156:Lib/soes/src/esc_coe.c ****             {
 5237              		.loc 1 156 13 is_stmt 1 discriminator 4 view .LVU1728
 156:Lib/soes/src/esc_coe.c ****             {
 5238              		.loc 1 156 20 is_stmt 0 discriminator 4 view .LVU1729
 5239 015e 0124     		movs	r4, #1
 156:Lib/soes/src/esc_coe.c ****             {
 5240              		.loc 1 156 13 discriminator 4 view .LVU1730
 5241 0160 B3E7     		b	.L296
 5242              	.LVL542:
 5243              	.L313:
 156:Lib/soes/src/esc_coe.c ****             {
 5244              		.loc 1 156 13 discriminator 4 view .LVU1731
 5245              	.LBE29:
 127:Lib/soes/src/esc_coe.c **** 
 5246              		.loc 1 127 8 view .LVU1732
 5247 0162 4FF00008 		mov	r8, #0
 145:Lib/soes/src/esc_coe.c ****       {
 5248              		.loc 1 145 16 view .LVU1733
 5249 0166 0123     		movs	r3, #1
 5250 0168 0293     		str	r3, [sp, #8]
ARM GAS  /tmp/ccpX7xVZ.s 			page 151


 121:Lib/soes/src/esc_coe.c ****    uint16_t hobj;
 5251              		.loc 1 121 13 view .LVU1734
 5252 016a 4746     		mov	r7, r8
 5253 016c DAE7     		b	.L289
 5254              	.LVL543:
 5255              	.L309:
 234:Lib/soes/src/esc_coe.c ****    }
 5256              		.loc 1 234 7 is_stmt 1 view .LVU1735
 234:Lib/soes/src/esc_coe.c ****    }
 5257              		.loc 1 234 18 is_stmt 0 view .LVU1736
 5258 016e 0023     		movs	r3, #0
 5259 0170 059A     		ldr	r2, [sp, #20]
 5260 0172 1360     		str	r3, [r2]
 5261 0174 6DE7     		b	.L310
 5262              	.LVL544:
 5263              	.L311:
 131:Lib/soes/src/esc_coe.c ****    }
 5264              		.loc 1 131 14 view .LVU1737
 5265 0176 0020     		movs	r0, #0
 5266              	.LVL545:
 5267              	.L286:
 238:Lib/soes/src/esc_coe.c **** 
 5268              		.loc 1 238 1 view .LVU1738
 5269 0178 07B0     		add	sp, sp, #28
 5270              		.cfi_remember_state
 5271              		.cfi_def_cfa_offset 36
 5272              		@ sp needed
 5273 017a BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 5274              	.LVL546:
 5275              	.L312:
 5276              		.cfi_restore_state
 137:Lib/soes/src/esc_coe.c ****    }
 5277              		.loc 1 137 14 view .LVU1739
 5278 017e 0020     		movs	r0, #0
 5279              	.LVL547:
 137:Lib/soes/src/esc_coe.c ****    }
 5280              		.loc 1 137 14 view .LVU1740
 5281 0180 FAE7     		b	.L286
 5282              	.L319:
 5283 0182 00BF     		.align	2
 5284              	.L318:
 5285 0184 00000000 		.word	SDOobjects
 5286              		.cfi_endproc
 5287              	.LFE2:
 5289              		.section	.text.ESC_coeprocess,"ax",%progbits
 5290              		.align	1
 5291              		.global	ESC_coeprocess
 5292              		.syntax unified
 5293              		.thumb
 5294              		.thumb_func
 5296              	ESC_coeprocess:
 5297              	.LFB20:
1433:Lib/soes/src/esc_coe.c ****    _MBXh *mbh;
 5298              		.loc 1 1433 1 is_stmt 1 view -0
 5299              		.cfi_startproc
 5300              		@ args = 0, pretend = 0, frame = 0
 5301              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccpX7xVZ.s 			page 152


 5302 0000 08B5     		push	{r3, lr}
 5303              		.cfi_def_cfa_offset 8
 5304              		.cfi_offset 3, -8
 5305              		.cfi_offset 14, -4
1434:Lib/soes/src/esc_coe.c ****    _COEsdo *coesdo;
 5306              		.loc 1 1434 4 view .LVU1742
1435:Lib/soes/src/esc_coe.c ****    _COEobjdesc *coeobjdesc;
 5307              		.loc 1 1435 4 view .LVU1743
1436:Lib/soes/src/esc_coe.c ****    uint16_t service;
 5308              		.loc 1 1436 4 view .LVU1744
1437:Lib/soes/src/esc_coe.c ****    if (ESCvar.MBXrun == 0)
 5309              		.loc 1 1437 4 view .LVU1745
1438:Lib/soes/src/esc_coe.c ****    {
 5310              		.loc 1 1438 4 view .LVU1746
1438:Lib/soes/src/esc_coe.c ****    {
 5311              		.loc 1 1438 14 is_stmt 0 view .LVU1747
 5312 0002 4F4B     		ldr	r3, .L348
 5313 0004 93F86830 		ldrb	r3, [r3, #104]	@ zero_extendqisi2
1438:Lib/soes/src/esc_coe.c ****    {
 5314              		.loc 1 1438 7 view .LVU1748
 5315 0008 A3B1     		cbz	r3, .L320
1442:Lib/soes/src/esc_coe.c ****    {
 5316              		.loc 1 1442 4 is_stmt 1 view .LVU1749
1442:Lib/soes/src/esc_coe.c ****    {
 5317              		.loc 1 1442 15 is_stmt 0 view .LVU1750
 5318 000a 4D4B     		ldr	r3, .L348
 5319 000c 93F88E30 		ldrb	r3, [r3, #142]	@ zero_extendqisi2
1442:Lib/soes/src/esc_coe.c ****    {
 5320              		.loc 1 1442 7 view .LVU1751
 5321 0010 1BB9     		cbnz	r3, .L322
1442:Lib/soes/src/esc_coe.c ****    {
 5322              		.loc 1 1442 37 discriminator 1 view .LVU1752
 5323 0012 4C4B     		ldr	r3, .L348+4
 5324 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1442:Lib/soes/src/esc_coe.c ****    {
 5325              		.loc 1 1442 20 discriminator 1 view .LVU1753
 5326 0016 012B     		cmp	r3, #1
 5327 0018 0DD0     		beq	.L337
 5328              	.L322:
1457:Lib/soes/src/esc_coe.c ****    {
 5329              		.loc 1 1457 4 is_stmt 1 view .LVU1754
1457:Lib/soes/src/esc_coe.c ****    {
 5330              		.loc 1 1457 42 is_stmt 0 view .LVU1755
 5331 001a 494B     		ldr	r3, .L348
 5332 001c D3F88C30 		ldr	r3, [r3, #140]
 5333 0020 03F0FF13 		and	r3, r3, #16711935
1457:Lib/soes/src/esc_coe.c ****    {
 5334              		.loc 1 1457 7 view .LVU1756
 5335 0024 B3F5981F 		cmp	r3, #1245184
 5336 0028 18D0     		beq	.L338
 5337              	.L324:
1462:Lib/soes/src/esc_coe.c ****    {
 5338              		.loc 1 1462 4 is_stmt 1 view .LVU1757
1462:Lib/soes/src/esc_coe.c ****    {
 5339              		.loc 1 1462 14 is_stmt 0 view .LVU1758
 5340 002a 454B     		ldr	r3, .L348
 5341 002c 93F88E30 		ldrb	r3, [r3, #142]	@ zero_extendqisi2
ARM GAS  /tmp/ccpX7xVZ.s 			page 153


1462:Lib/soes/src/esc_coe.c ****    {
 5342              		.loc 1 1462 7 view .LVU1759
 5343 0030 032B     		cmp	r3, #3
 5344 0032 16D0     		beq	.L339
 5345              	.L320:
1552:Lib/soes/src/esc_coe.c **** 
 5346              		.loc 1 1552 1 view .LVU1760
 5347 0034 08BD     		pop	{r3, pc}
 5348              	.L337:
1444:Lib/soes/src/esc_coe.c ****       if (mbh->mbxtype == MBXCOE)
 5349              		.loc 1 1444 7 is_stmt 1 view .LVU1761
 5350              	.LVL548:
1445:Lib/soes/src/esc_coe.c ****       {
 5351              		.loc 1 1445 7 view .LVU1762
1445:Lib/soes/src/esc_coe.c ****       {
 5352              		.loc 1 1445 24 is_stmt 0 view .LVU1763
 5353 0036 444B     		ldr	r3, .L348+8
 5354 0038 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 5355 003a 03F00F03 		and	r3, r3, #15
1445:Lib/soes/src/esc_coe.c ****       {
 5356              		.loc 1 1445 10 view .LVU1764
 5357 003e 032B     		cmp	r3, #3
 5358 0040 EBD1     		bne	.L322
1447:Lib/soes/src/esc_coe.c ****          {
 5359              		.loc 1 1447 10 is_stmt 1 view .LVU1765
1447:Lib/soes/src/esc_coe.c ****          {
 5360              		.loc 1 1447 14 is_stmt 0 view .LVU1766
 5361 0042 414B     		ldr	r3, .L348+8
 5362 0044 1B88     		ldrh	r3, [r3]	@ unaligned
1447:Lib/soes/src/esc_coe.c ****          {
 5363              		.loc 1 1447 13 view .LVU1767
 5364 0046 072B     		cmp	r3, #7
 5365 0048 04D9     		bls	.L340
1453:Lib/soes/src/esc_coe.c ****          }
 5366              		.loc 1 1453 13 is_stmt 1 view .LVU1768
1453:Lib/soes/src/esc_coe.c ****          }
 5367              		.loc 1 1453 24 is_stmt 0 view .LVU1769
 5368 004a 3D4B     		ldr	r3, .L348
 5369 004c 0322     		movs	r2, #3
 5370 004e 83F88E20 		strb	r2, [r3, #142]
 5371 0052 E2E7     		b	.L322
 5372              	.L340:
1449:Lib/soes/src/esc_coe.c ****          }
 5373              		.loc 1 1449 13 is_stmt 1 view .LVU1770
 5374 0054 0820     		movs	r0, #8
 5375 0056 FFF7FEFF 		bl	MBX_error
 5376              	.LVL549:
 5377 005a DEE7     		b	.L322
 5378              	.LVL550:
 5379              	.L338:
1460:Lib/soes/src/esc_coe.c ****    }
 5380              		.loc 1 1460 7 view .LVU1771
 5381 005c FFF7FEFF 		bl	SDO_getodlistcont
 5382              	.LVL551:
 5383 0060 E3E7     		b	.L324
 5384              	.L339:
1464:Lib/soes/src/esc_coe.c ****       coeobjdesc = (_COEobjdesc *) &MBX[0];
ARM GAS  /tmp/ccpX7xVZ.s 			page 154


 5385              		.loc 1 1464 7 view .LVU1772
 5386              	.LVL552:
1465:Lib/soes/src/esc_coe.c ****       service = etohs (coesdo->coeheader.numberservice) >> 12;
 5387              		.loc 1 1465 7 view .LVU1773
1466:Lib/soes/src/esc_coe.c ****       if (service == COE_SDOREQUEST)
 5388              		.loc 1 1466 7 view .LVU1774
1466:Lib/soes/src/esc_coe.c ****       if (service == COE_SDOREQUEST)
 5389              		.loc 1 1466 17 is_stmt 0 view .LVU1775
 5390 0062 394B     		ldr	r3, .L348+8
 5391 0064 DB88     		ldrh	r3, [r3, #6]	@ unaligned
1466:Lib/soes/src/esc_coe.c ****       if (service == COE_SDOREQUEST)
 5392              		.loc 1 1466 15 view .LVU1776
 5393 0066 1B0B     		lsrs	r3, r3, #12
 5394              	.LVL553:
1467:Lib/soes/src/esc_coe.c ****       {
 5395              		.loc 1 1467 7 is_stmt 1 view .LVU1777
1467:Lib/soes/src/esc_coe.c ****       {
 5396              		.loc 1 1467 10 is_stmt 0 view .LVU1778
 5397 0068 022B     		cmp	r3, #2
 5398 006a 11D0     		beq	.L341
1510:Lib/soes/src/esc_coe.c ****                && (coeobjdesc->infoheader.opcode == 0x01))
 5399              		.loc 1 1510 10 is_stmt 1 view .LVU1779
1510:Lib/soes/src/esc_coe.c ****                && (coeobjdesc->infoheader.opcode == 0x01))
 5400              		.loc 1 1510 13 is_stmt 0 view .LVU1780
 5401 006c 082B     		cmp	r3, #8
 5402 006e 42D0     		beq	.L342
 5403              	.L331:
1518:Lib/soes/src/esc_coe.c ****                   && (coeobjdesc->infoheader.opcode == 0x03))
 5404              		.loc 1 1518 13 is_stmt 1 view .LVU1781
1518:Lib/soes/src/esc_coe.c ****                   && (coeobjdesc->infoheader.opcode == 0x03))
 5405              		.loc 1 1518 16 is_stmt 0 view .LVU1782
 5406 0070 082B     		cmp	r3, #8
 5407 0072 49D0     		beq	.L343
 5408              	.L332:
1526:Lib/soes/src/esc_coe.c ****                      && (coeobjdesc->infoheader.opcode == 0x05))
 5409              		.loc 1 1526 16 is_stmt 1 view .LVU1783
1526:Lib/soes/src/esc_coe.c ****                      && (coeobjdesc->infoheader.opcode == 0x05))
 5410              		.loc 1 1526 19 is_stmt 0 view .LVU1784
 5411 0074 082B     		cmp	r3, #8
 5412 0076 50D0     		beq	.L344
 5413              	.L333:
1534:Lib/soes/src/esc_coe.c ****                   {
 5414              		.loc 1 1534 19 is_stmt 1 view .LVU1785
1536:Lib/soes/src/esc_coe.c ****                      {
 5415              		.loc 1 1536 22 view .LVU1786
1536:Lib/soes/src/esc_coe.c ****                      {
 5416              		.loc 1 1536 25 is_stmt 0 view .LVU1787
 5417 0078 002B     		cmp	r3, #0
 5418 007a 57D1     		bne	.L334
1538:Lib/soes/src/esc_coe.c ****                      }
 5419              		.loc 1 1538 25 is_stmt 1 view .LVU1788
 5420 007c 0520     		movs	r0, #5
 5421 007e FFF7FEFF 		bl	MBX_error
 5422              	.LVL554:
 5423              	.L335:
1544:Lib/soes/src/esc_coe.c ****                      ESCvar.xoe = 0;
 5424              		.loc 1 1544 22 view .LVU1789
ARM GAS  /tmp/ccpX7xVZ.s 			page 155


1544:Lib/soes/src/esc_coe.c ****                      ESCvar.xoe = 0;
 5425              		.loc 1 1544 42 is_stmt 0 view .LVU1790
 5426 0082 0023     		movs	r3, #0
 5427 0084 2F4A     		ldr	r2, .L348+4
 5428 0086 1370     		strb	r3, [r2]
1545:Lib/soes/src/esc_coe.c ****                   }
 5429              		.loc 1 1545 22 is_stmt 1 view .LVU1791
1545:Lib/soes/src/esc_coe.c ****                   }
 5430              		.loc 1 1545 33 is_stmt 0 view .LVU1792
 5431 0088 2D4A     		ldr	r2, .L348
 5432 008a 82F88E30 		strb	r3, [r2, #142]
 5433 008e D1E7     		b	.L320
 5434              	.LVL555:
 5435              	.L341:
1469:Lib/soes/src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE))
 5436              		.loc 1 1469 10 is_stmt 1 view .LVU1793
1469:Lib/soes/src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE))
 5437              		.loc 1 1469 15 is_stmt 0 view .LVU1794
 5438 0090 2D4B     		ldr	r3, .L348+8
 5439              	.LVL556:
1469:Lib/soes/src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE))
 5440              		.loc 1 1469 15 view .LVU1795
 5441 0092 1A7A     		ldrb	r2, [r3, #8]	@ zero_extendqisi2
 5442 0094 02F0E003 		and	r3, r2, #224
 5443              	.LVL557:
1469:Lib/soes/src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE))
 5444              		.loc 1 1469 13 view .LVU1796
 5445 0098 402B     		cmp	r3, #64
 5446 009a 0AD0     		beq	.L345
 5447              	.L326:
1482:Lib/soes/src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE)
 5448              		.loc 1 1482 15 is_stmt 1 view .LVU1797
1482:Lib/soes/src/esc_coe.c ****                && (etohs (coesdo->mbxheader.length) == COE_HEADERSIZE)
 5449              		.loc 1 1482 18 is_stmt 0 view .LVU1798
 5450 009c 02F0EF01 		and	r1, r2, #239
 5451 00a0 6029     		cmp	r1, #96
 5452 00a2 13D0     		beq	.L346
 5453              	.L328:
1489:Lib/soes/src/esc_coe.c ****          {
 5454              		.loc 1 1489 15 is_stmt 1 view .LVU1799
1489:Lib/soes/src/esc_coe.c ****          {
 5455              		.loc 1 1489 18 is_stmt 0 view .LVU1800
 5456 00a4 202B     		cmp	r3, #32
 5457 00a6 1DD0     		beq	.L347
1501:Lib/soes/src/esc_coe.c ****          {
 5458              		.loc 1 1501 15 is_stmt 1 view .LVU1801
1501:Lib/soes/src/esc_coe.c ****          {
 5459              		.loc 1 1501 18 is_stmt 0 view .LVU1802
 5460 00a8 002B     		cmp	r3, #0
 5461 00aa C3D1     		bne	.L320
1504:Lib/soes/src/esc_coe.c ****          }
 5462              		.loc 1 1504 13 is_stmt 1 view .LVU1803
 5463 00ac FFF7FEFF 		bl	SDO_downloadsegment
 5464              	.LVL558:
1504:Lib/soes/src/esc_coe.c ****          }
 5465              		.loc 1 1504 13 is_stmt 0 view .LVU1804
 5466 00b0 C0E7     		b	.L320
ARM GAS  /tmp/ccpX7xVZ.s 			page 156


 5467              	.LVL559:
 5468              	.L345:
1470:Lib/soes/src/esc_coe.c ****          {
 5469              		.loc 1 1470 20 view .LVU1805
 5470 00b2 2549     		ldr	r1, .L348+8
 5471              	.LVL560:
1470:Lib/soes/src/esc_coe.c ****          {
 5472              		.loc 1 1470 20 view .LVU1806
 5473 00b4 0988     		ldrh	r1, [r1]	@ unaligned
 5474              	.LVL561:
1470:Lib/soes/src/esc_coe.c ****          {
 5475              		.loc 1 1470 16 view .LVU1807
 5476 00b6 0A29     		cmp	r1, #10
 5477 00b8 F0D1     		bne	.L326
1473:Lib/soes/src/esc_coe.c ****             {
 5478              		.loc 1 1473 13 is_stmt 1 view .LVU1808
1473:Lib/soes/src/esc_coe.c ****             {
 5479              		.loc 1 1473 16 is_stmt 0 view .LVU1809
 5480 00ba 12F0100F 		tst	r2, #16
 5481 00be 02D0     		beq	.L327
1475:Lib/soes/src/esc_coe.c ****             }
 5482              		.loc 1 1475 16 is_stmt 1 view .LVU1810
 5483 00c0 FFF7FEFF 		bl	SDO_upload_complete_access
 5484              	.LVL562:
1475:Lib/soes/src/esc_coe.c ****             }
 5485              		.loc 1 1475 16 is_stmt 0 view .LVU1811
 5486 00c4 B6E7     		b	.L320
 5487              	.LVL563:
 5488              	.L327:
1479:Lib/soes/src/esc_coe.c ****             }
 5489              		.loc 1 1479 16 is_stmt 1 view .LVU1812
 5490 00c6 FFF7FEFF 		bl	SDO_upload
 5491              	.LVL564:
1479:Lib/soes/src/esc_coe.c ****             }
 5492              		.loc 1 1479 16 is_stmt 0 view .LVU1813
 5493 00ca B3E7     		b	.L320
 5494              	.LVL565:
 5495              	.L346:
1483:Lib/soes/src/esc_coe.c ****                && (ESCvar.segmented == MBXSEU))
 5496              		.loc 1 1483 20 view .LVU1814
 5497 00cc 1E49     		ldr	r1, .L348+8
 5498              	.LVL566:
1483:Lib/soes/src/esc_coe.c ****                && (ESCvar.segmented == MBXSEU))
 5499              		.loc 1 1483 20 view .LVU1815
 5500 00ce 0988     		ldrh	r1, [r1]	@ unaligned
 5501              	.LVL567:
1483:Lib/soes/src/esc_coe.c ****                && (ESCvar.segmented == MBXSEU))
 5502              		.loc 1 1483 16 view .LVU1816
 5503 00d0 0A29     		cmp	r1, #10
 5504 00d2 E7D1     		bne	.L328
1484:Lib/soes/src/esc_coe.c ****          {
 5505              		.loc 1 1484 26 view .LVU1817
 5506 00d4 1A49     		ldr	r1, .L348
 5507 00d6 91F89110 		ldrb	r1, [r1, #145]	@ zero_extendqisi2
1484:Lib/soes/src/esc_coe.c ****          {
 5508              		.loc 1 1484 16 view .LVU1818
 5509 00da 4029     		cmp	r1, #64
ARM GAS  /tmp/ccpX7xVZ.s 			page 157


 5510 00dc E2D1     		bne	.L328
1487:Lib/soes/src/esc_coe.c ****          }
 5511              		.loc 1 1487 13 is_stmt 1 view .LVU1819
 5512 00de FFF7FEFF 		bl	SDO_uploadsegment
 5513              	.LVL568:
1487:Lib/soes/src/esc_coe.c ****          }
 5514              		.loc 1 1487 13 is_stmt 0 view .LVU1820
 5515 00e2 A7E7     		b	.L320
 5516              	.LVL569:
 5517              	.L347:
1492:Lib/soes/src/esc_coe.c ****             {
 5518              		.loc 1 1492 13 is_stmt 1 view .LVU1821
1492:Lib/soes/src/esc_coe.c ****             {
 5519              		.loc 1 1492 16 is_stmt 0 view .LVU1822
 5520 00e4 12F0100F 		tst	r2, #16
 5521 00e8 02D0     		beq	.L330
1494:Lib/soes/src/esc_coe.c ****             }
 5522              		.loc 1 1494 16 is_stmt 1 view .LVU1823
 5523 00ea FFF7FEFF 		bl	SDO_download_complete_access
 5524              	.LVL570:
1494:Lib/soes/src/esc_coe.c ****             }
 5525              		.loc 1 1494 16 is_stmt 0 view .LVU1824
 5526 00ee A1E7     		b	.L320
 5527              	.LVL571:
 5528              	.L330:
1498:Lib/soes/src/esc_coe.c ****             }
 5529              		.loc 1 1498 16 is_stmt 1 view .LVU1825
 5530 00f0 FFF7FEFF 		bl	SDO_download
 5531              	.LVL572:
1498:Lib/soes/src/esc_coe.c ****             }
 5532              		.loc 1 1498 16 is_stmt 0 view .LVU1826
 5533 00f4 9EE7     		b	.L320
 5534              	.LVL573:
 5535              	.L342:
1511:Lib/soes/src/esc_coe.c ****          {
 5536              		.loc 1 1511 50 view .LVU1827
 5537 00f6 144A     		ldr	r2, .L348+8
 5538 00f8 127A     		ldrb	r2, [r2, #8]	@ zero_extendqisi2
 5539 00fa 02F07F02 		and	r2, r2, #127
1511:Lib/soes/src/esc_coe.c ****          {
 5540              		.loc 1 1511 16 view .LVU1828
 5541 00fe 012A     		cmp	r2, #1
 5542 0100 B6D1     		bne	.L331
1513:Lib/soes/src/esc_coe.c ****          }
 5543              		.loc 1 1513 13 is_stmt 1 view .LVU1829
 5544 0102 FFF7FEFF 		bl	SDO_getodlist
 5545              	.LVL574:
1513:Lib/soes/src/esc_coe.c ****          }
 5546              		.loc 1 1513 13 is_stmt 0 view .LVU1830
 5547 0106 95E7     		b	.L320
 5548              	.LVL575:
 5549              	.L343:
1519:Lib/soes/src/esc_coe.c ****             {
 5550              		.loc 1 1519 53 view .LVU1831
 5551 0108 0F4A     		ldr	r2, .L348+8
 5552 010a 127A     		ldrb	r2, [r2, #8]	@ zero_extendqisi2
 5553 010c 02F07F02 		and	r2, r2, #127
ARM GAS  /tmp/ccpX7xVZ.s 			page 158


1519:Lib/soes/src/esc_coe.c ****             {
 5554              		.loc 1 1519 19 view .LVU1832
 5555 0110 032A     		cmp	r2, #3
 5556 0112 AFD1     		bne	.L332
1521:Lib/soes/src/esc_coe.c ****             }
 5557              		.loc 1 1521 16 is_stmt 1 view .LVU1833
 5558 0114 FFF7FEFF 		bl	SDO_getod
 5559              	.LVL576:
1521:Lib/soes/src/esc_coe.c ****             }
 5560              		.loc 1 1521 16 is_stmt 0 view .LVU1834
 5561 0118 8CE7     		b	.L320
 5562              	.LVL577:
 5563              	.L344:
1527:Lib/soes/src/esc_coe.c ****                {
 5564              		.loc 1 1527 56 view .LVU1835
 5565 011a 0B4A     		ldr	r2, .L348+8
 5566 011c 127A     		ldrb	r2, [r2, #8]	@ zero_extendqisi2
 5567 011e 02F07F02 		and	r2, r2, #127
1527:Lib/soes/src/esc_coe.c ****                {
 5568              		.loc 1 1527 22 view .LVU1836
 5569 0122 052A     		cmp	r2, #5
 5570 0124 A8D1     		bne	.L333
1529:Lib/soes/src/esc_coe.c ****                }
 5571              		.loc 1 1529 19 is_stmt 1 view .LVU1837
 5572 0126 FFF7FEFF 		bl	SDO_geted
 5573              	.LVL578:
1529:Lib/soes/src/esc_coe.c ****                }
 5574              		.loc 1 1529 19 is_stmt 0 view .LVU1838
 5575 012a 83E7     		b	.L320
 5576              	.LVL579:
 5577              	.L334:
1542:Lib/soes/src/esc_coe.c ****                      }
 5578              		.loc 1 1542 25 is_stmt 1 view .LVU1839
1542:Lib/soes/src/esc_coe.c ****                      }
 5579              		.loc 1 1542 39 is_stmt 0 view .LVU1840
 5580 012c 0649     		ldr	r1, .L348+8
1542:Lib/soes/src/esc_coe.c ****                      }
 5581              		.loc 1 1542 25 view .LVU1841
 5582 012e 074B     		ldr	r3, .L348+12
 5583              	.LVL580:
1542:Lib/soes/src/esc_coe.c ****                      }
 5584              		.loc 1 1542 25 view .LVU1842
 5585 0130 CA7A     		ldrb	r2, [r1, #11]	@ zero_extendqisi2
 5586 0132 B1F80910 		ldrh	r1, [r1, #9]	@ unaligned
 5587              	.LVL581:
1542:Lib/soes/src/esc_coe.c ****                      }
 5588              		.loc 1 1542 25 view .LVU1843
 5589 0136 0020     		movs	r0, #0
 5590 0138 FFF7FEFF 		bl	SDO_abort
 5591              	.LVL582:
1542:Lib/soes/src/esc_coe.c ****                      }
 5592              		.loc 1 1542 25 view .LVU1844
 5593 013c A1E7     		b	.L335
 5594              	.L349:
 5595 013e 00BF     		.align	2
 5596              	.L348:
 5597 0140 00000000 		.word	ESCvar
ARM GAS  /tmp/ccpX7xVZ.s 			page 159


 5598 0144 00000000 		.word	MBXcontrol
 5599 0148 00000000 		.word	MBX
 5600 014c 00000106 		.word	100728832
 5601              		.cfi_endproc
 5602              	.LFE20:
 5604              		.section	.text.COE_initDefaultValues,"ax",%progbits
 5605              		.align	1
 5606              		.global	COE_initDefaultValues
 5607              		.syntax unified
 5608              		.thumb
 5609              		.thumb_func
 5611              	COE_initDefaultValues:
 5612              	.LFB25:
1733:Lib/soes/src/esc_coe.c **** 
1734:Lib/soes/src/esc_coe.c **** /**
1735:Lib/soes/src/esc_coe.c ****  * Init default values for SDO objects
1736:Lib/soes/src/esc_coe.c ****  */
1737:Lib/soes/src/esc_coe.c **** void COE_initDefaultValues (void)
1738:Lib/soes/src/esc_coe.c **** {
 5613              		.loc 1 1738 1 is_stmt 1 view -0
 5614              		.cfi_startproc
 5615              		@ args = 0, pretend = 0, frame = 0
 5616              		@ frame_needed = 0, uses_anonymous_args = 0
1739:Lib/soes/src/esc_coe.c ****    int i;
 5617              		.loc 1 1739 4 view .LVU1846
1740:Lib/soes/src/esc_coe.c ****    const _objd *objd;
 5618              		.loc 1 1740 4 view .LVU1847
1741:Lib/soes/src/esc_coe.c ****    int n;
 5619              		.loc 1 1741 4 view .LVU1848
1742:Lib/soes/src/esc_coe.c ****    uint8_t maxsub;
 5620              		.loc 1 1742 4 view .LVU1849
1743:Lib/soes/src/esc_coe.c **** 
1744:Lib/soes/src/esc_coe.c ****    /* Let application decide if initialization will be skipped */
1745:Lib/soes/src/esc_coe.c ****    if (ESCvar.skip_default_initialization)
 5621              		.loc 1 1745 4 view .LVU1850
 5622              		.loc 1 1745 14 is_stmt 0 view .LVU1851
 5623 0000 184B     		ldr	r3, .L363
 5624 0002 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
 5625              		.loc 1 1745 7 view .LVU1852
 5626 0006 63BB     		cbnz	r3, .L357
1738:Lib/soes/src/esc_coe.c ****    int i;
 5627              		.loc 1 1738 1 view .LVU1853
 5628 0008 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 5629              		.cfi_def_cfa_offset 24
 5630              		.cfi_offset 4, -24
 5631              		.cfi_offset 5, -20
 5632              		.cfi_offset 6, -16
 5633              		.cfi_offset 7, -12
 5634              		.cfi_offset 8, -8
 5635              		.cfi_offset 14, -4
1746:Lib/soes/src/esc_coe.c ****    {
1747:Lib/soes/src/esc_coe.c ****       return;
1748:Lib/soes/src/esc_coe.c ****    }
1749:Lib/soes/src/esc_coe.c **** 
1750:Lib/soes/src/esc_coe.c ****    /* Set default values from object descriptor */
1751:Lib/soes/src/esc_coe.c ****    for (n = 0; SDOobjects[n].index != 0xffff; n++)
 5636              		.loc 1 1751 11 view .LVU1854
ARM GAS  /tmp/ccpX7xVZ.s 			page 160


 5637 000c 4FF00008 		mov	r8, #0
 5638 0010 12E0     		b	.L352
 5639              	.LVL583:
 5640              	.L361:
1752:Lib/soes/src/esc_coe.c ****    {
1753:Lib/soes/src/esc_coe.c ****       objd = SDOobjects[n].objdesc;
1754:Lib/soes/src/esc_coe.c ****       maxsub = SDOobjects[n].maxsub;
1755:Lib/soes/src/esc_coe.c **** 
1756:Lib/soes/src/esc_coe.c ****       i = 0;
1757:Lib/soes/src/esc_coe.c ****       do
1758:Lib/soes/src/esc_coe.c ****       {
1759:Lib/soes/src/esc_coe.c ****          if (objd[i].data != NULL)
1760:Lib/soes/src/esc_coe.c ****          {
1761:Lib/soes/src/esc_coe.c ****             COE_setValue (&objd[i], objd[i].value);
 5641              		.loc 1 1761 13 is_stmt 1 view .LVU1855
 5642 0012 C268     		ldr	r2, [r0, #12]
 5643 0014 0023     		movs	r3, #0
 5644 0016 FFF7FEFF 		bl	COE_setValue
 5645              	.LVL584:
 5646              	.L353:
1762:Lib/soes/src/esc_coe.c ****             DPRINT ("%04"PRIx32":%02"PRIx32" = %"PRIx32"\n",
1763:Lib/soes/src/esc_coe.c ****                   SDOobjects[n].index,
1764:Lib/soes/src/esc_coe.c ****                   objd[i].subindex,
1765:Lib/soes/src/esc_coe.c ****                   objd[i].value);
 5647              		.loc 1 1765 33 view .LVU1856
1766:Lib/soes/src/esc_coe.c ****          }
1767:Lib/soes/src/esc_coe.c ****       } while (objd[i++].subindex < maxsub);
 5648              		.loc 1 1767 15 view .LVU1857
 5649              		.loc 1 1767 22 is_stmt 0 view .LVU1858
 5650 001a 0134     		adds	r4, r4, #1
 5651              	.LVL585:
 5652              		.loc 1 1767 25 view .LVU1859
 5653 001c 725B     		ldrh	r2, [r6, r5]
 5654              		.loc 1 1767 35 view .LVU1860
 5655 001e BBB2     		uxth	r3, r7
 5656              		.loc 1 1767 7 view .LVU1861
 5657 0020 9A42     		cmp	r2, r3
 5658 0022 07D2     		bcs	.L360
 5659              	.LVL586:
 5660              	.L354:
1757:Lib/soes/src/esc_coe.c ****       {
 5661              		.loc 1 1757 7 is_stmt 1 view .LVU1862
1759:Lib/soes/src/esc_coe.c ****          {
 5662              		.loc 1 1759 10 view .LVU1863
1759:Lib/soes/src/esc_coe.c ****          {
 5663              		.loc 1 1759 18 is_stmt 0 view .LVU1864
 5664 0024 04EB8403 		add	r3, r4, r4, lsl #2
 5665 0028 9D00     		lsls	r5, r3, #2
 5666 002a 7019     		adds	r0, r6, r5
1759:Lib/soes/src/esc_coe.c ****          {
 5667              		.loc 1 1759 21 view .LVU1865
 5668 002c 0369     		ldr	r3, [r0, #16]
1759:Lib/soes/src/esc_coe.c ****          {
 5669              		.loc 1 1759 13 view .LVU1866
 5670 002e 002B     		cmp	r3, #0
 5671 0030 EFD1     		bne	.L361
1759:Lib/soes/src/esc_coe.c ****          {
ARM GAS  /tmp/ccpX7xVZ.s 			page 161


 5672              		.loc 1 1759 13 view .LVU1867
 5673 0032 F2E7     		b	.L353
 5674              	.L360:
1751:Lib/soes/src/esc_coe.c ****    {
 5675              		.loc 1 1751 47 is_stmt 1 discriminator 2 view .LVU1868
1751:Lib/soes/src/esc_coe.c ****    {
 5676              		.loc 1 1751 48 is_stmt 0 discriminator 2 view .LVU1869
 5677 0034 08F10108 		add	r8, r8, #1
 5678              	.LVL587:
 5679              	.L352:
1751:Lib/soes/src/esc_coe.c ****    {
 5680              		.loc 1 1751 16 is_stmt 1 discriminator 1 view .LVU1870
1751:Lib/soes/src/esc_coe.c ****    {
 5681              		.loc 1 1751 29 is_stmt 0 discriminator 1 view .LVU1871
 5682 0038 4FEA0813 		lsl	r3, r8, #4
 5683 003c 0A4A     		ldr	r2, .L363+4
 5684 003e D25A     		ldrh	r2, [r2, r3]
1751:Lib/soes/src/esc_coe.c ****    {
 5685              		.loc 1 1751 4 discriminator 1 view .LVU1872
 5686 0040 4FF6FF73 		movw	r3, #65535
 5687 0044 9A42     		cmp	r2, r3
 5688 0046 06D0     		beq	.L362
1753:Lib/soes/src/esc_coe.c ****       maxsub = SDOobjects[n].maxsub;
 5689              		.loc 1 1753 7 is_stmt 1 view .LVU1873
1753:Lib/soes/src/esc_coe.c ****       maxsub = SDOobjects[n].maxsub;
 5690              		.loc 1 1753 12 is_stmt 0 view .LVU1874
 5691 0048 074B     		ldr	r3, .L363+4
 5692 004a 03EB0813 		add	r3, r3, r8, lsl #4
 5693 004e DE68     		ldr	r6, [r3, #12]
 5694              	.LVL588:
1754:Lib/soes/src/esc_coe.c **** 
 5695              		.loc 1 1754 7 is_stmt 1 view .LVU1875
1754:Lib/soes/src/esc_coe.c **** 
 5696              		.loc 1 1754 14 is_stmt 0 view .LVU1876
 5697 0050 1F79     		ldrb	r7, [r3, #4]	@ zero_extendqisi2
 5698              	.LVL589:
1756:Lib/soes/src/esc_coe.c ****       do
 5699              		.loc 1 1756 7 is_stmt 1 view .LVU1877
1756:Lib/soes/src/esc_coe.c ****       do
 5700              		.loc 1 1756 9 is_stmt 0 view .LVU1878
 5701 0052 0024     		movs	r4, #0
 5702 0054 E6E7     		b	.L354
 5703              	.LVL590:
 5704              	.L362:
1768:Lib/soes/src/esc_coe.c ****    }
1769:Lib/soes/src/esc_coe.c **** 
1770:Lib/soes/src/esc_coe.c ****    /* Let application override default values */
1771:Lib/soes/src/esc_coe.c ****    if (ESCvar.set_defaults_hook != NULL)
 5705              		.loc 1 1771 4 is_stmt 1 view .LVU1879
 5706              		.loc 1 1771 14 is_stmt 0 view .LVU1880
 5707 0056 034B     		ldr	r3, .L363
 5708 0058 9B6A     		ldr	r3, [r3, #40]
 5709              		.loc 1 1771 7 view .LVU1881
 5710 005a 03B1     		cbz	r3, .L350
1772:Lib/soes/src/esc_coe.c ****    {
1773:Lib/soes/src/esc_coe.c ****       ESCvar.set_defaults_hook();
 5711              		.loc 1 1773 7 is_stmt 1 view .LVU1882
ARM GAS  /tmp/ccpX7xVZ.s 			page 162


 5712 005c 9847     		blx	r3
 5713              	.LVL591:
 5714              	.L350:
1774:Lib/soes/src/esc_coe.c ****    }
1775:Lib/soes/src/esc_coe.c **** }
 5715              		.loc 1 1775 1 is_stmt 0 view .LVU1883
 5716 005e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 5717              	.LVL592:
 5718              	.L357:
 5719              		.cfi_def_cfa_offset 0
 5720              		.cfi_restore 4
 5721              		.cfi_restore 5
 5722              		.cfi_restore 6
 5723              		.cfi_restore 7
 5724              		.cfi_restore 8
 5725              		.cfi_restore 14
 5726              		.loc 1 1775 1 view .LVU1884
 5727 0062 7047     		bx	lr
 5728              	.L364:
 5729              		.align	2
 5730              	.L363:
 5731 0064 00000000 		.word	ESCvar
 5732 0068 00000000 		.word	SDOobjects
 5733              		.cfi_endproc
 5734              	.LFE25:
 5736              		.section	.rodata.COE_pdoPack.str1.4,"aMS",%progbits,1
 5737              		.align	2
 5738              	.LC2:
 5739 0000 28287569 		.ascii	"((uintptr_t)buffer & 0x07) == 0\000"
 5739      6E747074 
 5739      725F7429 
 5739      62756666 
 5739      65722026 
 5740              		.section	.text.COE_pdoPack,"ax",%progbits
 5741              		.align	1
 5742              		.global	COE_pdoPack
 5743              		.syntax unified
 5744              		.thumb
 5745              		.thumb_func
 5747              	COE_pdoPack:
 5748              	.LVL593:
 5749              	.LFB26:
1776:Lib/soes/src/esc_coe.c **** 
1777:Lib/soes/src/esc_coe.c **** /**
1778:Lib/soes/src/esc_coe.c ****  * Pack process data
1779:Lib/soes/src/esc_coe.c ****  *
1780:Lib/soes/src/esc_coe.c ****  * This function reads mapped objects and constructs the process data
1781:Lib/soes/src/esc_coe.c ****  * inputs (TXPDO).
1782:Lib/soes/src/esc_coe.c ****  *
1783:Lib/soes/src/esc_coe.c ****  * @param[in] buffer     = input process data
1784:Lib/soes/src/esc_coe.c ****  * @param[in] nmappings  = number of mappings in sync manager
1785:Lib/soes/src/esc_coe.c ****  * @param[in] mappings   = list of mapped objects in sync manager
1786:Lib/soes/src/esc_coe.c ****  */
1787:Lib/soes/src/esc_coe.c **** void COE_pdoPack (uint8_t * buffer, int nmappings, _SMmap * mappings)
1788:Lib/soes/src/esc_coe.c **** {
 5750              		.loc 1 1788 1 is_stmt 1 view -0
 5751              		.cfi_startproc
ARM GAS  /tmp/ccpX7xVZ.s 			page 163


 5752              		@ args = 0, pretend = 0, frame = 0
 5753              		@ frame_needed = 0, uses_anonymous_args = 0
 5754              		.loc 1 1788 1 is_stmt 0 view .LVU1886
 5755 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 5756              		.cfi_def_cfa_offset 28
 5757              		.cfi_offset 4, -28
 5758              		.cfi_offset 5, -24
 5759              		.cfi_offset 6, -20
 5760              		.cfi_offset 7, -16
 5761              		.cfi_offset 8, -12
 5762              		.cfi_offset 9, -8
 5763              		.cfi_offset 14, -4
 5764 0004 83B0     		sub	sp, sp, #12
 5765              		.cfi_def_cfa_offset 40
1789:Lib/soes/src/esc_coe.c ****    int ix;
 5766              		.loc 1 1789 4 is_stmt 1 view .LVU1887
1790:Lib/soes/src/esc_coe.c **** 
1791:Lib/soes/src/esc_coe.c ****    /* Check that buffer is aligned on 64-bit boundary */
1792:Lib/soes/src/esc_coe.c ****    CC_ASSERT (((uintptr_t)buffer & 0x07) == 0);
 5767              		.loc 1 1792 4 view .LVU1888
 5768 0006 10F0070F 		tst	r0, #7
 5769 000a 04D1     		bne	.L372
 5770 000c 8046     		mov	r8, r0
 5771 000e 0F46     		mov	r7, r1
 5772 0010 1646     		mov	r6, r2
1793:Lib/soes/src/esc_coe.c **** 
1794:Lib/soes/src/esc_coe.c ****    for (ix = 0; ix < nmappings; ix++)
 5773              		.loc 1 1794 12 is_stmt 0 view .LVU1889
 5774 0012 0024     		movs	r4, #0
 5775 0014 10E0     		b	.L366
 5776              	.L372:
1792:Lib/soes/src/esc_coe.c **** 
 5777              		.loc 1 1792 4 discriminator 1 view .LVU1890
 5778 0016 154B     		ldr	r3, .L374
 5779 0018 154A     		ldr	r2, .L374+4
 5780              	.LVL594:
1792:Lib/soes/src/esc_coe.c **** 
 5781              		.loc 1 1792 4 discriminator 1 view .LVU1891
 5782 001a 4FF4E061 		mov	r1, #1792
 5783              	.LVL595:
1792:Lib/soes/src/esc_coe.c **** 
 5784              		.loc 1 1792 4 discriminator 1 view .LVU1892
 5785 001e 1548     		ldr	r0, .L374+8
 5786              	.LVL596:
1792:Lib/soes/src/esc_coe.c **** 
 5787              		.loc 1 1792 4 discriminator 1 view .LVU1893
 5788 0020 FFF7FEFF 		bl	__assert_func
 5789              	.LVL597:
 5790              	.L368:
 5791              	.LBB30:
 5792              	.LBB31:
1795:Lib/soes/src/esc_coe.c ****    {
1796:Lib/soes/src/esc_coe.c ****       const _objd * obj = mappings[ix].obj;
1797:Lib/soes/src/esc_coe.c ****       uint32_t offset = mappings[ix].offset;
1798:Lib/soes/src/esc_coe.c **** 
1799:Lib/soes/src/esc_coe.c ****       if (obj != NULL)
1800:Lib/soes/src/esc_coe.c ****       {
ARM GAS  /tmp/ccpX7xVZ.s 			page 164


1801:Lib/soes/src/esc_coe.c ****          if (obj->bitlength > 64)
1802:Lib/soes/src/esc_coe.c ****          {
1803:Lib/soes/src/esc_coe.c ****             memcpy (
1804:Lib/soes/src/esc_coe.c ****                &buffer[BITSPOS2BYTESOFFSET (offset)],
1805:Lib/soes/src/esc_coe.c ****                obj->data,
1806:Lib/soes/src/esc_coe.c ****                BITS2BYTES (obj->bitlength)
1807:Lib/soes/src/esc_coe.c ****             );
1808:Lib/soes/src/esc_coe.c ****          }
1809:Lib/soes/src/esc_coe.c ****          else
1810:Lib/soes/src/esc_coe.c ****          {
1811:Lib/soes/src/esc_coe.c ****             /* Atomically get object value */
1812:Lib/soes/src/esc_coe.c ****             uint64_t value = COE_getValue (obj);
 5793              		.loc 1 1812 13 is_stmt 1 view .LVU1894
 5794              		.loc 1 1812 30 is_stmt 0 view .LVU1895
 5795 0024 FFF7FEFF 		bl	COE_getValue
 5796              	.LVL598:
1813:Lib/soes/src/esc_coe.c ****             COE_bitsliceSet (
 5797              		.loc 1 1813 13 is_stmt 1 view .LVU1896
 5798 0028 CDE90001 		strd	r0, [sp]
 5799 002c 2A46     		mov	r2, r5
 5800 002e 4946     		mov	r1, r9
 5801 0030 4046     		mov	r0, r8
 5802              	.LVL599:
 5803              		.loc 1 1813 13 is_stmt 0 view .LVU1897
 5804 0032 FFF7FEFF 		bl	COE_bitsliceSet
 5805              	.LVL600:
 5806              	.L367:
 5807              		.loc 1 1813 13 view .LVU1898
 5808              	.LBE31:
 5809              	.LBE30:
1794:Lib/soes/src/esc_coe.c ****    {
 5810              		.loc 1 1794 33 is_stmt 1 discriminator 2 view .LVU1899
1794:Lib/soes/src/esc_coe.c ****    {
 5811              		.loc 1 1794 35 is_stmt 0 discriminator 2 view .LVU1900
 5812 0036 0134     		adds	r4, r4, #1
 5813              	.LVL601:
 5814              	.L366:
1794:Lib/soes/src/esc_coe.c ****    {
 5815              		.loc 1 1794 17 is_stmt 1 discriminator 1 view .LVU1901
1794:Lib/soes/src/esc_coe.c ****    {
 5816              		.loc 1 1794 4 is_stmt 0 discriminator 1 view .LVU1902
 5817 0038 BC42     		cmp	r4, r7
 5818 003a 14DA     		bge	.L373
 5819              	.LBB32:
1796:Lib/soes/src/esc_coe.c ****       uint32_t offset = mappings[ix].offset;
 5820              		.loc 1 1796 7 is_stmt 1 view .LVU1903
1796:Lib/soes/src/esc_coe.c ****       uint32_t offset = mappings[ix].offset;
 5821              		.loc 1 1796 35 is_stmt 0 view .LVU1904
 5822 003c 04EB4403 		add	r3, r4, r4, lsl #1
 5823 0040 06EB8302 		add	r2, r6, r3, lsl #2
1796:Lib/soes/src/esc_coe.c ****       uint32_t offset = mappings[ix].offset;
 5824              		.loc 1 1796 21 view .LVU1905
 5825 0044 56F82300 		ldr	r0, [r6, r3, lsl #2]
 5826              	.LVL602:
1797:Lib/soes/src/esc_coe.c **** 
 5827              		.loc 1 1797 7 is_stmt 1 view .LVU1906
1797:Lib/soes/src/esc_coe.c **** 
ARM GAS  /tmp/ccpX7xVZ.s 			page 165


 5828              		.loc 1 1797 16 is_stmt 0 view .LVU1907
 5829 0048 D2F80890 		ldr	r9, [r2, #8]
 5830              	.LVL603:
1799:Lib/soes/src/esc_coe.c ****       {
 5831              		.loc 1 1799 7 is_stmt 1 view .LVU1908
1799:Lib/soes/src/esc_coe.c ****       {
 5832              		.loc 1 1799 10 is_stmt 0 view .LVU1909
 5833 004c 0028     		cmp	r0, #0
 5834 004e F2D0     		beq	.L367
1801:Lib/soes/src/esc_coe.c ****          {
 5835              		.loc 1 1801 10 is_stmt 1 view .LVU1910
1801:Lib/soes/src/esc_coe.c ****          {
 5836              		.loc 1 1801 17 is_stmt 0 view .LVU1911
 5837 0050 8588     		ldrh	r5, [r0, #4]
1801:Lib/soes/src/esc_coe.c ****          {
 5838              		.loc 1 1801 13 view .LVU1912
 5839 0052 402D     		cmp	r5, #64
 5840 0054 E6D9     		bls	.L368
1803:Lib/soes/src/esc_coe.c ****                &buffer[BITSPOS2BYTESOFFSET (offset)],
 5841              		.loc 1 1803 13 is_stmt 1 view .LVU1913
1806:Lib/soes/src/esc_coe.c ****             );
 5842              		.loc 1 1806 16 is_stmt 0 view .LVU1914
 5843 0056 EA1D     		adds	r2, r5, #7
1803:Lib/soes/src/esc_coe.c ****                &buffer[BITSPOS2BYTESOFFSET (offset)],
 5844              		.loc 1 1803 13 view .LVU1915
 5845 0058 D208     		lsrs	r2, r2, #3
 5846 005a 0169     		ldr	r1, [r0, #16]
 5847 005c 08EBD900 		add	r0, r8, r9, lsr #3
 5848              	.LVL604:
1803:Lib/soes/src/esc_coe.c ****                &buffer[BITSPOS2BYTESOFFSET (offset)],
 5849              		.loc 1 1803 13 view .LVU1916
 5850 0060 FFF7FEFF 		bl	memcpy
 5851              	.LVL605:
1803:Lib/soes/src/esc_coe.c ****                &buffer[BITSPOS2BYTESOFFSET (offset)],
 5852              		.loc 1 1803 13 view .LVU1917
 5853 0064 E7E7     		b	.L367
 5854              	.LVL606:
 5855              	.L373:
1803:Lib/soes/src/esc_coe.c ****                &buffer[BITSPOS2BYTESOFFSET (offset)],
 5856              		.loc 1 1803 13 view .LVU1918
 5857              	.LBE32:
1814:Lib/soes/src/esc_coe.c ****                (uint64_t *)buffer,
1815:Lib/soes/src/esc_coe.c ****                offset,
1816:Lib/soes/src/esc_coe.c ****                obj->bitlength,
1817:Lib/soes/src/esc_coe.c ****                value
1818:Lib/soes/src/esc_coe.c ****             );
1819:Lib/soes/src/esc_coe.c ****          }
1820:Lib/soes/src/esc_coe.c ****       }
1821:Lib/soes/src/esc_coe.c ****    }
1822:Lib/soes/src/esc_coe.c **** }
 5858              		.loc 1 1822 1 view .LVU1919
 5859 0066 03B0     		add	sp, sp, #12
 5860              		.cfi_def_cfa_offset 28
 5861              		@ sp needed
 5862 0068 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 5863              	.LVL607:
 5864              	.L375:
ARM GAS  /tmp/ccpX7xVZ.s 			page 166


 5865              		.loc 1 1822 1 view .LVU1920
 5866              		.align	2
 5867              	.L374:
 5868 006c 00000000 		.word	.LC2
 5869 0070 00000000 		.word	.LANCHOR1
 5870 0074 04000000 		.word	.LC1
 5871              		.cfi_endproc
 5872              	.LFE26:
 5874              		.section	.text.COE_pdoUnpack,"ax",%progbits
 5875              		.align	1
 5876              		.global	COE_pdoUnpack
 5877              		.syntax unified
 5878              		.thumb
 5879              		.thumb_func
 5881              	COE_pdoUnpack:
 5882              	.LVL608:
 5883              	.LFB27:
1823:Lib/soes/src/esc_coe.c **** 
1824:Lib/soes/src/esc_coe.c **** /**
1825:Lib/soes/src/esc_coe.c ****  * Unpack process data
1826:Lib/soes/src/esc_coe.c ****  *
1827:Lib/soes/src/esc_coe.c ****  * This function unpacks process data output (RXPDO) and writes to the
1828:Lib/soes/src/esc_coe.c ****  * mapped objects.
1829:Lib/soes/src/esc_coe.c ****  *
1830:Lib/soes/src/esc_coe.c ****  * @param[in] buffer    = output process data
1831:Lib/soes/src/esc_coe.c ****  * @param[in] nmappings = number of mappings in sync manager
1832:Lib/soes/src/esc_coe.c ****  * @param[in] mappings  = list of mapped objects in sync manager
1833:Lib/soes/src/esc_coe.c ****  */
1834:Lib/soes/src/esc_coe.c **** void COE_pdoUnpack (uint8_t * buffer, int nmappings, _SMmap * mappings)
1835:Lib/soes/src/esc_coe.c **** {
 5884              		.loc 1 1835 1 is_stmt 1 view -0
 5885              		.cfi_startproc
 5886              		@ args = 0, pretend = 0, frame = 0
 5887              		@ frame_needed = 0, uses_anonymous_args = 0
 5888              		.loc 1 1835 1 is_stmt 0 view .LVU1922
 5889 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 5890              		.cfi_def_cfa_offset 24
 5891              		.cfi_offset 4, -24
 5892              		.cfi_offset 5, -20
 5893              		.cfi_offset 6, -16
 5894              		.cfi_offset 7, -12
 5895              		.cfi_offset 8, -8
 5896              		.cfi_offset 14, -4
1836:Lib/soes/src/esc_coe.c ****    int ix;
 5897              		.loc 1 1836 4 is_stmt 1 view .LVU1923
1837:Lib/soes/src/esc_coe.c **** 
1838:Lib/soes/src/esc_coe.c ****    /* Check that buffer is aligned on 64-bit boundary */
1839:Lib/soes/src/esc_coe.c ****    CC_ASSERT (((uintptr_t)buffer & 0x07) == 0);
 5898              		.loc 1 1839 4 view .LVU1924
 5899 0004 10F0070F 		tst	r0, #7
 5900 0008 04D1     		bne	.L383
 5901 000a 8046     		mov	r8, r0
 5902 000c 0F46     		mov	r7, r1
 5903 000e 1646     		mov	r6, r2
1840:Lib/soes/src/esc_coe.c **** 
1841:Lib/soes/src/esc_coe.c ****    for (ix = 0; ix < nmappings; ix++)
 5904              		.loc 1 1841 12 is_stmt 0 view .LVU1925
ARM GAS  /tmp/ccpX7xVZ.s 			page 167


 5905 0010 0024     		movs	r4, #0
 5906 0012 0FE0     		b	.L377
 5907              	.L383:
1839:Lib/soes/src/esc_coe.c **** 
 5908              		.loc 1 1839 4 discriminator 1 view .LVU1926
 5909 0014 134B     		ldr	r3, .L385
 5910 0016 144A     		ldr	r2, .L385+4
 5911              	.LVL609:
1839:Lib/soes/src/esc_coe.c **** 
 5912              		.loc 1 1839 4 discriminator 1 view .LVU1927
 5913 0018 40F22F71 		movw	r1, #1839
 5914              	.LVL610:
1839:Lib/soes/src/esc_coe.c **** 
 5915              		.loc 1 1839 4 discriminator 1 view .LVU1928
 5916 001c 1348     		ldr	r0, .L385+8
 5917              	.LVL611:
1839:Lib/soes/src/esc_coe.c **** 
 5918              		.loc 1 1839 4 discriminator 1 view .LVU1929
 5919 001e FFF7FEFF 		bl	__assert_func
 5920              	.LVL612:
 5921              	.L379:
 5922              	.LBB33:
 5923              	.LBB34:
1842:Lib/soes/src/esc_coe.c ****    {
1843:Lib/soes/src/esc_coe.c ****       const _objd * obj = mappings[ix].obj;
1844:Lib/soes/src/esc_coe.c ****       uint32_t offset = mappings[ix].offset;
1845:Lib/soes/src/esc_coe.c **** 
1846:Lib/soes/src/esc_coe.c ****       if (obj != NULL)
1847:Lib/soes/src/esc_coe.c ****       {
1848:Lib/soes/src/esc_coe.c ****          if (obj->bitlength > 64)
1849:Lib/soes/src/esc_coe.c ****          {
1850:Lib/soes/src/esc_coe.c ****             memcpy (
1851:Lib/soes/src/esc_coe.c ****                obj->data,
1852:Lib/soes/src/esc_coe.c ****                &buffer[BITSPOS2BYTESOFFSET (offset)],
1853:Lib/soes/src/esc_coe.c ****                BITS2BYTES (obj->bitlength)
1854:Lib/soes/src/esc_coe.c ****             );
1855:Lib/soes/src/esc_coe.c ****          }
1856:Lib/soes/src/esc_coe.c ****          else
1857:Lib/soes/src/esc_coe.c ****          {
1858:Lib/soes/src/esc_coe.c ****             /* Atomically set object value */
1859:Lib/soes/src/esc_coe.c ****             uint64_t value = COE_bitsliceGet (
 5924              		.loc 1 1859 13 is_stmt 1 view .LVU1930
 5925              		.loc 1 1859 30 is_stmt 0 view .LVU1931
 5926 0022 4046     		mov	r0, r8
 5927 0024 FFF7FEFF 		bl	COE_bitsliceGet
 5928              	.LVL613:
 5929              		.loc 1 1859 30 view .LVU1932
 5930 0028 0246     		mov	r2, r0
 5931 002a 0B46     		mov	r3, r1
 5932              	.LVL614:
1860:Lib/soes/src/esc_coe.c ****                (uint64_t *)buffer,
1861:Lib/soes/src/esc_coe.c ****                offset,
1862:Lib/soes/src/esc_coe.c ****                obj->bitlength
1863:Lib/soes/src/esc_coe.c ****             );
1864:Lib/soes/src/esc_coe.c ****             COE_setValue (obj, value);
 5933              		.loc 1 1864 13 is_stmt 1 view .LVU1933
 5934 002c 2846     		mov	r0, r5
ARM GAS  /tmp/ccpX7xVZ.s 			page 168


 5935 002e FFF7FEFF 		bl	COE_setValue
 5936              	.LVL615:
 5937              	.L378:
 5938              		.loc 1 1864 13 is_stmt 0 view .LVU1934
 5939              	.LBE34:
 5940              	.LBE33:
1841:Lib/soes/src/esc_coe.c ****    {
 5941              		.loc 1 1841 33 is_stmt 1 discriminator 2 view .LVU1935
1841:Lib/soes/src/esc_coe.c ****    {
 5942              		.loc 1 1841 35 is_stmt 0 discriminator 2 view .LVU1936
 5943 0032 0134     		adds	r4, r4, #1
 5944              	.LVL616:
 5945              	.L377:
1841:Lib/soes/src/esc_coe.c ****    {
 5946              		.loc 1 1841 17 is_stmt 1 discriminator 1 view .LVU1937
1841:Lib/soes/src/esc_coe.c ****    {
 5947              		.loc 1 1841 4 is_stmt 0 discriminator 1 view .LVU1938
 5948 0034 BC42     		cmp	r4, r7
 5949 0036 13DA     		bge	.L384
 5950              	.LBB35:
1843:Lib/soes/src/esc_coe.c ****       uint32_t offset = mappings[ix].offset;
 5951              		.loc 1 1843 7 is_stmt 1 view .LVU1939
1843:Lib/soes/src/esc_coe.c ****       uint32_t offset = mappings[ix].offset;
 5952              		.loc 1 1843 35 is_stmt 0 view .LVU1940
 5953 0038 04EB4403 		add	r3, r4, r4, lsl #1
 5954 003c 06EB8302 		add	r2, r6, r3, lsl #2
1843:Lib/soes/src/esc_coe.c ****       uint32_t offset = mappings[ix].offset;
 5955              		.loc 1 1843 21 view .LVU1941
 5956 0040 56F82350 		ldr	r5, [r6, r3, lsl #2]
 5957              	.LVL617:
1844:Lib/soes/src/esc_coe.c **** 
 5958              		.loc 1 1844 7 is_stmt 1 view .LVU1942
1844:Lib/soes/src/esc_coe.c **** 
 5959              		.loc 1 1844 16 is_stmt 0 view .LVU1943
 5960 0044 9168     		ldr	r1, [r2, #8]
 5961              	.LVL618:
1846:Lib/soes/src/esc_coe.c ****       {
 5962              		.loc 1 1846 7 is_stmt 1 view .LVU1944
1846:Lib/soes/src/esc_coe.c ****       {
 5963              		.loc 1 1846 10 is_stmt 0 view .LVU1945
 5964 0046 002D     		cmp	r5, #0
 5965 0048 F3D0     		beq	.L378
1848:Lib/soes/src/esc_coe.c ****          {
 5966              		.loc 1 1848 10 is_stmt 1 view .LVU1946
1848:Lib/soes/src/esc_coe.c ****          {
 5967              		.loc 1 1848 17 is_stmt 0 view .LVU1947
 5968 004a AA88     		ldrh	r2, [r5, #4]
1848:Lib/soes/src/esc_coe.c ****          {
 5969              		.loc 1 1848 13 view .LVU1948
 5970 004c 402A     		cmp	r2, #64
 5971 004e E8D9     		bls	.L379
1850:Lib/soes/src/esc_coe.c ****                obj->data,
 5972              		.loc 1 1850 13 is_stmt 1 view .LVU1949
1853:Lib/soes/src/esc_coe.c ****             );
 5973              		.loc 1 1853 16 is_stmt 0 view .LVU1950
 5974 0050 0732     		adds	r2, r2, #7
1850:Lib/soes/src/esc_coe.c ****                obj->data,
ARM GAS  /tmp/ccpX7xVZ.s 			page 169


 5975              		.loc 1 1850 13 view .LVU1951
 5976 0052 D208     		lsrs	r2, r2, #3
 5977 0054 08EBD101 		add	r1, r8, r1, lsr #3
 5978              	.LVL619:
1850:Lib/soes/src/esc_coe.c ****                obj->data,
 5979              		.loc 1 1850 13 view .LVU1952
 5980 0058 2869     		ldr	r0, [r5, #16]
 5981 005a FFF7FEFF 		bl	memcpy
 5982              	.LVL620:
1850:Lib/soes/src/esc_coe.c ****                obj->data,
 5983              		.loc 1 1850 13 view .LVU1953
 5984 005e E8E7     		b	.L378
 5985              	.LVL621:
 5986              	.L384:
1850:Lib/soes/src/esc_coe.c ****                obj->data,
 5987              		.loc 1 1850 13 view .LVU1954
 5988              	.LBE35:
1865:Lib/soes/src/esc_coe.c ****          }
1866:Lib/soes/src/esc_coe.c ****       }
1867:Lib/soes/src/esc_coe.c ****    }
1868:Lib/soes/src/esc_coe.c **** }
 5989              		.loc 1 1868 1 view .LVU1955
 5990 0060 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 5991              	.LVL622:
 5992              	.L386:
 5993              		.loc 1 1868 1 view .LVU1956
 5994              		.align	2
 5995              	.L385:
 5996 0064 00000000 		.word	.LC2
 5997 0068 00000000 		.word	.LANCHOR2
 5998 006c 04000000 		.word	.LC1
 5999              		.cfi_endproc
 6000              	.LFE27:
 6002              		.section	.text.COE_maxSub,"ax",%progbits
 6003              		.align	1
 6004              		.global	COE_maxSub
 6005              		.syntax unified
 6006              		.thumb
 6007              		.thumb_func
 6009              	COE_maxSub:
 6010              	.LVL623:
 6011              	.LFB28:
1869:Lib/soes/src/esc_coe.c **** 
1870:Lib/soes/src/esc_coe.c **** /**
1871:Lib/soes/src/esc_coe.c ****  * Fetch max subindex
1872:Lib/soes/src/esc_coe.c ****  *
1873:Lib/soes/src/esc_coe.c ****  * This function fetches the value of subindex 0 (max subindex).
1874:Lib/soes/src/esc_coe.c ****  *
1875:Lib/soes/src/esc_coe.c ****  * @param[in] index = object index
1876:Lib/soes/src/esc_coe.c ****  */
1877:Lib/soes/src/esc_coe.c **** uint8_t COE_maxSub (uint16_t index)
1878:Lib/soes/src/esc_coe.c **** {
 6012              		.loc 1 1878 1 is_stmt 1 view -0
 6013              		.cfi_startproc
 6014              		@ args = 0, pretend = 0, frame = 0
 6015              		@ frame_needed = 0, uses_anonymous_args = 0
 6016              		.loc 1 1878 1 is_stmt 0 view .LVU1958
ARM GAS  /tmp/ccpX7xVZ.s 			page 170


 6017 0000 08B5     		push	{r3, lr}
 6018              		.cfi_def_cfa_offset 8
 6019              		.cfi_offset 3, -8
 6020              		.cfi_offset 14, -4
1879:Lib/soes/src/esc_coe.c ****    int32_t nidx;
 6021              		.loc 1 1879 4 is_stmt 1 view .LVU1959
1880:Lib/soes/src/esc_coe.c ****    uint8_t maxsub;
 6022              		.loc 1 1880 4 view .LVU1960
1881:Lib/soes/src/esc_coe.c **** 
1882:Lib/soes/src/esc_coe.c ****    nidx = SDO_findobject (index);
 6023              		.loc 1 1882 4 view .LVU1961
 6024              		.loc 1 1882 11 is_stmt 0 view .LVU1962
 6025 0002 FFF7FEFF 		bl	SDO_findobject
 6026              	.LVL624:
1883:Lib/soes/src/esc_coe.c ****    if (nidx == -1)
 6027              		.loc 1 1883 4 is_stmt 1 view .LVU1963
 6028              		.loc 1 1883 7 is_stmt 0 view .LVU1964
 6029 0006 B0F1FF3F 		cmp	r0, #-1
 6030 000a 09D0     		beq	.L390
1884:Lib/soes/src/esc_coe.c ****       return 0;
1885:Lib/soes/src/esc_coe.c **** 
1886:Lib/soes/src/esc_coe.c ****    maxsub = OBJ_VALUE_FETCH (maxsub, SDOobjects[nidx].objdesc[0]);
 6031              		.loc 1 1886 4 is_stmt 1 view .LVU1965
 6032              		.loc 1 1886 13 is_stmt 0 view .LVU1966
 6033 000c 054B     		ldr	r3, .L392
 6034 000e 03EB0010 		add	r0, r3, r0, lsl #4
 6035              	.LVL625:
 6036              		.loc 1 1886 13 view .LVU1967
 6037 0012 C268     		ldr	r2, [r0, #12]
 6038 0014 1369     		ldr	r3, [r2, #16]
 6039              		.loc 1 1886 11 view .LVU1968
 6040 0016 0BB1     		cbz	r3, .L389
 6041              		.loc 1 1886 11 discriminator 1 view .LVU1969
 6042 0018 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 6043              	.L388:
1887:Lib/soes/src/esc_coe.c ****    return maxsub;
1888:Lib/soes/src/esc_coe.c **** }
 6044              		.loc 1 1888 1 view .LVU1970
 6045 001a 08BD     		pop	{r3, pc}
 6046              	.L389:
1886:Lib/soes/src/esc_coe.c ****    return maxsub;
 6047              		.loc 1 1886 11 discriminator 2 view .LVU1971
 6048 001c 107B     		ldrb	r0, [r2, #12]	@ zero_extendqisi2
 6049 001e FCE7     		b	.L388
 6050              	.LVL626:
 6051              	.L390:
1884:Lib/soes/src/esc_coe.c ****       return 0;
 6052              		.loc 1 1884 14 view .LVU1972
 6053 0020 0020     		movs	r0, #0
 6054              	.LVL627:
1884:Lib/soes/src/esc_coe.c ****       return 0;
 6055              		.loc 1 1884 14 view .LVU1973
 6056 0022 FAE7     		b	.L388
 6057              	.L393:
 6058              		.align	2
 6059              	.L392:
 6060 0024 00000000 		.word	SDOobjects
ARM GAS  /tmp/ccpX7xVZ.s 			page 171


 6061              		.cfi_endproc
 6062              	.LFE28:
 6064              		.section	.rodata.__func__.0,"a"
 6065              		.align	2
 6066              		.set	.LANCHOR2,. + 0
 6069              	__func__.0:
 6070 0000 434F455F 		.ascii	"COE_pdoUnpack\000"
 6070      70646F55 
 6070      6E706163 
 6070      6B00
 6071              		.section	.rodata.__func__.1,"a"
 6072              		.align	2
 6073              		.set	.LANCHOR0,. + 0
 6076              	__func__.1:
 6077 0000 434F455F 		.ascii	"COE_getValue\000"
 6077      67657456 
 6077      616C7565 
 6077      00
 6078              		.section	.rodata.__func__.2,"a"
 6079              		.align	2
 6080              		.set	.LANCHOR1,. + 0
 6083              	__func__.2:
 6084 0000 434F455F 		.ascii	"COE_pdoPack\000"
 6084      70646F50 
 6084      61636B00 
 6085              		.text
 6086              	.Letext0:
 6087              		.file 2 "/usr/share/gcc-arm-none-eabi-10.3-2021.10/lib/gcc/arm-none-eabi/10.3.1/include/stddef.h"
 6088              		.file 3 "/usr/share/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/machine/_default_types.h"
 6089              		.file 4 "/usr/share/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/sys/_stdint.h"
 6090              		.file 5 "Lib/soes/include/esc_coe.h"
 6091              		.file 6 "Lib/soes/include/esc.h"
 6092              		.file 7 "/usr/share/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/assert.h"
 6093              		.file 8 "<built-in>"
ARM GAS  /tmp/ccpX7xVZ.s 			page 172


DEFINED SYMBOLS
                            *ABS*:0000000000000000 esc_coe.c
     /tmp/ccpX7xVZ.s:20     .text.init_coesdo:0000000000000000 $t
     /tmp/ccpX7xVZ.s:25     .text.init_coesdo:0000000000000000 init_coesdo
     /tmp/ccpX7xVZ.s:72     .text.COE_bitsliceGet:0000000000000000 $t
     /tmp/ccpX7xVZ.s:77     .text.COE_bitsliceGet:0000000000000000 COE_bitsliceGet
     /tmp/ccpX7xVZ.s:213    .text.COE_bitsliceSet:0000000000000000 $t
     /tmp/ccpX7xVZ.s:218    .text.COE_bitsliceSet:0000000000000000 COE_bitsliceSet
     /tmp/ccpX7xVZ.s:400    .text.COE_setValue:0000000000000000 $t
     /tmp/ccpX7xVZ.s:405    .text.COE_setValue:0000000000000000 COE_setValue
     /tmp/ccpX7xVZ.s:422    .text.COE_setValue:000000000000000c $d
     /tmp/ccpX7xVZ.s:517    .text.SDO_getodlistcont:0000000000000000 $t
     /tmp/ccpX7xVZ.s:522    .text.SDO_getodlistcont:0000000000000000 SDO_getodlistcont
     /tmp/ccpX7xVZ.s:705    .text.SDO_getodlistcont:00000000000000c0 $d
     /tmp/ccpX7xVZ.s:713    .text.SDO_infoerror:0000000000000000 $t
     /tmp/ccpX7xVZ.s:718    .text.SDO_infoerror:0000000000000000 SDO_infoerror
     /tmp/ccpX7xVZ.s:815    .text.SDO_infoerror:0000000000000060 $d
     /tmp/ccpX7xVZ.s:822    .text.SDO_getodlist:0000000000000000 $t
     /tmp/ccpX7xVZ.s:827    .text.SDO_getodlist:0000000000000000 SDO_getodlist
     /tmp/ccpX7xVZ.s:1140   .text.SDO_getodlist:0000000000000128 $d
     /tmp/ccpX7xVZ.s:1149   .text.SDO_abort:0000000000000000 $t
     /tmp/ccpX7xVZ.s:1154   .text.SDO_abort:0000000000000000 SDO_abort
     /tmp/ccpX7xVZ.s:1243   .text.SDO_abort:0000000000000058 $d
     /tmp/ccpX7xVZ.s:1250   .text.set_state_idle:0000000000000000 $t
     /tmp/ccpX7xVZ.s:1255   .text.set_state_idle:0000000000000000 set_state_idle
     /tmp/ccpX7xVZ.s:1293   .text.set_state_idle:0000000000000018 $d
     /tmp/ccpX7xVZ.s:1299   .text.copy2mbx:0000000000000000 $t
     /tmp/ccpX7xVZ.s:1304   .text.copy2mbx:0000000000000000 copy2mbx
     /tmp/ccpX7xVZ.s:1332   .text.SDO_uploadsegment:0000000000000000 $t
     /tmp/ccpX7xVZ.s:1337   .text.SDO_uploadsegment:0000000000000000 SDO_uploadsegment
     /tmp/ccpX7xVZ.s:1548   .text.SDO_uploadsegment:00000000000000f4 $d
     /tmp/ccpX7xVZ.s:1556   .text.complete_access_subindex_loop:0000000000000000 $t
     /tmp/ccpX7xVZ.s:1561   .text.complete_access_subindex_loop:0000000000000000 complete_access_subindex_loop
     /tmp/ccpX7xVZ.s:1918   .text.complete_access_subindex_loop:0000000000000164 $d
     /tmp/ccpX7xVZ.s:1925   .rodata.COE_getValue.str1.4:0000000000000000 $d
     /tmp/ccpX7xVZ.s:1932   .text.COE_getValue:0000000000000000 $t
     /tmp/ccpX7xVZ.s:1937   .text.COE_getValue:0000000000000000 COE_getValue
     /tmp/ccpX7xVZ.s:1960   .text.COE_getValue:000000000000000e $d
     /tmp/ccpX7xVZ.s:2083   .text.COE_getValue:0000000000000074 $d
     /tmp/ccpX7xVZ.s:2090   .text.SDO_findsubindex:0000000000000000 $t
     /tmp/ccpX7xVZ.s:2096   .text.SDO_findsubindex:0000000000000000 SDO_findsubindex
     /tmp/ccpX7xVZ.s:2198   .text.SDO_findsubindex:0000000000000054 $d
     /tmp/ccpX7xVZ.s:2203   .text.SDO_findobject:0000000000000000 $t
     /tmp/ccpX7xVZ.s:2209   .text.SDO_findobject:0000000000000000 SDO_findobject
     /tmp/ccpX7xVZ.s:2259   .text.SDO_findobject:000000000000001c $d
     /tmp/ccpX7xVZ.s:2264   .text.complete_access_get_variables:0000000000000000 $t
     /tmp/ccpX7xVZ.s:2269   .text.complete_access_get_variables:0000000000000000 complete_access_get_variables
     /tmp/ccpX7xVZ.s:2350   .text.complete_access_get_variables:0000000000000040 $d
     /tmp/ccpX7xVZ.s:2357   .text.SDO_upload_complete_access:0000000000000000 $t
     /tmp/ccpX7xVZ.s:2362   .text.SDO_upload_complete_access:0000000000000000 SDO_upload_complete_access
     /tmp/ccpX7xVZ.s:2710   .text.SDO_upload_complete_access:00000000000001f0 $d
     /tmp/ccpX7xVZ.s:2720   .text.SDO_download_complete_access:0000000000000000 $t
     /tmp/ccpX7xVZ.s:2725   .text.SDO_download_complete_access:0000000000000000 SDO_download_complete_access
     /tmp/ccpX7xVZ.s:3070   .text.SDO_download_complete_access:00000000000001bc $d
     /tmp/ccpX7xVZ.s:3081   .text.SDO_upload:0000000000000000 $t
     /tmp/ccpX7xVZ.s:3086   .text.SDO_upload:0000000000000000 SDO_upload
     /tmp/ccpX7xVZ.s:3554   .text.SDO_upload:00000000000001f8 $d
ARM GAS  /tmp/ccpX7xVZ.s 			page 173


     /tmp/ccpX7xVZ.s:3565   .text.SDO_download:0000000000000000 $t
     /tmp/ccpX7xVZ.s:3570   .text.SDO_download:0000000000000000 SDO_download
     /tmp/ccpX7xVZ.s:4035   .text.SDO_download:00000000000001f8 $d
     /tmp/ccpX7xVZ.s:4048   .text.SDO_downloadsegment:0000000000000000 $t
     /tmp/ccpX7xVZ.s:4053   .text.SDO_downloadsegment:0000000000000000 SDO_downloadsegment
     /tmp/ccpX7xVZ.s:4322   .text.SDO_downloadsegment:000000000000013c $d
     /tmp/ccpX7xVZ.s:4333   .text.SDO_getod:0000000000000000 $t
     /tmp/ccpX7xVZ.s:4338   .text.SDO_getod:0000000000000000 SDO_getod
     /tmp/ccpX7xVZ.s:4614   .text.SDO_getod:0000000000000118 $d
     /tmp/ccpX7xVZ.s:4623   .text.SDO_geted:0000000000000000 $t
     /tmp/ccpX7xVZ.s:4628   .text.SDO_geted:0000000000000000 SDO_geted
     /tmp/ccpX7xVZ.s:4862   .text.SDO_geted:00000000000000d8 $d
     /tmp/ccpX7xVZ.s:4872   .text.sizeOfPDO:0000000000000000 $t
     /tmp/ccpX7xVZ.s:4878   .text.sizeOfPDO:0000000000000000 sizeOfPDO
     /tmp/ccpX7xVZ.s:5285   .text.sizeOfPDO:0000000000000184 $d
     /tmp/ccpX7xVZ.s:5290   .text.ESC_coeprocess:0000000000000000 $t
     /tmp/ccpX7xVZ.s:5296   .text.ESC_coeprocess:0000000000000000 ESC_coeprocess
     /tmp/ccpX7xVZ.s:5597   .text.ESC_coeprocess:0000000000000140 $d
     /tmp/ccpX7xVZ.s:5605   .text.COE_initDefaultValues:0000000000000000 $t
     /tmp/ccpX7xVZ.s:5611   .text.COE_initDefaultValues:0000000000000000 COE_initDefaultValues
     /tmp/ccpX7xVZ.s:5731   .text.COE_initDefaultValues:0000000000000064 $d
     /tmp/ccpX7xVZ.s:5737   .rodata.COE_pdoPack.str1.4:0000000000000000 $d
     /tmp/ccpX7xVZ.s:5741   .text.COE_pdoPack:0000000000000000 $t
     /tmp/ccpX7xVZ.s:5747   .text.COE_pdoPack:0000000000000000 COE_pdoPack
     /tmp/ccpX7xVZ.s:5868   .text.COE_pdoPack:000000000000006c $d
     /tmp/ccpX7xVZ.s:5875   .text.COE_pdoUnpack:0000000000000000 $t
     /tmp/ccpX7xVZ.s:5881   .text.COE_pdoUnpack:0000000000000000 COE_pdoUnpack
     /tmp/ccpX7xVZ.s:5996   .text.COE_pdoUnpack:0000000000000064 $d
     /tmp/ccpX7xVZ.s:6003   .text.COE_maxSub:0000000000000000 $t
     /tmp/ccpX7xVZ.s:6009   .text.COE_maxSub:0000000000000000 COE_maxSub
     /tmp/ccpX7xVZ.s:6060   .text.COE_maxSub:0000000000000024 $d
     /tmp/ccpX7xVZ.s:6065   .rodata.__func__.0:0000000000000000 $d
     /tmp/ccpX7xVZ.s:6069   .rodata.__func__.0:0000000000000000 __func__.0
     /tmp/ccpX7xVZ.s:6072   .rodata.__func__.1:0000000000000000 $d
     /tmp/ccpX7xVZ.s:6076   .rodata.__func__.1:0000000000000000 __func__.1
     /tmp/ccpX7xVZ.s:6079   .rodata.__func__.2:0000000000000000 $d
     /tmp/ccpX7xVZ.s:6083   .rodata.__func__.2:0000000000000000 __func__.2
     /tmp/ccpX7xVZ.s:477    .text.COE_setValue:0000000000000043 $d
     /tmp/ccpX7xVZ.s:477    .text.COE_setValue:0000000000000044 $t
     /tmp/ccpX7xVZ.s:2015   .text.COE_getValue:0000000000000045 $d
     /tmp/ccpX7xVZ.s:2015   .text.COE_getValue:0000000000000046 $t

UNDEFINED SYMBOLS
ESC_claimbuffer
ESCvar
MBX
MBXcontrol
SDOobjects
memcpy
ESC_upload_post_objecthandler
memset
__assert_func
ESC_upload_pre_objecthandler
ESC_download_pre_objecthandler
ESC_download_post_objecthandler
MBX_error
